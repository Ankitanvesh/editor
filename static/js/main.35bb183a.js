!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/editor/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(301),e.exports=n(349)},function(e,t,n){var r,i;(function(n){var a,o,s,l,u,c,f,d,p,h,m,g,y,v,b,_;!function(a){function o(e,t){return function(n,r){return e[n]=t?t(n,r):r}}var s="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[t],i=function(e){a(o(s,o(e)))}.apply(t,r),!(void 0!==i&&(e.exports=i))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};a=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n},l=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},u=function(e,t){return function(n,r){t(n,r,e)}},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})},d=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(r){n=[6,r],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},p=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e},y=function(e){return this instanceof y?(this.v=e,this):new y(e)},v=function(e,t,n){function r(e){c[e]&&(u[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{a(c[e](t))}catch(n){l(f[0][3],n)}}function a(e){e.value instanceof y?Promise.resolve(e.value.v).then(o,s):l(f[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function l(e,t){e(t),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,c=n.apply(e,t||[]),f=[];return u={},r("next"),r("throw"),r("return"),u[Symbol.asyncIterator]=function(){return this},u},b=function(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:y(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},_=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof h?h(e):e[Symbol.iterator]()},e("__extends",a),e("__assign",o),e("__rest",s),e("__decorate",l),e("__param",u),e("__metadata",c),e("__awaiter",f),e("__generator",d),e("__exportStar",p),e("__values",h),e("__read",m),e("__spread",g),e("__await",y),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",_)})}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}function i(e,t){var n=b(e);return t.forEach(function(e){delete n[e]}),n}function a(e){return O.isString(e)||O.isNumber(e)||_(e)?String(e):w(e)}function o(e,t){return e.indexOf(t)>-1}function s(e,t){return e.filter(function(e){return!o(t,e)})}function l(e,t){return e.concat(s(t,e))}function u(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function f(e){return[].concat.apply([],e)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=p(e,a)}return e}function p(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||O.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=d(O.isArray(t[n].constructor)?[]:{},t[n]):d(e[n],t[n]));return e}function h(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var s=o[a];n=t(s),n in i||(i[n]=1,r.push(s))}return r}function m(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function g(e,t){for(var n in e)if(n in t)return!0;return!1}function y(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function v(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function b(e){return JSON.parse(JSON.stringify(e))}function _(e){return e===!0||e===!1}function x(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function S(e,t){return k.isLogicalNot(e)?"!("+S(e.not,t)+")":k.isLogicalAnd(e)?"("+e.and.map(function(e){return S(e,t)}).join(") && (")+")":k.isLogicalOr(e)?"("+e.or.map(function(e){return S(e,t)}).join(") || (")+")":t(e)}Object.defineProperty(t,"__esModule",{value:!0});var w=n(63),O=n(15),k=n(658),E=n(15);t.extend=E.extend,t.isArray=E.isArray,t.isObject=E.isObject,t.isNumber=E.isNumber,t.isString=E.isString,t.truncate=E.truncate,t.toSet=E.toSet,t.stringValue=E.stringValue,t.pick=r,t.omit=i,t.hash=a,t.contains=o,t.without=s,t.union=l,t.some=u,t.every=c,t.flatten=f,t.mergeDeep=d,t.unique=h,t.differ=m,t.hasIntersection=g,t.differArray=y,t.keys=Object.keys,t.vals=v,t.duplicate=b,t.isBoolean=_,t.varName=x,t.logicalExpr=S},function(e,t,n){"use strict";function r(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}function i(e,t){var n=_(e);return t.forEach(function(e){delete n[e]}),n}function a(e){return k.isString(e)||k.isNumber(e)||x(e)?String(e):O(e)}function o(e,t){return e.indexOf(t)>-1}function s(e,t){return e.filter(function(e){return!o(t,e)})}function l(e,t){return e.concat(s(t,e))}function u(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function f(e){return[].concat.apply([],e)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=p(e,a)}return e}function p(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||k.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=d(k.isArray(t[n].constructor)?[]:{},t[n]):d(e[n],t[n]));return e}function h(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var s=o[a];n=t(s),n in i||(i[n]=1,r.push(s))}return r}function m(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function g(e,t){for(var n in e)if(n in t)return!0;return!1}function y(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function v(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function b(e){return t.keys(e)}function _(e){return JSON.parse(JSON.stringify(e))}function x(e){return e===!0||e===!1}function S(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function w(e,t){return E.isLogicalNot(e)?"!("+w(e.not,t)+")":E.isLogicalAnd(e)?"("+e.and.map(function(e){return w(e,t)}).join(") && (")+")":E.isLogicalOr(e)?"("+e.or.map(function(e){return w(e,t)}).join(") || (")+")":t(e)}Object.defineProperty(t,"__esModule",{value:!0});var O=n(63),k=n(15),E=n(171),M=n(15);t.extend=M.extend,t.isArray=M.isArray,t.isObject=M.isObject,t.isNumber=M.isNumber,t.isString=M.isString,t.truncate=M.truncate,t.toSet=M.toSet,t.stringValue=M.stringValue,t.pick=r,t.omit=i,t.hash=a,t.contains=o,t.without=s,t.union=l,t.some=u,t.every=c,t.flatten=f,t.mergeDeep=d,t.unique=h,t.differ=m,t.hasIntersection=g,t.differArray=y,t.keys=Object.keys,t.vals=v,t.flagKeys=b,t.duplicate=_,t.isBoolean=x,t.varName=S,t.logicalExpr=w},function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return!!p[e]}function i(e){return!!h[e]}function a(e,t){return t in o(e)}function o(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0};case t.TEXT:return{text:!0}}}function s(e){return!d.contains([t.DETAIL,t.TEXT,t.ORDER,t.TOOLTIP],e)}function l(e,n){switch(e){case t.ROW:case t.COLUMN:return"band"===n;case t.X:case t.Y:case t.SIZE:case t.OPACITY:return n in m;case t.COLOR:return"band"!==n;case t.SHAPE:return"ordinal"===n}return!1}function u(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}Object.defineProperty(t,"__esModule",{value:!0});var c,f=n(13),d=n(2);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip"}(c=t.Channel||(t.Channel={})),t.X=c.X,t.Y=c.Y,t.X2=c.X2,t.Y2=c.Y2,t.ROW=c.ROW,t.COLUMN=c.COLUMN,t.SHAPE=c.SHAPE,t.SIZE=c.SIZE,t.COLOR=c.COLOR,t.TEXT=c.TEXT,t.DETAIL=c.DETAIL,t.ORDER=c.ORDER,t.OPACITY=c.OPACITY,t.TOOLTIP=c.TOOLTIP,t.CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.ROW,t.COLUMN,t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP];var p=d.toSet(t.CHANNELS);t.SINGLE_DEF_CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.ROW,t.COLUMN,t.SIZE,t.SHAPE,t.COLOR,t.OPACITY,t.TEXT,t.TOOLTIP],t.isChannel=r,t.UNIT_CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP],t.SCALE_CHANNELS=[t.X,t.Y,t.SIZE,t.SHAPE,t.COLOR,t.OPACITY];var h=d.toSet(t.SCALE_CHANNELS);t.isScaleChannel=i,t.NONSPATIAL_CHANNELS=[t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP],t.SPATIAL_SCALE_CHANNELS=[t.X,t.Y],t.NONSPATIAL_SCALE_CHANNELS=[t.SIZE,t.SHAPE,t.COLOR,t.OPACITY],t.LEVEL_OF_DETAIL_CHANNELS=d.without(t.NONSPATIAL_CHANNELS,["order"]),t.STACK_BY_CHANNELS=[t.COLOR,t.DETAIL,t.ORDER,t.OPACITY,t.SIZE],t.supportMark=a,t.getSupportedMark=o,t.hasScale=s;var m=d.toSet(d.without(f.SCALE_TYPES,["ordinal","sequential"]));t.supportScaleType=l,t.rangeType=u},function(e,t,n){"use strict";function r(e){return!!p[e]}function i(e){return!!v[e]}function a(e,t){return t in o(e)}function o(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0};case t.TEXT:return{text:!0}}}function s(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}Object.defineProperty(t,"__esModule",{value:!0});var l,u=n(1),c=n(3);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip"}(l=t.Channel||(t.Channel={})),t.X=l.X,t.Y=l.Y,t.X2=l.X2,t.Y2=l.Y2,t.ROW=l.ROW,t.COLUMN=l.COLUMN,t.SHAPE=l.SHAPE,t.SIZE=l.SIZE,t.COLOR=l.COLOR,t.TEXT=l.TEXT,t.DETAIL=l.DETAIL,t.ORDER=l.ORDER,t.OPACITY=l.OPACITY,t.TOOLTIP=l.TOOLTIP;var f={x:1,y:1,x2:1,y2:1,size:1,shape:1,color:1,order:1,opacity:1,text:1,detail:1,tooltip:1},d={row:1,column:1},p=u.__assign({},f,d);t.CHANNELS=c.flagKeys(p);var h=(p.order,p.detail,u.__rest(p,["order","detail"]));t.SINGLE_DEF_CHANNELS=c.flagKeys(h),t.isChannel=r,t.UNIT_CHANNELS=c.flagKeys(f);var m=(f.x,f.y,f.x2,f.y2,u.__rest(f,["x","y","x2","y2"]));t.NONSPATIAL_CHANNELS=c.flagKeys(m);var g={x:1,y:1};t.SPATIAL_SCALE_CHANNELS=c.flagKeys(g);var y=(m.text,m.tooltip,m.detail,m.order,u.__rest(m,["text","tooltip","detail","order"]));t.NONSPATIAL_SCALE_CHANNELS=c.flagKeys(y);var v=u.__assign({},g,y);t.SCALE_CHANNELS=c.flagKeys(v),t.isScaleChannel=i,t.supportMark=a,t.getSupportedMark=o,t.rangeType=s},function(e,t,n){"use strict";function r(e){var t=d=new p;e(t),o()}function i(e){return function(){var t=d=new p;e(t),o()}}function a(e){return d=e}function o(){return d=f}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(15),f=c.logger(c.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.runLocalLogger=r,t.wrap=i,t.set=a,t.reset=o,t.warn=s,t.info=l,t.debug=u;var h;!function(e){function t(e){return'Cannot project a selection on encoding channel "'+e+'", which has no field.'}function n(e){return'Cannot find a selection named "'+e+'"'}function r(e){return'Unknown repeated value "'+e+'".'}function i(e){return'Cannot set title "anchor" for a '+e+" spec"}function a(e){return'Unrecognized parse "'+e+'".'}function o(e,t,n){return'An ancestor parsed field "'+e+'" as '+n+" but a child wants to parse the field as "+t+"."}function s(e){return"Ignoring an invalid transform: "+JSON.stringify(e)+"."}function l(e){return'Invalid field type "'+e+'"'}function u(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function c(e){return'Invalid aggregation operator "'+e+'"'}function f(e,t,n){return'Invalid field type "'+e+'" for channel "'+t+'", using "'+n+'" instead.'}function d(e,t){return"Dropping "+JSON.stringify(e)+' from channel "'+t+'" since it does not contain data field or value.'}function p(e,t,n){return e+' dropped as it is incompatible with "'+t+'"'+(n?" when "+n:"")+"."}function h(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function m(e,t){return'Using discrete channel "'+e+'" to encode "'+t+'" field can be misleading as it does not encode '+("ordinal"===t?"order":"magnitude")+"."}function g(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode continous fields. In this case, we use vertical by default'}function y(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode discrete or empty fields.'}function v(e,t){return'Specified orient "'+e+'" overridden with "'+t+'"'}function b(e){return'Cannot use the scale property "'+e+'" with non-color channel.'}function _(e){return"Using unaggregated domain with raw field has no effect ("+JSON.stringify(e)+")."}function x(e){return'Unaggregated domain not applicable for "'+e+'" since it produces values outside the origin domain of the source data.'}function S(e){return"Unaggregated domain is currently unsupported for log scale ("+JSON.stringify(e)+")."}function w(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function O(e){return'Cannot apply size to non-oriented mark "'+e+'".'}function k(e){return'rangeStep for "'+e+'" is dropped as top-level '+("x"===e?"width":"height")+" is provided."}function E(e,t,n){return'Channel "'+e+'" does not work with "'+t+'" scale. We are using "'+n+'" scale instead.'}function M(e,t){return'FieldDef does not work with "'+e+'" scale. We are using "'+t+'" scale instead.'}function T(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function P(e,t){return'Scale type "'+t+'" does not work with mark "'+e+'".'}function C(e,t,n,r){return"Conflicting "+t+' property "'+e+'" ("'+n+'" and "'+r+'").  Using "'+n+'".'}function D(e){return'Setting the scale to be independent for "'+e+'" means we also have to set the guide (axis or legend) to be independent.'}function A(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function N(e){return'Dropping sort property "'+JSON.stringify(e)+"\" as unioned domains only support boolean or op 'count'."}function R(e){return'Cannot stack "'+e+'" if there is already "'+e+'2"'}function I(e){return"Cannot stack non-linear scale ("+e+")"}function F(e){return'Cannot stack when the aggregate function is non-summative ("'+e+'")'}function L(e,t){return"Invalid "+e+': "'+t+'"'}function j(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function z(e){return"Dropping day from datetime "+JSON.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.cannotProjectOnChannelWithoutField=t,e.selectionNotFound=n,e.noSuchRepeatedValue=r,e.cannotSetTitleAnchor=i,e.unrecognizedParse=a,e.differentParse=o,e.invalidTransformIgnored=s,e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the the data from the secondary source.',e.invalidFieldType=l,e.invalidFieldTypeForCountAggregate=u,e.invalidAggregate=c,e.emptyOrInvalidFieldType=f,e.emptyFieldDef=d,e.incompatibleChannel=p,e.facetChannelShouldBeDiscrete=h,e.discreteChannelCannotEncode=m,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=g,e.unclearOrientDiscreteOrEmpty=y,e.orientOverridden=v,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=b,e.unaggregateDomainHasNoEffectForRawField=_,e.unaggregateDomainWithNonSharedDomainOp=x,e.unaggregatedDomainWithLogScale=S,e.CANNOT_USE_RANGE_WITH_POSITION='Cannot use a custom "range" with x or y channel.  Please customize width, height, padding, or rangeStep instead.',e.cannotUseSizeFieldWithBandSize=w,e.cannotApplySizeToNonOrientedMark=O,e.rangeStepDropped=k,e.scaleTypeNotWorkWithChannel=E,e.scaleTypeNotWorkWithFieldDef=M,e.scalePropertyNotWorkWithScaleType=T,e.scaleTypeNotWorkWithMark=P,e.mergeConflictingProperty=C,e.independentScaleMeansIndependentGuide=D,e.conflictedDomain=A,e.domainSortDropped=N,e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=R,e.cannotStackNonLinearScale=I,e.cannotStackNonSummativeAggregate=F,e.invalidTimeUnit=L,e.dayReplacedWithDate=j,e.droppedDay=z}(h=t.message||(t.message={}))},function(e,t,n){"use strict";function r(e){var t=d=new p;e(t),o()}function i(e){return function(){var t=d=new p;e(t),o()}}function a(e){return d=e}function o(){return d=f}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(15),f=c.logger(c.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.runLocalLogger=r,t.wrap=i,t.set=a,t.reset=o,t.warn=s,t.info=l,t.debug=u;var h;!function(e){function t(e){return"Cannot project a selection on encoding channel "+e+", which has no field."}function n(e){return'Cannot find a selection named "'+e+'"'}function r(e){return'Unknown repeated value "'+e+'".'}function i(e){return"Unrecognized parse "+e+"."}function a(e,t,n){return"An ancestor parsed field "+e+" as "+n+" but a child wants to parse the field as "+t+"."}function o(e){return"Ignoring an invalid transform: "+JSON.stringify(e)+"."}function s(e){return'Invalid field type "'+e+'"'}function l(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function u(e){return'Invalid aggregation operator "'+e+'"'}function c(e,t,n){return"Invalid field type ("+e+") for channel "+t+", using "+n+" instead."}function f(e,t){return"Dropping "+JSON.stringify(e)+" from channel "+t+" since it does not contain data field or value."}function d(e,t,n){return e+" dropped as it is incompatible with "+t+(n?" when "+n:"")+"."}function p(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function h(e,t){return"Using discrete channel "+e+" to encode "+t+" field can be misleading as it does not encode "+("ordinal"===t?"order":"magnitude")+"."}function m(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode continous fields. In this case, we use vertical by default"}function g(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode discrete or empty fields."}function y(e,t){return"Specified orient "+e+" overridden with "+t}function v(e){return"Cannot use "+e+" with non-color channel."}function b(e){return"Using unaggregated domain with raw field has no effect ("+JSON.stringify(e)+")."}function _(e){return"Unaggregated domain not applicable for "+e+" since it produces values outside the origin domain of the source data."}function x(e){return"Unaggregated domain is currently unsupported for log scale ("+JSON.stringify(e)+")."}function S(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function w(e){return"Cannot apply size to non-oriented mark "+e+"."}function O(e){return"rangeStep for "+e+" is dropped as top-level "+("x"===e?"width":"height")+" is provided."}function k(e,t,n){return"Channel "+e+" does not work with "+t+" scale. We are using "+n+" scale instead."}function E(e,t){return"FieldDef does not work with "+e+" scale. We are using "+t+" scale instead."}function M(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function T(e,t){return'Scale type "'+t+'" does not work with mark '+e+"."}function P(e,t,n,r){return"Conflicting "+t+" property "+e+" ("+n+" and "+r+").  Using "+n+"."}function C(e){return"Setting the scale to be independent for "+e+" means we also have to set the guide (axis or legend) to be independent."}function D(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function A(e){return"Cannot stack "+e+" if there is already "+e+"2"}function N(e){return"Cannot stack non-linear scale ("+e+")"}function R(e){return"Cannot stack when the aggregate function is non-summative ("+e+")"}function I(e,t){return"Invalid "+e+": "+t}function F(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function L(e){return"Dropping day from datetime "+JSON.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.cannotProjectOnChannelWithoutField=t,e.selectionNotFound=n,e.noSuchRepeatedValue=r,e.unrecognizedParse=i,e.differentParse=a,e.invalidTransformIgnored=o,e.NO_FIELDS_NEEDS_AS="If `from.fields` is not specified, `as` has to be a string that specifies the key to be used for the the data from the secondary source.",e.invalidFieldType=s,e.invalidFieldTypeForCountAggregate=l,e.invalidAggregate=u,e.emptyOrInvalidFieldType=c,e.emptyFieldDef=f,e.incompatibleChannel=d,e.facetChannelShouldBeDiscrete=p,e.discreteChannelCannotEncode=h,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=m,e.unclearOrientDiscreteOrEmpty=g,e.orientOverridden=y,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=v,e.unaggregateDomainHasNoEffectForRawField=b,e.unaggregateDomainWithNonSharedDomainOp=_,e.unaggregatedDomainWithLogScale=x,e.CANNOT_USE_RANGE_WITH_POSITION="Cannot use custom range with x or y channel.  Please customize width, height, padding, or rangeStep instead.",e.cannotUseSizeFieldWithBandSize=S,e.cannotApplySizeToNonOrientedMark=w,e.rangeStepDropped=O,e.scaleTypeNotWorkWithChannel=k,e.scaleTypeNotWorkWithFieldDef=E,e.scalePropertyNotWorkWithScaleType=M,e.scaleTypeNotWorkWithMark=T,e.mergeConflictingProperty=P,e.independentScaleMeansIndependentGuide=C,e.conflictedDomain=D,e.INVAID_DOMAIN="Invalid scale domain",e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=A,e.cannotStackNonLinearScale=N,e.cannotStackNonSummativeAggregate=R,e.invalidTimeUnit=I,e.dayReplacedWithDate=F,e.droppedDay=L}(h=t.message||(t.message={}))},function(e,t,n){"use strict";var r=n(34),i=r;e.exports=i},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&!P.isString(e)&&"repeat"in e}function i(e){return!!e&&!!e.condition}function a(e){return!!e&&!!e.condition&&o(e.condition)}function o(e){return!(!e||!e.field&&"count"!==e.aggregate)}function s(e){return e&&"value"in e&&void 0!==e.value}function l(e){return!(!e||!e.scale&&!e.sort)}function u(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(d(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=O.binToString(e.bin),i=t.binSuffix||""):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=t.expr+"["+P.stringValue(n)+"]"),n}function c(e){switch(e.type){case"nominal":case"ordinal":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(E.message.invalidFieldType(e.type))}function f(e){return!c(e)}function d(e){return"count"===e.aggregate}function p(e,t){if(d(e))return t.countTitle;var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function h(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(k.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function m(e){return o(e)?e:a(e)?e.condition:void 0}function g(e,t){return o(e)?y(e,t):a(e)?S.__assign({},e,{condition:y(e.condition,t)}):e}function y(e,t){if(e.aggregate&&!w.isAggregateOp(e.aggregate)){var n=(e.aggregate,S.__rest(e,["aggregate"]));E.warn(E.message.invalidAggregate(e.aggregate)),e=n}if(e.timeUnit&&(e=S.__assign({},e,{timeUnit:M.normalizeTimeUnit(e.timeUnit)})),e.bin&&(e=S.__assign({},e,{bin:v(e.bin,t)})),e.type){var r=T.getFullName(e.type);e.type!==r&&(e=S.__assign({},e,{type:r})),"quantitative"!==e.type&&w.isCountingAggregateOp(e.aggregate)&&(E.warn(E.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=S.__assign({},e,{type:"quantitative"}))}else{var i=h(e,t);E.warn(E.message.emptyOrInvalidFieldType(e.type,t,i)),e=S.__assign({},e,{type:i})}var a=b(e,t),o=a.compatible,s=a.warning;return o||E.warn(s),e}function v(e,t){return P.isBoolean(e)?{maxbins:O.autoMaxBins(t)}:e.maxbins||e.step?e:S.__assign({},e,{maxbins:O.autoMaxBins(t)})}function b(e,t){switch(t){case"row":case"column":return f(e)&&!e.timeUnit?{compatible:!1,warning:E.message.facetChannelShouldBeDiscrete(t)}:C;case"x":case"y":case"color":case"text":case"detail":case"tooltip":return C;case"opacity":case"size":case"x2":case"y2":return c(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:C;case"shape":return"nominal"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data only"}:C;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."
}:C}throw new Error("channelCompatability not implemented for channel "+t)}function _(e){return"quantitative"===e.type||!!e.bin}function x(e){return"temporal"===e.type||!!e.timeUnit}Object.defineProperty(t,"__esModule",{value:!0});var S=n(1),w=n(85),O=n(105),k=n(6),E=n(7),M=n(73),T=n(48),P=n(3);t.isRepeatRef=r,t.isConditionalDef=i,t.hasConditionFieldDef=a,t.isFieldDef=o,t.isValueDef=s,t.isScaleFieldDef=l,t.field=u,t.isDiscrete=c,t.isContinuous=f,t.isCount=d,t.title=p,t.defaultType=h,t.getFieldDef=m,t.normalize=g,t.normalizeFieldDef=y,t.normalizeBin=v;var C={compatible:!0};t.channelCompatibility=b,t.isNumberFieldDef=_,t.isTimeFieldDef=x},function(e,t,n){"use strict";function r(e){return _[e]}function i(e,t){return _[e]===_[t]}function a(e){return x[e]}function o(e){return e in O}function s(e){return e in k}function l(e){return e in w}function u(e){return e in S}function c(e){return e&&!!e.name}function f(e){return e&&e.selection}function d(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return b.contains(["sequential","ordinal","bin-ordinal","quantile","quantize"],e);case"interpolate":return b.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return u(e)||"band"===e||"point"===e;case"rangeStep":case"padding":case"paddingOuter":return b.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return u(e)||"sequential"===e;case"nice":return u(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"zero":return l(e)&&!b.contains(["log","time","utc","bin-linear","threshold","quantile"],e)}throw new Error("Invalid scale property "+t+".")}function p(e,t){switch(t){case"range":if("x"===e||"y"===e)return v.message.CANNOT_USE_RANGE_WITH_POSITION;return;case"interpolate":case"scheme":if("color"!==e)return v.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+t+'".')}function h(e,t){switch(e){case y.Channel.X:case y.Channel.Y:case y.Channel.SIZE:case y.Channel.OPACITY:return u(t)||b.contains(["band","point"],t);case y.Channel.COLOR:return"band"!==t;case y.Channel.SHAPE:return"ordinal"===t}return!1}Object.defineProperty(t,"__esModule",{value:!0});var m,g=n(1),y=n(6),v=n(7),b=n(3);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(m=t.ScaleType||(t.ScaleType={}));var _={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.SCALE_TYPES=b.keys(_),t.getScaleCategory=r,t.scaleCompatible=i;var x={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:0,band:1,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=a,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var S=b.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var w=b.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var O=b.toSet(t.DISCRETE_DOMAIN_SCALES),k=b.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=o,t.isBinScale=s,t.hasContinuousDomain=l,t.isContinuousToContinuous=u,t.defaultScaleConfig={round:!0,textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4},t.isExtendedScheme=c,t.isSelectionDomain=f;var E={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1};t.SCALE_PROPERTIES=b.flagKeys(E);var M=(E.type,E.domain,E.range,E.rangeStep,E.scheme,g.__rest(E,["type","domain","range","rangeStep","scheme"]));t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=b.flagKeys(M),t.scaleTypeSupportProperty=d,t.channelScalePropertyIncompatability=p,t.channelSupportScaleType=h},function(e,t,n){"use strict";function r(e){return y[e]}function i(e,t){return y[e]===y[t]}function a(e){return v[e]}function o(e){return e in x}function s(e){return e in S}function l(e){return e in _}function u(e){return e in b}function c(e){return e&&!!e.name}function f(e){return e&&e.selection}function d(e,t){switch(t){case"type":case"domain":case"reverse":case"range":case"scheme":return!0;case"interpolate":return g.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return u(e)||"band"===e||"point"===e;case"rangeStep":case"padding":case"paddingOuter":return g.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return u(e)||"sequential"===e;case"nice":return u(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e||"log"===e;case"zero":return"bin-ordinal"===e||!o(e)&&!g.contains(["log","time","utc","bin-linear"],e)}throw new Error("Invalid scale property "+t+".")}function p(e,t){switch(t){case"range":if("x"===e||"y"===e)return m.message.CANNOT_USE_RANGE_WITH_POSITION;return;case"interpolate":case"scheme":if("color"!==e)return m.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "${propName}".')}Object.defineProperty(t,"__esModule",{value:!0});var h,m=n(8),g=n(2);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(h=t.ScaleType||(t.ScaleType={})),t.SCALE_TYPES=["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"];var y={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.getScaleCategory=r,t.scaleCompatible=i;var v={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:0,band:1,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=a,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var b=g.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var _=g.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var x=g.toSet(t.DISCRETE_DOMAIN_SCALES),S=g.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=o,t.isBinScale=s,t.hasContinuousDomain=l,t.isContinuousToContinuous=u,t.defaultScaleConfig={round:!0,textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,shapes:["circle","square","cross","diamond","triangle-up","triangle-down"]},t.isExtendedScheme=c,t.isSelectionDomain=f,t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=["reverse","round","clamp","nice","exponent","interpolate","zero","padding","paddingInner","paddingOuter"],t.SCALE_PROPERTIES=[].concat(["type","domain","range","rangeStep","scheme"],t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES),t.scaleTypeSupportProperty=d,t.channelScalePropertyIncompatability=p},function(e,t,n){"use strict";function r(e){return e&&!M.isString(e)&&"repeat"in e}function i(e){return!!e&&!!e.condition}function a(e){return!!e&&!!e.condition&&o(e.condition)}function o(e){return!(!e||!e.field&&"count"!==e.aggregate)}function s(e){return e&&"value"in e&&void 0!==e.value}function l(e){return!(!e||!e.scale&&!e.sort)}function u(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(d(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=S.binToString(e.bin),i=t.binSuffix):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=t.expr+"["+M.stringValue(n)+"]"),n}function c(e){switch(e.type){case"nominal":case"ordinal":return!0;case"quantitative":return!!e.bin;case"temporal":return k.isDiscreteByDefault(e.timeUnit)}throw new Error(O.message.invalidFieldType(e.type))}function f(e){return!c(e)}function d(e){return"count"===e.aggregate}function p(e,t){if(d(e))return t.countTitle;var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function h(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(w.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function m(e){return o(e)?e:a(e)?e.condition:void 0}function g(e,t){return o(e)?y(e,t):a(e)?_.__assign({},e,{condition:y(e.condition,t)}):e}function y(e,t){if(e.aggregate&&!x.AGGREGATE_OP_INDEX[e.aggregate]){var n=(e.aggregate,_.__rest(e,["aggregate"]));O.warn(O.message.invalidAggregate(e.aggregate)),e=n}if(e.bin&&(e=_.__assign({},e,{bin:v(e.bin,t)})),e.type){var r=E.getFullName(e.type);e.type!==r&&(e=_.__assign({},e,{type:r})),x.isCountingAggregateOp(e.aggregate)&&"quantitative"!==e.type&&(O.warn(O.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=_.__assign({},e,{type:"quantitative"}))}else{var i=h(e,t);O.warn(O.message.emptyOrInvalidFieldType(e.type,t,i)),e=_.__assign({},e,{type:i})}var a=b(e,t),o=a.compatible,s=a.warning;return o||O.warn(s),e}function v(e,t){return M.isBoolean(e)?{maxbins:S.autoMaxBins(t)}:e.maxbins||e.step?e:_.__assign({},e,{maxbins:S.autoMaxBins(t)})}function b(e,t){switch(t){case"row":case"column":return f(e)&&!e.timeUnit?{compatible:!1,warning:O.message.facetChannelShouldBeDiscrete(t)}:T;case"x":case"y":case"color":case"text":case"detail":case"tooltip":return T;case"opacity":case"size":case"x2":case"y2":return c(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:T;case"shape":return"nominal"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data only"}:T;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:T}throw new Error("channelCompatability not implemented for channel "+t)}Object.defineProperty(t,"__esModule",{value:!0});var _=n(1),x=n(89),S=n(90),w=n(5),O=n(8),k=n(59),E=n(33),M=n(2);t.isRepeatRef=r,t.isConditionalDef=i,t.hasConditionFieldDef=a,t.isFieldDef=o,t.isValueDef=s,t.isScaleFieldDef=l,t.field=u,t.isDiscrete=c,t.isContinuous=f,t.isCount=d,t.title=p,t.defaultType=h,t.getFieldDef=m,t.normalize=g,t.normalizeFieldDef=y,t.normalizeBin=v;var T={compatible:!0};t.channelCompatibility=b},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return null==e?null:e.fname}function n(e){return null==e?null:e.fields}function r(e){return u(e)?"["+e.map(r)+"]":c(e)||f(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function i(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function a(e){return j(e)?e:L(e)?e:Date.parse(e)}var o=function(e,t,n){return e.fields=t||[],e.fname=n,e},s=function(e){throw Error(e)},l=function(e){function t(){a.push(c+e.substring(n,r)),c="",n=r+1}var n,r,i,a=[],o=null,l=0,u=e.length,c="";for(e+="",n=r=0;r<u;++r)if(i=e[r],"\\"===i)c+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,l=-1;else{if(o)continue;n===l&&'"'===i?(n=r+1,o=i):n===l&&"'"===i?(n=r+1,o=i):"."!==i||l?"["===i?(r>n&&t(),l=n=r+1):"]"===i&&(l||s("Access path missing open bracket: "+e),l>0&&t(),l=0,n=r+1):r>n?t():n=r+1}return l&&s("Access path missing closing bracket: "+e),o&&s("Access path missing closing quote: "+e),r>n&&(r++,t()),a},u=Array.isArray,c=function(e){return e===Object(e)},f=function(e){return"string"==typeof e},d=function(e,t){var n=l(e),i="return _["+n.map(r).join("][")+"];";return o(Function("_",i),[e=1===n.length?n[0]:e],t||e)},p=[],h=d("id"),m=o(function(e){return e},p,"identity"),g=o(function(){return 0},p,"zero"),y=o(function(){return 1},p,"one"),v=o(function(){return!0},p,"true"),b=o(function(){return!1},p,"false"),_=0,x=1,S=2,w=3,O=4,k=function(e){var t=e||_;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=x&&i("error","ERROR",arguments),this},warn:function(){return t>=S&&i("warn","WARN",arguments),this},info:function(){return t>=w&&i("log","INFO",arguments),this},debug:function(){return t>=O&&i("log","DEBUG",arguments),this}}},E=function(e){return null!=e?u(e)?e:[e]:[]},M=function(e){return"function"==typeof e},T=function(e,t){var i,a,s,u,c,f,d,p,h,m=[],g=(e=E(e)).map(function(e,t){return null==e?null:(m.push(t),M(e)?e:l(e).map(r).join("]["))}),y=m.length-1,v=E(t),b="var u,v;return ";if(y<0)return null;for(a=0;a<=y;++a)i=m[a],s=g[i],M(s)?(f="f"+i,u="(u=this."+f+"(a))",c="(v=this."+f+"(b))",(d=d||{})[f]=s):(u="(u=a["+s+"])",c="(v=b["+s+"])"),f="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==v[i]?(h=1,p=-1):(h=-1,p=1),b+="("+u+"<"+c+"||u==null)&&v!=null?"+p+":(u>v||v==null)&&u!=null?"+h+":"+f+"!==u&&v===v?"+p+":v!==v&&u===u?"+h+(i<y?":":":0");return s=Function("a","b",b+";"),d&&(s=s.bind(d)),e=e.reduce(function(e,t){return M(t)?(n(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),o(s,Object.keys(e))},P=function(e){return M(e)?e:function(){return e}},C=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},D=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},A=function(e,t){var n,r,i,a,o,s=-1,l=e.length;if(null==t){for(;++s<l;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<l;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},N={},R=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==N}var n,r,i={};return n={size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===N&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=N),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===N||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},I=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},F=function(e){return"boolean"==typeof e},L=function(e){return"[object Date]"===Object.prototype.toString.call(e)},j=function(e){return"number"==typeof e},z=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},$=function(e){e=e?E(e):e;var t=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+l(e).map(r).join("][")+"]"}).join("+'|'+")+";"):function(){return""};return o(t,e,"key")},U=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,l=0,u=0;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o},B=function(e,t){for(var n="";--t>=0;)n+=e;return n},q=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?B(i,o)+a:"center"===r?B(i,~~(o/2))+a+B(i,Math.ceil(o/2)):a+B(i,o)},W=function(e){return e[e.length-1]},V=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},H=function(e,t){return t=t||a,null==e||""===e?null:t(e)},G=function(e){return null==e||""===e?null:+e},Y=function(e){return null==e||""===e?null:e+""},X=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t},K=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},Q=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};e.accessor=o,e.accessorName=t,e.accessorFields=n,e.id=h,e.identity=m,e.zero=g,e.one=y,e.truthy=v,e.falsy=b,e.logger=k,e.None=_,e.Error=x,e.Warn=S,e.Info=w,e.Debug=O,e.array=E,e.compare=T,e.constant=P,e.debounce=C,e.error=s,e.extend=D,e.extentIndex=A,e.fastmap=R,e.field=d,e.inherits=I,e.isArray=u,e.isBoolean=F,e.isDate=L,e.isFunction=M,e.isNumber=j,e.isObject=c,e.isRegExp=z,e.isString=f,e.key=$,e.merge=U,e.pad=q,e.peek=W,e.repeat=B,e.splitAccessPath=l,e.stringValue=r,e.toBoolean=V,e.toDate=H,e.toNumber=G,e.toString=Y,e.toSet=X,e.truncate=K,e.visitArray=Q,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";e.exports=n(69)},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function a(e,t){var n=i(e);n._hostNode=t,t[g]=n}function o(e){var t=e._hostNode;t&&(delete t[g],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var l=n[s],u=i(l)._domID;if(0!==u){for(;null!==o;o=o.nextSibling)if(r(o,u)){a(l,o);continue e}f("32",u)}}e._flags|=m.hasCachedChildNodes}}function l(e){if(e[g])return e[g];for(var t=[];!e[g];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[g]);e=t.pop())n=r,t.length&&s(r,e);return n}function u(e){var t=l(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?f("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:f("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var f=n(10),d=n(65),p=n(220),h=(n(4),d.ID_ATTRIBUTE_NAME),m=p,g="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:l,getInstanceFromNode:u,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:a,uncacheNode:o};e.exports=y},function(e,t,n){e.exports=n(447)()},function(e,t,n){"use strict";function r(e,t,n,r,i,a){if(v.isFacetSpec(e))return new w.FacetModel(e,t,n,i,a);if(v.isLayerSpec(e))return new O.LayerModel(e,t,n,r,i,a);if(v.isUnitSpec(e))return new E.UnitModel(e,t,n,r,i,a);if(v.isRepeatSpec(e))return new k.RepeatModel(e,t,n,i,a);if(v.isConcatSpec(e))return new S.ConcatModel(e,t,n,i,a);throw new Error(g.message.INVALID_SPEC)}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function a(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.markDef,t.config);void 0!==s&&(e[a]={value:s})}return e}function o(e,t,n){if(t.role){var r=n[t.role];if(r&&void 0!==r[e])return r[e]}else{var i=n[t.type];if(void 0!==i[e])return i[e]}return n.mark[e]}function s(e,t,n,r,i){if("quantitative"===e.type){var a=u(e,t,r);return e.bin?i?{signal:m.field(e,{expr:n,binSuffix:"range"})}:{signal:c(m.field(e,{expr:n,binSuffix:"start"}),a)+" + '-' + "+c(m.field(e,{expr:n,binSuffix:"end"}),a)}:{signal:""+c(m.field(e,{expr:n}),a)}}if("temporal"===e.type){var o=m.isScaleFieldDef(e)&&e.scale&&e.scale.type===y.ScaleType.UTC;return{signal:d(m.field(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,o)}}return{signal:m.field(e,{expr:n})}}function l(e,t){return void 0!==e?e:t}function u(e,t,n){if(e.type===_.QUANTITATIVE)return t?t:n.numberFormat}function c(e,t){return"format("+e+", '"+(t||"")+"')"}function f(e,t,n){return c(e,t||n.numberFormat)}function d(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return b.formatExpression(t,e,r,a)}function p(e){return(x.isArray(e)?e:[e]).reduce(function(e,t){return e.field.push(m.field(t,{binSuffix:"start"})),e.order.push(t.sort||"ascending"),e},{field:[],order:[]})}function h(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(14),g=n(8),y=n(13),v=n(95),b=n(59),_=n(33),x=n(2),S=n(285),w=n(118),O=n(93),k=n(120),E=n(39);t.buildModel=r,t.applyConfig=i,t.applyMarkConfig=a,t.getMarkConfig=o,t.formatSignalRef=s,t.getSpecifiedOrDefaultValue=l,t.numberFormat=u,t.numberFormatExpr=f,t.timeFormatExpression=d,t.sortParams=p,t.titleMerger=h},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)a.call(r,c)&&(l[c]=r[c]);if(i){s=i(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(l[s[f]]=r[s[f]])}}return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){var n=t[e];n.parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){var i=r[n];i.parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=i;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return r.__extends(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(i);t.OutputNode=a},function(e,t,n){"use strict";function r(e){return e&&"unit"===e.type}function i(e){return e&&"facet"===e.type}function a(e){return e&&"repeat"===e.type}function o(e){return e&&"concat"===e.type}function s(e){return e&&"layer"===e.type}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=n(15),c=n(6),f=n(30),d=n(11),p=n(7),h=n(12),m=n(282),g=n(115),y=n(3),v=n(41),b=n(578),_=n(272),x=n(110),S=n(587),w=n(273),O=n(275),k=n(600),E=n(87),M=n(602),T=n(37),P=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=P,t.isUnitModel=r,t.isFacetModel=i,t.isRepeatModel=a,t.isConcatModel=o,t.isLayerModel=s;var C=function(){function e(e,t,n,r,i){var a=this;this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=a.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=a.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=r,this.name=e.name||n,this.title=u.isString(e.title)?{text:e.title}:e.title,this.scaleNameMap=t?t.scaleNameMap:new P,this.layoutSizeNameMap=t?t.layoutSizeNameMap:new P,this.data=e.data,this.description=e.description,this.transforms=g.normalizeTransform(e.transform||[]),this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?l.__assign({},t.component.data.ancestorParse):{}},layoutSize:new T.Split,layoutHeaders:{row:{},column:{}},mark:null,resolve:l.__assign({scale:{},axis:{},legend:{}},i||{}),selection:null,scales:null,axes:{},legends:{}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.getSizeSignalRef("width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getSizeSignalRef("height")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseMarkDef(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){M.parseScale(this)},e.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},e.prototype.parseMarkDef=function(){O.parseMarkDef(this)},e.prototype.parseLegend=function(){w.parseLegend(this)},e.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type)return"cell"},e.prototype.assembleLayoutSize=function(){if("unit"===this.type||"layer"===this.type)return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=_.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(_.getTitleGroup(this,i))}for(var a=0,o=_.HEADER_CHANNELS;a<o.length;a++)for(var i=o[a],s=e[i],l=0,u=_.HEADER_TYPES;l<u.length;l++){var c=u[l];if(s[c])for(var f=0,d=s[c];f<d.length;f++){var p=d[f],h=_.getHeaderGroup(this,i,c,s,p);h&&t.push(h)}}return t},e.prototype.assembleAxes=function(){return b.assembleAxes(this.component.axes)},e.prototype.assembleLegends=function(){return S.assembleLegends(this)},e.prototype.assembleTitle=function(){var e=l.__assign({},m.extractTitleConfig(this.config.title).nonMark,this.title);if(e.text)return y.contains(["unit","layer"],this.type)||(e.anchor&&"start"!==e.anchor&&p.warn(p.message.cannotSetTitleAnchor(this.type)),e.anchor="start"),y.keys(e).length>0?e:void 0},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||i(this.parent)?k.assembleScales(this):[];r.length>0&&(t.scales=r);var a=this.assembleAxes();a.length>0&&(t.axes=a);var o=this.assembleLegends();return o.length>0&&(t.legends=o),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var i=n[t];if(r(i)){if(i.channelHasField(e))return!0}else if(i.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return y.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){if(i(this.parent)){var t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),a=n.get("range");if(h.hasDiscreteDomain(r)&&v.isVgRangeStep(a)){var o=n.get("name"),s=E.getFieldFromDomains(n.domains),l=d.field({aggregate:"distinct",field:s},{expr:"datum"});return{signal:x.sizeExpr(o,n,l)}}}}return{signal:this.layoutSizeNameMap.get(this.getName(e))}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.getSizeName=function(e){return this.layoutSizeNameMap.get(e)},e.prototype.renameLayoutSize=function(e,t){this.layoutSizeNameMap.rename(e,t)},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):c.isChannel(e)&&c.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(p.message.selectionNotFound(t));return n},e}();t.Model=C;var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return d.field(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return f.reduce(this.getMapping(),function(t,n,r){var i=d.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){f.forEach(this.getMapping(),function(t,n){var r=d.getFieldDef(t);r&&e(r,n)},t)},t}(C);t.ModelWithField=D},function(e,t,n){"use strict";function r(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var s in o)"encodings"===s&&a.fields||"fields"===s&&a.encodings||("mark"===s&&(a[s]=b.__assign({},o[s],a[s])),void 0!==a[s]&&a[s]!==!0||(a[s]=o[s]||a[s]));i=O.varName(i);var l=n[i]=O.extend({},a,{name:i,events:O.isString(a.on)?_.selector(a.on,"scope"):a.on});P.forEachTransform(l,function(t){t.parse&&t.parse(e,a,l)})};for(var a in t)i(a);return n}function i(e,n){d(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),P.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+O.stringValue(r.name+t.STORE)+", "+o+")"}]})});var r=h(e);if(n.length&&r){var i=O.stringValue(r.getName("cell"));n.unshift({name:"facet",value:{},on:[{events:_.selector("mousemove","scope"),update:"isTuple(facet) ? facet : group("+i+").datum"}]})}return n}function a(e,t){var n=!1;if(d(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),P.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t));
}),n=!0}),n){var r=t.filter(function(e){return"unit"===e.name});r.length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return t}function o(e,n){return d(e,function(e){var r=n.filter(function(n){return n.name===e.name+t.STORE});r.length||n.push({name:e.name+t.STORE})}),n}function s(e,t){var n=t;return d(e,function(r,i){n=i.marks?i.marks(e,r,n):n,P.forEachTransform(r,function(i){i.marks&&(n=i.marks(e,r,t,n))})}),n}function l(e,t){return e.children.forEach(function(e){k.isUnitModel(e)&&(t=s(e,t))}),t}function u(e,n,r){function i(n){var i=O.varName(n),o=e.getSelectionComponent(i,n),s=O.stringValue(i+t.STORE);if(o.timeUnit){var l=r||e.component.data.raw,u=o.timeUnit.clone();l.parent?u.insertAsParentOf(l):l.parent=u}return a.push(s),p(o.type).predicate+("("+s+", datum")+("global"===o.resolve?")":", "+O.stringValue(o.resolve)+")")}var a=[],o=O.logicalExpr(n,i);return"!("+a.map(function(e){return"length(data("+e+"))"}).join(" || ")+(") || ("+o+")")}function c(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function f(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=O.varName(r.selection),a=e.component.selection&&e.component.selection[i];return a?(S.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}):(a=e.getSelectionComponent(i,r.selection),r.encoding||r.field||(r.field=a.project[0].field,a.project.length>1&&S.warn('A "field" or "encoding" must be specified when using a selection as a scale domain. '+('Using "field": '+O.stringValue(r.field)+"."))),{signal:p(a.type).scaleDomain+("("+O.stringValue(i+t.STORE)+", "+O.stringValue(r.encoding||null)+", ")+O.stringValue(r.field||null)+("global"===a.resolve?")":", "+O.stringValue(a.resolve)+")")})}function d(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,p(i.type))}}function p(e){switch(e){case"single":return T.default;case"multi":return M.default;case"interval":return E.default}return null}function h(e){for(var t=e.parent;t&&!k.isFacetModel(t);)t=t.parent;return t}function m(e){var t=O.stringValue(e.name),n=h(e);return n&&(t+=(n.facet.row?" + '_' + facet["+O.stringValue(n.field("row"))+"]":"")+(n.facet.column?" + '_' + facet["+O.stringValue(n.field("column"))+"]":"")),t}function g(e){var t=!1;return d(e,function(e){t=t||e.project.some(function(e){return e.field===w.SELECTION_ID})}),t}function y(e,t,n){return O.varName(e.name+"_"+("visual"===n?t:e.fields[t]))}function v(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.channel===x.X?(t=e,n=a):e.channel===x.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}Object.defineProperty(t,"__esModule",{value:!0});var b=n(1),_=n(71),x=n(6),S=n(7),w=n(172),O=n(3),k=n(22),E=n(167),M=n(279),T=n(604),P=n(608);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=r,t.assembleUnitSelectionSignals=i,t.assembleTopLevelSignals=a,t.assembleUnitSelectionData=o,t.assembleUnitSelectionMarks=s,t.assembleLayerSelectionMarks=l,t.predicate=u,t.isRawSelectionDomain=c,t.selectionScaleDomain=f,t.unitName=m,t.requiresSelectionId=g,t.channelSignalName=y,t.spatialProjections=v},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var s in o)"encodings"===s&&a.fields||"fields"===s&&a.encodings||("mark"===s&&(a[s]=y.__assign({},o[s],a[s])),void 0!==a[s]&&a[s]!==!0||(a[s]=o[s]||a[s]));i=x.varName(i);var l=n[i]=x.extend({},a,{name:i,events:x.isString(a.on)?v.selector(a.on,"scope"):a.on});M.forEachTransform(l,function(t){t.parse&&t.parse(e,a,l)})};for(var a in t)i(a);return n}function i(e,n){return d(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),M.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+x.stringValue(r.name+t.STORE)+", "+o+")"}]})}),n}function a(e,t){var n=!1;if(d(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),M.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n){var r=t.filter(function(e){return"unit"===e.name});r.length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"group()._id ? group() : unit"}]})}return t}function o(e,n){return d(e,function(e){var r=n.filter(function(n){return n.name===e.name+t.STORE});r.length||n.push({name:e.name+t.STORE})}),n}function s(e,t){var n=!1,r=t;return d(e,function(i,a){r=a.marks?a.marks(e,i,r):r,M.forEachTransform(i,function(a){n=n||a.clipGroup,a.marks&&(r=a.marks(e,i,t,r))})}),e.parent&&e.parent instanceof S.LayerModel?[r,m]:n?m(r):r}function l(e,t){var n=!1;return e.children.forEach(function(e){if(e instanceof w.UnitModel){var r=s(e,t);t=r[0],n=n||r[1]}}),n?m(t):t}function u(e,n,r){function i(n){var i=x.varName(n),a=e.getSelectionComponent(i,n),o=x.stringValue(i+t.STORE),s=T[a.resolve];if(a.timeUnit){var l=r||e.component.data.main,u=a.timeUnit.clone();l.parent?u.insertAsParentOf(l):l.parent=u}return p(a.type).predicate+("("+o+", "+x.stringValue(e.getName(""))+", datum, "+s+")")}return x.logicalExpr(n,i)}function c(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function f(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=x.varName(r.selection),a=e.component.selection&&e.component.selection[i];return a?(_.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}):(a=e.getSelectionComponent(i,r.selection),r.encoding||r.field||(r.field=a.project[0].field,a.project.length>1&&_.warn('A "field" or "encoding" must be specified when using a selection as a scale domain. '+('Using "field": '+x.stringValue(r.field)+"."))),{signal:p(a.type).scaleDomain+("("+x.stringValue(i+t.STORE)+", "+x.stringValue(r.encoding||null)+", ")+(x.stringValue(r.field||null)+", "+T[a.resolve]+")")})}function d(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,p(i.type))}}function p(e){switch(e){case"single":return E.default;case"multi":return k.default;case"interval":return O.default}return null}function h(e,t,n){return x.varName(e.name+"_"+("visual"===n?t:e.fields[t]))}function m(e){return e.map(function(e){return e.clip=!0,e})}function g(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.channel===b.X?(t=e,n=a):e.channel===b.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}Object.defineProperty(t,"__esModule",{value:!0});var y=n(1),v=n(71),b=n(5),_=n(8),x=n(2),S=n(93),w=n(39),O=n(178),k=n(298),E=n(645),M=n(649);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=r,t.assembleUnitSelectionSignals=i,t.assembleTopLevelSignals=a,t.assembleUnitSelectionData=o,t.assembleUnitSelectionMarks=s,t.assembleLayerSelectionMarks=l;var T={global:'"union", "all"',independent:'"intersect", "unit"',union:'"union", "all"',union_others:'"union", "others"',intersect:'"intersect", "all"',intersect_others:'"intersect", "others"'};t.predicate=u,t.isRawSelectionDomain=c,t.selectionScaleDomain=f,t.channelSignalName=h,t.spatialProjections=g},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){var n=t[e];n.parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){var i=r[n];i.parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=i;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return r.__extends(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e.type=this.type,e.refCounts=this.refCounts,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(i);t.OutputNode=a},function(e,t,n){"use strict";function r(e){return e.type}function i(e){var t=r(e)?e.type:e;return t in s}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square"}(a=t.Mark||(t.Mark={})),t.AREA=a.AREA,t.BAR=a.BAR,t.LINE=a.LINE,t.POINT=a.POINT,t.TEXT=a.TEXT,t.TICK=a.TICK,t.RECT=a.RECT,t.RULE=a.RULE,t.CIRCLE=a.CIRCLE,t.SQUARE=a.SQUARE,t.PRIMITIVE_MARKS=[t.AREA,t.BAR,t.LINE,t.POINT,t.TEXT,t.TICK,t.RECT,t.RULE,t.CIRCLE,t.SQUARE],t.isMarkDef=r;var s=o.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=i,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:2},t.defaultTickConfig={thickness:1}},function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.markDef,t.config);void 0!==s&&(e[a]={value:s})}return e}function a(e){return e.style?_.isArray(e.style)?e.style:[e.style]:[e.type]}function o(e,t,n){var r=n.mark[e],i=n[t.type];void 0!==i[e]&&(r=i[e]);for(var o=a(t),s=0,l=o;s<l.length;s++){var u=l[s],c=n.style[u],f=e;c&&void 0!==c[f]&&(r=c[f])}return r}function s(e,t,n,r,i){var a=u(e,t,r);if(e.bin){if(i)return{signal:g.field(e,{expr:n,binSuffix:"range"})};var o=g.field(e,{expr:n}),s=g.field(e,{expr:n,binSuffix:"end"});return{signal:d(o,s,a,r)}}if("quantitative"===e.type)return{signal:""+c(g.field(e,{expr:n}),a)};if(g.isTimeFieldDef(e)){var l=g.isScaleFieldDef(e)&&e.scale&&e.scale.type===y.ScaleType.UTC;return{signal:p(g.field(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,l)}}return{signal:"''+"+g.field(e,{expr:n})}}function l(e,t){return void 0!==e?e:t}function u(e,t,n){if(e.type===b.QUANTITATIVE)return t?t:n.numberFormat}function c(e,t){return"format("+e+', "'+(t||"")+'")'}function f(e,t,n){return c(e,t||n.numberFormat)}function d(e,t,n,r){return e+" === null || isNaN("+e+') ? "null" : '+f(e,n,r)+' + " - " + '+f(t,n,r)}function p(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return v.formatExpression(t,e,r,a)}function h(e,t){return(_.isArray(e)?e:[e]).reduce(function(e,n){return e.field.push(g.field(n,t)),e.order.push(n.sort||"ascending"),e},{field:[],order:[]})}function m(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(11),y=n(12),v=n(73),b=n(48),_=n(3);t.applyConfig=r,t.applyMarkConfig=i,t.getStyles=a,t.getMarkConfig=o,t.formatSignalRef=s,t.getSpecifiedOrDefaultValue=l,t.numberFormat=u,t.numberFormatExpr=f,t.binFormatExpression=d,t.timeFormatExpression=p,t.sortParams=h,t.titleMerger=m},function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return!!n&&(p.isArray(n)?p.some(n,function(e){return!!e.field}):f.isFieldDef(n)||f.hasConditionFieldDef(n))}function i(e){return p.some(c.CHANNELS,function(t){if(r(e,t)){var n=e[t];if(p.isArray(n))return p.some(n,function(e){return!!e.aggregate});var i=f.getFieldDef(n);return i&&!!i.aggregate}return!1})}function a(e,t){return p.keys(e).reduce(function(n,r){if(!c.supportMark(r,t))return d.warn(d.message.incompatibleChannel(r,t)),n;if("size"===r&&"line"===t){var i=f.getFieldDef(e[r]);if(i&&i.aggregate)return d.warn(d.message.incompatibleChannel(r,t,"when the field is aggregated.")),n}if("detail"===r||"order"===r){var a=e[r];a&&(n[r]=(p.isArray(a)?a:[a]).reduce(function(e,t){return f.isFieldDef(t)?e.push(f.normalizeFieldDef(t,r)):d.warn(d.message.emptyFieldDef(t,r)),e},[]))}else{var a=e[r];if(!f.isFieldDef(a)&&!f.isValueDef(a)&&!f.isConditionalDef(a))return d.warn(d.message.emptyFieldDef(a,r)),n;n[r]=f.normalize(a,r)}return n},{})}function o(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function s(e){var t=[];return c.CHANNELS.forEach(function(n){if(r(e,n)){var i=e[n];(p.isArray(i)?i:[i]).forEach(function(e){f.isFieldDef(e)?t.push(e):f.hasConditionFieldDef(e)&&t.push(e.condition)})}}),t}function l(e,t,n){e&&p.keys(e).forEach(function(r){var i=r;p.isArray(e[i])?e[i].forEach(function(e){t.call(n,e,i)}):t.call(n,e[i],i)})}function u(e,t,n,r){return e?p.keys(e).reduce(function(n,i){var a=i;return p.isArray(e[a])?e[a].reduce(function(e,n){return t.call(r,e,n,a)},n):t.call(r,n,e[a],a)},n):n}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=n(11),d=n(7),p=n(3);t.channelHasField=r,t.isAggregate=i,t.normalizeEncoding=a,t.isRanged=o,t.fieldDefs=s,t.forEach=l,t.reduce=u},function(e,t,n){"use strict";function r(e){return!!l[e]}function i(e){return e.type}function a(e){var t=i(e)?e.type:e;return t in u}Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(3);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square"}(o=t.Mark||(t.Mark={})),t.AREA=o.AREA,t.BAR=o.BAR,t.LINE=o.LINE,t.POINT=o.POINT,t.TEXT=o.TEXT,t.TICK=o.TICK,t.RECT=o.RECT,t.RULE=o.RULE,t.CIRCLE=o.CIRCLE,t.SQUARE=o.SQUARE;var l={area:1,bar:1,line:1,point:1,text:1,tick:1,rect:1,rule:1,circle:1,square:1};t.isMark=r,t.PRIMITIVE_MARKS=s.flagKeys(l),t.isMarkDef=i;var u=s.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=a,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:2},t.defaultTickConfig={thickness:1}},function(e,t,n){"use strict";function r(e,t){var n=e&&e[t];return!!n&&(p.isArray(n)?p.some(n,function(e){return!!e.field}):f.isFieldDef(n)||f.hasConditionFieldDef(n))}function i(e){return p.some(c.CHANNELS,function(t){if(r(e,t)){var n=e[t];if(p.isArray(n))return p.some(n,function(e){return!!e.aggregate});var i=f.getFieldDef(n);return i&&!!i.aggregate}return!1})}function a(e,t){return p.keys(e).reduce(function(n,r){if(!c.supportMark(r,t))return d.warn(d.message.incompatibleChannel(r,t)),n;if("size"===r&&"line"===t){var i=f.getFieldDef(e[r]);if(i&&i.aggregate)return d.warn(d.message.incompatibleChannel(r,t,"when the field is aggregated.")),n}if("detail"===r||"order"===r){var a=e[r];a&&(n[r]=(p.isArray(a)?a:[a]).reduce(function(e,t){return f.isFieldDef(t)?e.push(f.normalizeFieldDef(t,r)):d.warn(d.message.emptyFieldDef(t,r)),e},[]))}else{var a=e[r];if(!f.isFieldDef(a)&&!f.isValueDef(a)&&!f.isConditionalDef(a))return d.warn(d.message.emptyFieldDef(a,r)),n;n[r]=f.normalize(a,r)}return n},{})}function o(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function s(e){var t=[];return c.CHANNELS.forEach(function(n){if(r(e,n)){var i=e[n];(p.isArray(i)?i:[i]).forEach(function(e){f.isFieldDef(e)?t.push(e):f.hasConditionFieldDef(e)&&t.push(e.condition)})}}),t}function l(e,t,n){e&&p.keys(e).forEach(function(r){var i=r;p.isArray(e[i])?e[i].forEach(function(e){t.call(n,e,i)}):t.call(n,e[i],i)})}function u(e,t,n,r){return e?p.keys(e).reduce(function(n,i){var a=i;return p.isArray(e[a])?e[a].reduce(function(e,n){return t.call(r,e,n,a)},n):t.call(r,n,e[a],a)},n):n}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),f=n(14),d=n(8),p=n(2);t.channelHasField=r,t.isAggregate=i,t.normalizeEncoding=a,t.isRanged=o,t.fieldDefs=s,t.forEach=l,t.reduce=u},function(e,t){"use strict";function n(e){if(e)switch(e=e.toLowerCase()){case"q":case t.QUANTITATIVE:return"quantitative";case"t":case t.TEMPORAL:return"temporal";case"o":case t.ORDINAL:return"ordinal";case"n":case t.NOMINAL:return"nominal"}}Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal"}(r=t.Type||(t.Type={})),t.QUANTITATIVE=r.QUANTITATIVE,t.ORDINAL=r.ORDINAL,t.TEMPORAL=r.TEMPORAL,t.NOMINAL=r.NOMINAL,t.getFullName=n},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=void 0;var i=n(518),a=r(i),o=n(239),s=r(o),l=n(519),u=r(l);t.Provider=a.default,t.createProvider=i.createProvider,t.connectAdvanced=s.default,t.connect=u.default},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&u.warn(u.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function s(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:e.value===t.value?e:i(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=n(7),c=n(3),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(){return l.__assign({},this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e.prototype.extend=function(t,n){return new e(n?l.__assign({},this.explicit,t):this.explicit,n?this.implicit:l.__assign({},this.implicit,t))},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=s},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&u.warn(u.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function s(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:e.value===t.value?e:i(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=n(8),c=n(2),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(e){var t=this;void 0===e&&(e=[]);var n=e.reduce(function(e,n){var r=t.get(n);return r&&(e[n]=r),e},{});return l.__assign({},n,this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e.prototype.extend=function(t,n){return new e(n?l.__assign({},this.explicit,t):this.explicit,n?this.implicit:l.__assign({},this.implicit,t))},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(32),o=n(32),s=n(14),l=n(28),u=n(13),c=n(182),f=n(2),d=n(284),p=n(19),h=n(74),m=n(91),g=n(93),y=n(119),v=n(94),b=n(75),_=n(294),x=n(295),S=n(57),w=n(120),O=n(25),k=function(e){function t(t,n,i,a,s,u){void 0===a&&(a={});var f=e.call(this,t,n,i,u,{})||this;f.specifiedScales={},f.specifiedAxes={},f.specifiedLegends={},f.selection={},f.children=[],f.initSize(r.__assign({},a,t.width?{width:t.width}:{},t.height?{height:t.height}:{})),f.markDef=l.isMarkDef(t.mark)?r.__assign({},t.mark):{type:t.mark};var d=f.markDef.type,p=f.encoding=o.normalizeEncoding(w.replaceRepeaterInEncoding(t.encoding||{},s),d);return f.stack=c.stack(d,p,f.config.stack),f.specifiedScales=f.initScales(d,p),f.encoding=_.initEncoding(f.markDef,p,f.stack,f.config),f.specifiedAxes=f.initAxes(p),f.specifiedLegends=f.initLegend(p),f.selection=t.selection,f}return r.__extends(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.hasDiscreteDomain=function(e){if(i.isScaleChannel(e)){var t=this.getScaleComponent(e);return t&&u.hasDiscreteDomain(t.get("type"))}return!1},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initScales=function(e,t){return i.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return s.isFieldDef(a)?(r=a,i=a.scale):s.isConditionalDef(a)&&s.isFieldDef(a.condition)?(r=a.condition,i=a.condition.scale):"x"===n?r=s.getFieldDef(t.x2):"y"===n&&(r=s.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[i.X,i.Y].reduce(function(t,n){var a=e[n];if(s.isFieldDef(a)||n===i.X&&s.isFieldDef(e.x2)||n===i.Y&&s.isFieldDef(e.y2)){var o=s.isFieldDef(a)?a.axis:null;null!==o&&o!==!1&&(t[n]=r.__assign({},o))}return t},{})},t.prototype.initLegend=function(e){return i.NONSPATIAL_SCALE_CHANNELS.reduce(function(t,n){var i=e[n];if(i){var a=s.isFieldDef(i)?i.legend:i.condition&&s.isFieldDef(i.condition)?i.condition.legend:null;null!==a&&a!==!1&&(t[n]=r.__assign({},a))}return t},{})},t.prototype.parseData=function(){this.component.data=m.parseData(this)},t.prototype.parseLayoutSize=function(){v.parseUnitLayoutSize(this)},t.prototype.parseSelection=function(){this.component.selection=O.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=x.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=d.parseUnitAxis(this)},t.prototype.parseLegend=function(){this.component.legends=b.parseUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:h.assembleData(this.component.data)},t.prototype.assembleSelectionTopLevelSignals=function(e){return O.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return O.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return O.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return y.assembleLayoutSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&this.parent instanceof g.LayerModel||(e=O.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},p.applyConfig({},this.config.cell,l.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=f.duplicate(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=f.duplicate(this.config)),t||(n.data=f.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return a.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return s.getFieldDef(t)},t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return n.bin&&(t=f.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),s.field(n,t)},t}(S.ModelWithField);t.UnitModel=k},function(e,t,n){"use strict";function r(){M.ReactReconcileTransaction&&x?void 0:c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!0)}function a(e,t,n,i,a,o){return r(),x.batchedUpdates(e,t,n,i,a,o)}function o(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==y.length?c("124",t,y.length):void 0,y.sort(o),v++;for(var n=0;n<t;n++){var r=y[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var a;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),a="React update: "+s.getName(),console.time(a)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,v),a&&console.timeEnd(a),i)for(var l=0;l<i.length;l++)e.callbackQueue.enqueue(i[l],r.getPublicInstance())}}function l(e){return r(),x.isBatchingUpdates?(y.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=v+1))):void x.batchedUpdates(l,e)}function u(e,t){x.isBatchingUpdates?void 0:c("125"),b.enqueue(e,t),_=!0}var c=n(10),f=n(20),d=n(218),p=n(54),h=n(223),m=n(66),g=n(101),y=(n(4),[]),v=0,b=d.getPooled(),_=!1,x=null,S={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),k()):y.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},O=[S,w];f(i.prototype,g,{getTransactionWrappers:function(){return O},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(i);var k=function(){for(;y.length||_;){if(y.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(_){_=!1;var t=b;b=d.getPooled(),t.notifyAll(),d.release(t)}}},E={injectReconcileTransaction:function(e){e?void 0:c("126"),M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,x=e}},M={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:l,flushBatchedUpdates:k,injection:E,asap:u};e.exports=M},function(e,t,n){"use strict";function r(e){return!!e.signal}function i(e){return!!e.step}function a(e){return!u.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!u.isArray(e)&&("fields"in e&&"data"in e)}function s(e){return!u.isArray(e)&&("field"in e&&"data"in e)}function l(e){return!u.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3);t.isVgSignalRef=r,t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=s,t.isSignalRefDomain=l},function(e,t){"use strict";function n(e){return{type:M,mode:e}}function r(e){return{type:b,parse:e}}function i(e,t){return{type:_,spec:t,example:e}}function a(e,t){return{type:x,spec:t,example:e}}function o(e){return{type:y,spec:e}}function s(e){return{type:v,spec:e}}function l(e,t){return{type:S,gist:e,spec:t}}function u(e,t){return{type:w,gist:e,spec:t}}function c(){return{type:O}}function f(){return{type:k}}function d(){return{type:E}}function p(){return{type:T}}function h(e){return{type:P,error:e}}function m(e){return{type:C,editorString:e}}function g(){return{type:D}}Object.defineProperty(t,"__esModule",{value:!0}),t.setMode=n,t.parseSpec=r,t.setVegaExample=i,t.setVegaLiteExample=a,t.updateVegaSpec=o,t.updateVegaLiteSpec=s,t.setGistVegaSpec=l,t.setGistVegaLiteSpec=u,t.toggleAutoParse=c,t.cycleRenderer=f,t.showCompiledVegaSpec=d,t.showErrorPane=p,t.logError=h,t.updateEditorString=m,t.showTooltip=g;var y=t.UPDATE_VEGA_SPEC="UPDATE_VEGA_SPEC",v=t.UPDATE_VEGA_LITE_SPEC="UPDATE_VEGA_LITE_SPEC",b=t.PARSE_SPEC="PARSE_SPEC",_=t.SET_VEGA_EXAMPLE="SET_VEGA_EXAMPLE",x=t.SET_VEGA_LITE_EXAMPLE="SET_VEGA_LITE_EXAMPLE",S=t.SET_GIST_VEGA_SPEC="SET_GIST_VEGA_SPEC",w=t.SET_GIST_VEGA_LITE_SPEC="SET_GIST_VEGA_LITE_SPEC",O=t.TOGGLE_AUTO_PARSE="TOGGLE_AUTO_PARSE",k=t.CYCLE_RENDERER="CYCLE_RENDERER",E=t.SHOW_COMPILED_VEGA_SPEC="SHOW_COMPILED_VEGA_SPEC",M=t.SET_MODE="SET_MODE",T=t.SHOW_ERROR_PANE="SHOW_ERROR_PANE",P=t.LOG_ERROR="LOG_ERROR",C=t.UPDATE_EDITOR_STRING="UPDATE_EDITOR_STRING",D=t.SHOW_TOOLTIP="SHOW_TOOLTIP"},function(e,t,n){"use strict";var r=n(16),i=n(197);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,a)},function(e,t){"use strict";function n(e,t,n){return n?[e,t]:e}Object.defineProperty(t,"__esModule",{
value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];s?this[a]=s(n):"target"===a?this.target=r:this[a]=n[a]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}var i=n(20),a=n(54),o=n(34),s=(n(9),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=l,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var o=new r;i(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,a.addPoolingTo(e,a.fourArgumentPooler)},a.addPoolingTo(r,a.fourArgumentPooler),e.exports=r},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=n?"fill":"stroke",i=o("color",e,{vgChannel:r,defaultValue:v.getMarkConfig(r,e.markDef,t)||v.getMarkConfig("color",e.markDef,t)});return!i.fill&&y.contains(["bar","point","circle","square"],e.mark())&&(i.fill={value:"transparent"}),i}function i(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]={value:e[n]}),t},{})}function a(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function o(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return s(t,o,i||e,function(n){return _.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),null,a)})}function s(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=r(i);return s={},s[n]=[h.__assign({test:b.predicate(e,i.selection)},o)].concat(void 0!==a?[a]:[]),s}return void 0!==a?(l={},l[n]=a,l):{};var s,l}function l(e,t){void 0===t&&(t="text");var n=e.encoding[t];return s(e,n,t,function(t){return _.text(t,e.config)})}function u(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var s=(l={},l[t+"c"]=_.fieldRef(e,r,{},{band:.5}),l);if(m.getFieldDef(n.encoding.size))g.warn(g.message.cannotUseSizeFieldWithBandSize(t));else if(m.isValueDef(n.encoding.size))return h.__assign({},s,o("size",n,{vgChannel:i}))}else g.warn(g.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return u={},u[t]=_.fieldRef(e,r,{binSuffix:"range"}),u[i]=_.band(r),u;var l,u}function c(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return h.__assign({},d(e,t,n,i),o("size",t,{defaultRef:r,vgChannel:a}))}function f(e,t,n,r){return"x"===t?{x2:_.bin(e,n,"start",r),x:_.bin(e,n,"end")}:{y2:_.bin(e,n,"start"),y:_.bin(e,n,"end",r)}}function d(e,t,n,r){var i=t.encoding,a=t.stack,o=_.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function p(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=_.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return l={},l[n]=s,l;var l}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(11),g=n(7),y=n(3),v=n(29),b=n(23),_=n(72);t.color=r,t.markDefProperties=i,t.valueIfDefined=a,t.nonPosition=o,t.text=l,t.bandPosition=u,t.centeredBandPosition=c,t.binnedPosition=f,t.pointPosition=d,t.pointPosition2=p},function(e,t){"use strict";function n(e){return!!a[e]}function r(e){if(e)switch(e=e.toLowerCase()){case"q":case t.QUANTITATIVE:return"quantitative";case"t":case t.TEMPORAL:return"temporal";case"o":case t.ORDINAL:return"ordinal";case"n":case t.NOMINAL:return"nominal"}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal"}(i=t.Type||(t.Type={}));var a={quantitative:1,ordinal:1,temporal:1,nominal:1};t.isType=n,t.QUANTITATIVE=i.QUANTITATIVE,t.ORDINAL=i.ORDINAL,t.TEMPORAL=i.TEMPORAL,t.NOMINAL=i.NOMINAL,t.getFullName=r},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=o("color",e,{vgChannel:n?"fill":"stroke",defaultValue:v.getMarkConfig("color",e.markDef,t)});return!r.fill&&y.contains(["bar","point","circle","square"],e.mark())&&(r.fill={value:"transparent"}),r}function i(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]={value:e[n]}),t},{})}function a(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function o(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return s(t,o,i||e,function(n){return _.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),a)})}function s(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=r(i);return s={},s[n]=[h.__assign({test:b.predicate(e,i.selection)},o)].concat(void 0!==a?[a]:[]),s}return void 0!==a?(l={},l[n]=a,l):{};var s,l}function l(e,t){void 0===t&&(t="text");var n=e.encoding[t];return s(e,n,t,function(t){return _.text(t,e.config)})}function u(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var s=(l={},l[t+"c"]=_.fieldRef(e,r,{},{band:.5}),l);if(m.getFieldDef(n.encoding.size))g.warn(g.message.cannotUseSizeFieldWithBandSize(t));else if(m.isValueDef(n.encoding.size))return h.__assign({},s,o("size",n,{vgChannel:i}))}else g.warn(g.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return u={},u[t]=_.fieldRef(e,r,{}),u[i]=_.band(r),u;var l,u}function c(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return h.__assign({},d(e,t,n,i),o("size",t,{defaultRef:r,vgChannel:a}))}function f(e,t,n,r){return"x"===t?{x2:_.bin(e,n,"start",r),x:_.bin(e,n,"end")}:{y2:_.bin(e,n,"start"),y:_.bin(e,n,"end",r)}}function d(e,t,n,r){var i=t.encoding,a=t.stack,o=_.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function p(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=_.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return l={},l[n]=s,l;var l}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(14),g=n(8),y=n(2),v=n(19),b=n(25),_=n(76);t.color=r,t.markDefProperties=i,t.valueIfDefined=a,t.nonPosition=o,t.text=l,t.bandPosition=u,t.centeredBandPosition=c,t.binnedPosition=f,t.pointPosition=d,t.pointPosition2=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var i=n(53),a=(r(i),t.addQueryStringValueToPath=function(e,t,n){var r=o(e),i=r.pathname,a=r.search,l=r.hash;return s({pathname:i,search:a+(a.indexOf("?")===-1?"?":"&")+t+"="+n,hash:l})},t.stripQueryStringValueFromPath=function(e,t){var n=o(e),r=n.pathname,i=n.search,a=n.hash;return s({pathname:r,search:i.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:a})},t.getQueryStringValueFromPath=function(e,t){var n=o(e),r=n.search,i=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return i&&i[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),o=t.parsePath=function(e){var t=a(e),n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substring(i),t=t.substring(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substring(o),t=t.substring(0,o)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},s=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,i=e.hash,a=(t||"")+n;return r&&"?"!==r&&(a+=r),i&&(a+=i),a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||d.default.isValidElement(e)}function a(e){return i(e)||Array.isArray(e)&&e.every(i)}function o(e,t){return c({},e,t)}function s(e){var t=e.type,n=o(t.defaultProps,e.props);if(n.children){var r=l(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function l(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function u(e){return a(e)?e=l(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=a,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=l,t.createRoutes=u;var f=n(16),d=r(f)},function(e,t,n){"use strict";function r(e){return!!e.signal}function i(e){return!!e.step}function a(e){return!u.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!u.isArray(e)&&("fields"in e&&"data"in e)}function s(e){return!u.isArray(e)&&("field"in e&&"data"in e)}function l(e){return!u.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2);t.isVgSignalRef=r,t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=s,t.isSignalRefDomain=l},function(e,t,n){"use strict";var r=function(){};e.exports=r},[666,10],function(e,t){"use strict";function n(e){return!!e.url}function r(e){return!!e.values}function i(e){return!!e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlData=n,t.isInlineData=r,t.isNamedData=i,t.MAIN="main",t.RAW="raw"},[671,7,3],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15),a=n(5),o=n(32),s=n(14),l=n(8),u=n(2),c=n(624),f=n(293),d=n(628),p=n(295),h=n(640),m=n(643),g=n(38),y=n(39),v=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=v;var b=function(){function e(e,t,n,i,a){var o=this;this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=o.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=o.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=i,this.name=e.name||n,this.scaleNameMap=t?t.scaleNameMap:new v,this.layoutSizeNameMap=t?t.layoutSizeNameMap:new v,this.data=e.data,this.description=e.description,this.transforms=e.transform||[],this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?r.__assign({},t.component.data.ancestorParse):{}},layoutSize:new g.Split,layoutHeaders:{row:{},column:{}},mark:null,resolve:a||{},selection:null,scales:null,axes:{},legends:{}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.getLayoutSize("width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getLayoutSize("height")},enumerable:!0,configurable:!0}),e.prototype.getLayoutSize=function(e){var t=this.component.layoutSize.get(e);if(void 0!==t)return i.isNumber(t)?t:this.getSizeSignalRef(e);throw new Error("calling model."+e+" before parseLayoutSize()")},e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseMarkDef(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){m.parseScale(this)},e.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},e.prototype.parseMarkDef=function(){p.parseMarkDef(this)},e.prototype.assembleScales=function(){return h.assembleScale(this)},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=f.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(f.getTitleGroup(this,i))}for(var a=0,o=f.HEADER_CHANNELS;a<o.length;a++)for(var i=o[a],s=e[i],l=0,u=f.HEADER_TYPES;l<u.length;l++){var c=u[l];if(s[c])for(var d=0,p=s[c];d<p.length;d++){var h=p[d],m=f.getHeaderGroup(this,i,c,s,h);m&&t.push(m)}}return t},e.prototype.assembleAxes=function(){return c.assembleAxes(this.component.axes)},e.prototype.assembleLegends=function(){return d.assembleLegends(this)},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=this.assembleScales();r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var r=n[t];if(r instanceof y.UnitModel){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return u.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){return{signal:this.layoutSizeNameMap.get(this.getName(e))}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.getSizeName=function(e){return this.layoutSizeNameMap.get(e)},e.prototype.renameLayoutSize=function(e,t){this.layoutSizeNameMap.rename(e,t)},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):a.isChannel(e)&&a.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(l.message.selectionNotFound(t));return n},e}();t.Model=b;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);return n.bin&&(t=u.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),s.field(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return o.reduce(this.getMapping(),function(t,n,r){var i=s.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){o.forEach(this.getMapping(),function(t,n){var r=s.getFieldDef(t);r&&e(r,n)},t)},t}(b);t.ModelWithField=_},[671,8,2],function(e,t,n){"use strict";function r(e){return!!g[e]}function i(e,n){var r=new Date(0,0,1,0,0,0,0);return t.SINGLE_TIMEUNITS.forEach(function(t){if(o(e,t))switch(t){case d.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case d.YEAR:r.setFullYear(n.getFullYear());break;case d.QUARTER:r.setMonth(3*Math.floor(n.getMonth()/3));break;case d.MONTH:r.setMonth(n.getMonth());break;case d.DATE:r.setDate(n.getDate());break;case d.HOURS:r.setHours(n.getHours());break;case d.MINUTES:r.setMinutes(n.getMinutes());break;case d.SECONDS:r.setSeconds(n.getSeconds());break;case d.MILLISECONDS:r.setMilliseconds(n.getMilliseconds())}}),r}function a(e){return!!y[e]}function o(e,t){var n=e.indexOf(t);return n>-1&&(t!==d.SECONDS||0===n||"i"!==e.charAt(n-1))}function s(e,n){function r(e){return e===d.QUARTER?"("+a+"quarter("+i+")-1)":""+a+e+"("+i+")"}var i="datum["+m.stringValue(n)+"]",a=f(e)?"utc":"",s=t.SINGLE_TIMEUNITS.reduce(function(t,n){return o(e,n)&&(t[n]=r(n)),t},{});return s.day&&m.keys(s).length>1&&(h.warn(h.message.dayReplacedWithDate(e)),delete s.day,s.date=r(d.DATE)),p.dateTimeExpr(s)}function l(e){if(e)return o(e,d.SECONDS)?"second":o(e,d.MINUTES)?"minute":o(e,d.HOURS)?"hour":o(e,d.DAY)||o(e,d.DATE)?"day":o(e,d.MONTH)?"month":o(e,d.YEAR)?"year":void 0}function u(e,t,n,r){if(e){var i=[],a="",s=o(e,d.YEAR);o(e,d.QUARTER)&&(a="'Q' + quarter("+t+")"),o(e,d.MONTH)&&i.push(n!==!1?"%b":"%B"),o(e,d.DAY)?i.push(n?"%a":"%A"):o(e,d.DATE)&&i.push("%d"+(s?",":"")),s&&i.push(n?"%y":"%Y");var l=[];o(e,d.HOURS)&&l.push("%H"),o(e,d.MINUTES)&&l.push("%M"),o(e,d.SECONDS)&&l.push("%S"),o(e,d.MILLISECONDS)&&l.push("%L");var u=[];return i.length>0&&u.push(i.join(" ")),l.length>0&&u.push(l.join(":")),u.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+u.join(" ")+"')":"timeFormat("+t+", '"+u.join(" ")+"')"),a||void 0}}function c(e){switch(e){case"hours":case"day":case"month":case"quarter":return!0}return!1}function f(e){return"utc"===e.substr(0,3)}Object.defineProperty(t,"__esModule",{value:!0});var d,p=n(58),h=n(8),m=n(2);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(d=t.TimeUnit||(t.TimeUnit={})),t.SINGLE_TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS];var g=t.SINGLE_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isSingleTimeUnit=r,t.convert=i,t.MULTI_TIMEUNITS=[d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS];var y=t.MULTI_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isMultiTimeUnit=a,t.TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS,d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS],t.containsTimeUnit=o,t.fieldExpr=s,t.smallestUnit=l,t.formatExpression=u,t.isDiscreteByDefault=c},function(e,t,n){"use strict";function r(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+r+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+o+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function a(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=s(e);r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var a in r)n+=(n?" && ":"")+i(a,t,!0);return n}}function o(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];k[i]?n[n.length]=i:"array"===e&&"array"===i&&(n[n.length]=i)}if(n.length)return n}else{if(k[t])return[t];if("array"===e&&"array"===t)return["array"]}}function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function l(e){return"number"==typeof e?"["+e+"]":E.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(M,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function f(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function d(e){return e.replace(T,"").replace(P,"").replace(C,"if (!($1))")}function p(e,t){var n=e.match(D);return n&&2==n.length&&(e=t?e.replace(N,"").replace(F,L):e.replace(A,"").replace(R,I)),n=e.match(j),n&&3===n.length?e.replace(z,""):e}function h(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function m(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function g(e){return"'"+u(e)+"'"}function y(e,t,n,r){var i=n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return _(e,i)}function v(e,t,n){var r=g(n?"/"+w(t):l(t));return _(e,r)}function b(e,t,n){var r,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!$.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(o=e.match(U),!o)throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],i=o[2],"#"==i){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!i)return a}for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(a+=l(O(f)),s+=" && "+a)}return s}function _(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function x(e){return O(decodeURIComponent(e))}function S(e){return encodeURIComponent(w(e))}function w(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function O(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:r,checkDataType:i,checkDataTypes:a,coerceToTypes:o,toHash:s,getProperty:l,escapeQuotes:u,equal:n(127),ucs2length:n(311),varOccurences:c,varReplace:f,cleanUpCode:d,finalCleanUpCode:p,schemaHasRules:h,schemaHasRulesExcept:m,toQuotedString:g,getPathExpr:y,getPath:v,getData:b,unescapeFragment:x,unescapeJsonPointer:O,escapeFragment:S,escapeJsonPointer:w};var k=s(["string","number","integer","boolean","null"]),E=/^[a-z$_][a-z$_0-9]*$/i,M=/'|\\/g,T=/else\s*{\s*}/g,P=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,C=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,D=/[^v.]errors/g,A=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,N=/var errors = 0;|var vErrors = null;/g,R="return errors === 0;",I="validate.errors = null; return true;",F=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,L="return data;",j=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,z=/if \(rootData === undefined\) rootData = data;/,$=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.DEFAULT_STATE=t.SPECS=t.RENDERERS=t.LAYOUT=t.MODES=void 0;var i=n(192);Object.defineProperty(t,"MODES",{enumerable:!0,get:function(){return i.MODES}}),Object.defineProperty(t,"LAYOUT",{enumerable:!0,get:function(){return i.LAYOUT}}),Object.defineProperty(t,"RENDERERS",{enumerable:!0,get:function(){return i.RENDERERS}});var a=n(193);Object.defineProperty(t,"DEFAULT_STATE",{enumerable:!0,get:function(){return a.DEFAULT_STATE}}),Object.defineProperty(t,"logger",{enumerable:!0,get:function(){return a.logger}});var o=n(348),s=r(o);t.SPECS=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(24),s=r(o),l=n(53),u=(r(l),n(50)),c=n(97),f=(t.createQuery=function(e){return a(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,u.parsePath)(e):e,i=r.pathname||"/",a=r.search||"",o=r.hash||"",s=r.state;return{pathname:i,search:a,hash:o,state:s,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),d=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r="undefined"==typeof t?"undefined":i(t),a="undefined"==typeof n?"undefined":i(n);if(r!==a)return!1;if("function"===r?(0,s.default)(!1):void 0,"object"===r){if(f(t)&&f(n)?(0,s.default)(!1):void 0,!Array.isArray(t)){var o=Object.keys(t),l=Object.keys(n);return o.length===l.length&&o.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&d(e.state,t.state)}},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(432);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var o="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),u=[];return function e(t,c,f,d){var p=n?"\n"+new Array(d+1).join(n):"",h=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),f=s.call(t,c,f),void 0!==f){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var m=[],g=0;g<f.length;g++){var y=e(f,g,f[g],d+1)||r.stringify(null);m.push(p+n+y)}return"["+m.join(",")+p+"]"}if(u.indexOf(f)!==-1){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(f);for(var v=a(f).sort(l&&l(f)),m=[],g=0;g<v.length;g++){var c=v[g],b=e(f,c,f[c],d+1);if(b){var _=r.stringify(c)+h+b;m.push(p+n+_)}}return u.splice(u.indexOf(f),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";function r(e){if(g){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)y(t,n[r],null);else null!=e.html?f(t,e.html):null!=e.text&&p(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function a(e,t){g?e.children.push(t):e.node.appendChild(t.node)}function o(e,t){g?e.html=t:f(e.node,t)}function s(e,t){g?e.text=t:p(e.node,t)}function l(){return this.node.nodeName}function u(e){return{node:e,children:[],html:null,text:null,toString:l}}var c=n(138),f=n(103),d=n(146),p=n(236),h=1,m=11,g="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),y=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});u.insertTreeBefore=y,u.replaceChildWithTree=i,u.queueChild=a,u.queueHTML=o,u.queueText=s,e.exports=u},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(10),a=(n(4),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?i("48",f):void 0;var d=f.toLowerCase(),p=n[f],h={attributeName:d,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(p,t.MUST_USE_PROPERTY),hasBooleanValue:r(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:i("50",f),l.hasOwnProperty(f)){var m=l[f];h.attributeName=m}o.hasOwnProperty(f)&&(h.attributeNamespace=o[f]),u.hasOwnProperty(f)&&(h.propertyName=u[f]),c.hasOwnProperty(f)&&(h.mutationMethod=c[f]),s.properties[f]=h}}}),o=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:o,ATTRIBUTE_NAME_CHAR:o+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:a};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(490),a=(n(35),n(9),{mountComponent:function(e,t,n,i,a,o){var s=e.mountComponent(t,n,i,a,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,a){var o=e._currentElement;if(t!==o||a!==e._context){var s=i.shouldUpdateRefs(o,t);s&&i.detachRefs(e,o),e.receiveComponent(t,n,a),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=a},function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){for(var t="",n=[],r=[],a=void 0,o=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;a=s.exec(e);)a.index!==o&&(r.push(e.slice(o,a.index)),t+=i(e.slice(o,a.index))),a[1]?(t+="([^/]+)",n.push(a[1])):"**"===a[0]?(t+="(.*)",n.push("splat")):"*"===a[0]?(t+="(.*?)",n.push("splat")):"("===a[0]?t+="(?:":")"===a[0]?t+=")?":"\\("===a[0]?t+="\\(":"\\)"===a[0]&&(t+="\\)"),r.push(a[0]),o=s.lastIndex;return o!==e.length&&(r.push(e.slice(o,e.length)),t+=i(e.slice(o,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function o(e){return p[e]||(p[e]=a(e)),p[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=o(e),r=n.regexpSource,i=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var l=s[0],u=t.substr(l.length);if(u){if("/"!==l.charAt(l.length-1))return null;u="/"+u}return{remainingPathname:u,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function l(e){return o(e).paramNames}function u(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,i=n.paramValues,a={};return r.forEach(function(e,t){a[e]=i[t]}),a}function c(e,t){t=t||{};for(var n=o(e),r=n.tokens,i=0,a="",s=0,l=[],u=void 0,c=void 0,f=void 0,p=0,h=r.length;p<h;++p)if(u=r[p],"*"===u||"**"===u)f=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=f||i>0?void 0:(0,d.default)(!1),null!=f&&(a+=encodeURI(f));else if("("===u)l[i]="",i+=1;else if(")"===u){var m=l.pop();i-=1,i?l[i-1]+=m:a+=m}else if("\\("===u)a+="(";else if("\\)"===u)a+=")";else if(":"===u.charAt(0))if(c=u.substring(1),f=t[c],null!=f||i>0?void 0:(0,d.default)(!1),null==f){if(i){l[i-1]="";for(var g=r.indexOf(u),y=r.slice(g,r.length),v=-1,b=0;b<y.length;b++)if(")"==y[b]){v=b;break}v>0?void 0:(0,d.default)(!1),p=g+v-1}}else i?l[i-1]+=encodeURIComponent(f):a+=encodeURIComponent(f);else i?l[i-1]+=u:a+=u;return i<=0?void 0:(0,d.default)(!1),a.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=o,t.matchPattern=s,t.getParamNames=l,t.getParams=u,t.formatPattern=c;var f=n(24),d=r(f),p=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.indexOf("deprecated")!==-1){if(l[t])return;l[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[e,t].concat(r))}function a(){l={}}t.__esModule=!0,t.default=i,t._resetWarned=a;var o=n(53),s=r(o),l={}},function(e,t,n){"use strict";var r=n(160),i=n(253),a=n(553),o=n(554),s=n(70),l=n(555),u=n(556),c=n(557),f=n(561),d=s.createElement,p=s.createFactory,h=s.cloneElement,m=r,g=function(e){return e},y={Children:{map:a.map,forEach:a.forEach,count:a.count,toArray:a.toArray,only:f},Component:i.Component,PureComponent:i.PureComponent,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:l,createClass:c,createFactory:p,createMixin:g,DOM:o,version:u,__spread:m};e.exports=y},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var a=n(160),o=n(46),s=(n(9),n(257),Object.prototype.hasOwnProperty),l=n(255),u={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,a,o){var s={$$typeof:l,type:e,key:t,ref:n,props:o,_owner:a};return s};c.createElement=function(e,t,n){var a,l={},f=null,d=null,p=null,h=null;if(null!=t){r(t)&&(d=t.ref),i(t)&&(f=""+t.key),p=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(a in t)s.call(t,a)&&!u.hasOwnProperty(a)&&(l[a]=t[a])}var m=arguments.length-2;if(1===m)l.children=n;else if(m>1){for(var g=Array(m),y=0;y<m;y++)g[y]=arguments[y+2];l.children=g}if(e&&e.defaultProps){var v=e.defaultProps;for(a in v)void 0===l[a]&&(l[a]=v[a])}return c(e,f,d,p,h,o.current,l)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var l,f=a({},e.props),d=e.key,p=e.ref,h=e._self,m=e._source,g=e._owner;if(null!=t){r(t)&&(p=t.ref,g=o.current),i(t)&&(d=""+t.key);var y;e.type&&e.type.defaultProps&&(y=e.type.defaultProps);for(l in t)s.call(t,l)&&!u.hasOwnProperty(l)&&(void 0===t[l]&&void 0!==y?f[l]=y[l]:f[l]=t[l])}var v=arguments.length-2;if(1===v)f.children=n;else if(v>1){for(var b=Array(v),_=0;_<v;_++)b[_]=arguments[_+2];f.children=b}return c(e.type,d,p,h,m,g,f)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===l},e.exports=c},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return u.hasOwnProperty(e)}function n(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function r(e){for(var t=[],r=0,i=e.length,a=0;a<i;)a=n(e,a,y,d+h,p+m),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function i(e){return"["===e[0]?a(e):o(e)}function a(e){var t,a,o=e.length,s=1;if(s=n(e,s,p,d,p),s===o)throw"Empty between selector: "+e;if(t=r(e.substring(1,s)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(s+1).trim(),e[0]!==b)throw"Expected '>' after between selector: "+e;return t=t.map(i),a=i(e.slice(1).trim()),a.between?{between:t,stream:a}:(a.between=t,a)}function o(e){var r,i,a={source:l},o=[],u=[0,0],c=0,f=0,y=e.length,b=0;if(e[y-1]===m){if(b=e.lastIndexOf(h),!(b>=0))throw"Unmatched right brace: "+e;try{u=s(e.substring(b+1,y-1))}catch(x){throw"Invalid throttle specification: "+e}e=e.slice(0,b).trim(),y=e.length,b=0}if(!y)throw e;if(e[0]===v&&(c=++b),r=n(e,b,g),r<y&&(o.push(e.substring(f,r).trim()),f=b=++r),b=n(e,b,d),b===y)o.push(e.substring(f,y).trim());else if(o.push(e.substring(f,b).trim()),i=[],f=++b,f===y)throw"Unmatched left bracket: "+e;for(;b<y;){if(b=n(e,b,p),b===y)throw"Unmatched left bracket: "+e;if(i.push(e.substring(f,b).trim()),b<y-1&&e[++b]!==d)throw"Expected left bracket: "+e;f=++b}if(!(y=o.length)||_.test(o[y-1]))throw"Invalid event selector: "+e;return y>1?(a.type=o[1],c?a.markname=o[0].slice(1):t(o[0])?a.marktype=o[0]:a.source=o[0]):a.type=o[0],"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1)),null!=i&&(a.filter=i),u[0]&&(a.throttle=u[0]),u[1]&&(a.debounce=u[1]),a}function s(e){var t=e.split(y);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}var l,u,c=function(e,t,n){return l=t||f,u=n||x,r(e.trim()).map(i)},f="view",d="[",p="]",h="{",m="}",g=":",y=",",v="@",b=">",_=/[[\]{}]/,x={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};e.selector=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e,t,n,r,i,a){return v.isFieldDef(t)&&i&&e===i.fieldChannel?o(t,n,{suffix:"end"}):u(e,t,n,r,i,a)}function i(e,t,n,r,i,a,s){return v.isFieldDef(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?o(t,r,{suffix:"start"}):u(e,n,r,i,a,s)}function a(e,t,n,r){var i="start"===n?void 0:"end";return o(e,t,{binSuffix:i},r?{offset:r}:{})}function o(e,t,n,r){var i={scale:t,field:v.field(e,n)};return r?g.__assign({},i,r):i}function s(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function l(e,t){return{signal:"("+('scale("'+t+'", '+v.field(e,{expr:"datum"})+")")+" + "+('scale("'+t+'", '+v.field(e,{binSuffix:"end",expr:"datum"})+")")+")/2"}}function u(e,t,n,r,i,a){if(t){if(v.isFieldDef(t)){if(t.bin)return _.contains(["x","y"],e)?i&&i.impute?o(t,n,{binSuffix:"mid"}):l(t,n):o(t,n,b.isBinScale(r.get("type"))?{}:{binSuffix:"range"});var s=r.get("type");return b.hasDiscreteDomain(s)?"band"===s?o(t,n,{binSuffix:"range"},{band:.5}):o(t,n,{binSuffix:"range"}):o(t,n,{})}if(v.isValueDef(t))return{value:t.value};throw new Error("FieldDef without field or value.")}if("zeroOrMin"===a){if(e===y.X||e===y.X2)return d(n,r);if(e===y.Y||e===y.Y2)return h(n,r);throw new Error("Unsupported channel "+e+" for base function")}if("zeroOrMax"===a){if(e===y.X||e===y.X2)return p(n,r);if(e===y.Y||e===y.Y2)return m(n,r);throw new Error("Unsupported channel "+e+" for base function")}return a}function c(e,t){if(e){if(v.isFieldDef(e))return x.formatSignalRef(e,e.format,"datum",t);if(v.isValueDef(e))return{value:e.value}}}function f(e){return g.__assign({},e,{mult:.5})}function d(e,t){return e&&!_.contains([b.ScaleType.LOG,b.ScaleType.TIME,b.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}function p(e,t){return e&&!_.contains([b.ScaleType.LOG,b.ScaleType.TIME,b.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"width"}}}function h(e,t){return e&&!_.contains([b.ScaleType.LOG,b.ScaleType.TIME,b.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"height"}}}function m(e,t){return e&&!_.contains([b.ScaleType.LOG,b.ScaleType.TIME,b.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(1),y=n(6),v=n(11),b=n(12),_=n(3),x=n(29);t.stackable=r,t.stackable2=i,t.bin=a,t.fieldRef=o,t.band=s,t.midPoint=u,t.text=c,t.mid=f},function(e,t,n){"use strict";function r(e){return!!_[e]}function i(e){return!!x[e]}function a(e){return!!O[e]}function o(e){return e.substr(3)}function s(e){return!!k[e]}function l(e,n){var r=a(e),i=r?new Date(Date.UTC(0,0,1,0,0,0,0)):new Date(0,0,1,0,0,0,0);return t.TIMEUNIT_PARTS.forEach(function(t){if(c(e,t))switch(t){case m.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case m.QUARTER:var a=u("month",r),o=a.getDateMethod,s=a.setDateMethod;i[s](3*Math.floor(n[o]()/3));break;default:var l=u(t,r),f=l.getDateMethod,d=l.setDateMethod;i[d](n[f]())}}),i}function u(e,t){var n=E[e],r=t?"setUTC"+n.substr(3):n,i="get"+(t?"UTC":"")+n.substr(3);return{setDateMethod:r,getDateMethod:i}}function c(e,t){var n=e.indexOf(t);return n>-1&&(t!==m.SECONDS||0===n||"i"!==e.charAt(n-1))}function f(e,n){function r(e){return e===m.QUARTER?"("+o+"quarter("+i+")-1)":""+o+e+"("+i+")"}var i="datum["+b.stringValue(n)+"]",o=a(e)?"utc":"",s=t.TIMEUNIT_PARTS.reduce(function(t,n){return c(e,n)&&(t[n]=r(n)),t},{});return y.dateTimeExpr(s)}function d(e){if(e)return c(e,m.SECONDS)?"second":c(e,m.MINUTES)?"minute":c(e,m.HOURS)?"hour":c(e,m.DAY)||c(e,m.DATE)?"day":c(e,m.MONTH)?"month":c(e,m.YEAR)?"year":void 0}function p(e,t,n,r){if(e){var i=[],a="",o=c(e,m.YEAR);c(e,m.QUARTER)&&(a="'Q' + quarter("+t+")"),c(e,m.MONTH)&&i.push(n!==!1?"%b":"%B"),c(e,m.DAY)?i.push(n?"%a":"%A"):c(e,m.DATE)&&i.push("%d"+(o?",":"")),o&&i.push(n?"%y":"%Y");var s=[];c(e,m.HOURS)&&s.push("%H"),c(e,m.MINUTES)&&s.push("%M"),c(e,m.SECONDS)&&s.push("%S"),c(e,m.MILLISECONDS)&&s.push("%L");var l=[];return i.length>0&&l.push(i.join(" ")),s.length>0&&l.push(s.join(":")),l.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+l.join(" ")+"')":"timeFormat("+t+", '"+l.join(" ")+"')"),a||void 0}}function h(e){return"day"!==e&&e.indexOf("day")>=0?(v.warn(v.message.dayReplacedWithDate(e)),e.replace("day","date")):e}Object.defineProperty(t,"__esModule",{value:!0});var m,g=n(1),y=n(56),v=n(7),b=n(3);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(m=t.TimeUnit||(t.TimeUnit={}));var _={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};t.TIMEUNIT_PARTS=b.flagKeys(_),t.isLocalSingleTimeUnit=r;var x={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};t.isUtcSingleTimeUnit=i;var S={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},w={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},O=g.__assign({},x,w);t.isUTCTimeUnit=a,t.getLocalTimeUnit=o;var k=g.__assign({},_,x,S,w);t.TIMEUNITS=b.flagKeys(k),t.isTimeUnit=s;var E={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};t.convert=l,t.containsTimeUnit=c,t.fieldExpr=f,t.smallestUnit=d,t.formatExpression=p,t.normalizeTimeUnit=h},function(e,t,n){"use strict";function r(e){e instanceof b.NonPositiveFilterNode&&p.every(p.vals(e.filter),function(e){return e===!1})&&e.remove(),e instanceof _.NullFilterNode&&p.every(p.vals(e.filteredFields),function(e){return null===e})&&e.remove(),e instanceof g.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(r)}function i(e){function n(r){if(!(r instanceof w.OrderNode)){var i=r.clone();if(i instanceof g.OutputNode){var a=t.FACET_SCALE_PREFIX+e.model.getName(i.getSource());i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof h.AggregateNode||i instanceof k.StackNode)&&i.addDimensions(e.fields);return p.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return p.flatten(r.children.map(n))}return n}function a(e){if(e instanceof y.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof g.OutputNode){o(e.model.component.data.main);var t=p.flatten(e.children.map(i(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof h.AggregateNode||n instanceof k.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),a(e)}else e.children.forEach(a)}function o(e){if(e instanceof g.OutputNode&&e.type===d.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof y.FacetNode||(t.swapWithParent(),o(e))}}function s(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function l(e){function t(r,i){if(r instanceof O.SourceNode&&!d.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof v.ParseNode&&(r.parent instanceof O.SourceNode&&!i.source?i.format=f.__assign({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof y.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof M.FilterNode||r instanceof _.NullFilterNode||r instanceof M.CalculateNode||r instanceof h.AggregateNode||r instanceof w.OrderNode||r instanceof M.LookupNode)&&i.transform.push(r.assemble()),(r instanceof b.NonPositiveFilterNode||r instanceof m.BinNode||r instanceof E.TimeUnitNode||r instanceof k.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof h.AggregateNode&&(i.name||(i.name="data_"+n++)),r instanceof g.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof g.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof g.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source,r.children.forEach(function(e){var n={name:null,source:o,transform:[]};t(e,n)})}}var n=0;return t}function u(e){var t=[],n=l(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function c(e){var t=p.vals(e.sources),n=[];t.forEach(r),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.moveParseUp)),s(t).forEach(S.removeDuplicateTimeUnits),t.forEach(a);var i=l(n),o=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+o++);var t=e.assemble();i(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var u=0,c=n;u<c.length;u++)for(var f=c[u],d=0,h=f.transform||[];d<h.length;d++){var m=h[d];"lookup"===m.type&&(m.from=e.outputNodes[m.from].getSource())}return n}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n(77),p=n(2),h=n(176),m=n(177),g=n(27),y=n(286),v=n(116),b=n(287),_=n(288),x=n(289),S=n(289),w=n(290),O=n(117),k=n(291),E=n(92),M=n(292);t.FACET_SCALE_PREFIX="scale_",t.assembleFacetData=u,t.assembleData=c},function(e,t,n){"use strict";function r(e){return[u.COLOR,u.SIZE,u.SHAPE,u.OPACITY].reduce(function(t,n){return e.legend(n)&&(t[n]=a(e,n)),t},{})}function i(e,t){switch(t){case u.COLOR:var n=e.scaleName(u.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case u.SIZE:return{size:e.scaleName(u.SIZE)};case u.SHAPE:return{shape:e.scaleName(u.SHAPE)};case u.OPACITY:return{opacity:e.scaleName(u.OPACITY)}}return null}function a(e,t){var n=e.fieldDef(t),r=e.legend(t),a=new y.LegendComponent({},i(e,t));f.LEGEND_PROPERTIES.forEach(function(n){var i=o(n,r,t,e);if(void 0!==i){var s="values"===n?!!r.values:i===r[n];a.set(n,i,s)}});var s=r.encoding||{},l=["labels","legend","title","symbols"].reduce(function(r,i){var a=v[i]?v[i](n,s[i],e,t):s[i];return void 0!==a&&d.keys(a).length>0&&(r[i]={update:a}),r},{});return d.keys(l).length>0&&a.set("encode",l,!!r.encoding),a}function o(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return p.numberFormat(i,t.format,r.config);case"title":return p.getSpecifiedOrDefaultValue(t.title,c.title(i,r.config));case"values":return b.values(t);case"type":return p.getSpecifiedOrDefaultValue(t.type,b.type(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}function s(e){for(var t=e.component,n=t.legends,r=t.resolve,i=function(t){t.parseLegend(),d.keys(t.component.legends).forEach(function(r){var i=e.component.resolve[r];i.legend=h.parseGuideResolve(e.component.resolve,r),"shared"===i.legend&&(n[r]=l(n[r],t.component.legends[r]),n[r]||(i.legend="independent",delete n[r]))})},a=0,o=e.children;a<o.length;a++){var s=o[a];i(s)}d.keys(n).forEach(function(t){for(var n=0,i=e.children;n<i.length;n++){var a=i[n];if(!a.component.legends[t])return;"shared"===r[t].legend&&delete a.component.legends[t]}})}function l(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=function(n){var r=g.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return p.titleMerger(e,t);case"type":return m.makeImplicit("symbol")}return g.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)},a=0,o=f.VG_LEGEND_PROPERTIES;a<o.length;a++){var s=o[a];i(s)}return e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),c=n(14),f=n(180),d=n(2),p=n(19),h=n(121),m=n(38),g=n(38),y=n(629),v=n(630),b=n(631);t.parseUnitLegend=r,t.parseLegendForChannel=a,t.parseNonUnitLegend=s,t.mergeLegendComponent=l},function(e,t,n){"use strict";function r(e,t,n,r,i,a){return _.isFieldDef(t)&&i&&e===i.fieldChannel?o(t,n,{suffix:"end"}):u(e,t,n,r,a)}function i(e,t,n,r,i,a,s){return _.isFieldDef(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?o(t,r,{suffix:"start"}):u(e,n,r,i,s)}function a(e,t,n,r){return o(e,t,{binSuffix:n},r?{offset:r}:{})}function o(e,t,n,r){var i={scale:t,field:_.field(e,n)};return r?y.__assign({},i,r):i}function s(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function l(e,t){return{signal:"("+('scale("'+t+'", '+_.field(e,{binSuffix:"start",expr:"datum"})+")")+" + "+('scale("'+t+'", '+_.field(e,{binSuffix:"end",expr:"datum"})+")")+")/2"}}function u(e,t,n,r,i){if(t){if(_.isFieldDef(t)){if(t.bin)return S.contains(["x","y"],e)?l(t,n):o(t,n,{binSuffix:"start"});var a=r.get("type");return x.hasDiscreteDomain(a)?"band"===a?o(t,n,{binSuffix:"range"},{band:.5}):o(t,n,{binSuffix:"range"}):o(t,n,{})}if(_.isValueDef(t))return{value:t.value};throw new Error("FieldDef without field or value.")}if("zeroOrMin"===i){if(e===b.X||e===b.X2)return p(n,r);if(e===b.Y||e===b.Y2)return m(n,r);throw new Error("Unsupported channel "+e+" for base function")}if("zeroOrMax"===i){if(e===b.X||e===b.X2)return h(n,r);if(e===b.Y||e===b.Y2)return g(n,r);throw new Error("Unsupported channel "+e+" for base function")}return i}function c(e,t){if(e){if(_.isFieldDef(e))return O.formatSignalRef(e,e.format,"datum",t);if(_.isValueDef(e))return{value:e.value}}}function f(e,t){return v.isNumber(e)?{value:e/2}:w.isVgSignalRef(e)?y.__assign({},e,{mult:.5}):{value:t.scale.rangeStep/2}}function d(e,t){return v.isNumber(e)?{value:e/2}:w.isVgSignalRef(e)?y.__assign({},e,{mult:.5}):{value:t.scale.rangeStep/2}}function p(e,t){return e&&!S.contains([x.ScaleType.LOG,x.ScaleType.TIME,x.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}function h(e,t){return e&&!S.contains([x.ScaleType.LOG,x.ScaleType.TIME,x.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"width"}}}function m(e,t){return e&&!S.contains([x.ScaleType.LOG,x.ScaleType.TIME,x.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"height"}}}function g(e,t){return e&&!S.contains([x.ScaleType.LOG,x.ScaleType.TIME,x.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}Object.defineProperty(t,"__esModule",{value:!0});var y=n(1),v=n(15),b=n(5),_=n(14),x=n(13),S=n(2),w=n(52),O=n(19);t.stackable=r,t.stackable2=i,t.bin=a,t.fieldRef=o,t.band=s,t.midPoint=u,t.text=c,t.midX=f,t.midY=d},function(e,t){"use strict";function n(e){return!!e.url}function r(e){return!!e.values}function i(e){return!!e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlData=n,t.isInlineData=r,t.isNamedData=i,t.MAIN="main",t.RAW="raw"},function(e,t){"use strict";function n(e){return"string"==typeof e&&r.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var a=n(10),o=n(139),s=n(140),l=n(144),u=n(229),c=n(230),f=(n(4),{}),d=null,p=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},m=function(e){return p(e,!1)},g=function(e){return"."+e._rootNodeID},y={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?a("94",t,typeof n):void 0;var r=g(e),i=f[t]||(f[t]={});i[r]=n;var s=o.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=f[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=f[t];if(r){var i=g(e);delete r[i]}},deleteAllListeners:function(e){var t=g(e);for(var n in f)if(f.hasOwnProperty(n)&&f[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete f[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,s=0;s<a.length;s++){var l=a[s];if(l){var c=l.extractEvents(e,t,n,r);c&&(i=u(i,c))}}return i},enqueueEvents:function(e){e&&(d=u(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d?a("95"):void 0,l.rethrowCaughtError()},__purge:function(){f={}},__getListenerBank:function(){return f}};e.exports=y},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,i,e)}function o(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){g(e,a)}function c(e){g(e,o)}function f(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){g(e,l)}var p=n(79),h=n(140),m=n(229),g=n(230),y=(n(9),p.getListener),v={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:f};e.exports=v},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a=n(149),o={view:function(e){if(e.view)return e.view;var t=a(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var i=n(18),a=(t.history=(0,i.shape)({listen:i.func.isRequired,push:i.func.isRequired,replace:i.func.isRequired,go:i.func.isRequired,goBack:i.func.isRequired,goForward:i.func.isRequired}),t.component=(0,i.oneOfType)([i.func,i.string])),o=(t.components=(0,i.oneOfType)([a,i.object]),t.route=(0,i.oneOfType)([i.object,i.element]));t.routes=(0,i.oneOfType)([o,(0,i.arrayOf)(o)])},10,function(e,t,n){"use strict";function r(e){return!!o[e]}function i(e){return e&&a.contains(t.COUNTING_OPS,e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),o={values:1,count:1,valid:1,missing:1,distinct:1,sum:1,mean:1,average:1,variance:1,variancep:1,stdev:1,stdevp:1,median:1,q1:1,q3:1,ci0:1,ci1:1,min:1,max:1,argmin:1,argmax:1};t.AGGREGATE_OPS=a.flagKeys(o),t.isAggregateOp=r,t.COUNTING_OPS=["count","valid","missing","distinct"],t.isCountingAggregateOp=i,t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=a.toSet(t.SHARED_DOMAIN_OPS)},function(e,t,n){"use strict";function r(e){a(e);var t=e.component.layoutSize;t.setWithExplicit("width",o(e,"width")),t.setWithExplicit("height",o(e,"height"))}function i(e){a(e);var t=e.component.layoutSize,n=e.isVConcat?"width":"height";t.setWithExplicit(n,o(e,n))}function a(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];r.parseLayoutSize()}}function o(e,t){for(var n,r="width"===t?"x":"y",i=e.component.resolve,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.layoutSize.getWithExplicit(t),u=i.scale[r];if("independent"===u&&"range-step"===l.value){n=void 0;break}if(n){if("independent"===u&&n.value!==l.value){n=void 0;break}n=f.mergeValuesWithExplicit(n,l,t,"",f.defaultTieBreaker)}else n=l}if(n){for(var c=0,d=e.children;c<d.length;c++){var s=d[c];e.renameLayoutSize(s.getName(t),e.getName(t)),s.component.layoutSize.set(t,"merged",!1)}return n}return{explicit:!1,value:void 0}}function s(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=l(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=l(e,"height");t.set("height",r,!1)}}function l(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");return u.hasDiscreteDomain(a)&&c.isVgRangeStep(o)?"range-step":r.cell[t]}return"width"===t&&"text"===e.mark()?r.scale.textXRangeStep:r.scale.rangeStep||u.defaultScaleConfig.rangeStep}Object.defineProperty(t,"__esModule",{value:!0});var u=n(12),c=n(41),f=n(37);t.parseLayerLayoutSize=r,t.parseRepeatLayoutSize=r,t.parseConcatLayoutSize=i,t.parseChildrenLayoutSize=a,t.parseUnitLayoutSize=s},function(e,t,n){"use strict";function r(e){E.isUnitModel(e)?i(e):a(e)}function i(e){var t=e.specifiedScales,n=e.component.scales;w.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=s(e,r),l=n[r];l.domains=o,x.isSelectionDomain(a)&&l.set("domainRaw",{signal:M.SELECTION_DOMAIN+JSON.stringify(a)},!0)})}function a(e){for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}var a=e.component.scales;w.keys(a).forEach(function(t){for(var n,r=0,i=e.children;r<i.length;r++){var o=i[r],s=o.component.scales[t];s&&(n=void 0===n?s.domains:n.concat(s.domains))}E.isFacetModel(e)&&n.forEach(function(e){O.isDataRefDomain(e)&&(e.data=k.FACET_SCALE_PREFIX+e.data.replace(k.FACET_SCALE_PREFIX,""))}),a[t].domains=n})}function o(e,t,n,r){if("unaggregated"===e){var i=c(t,n),a=i.valid,o=i.reason;if(!a)return void _.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=c(t,n).valid;if(a)return"unaggregated"}return e}function s(e,t){var n=e.getScaleComponent(t).get("type"),r=o(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=p.__assign({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?l(n,r,e,"x").concat(l(n,r,e,"x2")):l(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?l(n,r,e,"y").concat(l(n,r,e,"y2")):l(n,r,e,"y2"):l(n,r,e,t)}function l(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!x.isSelectionDomain(t)){if(!i.bin)return b.isDateTime(t[0])?t.map(function(e){return{signal:"{data: "+b.dateTimeExpr(e,!0)+"}"}}):[t];_.warn(_.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel){if("normalize"===a.offset)return[[0,1]];var o=n.requestDataName(v.MAIN);return[{data:o,field:n.field(r,{suffix:"start"})},{data:o,field:n.field(r,{suffix:"end"})}]}var s=y.isScaleChannel(r)?u(n,r,e):void 0;if("unaggregated"===t){var o=n.requestDataName(v.MAIN);return[{data:o,field:n.field(r,{aggregate:"min"})},{data:o,field:n.field(r,{aggregate:"max"})}]}if(i.bin){if(x.isBinScale(e)){var l=n.getName(g.binToString(i.bin)+"_"+i.field+"_bins");return[{signal:"sequence("+l+".start, "+l+".stop + "+l+".step, "+l+".step)"
}]}if(x.hasDiscreteDomain(e))return[{data:s&&w.isBoolean(s)?n.requestDataName(v.MAIN):n.requestDataName(v.RAW),field:n.field(r,{binSuffix:"range"}),sort:s||{field:n.field(r,{}),op:"min"}}];if("x"===r||"y"===r){var o=n.requestDataName(v.MAIN);return[{data:o,field:n.field(r,{})},{data:o,field:n.field(r,{binSuffix:"end"})}]}return[{data:n.requestDataName(v.MAIN),field:n.field(r,{})}]}return s?[{data:w.isBoolean(s)?n.requestDataName(v.MAIN):n.requestDataName(v.RAW),field:n.field(r),sort:s}]:[{data:n.requestDataName(v.MAIN),field:n.field(r)}]}function u(e,t,n){if(x.hasDiscreteDomain(n)){var r=e.sort(t);return S.isSortField(r)?r:"descending"===r?{op:"min",field:e.field(t),order:"descending"}:!!w.contains(["ascending",void 0],r)||void 0}}function c(e,t){return e.aggregate?m.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:_.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:_.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:_.message.unaggregateDomainHasNoEffectForRawField(e)}}function f(e){var t=w.unique(e.map(function(e){if(O.isDataRefDomain(e)){var t=(e.sort,p.__rest(e,["sort"]));return t}return e}),w.hash),n=w.unique(e.map(function(e){if(O.isDataRefDomain(e)){var t=e.sort;return void 0===t||w.isBoolean(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(function(e){return void 0!==e}),w.hash);if(1===t.length){var r=e[0];if(O.isDataRefDomain(r)&&n.length>0){var i=n[0];return n.length>1&&(_.warn(_.message.MORE_THAN_ONE_SORT),i=!0),p.__assign({},r,{sort:i})}return r}var a=n.filter(function(e){return!!w.isBoolean(e)||("count"===e.op||(_.warn(_.message.domainSortDropped(e)),!1))}),o=!0;if(1===a.length)o=a[0];else if(a.length>1){var s=a.filter(function(e){return e!==!1});s.length>1?(_.warn(_.message.MORE_THAN_ONE_SORT),o=!0):o=s[0]}var l=w.unique(e.map(function(e){return O.isDataRefDomain(e)?e.data:null}),function(e){return e});if(1===l.length&&null!==l[0]){var r={data:l[0],fields:t.map(function(e){return e.field}),sort:o};return r}return{fields:t,sort:o}}function d(e){var t=f(e);if(O.isDataRefDomain(t)&&h.isString(t.field))return t.field}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(15),m=n(85),g=n(105),y=n(6),v=n(55),b=n(56),_=n(7),x=n(12),S=n(173),w=n(3),O=n(41),k=n(271),E=n(22),M=n(23);t.parseScaleDomain=r,t.parseDomainForChannel=s,t.domainSort=u,t.canUseUnaggregatedDomain=c,t.mergeDomains=f,t.getFieldFromDomains=d},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return l(e)||u(e)}function l(e){return void 0!==e.vconcat}function u(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return f(e,t);if(a(e))return d(e,t);if(o(e))return p(e,t);if(l(e))return h(e,t);if(u(e))return m(e,t);if(i(e)){var n=T.channelHasField(e.encoding,E.ROW),s=T.channelHasField(e.encoding,E.COLUMN);return n||s?g(e,t):v(e,t)}throw new Error(C.message.INVALID_SPEC)}function f(e,t){var n=e.spec,r=k.__rest(e,["spec"]);return k.__assign({},r,{spec:c(n,t)})}function d(e,t){var n=e.layer,r=k.__rest(e,["layer"]);return k.__assign({},r,{layer:n.map(function(e){return a(e)?d(e,t):v(e,t)})})}function p(e,t){var n=e.spec,r=k.__rest(e,["spec"]);return k.__assign({},r,{spec:c(n,t)})}function h(e,t){var n=e.vconcat,r=k.__rest(e,["vconcat"]);return k.__assign({},r,{vconcat:n.map(function(e){return c(e,t)})})}function m(e,t){var n=e.hconcat,r=k.__rest(e,["hconcat"]);return k.__assign({},r,{hconcat:n.map(function(e){return c(e,t)})})}function g(e,t){var n=e.encoding,r=n.row,i=n.column,a=k.__rest(n,["row","column"]),o=e.mark,s=e.width,l=e.height,u=e.selection,c=(e.encoding,k.__rest(e,["mark","width","height","selection","encoding"]));return k.__assign({},c,{facet:k.__assign({},r?{row:r}:{},i?{column:i}:{}),spec:v(k.__assign({mark:o},s?{width:s}:{},l?{height:l}:{},{encoding:a},u?{selection:u}:{}),t)})}function y(e){return D.isPrimitiveMark(e.mark)}function v(e,t){if(y(e)){if(T.isRanged(e.encoding))return b(e);var n=t&&t.overlay,r=n&&e.mark===D.AREA&&N.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===D.LINE||"linepoint"===n.area&&e.mark===D.AREA);return i||r?_(e,i,r,t):e}return M.normalize(e,t)}function b(e){var t=T.channelHasField(e.encoding,E.X),n=T.channelHasField(e.encoding,E.Y),r=T.channelHasField(e.encoding,E.X2),i=T.channelHasField(e.encoding,E.Y2);if(r&&!t||i&&!n){var a=N.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function _(e,t,n,r){var i=e.mark,a=e.selection,o=e.encoding,s=k.__rest(e,["mark","selection","encoding"]),l=[{mark:i,encoding:o}],u=A.stack(i,o,r?r.stack:void 0),c=o;if(u){var f=u.fieldChannel,d=u.offset;c=k.__assign({},o,(p={},p[f]=k.__assign({},o[f],d?{stack:d}:{}),p))}return n&&l.push(k.__assign({mark:{type:"line",style:"lineOverlay"}},a?{selection:a}:{},{encoding:c})),t&&l.push(k.__assign({mark:{type:"point",filled:!0,style:"pointOverlay"}},a?{selection:a}:{},{encoding:c})),k.__assign({},s,{layer:l});var p}function x(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=N.hash(n);e[r]=e[r]||t}),e}function S(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?x(t,P.fieldDefs(e.encoding)):S(e,t)});else if(r(e))x(t,P.fieldDefs(e.facet)),S(e.spec,t);else if(o(e))S(e.spec,t);else if(s(e)){var n=l(e)?e.vconcat:e.hconcat;n.forEach(function(e){return S(e,t)})}else x(t,P.fieldDefs(e.encoding));return t}function w(e){return N.vals(S(e))}function O(e,t){return t=t||e.config,!!D.isPrimitiveMark(e.mark)&&null!==A.stack(e.mark,e.encoding,t?t.stack:void 0)}Object.defineProperty(t,"__esModule",{value:!0});var k=n(1),E=n(6),M=n(113),T=n(30),P=n(30),C=n(7),D=n(31),A=n(174),N=n(3);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=l,t.isHConcatSpec=u,t.normalize=c,t.fieldDefs=w,t.isStacked=O},function(e,t,n){"use strict";function r(e){return e&&i.contains(t.COUNTING_OPS,e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.AGGREGATE_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","ci0","ci1","modeskew","min","max","argmin","argmax"],t.AGGREGATE_OP_INDEX=i.toSet(t.AGGREGATE_OPS),t.COUNTING_OPS=["count","valid","missing","distinct"],t.isCountingAggregateOp=r,t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=i.toSet(t.SHARED_DOMAIN_OPS)},function(e,t,n){"use strict";function r(e){return o.isBoolean(e)?"bin":"bin"+o.keys(e).map(function(t){return"_"+t+"_"+e[t]}).join("")}function i(e){switch(e){case a.ROW:case a.COLUMN:case a.SIZE:case a.COLOR:case a.OPACITY:case a.SHAPE:return 6;default:return 10}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=n(2);t.binToString=r,t.autoMaxBins=i},function(e,t,n){"use strict";function r(e,t){if(e.data||!e.parent){var n=new b.SourceNode(e.data),r=n.hash();return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function i(e){var t=r(e,e.component.data.sources),n=e.component.data.outputNodes,i=e.component.data.outputNodeRefCounts,b=t,w=e.parent&&e.parent instanceof l.LayerModel;if(e instanceof u.ModelWithField&&w){var O=d.BinNode.makeBinFromEncoding(e);O&&(O.parent=b,b=O)}if(e.transforms.length>0){var k=S.parseTransformArray(e),E=k.first,M=k.last;E.parent=b,b=M}var T=m.ParseNode.make(e);if(T&&(T.parent=b,b=T),e instanceof u.ModelWithField){var P=y.NullFilterNode.make(e);if(P&&(P.parent=b,b=P),!w){var O=d.BinNode.makeBinFromEncoding(e);O&&(O.parent=b,b=O)}var C=x.TimeUnitNode.makeFromEncoding(e);C&&(C.parent=b,b=C)}var D=e.getName(o.RAW),A=new p.OutputNode(D,o.RAW,i);if(n[D]=A,A.parent=b,b=A,e instanceof c.UnitModel){var N=f.AggregateNode.makeFromEncoding(e);N&&(N.parent=b,b=N);var R=_.StackNode.make(e);R&&(R.parent=b,b=R);var I=g.NonPositiveFilterNode.make(e);I&&(I.parent=b,b=I)}if(e instanceof c.UnitModel){var F=v.OrderNode.make(e);F&&(F.parent=b,b=F)}var L=e.getName(o.MAIN),j=new p.OutputNode(L,o.MAIN,i);n[L]=j,j.parent=b,b=j;var z=null;if(e instanceof s.FacetModel){var $=e.getName("facet");z=new h.FacetNode(e,$,j.getSource()),n[$]=z,z.parent=b,b=z}var U=a.__assign({},e.component.data.ancestorParse,T?T.parse:{});return a.__assign({},e.component.data,{outputNodes:n,outputNodeRefCounts:i,main:j,facetRoot:z,ancestorParse:U})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(77),s=n(118),l=n(93),u=n(57),c=n(39),f=n(176),d=n(177),p=n(27),h=n(286),m=n(116),g=n(287),y=n(288),v=n(290),b=n(117),_=n(291),x=n(92),S=n(292);t.parseData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(14),a=n(59),o=n(33),s=n(2),l=n(27),u=function(e){function t(t){var n=e.call(this)||this;return n.formula=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this.formula))},t.makeFromEncoding=function(e){var n=e.reduceFieldDef(function(e,t){if(t.type===o.TEMPORAL&&t.timeUnit){var n=i.field(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===s.keys(n).length?null:new t(n)},t.makeFromTransform=function(e,n){return new t((r={},r[n.field]={as:n.as,timeUnit:n.timeUnit,field:n.field},r));var r},t.prototype.merge=function(e){this.formula=s.extend(this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return s.vals(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return s.vals(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return s.vals(this.formula).map(function(e){return{type:"formula",as:e.as,expr:a.fieldExpr(e.timeUnit,e.field)}})},t}(l.DataFlowNode);t.TimeUnitNode=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),a=n(28),o=n(95),s=n(2),l=n(284),u=n(19),c=n(74),f=n(91),d=n(119),p=n(94),h=n(75),m=n(57),g=n(25),y=n(39),v=function(e){function t(n,a,s,l,u,c){var f=e.call(this,n,a,s,c,n.resolve)||this,d=r.__assign({},l,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return f.initSize(d),f.children=n.layer.map(function(e,n){if(o.isLayerSpec(e))return new t(e,f,f.getName("layer_"+n),d,u,c);if(o.isUnitSpec(e))return new y.UnitModel(e,f,f.getName("layer_"+n),d,u,c);throw new Error(i.message.INVALID_SPEC)}),f}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=f.parseData(this);for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseData()}},t.prototype.parseLayoutSize=function(){p.parseLayerLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),s.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){l.parseLayerAxis(this)},t.prototype.parseLegend=function(){h.parseNonUnitLegend(this)},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},u.applyConfig({},this.config.cell,a.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},d.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleData=function(){return this.parent?[]:c.assembleData(this.component.data)},t.prototype.assembleScales=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleScales())},e.prototype.assembleScales.call(this))},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return g.assembleLayerSelectionMarks(this,s.flatten(this.children.map(function(e){return e.assembleMarks()})))},t}(m.Model);t.LayerModel=v},function(e,t,n){"use strict";function r(e){a(e);var t=e.component.layoutSize;t.setWithExplicit("width",o(e,"width")),t.setWithExplicit("height",o(e,"height"))}function i(e){a(e);var t=e.component.layoutSize,n=e.isVConcat?"width":"height";t.setWithExplicit(n,o(e,n))}function a(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];r.parseLayoutSize()}}function o(e,t){for(var n,r="width"===t?"x":"y",i=e.component.resolve,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.layoutSize.getWithExplicit(t),u=i[r]?i[r].scale:void 0;if("independent"===u&&"range-step"===l.value){n=void 0;break}if(n){if("independent"===u&&n.value!==l.value){n=void 0;break}n=f.mergeValuesWithExplicit(n,l,t,"",f.defaultTieBreaker)}else n=l}if(n){for(var c=0,d=e.children;c<d.length;c++){var s=d[c];e.renameLayoutSize(s.getSizeSignalRef(t).signal,e.getSizeSignalRef(t).signal),s.component.layoutSize.set(t,"merged",!1)}return n}return{explicit:!1,value:void 0}}function s(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=l(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=l(e,"height");t.set("height",r,!1)}}function l(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");return u.hasDiscreteDomain(a)&&c.isVgRangeStep(o)?"range-step":r.cell[t]}return"width"===t&&"text"===e.mark()?r.scale.textXRangeStep:r.scale.rangeStep||u.defaultScaleConfig.rangeStep}Object.defineProperty(t,"__esModule",{value:!0});var u=n(13),c=n(52),f=n(38);t.parseLayerLayoutSize=r,t.parseRepeatLayoutSize=r,t.parseConcatLayoutSize=i,t.parseChildrenLayoutSize=a,t.parseUnitLayoutSize=s},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return l(e)||u(e)}function l(e){return void 0!==e.vconcat}function u(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return p(e,t);if(a(e))return h(e,t);if(o(e))return m(e,e.config);if(l(e))return g(e,e.config);if(u(e))return y(e,e.config);if(i(e)){var n=C.channelHasField(e.encoding,T.ROW),s=C.channelHasField(e.encoding,T.COLUMN);return n||s?v(e,t):_(e,t)}throw new Error(A.message.INVALID_SPEC)}function f(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function d(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function p(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:f(n,t)})}function h(e,t){var n=e.layer,r=M.__rest(e,["layer"]);return M.__assign({},r,{layer:n.map(function(e){return a(e)?h(e,t):_(e,t)})})}function m(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:d(n,t)})}function g(e,t){var n=e.vconcat,r=M.__rest(e,["vconcat"]);return M.__assign({},r,{vconcat:n.map(function(e){return f(e,t)})})}function y(e,t){var n=e.hconcat,r=M.__rest(e,["hconcat"]);return M.__assign({},r,{hconcat:n.map(function(e){return f(e,t)})})}function v(e,t){var n=e.encoding,r=n.row,i=n.column,a=M.__rest(n,["row","column"]),o=e.mark,s=e.width,l=e.height,u=e.selection,c=(e.encoding,M.__rest(e,["mark","width","height","selection","encoding"]));return M.__assign({},c,{facet:M.__assign({},r?{row:r}:{},i?{column:i}:{}),spec:_(M.__assign({mark:o},s?{width:s}:{},l?{height:l}:{},{encoding:a},u?{selection:u}:{}),t)})}function b(e){return N.isPrimitiveMark(e.mark)}function _(e,t){if(b(e)){if(C.isRanged(e.encoding))return x(e);var n=t&&t.overlay,r=n&&e.mark===N.AREA&&I.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===N.LINE||"linepoint"===n.area&&e.mark===N.AREA);return i||r?S(e,i,r,t):e}return P.normalize(e,t)}function x(e){var t=C.channelHasField(e.encoding,T.X),n=C.channelHasField(e.encoding,T.Y),r=C.channelHasField(e.encoding,T.X2),i=C.channelHasField(e.encoding,T.Y2);if(r&&!t||i&&!n){var a=I.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function S(e,t,n,r){var i=e.mark,a=e.selection,o=e.encoding,s=M.__rest(e,["mark","selection","encoding"]),l=[{mark:i,encoding:o}],u=R.stack(i,o,r?r.stack:void 0),c=o;if(u){var f=u.fieldChannel,d=u.offset;c=M.__assign({},o,(p={},p[f]=M.__assign({},o[f],d?{stack:d}:{}),p))}return n&&l.push(M.__assign({mark:{type:"line",role:"lineOverlay"}},a?{selection:a}:{},{encoding:c})),t&&l.push(M.__assign({mark:{type:"point",filled:!0,role:"pointOverlay"}},a?{selection:a}:{},{encoding:c})),M.__assign({},s,{layer:l});var p}function w(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=I.hash(n);e[r]=e[r]||t}),e}function O(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?w(t,D.fieldDefs(e.encoding)):O(e,t)});else if(r(e))w(t,D.fieldDefs(e.facet)),O(e.spec,t);else if(o(e))O(e.spec,t);else if(s(e)){var n=l(e)?e.vconcat:e.hconcat;n.forEach(function(e){return O(e,t)})}else w(t,D.fieldDefs(e.encoding));return t}function k(e){return I.vals(O(e))}function E(e,t){return t=t||e.config,!!N.isPrimitiveMark(e.mark)&&null!==R.stack(e.mark,e.encoding,t?t.stack:void 0)}Object.defineProperty(t,"__esModule",{value:!0});var M=n(1),T=n(5),P=n(123),C=n(32),D=n(32),A=n(8),N=n(28),R=n(182),I=n(2);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=l,t.isHConcatSpec=u,t.normalize=c,t.fieldDefs=k,t.isStacked=E},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,f[e[m]]={}),f[e[m]]}var i,a=n(20),o=n(139),s=n(482),l=n(228),u=n(514),c=n(150),f={},d=!1,p=0,h={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=a({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),a=o.registrationNameDependencies[e],s=0;s<a.length;s++){var l=a[s];i.hasOwnProperty(l)&&i[l]||("topWheel"===l?c("wheel")?g.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):g.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===l?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):g.ReactEventListener.trapBubbledEvent("topScroll","scroll",g.ReactEventListener.WINDOW_HANDLE):"topFocus"===l||"topBlur"===l?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent("topFocus","focus",n),g.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),g.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):h.hasOwnProperty(l)&&g.ReactEventListener.trapBubbledEvent(l,h[l],n),i[l]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=g.supportsEventPageXY()),!i&&!d){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(82),a=n(228),o=n(148),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(10),i=(n(4),{}),a={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,a,o,s,l){this.isInTransaction()?r("27"):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,i,a,o,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(a){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var a,o=t[n],s=this.wrapperInitData[n];try{a=!0,s!==i&&o.close&&o.close.call(this,s),a=!1}finally{if(a)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}};e.exports=a},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,a="",o=0,s=0;for(o=n.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==o&&(a+=t.substring(s,o)),s=o+1,a+=r}return s!==o?a+t.substring(s,o):a}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var i=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r,i=n(26),a=n(138),o=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=n(146),u=l(function(e,t){if(e.namespaceURI!==a.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var i=n(51);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var a=n(156);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return a.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return a.routerShape}});var o=n(67);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return o.formatPattern}});var s=n(535),l=r(s),u=n(245),c=r(u),f=n(531),d=r(f),p=n(546),h=r(p),m=n(532),g=r(m),y=n(533),v=r(y),b=n(247),_=r(b),x=n(534),S=r(x),w=n(157),O=r(w),k=n(544),E=r(k),M=n(252),T=r(M),P=n(537),C=r(P),D=n(538),A=r(D),N=n(542),R=r(N),I=n(249),F=r(I);t.Router=l.default,t.Link=c.default,t.IndexLink=d.default,t.withRouter=h.default,t.IndexRedirect=g.default,t.IndexRoute=v.default,t.Redirect=_.default,t.Route=S.default,t.RouterContext=O.default,t.match=E.default,t.useRouterHistory=T.default,t.applyRouterMiddleware=C.default,t.browserHistory=A.default,t.hashHistory=R.default,t.createMemoryHistory=F.default},function(e,t,n){"use strict";function r(e){return o.isBoolean(e)?"bin":"bin"+o.keys(e).map(function(t){return"_"+t+"_"+e[t]}).join("")}function i(e){switch(e){case a.ROW:case a.COLUMN:case a.SIZE:case a.COLOR:case a.OPACITY:case a.SHAPE:return 6;default:return 10}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(3);t.binToString=r,t.autoMaxBins=i},function(e,t,n){"use strict";function r(e,t,n,r,f,d){if(a.isFacetSpec(e))return new s.FacetModel(e,t,n,f,d);if(a.isLayerSpec(e))return new l.LayerModel(e,t,n,r,f,d);if(a.isUnitSpec(e))return new c.UnitModel(e,t,n,r,f,d);if(a.isRepeatSpec(e))return new u.RepeatModel(e,t,n,f,d);if(a.isConcatSpec(e))return new o.ConcatModel(e,t,n,f,d);throw new Error(i.message.INVALID_SPEC)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(88),o=n(583),s=n(585),l=n(586),u=n(599),c=n(280);t.buildModel=r},function(e,t,n){"use strict";function r(e,t){if(e.data||!e.parent){var n=new M.SourceNode(e.data),r=n.hash();return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function i(e){function t(e){i?e.parent?r.insertAsParentOf(e):e.parent=r:i=e.parent||e,r=e}var n,r,i=null,a=0;e.transforms.forEach(function(r){if(d.isCalculate(r))n=new v.CalculateNode(r);else if(d.isFilter(r)){var i={},o=r.filter,l=null;if(c.isEqualFilter(o)?l=o.equal:c.isRangeFilter(o)?l=o.range[0]:c.isOneOfFilter(o)&&(l=(o.oneOf||o.in)[0]),l&&(u.isDateTime(l)?i[o.field]="date":s.isNumber(l)?i[o.field]="number":s.isString(l)&&(i[o.field]="string")),p.keys(i).length>0){var h=new S.ParseNode(i);t(h)}n=new x.FilterNode(e,r.filter)}else if(d.isBin(r))n=y.BinNode.makeFromTransform(r,{model:e});else if(d.isTimeUnit(r))n=P.TimeUnitNode.makeFromTransform(r);else if(d.isSummarize(r))n=g.AggregateNode.makeFromTransform(r),m.requiresSelectionId(e)&&(t(n),n=new w.IdentifierNode);else{if(!d.isLookup(r))return void f.warn(f.message.invalidTransformIgnored(r));n=O.LookupNode.make(e,r,a++)}t(n)});var o=n;return{first:i,last:o}}function a(e){var t=r(e,e.component.data.sources),n=e.component.data.outputNodes,a=e.component.data.outputNodeRefCounts,s=t;if(m.requiresSelectionId(e)&&!e.parent){var u=new w.IdentifierNode;u.parent=s,s=u}var c=e.parent&&h.isLayerModel(e.parent);if((h.isUnitModel(e)||h.isFacetModel(e))&&c){var f=y.BinNode.makeBinFromEncoding(e);f&&(f.parent=s,s=f)}if(e.transforms.length>0){var d=i(e),p=d.first,v=d.last;p.parent=s,s=v}var x=S.ParseNode.make(e);if(x&&(x.parent=s,s=x),h.isUnitModel(e)||h.isFacetModel(e)){var O=E.NullFilterNode.make(e);if(O&&(O.parent=s,s=O),!c){var f=y.BinNode.makeBinFromEncoding(e);f&&(f.parent=s,s=f)}var M=P.TimeUnitNode.makeFromEncoding(e);M&&(M.parent=s,s=M)}var C=e.getName(l.RAW),D=new b.OutputNode(C,l.RAW,a);if(n[C]=D,D.parent=s,s=D,h.isUnitModel(e)){var A=g.AggregateNode.makeFromEncoding(e);if(A&&(A.parent=s,s=A,m.requiresSelectionId(e))){var u=new w.IdentifierNode;u.parent=s,s=u}var N=T.StackNode.make(e);N&&(N.parent=s,s=N);var R=k.NonPositiveFilterNode.make(e);R&&(R.parent=s,s=R)}var I=e.getName(l.MAIN),F=new b.OutputNode(I,l.MAIN,a);n[I]=F,F.parent=s,s=F;var L=null;if(h.isFacetModel(e)){var j=e.getName("facet");L=new _.FacetNode(e,j,F.getSource()),n[j]=L,L.parent=s,s=L}var z=o.__assign({},e.component.data.ancestorParse,x?x.parse:{});return o.__assign({},e.component.data,{outputNodes:n,outputNodeRefCounts:a,raw:D,main:F,facetRoot:L,ancestorParse:z})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(55),u=n(56),c=n(114),f=n(7),d=n(115),p=n(3),h=n(22),m=n(23),g=n(161),y=n(266),v=n(267),b=n(21),_=n(162),x=n(268),S=n(163),w=n(269),O=n(270),k=n(164),E=n(165),M=n(108),T=n(166),P=n(109);t.parseTransformArray=i,t.parseData=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(55),a=n(3),o=n(21),s=function(e){function t(t){var n=e.call(this)||this;if(t=t||{name:"source"},i.isInlineData(t))n._data={values:t.values};else if(i.isUrlData(t)){var o=/(?:\.([^.]+))?$/.exec(t.url)[1];a.contains(["json","csv","tsv","topojson"],o)||(o="json");var s=t.format||{},l=s.type||t.formatType,u=s.property,c=s.feature,f=s.mesh,d=r.__assign({type:l?l:o},u?{property:u}:{},c?{feature:c}:{},f?{mesh:f}:{});n._data={url:t.url,format:d}}else i.isNamedData(t)&&(n._name=t.name,n._data={});return n}return r.__extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return i.isInlineData(this._data)?a.hash(this._data):i.isUrlData(this._data)?this._data.url+" "+a.hash(this._data.format):this._name;
},t.prototype.assemble=function(){return r.__assign({name:this._name},this._data,{transform:[]})},t}(o.DataFlowNode);t.SourceNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(11),a=n(73),o=n(3),s=n(21),l=function(e){function t(t){var n=e.call(this)||this;return n.formula=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(o.duplicate(this.formula))},t.makeFromEncoding=function(e){var n=e.reduceFieldDef(function(e,t){if(t.timeUnit){var n=i.field(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===o.keys(n).length?null:new t(n)},t.makeFromTransform=function(e){return new t((n={},n[e.field]={as:e.as,timeUnit:e.timeUnit,field:e.field},n));var n},t.prototype.merge=function(e){this.formula=o.extend(this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return o.vals(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return o.vals(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return o.vals(this.formula).map(function(e){return{type:"formula",as:e.as,expr:a.fieldExpr(e.timeUnit,e.field)}})},t}(s.DataFlowNode);t.TimeUnitNode=l},function(e,t,n){"use strict";function r(e){return[].concat(i(e,"width"),i(e,"height"))}function i(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("range-step"===r){var c=e.getScaleComponent(n);if(c){var f=c.get("type"),d=c.get("range");if(s.hasDiscreteDomain(f)&&l.isVgRangeStep(d)){var p=e.scaleName(n);if(u.isFacetModel(e.parent)){var h=e.parent.component.resolve;if("independent"===h.scale[n])return[a(p,d)]}return[a(p,d),{name:i,update:o(p,c,"domain('"+p+"').length")}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,update:""+r}]}function a(e,t){return{name:e+"_step",value:t.step}}function o(e,t,n){var r=t.get("type"),i=t.get("padding"),a=t.get("paddingOuter");a=void 0!==a?a:i;var o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace("+n+", "+o+", "+a+") * "+e+"_step"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(12),l=n(41),u=n(22);t.assembleLayoutSignals=r,t.sizeSignals=i,t.sizeExpr=o},function(e,t,n){"use strict";function r(e,t){if(l.isLayerModel(t)||l.isFacetModel(t))return"shared";if(l.isConcatModel(t)||l.isRepeatModel(t))return s.contains(a.SPATIAL_SCALE_CHANNELS,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function i(e,t){var n=e.scale[t],r=s.contains(a.SPATIAL_SCALE_CHANNELS,t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&o.warn(o.message.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(7),s=n(3),l=n(22);t.defaultScaleResolve=r,t.parseGuideResolve=i},function(e,t,n){"use strict";function r(e,t){var n=o.stringValue(e.scaleName(t));return"domain("+n+")"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),a=n(12),o=n(3),s=n(23),l={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var o=t.channel,l=e.getScaleComponent(o),u=l?l.get("type"):void 0;return l&&a.hasContinuousDomain(u)&&!a.isBinScale(u)?(l.set("domainRaw",{signal:s.channelSignalName(n,o,"data")},!0),void r.push(o)):void i.warn("Scale bindings are currently only supported for scales with unbinned, continuous domains.")})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===s.channelSignalName(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:s.channelSignalName(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===s.channelSignalName(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};t.default=l,t.domain=r},function(e,t,n){"use strict";function r(e,t){c[e]=t}function i(e){delete c[e]}function a(e,t){var n=s.isMarkDef(e.mark)?e.mark.type:e.mark,r=c[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(31),l=n(611),u=n(612),c={};t.add=r,t.remove=i,t.COMPOSITE_MARK_STYLES=l.BOXPLOT_STYLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=o.__assign({},l.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),r(l.BOXPLOT,l.normalizeBoxPlot),r(u.ERRORBAR,u.normalizeErrorBar),t.normalize=a},function(e,t,n){"use strict";function r(e){return e&&e.selection}function i(e){return e&&!!e.field&&void 0!==e.equal}function a(e){return!!(e&&e.field&&y.isArray(e.range)&&2===e.range.length)}function o(e){return e&&!!e.field&&(y.isArray(e.oneOf)||y.isArray(e.in))}function s(e){return o(e)||i(e)||a(e)}function l(e,t,n){return y.logicalExpr(t,function(t){return y.isString(t)?t:r(t)?p.predicate(e,t.selection,n):u(t)})}function u(e){var t=e.timeUnit?"time("+g.fieldExpr(e.timeUnit,e.field)+")":m.field(e,{expr:"datum"});if(i(e))return t+"==="+c(e.equal,e.timeUnit);if(o(e)){var n=e.oneOf||e.in;return"indexof(["+n.map(function(t){return c(t,e.timeUnit)}).join(",")+"], "+t+") !== -1"}{if(!a(e))throw new Error("Invalid field filter: "+JSON.stringify(e));var r=e.range[0],s=e.range[1];if(null!==r&&null!==s)return"inrange("+t+", ["+c(r,e.timeUnit)+", "+c(s,e.timeUnit)+"])";if(null!==r)return t+" >= "+r;if(null!==s)return t+" <= "+s}}function c(e,t){if(h.isDateTime(e)){var n=h.dateTimeExpr(e,!0);return"time("+n+")"}if(g.isLocalSingleTimeUnit(t)){var r={};r[t]=e;var n=h.dateTimeExpr(r,!0);return"time("+n+")"}return g.isUtcSingleTimeUnit(t)?c(e,g.getLocalTimeUnit(t)):JSON.stringify(e)}function f(e){return s(e)&&e.timeUnit?d.__assign({},e,{timeUnit:g.normalizeTimeUnit(e.timeUnit)}):e}Object.defineProperty(t,"__esModule",{value:!0});var d=n(1),p=n(23),h=n(56),m=n(11),g=n(73),y=n(3);t.isSelectionFilter=r,t.isEqualFilter=i,t.isRangeFilter=a,t.isOneOfFilter=o,t.isFieldFilter=s,t.expression=l,t.fieldFilterExpression=u,t.normalizeFilter=f},function(e,t,n){"use strict";function r(e){return void 0!==e.filter}function i(e){return void 0!==e.lookup}function a(e){return void 0!==e.calculate}function o(e){return!!e.bin}function s(e){return void 0!==e.timeUnit}function l(e){return void 0!==e.summarize}function u(e){return e.map(function(e){return r(e)?{filter:f.normalizeLogicalOperand(e.filter,c.normalizeFilter)}:e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(114),f=n(171);t.isFilter=r,t.isLookup=i,t.isCalculate=a,t.isBin=o,t.isTimeUnit=s,t.isSummarize=l,t.normalizeTransform=u},function(e,t,n){"use strict";function r(e,t){var n="datum["+u.stringValue(e)+"]";if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return o.warn(o.message.unrecognizedParse(t)),null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(89),o=n(8),s=n(183),l=n(33),u=n(2),c=n(57),f=n(27),d=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(u.duplicate(this.parse))},t.make=function(e){var n={},r=e.transforms.filter(s.isCalculate).reduce(function(e,t){return e[t.as]=!0,e},{});e instanceof c.ModelWithField&&e.forEachFieldDef(function(e){if(e.type===l.TEMPORAL)n[e.field]="date";else if(e.type===l.QUANTITATIVE){if(r[e.field]||a.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var f=i.format.parse;u.keys(f).forEach(function(e){n[e]=f[e]})}var d=e.component.data.ancestorParse;return u.keys(d).forEach(function(e){n[e]!==d[e]?o.warn(o.message.differentParse(e,n[e],d[e])):delete n[e]}),0===u.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=u.extend(this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return u.toSet(u.keys(this.parse))},t.prototype.dependentFields=function(){return u.toSet(u.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return u.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(f.DataFlowNode);t.ParseNode=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(77),a=n(2),o=n(27),s=function(e){function t(t){var n=e.call(this)||this;if(t=t||{name:"source"},i.isInlineData(t))n._data={values:t.values};else if(i.isUrlData(t)){var o=/(?:\.([^.]+))?$/.exec(t.url)[1];a.contains(["json","csv","tsv","topojson"],o)||(o="json");var s=t.format||{},l=s.type||t.formatType,u=s.property,c=s.feature,f=s.mesh,d=r.__assign({type:l?l:o},u?{property:u}:{},c?{feature:c}:{},f?{mesh:f}:{});n._data={url:t.url,format:d}}else i.isNamedData(t)&&(n._name=t.name,n._data={});return n}return r.__extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return i.isInlineData(this._data)?a.hash(this._data):i.isUrlData(this._data)?this._data.url+" "+a.hash(this._data.format):this._name},t.prototype.assemble=function(){return r.__assign({name:this._name},this._data,{transform:[]})},t}(o.DataFlowNode);t.SourceNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(32),o=n(14),s=n(8),l=n(2),u=n(19),c=n(74),f=n(91),d=n(293),p=n(94),h=n(75),m=n(57),g=n(120),y=n(121),v=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;o.child=u.buildModel(t.spec,o,o.getName("child"),void 0,i,a),o.children=[o.child];var s=g.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(s),o}return r.__extends(t,e),t.prototype.initFacet=function(e){return a.reduce(e,function(e,t,n){return l.contains([i.ROW,i.COLUMN],n)?void 0===t.field?(s.warn(s.message.emptyFieldDef(t,n)),e):(e[n]=o.normalize(t,n),e):(s.warn(s.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.hasDiscreteDomain=function(e){return!0},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=f.parseData(this),this.child.parseData()},t.prototype.parseLayoutSize=function(){p.parseChildrenLayoutSize(this)},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup();var e=this.channelHasField(i.ROW),t=this.channelHasField(i.COLUMN),n=this.child.assembleParentGroupProperties();this.component.mark=[r.__assign({name:this.getName("cell"),type:"group",from:{facet:r.__assign({name:this.component.data.facetRoot.name,data:this.component.data.facetRoot.data,groupby:[].concat(e?[this.field(i.ROW)]:[],t?[this.field(i.COLUMN)]:[])},e&&t?{aggregate:{cross:!0}}:{})},sort:{field:[].concat(e?[this.field(i.ROW,{expr:"datum"})]:[],t?[this.field(i.COLUMN,{expr:"datum"})]:[]),order:[].concat(e?[this.facet.row.header&&this.facet.row.header.sort||"ascending"]:[],t?[this.facet.column.header&&this.facet.column.header.sort||"ascending"]:[])}},n?{encode:{update:n}}:{})]},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:o.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,facetFieldDef:t,header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.getSizeSignalRef(n),axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]){var n=this.component,r=n.layoutHeaders,i=n.resolve,a=i[e];if(a.axis=y.parseGuideResolve(i,e),"shared"===a.axis)for(var o="x"===e?"column":"row",s=r[o],l=0,u=t.component.axes[e];l<u.length;l++){var c=u[l],f=c.main,p=d.getHeaderType(f.get("orient"));s[p]=s[p]||[this.makeHeaderComponent(o,!1)],s[p][0].axes.push(f.combine()),delete c.main}}},t.prototype.parseLegend=function(){h.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:c.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?{signal:this.columnDistinctSignal()}:1;return{padding:{row:10,column:10},offset:10,columns:e,bounds:"full"}},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){var e=this.getName("column")+"_layout",t=this.field("column",{prefix:"distinct"});return"data('"+e+"')[0]["+l.stringValue(t)+"]"},t.prototype.assembleMarks=function(){var e=this.component.data.facetRoot,t=c.assembleFacetData(e),n=this.component.mark[0];n.from.facet=r.__assign({},n.from.facet,{name:e.name,data:e.data});var i=[r.__assign({},t.length>0?{data:t}:{},n,this.child.assembleGroup())];return i},t.prototype.getMapping=function(){return this.facet},t}(m.ModelWithField);t.FacetModel=v},function(e,t,n){"use strict";function r(e){return[].concat(i(e,"width"),i(e,"height"))}function i(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("range-step"===r){var u=e.getScaleComponent(n);if(u){var c=u.get("type"),f=u.get("range");if(s.hasDiscreteDomain(c)&&l.isVgRangeStep(f)){var d=e.scaleName(n);return[a(d,f),{name:i,update:o(d,u)}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,update:""+r}]}function a(e,t){return{name:e+"_step",value:t.step}}function o(e,t){var n=t.get("type"),r="domain('"+e+"').length",i=t.get("padding"),a=t.get("paddingOuter");a=void 0!==a?a:i;var o=t.get("paddingInner");return o="band"===n?void 0!==o?o:i:1,"bandspace("+r+", "+o+", "+a+") * "+e+"_step"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),l=n(52);t.assembleLayoutSignals=r,t.sizeSignals=i},function(e,t,n){"use strict";function r(e,t){return o(e,t)}function i(e,t){return o(e,t)}function a(e,t){var n=e.field;return u.isRepeatRef(n)?n.repeat in t?s.__assign({},e,{field:t[n.repeat]}):(c.warn(c.message.noSuchRepeatedValue(n.repeat)),null):e}function o(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(l.isArray(i))n[r]=i.map(function(e){return a(e,t)}).filter(function(e){return null!==e});else{var o=a(i,t);null!==o&&(n[r]=o)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(15),u=n(14),c=n(8),f=n(2),d=n(19),p=n(74),h=n(91),m=n(119),g=n(94),y=n(75),v=n(57);t.replaceRepeaterInFacet=r,t.replaceRepeaterInEncoding=i;var b=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;return o.repeat=t.repeat,o.children=o._initChildren(t,o.repeat,i,a),o}return s.__extends(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],a=t.row||[n?n.row:null],o=t.column||[n?n.column:null],s=0,l=a;s<l.length;s++)for(var u=l[s],c=0,f=o;c<f.length;c++){var p=f[c],h=(u?"_"+u:"")+(p?"_"+p:""),m={row:u,column:p};i.push(d.buildModel(e.spec,this,this.getName("child"+h),void 0,m,r))}return i},t.prototype.parseData=function(){this.component.data=h.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseLayoutSize=function(){g.parseRepeatLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),f.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseLegend=function(){y.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:p.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},m.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return s.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(v.Model);t.RepeatModel=b},function(e,t,n){"use strict";function r(e,t){if(t instanceof c.LayerModel||t instanceof u.FacetModel)return"shared";if(t instanceof l.ConcatModel||t instanceof f.RepeatModel)return s.contains(a.SPATIAL_SCALE_CHANNELS,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function i(e,t){var n=e[t],r=s.contains(a.SPATIAL_SCALE_CHANNELS,t)?"axis":"legend";return"independent"===n.scale?("shared"===n[r]&&o.warn(o.message.independentScaleMeansIndependentGuide(t)),"independent"):n[r]||"shared"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=n(8),s=n(2),l=n(285),u=n(118),c=n(93),f=n(120);t.defaultScaleResolve=r,t.parseGuideResolve=i},function(e,t,n){"use strict";function r(e,t){var n=o.stringValue(e.scaleName(t));return"domain("+n+")"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),a=n(13),o=n(2),s=n(25),l={clipGroup:!0,has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var o=t.channel,l=e.getScaleComponent(o),u=l?l.get("type"):void 0;return l&&a.hasContinuousDomain(u)&&!a.isBinScale(u)?(l.set("domainRaw",{signal:s.channelSignalName(n,o,"data")},!0),void r.push(o)):void i.warn("Scale bindings are currently only supported for scales with unbinned, continuous domains.")})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===s.channelSignalName(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:s.channelSignalName(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===s.channelSignalName(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};t.default=l,t.domain=r},function(e,t,n){"use strict";function r(e,t){c[e]=t}function i(e){delete c[e]}function a(e,t){var n=s.isMarkDef(e.mark)?e.mark.type:e.mark,r=c[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(28),l=n(652),u=n(653),c={};t.add=r,t.remove=i,t.COMPOSITE_MARK_ROLES=l.BOXPLOT_ROLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=o.__assign({},l.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),r(l.BOXPLOT,l.normalizeBoxPlot),r(u.ERRORBAR,u.normalizeErrorBar),t.normalize=a},function(e,t,n){"use strict";function r(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=o.url(e,t),this.missingSchema=o.normalizeId(o.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var o=n(125);e.exports={Validation:a(r),MissingRef:a(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";function r(e,t,n){var a=this._refs[n];if("string"==typeof a){if(!this._refs[a])return r.call(this,e,t,a);a=this._refs[a]}if(a=a||this._schemas[n],a instanceof v)return s(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,l,u,c=i.call(this,t,n);return c&&(o=c.schema,t=c.root,u=c.baseId),o instanceof v?l=o.validate||e.call(this,o.schema,t,void 0,u):void 0!==o&&(l=s(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,u)),l}function i(e,t){var n=m.parse(t,!1,!0),r=f(n),i=c(this._getId(e.schema));if(r!==i){var s=d(r),l=this._refs[s];if("string"==typeof l)return a.call(this,e,l,n);if(l instanceof v)l.validate||this._compile(l),e=l;else{if(l=this._schemas[s],!(l instanceof v))return;if(l.validate||this._compile(l),s==d(t))return{schema:l,root:e,baseId:i};e=l}if(!e.schema)return;i=c(this._getId(e.schema))}return o.call(this,n,i,e.schema,e)}function a(e,t,n){var r=i.call(this,e,t);if(r){var a=r.schema,s=r.baseId;e=r.root;var l=this._getId(a);return l&&(s=p(s,l)),o.call(this,n,s,a,e)}}function o(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var a=e.hash.split("/"),o=1;o<a.length;o++){var s=a[o];if(s){if(s=y.unescapeFragment(s),n=n[s],void 0===n)break;var l;if(!_[s]&&(l=this._getId(n),l&&(t=p(t,l)),n.$ref)){var u=p(t,n.$ref),c=i.call(this,r,u);c&&(n=c.schema,r=c.root,t=c.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}function s(e,t){return t!==!1&&(void 0===t||t===!0?l(e):t?u(e)<=t:void 0)}function l(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&!l(t))return!1}else for(var r in e){if("$ref"==r)return!1;if(t=e[r],"object"==typeof t&&!l(t))return!1}return!0}function u(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=u(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(x[i])n++;else if(t=e[i],"object"==typeof t&&(n+=u(t)+1),n==1/0)return 1/0}return n}function c(e,t){t!==!1&&(e=d(e));var n=m.parse(e,!1,!0);return f(n)}function f(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function d(e){return e?e.replace(S,""):""}function p(e,t){return t=d(t),m.resolve(e,t)}function h(e){var t=d(this._getId(e)),n={"":t},r={"":c(t,!1)},i={},a=this;return b(e,{allKeys:!0},function(e,t,o,s,l,u,c){if(""!==t){var f=a._getId(e),p=n[s],h=r[s]+"/"+l;if(void 0!==c&&(h+="/"+("number"==typeof c?c:y.escapeFragment(c))),"string"==typeof f){f=p=d(p?m.resolve(p,f):f);var v=a._refs[f];if("string"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!g(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=d(h))if("#"==f[0]){if(i[f]&&!g(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=h}n[t]=p,r[t]=h}}),i}var m=n(577),g=n(127),y=n(60),v=n(185),b=n(431);e.exports=r,r.normalizeId=d,r.fullPath=c,r.url=p,r.ids=h,r.inlineRef=s,r.schema=i;var _=y.toHash(["properties","patternProperties","enum","dependencies","definitions"]),x=y.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),S=/#\/?$/},function(e,t,n){var r,i,a;(function(o){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,o){"object"===s(t)&&"undefined"!=typeof e?o(t):(i=[t],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a)))}(void 0,function(e){function t(e){return null==e?null:e.fname}function r(e){return null==e?null:e.fields}function i(e){return bb(e)?"["+e.map(i)+"]":_b(e)||xb(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function a(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function l(e){return Yb(e)?e:Gb(e)?e:Date.parse(e)}function u(e){var t=e||kb,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,a=t(e);return r[a]&&(r[a]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}function c(e){return!(!e||!f(e))}function f(e){return e[l_]}function d(e,t){return e[l_]=t,e}function p(e){var t=e===Object(e)?e:{data:e};return f(t)?t:d(t,u_++)}function h(e){return m(e,p({}))}function m(e,t){for(var n in e)t[n]=e[n];return t}function g(e,t){return d(t,f(e))}function y(e){return e&&e.constructor===v}function v(){var e=[],t=[],n=[],r=[],i=[],a=!1;return{constructor:v,insert:function(t){for(var n=Fb(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=Lb(e)?r:t,i=Fb(e),a=0,o=i.length;a<o;++a)n.push(i[a]);return this},modify:function(e,t,r){var a={field:t,value:zb(r)};return Lb(e)?(a.filter=e,i.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return Lb(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return a=!0,this},pulse:function(o,s){function l(e,t,n){n?e[t]=n(e):o.encode=t,a||(u[f(e)]=e)}var u,c,d,h,m,g,y;for(c=0,d=e.length;c<d;++c)o.add.push(p(e[c]));for(u={},c=0,d=t.length;c<d;++c)g=t[c],u[f(g)]=g;for(c=0,d=r.length;c<d;++c)m=r[c],s.forEach(function(e){m(e)&&(u[f(e)]=e)});for(y in u)o.rem.push(u[y]);for(u={},c=0,d=n.length;c<d;++c)h=n[c],l(h.tuple,h.field,h.value),o.modifies(h.field);for(c=0,d=i.length;c<d;++c)h=i[c],m=h.filter,s.forEach(function(e){m(e)&&l(e,h.field,h.value)}),o.modifies(h.field);if(a)o.mod=t.length||r.length?s.filter(function(e){return u.hasOwnProperty(f(e))}):s.slice();else for(y in u)o.mod.push(u[y]);return o}}}function b(){Object.defineProperty(this,c_,{writable:!0,value:{}})}function _(e,t,n,r){this.id=++d_,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function x(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}function S(e,t,n){this.id=++__,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function w(e,t,n){return new S(e,t,n)}function O(){}function k(e,t){var n=new O;if(e instanceof O)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}function E(){return{}}function M(e,t,n){e[t]=n}function T(){return k()}function P(e,t,n){e.set(t,n)}function C(){}function D(e,t){var n=new C;if(e instanceof C)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}function A(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new N(r)}function N(e){this._=e}function R(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function I(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function F(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=E_,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function L(e){return function(t,n){e(null==t?n:null)}}function j(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function z(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function $(e,t){var n=z(e);return function(r,i){return t(n(r),i,e)}}function U(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function B(e,t){return Ub({},e.options,t)}function q(e,t){var n=this;return n.sanitize(e,t).then(function(e){var r=e.href;return e.localFile?n.file(r):n.http(r,t)})}function W(e,t){return t=B(this,t),new Promise(function(n,r){var a,o,s,l,u={href:null};return null==e||"string"!=typeof e?void r("Sanitize failure, invalid URI: "+i(e)):(o=P_.test(e),(l=t.baseURL)&&!o&&(Y(e,"/")||"/"===l[l.length-1]||(e="/"+e),e=l+e),s=(a=Y(e,C_))||"file"===t.mode||"http"!==t.mode&&!o&&G(),a?e=e.slice(C_.length):Y(e,"//")&&("file"===t.defaultProtocol?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(u,"localFile",{value:!!s}),u.href=e,void n(u))})}function V(e,t){return t=B(this,t),new Promise(function(n,r){var i,a=M_(e);for(i in t.headers)a.header(i,t.headers[i]);D_.forEach(function(e){t[e]&&a[e](t[e])}),a.on("error",function(t){r(t||"Error loading URL: "+e)}).on("load",function(e){var t=e&&e.responseText;e&&0!==e.status?n(t):r(t||"Error")}).get()})}function H(e){return new Promise(function(t,n){var r=G();r?r.readFile(e,function(e,r){e?n(e):t(r)}):n("No file system access for "+e)})}function G(){var e=n(665);return e&&Lb(e.readFile)?e:null}function Y(e,t){return null!=e&&0===e.lastIndexOf(t,0)}function X(e,t){var n,r,i,a,o=R_.slice();for(r=0,i=e.length;r<i;++r){for(n=t?e[r][t]:e[r],a=0;a<o.length;++a)Q(n)&&!o[a](n)&&(o.splice(a,1),--a);if(0===o.length)return"string"}return I_[R_.indexOf(o[0])]}function K(e,t){return t.reduce(function(t,n){return t[n]=X(e,n),t},{})}function Q(e){return null!=e&&e===e}function J(e){return"true"===e||"false"===e||e===!0||e===!1}function Z(e){return!isNaN(Date.parse(e))}function ee(e){return!(isNaN(+e)||e instanceof Date)}function te(e){return ee(e)&&(e=+e)===~~e}function ne(e){return function(t,n){var r={delimiter:e};return re(t,n?Ub(n,r):r)}}function re(e,t){return t.header&&(e=t.header.map(i).join(t.delimiter)+"\n"+e),T_(t.delimiter).parse(e+"")}function ie(e){return!("function"!=typeof o||!Lb(o.isBuffer))&&o.isBuffer(e)}function ae(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}function oe(e){if(!e)return L_;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0),e[0]=(t+=e[0])*r+a,e[1]=(n+=e[1])*i+o}}function se(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function le(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:ue(e,t)};return null==t.id&&delete n.id,n}function ue(e,t){function n(e,t){t.length&&t.pop();for(var n,r=u[e<0?~e:e],i=0,a=r.length;i<a;++i)t.push(n=r[i].slice()),l(n,i);e<0&&se(t,a)}function r(e){return e=e.slice(),l(e,0),e}function i(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r],t);return t.length<2&&t.push(t[0].slice()),t}function a(e){for(var t=i(e);t.length<4;)t.push(t[0].slice());
return t}function o(e){return e.map(a)}function s(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(s)}:t in c?{type:t,coordinates:c[t](e)}:null}var l=oe(e.transform),u=e.arcs,c={Point:function(e){return r(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(r)},LineString:function(e){return i(e.arcs)},MultiLineString:function(e){return e.arcs.map(i)},Polygon:function(e){return o(e.arcs)},MultiPolygon:function(e){return e.arcs.map(o)}};return s(t)}function ce(e,t,n){function r(e){var t=e<0?~e:e;(u[t]||(u[t]=[])).push({i:e,g:l})}function i(e){e.forEach(r)}function a(e){e.forEach(i)}function o(e){"GeometryCollection"===e.type?e.geometries.forEach(o):e.type in c&&(l=e,c[e.type](e.arcs))}var s=[];if(arguments.length>1){var l,u=[],c={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(e){e.forEach(a)}};o(t),u.forEach(arguments.length<3?function(e){s.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&s.push(e[0].i)})}else for(var f=0,d=e.arcs.length;f<d;++f)s.push(f);return{type:"MultiLineString",arcs:z_(e,s)}}function fe(e,t,n,r){function i(t){return e(t=new Date((+t))),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date((+e)),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return o;do o.push(new Date((+n)));while(t(n,a),e(n),n<r);return o},i.filter=function(n){return fe(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return W_.setTime(+t),V_.setTime(+r),e(W_),e(V_),Math.floor(n(W_,V_))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}function de(e){return fe(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Y_)/Q_})}function pe(e){return fe(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Q_})}function he(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function me(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ge(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function ye(e){function t(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date((+n)));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=vx[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function n(e,t){return function(n){var i=ge(1900),a=r(i,e,n+="",0);if(a!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var o="Z"in i?me(ge(i.y)).getUTCDay():t(ge(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,me(i)):t(i)}}function r(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=B[i in vx?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(e,t,n){var r=C.exec(t.slice(n));return r?(e.p=D[r[0].toLowerCase()],n+r[0].length):-1}function a(e,t,n){var r=R.exec(t.slice(n));return r?(e.w=I[r[0].toLowerCase()],n+r[0].length):-1}function o(e,t,n){var r=A.exec(t.slice(n));return r?(e.w=N[r[0].toLowerCase()],n+r[0].length):-1}function s(e,t,n){var r=j.exec(t.slice(n));return r?(e.m=z[r[0].toLowerCase()],n+r[0].length):-1}function l(e,t,n){var r=F.exec(t.slice(n));return r?(e.m=L[r[0].toLowerCase()],n+r[0].length):-1}function u(e,t,n){return r(e,S,t,n)}function c(e,t,n){return r(e,w,t,n)}function f(e,t,n){return r(e,O,t,n)}function d(e){return M[e.getDay()]}function p(e){return E[e.getDay()]}function h(e){return P[e.getMonth()]}function m(e){return T[e.getMonth()]}function g(e){return k[+(e.getHours()>=12)]}function y(e){return M[e.getUTCDay()]}function v(e){return E[e.getUTCDay()]}function b(e){return P[e.getUTCMonth()]}function _(e){return T[e.getUTCMonth()]}function x(e){return k[+(e.getUTCHours()>=12)]}var S=e.dateTime,w=e.date,O=e.time,k=e.periods,E=e.days,M=e.shortDays,T=e.months,P=e.shortMonths,C=_e(k),D=xe(k),A=_e(E),N=xe(E),R=_e(M),I=xe(M),F=_e(T),L=xe(T),j=_e(P),z=xe(P),$={a:d,A:p,b:h,B:m,c:null,d:Fe,e:Fe,H:Le,I:je,j:ze,L:$e,m:Ue,M:Be,p:g,S:qe,U:We,w:Ve,W:He,x:null,X:null,y:Ge,Y:Ye,Z:Xe,"%":ct},U={a:y,A:v,b:b,B:_,c:null,d:Ke,e:Ke,H:Qe,I:Je,j:Ze,L:et,m:tt,M:nt,p:x,S:rt,U:it,w:at,W:ot,x:null,X:null,y:st,Y:lt,Z:ut,"%":ct},B={a:a,A:o,b:s,B:l,c:u,d:Pe,e:Pe,H:De,I:De,j:Ce,L:Re,m:Te,M:Ae,p:i,S:Ne,U:we,w:Se,W:Oe,x:c,X:f,y:Ee,Y:ke,Z:Me,"%":Ie};return $.x=t(w,$),$.X=t(O,$),$.c=t(S,$),U.x=t(w,U),U.X=t(O,U),U.c=t(S,U),{format:function(e){var n=t(e+="",$);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",he);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",U);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,me);return t.toString=function(){return e},t}}}function ve(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function be(e){return e.replace(xx,"\\$&")}function _e(e){return new RegExp("^(?:"+e.map(be).join("|")+")","i")}function xe(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Se(e,t,n){var r=bx.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function we(e,t,n){var r=bx.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Oe(e,t,n){var r=bx.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function ke(e,t,n){var r=bx.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ee(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Me(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Te(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Pe(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Ce(e,t,n){var r=bx.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function De(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ae(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ne(e,t,n){var r=bx.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Re(e,t,n){var r=bx.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ie(e,t,n){var r=_x.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Fe(e,t){return ve(e.getDate(),t,2)}function Le(e,t){return ve(e.getHours(),t,2)}function je(e,t){return ve(e.getHours()%12||12,t,2)}function ze(e,t){return ve(1+tx.count(ax(e),e),t,3)}function $e(e,t){return ve(e.getMilliseconds(),t,3)}function Ue(e,t){return ve(e.getMonth()+1,t,2)}function Be(e,t){return ve(e.getMinutes(),t,2)}function qe(e,t){return ve(e.getSeconds(),t,2)}function We(e,t){return ve(nx.count(ax(e),e),t,2)}function Ve(e){return e.getDay()}function He(e,t){return ve(rx.count(ax(e),e),t,2)}function Ge(e,t){return ve(e.getFullYear()%100,t,2)}function Ye(e,t){return ve(e.getFullYear()%1e4,t,4)}function Xe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function Ke(e,t){return ve(e.getUTCDate(),t,2)}function Qe(e,t){return ve(e.getUTCHours(),t,2)}function Je(e,t){return ve(e.getUTCHours()%12||12,t,2)}function Ze(e,t){return ve(1+lx.count(dx(e),e),t,3)}function et(e,t){return ve(e.getUTCMilliseconds(),t,3)}function tt(e,t){return ve(e.getUTCMonth()+1,t,2)}function nt(e,t){return ve(e.getUTCMinutes(),t,2)}function rt(e,t){return ve(e.getUTCSeconds(),t,2)}function it(e,t){return ve(ux.count(dx(e),e),t,2)}function at(e){return e.getUTCDay()}function ot(e,t){return ve(cx.count(dx(e),e),t,2)}function st(e,t){return ve(e.getUTCFullYear()%100,t,2)}function lt(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function ut(){return"+0000"}function ct(){return"%"}function ft(e){return px=ye(e),hx=px.format,mx=px.parse,gx=px.utcFormat,yx=px.utcParse,px}function dt(e){return e.toISOString()}function pt(e){var t=new Date(e);return isNaN(t)?null:t}function ht(e,t,n){n=n||mx;var r,i,a,o,s,l,u,c=e.columns||Object.keys(e[0]);for("auto"===t&&(t=K(e,c)),c=Object.keys(t),r=c.map(function(e){var r,i,a=t[e];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return r=a.split(/:(.+)?/,2),i=r[1],("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?yx(i):n(i);if(!N_[a])throw Error("Illegal format pattern: "+e+":"+a);return N_[a]}),o=0,l=e.length,u=c.length;o<l;++o)for(i=e[o],s=0;s<u;++s)a=c[s],i[a]=r[s](i[a])}function mt(e,t,n){return this.pulse(e,this.changeset().insert(wx(t,n)))}function gt(e){var t,n,r=new Promise(function(e,r){t=e,n=r});return r.requests=0,r.done=function(){0===--r.requests&&e.runAfter(function(){e._pending=null;try{e.run(),t(e)}catch(r){n(r)}})},e._pending=r}function yt(e,t,n){var r=this,i=r._pending||gt(r);i.requests+=1,r.loader().load(t,{context:"dataflow"}).then(function(t){r.ingest(e,t,n)},function(e){r.error("Loading failed",t,e)}).catch(function(e){r.error("Data ingestion failed",t,e)}).then(i.done,i.done)}function vt(e,t,n,r,i,a){var o,s,l=Ub({},a,Ox);Lb(n)||(n=zb(n)),void 0===r?o=function(t){e.touch(n(t))}:Lb(r)?(s=new _(null,r,i,(!1)),o=function(t){var r,i=n(t);s.evaluate(t),y(r=s.value)?e.pulse(i,r,a):e.update(i,r,l)}):o=function(t){e.update(n(t),r,l)},t.apply(o)}function bt(e,t,n,r,i,a){var o,s;void 0===r?s=n:(o=Lb(r)?r:zb(r),r=n?function(e,t){var r=o(e,t);return n.skip()?r:n.skip(!0).value=r}:o,s=new _(null,r,i,(!1)),s.modified(a&&a.force),s.rank=0,n&&(s.skip(!0),s.value=n.value,s.targets().add(n))),t.targets().add(s)}function _t(e){e.rank=++this._rank}function xt(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&yb("Cycle detected in dataflow graph.")}function St(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function wt(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Ot(e,t){var n=[];return s_(e,t,function(e){n.push(e)}),n}function kt(e,t){var n={};return e.visit(t,function(e){n[f(e)]=1}),function(e){return n[f(e)]?null:e}}function Et(e,t,n,r){var i,a,o,s,l,u=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,s=n.length;o<s;++o)if(i=n[o],i.stamp===t){if(i.fields){a=u.fields||(u.fields={});for(l in i.fields)a[l]=1}i.changed(u.ADD)&&(c|=u.ADD),i.changed(u.REM)&&(c|=u.REM),i.changed(u.MOD)&&(c|=u.MOD)}this.changes=c}function Mt(e){var t,n,r,i,a=this,o=0,s=a.logLevel();if(a._pending)return a.info("Awaiting requests, delaying dataflow run."),0;if(a._pulse)return a.error("Dataflow invoked recursively. Use the runAfter method to queue invocation."),0;if(!a._touched.length)return a.info("Dataflow invoked, but nothing to do."),0;a._pulse=new St(a,(++a._clock),e),s>=Nb&&(r=Date.now(),a.debug("-- START PROPAGATION ("+a._clock+") -----")),a._touched.forEach(function(e){a._enqueue(e,!0)}),a._touched=u(Ob);try{for(;a._heap.size()>0;)t=a._heap.pop(),t.rank===t.qrank?(n=t.run(a._getPulse(t,e)),s>=Rb&&a.debug(t.id,n===Ex?"STOP":n,t),n!==Ex&&(a._pulse=n,t._targets&&t._targets.forEach(function(e){a._enqueue(e)})),++o):a._enqueue(t,!0)}catch(l){i=l}if(a._pulses={},a._pulse=null,s>=Nb&&(r=Date.now()-r,a.info("> Pulse "+a._clock+": "+o+" operators; "+r+"ms")),i&&(a._postrun=[],a.error(i)),a._onrun)try{a._onrun(a,o,i)}catch(l){a.error(l)}if(a._postrun.length){var c=a._postrun;a._postrun=[],c.forEach(function(e){try{e(a)}catch(t){a.error(t)}})}return o}function Tt(){return this._pending||Promise.resolve(this.run())}function Pt(e,t){if(this._pulse||t)this._postrun.push(e);else try{e(this)}catch(n){this.error(n)}}function Ct(e,t){var n=!this._pulses[e.id];n&&(this._pulses[e.id]=this._pulse),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Dt(e,t){var n,r=e.source,i=this._clock;return r&&bb(r)?(n=r.map(function(e){return e.pulse}),new Et(this,i,n,t)):(r=r&&r.pulse,n=this._pulses[e.id],r&&r!==Ex&&(r.stamp===i&&n.target!==e?n=r:n.source=r.source),n)}function At(e,t){var n=t||zx;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Nt(e,t,n){var r=n||zx;return(e.set(t)||r.force)&&this.touch(e,r),this}function Rt(e,t,n){this.touch(e,n||zx);var r=new St(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._pulses[e.id]=t.pulse(r,i),this}function It(e){this.cmp=e,this.nodes=[]}function Ft(e,t,n,r){var i,a,o;for(i=e[n];n>t&&(o=n-1>>1,a=e[o],r(i,a)<0);)e[n]=a,n=o;return e[n]=i}function Lt(e,t,n){for(var r,i=t,a=e.length,o=e[t],s=2*t+1;s<a;)r=s+1,r<a&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],t=s,s=2*t+1;return e[t]=o,Ft(e,i,t,n)}function jt(){this._log=Ib(),this.logLevel(Db),this._clock=0,this._rank=0,this._loader=A_(),this._touched=u(Ob),this._pulses={},this._pulse=null,this._heap=new It(function(e,t){return e.qrank-t.qrank}),this._postrun=[]}function zt(e){return function(){return this._log[e].apply(this,arguments)}}function $t(e,t){_.call(this,e,null,t)}function Ut(e){var t=Bt(e);return t&&t.Definition||null}function Bt(e){return e=e&&e.toLowerCase(),qx.hasOwnProperty(e)?qx[e]:null}function qt(e){return function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}}function Wt(e){return e&&e.length?1===e.length?e[0]:qt(e):function(){return""}}function Vt(e,t,n){return n||e+(t?"_"+t:"")}function Ht(e,t){return Wx[e](t)}function Gt(e){return function(t){var n=Ub({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function Yt(e,t){return e.idx-t.idx}function Xt(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=Wx[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r,i=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{})),a=[];for(r in i)a.push(i[r]);return a.sort(Yt)}function Kt(e,t){var n=t||kb,r=Xt(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",l="var cell = this.cell;";return r.forEach(function(e){i+=e.init,o+=e.add,s+=e.rem}),e.slice().sort(Yt).forEach(function(e){l+="t['"+e.out+"']="+e.set+";"}),l+="return t;",a=Function("cell",a),a.prototype.init=Function(i),a.prototype.add=Function("v","t",o),a.prototype.rem=Function("v","t",s),a.prototype.set=Function("t",l),a.prototype.get=n,a.fields=e.map(function(e){return e.out}),a}function Qt(e){return null===e?NaN:+e}function Jt(e){return function(t,n){return Yx(e(t),n)}}function Zt(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=rS?10:a>=iS?5:a>=aS?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=rS?10:a>=iS?5:a>=aS?2:1)}function en(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=rS?i*=10:a>=iS?i*=5:a>=aS&&(i*=2),t<e?-i:i}function tn(e){var t=e.length,n=bS(e),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(eS(e)),r)*Math.pow(t,-.2)}function nn(e){this._key=e?Sb(e):f,this.reset()}function rn(e){$t.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function an(e){$t.call(this,null,e)}function on(e){$t.call(this,[],e)}function sn(e){_.call(this,null,ln,e)}function ln(e){return this.value&&!e.modified()?this.value:jb(e.fields,e.orders)}function un(e){$t.call(this,null,e)}function cn(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}function fn(e){$t.call(this,null,e)}function dn(e,t,n,r){for(var i,a,o=[],s={},l=e.length,u=0;u<l;++u)for(s[t]=a=e[u],i=0;i<l;++i)s[n]=e[i],r(s)&&(o.push(p(s)),s={},s[t]=a);return o}function pn(e,t){var n=e[AS];CS.hasOwnProperty(n)||yb("Unknown distribution function: "+n);var r=CS[n]();for(var i in e)i===NS?r.data((e.from||t()).map(e[i])):i===DS?r[i](e[i].map(function(e){return pn(e,t)})):s(r[i])===AS&&r[i](e[i]);return r}function hn(e){$t.call(this,null,e)}function mn(e){return function(){return e.materialize(e.SOURCE).source}}function gn(e){$t.call(this,[+(1/0),-(1/0)],e)}function yn(e,t){_.call(this,e),this.parent=t}function vn(e){$t.call(this,{},e),this._keys=Wb();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function bn(e){_.call(this,null,_n,e)}function _n(e){return this.value&&!e.modified()?this.value:bb(e.name)?Fb(e.name).map(function(e){return Sb(e)}):Sb(e.name,e.as)}function xn(e){$t.call(this,Wb(),e)}function Sn(e){$t.call(this,{},e)}function wn(e){return e.fields.join("|")}function On(e){$t.call(this,null,e)}function kn(e){$t.call(this,[],e)}function En(e){$t.call(this,[],e)}function Mn(e){var t,n=e.method||WS.value;return null!=WS[n]?n===WS.value?(t=void 0!==e.value?e.value:0,function(){return t}):WS[n]:void yb("Unrecognized imputation method: "+n)}function Tn(e){var t=e.field;return function(e){return e?t(e):NaN}}function Pn(e,t,n,r){var i,a,o,s,l,u,c,f,d=function(e){return e(f)},p=[],h=r?r.slice():[],m={},g={};for(h.forEach(function(e,t){m[e]=t+1}),s=0,c=e.length;s<c;++s)f=e[s],u=n(f),l=m[u]||(m[u]=h.push(u)),a=(i=t?t.map(d):VS)+"",(o=g[a])||(o=g[a]=[],p.push(o),o.values=i),o[l-1]=f;return p.domain=h,p}function Cn(e){rn.call(this,e)}function Dn(e){_.call(this,null,An,e)}function An(e){return this.value&&!e.modified()?this.value:Kb(e.fields)}function Nn(e){$t.call(this,{},e)}function Rn(e){_.call(this,null,In,e)}function In(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=+(1/0),a=-(1/0),o=e.extents;for(t=0,n=o.length;t<n;++t)r=o[t],r[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function Fn(e){_.call(this,null,Ln,e)}function Ln(e){return this.value&&!e.modified()?this.value:e.values.reduce(function(e,t){return e.concat(t)},[])}function jn(e){$t.call(this,null,e)}function zn(e){vn.call(this,e)}function $n(e){$t.call(this,null,e)}function Un(e){$t.call(this,null,e)}function Bn(e){$t.call(this,[],e),this.count=0}function qn(e){$t.call(this,null,e)}function Wn(e){$t.call(this,null,e),this.modified(!0)}function Vn(e){$t.call(this,Wb(),e)}function Hn(e){$t.call(this,null,e)}function Gn(e,t,n,r){var i=rw[e](t,n);return{init:i.init||Eb,update:function(e,t){t[r]=i.next(e)}}}function Yn(e){function n(e){Fb(r(e)).forEach(function(e){f[e]=1})}var i=this,a=Fb(e.ops),o=Fb(e.fields),s=Fb(e.params),l=Fb(e.as),u=i.outputs=[],c=i.windows=[],f={},d={},p=!0,h=[],m=[];n(e.sort),a.forEach(function(e,r){var i=o[r],a=t(i),f=Vt(e,a,l[r]);if(n(i),u.push(f),rw.hasOwnProperty(e))c.push(Gn(e,o[r],s[r],f));else{if(null==i&&"count"!==e&&yb("Null aggregate field specified."),"count"===e)return void h.push(f);p=!1;var g=d[a];g||(g=d[a]=[],g.field=i,m.push(g)),g.push(Ht(e,f))}}),(h.length||m.length)&&(i.cell=Xn(m,h,p)),i.inputs=Object.keys(f)}function Xn(e,t,n){e=e.map(function(e){return Kt(e,e.field)});var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new nn;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(s&&s.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)a[e].init()},r}function Kn(e){$t.call(this,{},e),this._mlen=0,this._mods=[]}function Qn(e,t,n){var r=n.sort,i=r&&!n.ignorePeers,a=n.frame||[null,0],o=e.data(r),s=o.length,l=0,u=i?Xx(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:r||zb(-1)};for(t.init();l<s;++l)Jn(c,a,l,s),i&&Zn(c,u),t.update(c,o[l])}function Jn(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Zn(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}function er(e){this.clear(),e&&this.union(e)}function tr(e){this.mark=e,this.bounds=this.bounds||new er}function nr(e){tr.call(this,e),this.items=this.items||[]}function rr(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function ir(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ar(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=rr(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function or(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function sr(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function lr(e){this._pending=0,this._loader=e||A_()}function ur(e){e._pending+=1}function cr(e){e._pending-=1}function fr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function dr(){return new fr}function pr(e){return e>1?0:e<-1?Pw:Math.acos(e)}function hr(e){return e>=1?Cw:e<=-1?-Cw:Math.asin(e)}function mr(e){return e.innerRadius}function gr(e){return e.outerRadius}function yr(e){return e.startAngle}function vr(e){return e.endAngle}function br(e){return e&&e.padAngle}function _r(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=(c*(t-a)-f*(e-i))/(f*l-c*u);return[e+d*l,t+d*u]}function xr(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/Mw(s*s+l*l),c=u*l,f=-u*s,d=e+c,p=t+f,h=n+c,m=r+f,g=(d+h)/2,y=(p+m)/2,v=h-d,b=m-p,_=v*v+b*b,x=i-a,S=d*m-h*p,w=(b<0?-1:1)*Mw(Ow(0,x*x*_-S*S)),O=(S*b-v*w)/_,k=(-S*v-b*w)/_,E=(S*b+v*w)/_,M=(-S*v+b*w)/_,T=O-g,P=k-y,C=E-g,D=M-y;return T*T+P*P>C*C+D*D&&(O=E,k=M),{cx:O,cy:k,x01:-c,y01:-f,x11:O*(i/x-1),y11:k*(i/x-1)}}function Sr(e){this._context=e}function wr(e){return e[0]}function Or(e){return e[1]}function kr(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Er(e){this._context=e}function Mr(e){this._context=e}function Tr(e){this._context=e}function Pr(e,t){this._basis=new Er(e),this._beta=t}function Cr(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Dr(e,t){this._context=e,this._k=(1-t)/6}function Ar(e,t){this._context=e,this._k=(1-t)/6}function Nr(e,t){this._context=e,this._k=(1-t)/6}function Rr(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Tw){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Tw){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function Ir(e,t){this._context=e,this._alpha=t}function Fr(e,t){this._context=e,this._alpha=t}function Lr(e,t){this._context=e,this._alpha=t}function jr(e){this._context=e}function zr(e){return e<0?-1:1}function $r(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(zr(a)+zr(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Ur(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Br(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function qr(e){this._context=e}function Wr(e){this._context=new Vr(e)}function Vr(e){this._context=e}function Hr(e){return new qr(e)}function Gr(e){return new Wr(e)}function Yr(e){this._context=e}function Xr(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Kr(e,t){this._context=e,this._t=t}function Qr(e){return new Kr(e,0)}function Jr(e){return new Kr(e,1)}function Zr(e,t,n){var r=Zw.hasOwnProperty(e)&&Zw[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}function ei(e,t,n,r,i,a,o,s,l){var u=aO.call(arguments);if(rO[u])return rO[u];var c=o*(Math.PI/180),f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);var p=d*(s-e)*.5+f*(l-t)*.5,h=d*(l-t)*.5-f*(s-e)*.5,m=p*p/(n*n)+h*h/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);var g=d/n,y=f/n,v=-f/r,b=d/r,_=g*s+y*l,x=v*s+b*l,S=g*e+y*t,w=v*e+b*t,O=(S-_)*(S-_)+(w-x)*(w-x),k=1/O-.25;k<0&&(k=0);var E=Math.sqrt(k);a==i&&(E=-E);var M=.5*(_+S)-E*(w-x),T=.5*(x+w)+E*(S-_),P=Math.atan2(x-T,_-M),C=Math.atan2(w-T,S-M),D=C-P;D<0&&1===a?D+=2*Math.PI:D>0&&0===a&&(D-=2*Math.PI);for(var A=Math.ceil(Math.abs(D/(.5*Math.PI+.001))),N=[],R=0;R<A;++R){var I=P+R*D/A,F=P+(R+1)*D/A;N[R]=[M,T,I,F,n,r,f,d]}return rO[u]=N}function ti(e){var t=aO.call(e);if(iO[t])return iO[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=u*o,f=-l*s,d=l*o,p=u*s,h=Math.cos(i),m=Math.sin(i),g=Math.cos(a),y=Math.sin(a),v=.5*(a-i),b=Math.sin(.5*v),_=8/3*b*b/Math.sin(v),x=n+h-_*m,S=r+m+_*h,w=n+g,O=r+y,k=w+_*y,E=O-_*g;return iO[t]=[c*x+f*S,d*x+p*S,c*k+f*E,d*k+p*E,c*w+f*O,d*w+p*O]}function ni(e,t){var n=oO[0]=e[0];if("a"===n||"A"===n)oO[1]=t*e[1],oO[2]=t*e[2],oO[6]=t*e[6],oO[7]=t*e[7];else for(var r=1,i=e.length;r<i;++r)oO[r]=t*e[r];return oO}function ri(e,t,n,r){for(var i=ei(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=ti(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}function ii(e){return cO.hasOwnProperty(e)?cO[e]:ai(e)}function ai(e){if(!fO.hasOwnProperty(e)){var t=nO(e);fO[e]={draw:function(e,n){sO(e,t,0,0,Math.sqrt(n)/2)}}}return fO[e]}function oi(e){return e.x}function si(e){return e.y}function li(e){return e.width}function ui(e){return e.height}function ci(e){return function(){return e}}function fi(e){return e.x||0}function di(e){return e.y||0}function pi(e){return e.width||0}function hi(e){return e.size||1}function mi(e){return e.height||0}function gi(e){return(e.x||0)+(e.width||0)}function yi(e){return(e.y||0)+(e.height||0)}function vi(e){return e.cornerRadius||0}function bi(e){return e.padAngle||0}function _i(e){return!(e.defined===!1)}function xi(e){return null==e.size?64:e.size}function Si(e){return ii(e.shape||"circle")}function wi(e,t){return mO.context(e)(t)}function Oi(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?yO:gO).curve(Zr(r,n.orient,n.tension)).context(e)(t)}function ki(e,t){var n=t[0],r=n.interpolate||"linear";return vO.curve(Zr(r,n.orient,n.tension)).context(e)(t)}function Ei(e,t,n,r){return bO.context(e)(t,n,r)}function Mi(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Ti(e,t){return _O.context(e)(t)}function Pi(e,t){return xO.context(e)(t)}function Ci(e){return Qw=e,Ci}function Di(){}function Ai(e,t){Qw.add(e,t)}function Ni(e,t){return e.zindex-t.zindex||e.index-t.index}function Ri(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)t=i[n],t.index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(Ni)}function Ii(e,t){var n,r,i=e.items;if(i&&i.length){var a=Ri(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function Fi(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=Ri(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(i=e.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function Li(e){return function(t,n,r){Ii(n,function(n){r&&!r.intersects(n.bounds)||zi(e,t,n,n)})}}function ji(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||zi(e,t,n.items[0],n.items)}}function zi(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(n.fill&&CO(t,n,i)&&t.fill(),n.stroke&&AO(t,n,i)&&t.stroke()))}function $i(e){return e||(e=NO),function(t,n,r,i,a,o){return t.pixelRatio>1&&(r*=t.pixelRatio,i*=t.pixelRatio),Fi(n,function(n){var s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,r,i,a,o)?n:void 0})}}function Ui(e,t){return function(n,r,i,a){var o,s,l=Array.isArray(r)?r[0]:r,u=null==t?l.fill:t,c=l.stroke&&n.isPointInStroke;return c&&(o=l.strokeWidth,s=l.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(u&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function Bi(e){return $i(Ui(e))}function qi(){$O=1}function Wi(e,t){e("transform",IO(t))}function Vi(e,t){var n=t.stroke?BO:0;e("class","background"),e("d",Ei(null,t,n,n))}function Hi(e,t,n){var r=t.clip?UO(n,t,t):null;e("clip-path",r)}function Gi(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&SO(e.add(0,0).add(t.width||0,t.height||0),t),e.translate(t.x||0,t.y||0)}function Yi(e,t,n){var r=this;Ii(t,function(t){var i,a,o=t.x||0,s=t.y||0,l=t.width||0,u=t.height||0;e.save(),e.translate(o,s),(t.stroke||t.fill)&&(a=null==t.opacity?1:t.opacity,a>0&&(e.beginPath(),i=t.stroke?BO:0,Ei(e,t,i,i),t.fill&&CO(e,t,a)&&e.fill(),t.stroke&&AO(e,t,a)&&e.stroke())),t.clip&&(e.beginPath(),e.rect(0,0,l,u),e.clip()),n&&n.translate(-o,-s),Ii(t,function(t){r.draw(e,t,n)}),n&&n.translate(o,s),e.restore()})}function Xi(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var o=this;return Fi(t,function(s){var l,u,c,f;if(f=s.bounds,!f||f.contains(i,a))return u=s.x||0,c=s.y||0,e.save(),e.translate(u,c),u=i-u,c=a-c,l=Fi(s,function(e){return Ki(e,u,c)?o.pick(e,n,r,u,c):null}),e.restore(),l?l:(l=t.interactive!==!1&&(s.fill||s.stroke)&&u>=0&&u<=s.width&&c>=0&&c<=s.height,l?s:null)})}function Ki(e,t,n){return(e.interactive!==!1||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}function Qi(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then(function(t){e.image=t,e.image.url=e.url})),n}function Ji(e,t){return"center"===e?t/2:"right"===e?t:0}function Zi(e,t){return"middle"===e?t/2:"bottom"===e?t:0}function ea(e,t,n){var r=Qi(t,n),i=t.x||0,a=t.y||0,o=(null!=t.width?t.width:r.width)||0,s=(null!=t.height?t.height:r.height)||0,l=t.aspect===!1?"none":"xMidYMid";i-=Ji(t.align,o),a-=Zi(t.baseline,s),e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",RO(i,a)),e("width",o),e("height",s),e("preserveAspectRatio",l)}function ta(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=(null!=t.width?t.width:n&&n.width)||0,o=(null!=t.height?t.height:n&&n.height)||0;return r-=Ji(t.align,a),i-=Zi(t.baseline,o),e.set(r,i,r+a,i+o)}function na(e,t,n){var r=this;Ii(t,function(t){if(!n||n.intersects(t.bounds)){var i,a,o,s,l=Qi(t,r),u=t.x||0,c=t.y||0,f=(null!=t.width?t.width:l.width)||0,d=(null!=t.height?t.height:l.height)||0;u-=Ji(t.align,f),c-=Zi(t.baseline,d),t.aspect!==!1&&(a=l.width/l.height,o=t.width/t.height,a===a&&o===o&&a!==o&&(o<a?(s=f/a,c+=(d-s)/2,d=s):(s=d*a,u+=(f-s)/2,f=s))),l.loaded&&(e.globalAlpha=null!=(i=t.opacity)?i:1,e.drawImage(l,u,c,f,d))}})}function ra(e,t){e("transform",IO(t)),e("d",t.path)}function ia(e,t){var n=t.path;if(null==n)return!0;
var r=t.pathCache;r&&r.path===n||((t.pathCache=r=nO(n)).path=n),sO(e,r,t.x,t.y)}function aa(e,t){return ia(Ci(e),t)?e.set(0,0,0,0):SO(e,t)}function oa(e,t){e("d",Ei(null,t))}function sa(e,t){var n,r;return SO(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function la(e,t){e.beginPath(),Ei(e,t)}function ua(e,t){e("transform",IO(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)}function ca(e,t){var n,r;return SO(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)}function fa(e,t,n){var r,i,a,o;return!(!t.stroke||!AO(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}function da(e,t,n){Ii(t,function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&fa(e,t,r)&&e.stroke()}})}function pa(e,t,n,r){return!!e.isPointInStroke&&(fa(e,t,1)&&e.isPointInStroke(n,r))}function ha(e){return MO=va(e),ma(_a(e))}function ma(e){return~~(.8*e.length*MO)}function ga(e){return EO.font=Sa(e),ya(_a(e))}function ya(e){return EO.measureText(e).width}function va(e){return null!=e.fontSize?e.fontSize:11}function ba(e){EO=e&&(EO=pw(1,1))?EO.getContext("2d"):null,QO.width=EO?ga:ha}function _a(e){var t=e.text;return null==t?"":e.limit>0?xa(e):t+""}function xa(e){var t,n=+e.limit,r=e.text+"";if(EO?(EO.font=Sa(e),t=ya):(MO=va(e),t=ma),t(r)<n)return r;var i,a=e.ellipsis||"…",o="rtl"===e.dir,s=0,l=r.length;if(n-=t(a),o){for(;s<l;)i=s+l>>>1,t(r.slice(i))>n?s=i+1:l=i;return a+r.slice(s)}for(;s<l;)i=1+(s+l>>>1),t(r.slice(0,i))<n?s=i:l=i-1;return r.slice(0,s)+a}function Sa(e,t){var n=e.font;return t&&n&&(n=String(n).replace(/"/g,"'")),""+(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+va(e)+"px "+(n||"sans-serif")}function wa(e){var t=e.baseline,n=va(e);return Math.round("top"===t?.93*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}function Oa(e,t){var n,r=t.dx||0,i=(t.dy||0)+wa(t),a=t.x||0,o=t.y||0,s=t.angle||0,l=t.radius||0;l&&(n=(t.theta||0)-Math.PI/2,a+=l*Math.cos(n),o+=l*Math.sin(n)),e("text-anchor",JO[t.align]||"start"),s?(n=RO(a,o)+" rotate("+s+")",(r||i)&&(n+=" "+RO(r,i))):n=RO(a+r,o+i),e("transform",n)}function ka(e,t,n){var r,i,a=QO.height(t),o=t.align,s=t.radius||0,l=t.x||0,u=t.y||0,c=t.dx||0,f=(t.dy||0)+wa(t)-Math.round(.8*a);return s&&(i=(t.theta||0)-Math.PI/2,l+=s*Math.cos(i),u+=s*Math.sin(i)),r=QO.width(t),"center"===o?c-=r/2:"right"===o&&(c-=r),e.set(c+=l,f+=u,c+r,f+a),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,l,u),e.expand(n||!r?0:1)}function Ea(e,t,n){Ii(t,function(t){var r,i,a,o,s,l;n&&!n.intersects(t.bounds)||(l=_a(t))&&(r=null==t.opacity?1:t.opacity,0!==r&&(e.font=Sa(t),e.textAlign=t.align||"left",i=t.x||0,a=t.y||0,(o=t.radius)&&(s=(t.theta||0)-Math.PI/2,i+=o*Math.cos(s),a+=o*Math.sin(s)),t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*Math.PI/180),i=a=0),i+=t.dx||0,a+=(t.dy||0)+wa(t),t.fill&&CO(e,t,r)&&e.fillText(l,i,a),t.stroke&&AO(e,t,r)&&e.strokeText(l,i,a),t.angle&&e.restore()))})}function Ma(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=ka(ZO,t,!0),s=-t.angle*Math.PI/180,l=Math.cos(s),u=Math.sin(s),c=t.x,f=t.y,d=l*i-u*a+(c-c*l+f*u),p=u*i+l*a+(f-c*u-f*l);return o.contains(d,p)}function Ta(e,t){return JSON.stringify(e,ok,t)}function Pa(e){var t="string"==typeof e?JSON.parse(e):e;return Ca(t)}function Ca(e){var t,n,r,i=e.marktype,a=e.items;if(a)for(n=0,r=a.length;n<r;++n)t=i?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(i||t)&&Ca(a[n]);return i&&ak(e),e}function Da(e){arguments.length?this.root=Pa(e):(this.root=Aa({marktype:"group",name:"root",role:"frame"}),this.root.items=[new nr(this.root)])}function Aa(e,t){return{bounds:new er,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}function Na(e){this._active=null,this._handlers={},this._loader=e||A_()}function Ra(e){this._el=null,this._bgcolor=null,this._loader=new lr(e)}function Ia(e){Na.call(this,e),this._down=null,this._touch=null,this._first=!0}function Fa(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function La(e){return function(t){this.fire(e,t),this._active=null}}function ja(e){Ra.call(this,e),this._redraw=!1,this._dirty=new er}function za(e,t,n){return t.expand(1).round(),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}function $a(e,t){if(null==t)return e;for(var n=yk.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}function Ua(e){Na.call(this,e);var t=this;t._hrefHandler=Ba(t,function(e,n){n&&n.href&&t.handleHref(e,n,n.href)}),t._tooltipHandler=Ba(t,function(e,n){n&&n.tooltip&&t.handleTooltip(e,n,"mouseover"===e.type?n.tooltip:null)})}function Ba(e,t){return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,t.call(e._obj,n,i)}}function qa(e,t,n){var r,i,a="<"+e;if(t)for(r in t)i=t[r],null!=i&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function Wa(e){return"</"+e+">"}function Va(e){Ra.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}function Ha(e,t,n){var r,i,a;for(e=ar(e,n,"linearGradient",Sk),e.setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),r=0,i=t.stops.length;r<i;++r)a=ar(e,r,"stop",Sk),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);or(e,r)}function Ga(e,t,n){var r;e=ar(e,n,"clipPath",Sk),e.setAttribute("id",t.id),r=ar(e,0,"rect",Sk),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)}function Ya(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Xa(e,t,n){t=t.lastChild;var r,i=0;Ii(n,function(n){r=e.draw(t,n,r),++i}),or(t,1+i)}function Ka(e,t,n,r){var i,a=e._svg;if(!a&&(i=t.ownerDocument,a=rr(i,r,Sk),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var o=rr(i,"path",Sk);o.setAttribute("class","background"),a.appendChild(o),o.__data__=e;var s=rr(i,"g",Sk);a.appendChild(s),s.__data__=e}return!i&&a.previousSibling===n&&n||t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function Qa(e,t,n){t!==Ek[e]&&(null!=t?n?kk.setAttributeNS(n,e,t):kk.setAttribute(e,t):n?kk.removeAttributeNS(n,e):kk.removeAttribute(e),Ek[e]=t)}function Ja(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Za(e){Ra.call(this,e),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}function eo(e,t,n,r){Ck[r||e]=t}function to(e,t,n,r){if(null==e)return"";var i,a,o,s,l,u="";for("bgrect"===n&&t.interactive===!1&&(u+="pointer-events: none;"),"text"===n&&(u+="font: "+Sa(e)+";"),i=0,a=xk.length;i<a;++i)o=xk[i],s=_k[o],l=e[o],null==l?"fill"===s&&(u+=(u.length?" ":"")+"fill: none;"):(l.id&&(r.gradient[l.id]=l,l="url(#"+l.id+")"),u+=(u.length?" ":"")+s+": "+l+";");return u?'style="'+u+'"':null}function no(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ro(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Fk[e]=t,this):Fk[e]}function io(e,t,n){return e===t||("path"===n?ao(e,t):e instanceof Date&&t instanceof Date?+e===+t:Yb(e)&&Yb(t)?Math.abs(e-t)<=Lk:e&&t&&(_b(e)||_b(t))?null!=e&&null!=t&&oo(e,t):e==t)}function ao(e,t){return io(nO(e),nO(t))}function oo(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!io(e[n],t[n],n))return!1;return("undefined"==typeof e?"undefined":s(e))===("undefined"==typeof t?"undefined":s(t))}function so(e){$t.call(this,null,e)}function lo(e,t,n){return t(e.bounds.clear(),e,n)}function uo(e){$t.call(this,0,e)}function co(e){var t=e._signals[$k];return t||(e._signals[$k]=t=e.add(0)),t}function fo(e){$t.call(this,null,e)}function po(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function ho(e){$t.call(this,null,e)}function mo(e,t){return!(e.x2-1<t.x1||e.x1+1>t.x2||e.y2-1<t.y1||e.y1+1>t.y2)}function go(e){for(var t,n=1,r=e.length,i=e[0].bounds;n<r;i=t,++n)if(mo(i,t=e[n].bounds))return!0}function yo(e){var t=e.bounds;return t.width()>1&&t.height()>1}function vo(e){$t.call(this,null,e)}function bo(e){for(var t,n,r=e.items,i=r.length,a=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(t=r[a],n=t.items,"group"===t.marktype)switch(t.role){case Hk:case Gk:break;case Yk:_o(n,o.rowheaders);break;case Xk:_o(n,o.rowfooters);break;case Qk:_o(n,o.colheaders);break;case Jk:_o(n,o.colfooters);break;case Kk:o.rowtitle=n[0];break;case Zk:o.coltitle=n[0];break;default:_o(n,o.marks)}return o}function _o(e,t){for(var n=0,r=e.length;n<r;++n)t.push(e[n])}function xo(e){return{x1:0,y1:0,x2:e.width||0,y2:e.height||0}}function So(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function wo(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function Oo(e,t){return e.bounds[t]}function ko(e,t,n){var r=_b(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function Eo(e){return e<0?Math.ceil(-e):0}function Mo(e,t,n){function r(e,t){return Math.floor(Math.min(e,t))}function i(e,t){return Math.ceil(Math.max(e,t))}var a,o,s,l,u,c,f,d,p,h,m,g,y,v=bo(t,n),b=v.marks,_="flush"===n.bounds,x=_?xo:So,S=new er(0,0,0,0),w=ko(n.align,"column"),O=ko(n.align,"row"),k=ko(n.padding,"column"),E=ko(n.padding,"row"),M=n.offset,T=t.columns||n.columns||b.length,P=T<0?1:Math.ceil(b.length/T),C=P*T,D=[],A=[],N=0,R=[],I=[],F=0,L=b.length;for(o=0;o<T;++o)A[o]=0;for(o=0;o<P;++o)I[o]=0;for(o=0;o<L;++o)u=x(b[o]),s=o%T,l=~~(o/T),f=s?Math.ceil(x(b[o-1]).x2):0,d=l?Math.ceil(x(b[o-T]).y2):0,A[s]=Math.max(A[s],f),I[l]=Math.max(I[l],d),D.push(k+Eo(u.x1)),R.push(E+Eo(u.y1)),e.dirty(b[o]);for(o=0;o<L;++o)o%T===0&&(D[o]=N),o<T&&(R[o]=F);if("each"===w)for(s=1;s<T;++s){for(y=0,o=s;o<L;o+=T)y<D[o]&&(y=D[o]);for(o=s;o<L;o+=T)D[o]=y+A[s]}else if("all"===w){for(g=0,s=1;s<T;++s)g<A[s]&&(g=A[s]);for(y=0,o=0;o<L;++o)o%T&&y<D[o]&&(y=D[o]);for(o=0;o<L;++o)o%T&&(D[o]=y+g)}else for(s=1;s<T;++s)for(o=s;o<L;o+=T)D[o]+=A[s];if("each"===O)for(l=1;l<P;++l){for(y=0,o=l*T,a=o+T;o<a;++o)y<R[o]&&(y=R[o]);for(o=l*T;o<a;++o)R[o]=y+I[l]}else if("all"===O){for(g=0,l=1;l<P;++l)g<I[l]&&(g=I[l]);for(y=0,o=T;o<L;++o)y<R[o]&&(y=R[o]);for(o=T;o<L;++o)R[o]=y+g}else for(l=1;l<P;++l)for(o=l*T,a=o+T;o<a;++o)R[o]+=I[l];for(p=0,o=0;o<L;++o)c=b[o],f=c.x||0,c.x=p=D[o]+(o%T?p:0),c.bounds.translate(p-f,0);for(s=0;s<T;++s)for(h=0,o=s;o<L;o+=T)c=b[o],d=c.y||0,c.y=h+=R[o],c.bounds.translate(0,h-d);for(o=0;o<L;++o)b[o].mark.bounds.clear();for(o=0;o<L;++o)c=b[o],e.dirty(c),S.union(c.mark.bounds.union(c.bounds));x=_?wo:Oo,m=ko(n.headerBand,"row",null),p=To(e,v.rowheaders,b,T,P,-ko(M,"rowHeader"),r,0,x,"x1",0,T,1,m),m=ko(n.headerBand,"column",null),h=To(e,v.colheaders,b,T,T,-ko(M,"columnHeader"),r,1,x,"y1",0,1,T,m),m=ko(n.footerBand,"row",null),To(e,v.rowfooters,b,T,P,ko(M,"rowFooter"),i,0,x,"x2",T-1,T,1,m),m=ko(n.footerBand,"column",null),To(e,v.colfooters,b,T,T,ko(M,"columnFooter"),i,1,x,"y2",C-T,1,T,m),v.rowtitle&&(y=p-ko(M,"rowTitle"),m=ko(n.titleBand,"row",.5),Po(e,v.rowtitle,y,0,S,m)),v.coltitle&&(y=h-ko(M,"columnTitle"),m=ko(n.titleBand,"column",.5),Po(e,v.coltitle,y,1,S,m))}function To(e,t,n,r,i,a,o,s,l,u,c,f,d,p){var h,m,g,y,v,b,_,x,S,w=n.length,O=0,k=0;for(h=c;h<w;h+=f)n[h]&&(O=o(O,l(n[h],u)));if(!t.length)return O;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),O+=a,m=0,y=t.length;m<y;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(h=c,m=0,y=t.length;m<y;++m,h+=f){for(b=t[m],v=b.mark.bounds,g=h;null==(_=n[g]);g-=d);s?(x=null==p?_.x:Math.round(_.bounds.x1+p*_.bounds.width()),S=O):(x=O,S=null==p?_.y:Math.round(_.bounds.y1+p*_.bounds.height())),v.union(b.bounds.translate(x-(b.x||0),S-(b.y||0))),b.x=x,b.y=S,e.dirty(b),k=o(k,v[u])}return k}function Po(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function Co(e){$t.call(this,null,e)}function Do(e,t,n){var r,i,a,o,s,l,u=t.items,c=Math.max(0,t.width||0),f=Math.max(0,t.height||0),d=(new er).set(0,0,c,f),p=d.clone(),h=d.clone(),m=d.clone(),g=[];for(s=0,l=u.length;s<l;++s)switch(i=u[s],i.role){case lE:p.union(o=Io(e,i,c,f)),(No(i)?h:m).union(o);break;case uE:r=i;break;case fE:g.push(i);break;case cE:case dE:case pE:case hE:case mE:case gE:h.union(i.bounds),m.union(i.bounds);break;default:d.union(i.bounds)}if(r&&(p.union(o=Fo(e,r,p)),(No(r)?h:m).union(o)),g.length)for(a={left:0,right:0,top:0,bottom:0,margin:n.legendMargin||8},s=0,l=g.length;s<l;++s)if(o=Lo(e,g[s],a,h,m,c,f),n.autosize&&n.autosize.type===eE){var y=g[s].items[0].datum.orient;y===aE||y===oE?d.add(o.x1,0).add(o.x2,0):y!==iE&&y!==sE||d.add(0,o.y1).add(0,o.y2)}else d.union(o);d.union(h).union(m).union(p),jo(e,t,d,n)}function Ao(e,t,n){return e[t]===n?0:(e[t]=n,1)}function No(e){var t=e.items[0].datum.orient;return t===aE||t===oE}function Ro(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Io(e,t,n,r){var i,a,o=t.items[0],s=o.datum,l=s.orient,u=Ro(s),c=o.range,f=o.offset,d=o.position,p=o.minExtent,h=o.maxExtent,m=s.title&&o.items[u[2]].items[0],g=o.titlePadding,y=o.bounds,v=0,b=0;switch(vE.clear().union(y),y.clear(),(i=u[0])>-1&&y.union(o.items[i].bounds),(i=u[1])>-1&&y.union(o.items[i].bounds),l){case iE:v=d||0,b=-f,a=Math.max(p,Math.min(h,-y.y1)),m&&(m.auto?(a+=g,m.y=-a,a+=m.bounds.height()):y.union(m.bounds)),y.add(0,-a).add(c,0);break;case aE:v=-f,b=d||0,a=Math.max(p,Math.min(h,-y.x1)),m&&(m.auto?(a+=g,m.x=-a,a+=m.bounds.width()):y.union(m.bounds)),y.add(-a,0).add(0,c);break;case oE:v=n+f,b=d||0,a=Math.max(p,Math.min(h,y.x2)),m&&(m.auto?(a+=g,m.x=a,a+=m.bounds.width()):y.union(m.bounds)),y.add(0,0).add(a,c);break;case sE:v=d||0,b=r+f,a=Math.max(p,Math.min(h,y.y2)),m&&(m.auto?(a+=g,m.y=a,a+=m.bounds.height()):y.union(m.bounds)),y.add(0,0).add(c,a);break;default:v=o.x,b=o.y}return SO(y.translate(v,b),o),Ao(o,"x",v+yE)|Ao(o,"y",b+yE)&&(o.bounds=vE,e.dirty(o),o.bounds=y,e.dirty(o)),o.mark.bounds.clear().union(y)}function Fo(e,t,n){var r=t.items[0],i=r.datum,a=i.orient,o=r.offset,s=r.bounds,l=0,u=0;switch(vE.clear().union(s),a){case iE:l=r.x,u=n.y1-o;break;case aE:l=n.x1-o,u=r.y;break;case oE:l=n.x2+o,u=r.y;break;case sE:l=r.x,u=n.y2+o;break;default:l=r.x,u=r.y}return s.translate(l-r.x,u-r.y),Ao(r,"x",l)|Ao(r,"y",u)&&(r.bounds=vE,e.dirty(r),r.bounds=s,e.dirty(r)),t.bounds.clear().union(s)}function Lo(e,t,n,r,i,a,o){var s,l,u,c=t.items[0],f=c.datum,d=f.orient,p=c.offset,h=c.bounds,m=0,g=0;switch(d===iE||d===sE?(u=i,m=n[d]):d!==aE&&d!==oE||(u=r,g=n[d]),vE.clear().union(h),h.clear(),c.items.forEach(function(e){h.union(e.bounds)}),s=Math.round(h.width())+2*c.padding-1,l=Math.round(h.height())+2*c.padding-1,d){case aE:m-=s+p-Math.floor(u.x1),n.left+=l+n.margin;break;case oE:m+=p+Math.ceil(u.x2),n.right+=l+n.margin;break;case iE:g-=l+p-Math.floor(u.y1),n.top+=s+n.margin;break;case sE:g+=p+Math.ceil(u.y2),n.bottom+=s+n.margin;break;case"top-left":m+=p,g+=p;break;case"top-right":m+=a-s-p,g+=p;break;case"bottom-left":m+=p,g+=o-l-p;break;case"bottom-right":m+=a-s-p,g+=o-l-p;break;default:m=c.x,g=c.y}return SO(h.set(m,g,m+s,g+l),c),Ao(c,"x",m)|Ao(c,"width",s)|Ao(c,"y",g)|Ao(c,"height",l)&&(c.bounds=vE,e.dirty(c),c.bounds=h,e.dirty(c)),c.mark.bounds.clear().union(h)}function jo(e,t,n,r){var i=r.autosize||{},a=i.type,o=e._width,s=e._height,l=e.padding();if(!(e._autosize<1)&&a){var u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,Math.ceil(n.x2-u)),d=Math.max(0,t.height||0),p=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-d));i.contains===rE&&(o-=l.left+l.right,s-=l.top+l.bottom),a===nE?(c=0,p=0,u=o,d=s):a===eE?(u=Math.max(0,o-c-f),d=Math.max(0,s-p-h)):a===tE&&(o=u+c+f,s=d+p+h),e._resizeView(o,s,u,d,[c,p],i.resize)}}function zo(e){function t(t){var a=t+"",o=n.get(a);if(!o){if(i!==$E)return i;n.set(a,o=r.push(t))}return e[(o-1)%e.length]}var n=k(),r=[],i=$E;return e=null==e?[]:zE.call(e),t.domain=function(e){if(!arguments.length)return r.slice();r=[],n=k();for(var i,a,o=-1,s=e.length;++o<s;)n.has(a=(i=e[o])+"")||n.set(a,r.push(i));return t},t.range=function(n){return arguments.length?(e=zE.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return zo().domain(r).range(e).unknown(i)},t}function $o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Uo(){}function Bo(e){var t;return e=(e+"").trim().toLowerCase(),(t=GE.exec(e))?(t=parseInt(t[1],16),new Go(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=YE.exec(e))?qo(parseInt(t[1],16)):(t=XE.exec(e))?new Go(t[1],t[2],t[3],1):(t=KE.exec(e))?new Go(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=QE.exec(e))?Wo(t[1],t[2],t[3],t[4]):(t=JE.exec(e))?Wo(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ZE.exec(e))?Yo(t[1],t[2]/100,t[3]/100,1):(t=eM.exec(e))?Yo(t[1],t[2]/100,t[3]/100,t[4]):tM.hasOwnProperty(e)?qo(tM[e]):"transparent"===e?new Go(NaN,NaN,NaN,0):null}function qo(e){return new Go(e>>16&255,e>>8&255,255&e,1)}function Wo(e,t,n,r){return r<=0&&(e=t=n=NaN),new Go(e,t,n,r)}function Vo(e){return e instanceof Uo||(e=Bo(e)),e?(e=e.rgb(),new Go(e.r,e.g,e.b,e.opacity)):new Go}function Ho(e,t,n,r){return 1===arguments.length?Vo(e):new Go(e,t,n,null==r?1:r)}function Go(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Yo(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,n,r)}function Xo(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof Uo||(e=Bo(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Qo(o,s,l,e.opacity)}function Ko(e,t,n,r){return 1===arguments.length?Xo(e):new Qo(e,t,n,null==r?1:r)}function Qo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Jo(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Zo(e){if(e instanceof ts)return new ts(e.l,e.a,e.b,e.opacity);if(e instanceof ls){var t=e.h*nM;return new ts(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Go||(e=Vo(e));var n=as(e.r),r=as(e.g),i=as(e.b),a=ns((.4124564*n+.3575761*r+.1804375*i)/aM),o=ns((.2126729*n+.7151522*r+.072175*i)/oM),s=ns((.0193339*n+.119192*r+.9503041*i)/sM);return new ts(116*o-16,500*(a-o),200*(o-s),e.opacity)}function es(e,t,n,r){return 1===arguments.length?Zo(e):new ts(e,t,n,null==r?1:r)}function ts(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function ns(e){return e>fM?Math.pow(e,1/3):e/cM+lM}function rs(e){return e>uM?e*e*e:cM*(e-lM)}function is(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function as(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function os(e){if(e instanceof ls)return new ls(e.h,e.c,e.l,e.opacity);e instanceof ts||(e=Zo(e));var t=Math.atan2(e.b,e.a)*rM;return new ls(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ss(e,t,n,r){return 1===arguments.length?os(e):new ls(e,t,n,null==r?1:r)}function ls(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function us(e){if(e instanceof fs)return new fs(e.h,e.s,e.l,e.opacity);e instanceof Go||(e=Vo(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(bM*r+yM*t-vM*n)/(bM+yM-vM),a=r-i,o=(gM*(n-i)-hM*a)/mM,s=Math.sqrt(o*o+a*a)/(gM*i*(1-i)),l=s?Math.atan2(o,a)*rM-120:NaN;return new fs(l<0?l+360:l,s,i,e.opacity)}function cs(e,t,n,r){return 1===arguments.length?us(e):new fs(e,t,n,null==r?1:r)}function fs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ds(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function ps(e,t){return function(n){return e+n*t}}function hs(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ms(e,t){var n=t-e;return n?ps(e,n>180||n<-180?n-360*Math.round(n/360):n):MM(isNaN(e)?t:e)}function gs(e){return 1===(e=+e)?ys:function(t,n){return n-t?hs(t,n,e):MM(isNaN(t)?n:t)}}function ys(e,t){var n=t-e;return n?ps(e,n):MM(isNaN(e)?t:e)}function vs(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ho(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}function bs(e){return function(){return e}}function _s(e){return function(t){return e(t)+""}}function xs(e){return"none"===e?UM:(_M||(_M=document.createElement("DIV"),xM=document.documentElement,SM=document.defaultView),_M.style.transform=e,e=SM.getComputedStyle(xM.appendChild(_M),null).getPropertyValue("transform"),xM.removeChild(_M),e=e.slice(7,-1).split(","),BM(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function Ss(e){return null==e?UM:(wM||(wM=document.createElementNS("http://www.w3.org/2000/svg","g")),wM.setAttribute("transform",e),(e=wM.transform.baseVal.consolidate())?(e=e.matrix,BM(e.a,e.b,e.c,e.d,e.e,e.f)):UM)}function ws(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}function a(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:NM(e,i)},{i:l-2,x:NM(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}function o(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:NM(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}function s(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:NM(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}function l(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:NM(e,n)},{i:s-2,x:NM(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}function Os(e){return((e=Math.exp(e))+1/e)/2}function ks(e){return((e=Math.exp(e))-1/e)/2}function Es(e){return((e=Math.exp(2*e))-1)/(e+1)}function Ms(e){return function(t,n){var r=e((t=Ko(t)).h,(n=Ko(n)).h),i=ys(t.s,n.s),a=ys(t.l,n.l),o=ys(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}function Ts(e,t){var n=ys((e=es(e)).l,(t=es(t)).l),r=ys(e.a,t.a),i=ys(e.b,t.b),a=ys(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function Ps(e){return function(t,n){var r=e((t=ss(t)).h,(n=ss(n)).h),i=ys(t.c,n.c),a=ys(t.l,n.l),o=ys(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}function Cs(e){return function t(n){function r(t,r){var i=e((t=cs(t)).h,(r=cs(r)).h),a=ys(t.s,r.s),o=ys(t.l,r.l),s=ys(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}function Ds(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:iT(t)}function As(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function Ns(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function Rs(e,t,n,r){var i=e[0],a=e[1],o=t[0],s=t[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(e){return o(i(e))}}function Is(e,t,n,r){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=n(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(t){var n=Qx(e,t,1,i)-1;return o[n](a[n](t))}}function Fs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function Ls(e,t){function n(){return i=Math.min(s.length,l.length)>2?Is:Rs,a=o=null,r}function r(t){return(a||(a=i(s,l,c?As(e):e,u)))(+t)}var i,a,o,s=oT,l=oT,u=jM,c=!1;return r.invert=function(e){return(o||(o=i(l,s,Ds,c?Ns(t):t)))(+e)},r.domain=function(e){return arguments.length?(s=jE.call(e,aT),n()):s.slice()},r.range=function(e){return arguments.length?(l=zE.call(e),n()):l.slice()},r.rangeRound=function(e){return l=zE.call(e),u=zM,n()},r.clamp=function(e){return arguments.length?(c=!!e,n()):c},r.interpolate=function(e){return arguments.length?(u=e,n()):u},n()}function js(e){return new zs(e)}function zs(e){if(!(t=mT.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):hT[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=u,this.type=c}function $s(e){return gT=xT(e),yT=gT.format,vT=gT.formatPrefix,gT}function Us(e){var t=e.domain;return e.ticks=function(e){var n=t();return oS(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return kT(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),r=Zt(s,l,n),r>0?(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,r=Zt(s,l,n)):r<0&&(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,r=Zt(s,l,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,t(i)),e},e}function Bs(){var e=Ls(Ds,NM);return e.copy=function(){return Fs(e,Bs())},Us(e)}function qs(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=jE.call(n,aT),e):t.slice()},e.copy=function(){return qs().domain(t)},Us(e)}function Ws(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:iT(t)}function Vs(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Hs(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gs(e){return 10===e?Hs:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ys(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function Xs(e){return function(t){return-e(-t)}}function Ks(){function e(){return i=Ys(r),a=Gs(r),n()[0]<0&&(i=Xs(i),a=Xs(a)),t}var t=Ls(Ws,Vs).domain([1,10]),n=t.domain,r=10,i=Ys(10),a=Gs(10);return t.base=function(t){return arguments.length?(r=+t,e()):r},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,o=n(),s=o[0],l=o[o.length-1];(t=l<s)&&(d=s,s=l,l=d);var u,c,f,d=i(s),p=i(l),h=null==e?10:+e,m=[];if(!(r%1)&&p-d<h){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(c=1,u=a(d);c<r;++c)if(f=u*c,!(f<s)){if(f>l)break;m.push(f)}}else for(;d<p;++d)for(c=r-1,u=a(d);c>=1;--c)if(f=u*c,!(f<s)){if(f>l)break;m.push(f)}}else m=oS(d,p,Math.min(p-d,h)).map(a);return t?m.reverse():m},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=yT(n)),e===1/0)return n;null==e&&(e=10);var o=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/a(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):""}},t.nice=function(){return n(ET(n(),{floor:function(e){return a(Math.floor(i(e)))},ceil:function(e){return a(Math.ceil(i(e)))}}))},t.copy=function(){return Fs(t,Ks().base(r))},t}function Qs(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function Js(){function e(e,t){return(t=Qs(t,n)-(e=Qs(e,n)))?function(r){return(Qs(r,n)-e)/t}:iT(t)}function t(e,t){return t=Qs(t,n)-(e=Qs(e,n)),function(r){return Qs(e+t*r,1/n)}}var n=1,r=Ls(e,t),i=r.domain;return r.exponent=function(e){return arguments.length?(n=+e,i(i())):n},r.copy=function(){return Fs(r,Js().exponent(n))},Us(r)}function Zs(){return Js().exponent(.5)}function el(){function e(){var e=0,a=Math.max(1,r.length);for(i=new Array(a-1);++e<a;)i[e-1]=lS(n,e/a);return t}function t(e){if(!isNaN(e=+e))return r[Qx(i,e)]}var n=[],r=[],i=[];return t.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,a=t.length;i<a;++i)r=t[i],null==r||isNaN(r=+r)||n.push(r);return n.sort(Yx),e()},t.range=function(t){return arguments.length?(r=zE.call(t),e()):r.slice()},t.quantiles=function(){return i.slice()},t.copy=function(){return el().domain(n).range(r)},t}function tl(){function e(e){if(e<=e)return o[Qx(a,e,0,i)]}function t(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return e}var n=0,r=1,i=1,a=[.5],o=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],t()):[n,r]},e.range=function(e){return arguments.length?(i=(o=zE.call(e)).length-1,t()):o.slice()},e.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},e.copy=function(){return tl().domain([n,r]).range(o)},Us(e)}function nl(){function e(e){if(e<=e)return n[Qx(t,e,0,r)]}var t=[.5],n=[0,1],r=1;return e.domain=function(i){return arguments.length?(t=zE.call(i),r=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(i){return arguments.length?(n=zE.call(i),r=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},e.copy=function(){return nl().domain(t).range(n)},e}function rl(e){return new Date(e)}function il(e){return e instanceof Date?+e:+new Date((+e))}function al(e,t,n,r,i,a,o,s,l){function u(s){return(o(s)<s?h:a(s)<s?m:i(s)<s?g:r(s)<s?y:t(s)<s?n(s)<s?v:b:e(s)<s?_:x)(s)}function c(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,o=Xx(function(e){return e[2]}).right(S,a);o===S.length?(i=en(n/NT,r/NT,t),t=e):o?(o=S[a/S[o-1][2]<S[o][2]/a?o-1:o],i=o[1],t=o[0]):(i=en(n,r,t),t=s)}return null==i?t:t.every(i)}var f=Ls(Ds,NM),d=f.invert,p=f.domain,h=l(".%L"),m=l(":%S"),g=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),b=l("%b %d"),_=l("%B"),x=l("%Y"),S=[[o,1,MT],[o,5,5*MT],[o,15,15*MT],[o,30,30*MT],[a,1,TT],[a,5,5*TT],[a,15,15*TT],[a,30,30*TT],[i,1,PT],[i,3,3*PT],[i,6,6*PT],[i,12,12*PT],[r,1,CT],[r,2,2*CT],[n,1,DT],[t,1,AT],[t,3,3*AT],[e,1,NT]];return f.invert=function(e){return new Date(d(e))},f.domain=function(e){return arguments.length?p(jE.call(e,il)):p().map(rl)},f.ticks=function(e,t){var n,r=p(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=c(e,i,a,t),n=n?n.range(i,a+1):[],o?n.reverse():n},f.tickFormat=function(e,t){return null==t?u:l(t)},f.nice=function(e,t){var n=p();return(e=c(e,n[0],n[n.length-1],t))?p(ET(n,e)):f},f.copy=function(){return Fs(f,al(e,t,n,r,i,a,o,s,l))},f}function ol(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function sl(){function e(){var e=i().length,r=o[1]<o[0],f=o[r-0],d=o[1-r],p=FE(e,l,u);t=(d-f)/(p||1),s&&(t=Math.floor(t)),f+=(d-f-t*(e-l))*c,n=t*(1-l),s&&(f=Math.round(f),n=Math.round(n));var h=nS(e).map(function(e){return f+t*e});return a(r?h.reverse():h)}var t,n,r=zo().unknown(void 0),i=r.domain,a=r.range,o=[0,1],s=!1,l=0,u=0,c=.5;return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),e()):i()},r.range=function(t){return arguments.length?(o=[+t[0],+t[1]],e()):o.slice()},r.rangeRound=function(t){return o=[+t[0],+t[1]],s=!0,e()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(s=!!t,e()):s},r.padding=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l=u,e()):l},r.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),e()):l},r.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},r.align=function(t){
return arguments.length?(c=Math.max(0,Math.min(1,t)),e()):c},r.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var t,r,s,l=+e[0],u=+e[1],c=o[1]<o[0],f=c?a().reverse():a(),d=f.length-1;if(l===l&&u===u&&(u<l&&(s=l,l=u,u=s),!(u<f[0]||l>o[1-c])))return t=Math.max(0,Qx(f,l)-1),r=l===u?t:Qx(f,u)-1,l-f[t]>n+1e-10&&++t,c&&(s=t,t=d-r,r=d-s),t>r?void 0:i().slice(t,r+1)}},r.invert=function(e){var t=r.invertRange([e,e]);return t?t[0]:t},r.copy=function(){return sl().domain(i()).range(o).round(s).paddingInner(l).paddingOuter(u).align(c)},e()}function ll(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ll(t())},e}function ul(){return ll(sl().paddingInner(1))}function cl(e){return VT.call(e,function(e){return+e})}function fl(){function e(e){return n(e)}function t(e){r=cl(e),n.domain([r[0],e_(r)])}var n=Bs(),r=[];return e.domain=function(n){return arguments.length?(t(n),e):r.slice()},e.range=function(t){return arguments.length?(n.range(t),e):n.range()},e.rangeRound=function(t){return arguments.length?(n.rangeRound(t),e):n.rangeRound()},e.interpolate=function(t){return arguments.length?(n.interpolate(t),e):n.interpolate()},e.invert=function(e){return n.invert(e)},e.ticks=function(t){var n=r.length,i=~~(n/(t||n));return i<2?e.domain():r.filter(function(e,t){return!(t%i)})},e.tickFormat=function(){return n.tickFormat.apply(n,arguments)},e.copy=function(){return fl().domain(e.domain()).range(e.range())},e}function dl(){function e(e){return null==e||e!==e?void 0:n[(Qx(t,e)-1)%n.length]}var t=[],n=[];return e.domain=function(n){return arguments.length?(t=cl(n),e):t.slice()},e.range=function(t){return arguments.length?(n=HT.call(t),e):n.slice()},e.copy=function(){return dl().domain(e.domain()).range(e.range())},e}function pl(e){function t(){var e=r.domain();i=e[0],a=e_(e)-i}function n(t){var n=(t-i)/a;return e(o?Math.max(0,Math.min(1,n)):n)}var r=Bs(),i=0,a=1,o=!1;return n.clamp=function(e){return arguments.length?(o=!!e,n):o},n.domain=function(e){return arguments.length?(r.domain(e),t(),n):r.domain()},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return pl().domain(r.domain()).clamp(o).interpolator(e)},n.ticks=function(e){return r.ticks(e)},n.tickFormat=function(e,t){return r.tickFormat(e,t)},n.nice=function(e){return r.nice(e),t(),n},n}function hl(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?RE(n):n.invertExtent?IE(n):void 0),n.type=e,n}}function ml(e,t){return arguments.length>1?(GT[e]=hl(e,t),this):GT.hasOwnProperty(e)?GT[e]:void 0}function gl(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function yl(e,t){cC[e]=lC["interpolate"+t],uC[e]=lC["scheme"+t]}function vl(e,t){var n=t[0],r=e_(t)-n;return function(t){return e(n+t*r)}}function bl(e,t,n){var r=n-t;return r?"linear"===e.type||"sequential"===e.type?function(e){return(e-t)/r}:e.copy().domain([t,n]).range([0,1]).interpolate(_l):zb(0)}function _l(e,t){var n=t-e;return function(t){return e+t*n}}function xl(e,t){var n=rT[Sl(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function Sl(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}function wl(e){return dC.hasOwnProperty(e)&&dC[e]}function Ol(e){return pC.hasOwnProperty(e)&&pC[e]}function kl(e,t){var n;return _b(t)&&(n=t.step,t=t.interval),xb(t)&&(t="time"===e.type?wl(t):"utc"===e.type?Ol(t):yb("Only time and utc scales accept interval strings."),n&&(t=t.every(n))),t}function El(e,t){var n=e.range(),r=n[0],i=e_(n);return r>i&&(n=i,i=r,r=n),t.filter(function(t){return t=e(t),!(t<r||t>i)})}function Ml(e,t){return e.ticks?e.ticks(t):e.domain()}function Tl(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):String;return e.type===xE?Pl(r,Cl(n)):r}function Pl(e,t){return function(n){return e(n)?t(n):""}}function Cl(e){var t=js(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return Dl(yT(t),yT(".1f")(1)[1])}return yT(t)}function Dl(e,t){return function(n){var r,i,a=e(n),o=a.indexOf(t);if(o<0)return a;for(r=Al(a,o),i=r<a.length?a.slice(r):"";--r>o;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}function Al(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(n=e.charCodeAt(r),n>=48&&n<=57)return r+1}function Nl(e){$t.call(this,null,e)}function Rl(e){$t.call(this,null,e)}function Il(){return p({})}function Fl(e){return e.exit}function Ll(e){$t.call(this,null,e)}function jl(e,t,n){if(n)return e.domain();var r=yC[e.type];return r?r(e):Ml(e,t)}function zl(e){var t=e.domain(),n=t[0],r=e_(t),i=e.range().length,a=new Array(i),o=0;for(a[0]=-(1/0);++o<i;)a[o]=(o*r-(o-i)*n)/i;return a.max=+(1/0),a}function $l(e){var t=[-(1/0)].concat(e.quantiles());return t.max=+(1/0),t}function Ul(e){var t=[-(1/0)].concat(e.domain());return t.max=+(1/0),t}function Bl(e){var t=e.domain();return t.max=t.pop(),t}function ql(e,t){return yC[e.type]?Wl(t):Hl(t)}function Wl(e){return function(t,n,r){var i=r[n+1]||r.max||+(1/0),a=Vl(t,e),o=Vl(i,e);return a&&o?a+"–"+o:o?"< "+o:"≥ "+a}}function Vl(e,t){return isFinite(e)?t(e):null}function Hl(e){return function(t){return e(t)}}function Gl(e){$t.call(this,[],e)}function Yl(e){return e.source.x}function Xl(e){return e.source.y}function Kl(e){return e.target.x}function Ql(e){return e.target.y}function Jl(e){$t.call(this,{},e)}function Zl(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function eu(e,t,n,r){return Zl(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function tu(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r}function nu(e,t,n,r){return tu(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function ru(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r}function iu(e,t,n,r){return ru(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function au(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n}function ou(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r}function su(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s}function lu(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r}function uu(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r}function cu(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s}function fu(e){$t.call(this,null,e)}function du(e){$t.call(this,null,e),this.modified(!0)}function pu(e,t,n){var r=hu(e,t.domainRaw);if(r>-1)return r;var i,a,o=t.domain,s=t.zero||void 0===t.zero&&wC[e.type];return o?((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid&&(a=t.domainMid,(a<o[0]||a>o[i])&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(i,0,a))),e.domain(o),t.nice&&e.nice&&e.nice(t.nice!==!0&&kl(e,t.nice)||null),o.length):0}function hu(e,t){return t?(e.domain(t),t.length):-1}function mu(e,t,n){var r=t.round||!1,i=t.range;if(null!=t.rangeStep)i=gu(e.type,t,n);else if(t.scheme){if(i=yu(e.type,t,n),Lb(i))return e.interpolator(i)}else if(i&&e.type===NE)return e.interpolator(PM(bu(i,t.reverse)));i&&t.interpolate&&e.interpolate?e.interpolate(xl(t.interpolate,t.interpolateGamma)):Lb(e.round)?e.round(r):Lb(e.rangeRound)&&e.interpolate(r?zM:jM),i&&e.range(bu(i,t.reverse))}function gu(e,t,n){e!==OE&&e!==kE&&yb("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===kE?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*FE(n,i,r)]}function yu(e,t,n){var r,i=t.scheme.toLowerCase(),a=fC(i),o=t.schemeExtent;return a||yb("Unrecognized scheme name: "+t.scheme),n=e===CE?n+1:e===AE?n-1:e===TE||e===PE?+t.schemeCount||SC:n,e===NE?vu(a,o,t.reverse):!o&&(r=fC(i+"-"+n))?r:Lb(a)?_u(vu(a,o),n):e===ME?a:a.slice(0,n)}function vu(e,t,n){return Lb(e)&&(t||n)?vl(e,bu(t||[0,1],n)):e}function bu(e,t){return t?e.slice().reverse():e}function _u(e,t){for(var n=new Array(t),r=t-1||1,i=0;i<t;++i)n[i]=e(i/r);return n}function xu(e){$t.call(this,null,e)}function Su(e){$t.call(this,null,e)}function wu(e,t,n,r,i){for(var a,o=(t-e.sum)/2,s=e.length,l=0;l<s;++l)a=e[l],a[r]=o,a[i]=o+=Math.abs(n(a))}function Ou(e,t,n,r,i){for(var a,o=1/e.sum,s=0,l=e.length,u=0,c=0;u<l;++u)a=e[u],a[r]=s,a[i]=s=o*(c+=Math.abs(n(a)))}function ku(e,t,n,r,i){for(var a,o,s=0,l=0,u=e.length,c=0;c<u;++c)o=e[c],a=n(o),a<0?(o[r]=l,o[i]=l+=a):(o[r]=s,o[i]=s+=a)}function Eu(e,t,n,r){var i,a,o,s,l,u,c,f,d,p=[],h=function(e){return e(l)};if(null==t)p.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)l=e[a],u=t.map(h),c=i[u],c||(i[u]=c=[],p.push(c)),c.push(l);for(u=0,d=0,s=p.length;u<s;++u){for(c=p[u],a=0,f=0,o=c.length;a<o;++a)f+=Math.abs(r(c[a]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return p.max=d,p}function Mu(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],u=l[0],c=l[1],f=e[s],d=f[0],p=f[1];if(Tu(l,f,t))return 0;c>r!=p>r&&n<(d-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function Tu(e,t,n){var r;return Pu(e,t,n)&&Cu(e[r=+(e[0]===t[0])],n[r],t[r])}function Pu(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Cu(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Du(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<i;++o)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=e.data[s+o*r]),s>=n&&(s>=a&&(l-=e.data[s-a+o*r]),t.data[s-n+o*r]=l/Math.min(s+1,r-1+a-s,a))}function Au(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<r;++o)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=e.data[o+s*r]),s>=n&&(s>=a&&(l-=e.data[o+(s-a)*r]),t.data[o+(s-n)*r]=l/Math.min(s+1,i-1+a-s,a))}function Nu(e){return e[0]}function Ru(e){return e[1]}function Iu(e){$t.call(this,null,e)}function Fu(e){return function(t){for(var n=tS(t),r=n[0],i=n[1]-r,a=[],o=1;o<=e;++o)a.push(r+i*o/(e+1));return a}}function Lu(e){$t.call(this,null,e)}function ju(){this.reset()}function zu(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}function $u(e){return e>1?0:e<-1?QC:Math.acos(e)}function Uu(e){return e>1?JC:e<-1?-JC:Math.asin(e)}function Bu(){}function qu(e,t){e&&gD.hasOwnProperty(e.type)&&gD[e.type](e,t)}function Wu(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Vu(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Wu(e[n],t,1);t.polygonEnd()}function Hu(e){return[aD(e[1],e[0]),Uu(e[2])]}function Gu(e){var t=e[0],n=e[1],r=oD(n);return[r*oD(t),r*fD(t),fD(n)]}function Yu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Xu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ku(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Qu(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ju(e){var t=pD(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Zu(e,t){return[e>QC?e-eD:e<-QC?e+eD:e,t]}function ec(e,t,n){return(e%=eD)?t||n?vD(nc(e),rc(t,n)):nc(e):t||n?rc(t,n):Zu}function tc(e){return function(t,n){return t+=e,[t>QC?t-eD:t<-QC?t+eD:t,n]}}function nc(e){var t=tc(e);return t.invert=tc(-e),t}function rc(e,t){function n(e,t){var n=oD(t),s=oD(e)*n,l=fD(e)*n,u=fD(t),c=u*r+s*i;return[aD(l*a-c*o,s*r-u*i),Uu(c*a+l*o)]}var r=oD(e),i=fD(e),a=oD(t),o=fD(t);return n.invert=function(e,t){var n=oD(t),s=oD(e)*n,l=fD(e)*n,u=fD(t),c=u*a-l*o;return[aD(l*a+u*o,s*r+c*i),Uu(c*r-s*i)]},n}function ic(e,t,n,r,i,a){if(n){var o=oD(t),s=fD(t),l=r*n;null==i?(i=t+r*eD,a=t-l/2):(i=ac(o,i),a=ac(o,a),(r>0?i<a:i>a)&&(i+=r*eD));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Hu([o,-s*oD(c),-s*fD(c)]),e.point(u[0],u[1])}}function ac(e,t){t=Gu(t),t[0]-=e,Ju(t);var n=$u(-t[1]);return((-t[2]<0?-n:n)+eD-KC)%eD}function oc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function sc(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function lc(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,u){var c=0,f=0;if(null==i||(c=o(i,s))!==(f=o(a,s))||l(i,a)<0^s>0)do u.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+s+4)%4)!==f);else u.point(a[0],a[1])}function o(r,i){return rD(r[0]-e)<KC?i>0?0:3:rD(r[0]-n)<KC?i>0?2:1:rD(r[1]-t)<KC?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e,t){i(e,t)&&E.point(e,t)}function u(){for(var t=0,n=0,i=g.length;n<i;++n)for(var a,o,s=g[n],l=1,u=s.length,c=s[0],f=c[0],d=c[1];l<u;++l)a=f,o=d,c=s[l],f=c[0],d=c[1],o<=r?d>r&&(f-a)*(r-o)>(d-o)*(e-a)&&++t:d<=r&&(f-a)*(r-o)<(d-o)*(e-a)&&--t;return t}function c(){E=M,m=[],g=[],k=!0}function f(){var e=u(),t=k&&e,n=(m=dS(m)).length;(t||n)&&(o.polygonStart(),t&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),n&&RD(m,s,e,a,o),o.polygonEnd()),E=o,m=g=y=null}function d(){T.point=h,g&&g.push(y=[]),O=!0,w=!1,x=S=NaN}function p(){m&&(h(v,b),_&&w&&M.rejoin(),m.push(M.result())),T.point=l,w&&E.lineEnd()}function h(a,o){var s=i(a,o);if(g&&y.push([a,o]),O)v=a,b=o,_=s,O=!1,s&&(E.lineStart(),E.point(a,o));else if(s&&w)E.point(a,o);else{var l=[x=Math.max(FD,Math.min(ID,x)),S=Math.max(FD,Math.min(ID,S))],u=[a=Math.max(FD,Math.min(ID,a)),o=Math.max(FD,Math.min(ID,o))];AD(l,u,e,t,n,r)?(w||(E.lineStart(),E.point(l[0],l[1])),E.point(u[0],u[1]),s||E.lineEnd(),k=!1):s&&(E.lineStart(),E.point(a,o),k=!1)}x=a,S=o,w=s}var m,g,y,v,b,_,x,S,w,O,k,E=o,M=DD(),T={point:l,lineStart:d,lineEnd:p,polygonStart:c,polygonEnd:f};return T}}function uc(){$D.point=fc,$D.lineEnd=cc}function cc(){$D.point=$D.lineEnd=Bu}function fc(e,t){e*=nD,t*=nD,bD=e,_D=fD(t),xD=oD(t),$D.point=dc}function dc(e,t){e*=nD,t*=nD;var n=fD(t),r=oD(t),i=rD(e-bD),a=oD(i),o=fD(i),s=r*o,l=xD*n-_D*r*a,u=_D*n+xD*r*a;zD.add(aD(pD(s*s+l*l),u)),bD=e,_D=n,xD=r}function pc(e,t,n){var r=nS(e,t-KC,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function hc(e,t,n){var r=nS(e,t-KC,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function mc(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return nS(sD(a/g)*g,i,g).map(d).concat(nS(sD(u/y)*y,l,y).map(p)).concat(nS(sD(r/h)*h,n,h).filter(function(e){return rD(e%g)>KC}).map(c)).concat(nS(sD(s/m)*m,o,m).filter(function(e){return rD(e%y)>KC}).map(f))}var n,r,i,a,o,s,l,u,c,f,d,p,h=10,m=h,g=90,y=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(p(l).slice(1),d(i).reverse().slice(1),p(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[a,u],[i,l]]},e.extentMinor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(v)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(g=+t[0],y=+t[1],e):[g,y]},e.stepMinor=function(t){return arguments.length?(h=+t[0],m=+t[1],e):[h,m]},e.precision=function(t){return arguments.length?(v=+t,c=pc(s,o,90),f=hc(r,n,v),d=pc(u,l,90),p=hc(a,i,v),e):v},e.extentMajor([[-180,-90+KC],[180,90-KC]]).extentMinor([[-180,-80-KC],[180,80+KC]])}function gc(){GD.point=yc}function yc(e,t){GD.point=vc,SD=OD=e,wD=kD=t}function vc(e,t){HD.add(kD*e-OD*t),OD=e,kD=t}function bc(){vc(SD,wD)}function _c(e,t){e<YD&&(YD=e),e>KD&&(KD=e),t<XD&&(XD=t),t>QD&&(QD=t)}function xc(e,t){ZD+=e,eA+=t,++tA}function Sc(){lA.point=wc}function wc(e,t){lA.point=Oc,xc(TD=e,PD=t)}function Oc(e,t){var n=e-TD,r=t-PD,i=pD(n*n+r*r);nA+=i*(TD+e)/2,rA+=i*(PD+t)/2,iA+=i,xc(TD=e,PD=t)}function kc(){lA.point=xc}function Ec(){lA.point=Tc}function Mc(){Pc(ED,MD)}function Tc(e,t){lA.point=Pc,xc(ED=TD=e,MD=PD=t)}function Pc(e,t){var n=e-TD,r=t-PD,i=pD(n*n+r*r);nA+=i*(TD+e)/2,rA+=i*(PD+t)/2,iA+=i,i=PD*e-TD*t,aA+=i*(TD+e),oA+=i*(PD+t),sA+=3*i,xc(TD=e,PD=t)}function Cc(e){this._context=e}function Dc(e,t){mA.point=Ac,cA=dA=e,fA=pA=t}function Ac(e,t){dA-=e,pA-=t,hA.add(pD(dA*dA+pA*pA)),dA=e,pA=t}function Nc(){this._string=[]}function Rc(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Ic(e){return e.length>1}function Fc(e,t){return((e=e.x)[0]<0?e[1]-JC-KC:JC-e[1])-((t=t.x)[0]<0?t[1]-JC-KC:JC-t[1])}function Lc(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?QC:-QC,l=rD(a-n);rD(l-QC)<KC?(e.point(n,r=(r+o)/2>0?JC:-JC),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=QC&&(rD(n-i)<KC&&(n-=i*KC),rD(a-s)<KC&&(a-=s*KC),r=jc(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function jc(e,t,n,r){var i,a,o=fD(e-n);return rD(o)>KC?iD((fD(t)*(a=oD(r))*fD(n)-fD(r)*(i=oD(t))*fD(e))/(i*a*o)):(t+r)/2}function zc(e,t,n,r){var i;if(null==e)i=n*JC,r.point(-QC,i),r.point(0,i),r.point(QC,i),r.point(QC,0),r.point(QC,-i),r.point(0,-i),r.point(-QC,-i),r.point(-QC,0),r.point(-QC,i);else if(rD(e[0]-t[0])>KC){var a=e[0]<t[0]?QC:-QC;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function $c(e){return function(t){var n=new Uc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Uc(){}function Bc(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),yD(n,e.stream(JD));var o=JD.result(),s=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),l=+t[0][0]+(r-s*(o[1][0]+o[0][0]))/2,u=+t[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*s).translate([l,u])}function qc(e,t,n){return Bc(e,[[0,0],t],n)}function Wc(e){return $c({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Vc(e,t){function n(r,i,a,o,s,l,u,c,f,d,p,h,m,g){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var _=o+d,x=s+p,S=l+h,w=pD(_*_+x*x+S*S),O=Uu(S/=w),k=rD(rD(S)-1)<KC||rD(a-f)<KC?(a+f)/2:aD(x,_),E=e(k,O),M=E[0],T=E[1],P=M-r,C=T-i,D=v*P-y*C;(D*D/b>t||rD((y*P+v*C)/b-.5)>.3||o*d+s*p+l*h<xA)&&(n(r,i,a,o,s,l,M,T,k,_/=w,x/=w,S,m,g),g.point(M,T),n(M,T,k,_,x,S,u,c,f,d,p,h,m,g))}}return function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){y=NaN,S.point=a,t.lineStart()}function a(r,i){var a=Gu([r,i]),o=e(r,i);n(y,v,g,b,_,x,y=o[0],v=o[1],g=r,b=a[0],_=a[1],x=a[2],_A,t),t.point(y,v)}function o(){S.point=r,t.lineEnd()}function s(){i(),S.point=l,S.lineEnd=u}function l(e,t){a(c=e,t),f=y,d=v,p=b,h=_,m=x,S.point=a}function u(){n(y,v,g,b,_,x,f,d,c,p,h,m,_A,t),S.lineEnd=o,o()}var c,f,d,p,h,m,g,y,v,b,_,x,S={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),S.lineStart=s},polygonEnd:function(){t.polygonEnd(),S.lineStart=i}};return S}}function Hc(e){return Gc(function(){return e})()}function Gc(e){function t(e){return e=c(e[0]*nD,e[1]*nD),[e[0]*g+s,l-e[1]*g]}function n(e){return e=c.invert((e[0]-s)/g,(l-e[1])/g),e&&[e[0]*tD,e[1]*tD]}function r(e,t){return e=o(e,t),[e[0]*g+s,l-e[1]*g]}function i(){c=vD(u=ec(x,S,w),o);var e=o(b,_);return s=y-e[0]*g,l=v+e[1]*g,a()}function a(){return h=m=null,t}var o,s,l,u,c,f,d,p,h,m,g=150,y=480,v=250,b=0,_=0,x=0,S=0,w=0,O=null,k=vA,E=null,M=WD,T=.5,P=SA(r,T);return t.stream=function(e){return h&&m===e?h:h=wA(k(u,P(M(m=e))))},t.clipAngle=function(e){return arguments.length?(k=+e?bA(O=e*nD,6*nD):(O=null,vA),a()):O*tD},t.clipExtent=function(e){return arguments.length?(M=null==e?(E=f=d=p=null,WD):lc(E=+e[0][0],f=+e[0][1],d=+e[1][0],p=+e[1][1]),a()):null==E?null:[[E,f],[d,p]]},t.scale=function(e){return arguments.length?(g=+e,i()):g},t.translate=function(e){return arguments.length?(y=+e[0],v=+e[1],i()):[y,v]},t.center=function(e){return arguments.length?(b=e[0]%360*nD,_=e[1]%360*nD,i()):[b*tD,_*tD]},t.rotate=function(e){return arguments.length?(x=e[0]%360*nD,S=e[1]%360*nD,w=e.length>2?e[2]%360*nD:0,i()):[x*tD,S*tD,w*tD]},t.precision=function(e){return arguments.length?(P=SA(r,T=e*e),a()):pD(T)},t.fitExtent=function(e,n){return Bc(t,e,n)},t.fitSize=function(e,n){return qc(t,e,n)},function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,i()}}function Yc(e){var t=0,n=QC/3,r=Gc(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*nD,n=e[1]*nD):[t*tD,n*tD]},i}function Xc(e){function t(e,t){return[e*n,fD(t)/n]}var n=oD(e);return t.invert=function(e,t){return[e/n,Uu(t*n)]},t}function Kc(e,t){function n(e,t){var n=pD(a-2*i*fD(t))/i;return[n*fD(e*=i),o-n*oD(e)]}var r=fD(e),i=(r+fD(t))/2;if(rD(i)<KC)return Xc(e);var a=1+r*(2*i-r),o=pD(a)/i;return n.invert=function(e,t){var n=o-t;return[aD(e,rD(n))/i*dD(n),Uu((a-(e*e+n*n)*i*i)/(2*i))]},n}function Qc(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Jc(e){return function(t,n){var r=oD(t),i=oD(n),a=e(r*i);return[a*i*fD(t),a*fD(n)]}}function Zc(e){return function(t,n){var r=pD(t*t+n*n),i=e(r),a=fD(i),o=oD(i);return[aD(t*a,r*o),Uu(r&&n*a/r)]}}function ef(e,t){return[e,uD(hD((JC+t)/2))]}function tf(e){function t(){var t=QC*s(),o=a(CD(a.rotate()).invert([0,0]));return u(null==c?[[o[0]-t,o[1]-t],[o[0]+t,o[1]+t]]:e===ef?[[Math.max(o[0]-t,c),n],[Math.min(o[0]+t,r),i]]:[[c,Math.max(o[1]-t,n)],[r,Math.min(o[1]+t,i)]])}var n,r,i,a=Hc(e),o=a.center,s=a.scale,l=a.translate,u=a.clipExtent,c=null;return a.scale=function(e){return arguments.length?(s(e),t()):s()},a.translate=function(e){return arguments.length?(l(e),t()):l()},a.center=function(e){return arguments.length?(o(e),t()):o()},a.clipExtent=function(e){return arguments.length?(null==e?c=n=r=i=null:(c=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),t()):null==c?null:[[c,n],[r,i]]},t()}function nf(e){return hD((JC+e)/2)}function rf(e,t){function n(e,t){a>0?t<-JC+KC&&(t=-JC+KC):t>JC-KC&&(t=JC-KC);var n=a/cD(nf(t),i);return[n*fD(i*e),a-n*oD(i*e)]}var r=oD(e),i=e===t?fD(e):uD(r/oD(t))/uD(nf(t)/nf(e)),a=r*cD(nf(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=dD(i)*pD(e*e+n*n);return[aD(e,rD(n))/i*dD(n),2*iD(cD(a/r,1/i))-JC]},n):ef}function af(e,t){return[e,t]}function of(e,t){function n(e,t){var n=a-t,r=i*e;return[n*fD(r),a-n*oD(r)]}var r=oD(e),i=e===t?fD(e):(r-oD(t))/(t-e),a=r/i+e;return rD(i)<KC?af:(n.invert=function(e,t){var n=a-t;return[aD(e,rD(n))/i*dD(n),a-dD(i)*pD(e*e+n*n)]},n)}function sf(e,t){var n=oD(t),r=oD(e)*n;return[n*fD(e)/r,fD(t)/r]}function lf(e,t){return[oD(t)*fD(e),fD(t)]}function uf(e,t){var n=oD(t),r=1+oD(e)*n;return[n*fD(e)/r,fD(t)/r]}function cf(e,t){return[uD(hD((JC+t)/2)),-e]}function ff(e,t){return function n(){var r=t();return r.type=e,r.path=gA().projection(r),r.copy=r.copy||function(){var e=n();return $A.forEach(function(t){r.hasOwnProperty(t)&&e[t](r[t]())}),e.path.pointRadius(r.path.pointRadius()),e},r}}function df(e,t){return arguments.length>1?(UA[e]=ff(e,t),this):UA.hasOwnProperty(e)?UA[e]:null}function pf(e){return e&&e.path||zA}function hf(e){$t.call(this,null,e)}function mf(e){$t.call(this,null,e)}function gf(e){$t.call(this,null,e)}function yf(e,t){var n=function(n){return e(t(n))};return n.context=function(t){return e.context(t),n},n}function vf(e){$t.call(this,[],e),this.generator=mc()}function bf(e){$t.call(this,null,e),this.modified(!0)}function _f(e,t){var n=wf(t.fit);t.extent?e.fitExtent(t.extent,n):t.size?e.fitSize(t.size,n):0}function xf(e){var t=df((e||"mercator").toLowerCase());return t||yb("Unrecognized projection type: "+e),t()}function Sf(e,t,n){Lb(e[t])&&e[t](n)}function wf(e){return e=Fb(e),1===e.length?e[0]:{type:VC,features:e.reduce(function(e,t){return t&&t.type===VC?e.push.apply(e,t.features):bb(t)?e.push.apply(e,t):e.push(t),e},[])}}function Of(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,l,u,c,f,d,p=e._root,h={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!p)return e._root=h,e;for(;p.length;)if((u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o,i=p,!(p=p[f=c<<1|u]))return i[f]=h,e;if(s=+e._x.call(null,p.data),l=+e._y.call(null,p.data),t===s&&n===l)return h.next=p,i?i[f]=h:e._root=h,e;do i=i?i[f]=new Array(4):e._root=new Array(4),(u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o;while((f=c<<1|u)===(d=(l>=o)<<1|s>=a));return i[d]=p,i[f]=h,e}function kf(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-(1/0),f=-(1/0);for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));for(c<l&&(l=this._x0,c=this._x1),f<u&&(u=this._y0,f=this._y1),this.cover(l,u).cover(c,f),n=0;n<a;++n)Of(this,o[n],s[n],e[n]);return this}function Ef(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Mf(e){return e[0]}function Tf(e){return e[1]}function Pf(e,t,n){var r=new Cf(null==t?Mf:t,null==n?Tf:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Cf(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Df(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function Af(e){return e.x+e.vx}function Nf(e){return e.y+e.vy}function Rf(e){return e.index}function If(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Ff(){return xN||(ON(Lf),xN=wN.now()+SN)}function Lf(){xN=0}function jf(){this._call=this._time=this._next=null}function zf(e,t,n){var r=new jf;return r.restart(e,t,n),r}function $f(){Ff(),++gN;for(var e,t=dN;t;)(e=xN-t._time)>=0&&t._call.call(null,e),t=t._next;--gN}function Uf(){xN=(_N=wN.now())+SN,gN=yN=0;try{$f()}finally{gN=0,qf(),xN=0}}function Bf(){var e=wN.now(),t=e-_N;t>bN&&(SN-=t,_N=e)}function qf(){for(var e,t,n=dN,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:dN=t);pN=e,Wf(r)}function Wf(e){if(!gN){yN&&(yN=clearTimeout(yN));var t=e-xN;t>24?(e<1/0&&(yN=setTimeout(Uf,t)),vN&&(vN=clearInterval(vN))):(vN||(_N=xN,vN=setInterval(Bf,bN)),gN=1,ON(Uf))}}function Vf(e){return e.x}function Hf(e){return e.y}function Gf(e){$t.call(this,null,e)}function Yf(e,t){return function(){e.touch(t).run()}}function Xf(e,t){var n=MN(e),r=!1,i=n.stop,a=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,a()},n.stop=function(){return r=!0,i()},Kf(n,t,!0).on("end",function(){r=!0})}function Kf(e,t,n,r){var i,a,o,s,l=Fb(t.forces);for(i=0,a=NN.length;i<a;++i)o=NN[i],o!==AN&&t.modified(o)&&e[o](t[o]);for(i=0,a=l.length;i<a;++i)s=AN+i,o=n||t.modified(AN,i)?Jf(l[i]):r&&Qf(l[i],r)?e.force(s):null,o&&e.force(s,o);for(a=e.numForces||0;i<a;++i)e.force(AN+i,null);return e.numForces=l.length,e}function Qf(e,t){var n,i;for(n in e)if(Lb(i=e[n])&&t.modified(r(i)))return 1;return 0}function Jf(e){var t,n;DN.hasOwnProperty(e.force)||yb("Unrecognized force: "+e.force),t=DN[e.force]();for(n in e)Lb(t[n])&&Zf(t[n],e[n],e);return t}function Zf(e,t,n){e(Lb(t)?function(e){return t(e,n)}:t)}function ed(e,t){return e.parent===t.parent?1:2}function td(e){return e.reduce(nd,0)/e.length}function nd(e,t){return e+t.x}function rd(e){return 1+e.reduce(id,0)}function id(e,t){return Math.max(e,t.y)}function ad(e){for(var t;t=e.children;)e=t[0];return e}function od(e){for(var t;t=e.children;)e=t[t.length-1];return e}function sd(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function ld(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function ud(e,t){var n,r,i,a,o,s=new hd(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=fd);n=u.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)u.push(r=n.children[a]=new hd(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(pd)}function cd(){return ud(this).eachBefore(dd)}function fd(e){return e.children}function dd(e){e.data=e.data.data}function pd(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function hd(e){this.data=e,this.depth=this.height=0,this.parent=null}function md(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function gd(e,t){var n,r;if(bd(t,e))return[t];for(n=0;n<e.length;++n)if(yd(t,e[n])&&bd(Sd(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(yd(Sd(e[n],e[r]),t)&&yd(Sd(e[n],t),e[r])&&yd(Sd(e[r],t),e[n])&&bd(wd(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function yd(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function vd(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function bd(e,t){for(var n=0;n<t.length;++n)if(!vd(e,t[n]))return!1;return!0}function _d(e){switch(e.length){case 1:return xd(e[0]);case 2:return Sd(e[0],e[1]);case 3:return wd(e[0],e[1],e[2])}}function xd(e){return{x:e.x,y:e.y,r:e.r}}function Sd(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,u=o-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+a+l/f*c)/2,y:(r+o+u/f*c)/2,r:(f+i+s)/2}}function wd(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-o,p=r-u,h=i-s,m=i-c,g=l-a,y=f-a,v=r*r+i*i-a*a,b=v-o*o-s*s+l*l,_=v-u*u-c*c+f*f,x=p*h-d*m,S=(h*_-m*b)/(2*x)-r,w=(m*g-h*y)/x,O=(p*b-d*_)/(2*x)-i,k=(d*y-p*g)/x,E=w*w+k*k-1,M=2*(a+S*w+O*k),T=S*S+O*O-a*a,P=-(E?(M+Math.sqrt(M*M-4*E*T))/(2*E):T/M);return{x:r+S+w*P,y:i+O+k*P,r:P}}function Od(e,t,n){var r=e.x,i=e.y,a=t.r+n.r,o=e.r+n.r,s=t.x-r,l=t.y-i,u=s*s+l*l;if(u){var c=.5+((o*=o)-(a*=a))/(2*u),f=Math.sqrt(Math.max(0,2*a*(o+u)-(o-=u)*o-a*a))/(2*u);n.x=r+c*s+f*l,n.y=i+c*l-f*s}else n.x=r+o,n.y=i}function kd(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function Ed(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function Md(e){this._=e,this.next=null,this.previous=null}function Td(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,s,l,u,c,f;if(t=e[0],t.x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Od(n,t,r=e[2]),t=new Md(t),n=new Md(n),r=new Md(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){Od(t._,n._,r=e[s]),r=new Md(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(kd(l._,r._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(kd(u._,r._)){t=u,t.next=n,n.previous=t,--s;continue e}f+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=Ed(t);(r=r.next)!==n;)(o=Ed(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=QN(t),s=0;s<i;++s)t=e[s],t.x-=r.x,t.y-=r.y;return r.r}function Pd(e){return null==e?null:Cd(e)}function Cd(e){if("function"!=typeof e)throw new Error;return e}function Dd(){return 0}function Ad(e){return Math.sqrt(e.value)}function Nd(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Rd(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Td(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function Id(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Fd(e){return e.id}function Ld(e){return e.parentId}function jd(e,t){return e.parent===t.parent?1:2}function zd(e){var t=e.children;return t?t[0]:e.t}function $d(e){var t=e.children;return t?t[t.length-1]:e.t}function Ud(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Bd(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function qd(e,t,n){
return e.a.parent===t.parent?e.a:n}function Wd(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Vd(e){for(var t,n,r,i,a,o=new Wd(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new Wd(r[i],i)),n.parent=t;return(o.parent=new Wd(null,0)).children=[o],o}function Hd(e,t,n,r,i,a){for(var o,s,l,u,c,f,d,p,h,m,g,y=[],v=t.children,b=0,_=0,x=v.length,S=t.value;b<x;){l=i-n,u=a-r;do c=v[_++].value;while(!c&&_<x);for(f=d=c,m=Math.max(u/l,l/u)/(S*e),g=c*c*m,h=Math.max(d/g,g/f);_<x;++_){if(c+=s=v[_].value,s<f&&(f=s),s>d&&(d=s),g=c*c*m,p=Math.max(d/g,g/f),p>h){c-=s;break}h=p}y.push(o={value:c,dice:l<u,children:v.slice(b,_)}),o.dice?tR(o,n,r,i,S?r+=u*c/S:a):lR(o,n,r,S?n+=l*c/S:i,a),S-=c,b=_}return y}function Gd(e){$t.call(this,null,e)}function Yd(e){return e.values}function Xd(e){$t.call(this,null,e)}function Kd(e,t,n){for(var r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function Qd(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}function Jd(e){Xd.call(this,e)}function Zd(e){Xd.call(this,e)}function ep(e){$t.call(this,null,e)}function tp(e){Xd.call(this,e)}function np(e){$t.call(this,{},e)}function rp(e){var t;return e.parent&&(t=e.parent.data)&&null!=f(t)&&t}function ip(e){Xd.call(this,e)}function ap(e){return e[0]}function op(e){return e[1]}function sp(){this._=null}function lp(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function up(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function cp(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fp(e){for(;e.L;)e=e.L;return e}function dp(e,t,n,r){var i=[null,null],a=IR.push(i)-1;return i.left=e,i.right=t,n&&hp(i,e,t,n),r&&hp(i,t,e,r),NR[e.index].halfedges.push(a),NR[t.index].halfedges.push(a),i}function pp(e,t,n){var r=[t,n];return r.left=e,r}function hp(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function mp(e,t,n,r,i){var a,o=e[0],s=e[1],l=o[0],u=o[1],c=s[0],f=s[1],d=0,p=1,h=c-l,m=f-u;if(a=t-l,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<p&&(p=a)}else if(h>0){if(a>p)return;a>d&&(d=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(a>p)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<p&&(p=a)}if(a=n-u,m||!(a>0)){if(a/=m,m<0){if(a<d)return;a<p&&(p=a)}else if(m>0){if(a>p)return;a>d&&(d=a)}if(a=i-u,m||!(a<0)){if(a/=m,m<0){if(a>p)return;a>d&&(d=a)}else if(m>0){if(a<d)return;a<p&&(p=a)}return!(d>0||p<1)||(d>0&&(e[0]=[l+d*h,u+d*m]),p<1&&(e[1]=[l+p*h,u+p*m]),!0)}}}}}function gp(e,t,n,r,i){var a=e[1];if(a)return!0;var o,s,l=e[0],u=e.left,c=e.right,f=u[0],d=u[1],p=c[0],h=c[1],m=(f+p)/2,g=(d+h)/2;if(h===d){if(m<t||m>=r)return;if(f>p){if(l){if(l[1]>=i)return}else l=[m,n];a=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];a=[m,n]}}else if(o=(f-p)/(h-d),s=g-o*m,o<-1||o>1)if(f>p){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(d<h){if(l){if(l[0]>=r)return}else l=[t,o*t+s];a=[r,o*r+s]}else{if(l){if(l[0]<t)return}else l=[r,o*r+s];a=[t,o*t+s]}return e[0]=l,e[1]=a,!0}function yp(e,t,n,r){for(var i,a=IR.length;a--;)gp(i=IR[a],e,t,n,r)&&mp(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>jR||Math.abs(i[0][1]-i[1][1])>jR)||delete IR[a]}function vp(e){return NR[e.index]={site:e,halfedges:[]}}function bp(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function _p(e,t){return t[+(t.left!==e.site)]}function xp(e,t){return t[+(t.left===e.site)]}function Sp(){for(var e,t,n,r,i=0,a=NR.length;i<a;++i)if((e=NR[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=bp(e,IR[t[n]]);for(o.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[o[n]];for(n=0;n<r;++n)t[n]=s[n]}}function wp(e,t,n,r){var i,a,o,s,l,u,c,f,d,p,h,m,g=NR.length,y=!0;for(i=0;i<g;++i)if(a=NR[i]){for(o=a.site,l=a.halfedges,s=l.length;s--;)IR[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=xp(a,IR[l[s]]),h=p[0],m=p[1],c=_p(a,IR[l[++s%u]]),f=c[0],d=c[1],(Math.abs(h-f)>jR||Math.abs(m-d)>jR)&&(l.splice(s,0,IR.push(pp(o,p,Math.abs(h-e)<jR&&r-m>jR?[e,Math.abs(f-e)<jR?d:r]:Math.abs(m-r)<jR&&n-h>jR?[Math.abs(d-r)<jR?f:n,r]:Math.abs(h-n)<jR&&m-t>jR?[n,Math.abs(f-n)<jR?d:t]:Math.abs(m-t)<jR&&h-e>jR?[Math.abs(d-t)<jR?f:e,t]:null))-1),++u);u&&(y=!1)}if(y){var v,b,_,x=1/0;for(i=0,y=null;i<g;++i)(a=NR[i])&&(o=a.site,v=o[0]-e,b=o[1]-t,_=v*v+b*b,_<x&&(x=_,y=a));if(y){var S=[e,t],w=[e,r],O=[n,r],k=[n,t];y.halfedges.push(IR.push(pp(o=y.site,S,w))-1,IR.push(pp(o,w,O))-1,IR.push(pp(o,O,k))-1,IR.push(pp(o,k,S))-1)}}for(i=0;i<g;++i)(a=NR[i])&&(a.halfedges.length||delete NR[i])}function Op(){lp(this),this.x=this.y=this.arc=this.site=this.cy=null}function kp(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,u=r[1]-s,c=a[0]-o,f=a[1]-s,d=2*(l*f-u*c);if(!(d>=-zR)){var p=l*l+u*u,h=c*c+f*f,m=(f*p-u*h)/d,g=(l*h-c*p)/d,y=FR.pop()||new Op;y.arc=e,y.site=i,y.x=m+o,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=y;for(var v=null,b=RR._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}RR.insert(v,y),v||(DR=y)}}}}function Ep(e){var t=e.circle;t&&(t.P||(DR=t.N),RR.remove(t),FR.push(t),lp(t),e.circle=null)}function Mp(){lp(this),this.edge=this.site=this.circle=null}function Tp(e){var t=LR.pop()||new Mp;return t.site=e,t}function Pp(e){Ep(e),AR.remove(e),LR.push(e),lp(e)}function Cp(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],a=e.P,o=e.N,s=[e];Pp(e);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<jR&&Math.abs(r-l.circle.cy)<jR;)a=l.P,s.unshift(l),Pp(l),l=a;s.unshift(l),Ep(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<jR&&Math.abs(r-u.circle.cy)<jR;)o=u.N,s.push(u),Pp(u),u=o;s.push(u),Ep(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],hp(u.edge,l.site,u.site,i);l=s[0],u=s[f-1],u.edge=dp(l.site,u.site,null,i),kp(l),kp(u)}function Dp(e){for(var t,n,r,i,a=e[0],o=e[1],s=AR._;s;)if(r=Ap(s,o)-a,r>jR)s=s.L;else{if(i=a-Np(s,o),!(i>jR)){r>-jR?(t=s.P,n=s):i>-jR?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}vp(e);var l=Tp(e);if(AR.insert(t,l),t||n){if(t===n)return Ep(t),n=Tp(t.site),AR.insert(l,n),l.edge=n.edge=dp(t.site,l.site),kp(t),void kp(n);if(!n)return void(l.edge=dp(t.site,l.site));Ep(t),Ep(n);var u=t.site,c=u[0],f=u[1],d=e[0]-c,p=e[1]-f,h=n.site,m=h[0]-c,g=h[1]-f,y=2*(d*g-p*m),v=d*d+p*p,b=m*m+g*g,_=[(g*v-p*b)/y+c,(d*b-m*v)/y+f];hp(n.edge,u,h,_),l.edge=dp(u,e,null,_),n.edge=dp(e,h,null,_),kp(t),kp(n)}}function Ap(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,f=1/a-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+i-a/2)))/f+r:(r+s)/2}function Np(e,t){var n=e.N;if(n)return Ap(n,t);var r=e.site;return r[1]===t?r[0]:1/0}function Rp(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Ip(e,t){return t[1]-e[1]||t[0]-e[0]}function Fp(e,t){var n,r,i,a=e.sort(Ip).pop();for(IR=[],NR=new Array(e.length),AR=new sp,RR=new sp;;)if(i=DR,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(Dp(a),n=a[0],r=a[1]),a=e.pop();else{if(!i)break;Cp(i.arc)}if(Sp(),t){var o=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];yp(o,s,l,u),wp(o,s,l,u)}this.edges=IR,this.cells=NR,AR=RR=IR=NR=null}function Lp(e){$t.call(this,null,e)}function jp(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(VR<<5)/a,HR/a);var o,s,l,u,c,f=0,d=0,p=0,h=n.length;for(--r;++r<h;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,l=t.size<<1,t.rotate){var m=Math.sin(t.rotate*WR),g=Math.cos(t.rotate*WR),y=o*g,v=o*m,b=l*g,_=l*m;o=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,l=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else o=o+31>>5<<5;if(l>p&&(p=l),f+o>=VR<<5&&(f=0,d+=p,p=0),d+l>=HR)break;i.translate((f+(o>>1))/a,(d+(l>>1))/a),t.rotate&&i.rotate(t.rotate*WR),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=l,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var x=i.getImageData(0,0,(VR<<5)/a,HR/a).data,S=[];--r>=0;)if(t=n[r],t.hasText){for(o=t.width,s=o>>5,l=t.y1-t.y0,u=0;u<l*s;u++)S[u]=0;if(f=t.xoff,null==f)return;d=t.yoff;var w=0,O=-1;for(c=0;c<l;c++){for(u=0;u<o;u++){var k=s*c+(u>>5),E=x[(d+c)*(VR<<5)+(f+u)<<2]?1<<31-u%32:0;S[k]|=E,w|=E}w?O=c:(t.y0++,l--,c--,d++)}t.y1=t.y0+O,t.sprite=S.slice(0,(t.y1-t.y0)*s)}}}function zp(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),f=0;f<u;f++){r=0;for(var d=0;d<=a;d++)if((r<<l|(d<a?(r=i[f*a+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function $p(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Up(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Bp(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function qp(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t}return[r,i]}}function Wp(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Vp(){try{var e="undefined"!=typeof document&&document.createElement?document.createElement("canvas"):0;return e&&e.getContext?e:new(n(300))}catch(t){yb("Canvas unavailable. Run in browser or install node-canvas.")}}function Hp(e){return"function"==typeof e?e:function(){return e}}function Gp(e){$t.call(this,GR(),e)}function Yp(e,t){for(var n,r=+(1/0),i=-(1/0),a=0,o=t.length;a<o;++a)n=e(t[a]),n<r&&(r=n),n>i&&(i=n);return[r,i]}function Xp(e){return new Uint8Array(e)}function Kp(e){return new Uint16Array(e)}function Qp(e){return new Uint32Array(e)}function Jp(){var e=8,t=[],n=Qp(0),r=eh(0,e),i=eh(0,e);return{data:function(){return t},seen:function(){return n=Zp(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)n=e[r],n._index=i++,t.push(n)},remove:function(e,n){var a,o,s,l=t.length,u=Array(l-e),c=t;for(o=0;!n[o]&&o<l;++o)u[o]=t[o],c[o]=o;for(s=o;o<l;++o)a=t[o],n[o]?c[o]=-1:(c[o]=s,r[s]=r[o],i[s]=i[o],u[s]=a,a._index=s++),r[o]=0;return t=u,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){var a=r.length;(t>a||n>e)&&(e=Math.max(n,e),r=eh(t,e,r),i=eh(t,e))}}}function Zp(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function eh(e,t,n){var r=(t<257?Xp:t<65537?Kp:Qp)(e);return n&&r.set(n),r}function th(){function e(e,t,n){if(!t.length)return[];var r,s,l,u=o,c=t.length,f=Array(c),d=Qp(c);for(l=0;l<c;++l)f[l]=e(t[l]),d[l]=l;if(f=nh(f,d),u)r=a,s=i,a=Array(u+c),i=Qp(u+c),rh(n,r,s,u,f,d,c,a,i);else{if(n>0)for(l=0;l<c;++l)d[l]+=n;a=f,i=d}return o=u+c,{index:d,value:f}}function t(e,t){var n,r,s,l=o;for(r=0;!t[i[r]]&&r<l;++r);for(s=r;r<l;++r)t[n=i[r]]||(i[s]=n,a[s]=a[r],++s);o=l-e}function n(e){for(var t=0,n=o;t<n;++t)i[t]=e[i[t]]}function r(e,t){var n;return t?n=t.length:(t=a,n=o),[Jx(t,e[0],0,n),Qx(t,e[1],0,n)]}var i=Qp(0),a=[],o=0;return{insert:e,remove:t,bisect:r,reindex:n,index:function(){return i},size:function(){return o}}}function nh(e,t){return e.sort.call(t,function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0}),hS(e,t)}function rh(e,t,n,r,i,a,o,s,l){var u,c=0,f=0;for(u=0;c<r&&f<o;++u)t[c]<i[f]?(s[u]=t[c],l[u]=n[c++]):(s[u]=i[f],l[u]=a[f++]+e);for(;c<r;++c,++u)s[u]=t[c],l[u]=n[c];for(;f<o;++f,++u)s[u]=i[f],l[u]=a[f]+e}function ih(e){$t.call(this,Jp(),e),this._indices=null,this._dims=null}function ah(e){$t.call(this,null,e)}function oh(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}function sh(e,t){var n=e._runtime.data;return n.hasOwnProperty(t)||yb("Unrecognized data set: "+t),n[t]}function lh(e){return sh(this,e).values.value}function uh(e,t){y(t)||yb("Second argument to changes must be a changeset.");var n=sh(this,e);return n.modified=!0,this.pulse(n.input,t)}function ch(e,t){return uh.call(this,e,v().insert(t))}function fh(e,t){return uh.call(this,e,v().remove(t))}function dh(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function ph(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function hh(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function mh(e){var t=hh(e);e._renderer.background(e._background),e._renderer.resize(dh(e),ph(e),t),e._handler.origin(t)}function gh(e,t,n){function r(e){var n,r=a;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function i(e){if(!e)return n;xb(e)&&(e=r(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}var a=t?"group"===t.mark.marktype?t:t.mark.group:null;return{view:zb(e),item:zb(t||{}),group:r,xy:i,x:function(e){return i(e)[0]},y:function(e){return i(e)[1]}}}function yh(e){e=Ub({},e);var t=e.defaults;return t&&(bb(t.prevent)&&(t.prevent=a_(t.prevent)),bb(t.allow)&&(t.allow=a_(t.allow))),e}function vh(e,t){var n=e._eventConfig.defaults,r=n&&n.prevent,i=n&&n.allow;return r!==!1&&i!==!0&&(r===!0||i===!1||(r?r[t]:i?!i[t]:e.preventDefault()))}function bh(e,t,n){var r,i=this,a=new S(n),o=function(n,r){e===sI&&vh(i,t)&&n.preventDefault();try{a.receive(oI(i,n,r))}catch(o){i.error(o)}finally{i.run()}};if(e===sI)return i.addEventListener(t,o),a;if(e===lI?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(e)),!r)return i.warn("Can not resolve event source: "+e),a;for(var s=0,l=r.length;s<l;++s)r[s].addEventListener(t,o);return i._eventListeners.push({type:t,sources:r,handler:o}),a}function _h(e){return e.item}function xh(e){var t=e.item.mark.source;return t.source||t}function Sh(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function wh(e,t,n,r){var i=fI("div",{class:dI});i.appendChild(fI("span",{class:pI},n.name||n.signal)),t.appendChild(i);var a=Oh;switch(n.input){case"checkbox":a=kh;break;case"select":a=Eh;break;case"radio":a=Mh;break;case"range":a=Th}a(e,i,n,r)}function Oh(e,t,n,r){var i=fI("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",function(){e.update(i.value)}),e.elements=[i],e.set=function(e){i.value=e}}function kh(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=fI("input",i);t.appendChild(a),a.addEventListener("change",function(){e.update(a.checked)}),e.elements=[a],e.set=function(e){a.checked=!!e||null}}function Eh(e,t,n,r){var i=fI("select",{name:n.signal});n.options.forEach(function(e){var t={value:e};Ph(e,r)&&(t.selected=!0),i.appendChild(fI("option",t,e+""))}),t.appendChild(i),i.addEventListener("change",function(){e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(Ph(n.options[t],e))return void(i.selectedIndex=t)}}function Mh(e,t,n,r){var i=fI("span",{class:hI});t.appendChild(i),e.elements=n.options.map(function(t){var a=mI+n.signal+"-"+t,o={id:a,type:"radio",name:n.signal,value:t};Ph(t,r)&&(o.checked=!0);var s=fI("input",o);return s.addEventListener("change",function(){e.update(t)}),i.appendChild(s),i.appendChild(fI("label",{for:a},t+"")),s}),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)Ph(n[r].value,t)&&(n[r].checked=!0)}}function Th(e,t,n,r){function i(){u.textContent=l.value,e.update(+l.value)}r=void 0!==r?r:(+n.max+ +n.min)/2;var a=n.min||Math.min(0,+r)||0,o=n.max||Math.max(100,+r)||100,s=n.step||en(a,o,100),l=fI("input",{type:"range",name:n.signal,min:a,max:o,step:s});l.value=r;var u=fI("label",{},+r);t.appendChild(l),t.appendChild(u),l.addEventListener("input",i),l.addEventListener("change",i),e.elements=[l],e.set=function(e){l.value=e,u.textContent=e}}function Ph(e,t){return e===t||e+""==t+""}function Ch(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;t=document.querySelector(t)}return t.innerHTML="",t}function Dh(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function Ah(e,t){yb(e+' for "outer" push: '+i(t))}function Nh(e){this.type=e}function Rh(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}function Ih(e,t){if(!e)throw new Error("ASSERT: "+t)}function Fh(e){return e>=48&&e<=57}function Lh(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function jh(e){return"01234567".indexOf(e)>=0}function zh(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function $h(e){return 10===e||13===e||8232===e||8233===e}function Uh(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&cF.test(String.fromCharCode(e))}function Bh(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&fF.test(String.fromCharCode(e))}function qh(){for(var e;CI<DI&&(e=PI.charCodeAt(CI),zh(e)||$h(e));)++CI}function Wh(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)CI<DI&&Lh(PI[CI])?(r=PI[CI++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):vm({},JI,lF);return String.fromCharCode(i)}function Vh(){var e,t,n,r;for(e=PI[CI],t=0,"}"===e&&vm({},JI,lF);CI<DI&&(e=PI[CI++],Lh(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&vm({},JI,lF),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Hh(){var e,t;for(e=PI.charCodeAt(CI++),t=String.fromCharCode(e),92===e&&(117!==PI.charCodeAt(CI)&&vm({},JI,lF),++CI,e=Wh("u"),e&&"\\"!==e&&Uh(e.charCodeAt(0))||vm({},JI,lF),t=e);CI<DI&&(e=PI.charCodeAt(CI),Bh(e));)++CI,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==PI.charCodeAt(CI)&&vm({},JI,lF),++CI,e=Wh("u"),e&&"\\"!==e&&Bh(e.charCodeAt(0))||vm({},JI,lF),t+=e);return t}function Gh(){var e,t;for(e=CI++;CI<DI;){if(t=PI.charCodeAt(CI),92===t)return CI=e,Hh();if(!Bh(t))break;++CI}return PI.slice(e,CI)}function Yh(){var e,t,n;return e=CI,t=92===PI.charCodeAt(CI)?Hh():Gh(),n=1===t.length?II:dF.hasOwnProperty(t)?FI:"null"===t?LI:"true"===t||"false"===t?NI:II,{type:n,value:t,start:e,end:CI}}function Xh(){var e,t,n,r,i=CI,a=PI.charCodeAt(CI),o=PI[CI];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++CI,{type:zI,value:String.fromCharCode(a),start:i,end:CI};default:if(e=PI.charCodeAt(CI+1),61===e)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return CI+=2,{type:zI,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:CI};case 33:case 61:return CI+=2,61===PI.charCodeAt(CI)&&++CI,{type:zI,value:PI.slice(i,CI),start:i,end:CI}}}return r=PI.substr(CI,4),">>>="===r?(CI+=4,{type:zI,value:r,start:i,end:CI}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(CI+=3,{type:zI,value:n,start:i,end:CI}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(CI+=2,{type:zI,value:t,start:i,end:CI}):"<>=!+-*%&|^/".indexOf(o)>=0?(++CI,{type:zI,value:o,start:i,end:CI}):void vm({},JI,lF)))}function Kh(e){for(var t="";CI<DI&&Lh(PI[CI]);)t+=PI[CI++];return 0===t.length&&vm({},JI,lF),Uh(PI.charCodeAt(CI))&&vm({},JI,lF),{type:jI,value:parseInt("0x"+t,16),start:e,end:CI}}function Qh(e){for(var t="0"+PI[CI++];CI<DI&&jh(PI[CI]);)t+=PI[CI++];return(Uh(PI.charCodeAt(CI))||Fh(PI.charCodeAt(CI)))&&vm({},JI,lF),{type:jI,value:parseInt(t,8),octal:!0,start:e,end:CI}}function Jh(){var e,t,n;if(n=PI[CI],Ih(Fh(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=CI,e="","."!==n){if(e=PI[CI++],n=PI[CI],"0"===e){if("x"===n||"X"===n)return++CI,Kh(t);if(jh(n))return Qh(t);n&&Fh(n.charCodeAt(0))&&vm({},JI,lF)}for(;Fh(PI.charCodeAt(CI));)e+=PI[CI++];n=PI[CI]}if("."===n){for(e+=PI[CI++];Fh(PI.charCodeAt(CI));)e+=PI[CI++];n=PI[CI]}if("e"===n||"E"===n)if(e+=PI[CI++],n=PI[CI],"+"!==n&&"-"!==n||(e+=PI[CI++]),Fh(PI.charCodeAt(CI)))for(;Fh(PI.charCodeAt(CI));)e+=PI[CI++];else vm({},JI,lF);return Uh(PI.charCodeAt(CI))&&vm({},JI,lF),{type:jI,value:parseFloat(e),start:t,end:CI}}function Zh(){var e,t,n,r,i="",a=!1;for(e=PI[CI],Ih("'"===e||'"'===e,"String literal must starts with a quote"),t=CI,++CI;CI<DI;){if(n=PI[CI++],n===e){e="";break}if("\\"===n)if(n=PI[CI++],n&&$h(n.charCodeAt(0)))"\r"===n&&"\n"===PI[CI]&&++CI;else switch(n){case"u":case"x":"{"===PI[CI]?(++CI,i+=Vh()):i+=Wh(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:jh(n)?(r="01234567".indexOf(n),0!==r&&(a=!0),CI<DI&&jh(PI[CI])&&(a=!0,r=8*r+"01234567".indexOf(PI[CI++]),"0123".indexOf(n)>=0&&CI<DI&&jh(PI[CI])&&(r=8*r+"01234567".indexOf(PI[CI++]))),i+=String.fromCharCode(r)):i+=n}else{if($h(n.charCodeAt(0)))break;i+=n}}return""!==e&&vm({},JI,lF),{type:$I,value:i,octal:a,start:t,end:CI}}function em(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void vm({},iF)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){vm({},iF)}try{return new RegExp(e,t)}catch(i){return null}}function tm(){var e,t,n,r,i;for(e=PI[CI],Ih("/"===e,"Regular expression literal must start with a slash"),t=PI[CI++],n=!1,r=!1;CI<DI;)if(e=PI[CI++],t+=e,"\\"===e)e=PI[CI++],$h(e.charCodeAt(0))&&vm({},aF),t+=e;else if($h(e.charCodeAt(0)))vm({},aF);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||vm({},aF),i=t.substr(1,t.length-2),{value:i,literal:t}}function nm(){var e,t,n;for(t="",n="";CI<DI&&(e=PI[CI],Bh(e.charCodeAt(0)));)++CI,"\\"===e&&CI<DI?vm({},JI,lF):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&vm({},iF,n),{value:n,literal:t}}function rm(){var e,t,n,r;return AI=null,qh(),e=CI,t=tm(),n=nm(),r=em(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:CI}}function im(e){return e.type===II||e.type===FI||e.type===NI||e.type===LI}function am(){var e;return qh(),CI>=DI?{type:RI,start:CI,end:CI}:(e=PI.charCodeAt(CI),Uh(e)?Yh():40===e||41===e||59===e?Xh():39===e||34===e?Zh():46===e?Fh(PI.charCodeAt(CI+1))?Jh():Xh():Fh(e)?Jh():Xh())}function om(){var e;return e=AI,CI=e.end,AI=am(),CI=e.end,e}function sm(){var e;e=CI,AI=am(),CI=e}function lm(e){var t=new Nh(UI);return t.elements=e,t}function um(e,t,n){var r=new Nh("||"===e||"&&"===e?GI:BI);return r.operator=e,r.left=t,r.right=n,r}function cm(e,t){var n=new Nh(qI);return n.callee=e,n.arguments=t,n}function fm(e,t,n){var r=new Nh(WI);return r.test=e,r.consequent=t,r.alternate=n,r}function dm(e){var t=new Nh(VI);return t.name=e,t}function pm(e){var t=new Nh(HI);return t.value=e.value,t.raw=PI.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function hm(e,t,n){var r=new Nh(YI);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function mm(e){var t=new Nh(XI);return t.properties=e,t}function gm(e,t,n){var r=new Nh(KI);return r.key=t,r.value=n,r.kind=e,r}function ym(e,t){var n=new Nh(QI);return n.operator=e,n.argument=t,n.prefix=!0,n}function vm(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return Ih(t<r.length,"Message reference must be in range"),r[t]});throw n=new Error(i),n.index=CI,n.description=i,n}function bm(e){e.type===RI&&vm(e,rF),e.type===jI&&vm(e,ZI),e.type===$I&&vm(e,eF),e.type===II&&vm(e,tF),e.type===FI&&vm(e,nF),vm(e,JI,e.value)}function _m(e){var t=om();t.type===zI&&t.value===e||bm(t)}function xm(e){return AI.type===zI&&AI.value===e}function Sm(e){return AI.type===FI&&AI.value===e}function wm(){var e=[];for(CI=AI.start,_m("[");!xm("]");)xm(",")?(om(),e.push(null)):(e.push(jm()),xm("]")||_m(","));return om(),lm(e)}function Om(){var e;return CI=AI.start,e=om(),e.type===$I||e.type===jI?(e.octal&&vm(e,oF),pm(e)):dm(e.value)}function km(){var e,t,n,r;return CI=AI.start,e=AI,e.type===II?(n=Om(),_m(":"),r=jm(),gm("init",n,r)):e.type!==RI&&e.type!==zI?(t=Om(),_m(":"),r=jm(),gm("init",t,r)):void bm(e)}function Em(){var e,t,n,r=[],i={},a=String;for(CI=AI.start,_m("{");!xm("}");)e=km(),t=e.key.type===VI?e.key.name:a(e.key.value),n="$"+t,Object.prototype.hasOwnProperty.call(i,n)?vm({},sF):i[n]=!0,r.push(e),xm("}")||_m(",");return _m("}"),mm(r)}function Mm(){var e;return _m("("),e=zm(),_m(")"),e}function Tm(){var e,t,n;if(xm("("))return Mm();if(xm("["))return wm();if(xm("{"))return Em();if(e=AI.type,CI=AI.start,e===II||pF[AI.value])n=dm(om().value);else if(e===$I||e===jI)AI.octal&&vm(AI,oF),n=pm(om());else{if(e===FI)throw new Error(uF);e===NI?(t=om(),t.value="true"===t.value,n=pm(t)):e===LI?(t=om(),t.value=null,n=pm(t)):xm("/")||xm("/=")?(n=pm(rm()),sm()):bm(om())}return n}function Pm(){var e=[];if(_m("("),!xm(")"))for(;CI<DI&&(e.push(jm()),!xm(")"));)_m(",");return _m(")"),e}function Cm(){var e;return CI=AI.start,e=om(),im(e)||bm(e),dm(e.value)}function Dm(){return _m("."),Cm()}function Am(){var e;return _m("["),e=zm(),_m("]"),e}function Nm(){var e,t,n;for(e=Tm();;)if(xm("."))n=Dm(),e=hm(".",e,n);else if(xm("("))t=Pm(),e=cm(e,t);else{if(!xm("["))break;n=Am(),e=hm("[",e,n)}return e}function Rm(){var e=Nm();if(AI.type===zI&&(xm("++")||xm("--")))throw new Error(uF);return e}function Im(){var e,t;if(AI.type!==zI&&AI.type!==FI)t=Rm();else{if(xm("++")||xm("--"))throw new Error(uF);if(xm("+")||xm("-")||xm("~")||xm("!"))e=om(),t=Im(),t=ym(e.value,t);else{if(Sm("delete")||Sm("void")||Sm("typeof"))throw new Error(uF);t=Rm()}}return t}function Fm(e){var t=0;if(e.type!==zI&&e.type!==FI)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Lm(){var e,t,n,r,i,a,o,s,l,u;if(e=AI,l=Im(),r=AI,i=Fm(r),0===i)return l;for(r.prec=i,om(),t=[e,AI],o=Im(),a=[l,r,o];(i=Fm(AI))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=um(s,l,o),a.push(n);r=om(),r.prec=i,a.push(r),t.push(AI),n=Im(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=um(a[u-1].value,a[u-2],n),u-=2;return n}function jm(){var e,t,n;return e=Lm(),xm("?")&&(om(),t=jm(),_m(":"),n=jm(),e=fm(e,t,n)),e}function zm(){var e=jm();if(xm(","))throw new Error(uF);return e}function $m(e,t,n){var r=e+":"+n,i=vF[r];return i&&i[0]===t||(vF[r]=i=[t,t(n)]),i[1]}function Um(e,t){return $m("format",yT,t)(e)}function Bm(e,t){return $m("timeFormat",hx,t)(e)}function qm(e,t){return $m("utcFormat",gx,t)(e)}function Wm(e,t){return $m("timeParse",mx,t)(e)}function Vm(e,t){return $m("utcParse",yx,t)(e)}function Hm(e,t,n){return bF.setMonth(e),bF.setDate(t),Bm(bF,n)}function Gm(e){return Hm(e,1,"%B")}function Ym(e){return Hm(e,1,"%b")}function Xm(e){return Hm(0,2+e,"%A")}function Km(e){return Hm(0,2+e,"%a")}function Qm(e){return 1+~~(new Date(e).getMonth()/3)}function Jm(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Zm(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function eg(){return Zm(this.context.dataflow,"warn",arguments)}function tg(){return Zm(this.context.dataflow,"info",arguments)}function ng(){return Zm(this.context.dataflow,"debug",arguments)}function rg(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function ig(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}function ag(){return SF?SF.screen:{}}function og(){return SF?[SF.innerWidth,SF.innerHeight]:[void 0,void 0]}function sg(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function lg(e,t){var n;return Lb(e)?e:xb(e)?(n=t.scales[e])&&n.value:void 0}function ug(e,t,n){var r=MF+n;if(!t.hasOwnProperty(r))try{t[r]=e.scaleRef(n)}catch(i){}}function cg(e,t,n,r){if(t[0].type===OF)ug(n,r,t[0].value);else if(t[0].type===kF)for(e in n.scales)ug(n,r,e)}function fg(e,t){var n=lg(e,(t||this).context);return n&&n.range?n.range():[]}function dg(e,t){var n=lg(e,(t||this).context);return n?n.domain():[]}function pg(e,t){var n=lg(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function hg(e,t,n){return FE(e||0,t||0,n||0)}function mg(e,t){var n=lg(e,(t||this).context);return n?n.copy():void 0}function gg(e,t,n){var r=lg(e,(n||this).context);return r?r(t):void 0}function yg(e,t,n){var r=lg(e,(n||this).context);return r?bb(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function vg(e){return function(t){return e*Math.exp(t)}}function bg(e){return function(t){return Math.log(e*t)}}function _g(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xg(e,t,n,r){var i=n(e[0]),a=n(e_(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function Sg(e,t){return xg(e,t,r_,kb)}function wg(e,t){var n=Math.sign(e[0]);return xg(e,t,bg(n),vg(n))}function Og(e,t,n){return xg(e,t,_g(n),_g(1/n))}function kg(e,t,n,r,i){var a=r(t),o=r(e[0]),s=r(e_(e));return[i(a+(o-a)*n),i(a+(s-a)*n)]}function Eg(e,t,n){return kg(e,t,n,r_,kb)}function Mg(e,t,n){var r=Math.sign(e[0]);return kg(e,t,n,bg(r),vg(r))}function Tg(e,t,n,r){return kg(e,t,n,_g(r),_g(1/r))}function Pg(e){return function(t,n,r){var i=lg(t,(r||this).context);return i&&i.path[e](n)}}function Cg(e){var t=this.context.data[e];return t?t.values.value:[]}function Dg(e,t,n,r){t[0].type!==OF&&yb("First argument to data functions must be a string literal.");var i=t[0].value,a=TF+i;r.hasOwnProperty(a)||(r[a]=n.getData(i).tuplesRef())}function Ag(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function Ng(e,t,n,r){t[0].type!==OF&&yb("First argument to indata must be a string literal."),t[1].type!==OF&&yb("Second argument to indata must be a string literal.");var i=t[0].value,a=t[1].value,o=EF+a;r.hasOwnProperty(o)||(r[o]=n.getData(i).indataRef(n,a))}function Rg(e,t){var n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Tb).insert(t)),1}function Ig(e){return e.data}function Fg(e,t){var n=Cg.call(t,e);return n.root&&n.root.lookup||NF}function Lg(e,t,n){var r=Fg(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(Ig):void 0}function jg(e,t){var n=Fg(e,this)[t];return n?n.ancestors().map(Ig):void 0}function zg(e,t){return e===t||e!==e&&t!==t||!(!bb(e)||!bb(t)||e.length!==t.length)&&$g(e,t)}function $g(e,t){for(var n=0,r=e.length;n<r;++n)if(!zg(e[n],t[n]))return!1;return!0}function Ug(e){return function(t){for(var n in e)if(!zg(t[n],e[n]))return!1;return!0}}function Bg(e,t){for(var n,r=t.fields,i=t.values,a=t.getter||(t.getter=[]),o=r.length,s=0;s<o;++s)if(a[s]=a[s]||Sb(r[s]),n=a[s](e),Gb(n)&&(n=r_(n)),Gb(i[s])&&(i[s]=r_(i[s])),t[LF+r[s]]){if(Gb(i[s][0])&&(i[s]=i[s].map(r_)),!RF(n,i[s],!0,!1))return!1}else if(n!==i[s])return!1;return!0}function qg(e,t){for(var n,r,i,a=t.intervals,o=a.length,s=0;s<o;++s){if(r=a[s].extent,n=a[s].getter||(a[s].getter=Sb(a[s].field)),i=n(e),!r||r[0]===r[1])return!1;
if(Gb(i)&&(i=r_(i)),Gb(r[0])&&(r=a[s].extent=r.map(r_)),Yb(r[0])&&!RF(i,r))return!1;if(xb(r[0])&&r.indexOf(i)<0)return!1}return!0}function Wg(e,t,n,r){for(var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=u?u[$F]&&u[$F].value:void 0,d=n===jF,p=c.length,h=0;h<p;++h)if(i=c[h],f&&d){if(a=a||{},o=a[s=i.unit]||0,o===-1)continue;if(l=r(t,i),a[s]=l?-1:++o,l&&1===f.size)return!0;if(!l&&o===f.get(s).count)return!1}else if(l=r(t,i),d^l)return l;return p&&d}function Vg(e,t,n){return Wg.call(this,e,t,n,Bg)}function Hg(e,t,n){return Wg.call(this,e,t,n,qg)}function Gg(e,t,n,r){t[0].type!==OF&&yb("First argument to indata must be a string literal.");var i=t[0].value,a=t.length>=2&&t[t.length-1].value,o="unit",s=EF+o;a!==jF||r.hasOwnProperty(s)||(r[s]=n.getData(i).indataRef(n,o)),Dg(e,t,n,r)}function Yg(e,t,n,r){var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=u?u[$F]&&u[$F].value:void 0,d=c[0],p=0;if(d){for(i=t?d.encodings.length:d.fields.length;p<i;++p)if(t&&d.encodings[p]===t||n&&d.fields[p]===n){a=p,s=d[LF+d.fields[p]];break}return f&&1===f.size&&(r=zF),f&&r===jF?(l=c.reduce(function(e,t){var n=e[t.unit]||(e[t.unit]=[]);return n.push({unit:t.unit,value:t.values[a]}),e},{}),o=Object.keys(l).map(function(e){return{unit:e,value:s?Qg(l[e],zF):Kg(l[e],zF)}})):o=c.map(function(e){return{unit:e.unit,value:e.values[a]}}),s?Qg(o,r):Kg(o,r)}}function Xg(e,t,n,r){var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=c[0],d=0;if(f){for(i=f.intervals.length;d<i;++d)if(a=f.intervals[d],t&&a.encoding===t||n&&a.field===n){if(!a.extent)return;o=d,l=a.extent.length>2;break}return s=c.reduce(function(e,t){var n=t.intervals[o].extent,r=l?n.map(function(e){return{unit:t.unit,value:e}}):{unit:t.unit,value:n};return l?e.push.apply(e,r):e.push(r),e},[]),l?Kg(s,r):Qg(s,r)}}function Kg(e,t){for(var n,r,i,a,o={},s=0,l={},u=[],c=0,f=e.length;c<f;++c)n=e[c],r=n.unit,a=n.value,o[r]||(o[r]=++s),(i=l[a])||(l[a]=i={value:a,units:{},count:0}),i.units[r]||(i.units[r]=++i.count);for(a in l)i=l[a],t===jF&&i.count!==s||u.push(i.value);return u.length?u:void 0}function Qg(e,t){for(var n,r,i,a,o=t===jF?Zg:Jg,s=0,l=e.length;s<l;++s)n=e[s].value,Gb(n[0])&&(n=n.map(r_)),i=n[0],a=n[1],i>a&&(a=n[0],i=n[1]),r=r?o(r,i,a):[i,a];return r&&r.length&&+r[0]!==+r[1]?r:void 0}function Jg(e,t,n){return e[0]>t&&(e[0]=t),e[1]<n&&(e[1]=n),e}function Zg(e,t,n){return n<e[0]||e[1]<t?[]:(e[0]<t&&(e[0]=t),e[1]>n&&(e[1]=n),e)}function ey(e,t,n){return 1===arguments.length?UF[e]:(UF[e]=t,n&&(VF[e]=n),XF&&(XF.functions[e]=WF+e),this)}function ty(e){var t=gF(e);BF.forEach(function(e){t[e]=qF+e});for(var n in UF)t[n]=WF+n;return t}function ny(e){return e===ZF?JF:e||JF}function ry(e,t){var n=e.merge?iy:e.stream?ay:e.type?oy:yb("Invalid stream specification: "+i(e));return n(e,t)}function iy(e,t){var n=e.merge.map(function(e){return ry(e,t)}),r=sy({merge:n},e,t);return t.addStream(r).id}function ay(e,t){var n=ry(e.stream,t),r=sy({stream:n},e,t);return t.addStream(r).id}function oy(e,t){var n=t.event(ny(e.source),e.type),r=sy({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function sy(e,t,n){var r=t.between;return r&&(2!==r.length&&yb('Stream "between" parameter must have 2 entries: '+i(t)),e.between=[ry(r[0],n),ry(r[1],n)]),r=t.filter?Fb(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(ly(t.marktype,t.markname,t.markrole)),t.source===ZF&&r.push("inScope(event.item)"),r.length&&(e.filter=QF("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function ly(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}function uy(e){return GF.hasOwnProperty(e)}function cy(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function fy(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=cy(e,i,lL,rL+aL,iL+oL),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function dy(e){return"["===e[0]?py(e):hy(e)}function py(e){var t,n,r=e.length,i=1;if(i=cy(e,i,iL,rL,iL),i===r)throw"Empty between selector: "+e;if(t=fy(e.substring(1,i)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(i+1).trim(),e[0]!==cL)throw"Expected '>' after between selector: "+e;return t=t.map(dy),n=dy(e.slice(1).trim()),n.between?{between:t,stream:n}:(n.between=t,n)}function hy(e){var t,n,r={source:HF},i=[],a=[0,0],o=0,s=0,l=e.length,u=0;if(e[l-1]===oL){if(u=e.lastIndexOf(aL),!(u>=0))throw"Unmatched right brace: "+e;try{a=my(e.substring(u+1,l-1))}catch(c){throw"Invalid throttle specification: "+e}e=e.slice(0,u).trim(),l=e.length,u=0}if(!l)throw e;if(e[0]===uL&&(o=++u),t=cy(e,u,sL),t<l&&(i.push(e.substring(s,t).trim()),s=u=++t),u=cy(e,u,rL),u===l)i.push(e.substring(s,l).trim());else if(i.push(e.substring(s,u).trim()),n=[],s=++u,s===l)throw"Unmatched left bracket: "+e;for(;u<l;){if(u=cy(e,u,iL),u===l)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,u).trim()),u<l-1&&e[++u]!==rL)throw"Expected left bracket: "+e;s=++u}if(!(l=i.length)||fL.test(i[l-1]))throw"Invalid event selector: "+e;return l>1?(r.type=i[1],o?r.markname=i[0].slice(1):uy(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=n&&(r.filter=n),a[0]&&(r.throttle=a[0]),a[1]&&(r.debounce=a[1]),r}function my(e){var t=e.split(lL);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}function gy(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function yy(e,t,n,r){return new gy(e,t,n,r)}function vy(e,t){return yy("operator",e,t)}function by(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function _y(e,t){return t?{$field:e,$name:t}:{$field:e}}function xy(e,t){return{$compare:e,$order:t}}function Sy(e){return{$key:e}}function wy(e){return _b(e)?(e.order===bL?"-":"+")+Oy(e.op,e.field):""}function Oy(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function ky(e){return e&&e.signal}function Ey(e,t){return null!=e?e:t}function My(e){return function(t,n,r){return yy(e,n,t||void 0,r)}}function Ty(e){return XL.hasOwnProperty(e)}function Py(e){return"quantile"===e}function Cy(e,t){var n=e.type||"linear";YL.hasOwnProperty(n)||yb("Unrecognized scale type: "+i(n)),t.addScale(e.name,{type:n,domain:void 0})}function Dy(e,t){var n,r=t.getScale(e.name).params;r.domain=Iy(e.domain,e,t),null!=e.range&&(r.range=Hy(e,t,r)),null!=e.interpolate&&Vy(e.interpolate,r),null!=e.nice&&Wy(e.nice,r);for(n in e)r.hasOwnProperty(n)||"name"===n||(r[n]=Ay(e[n],t))}function Ay(e,t){return _b(e)?e.signal?t.signalRef(e.signal):yb("Unsupported object: "+i(e)):e}function Ny(e,t){return e.signal?t.signalRef(e.signal):e.map(function(e){return Ay(e,t)})}function Ry(e){yb("Can not find data set: "+i(e))}function Iy(e,t,n){return e?e.signal?n.signalRef(e.signal):(bb(e)?Fy:e.fields?jy:Ly)(e,t,n):void(null==t.domainMin&&null==t.domainMax||yb("No scale domain defined for domainMin/domainMax to override."))}function Fy(e,t,n){return e.map(function(e){return Ay(e,n)})}function Ly(e,t,n){var r=n.getData(e.data);return r||Ry(e.data),Ty(t.type)?r.valuesRef(n,e.field,Uy(e.sort,!1)):Py(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function jy(e,t,n){var r=e.data,i=e.fields.reduce(function(e,t){return t=xb(t)?{data:r,field:t}:bb(t)||t.signal?zy(t,n):t,e.push(t),e},[]);return(Ty(t.type)?$y:Py(t.type)?By:qy)(e,n,i)}function zy(e,t){var n="_:vega:_"+HL++,r=wL({});return bb(e)?r.value={$ingest:e}:e.signal&&t.signalRef("setdata("+i(n)+","+e.signal+")"),t.addDataPipeline(n,[r,BL({})]),{data:n,field:"data"}}function $y(e,t,n){var r,i,a,o;return r=n.map(function(e){var n=t.getData(e.data);return n||Ry(e.data),n.countsRef(t,e.field)}),i=t.add(_L({groupby:yL,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:r})),a=t.add(wL({pulse:by(i)})),o=t.add(VL({field:yL,sort:t.sortRef(Uy(e.sort,!0)),pulse:by(a)})),by(o)}function Uy(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field?yb("Multiple domain scales can not sort by field."):t&&e.op&&"count"!==e.op&&yb("Multiple domain scales support op count only."):yb("No field provided for sort aggregate op: "+e.op):_b(e)?e.field="key":e={field:"key"}),e}function By(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||Ry(e.data),n.domainRef(t,e.field)});return by(t.add(NL({values:r})))}function qy(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||Ry(e.data),n.extentRef(t,e.field)});return by(t.add(AL({extents:r})))}function Wy(e,t){t.nice=_b(e)?{interval:Ay(e.interval),step:Ay(e.step)}:Ay(e)}function Vy(e,t){t.interpolate=Ay(e.type||e),null!=e.gamma&&(t.interpolateGamma=Ay(e.gamma))}function Hy(e,t,n){var r=e.range,a=t.config.range;if(r.signal)return t.signalRef(r.signal);if(xb(r)){if(a&&a.hasOwnProperty(r))return e=Ub({},e,{range:a[r]}),Hy(e,t,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=Ty(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:yb("Unrecognized scale range value: "+i(r))}else{if(r.scheme)return n.scheme=Ay(r.scheme,t),r.extent&&(n.schemeExtent=Ny(r.extent,t)),void(r.count&&(n.schemeCount=Ay(r.count,t)));if(r.step)return void(n.rangeStep=Ay(r.step,t));if(Ty(e.type)&&!bb(r))return Iy(r,e,t);bb(r)||yb("Unsupported range type: "+i(r))}return r.map(function(e){return Ay(e,t)})}function Gy(e,t){return bb(e)?e.map(function(e){return Gy(e,t)}):_b(e)?e.signal?t.signalRef(e.signal):yb("Unsupported parameter object: "+i(e)):e}function Yy(e,t,n,r){var a,o,s;if(e.signal)a="datum",s=yj(e.signal,t,n,r);else if(e.group||e.parent){for(o=Math.max(1,e.level||1),a="item";o-- >0;)a+=".mark.group";e.parent?(s=e.parent,a+=".datum"):s=e.group}else e.datum?(a="datum",s=e.datum):yb("Invalid field reference: "+i(e));return e.signal||(xb(s)?(r[s]=1,s=vb(s).map(i).join("][")):s=Yy(s,t,n,r)),a+"["+s+"]"}function Xy(e,t){if(!xb(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}function Ky(e,t,n,r){var a;if(xb(e))a=MF+e,n.hasOwnProperty(a)||(n[a]=t.scaleRef(e)),a=i(a);else{for(a in t.scales)n[MF+a]=t.scaleRef(a);a=i(MF)+"+"+(e.signal?"("+yj(e.signal,t,n,r)+")":vj(e,t,n,r))}return"_["+a+"]"}function Qy(e,t,n,r){var i,a,o,s={},l="var o=item,datum=o.datum,$;";for(i in e)a=e[i],bb(a)?l+=Oj(i,a,r,n,s):(o=Sj(i,a,r,n,s),l+=wj("o",i,o));return l+=mj(e,t),l+="return 1;",{$expr:l,$fields:Object.keys(s),$output:Object.keys(e)}}function Jy(e){return _b(e)?e:{value:e}}function Zy(e,t,n){return null!=n?(e[t]={value:n},1):0}function ev(e,t,n){for(var r in t)n&&n.hasOwnProperty(r)||(e[r]=Ub(e[r]||{},t[r]));return e}function tv(e,t,n,r,i,a){var o,s;a=a||{},a.encoders={$encode:o={}},e=nv(e,t,n,r,i.config);for(s in e)o[s]=Qy(e[s],t,a,i);return a}function nv(e,t,n,r,i){var a,o,s,l={};"legend"!=n&&0!==String(n).indexOf("axis")||(n=null),s=n===Ej?i.group:n===kj?Ub({},i.mark,i[t]):null;for(a in s)o=rv(a,e)||("fill"===a||"stroke"===a)&&(rv("fill",e)||rv("stroke",e)),o||(l[a]={value:s[a]});return Fb(r).forEach(function(t){var n=i.style&&i.style[t];for(var r in n)rv(r,e)||(l[r]={value:n[r]})}),e=Ub({},e),e.enter=Ub(l,e.enter),e}function rv(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function iv(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)r=e.params[i],o[r.name]=av(r,t,n);return o}function av(e,t,n){var r=e.type,a=t[e.name];return"index"===r?sv(e,t,n):void 0===a?void(e.required&&yb("Missing required "+i(t.type)+" parameter: "+i(e.name))):"param"===r?lv(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!ky(a)?a.map(function(t){return ov(e,t,n)}):ov(e,a,n)}function ov(e,t,n){var r=e.type;if(ky(t))return pv(r)?yb("Expression references can not be signals."):hv(r)?n.fieldRef(t):mv(r)?n.compareRef(t):n.signalRef(t.signal);var i=e.expr||hv(r);return i&&cv(t)?QF(t.expr,n):i&&fv(t)?_y(t.field):pv(r)?QF(t,n):dv(r)?by(n.getData(t).values):hv(r)?_y(t):mv(r)?n.compareRef(t):t}function sv(e,t,n){return xb(t.from)||yb('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function lv(e,t,n){var r=t[e.name];return e.array?(bb(r)||yb("Expected an array of sub-parameters. Instead: "+i(r)),r.map(function(t){return uv(e,t,n)})):uv(e,r,n)}function uv(e,t,n){var r,a,o,s,l;for(s=0,l=e.params.length;s<l;++s){a=e.params[s];for(o in a.key)if(a.key[o]!==t[o]){a=null;break}if(a)break}return a||yb("Unsupported parameter: "+i(t)),r=Ub(iv(a,t,n),a.key),by(n.add(IL(r)))}function cv(e){return e&&e.expr}function fv(e){return e&&e.field}function dv(e){return"data"===e}function pv(e){return"expr"===e}function hv(e){return"field"===e}function mv(e){return"compare"===e}function gv(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function yv(e){return xb(e)?e:null}function vv(e,t,n){var r,i=Oy(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function bv(e,t,n,r,i,a,o){var s,l,u=t[n]||(t[n]={}),c=wy(a),f=yv(i);if(null!=f&&(e=t.scope,f+=c?"|"+c:"",s=u[f]),!s){var d=a?{field:yL,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:by(t.output)};c&&(d.sort=e.sortRef(a)),l=e.add(yy(r,void 0,d)),o&&(t.index[i]=l),s=by(l),null!=f&&(u[f]=s)}return s}function _v(e,t,n){var r=Sv(t,n[1].encode,"fontSize",lj);if(e.size)return{$expr:"Math.max(Math.ceil(Math.sqrt(_.scale(datum))),"+r+")"};var i=Sv(t,n[0].encode,"size");return Math.max(Math.ceil(Math.sqrt(i)),r)}function xv(e){var t={},n=Zy(t,"fill",e.fillColor)+Zy(t,"stroke",e.strokeColor)+Zy(t,"strokeWidth",e.strokeWidth)+Zy(t,"strokeDash",e.strokeDash)+Zy(t,"cornerRadius",e.cornerRadius);return n?t:void 0}function Sv(e,t,n,r){var i=t&&(t.update&&t.update[n]||t.enter&&t.enter[n]);return+(i?i.value:r&&(i=e.config.style[r])&&i[n])}function wv(e,t,n,r){var i,a,o,s,l,u,c=e.text,f=e.orient||t.orient,d=e.anchor||t.anchor,p=f===JL||f===QL?-1:1,h=f===QL||f===ej,m={group:h?"width":"height"},g={};return g.enter=i={opacity:{value:0}},Zy(i,"fill",t.color),Zy(i,"font",t.font),Zy(i,"fontSize",t.fontSize),Zy(i,"fontWeight",t.fontWeight),g.exit={opacity:{value:0}},g.update=a={opacity:{value:1},text:_b(c)?c:{value:c+""},offset:Jy((null!=e.offset?e.offset:t.offset)||0)},"start"===d?(l=0,u="left"):"end"===d?(l=1,u="right"):(l=.5,u="center"),o={field:m,mult:l},s=p<0?{value:0}:h?{field:{group:"height"}}:{field:{group:"width"}},h?(a.x=o,a.y=s,a.angle={value:0},a.baseline={value:f===QL?"bottom":"top"}):(a.x=s,a.y=o,a.angle={value:90*p},a.baseline={value:"bottom"}),a.align={value:u},a.limit={field:m},Zy(a,"angle",t.angle),Zy(a,"baseline",t.baseline),Zy(a,"limit",t.limit),Uj(Hj,$j,e.style||cj,null,r,g,n)}function Ov(e,t){var n=[];e.transform&&e.transform.forEach(function(e){n.push(nz(e,t))}),e.on&&e.on.forEach(function(n){sz(n,t,e.name)}),t.addDataPipeline(e.name,kv(e,t,n))}function kv(e,t,n){var r,i,a,o,s,l=[],u=null,c=!1,f=!1;for(e.values?l.push(u=Ev({$ingest:e.values,$format:e.format})):e.url?l.push(u=Ev({$request:e.url,$format:e.format})):e.source&&(u=r=Fb(e.source).map(function(e){return by(t.getData(e).output)}),l.push(null)),i=0,a=n.length;i<a;++i)o=n[i],s=o.metadata,u||s.source||l.push(u=Ev()),l.push(o),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?u=o:s.changes&&(u=null);return r&&(a=r.length-1,l[0]=zL({derive:c,pulse:a?r:r[0]}),(c||a)&&l.splice(1,0,Ev())),u||l.push(Ev()),l.push(BL({})),l}function Ev(e){var t=wL({},e);return t.metadata={source:!0},t}function Mv(e,t){return{scale:e.scale,range:t}}function Tv(e,t){var n,r,i,a,o,s=t.config;return t.background=e.background||s.background,t.eventConfig=s.events,o=by(t.root=t.add(vy())),t.addSignal("width",e.width||-1),t.addSignal("height",e.height||-1),t.addSignal("padding",kI(e.padding,s)),t.addSignal("autosize",OI(e.autosize,s)),Fb(e.signals).forEach(function(e){bz[e.name]||TI(e,t)}),r=t.add(wL()),i=ev({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(EL(tv(i,Bj,Ej,e.style,t,{pulse:by(r)}))),a=t.add(WL({layout:t.objectProperty(e.layout),legendMargin:s.legendMargin,autosize:t.signalRef("autosize"),mark:o,pulse:by(i)})),t.operators.pop(),t.pushState(by(i),by(a),null),vz(e,t,!0),t.operators.push(a),n=t.add(SL({mark:o,pulse:by(a)})),n=t.add($L({pulse:by(n)})),n=t.add(BL({pulse:by(n)})),t.addData("root",new gv(t,r,r,n)),t}function Pv(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Cv(e){this.config=e.config,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function Dv(e){return(bb(e)?Av:Nv)(e)}function Av(e){for(var t,n="[",r=0,a=e.length;r<a;++r)t=e[r],n+=(r>0?",":"")+(_b(t)?t.signal||Dv(t):i(t));return n+"]"}function Nv(e){var t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+i(t)+":"+(_b(n)?n.signal||Dv(n):i(n));return r+"}"}function Rv(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:kz},area:{fill:kz},image:null,line:{stroke:kz,strokeWidth:Oz},path:{stroke:kz},rect:{fill:kz},rule:{stroke:Ez},shape:{stroke:kz},symbol:{fill:kz,size:64},text:{fill:Ez,font:Sz,fontSize:11},style:{"guide-label":{fill:Ez,font:Sz,fontSize:10},"guide-title":{fill:Ez,font:Sz,fontSize:11,fontWeight:"bold"},"group-title":{fill:Ez,font:Sz,fontSize:13,fontWeight:"bold"},point:{size:wz,strokeWidth:Oz,shape:"circle"},circle:{size:wz,strokeWidth:Oz},square:{size:wz,strokeWidth:Oz,shape:"square"},cell:{fill:"transparent",stroke:Tz}},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:Mz,grid:!1,gridWidth:1,gridColor:Tz,gridDash:[],gridOpacity:1,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:Mz,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titleAlign:"center",titlePadding:2},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,entryPadding:5,titlePadding:5,gradientWidth:100,gradientHeight:20,gradientStrokeColor:Tz,gradientStrokeWidth:0,gradientLabelBaseline:"top",gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelOffset:8,labelLimit:160,symbolType:"circle",symbolSize:100,symbolFillColor:"transparent",symbolStrokeColor:Mz,symbolStrokeWidth:1.5,titleAlign:"left",titleBaseline:"top",titleLimit:180},title:{orient:"top",anchor:"middle",offset:2},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues",extent:[.2,1]},heatmap:{scheme:"viridis"},ramp:{scheme:"blues",extent:[.2,1]},diverging:{scheme:"blueorange"},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function Iv(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function Fv(e,t){return Iv(["_"],e,t)}function Lv(e,t){return Iv(["datum","_"],e,t)}function jv(e,t){return Iv(["event"],e,t)}function zv(e,t){return Iv(["_","event"],e,t)}function $v(e,t){return Iv(["item","_"],e,t)}function Uv(e,t,n){n=n||{};var r,i;for(r in e)i=e[r],i&&i.$expr&&i.$params&&Uv(i.$params,t,n),n[r]=bb(i)?i.map(function(e){return Bv(e,t)}):Bv(i,t);return n}function Bv(e,t){if(!e||!_b(e))return e;for(var n,r=0,i=Cz.length;r<i;++r)if(n=Cz[r],e.hasOwnProperty(n.key))return n.parse(e,t);return e}function qv(e,t){return t.get(e.$ref)||yb("Operator not defined: "+e.$ref)}function Wv(e,t){var n="e:"+e.$expr;return t.fn[n]||(t.fn[n]=gb(Lv(e.$expr,t),e.$fields,e.$name))}function Vv(e,t){var n="k:"+e.$key;return t.fn[n]||(t.fn[n]=Kb(e.$key))}function Hv(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Sb(e.$field,e.$name))}function Gv(e,t){var n="c:"+e.$compare+"_"+e.$order,r=Fb(e.$compare).map(function(e){return e&&e.$tupleid?f:e});return t.fn[n]||(t.fn[n]=jb(r,e.$order))}function Yv(e,t){var n,r,i=e.$encode,a={};for(n in i)r=i[n],a[n]=gb($v(r.$expr,t),r.$fields),a[n].output=r.$output;return a}function Xv(e,t){return t}function Kv(e,t){var n=e.$subflow;return function(e,r,i){var a=Rz(n,t.fork()),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(i),o}}function Qv(){return f}function Jv(e){return(e+"").toLowerCase()}function Zv(e){return"operator"===Jv(e)}function eb(e){return"collect"===Jv(e)}function tb(e,t){var n,r;e.params&&((n=t.get(e.id))||yb("Invalid operator id: "+e.id),r=Uv(e.params,t),t.dataflow.connect(n,n.parameters(r)))}function nb(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(function(t){return t.getState(e)})),n}function rb(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(function(e){n.update(t.signals[e],i[e],Iz)}),Object.keys(r||{}).forEach(function(e){n.pulse(t.data[e].input,n.changeset().remove(Tb).insert(r[e]))}),(e.subcontext||[]).forEach(function(e,n){var r=t.subcontext[n];r&&r.setState(e)})}function ib(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function ab(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function ob(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===jz?r.left+r.right:0)}function sb(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===jz?r.top+r.bottom:0)}function lb(e){function t(){e._autosize=e._resize=1}var n=e._signals,r=n.width,i=n.height,a=n.padding;e._resizeWidth=e.add(null,function(n){e._width=n.size,e._viewWidth=ob(e,n.size),t()},{size:r}),e._resizeHeight=e.add(null,function(n){e._height=n.size,e._viewHeight=sb(e,n.size),t()},{size:i});var o=e.add(null,t,{pad:a});e._resizeWidth.rank=r.rank+1,e._resizeHeight.rank=i.rank+1,o.rank=a.rank+1}function ub(e,t,n,r,i,a){this.runAfter(function(o){var s=0;o._autosize=0,o.width()!==n&&(s=1,o.width(n),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.height(r),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(function(){o.resize()})})}function cb(e){return this._runtime.getState(e||{data:fb,signals:db,recurse:!0})}function fb(e,t){return t.modified&&bb(t.input.value)&&e.indexOf("_:vega:_")}function db(e,t){return!("parent"===e||t instanceof qx.Proxy)}function pb(e){var t=this;return t._trigger=!1,t._runtime.setState(e),t.run().runAfter(function(){t._trigger=!0}),this}function hb(e,t){var n=this;t=t||{},jt.call(n),n.loader(t.loader||n._loader),n.logLevel(t.logLevel||0),n._el=null,n._renderType=t.renderer||Ik.Canvas,n._scenegraph=new Da;var r=n._scenegraph.root;n._renderer=null,n._redraw=!0,n._handler=(new Ia).scene(r),n._eventListeners=[],n._preventDefault=!1;var i=Lz(n,e,t.functions);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(function(e){return{state:null,param:Ub({},e)}}),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._background=i.background||null,n._eventConfig=yh(i.eventConfig),n._width=n.width(),n._height=n.height(),n._viewWidth=ob(n,n._width),n._viewHeight=sb(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,lb(n),aI(n)}function mb(e,t){return e._signals.hasOwnProperty(t)?e._signals[t]:yb("Unrecognized signal name: "+i(t))}var gb=function(e,t,n){return e.fields=t||[],e.fname=n,e},yb=function(e){throw Error(e)},vb=function(e){function t(){a.push(u+e.substring(n,r)),u="",n=r+1}var n,r,i,a=[],o=null,s=0,l=e.length,u="";for(e+="",n=r=0;r<l;++r)if(i=e[r],"\\"===i)u+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,s=-1;else{if(o)continue;n===s&&'"'===i?(n=r+1,o=i):n===s&&"'"===i?(n=r+1,o=i):"."!==i||s?"["===i?(r>n&&t(),s=n=r+1):"]"===i&&(s||yb("Access path missing open bracket: "+e),s>0&&t(),s=0,n=r+1):r>n?t():n=r+1}return s&&yb("Access path missing closing bracket: "+e),o&&yb("Access path missing closing quote: "+e),r>n&&(r++,t()),a},bb=Array.isArray,_b=function(e){return e===Object(e)},xb=function(e){return"string"==typeof e},Sb=function(e,t){var n=vb(e),r="return _["+n.map(i).join("][")+"];";return gb(Function("_",r),[e=1===n.length?n[0]:e],t||e)},wb=[],Ob=Sb("id"),kb=gb(function(e){return e},wb,"identity"),Eb=gb(function(){return 0},wb,"zero"),Mb=gb(function(){return 1},wb,"one"),Tb=gb(function(){return!0},wb,"true"),Pb=gb(function(){return!1},wb,"false"),Cb=0,Db=1,Ab=2,Nb=3,Rb=4,Ib=function(e){var t=e||Cb;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=Db&&a("error","ERROR",arguments),this},warn:function(){return t>=Ab&&a("warn","WARN",arguments),this},info:function(){return t>=Nb&&a("log","INFO",arguments),this},debug:function(){return t>=Rb&&a("log","DEBUG",arguments),this}}},Fb=function(e){return null!=e?bb(e)?e:[e]:[]},Lb=function(e){return"function"==typeof e},jb=function(e,t){var n,a,o,s,l,u,c,f,d,p=[],h=(e=Fb(e)).map(function(e,t){return null==e?null:(p.push(t),Lb(e)?e:vb(e).map(i).join("]["))}),m=p.length-1,g=Fb(t),y="var u,v;return ";if(m<0)return null;for(a=0;a<=m;++a)n=p[a],o=h[n],Lb(o)?(u="f"+n,s="(u=this."+u+"(a))",l="(v=this."+u+"(b))",(c=c||{})[u]=o):(s="(u=a["+o+"])",l="(v=b["+o+"])"),u="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[n]?(d=1,f=-1):(d=-1,f=1),y+="("+s+"<"+l+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+d+":"+u+"!==u&&v===v?"+f+":v!==v&&u===u?"+d+(n<m?":":":0");return o=Function("a","b",y+";"),c&&(o=o.bind(c)),e=e.reduce(function(e,t){return Lb(t)?(r(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),gb(o,Object.keys(e))},zb=function(e){return Lb(e)?e:function(){return e}},$b=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},Ub=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},Bb=function(e,t){var n,r,i,a,o,s=-1,l=e.length;if(null==t){for(;++s<l;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<l;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},qb={},Wb=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==qb}var n,r,i={};return n={size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===qb&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=qb),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===qb||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},Vb=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},Hb=function(e){return"boolean"==typeof e},Gb=function(e){return"[object Date]"===Object.prototype.toString.call(e)},Yb=function(e){return"number"==typeof e},Xb=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},Kb=function(e){e=e?Fb(e):e;var t=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+vb(e).map(i).join("][")+"]"}).join("+'|'+")+";"):function(){return""};return gb(t,e,"key")},Qb=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,l=0,u=0;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o},Jb=function(e,t){for(var n="";--t>=0;)n+=e;return n},Zb=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?Jb(i,o)+a:"center"===r?Jb(i,~~(o/2))+a+Jb(i,Math.ceil(o/2)):a+Jb(i,o)},e_=function(e){return e[e.length-1]},t_=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},n_=function(e,t){return t=t||l,null==e||""===e?null:t(e)},r_=function(e){return null==e||""===e?null:+e},i_=function(e){return null==e||""===e?null:e+""},a_=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t},o_=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},s_=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}},l_=Symbol("vega_id"),u_=1,c_="_:mod:_",f_=b.prototype;f_.set=function(e,t,n,r){var i=this,a=i[e],o=i[c_];return null!=t&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=bb(n)?1+n.length:-1),i},f_.modified=function(e,t){var n,r=this[c_];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(bb(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},f_.clear=function(){return this[c_]={},this};var d_=0,p_="pulse",h_=new b,m_=1,g_=2,y_=_.prototype;y_.targets=function(){return this._targets||(this._targets=u(Ob))},y_.set=function(e){return this.value!==e?(this.value=e,1):0},y_.skip=x(m_),y_.modified=x(g_),y_.parameters=function(e,t){function n(e,n,r){r instanceof _?(r!==s&&(t&&r.targets().add(s),c.push(r)),u.push({op:r,name:e,index:n})):l.set(e,n,r)}t=t!==!1;var r,i,a,o,s=this,l=s._argval=s._argval||new b,u=s._argops=s._argops||[],c=[];for(r in e)if(i=e[r],r===p_)Fb(i).forEach(function(e){e instanceof _?e!==s&&(e.targets().add(s),c.push(e)):yb("Pulse parameters must be operator instances.")}),s.source=i;else if(bb(i))for(l.set(r,-1,Array(a=i.length)),o=0;o<a;++o)n(r,o,i[o]);else n(r,-1,i);return this.marshall().clear(),c},y_.marshall=function(e){var t,n,r,i,a,o=this._argval||h_,s=this._argops;if(s&&(r=s.length))for(n=0;n<r;++n)t=s[n],i=t.op,a=i.modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);return o},y_.evaluate=function(e){if(this._update){var t=this.marshall(e.stamp),n=this._update(t,e);if(t.clear(),n!==this.value)this.value=n;else if(!this.modified())return e.StopPropagation}},y_.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.stamp=e.stamp,this.pulse=t,t||e};var v_=function(e,t,n,r){var i,a=1;return e instanceof _?i=e:e&&e.prototype instanceof _?i=new e:Lb(e)?i=new _(null,e):(a=0,i=new _(e,t)),this.rank(i),a&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},b_=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},__=0,x_=S.prototype;x_._filter=Tb,x_._apply=kb,x_.targets=function(){return this._targets||(this._targets=u(Ob))},x_.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},x_.receive=function(e){if(this._filter(e)){
for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},x_.filter=function(e){var t=w(e);return this.targets().add(t),t},x_.apply=function(e){var t=w(null,e);return this.targets().add(t),t},x_.merge=function(){var e=w();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},x_.throttle=function(e){var t=-1;return this.filter(function(){var n=Date.now();return n-t>e?(t=n,1):0})},x_.debounce=function(e){var t=w();return this.targets().add(w(null,null,$b(e,function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()}))),t},x_.between=function(e,t){var n=!1;return e.targets().add(w(null,null,function(){n=!0})),t.targets().add(w(null,null,function(){n=!1})),this.filter(function(){return n})};var S_=function(e,t,n,r){var i,a=this,o=w(n,r),s=function(e){e.dataflow=a;try{o.receive(e)}catch(t){a.error(t)}finally{a.run()}};i="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):Fb(e);for(var l=0,u=i.length;l<u;++l)i[l].addEventListener(t,s);return o},w_="$";O.prototype=k.prototype={constructor:O,has:function(e){return w_+e in this},get:function(e){return this[w_+e]},set:function(e,t){return this[w_+e]=t,this},remove:function(e){var t=w_+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===w_&&delete this[e]},keys:function e(){var e=[];for(var t in this)t[0]===w_&&e.push(t.slice(1));return e},values:function e(){var e=[];for(var t in this)t[0]===w_&&e.push(this[t]);return e},entries:function e(){var e=[];for(var t in this)t[0]===w_&&e.push({key:t.slice(1),value:this[t]});return e},size:function e(){var e=0;for(var t in this)t[0]===w_&&++e;return e},empty:function(){for(var e in this)if(e[0]===w_)return!1;return!0},each:function(e){for(var t in this)t[0]===w_&&e(this[t],t.slice(1),this)}};var O_=function e(){function t(e,n,o,s){if(n>=a.length)return null!=r&&e.sort(r),null!=i?i(e):e;for(var l,u,c,f=-1,d=e.length,p=a[n++],h=k(),m=o();++f<d;)(c=h.get(l=p(u=e[f])+""))?c.push(u):h.set(l,[u]);return h.each(function(e,r){s(m,r,t(e,n,o,s))}),m}function n(e,t){if(++t>a.length)return e;var r,s=o[t-1];return null!=i&&t>=a.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:n(e,t)})})),null!=s?r.sort(function(e,t){return s(e.key,t.key)}):r}var r,i,e,a=[],o=[];return e={object:function(e){return t(e,0,E,M)},map:function(e){return t(e,0,T,P)},entries:function(e){return n(t(e,0,T,P),0)},key:function(t){return a.push(t),e},sortKeys:function(t){return o[a.length-1]=t,e},sortValues:function(t){return r=t,e},rollup:function(t){return i=t,e}}},k_=k.prototype;C.prototype=D.prototype={constructor:C,has:k_.has,add:function(e){return e+="",this[w_+e]=e,this},remove:k_.remove,clear:k_.clear,values:k_.keys,size:k_.size,empty:k_.empty,each:k_.each};var E_={value:function(){}};N.prototype=A.prototype={constructor:N,on:function(e,t){var n,r=this._,i=R(e+"",r),a=-1,o=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=F(r[n],e.name,t);else if(null==t)for(n in r)r[n]=F(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=I(r[n],e.name)))return n}},copy:function e(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new N(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var M_=function(e,t){function n(e){var t,n=u.status;if(!n&&j(u)||n>=200&&n<300||304===n){if(a)try{t=a.call(r,u)}catch(i){return void s.call("error",r,i)}else t=u;s.call("load",r,t)}else s.call("error",r,e)}var r,i,a,o,s=A("beforesend","progress","load","error"),l=k(),u=new XMLHttpRequest,c=null,f=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=n:u.onreadystatechange=function(e){u.readyState>3&&n(e)},u.onprogress=function(e){s.call("progress",r,e)},r={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l.get(e):(null==t?l.remove(e):l.set(e,t+""),r)},mimeType:function(e){return arguments.length?(i=null==e?null:e+"",r):i},responseType:function(e){return arguments.length?(o=e,r):o},timeout:function(e){return arguments.length?(d=+e,r):d},user:function(e){return arguments.length<1?c:(c=null==e?null:e+"",r)},password:function(e){return arguments.length<1?f:(f=null==e?null:e+"",r)},response:function(e){return a=e,r},get:function(e,t){return r.send("GET",e,t)},post:function(e,t){return r.send("POST",e,t)},send:function(t,n,a){return u.open(t,e,!0,c,f),null==i||l.has("accept")||l.set("accept",i+",*/*"),u.setRequestHeader&&l.each(function(e,t){u.setRequestHeader(t,e)}),null!=i&&u.overrideMimeType&&u.overrideMimeType(i),null!=o&&(u.responseType=o),d>0&&(u.timeout=d),null==a&&"function"==typeof n&&(a=n,n=null),null!=a&&1===a.length&&(a=L(a)),null!=a&&r.on("error",a).on("load",function(e){a(null,e)}),s.call("beforesend",r,u),u.send(null==n?null:n),r},abort:function(){return u.abort(),r},on:function(){var e=s.on.apply(s,arguments);return e===s?r:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)}return r},T_=function(e){function t(e,t){var r,i,a=n(e,function(e,n){return r?r(e,n-1):(i=e,void(r=t?$(e,t):z(e)))});return a.columns=i,a}function n(e,t){function n(){if(c>=u)return o;if(i)return i=!1,a;var t,n=c;if(34===e.charCodeAt(n)){for(var r=n;r++<u;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;++r}return c=r+2,t=e.charCodeAt(r+1),13===t?(i=!0,10===e.charCodeAt(r+2)&&++c):10===t&&(i=!0),e.slice(n+1,r).replace(/""/g,'"')}for(;c<u;){var s=1;if(t=e.charCodeAt(c++),10===t)i=!0;else if(13===t)i=!0,10===e.charCodeAt(c)&&(++c,++s);else if(t!==l)continue;return e.slice(n,c-s)}return e.slice(n)}for(var r,i,a={},o={},s=[],u=e.length,c=0,f=0;(r=n())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,f++))||s.push(d)}return s}function r(t,n){return null==n&&(n=U(t)),[n.map(o).join(e)].concat(t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})).join("\n")}function i(e){return e.map(a).join("\n")}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":s.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n\r]"),l=e.charCodeAt(0);return{parse:t,parseRows:n,format:r,formatRows:i}},P_=(T_(","),T_("\t"),/^([A-Za-z]+:)?\/\//),C_="file://",D_=["mimeType","responseType","user","password"],A_=function(e){return{options:e||{},sanitize:W,load:q,file:H,http:V}},N_={boolean:t_,integer:r_,number:r_,date:n_,string:i_},R_=[J,te,ee,Z],I_=["boolean","integer","number","date"],F_=function(e,t){var n=t&&t.property?Sb(t.property):kb;return _b(e)&&!ie(e)?ae(n(e)):n(JSON.parse(e))},L_=function(){},j_=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return le(e,t)})}:le(e,t)},z_=function(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),s.push(r)}}var i={},a={},o={},s=[],l=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++l],t[l]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),s=i[0],l=i[1];if(t=o[s])if(delete o[t.end],t.push(e),t.end=l,r=a[l]){delete a[r.start];var u=r===t?t:t.concat(r);a[u.start=t.start]=o[u.end=r.end]=u}else a[t.start]=o[t.end]=t;else if(t=a[l])if(delete a[t.start],t.unshift(e),t.start=s,r=o[s]){delete o[r.end];var c=r===t?t:r.concat(t);a[c.start=r.start]=o[c.end=t.end]=c}else a[t.start]=o[t.end]=t;else t=[e],a[t.start=s]=o[t.end=l]=t}),r(o,a),r(a,o),t.forEach(function(e){i[e<0?~e:e]||s.push([e])}),s},$_=function(e){return ue(e,ce.apply(this,arguments))},U_=function(e,t){var n,r;return e=F_(e,t),t&&(r=t.feature)?(n=e.objects[r])?j_(e,n).features:yb("Invalid TopoJSON object: "+r):t&&(r=t.mesh)?(n=e.objects[r])?[$_(e,n)]:yb("Invalid TopoJSON object: "+r):void yb("Missing TopoJSON feature or mesh parameter.")},B_={dsv:re,csv:ne(","),tsv:ne("\t"),json:F_,topojson:U_},q_=function(e,t){return arguments.length>1?(B_[e]=t,this):B_.hasOwnProperty(e)?B_[e]:null},W_=new Date,V_=new Date,H_=fe(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});H_.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?fe(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):H_:null};var G_=1e3,Y_=6e4,X_=36e5,K_=864e5,Q_=6048e5,J_=fe(function(e){e.setTime(Math.floor(e/G_)*G_)},function(e,t){e.setTime(+e+t*G_)},function(e,t){return(t-e)/G_},function(e){return e.getUTCSeconds()}),Z_=fe(function(e){e.setTime(Math.floor(e/Y_)*Y_)},function(e,t){e.setTime(+e+t*Y_)},function(e,t){return(t-e)/Y_},function(e){return e.getMinutes()}),ex=fe(function(e){var t=e.getTimezoneOffset()*Y_%X_;t<0&&(t+=X_),e.setTime(Math.floor((+e-t)/X_)*X_+t)},function(e,t){e.setTime(+e+t*X_)},function(e,t){return(t-e)/X_},function(e){return e.getHours()}),tx=fe(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Y_)/K_},function(e){return e.getDate()-1}),nx=de(0),rx=de(1),ix=(de(2),de(3),de(4),de(5),de(6),fe(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),ax=fe(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ax.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fe(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var ox=fe(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Y_)},function(e,t){return(t-e)/Y_},function(e){return e.getUTCMinutes()}),sx=fe(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*X_)},function(e,t){return(t-e)/X_},function(e){return e.getUTCHours()}),lx=fe(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/K_},function(e){return e.getUTCDate()-1}),ux=pe(0),cx=pe(1),fx=(pe(2),pe(3),pe(4),pe(5),pe(6),fe(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()})),dx=fe(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});dx.every=function(e){return isFinite(e=Math.floor(e))&&e>0?fe(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var px,hx,mx,gx,yx,vx={"-":"",_:" ",0:"0"},bx=/^\s*\d+/,_x=/^%/,xx=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ft({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Sx="%Y-%m-%dT%H:%M:%S.%LZ",wx=(Date.prototype.toISOString?dt:gx(Sx),+new Date("2000-01-01T00:00:00.000Z")?pt:yx(Sx),function(e,t,n){t=t||{};var r=q_(t.type||"json");return r||yb("Unknown data format type: "+t.type),e=r(e,t),t.parse&&ht(e,t.parse,n),e.hasOwnProperty("columns")&&delete e.columns,e}),Ox={skip:!0},kx=function(e,t,n,r,i){var a=e instanceof _?bt:vt;return a(this,e,t,n,r,i),this},Ex={},Mx=1,Tx=2,Px=4,Cx=Mx|Tx,Dx=Mx|Px,Ax=Mx|Tx|Px,Nx=8,Rx=16,Ix=32,Fx=64,Lx=St.prototype;Lx.StopPropagation=Ex,Lx.ADD=Mx,Lx.REM=Tx,Lx.MOD=Px,Lx.ADD_REM=Cx,Lx.ADD_MOD=Dx,Lx.ALL=Ax,Lx.REFLOW=Nx,Lx.SOURCE=Rx,Lx.NO_SOURCE=Ix,Lx.NO_FIELDS=Fx,Lx.fork=function(e){return new St(this.dataflow).init(this,e)},Lx.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?(e=new St(this.dataflow).init(this),e.add=e.source,e):e},Lx.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||t&Fx||(n.fields=e.fields),t&Mx?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Tx?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Px?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Ix?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},Lx.runAfter=function(e){this.dataflow.runAfter(e)},Lx.changed=function(e){var t=e||Ax;return t&Mx&&this.add.length||t&Tx&&this.rem.length||t&Px&&this.mod.length},Lx.reflow=function(e){if(e)return this.fork(Ax).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Px,kt(this,Mx))),this},Lx.modifies=function(e){var t=Fb(e),n=this.fields||(this.fields={});return t.forEach(function(e){n[e]=!0}),this},Lx.modified=function(e){var t=this.fields;return!(!this.mod.length||!t)&&(arguments.length?bb(e)?e.some(function(e){return t[e]}):t[e]:!!t)},Lx.filter=function(e,t){var n=this;return e&Mx&&(n.addF=wt(n.addF,t)),e&Tx&&(n.remF=wt(n.remF,t)),e&Px&&(n.modF=wt(n.modF,t)),e&Rx&&(n.srcF=wt(n.srcF,t)),n},Lx.materialize=function(e){e=e||Ax;var t=this;return e&Mx&&t.addF&&(t.add=Ot(t.add,t.addF),t.addF=null),e&Tx&&t.remF&&(t.rem=Ot(t.rem,t.remF),t.remF=null),e&Px&&t.modF&&(t.mod=Ot(t.mod,t.modF),t.modF=null),e&Rx&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},Lx.visit=function(e,t){var n,r,i=this,a=t;return e&Rx?(s_(i.source,i.srcF,a),i):(e&Mx&&s_(i.add,i.addF,a),e&Tx&&s_(i.rem,i.remF,a),e&Px&&s_(i.mod,i.modF,a),e&Nx&&(n=i.source)&&(r=i.add.length+i.mod.length,r===n.length||(r?s_(n,kt(i,Dx),a):s_(n,i.srcF,a))),i)};var jx=Vb(Et,St);jx.fork=function(e){var t=new St(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,function(e){return t.add.push(e)}),e&t.REM&&this.visit(t.REM,function(e){return t.rem.push(e)}),e&t.MOD&&this.visit(t.MOD,function(e){return t.mod.push(e)})),t},jx.changed=function(e){return this.changes&e},jx.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?bb(e)?e.some(function(e){return n[e]}):n[e]:0},jx.filter=function(){yb("MultiPulse does not support filtering.")},jx.materialize=function(){yb("MultiPulse does not support materialization.")},jx.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n};var zx={skip:!1,force:!1},$x=It.prototype;$x.size=function(){return this.nodes.length},$x.clear=function(){return this.nodes=[],this},$x.peek=function(){return this.nodes[0]},$x.push=function(e){var t=this.nodes;return t.push(e),Ft(t,0,t.length-1,this.cmp)},$x.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,Lt(t,0,this.cmp)):e=n,e},$x.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,Lt(t,0,this.cmp),n},$x.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,Lt(t,0,this.cmp)),e};var Ux=jt.prototype;Ux.stamp=function(){return this._clock},Ux.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},Ux.cleanThreshold=1e4,Ux.add=v_,Ux.connect=b_,Ux.rank=_t,Ux.rerank=xt,Ux.pulse=Rt,Ux.touch=At,Ux.update=Nt,Ux.changeset=v,Ux.ingest=mt,Ux.request=yt,Ux.events=S_,Ux.on=kx,Ux.run=Mt,Ux.runAsync=Tt,Ux.runAfter=Pt,Ux._enqueue=Ct,Ux._getPulse=Dt,Ux.error=zt("error"),Ux.warn=zt("warn"),Ux.info=zt("info"),Ux.debug=zt("debug"),Ux.logLevel=zt("level");var Bx=Vb($t,_);Bx.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t!==e.StopPropagation&&(this.pulse=t),this.stamp=e.stamp,t},Bx.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},Bx.transform=function(){};var qx={},Wx={values:Gt({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:Gt({name:"count",set:"cell.num"}),missing:Gt({name:"missing",set:"this.missing"}),valid:Gt({name:"valid",set:"this.valid"}),sum:Gt({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:Gt({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:Gt({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:Gt({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:Gt({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:Gt({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:Gt({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:Gt({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),distinct:Gt({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:Gt({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:Gt({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:Gt({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:Gt({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:Gt({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:Gt({name:"argmin",init:"this.argmin = null;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:Gt({name:"argmax",init:"this.argmax = null;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:Gt({name:"min",init:"this.min = null;",add:"if (v < this.min || this.min === null) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:Gt({name:"max",init:"this.max = null;",add:"if (v > this.max || this.max === null) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Vx=Object.keys(Wx),Hx=function(e){var t,n,r,i,a,o,s,l,u=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],p=e.extent[0],h=e.extent[1],m=h-p;if(e.step)t=e.step;else if(e.steps){for(a=m/u,o=0,s=e.steps.length;o<s&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(u)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>u;)t*=c;for(o=0,s=d.length;o<s;++o)a=t/d[o],a>=r&&m/a<=u&&(t=a)}return a=Math.log(t),i=a>=0?0:~~(-a/f)+1,l=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(a=Math.floor(p/t+l)*t,p=p<a?a-t:a,h=Math.ceil(h/t)*t),{start:p,stop:h,step:t}},Gx=function e(t,n){var r,e=[],i=t.length,a=-1;if(null==n)for(;++a<i;)isNaN(r=Qt(t[a]))||e.push(r);else for(;++a<i;)isNaN(r=Qt(n(t[a],a,t)))||e.push(r);return e},Yx=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Xx=function(e){return 1===e.length&&(e=Jt(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}},Kx=Xx(Yx),Qx=Kx.right,Jx=Kx.left,Zx=function(e){return null===e?NaN:+e},eS=function(e,t){var n,r,i=e.length,a=0,o=-1,s=0,l=0;if(null==t)for(;++o<i;)isNaN(n=Zx(e[o]))||(r=n-s,s+=r/++a,l+=r*(n-s));else for(;++o<i;)isNaN(n=Zx(t(e[o],o,e)))||(r=n-s,s+=r/++a,l+=r*(n-s));if(a>1)return l/(a-1)},tS=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){for(;++o<a;)if(null!=(n=e[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=i=n;++o<a;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},nS=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a},rS=Math.sqrt(50),iS=Math.sqrt(10),aS=Math.sqrt(2),oS=function e(t,n,r){var i,e,a,o=n<t,s=-1;if(o&&(i=t,t=n,n=i),0===(a=Zt(t,n,r))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),e=new Array(i=Math.ceil(n-t+1));++s<i;)e[s]=(t+s)*a;else for(t=Math.floor(t*a),n=Math.ceil(n*a),e=new Array(i=Math.ceil(t-n+1));++s<i;)e[s]=(t-s)/a;return o&&e.reverse(),e},sS=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},lS=function(e,t,n){if(null==n&&(n=Zx),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}},uS=function e(t,n){var r,e,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(r=t[a])&&r>=r)for(e=r;++a<i;)null!=(r=t[a])&&r>e&&(e=r)}else for(;++a<i;)if(null!=(r=n(t[a],a,t))&&r>=r)for(e=r;++a<i;)null!=(r=n(t[a],a,t))&&r>e&&(e=r);return e},cS=function(e,t){var n,r=e.length,i=r,a=-1,o=0;if(null==t)for(;++a<r;)isNaN(n=Zx(e[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=Zx(t(e[a],a,e)))?--i:o+=n;if(i)return o/i},fS=function(e,t){var n,r=e.length,i=-1,a=[];if(null==t)for(;++i<r;)isNaN(n=Zx(e[i]))||a.push(n);else for(;++i<r;)isNaN(n=Zx(t(e[i],i,e)))||a.push(n);return lS(a.sort(Yx),.5)},dS=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n},pS=function e(t,n){var r,e,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(r=t[a])&&r>=r)for(e=r;++a<i;)null!=(r=t[a])&&e>r&&(e=r)}else for(;++a<i;)if(null!=(r=n(t[a],a,t))&&r>=r)for(e=r;++a<i;)null!=(r=n(t[a],a,t))&&e>r&&(e=r);return e},hS=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},mS=function e(t,n){var r,i=t.length,a=-1,e=0;if(null==n)for(;++a<i;)(r=+t[a])&&(e+=r);else for(;++a<i;)(r=+n(t[a],a,t))&&(e+=r);return e},gS=function(e,t,n,r){var i,a,o,s,l=Gx(e,r),u=l.length,c=t;for(o=0,s=Array(c);o<c;++o){for(i=0,a=0;a<u;++a)i+=l[~~(Math.random()*u)];s[o]=i/u}return[lS(s.sort(Yx),n/2),lS(s,1-n/2)]},yS=function(e,t){null==t&&(t=e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(n=e||0,i=r-n,a):n},a.max=function(e){return arguments.length?(r=e||0,i=r-n,a):r},a.sample=function(){return n+Math.floor(i*Math.random())},a.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},a.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},a.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},a.min(e).max(t)},vS=function(e,t){var n,r,i=NaN,a={};return a.mean=function(e){return arguments.length?(n=e||0,i=NaN,a):n},a.stdev=function(e){return arguments.length?(r=null==e?1:e,i=NaN,a):r},a.sample=function(){var e,t,a=0,o=0;if(i===i)return a=i,i=NaN,a;do a=2*Math.random()-1,o=2*Math.random()-1,e=a*a+o*o;while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),i=n+o*t*r,n+a*t*r},a.pdf=function(e){var t=Math.exp(Math.pow(e-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*t},a.cdf=function(e){var t,i=(e-n)/r,a=Math.abs(i);if(a>37)t=0;else{var o,s=Math.exp(-a*a/2);a<7.07106781186547?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,t=s*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,t/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,t=s/o/2.506628274631)}return i>0?1-t:t},a.icdf=function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(t,2))/2,o=Math.log(1-t*t)/i,s=(t>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return n+r*Math.SQRT2*s},a.mean(e).stdev(t)},bS=function(e,t){var n=Gx(e,t);return[lS(n.sort(Yx),.25),lS(n,.5),lS(n,.75)]},_S=function(e,t){var n=vS(),r={},i=0;return r.data=function(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},r.bandwidth=function(n){return arguments.length?(t=n,!t&&e&&(t=tn(e)),r):t},r.sample=function(){return e[~~(Math.random()*i)]+t*n.sample()},r.pdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.pdf((r-e[o])/t);return a/t/i},r.cdf=function(r){for(var a=0,o=0;o<i;++o)a+=n.cdf((r-e[o])/t);return a/i},r.icdf=function(){throw Error("KDE icdf not supported.")},r.data(e)},xS=function(e,t){function n(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}var r,i={},a=0;return i.weights=function(e){return arguments.length?(r=n(t=e||[]),i):t},i.distributions=function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),i.weights(t)):e},i.sample=function(){for(var t=Math.random(),n=e[a-1],i=r[0],o=0;o<a-1;i+=r[++o])if(t<i){n=e[o];break}return n.sample()},i.pdf=function(t){for(var n=0,i=0;i<a;++i)n+=r[i]*e[i].pdf(t);return n},i.cdf=function(t){for(var n=0,i=0;i<a;++i)n+=r[i]*e[i].cdf(t);return n},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(e).weights(t)},SS=function(e,t){null==t&&(t=null==e?1:e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(n=e||0,i=r-n,a):n},a.max=function(e){return arguments.length?(r=e||0,i=r-n,a):r},a.sample=function(){return n+i*Math.random()},a.pdf=function(e){return e>=n&&e<=r?1/i:0},a.cdf=function(e){return e<n?0:e>r?1:(e-n)/i},a.icdf=function(e){return e>=0&&e<=1?n+e*i:NaN},a.min(e).max(t)},wS=nn.prototype;wS.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},wS.add=function(e){this._add.push(e)},wS.rem=function(e){this._rem.push(e)},wS.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,s=i.length,l=Array(o-s),u={};for(e=0;e<s;++e)u[a(i[e])]=1;for(e=0,t=0;e<o;++e)u[a(n=r[e])]?u[a(n)]=0:l[t++]=n;return this._rem=[],this._add=l},wS.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",i.hasOwnProperty(t)||(i[t]=1,++a);return a},wS.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=Bb(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},wS.argmin=function(e){return this.extent(e)[0]||{}},wS.argmax=function(e){return this.extent(e)[1]||{}},wS.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):+(1/0)},wS.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-(1/0)},wS.quartile=function(e){return this._get===e&&this._q||(this._q=bS(this.values(),e),this._get=e),this._q},wS.q1=function(e){return this.quartile(e)[0]},wS.q2=function(e){return this.quartile(e)[1]},wS.q3=function(e){return this.quartile(e)[2]},wS.ci=function(e){return this._get===e&&this._ci||(this._ci=gS(this.values(),1e3,.05,e),this._get=e),this._ci},wS.ci0=function(e){return this.ci(e)[0]},wS.ci1=function(e){return this.ci(e)[1]},rn.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Vx},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var OS=Vb(rn,$t);OS.transform=function(e,t){var n,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=e.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(this.value=this.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),i.modifies(this._outputs),r._drop=e.drop!==!1,e.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},OS.cross=function(){function e(e){var t,n,r,s;for(t in e)for(r=e[t].tuple,n=0;n<o;++n)a[n][s=r[i[n]]]=s}function t(e,s,l){var u,c,f=i[l],d=a[l++];for(u in d)s[f]=d[u],c=e?e+"|"+u:u,l<o?t(c,s,l):r[c]||n.cell(c,s)}var n=this,r=n.value,i=n._dnames,a=i.map(function(){return{}}),o=i.length;e(n._prev),e(r),t("",{},0)},OS.init=function(e){function n(e){for(var t,n=Fb(r(e)),a=0,s=n.length;a<s;++a)o[t=n[a]]||(o[t]=1,i.push(t))}var i=this._inputs=[],a=this._outputs=[],o={};this._dims=Fb(e.groupby),this._dnames=this._dims.map(function(e){var r=t(e);return n(e),a.push(r),r}),this.cellkey=e.key?e.key:Wt(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,l,u,c,f,d,p=e.fields||[null],h=e.ops||["count"],m=e.as||[],g=p.length,y={};for(g!==h.length&&yb("Unmatched number of fields and aggregate ops."),d=0;d<g;++d)s=p[d],l=h[d],null==s&&"count"!==l&&yb("Null aggregate field specified."),c=t(s),f=Vt(l,c,m[d]),a.push(f),"count"!==l?(u=y[c],u||(n(s),u=y[c]=[],u.field=s,this._measures.push(u)),"count"!==l&&(this._countOnly=!1),u.push(Ht(l,f))):this._counts.push(f);return this._measures=this._measures.map(function(e){return Kt(e,e.field)}),{}},OS.cellkey=Wt(),OS.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},OS.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new nn),n},OS.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?g(t.tuple,o):p(o)},OS.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].add(t[n].get(e),e)},OS.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].rem(t[n].get(e),e)},OS.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(t=e.agg,n=0,r=t.length;n<r;++n)t[n].set(i);return i},OS.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,s=this._prev,l=this._drop,u=e.add,c=e.rem,f=e.mod;if(s)for(n in s)t=s[n],l&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)u.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)t=o[r],(0===t.num&&l?c:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e},an.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",
type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var kS=Vb(an,$t);kS.transform=function(e,t){var n,i=this._bins(e),a=i.start,o=i.step,s=e.as||["bin0","bin1"],l=s[0],u=s[1];return e.modified()?(t=t.reflow(!0),n=t.SOURCE):n=t.modified(r(e.field))?t.ADD_MOD:t.ADD,t.visit(n,function(e){var t=i(e);e[l]=t,e[u]=null==t?null:a+o*(1+(t-a)/o)}),t.modifies(s)},kS._bins=function(e){if(this.value&&!e.modified())return this.value;var n,i,a=e.field,o=Hx(e),s=o.start,l=o.stop,u=o.step;null!=(n=e.anchor)&&(i=n-(s+u*Math.floor((n-s)/u)),s+=i,l+=i);var c=function(e){var t=a(e);return null==t?null:(t=Math.max(s,Math.min(+t,l-u)),s+u*Math.floor((t-s)/u))};return c.start=s,c.stop=l,c.step=u,this.value=gb(c,r(a),e.name||"bin_"+t(a))};var ES=function(e,t,n){var r=e,i=t||[],a=n||[],o={},s=0;return{add:function(e){a.push(e)},remove:function(e){o[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter(function(e){return!o[r(e)]}),o={},s=0),t&&e&&i.sort(e),a.length&&(i=e?Qb(e,i,a.sort(e)):i.concat(a),a=[]),i}}};on.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};var MS=Vb(on,$t);MS.transform=function(e,t){var n=t.fork(t.ALL),r=ES(f,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(i,a),n},Vb(sn,_),un.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var TS=Vb(un,$t);TS.transform=function(e,t){function n(t){return function(n){for(var r,i=cn(s(n),e.case,a)||[],l=0,u=i.length;l<u;++l)o.test(r=i[l])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],u=n(function(e){i[e]=1+(i[e]||0)}),c=n(function(e){i[e]-=1});return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},TS._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},TS._finish=function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),s=t[0],l=t[1],u=e.fork();for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=p({}),r[s]=n,r[l]=i,u.add.push(r)):0===i?(r&&u.rem.push(r),a[n]=null,o[n]=null):r[l]!==i&&(r[l]=i,u.mod.push(r));return u.modifies(t)},fn.Definition={type:"Cross",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};var PS=Vb(fn,$t);PS.transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],a=i[0],o=i[1],s=!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");return s?(r&&(n.rem=r),n.add=this.value=dn(t.source,a,o,e.filter||Tb)):n.mod=r,n.source=this.value,n.modifies(i)};var CS={kde:_S,mixture:xS,normal:vS,uniform:SS},DS="distributions",AS="function",NS="field",RS=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],IS={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:RS},{name:"weights",type:"number",array:!0}]};hn.Definition={type:"Density",metadata:{generates:!0,source:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:RS.concat(IS)},{name:"as",type:"string",array:!0,default:["value","density"]}]};var FS=Vb(hn,$t);FS.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=pn(e.distribution,mn(t)),i=e.method||"pdf";"pdf"!==i&&"cdf"!==i&&yb("Invalid density method: "+i),e.extent||r.data||yb("Missing density extent parameter."),i=r[i];var a=e.as||["value","density"],o=e.extent||tS(r.data()),s=(o[1]-o[0])/(e.steps||100),l=nS(o[0],o[1]+s/2,s).map(function(e){var t={};return t[a[0]]=e,t[a[1]]=i(e),p(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n},gn.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};var LS=Vb(gn,$t);LS.transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1],s=t.ADD;n=t.changed()||t.modified(i.fields)||e.modified("field"),n&&(s=t.SOURCE,a=+(1/0),o=-(1/0)),t.visit(s,function(e){var t=i(e);t<a&&(a=t),t>o&&(o=t)}),this.value=[a,o]};var jS=Vb(yn,_);jS.connect=function(e){return this.targets().add(e),e.source=this},jS.add=function(e){this.value.add.push(e)},jS.rem=function(e){this.value.rem.push(e)},jS.mod=function(e){this.value.mod.push(e)},jS.init=function(e){this.value.init(e,e.NO_SOURCE)},jS.evaluate=function(){return this.value};var zS=Vb(vn,$t);zS.activate=function(e){this._targets[this._targets.active++]=e},zS.subflow=function(e,t,n,r){var i,a,o=this.value,s=o.hasOwnProperty(e)&&o[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,s=i.add(new yn(n.fork(n.NO_SOURCE),this)).connect(t(i,e,a)),o[e]=s,this.activate(s)),s},zS.transform=function(e,t){function n(e){return i.subflow(e,o,t)}var r=t.dataflow,i=this,a=e.key,o=e.subflow,s=this._keys,l=e.modified("key");return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,function(e){var t=f(e),r=s.get(t);void 0!==r&&(s.delete(t),n(r).rem(e))}),t.visit(t.ADD,function(e){var t=a(e);s.set(f(e),t),n(t).add(e)}),l||t.modified(a.fields)?t.visit(t.MOD,function(e){var t=f(e),r=s.get(t),i=a(e);r===i?n(i).mod(e):(s.set(t,i),n(r).rem(e),n(i).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,function(e){n(s.get(f(e))).mod(e)}),l&&t.visit(t.REFLOW,function(e){var t=f(e),r=s.get(t),i=a(e);r!==i&&(s.set(t,i),n(r).rem(e),n(i).add(e))}),s.empty>r.cleanThreshold&&r.runAfter(s.clean),t},Vb(bn,_),xn.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};var $S=Vb(xn,$t);$S.transform=function(e,t){function n(t){var n=f(t),r=u(t,e),a=i.get(n);r&&a?(i.delete(n),o.push(t)):r||a?c&&r&&!a&&l.push(t):(i.set(n,1),s.push(t))}var r=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,l=a.mod,u=e.expr,c=!0;return t.visit(t.REM,function(e){var t=f(e);i.has(t)?i.delete(t):s.push(e)}),t.visit(t.ADD,function(t){u(t,e)?o.push(t):i.set(f(t),1)}),t.visit(t.MOD,n),e.modified()&&(c=!1,t.visit(t.REFLOW,n)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),a},Sn.Definition={type:"Fold",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};var US=Vb(Sn,$t);US.transform=function(e,t){function n(e){for(var t,n=a[f(e)]=Array(p),r=0;r<p;++r)t=n[r]=h(e),t[u]=d[r],t[c]=s[r](e),y.add.push(t)}function r(e){for(var t,n=a[f(e)],r=0;r<p;++r)b&1<<r&&(t=m(e,n[r],g),t[u]=d[r],t[c]=s[r](e),y.mod.push(t))}var i,a=this.value,o=e.modified("fields"),s=e.fields,l=e.as||["key","value"],u=l[0],c=l[1],d=s.map(wn),p=s.length,g=t.stamp,y=t.fork(t.NO_SOURCE),v=0,b=0;if(o){for(i in a)y.rem.push.apply(y.rem,a[i]);a=this.value={},t.visit(t.SOURCE,n)}else{for(t.visit(t.ADD,n);v<p;++v)t.modified(s[v].fields)&&(b|=1<<v);b&&t.visit(t.MOD,r),t.visit(t.REM,function(e){var t=f(e);y.rem.push.apply(y.rem,a[t]),a[t]=null})}return y.modifies(l)},On.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};var BS=Vb(On,$t);BS.transform=function(e,t){function n(t){t[i]=r(t,e)}var r=e.expr,i=e.as,a=e.modified(),o=e.initonly?t.ADD:a?t.SOURCE:t.modified(r.fields)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,n)};var qS=Vb(kn,$t);qS.transform=function(e,t){var n,r,i,a=this.value,o=t.fork(t.ALL),s=e.size-a.length,l=e.generator;if(s>0){for(n=[];--s>=0;)n.push(i=p(l(e))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=a.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-s);return o.source=this.value=a,o};var WS={value:"value",median:fS,mean:cS,min:pS,max:uS},VS=[];En.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};var HS=Vb(En,$t);HS.transform=function(e,n){var r,i,a,o,s,l,u,c,f,d,h=n.fork(n.ALL),m=Mn(e),g=Tn(e),y=t(e.field),v=t(e.key),b=(e.groupby||[]).map(t),_=Pn(n.source,e.groupby,e.key,e.keyvals),x=[],S=this.value,w=_.domain.length;for(s=0,c=_.length;s<c;++s)for(r=_[s],a=r.values,i=NaN,u=0;u<w;++u)if(null==r[u]){for(o=_.domain[u],d={_impute:!0},l=0,f=a.length;l<f;++l)d[b[l]]=a[l];d[v]=o,d[y]=isNaN(i)?i=m(r,g):i,x.push(p(d))}return x.length&&(h.add=h.materialize(h.ADD).add.concat(x)),S.length&&(h.rem=h.materialize(h.REM).rem.concat(S)),this.value=x,h},Cn.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Vx},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var GS=Vb(Cn,rn);GS.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(n=r.value=r.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),r.changes(),t.visit(t.SOURCE,function(e){Ub(e,n[r.cellkey(e)].tuple)}),t.reflow(i).modifies(this._outputs)},GS.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},Vb(Dn,_),Nn.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};var YS=Vb(Nn,$t);YS.transform=function(e,n){var r,i,a,o=n,s=e.as,l=e.fields,u=e.index,c=e.values,f=null==e.default?null:e.default,d=e.modified(),p=d?n.SOURCE:n.ADD,h=l.length;return c?(i=c.length,h>1&&!s&&yb('Multi-field lookup requires explicit "as" parameter.'),s&&s.length!==h*i&&yb('The "as" parameter has too few output field names.'),s=s||c.map(t),r=function(e){for(var t,n,r=0,a=0;r<h;++r)if(n=u.get(l[r](e)),null==n)for(t=0;t<i;++t,++a)e[s[a]]=f;else for(t=0;t<i;++t,++a)e[s[a]]=c[t](n)}):(s||yb("Missing output field names."),r=function(e){for(var t,n=0;n<h;++n)t=u.get(l[n](e)),e[s[n]]=null==t?f:t}),d?o=n.reflow(!0):(a=l.some(function(e){return n.modified(e.fields)}),p|=a?n.MOD:0),n.visit(p,r),o.modifies(s)},Vb(Rn,_),Vb(Fn,_),Vb(jn,$t),jn.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)};var XS=Vb(zn,vn);XS.transform=function(e,t){var n=this,i=e.subflow,a=e.field;return(e.modified("field")||a&&t.modified(r(a)))&&yb("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,function(e){var r=n.subflow(f(e),i,t,e);a?a(e).forEach(function(e){r.mod(e)}):r.mod(e)}),t.visit(t.ADD,function(e){var r=n.subflow(f(e),i,t,e);a?a(e).forEach(function(e){r.add(p(e))}):r.add(e)}),t.visit(t.REM,function(e){var r=n.subflow(f(e),i,t,e);a?a(e).forEach(function(e){r.rem(e)}):r.rem(e)}),t};var KS=Vb($n,$t);KS.transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var QS=Vb(Un,$t);QS.transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(),t.visit(t.REM,function(e){var t=f(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,function(e){var t=h(e);r[f(e)]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(m(e,r[f(e)]))})),n},Bn.Definition={type:"Sample",metadata:{source:!0,changes:!0},params:[{name:"size",type:"number",default:1e3}]};var JS=Vb(Bn,$t);JS.transform=function(e,t){function n(e){var t,n;o.length<a?o.push(e):(n=~~((s+1)*Math.random()),n<o.length&&n>=l&&(t=o[n],u[f(t)]&&r.rem.push(t),o[n]=e)),++s}var r=t.fork(),i=e.modified("size"),a=e.size,o=this.value,s=this.count,l=0,u=o.reduce(function(e,t){return e[f(t)]=1,e},{});if(t.rem.length&&(t.visit(t.REM,function(e){var t=f(e);u[t]&&(u[t]=-1,r.rem.push(e)),--s}),o=o.filter(function(e){return u[f(e)]!==-1})),(t.rem.length||i)&&o.length<a&&t.source&&(l=s=o.length,t.visit(t.SOURCE,function(e){u[f(e)]||n(e)}),l=-1),i&&o.length>a){for(var c=0,d=o.length-a;c<d;++c)u[f(o[c])]=-1,r.rem.push(o[c]);o=o.slice(d)}return t.mod.length&&t.visit(t.MOD,function(e){u[f(e)]&&r.mod.push(e)}),t.add.length&&t.visit(t.ADD,n),(t.add.length||l<0)&&(r.add=o.filter(function(e){return!u[f(e)]})),this.count=s,this.value=r.source=o,r},qn.Definition={type:"Sequence",metadata:{generates:!0,source:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1}],output:["value"]};var ZS=Vb(qn,$t);ZS.transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD);return n.rem=this.value?t.rem.concat(this.value):t.rem,n.source=this.value=nS(e.start,e.stop,e.step||1).map(p),n.add=t.add.concat(this.value),n}};var ew=Vb(Wn,$t);ew.transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var tw=Vb(Vn,$t);tw.transform=function(e,t){function n(e){a.set(i(e),e)}var r=t.dataflow,i=e.field,a=this.value,o=!0;return e.modified("field")||t.modified(i.fields)?(a.clear(),t.visit(t.SOURCE,n)):t.changed()?(t.visit(t.REM,function(e){a.delete(i(e))}),t.visit(t.ADD,n)):o=!1,this.modified(o),a.empty>r.cleanThreshold&&r.runAfter(a.clean),t.fork()};var nw=Vb(Hn,$t);nw.transform=function(e,t){var n=!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields);n&&(this.value=(e.sort?t.source.slice().sort(e.sort):t.source).map(e.field))};var rw={row_number:function(){return{next:function(e){return e.index+1}}},rank:function e(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=rw.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){t=+t,t>0||yb("ntile num must be greater than zero.");var n=rw.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return t=+t,t>0||yb("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}}},iw=Object.keys(rw),aw=Yn.prototype;aw.init=function(){this.windows.forEach(function(e){e.init()}),this.cell&&this.cell.init()},aw.update=function(e,t){var n,r=this,i=r.cell,a=r.windows,o=e.data,s=a&&a.length;if(i){for(n=e.p0;n<e.i0;++n)i.rem(o[n]);for(n=e.p1;n<e.i1;++n)i.add(o[n]);i.set(t)}for(n=0;n<s;++n)a[n].update(e,t)},Kn.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:iw.concat(Vx)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var ow=Vb(Kn,$t);ow.transform=function(e,t){function n(e){return a.group(l(e))}var r,i,a=this,o=a.state,s=e.modified();this.stamp=t.stamp,o&&!s||(o=a.state=new Yn(e));var l=Wt(e.groupby);for(s||t.modified(o.inputs)?(a.value={},t.visit(t.SOURCE,function(e){n(e).add(e)})):(t.visit(t.REM,function(e){n(e).remove(e)}),t.visit(t.ADD,function(e){n(e).add(e)})),r=0,i=a._mlen;r<i;++r)Qn(a._mods[r],o,e);return a._mlen=0,a._mods=[],t.reflow(s).modifies(o.outputs)},ow.group=function(e){var t=this,n=t.value[e];return n||(n=t.value[e]=ES(f),n.stamp=-1),n.stamp<t.stamp&&(n.stamp=t.stamp,t._mods[t._mlen++]=n),n};var sw=Object.freeze({aggregate:rn,bin:an,collect:on,compare:sn,countpattern:un,cross:fn,density:hn,extent:gn,facet:vn,field:bn,filter:xn,fold:Sn,formula:On,generate:kn,impute:En,joinaggregate:Cn,key:Dn,lookup:Nn,multiextent:Rn,multivalues:Fn,params:jn,prefacet:zn,proxy:$n,relay:Un,sample:Bn,sequence:qn,sieve:Wn,subflow:yn,tupleindex:Vn,values:Hn,window:Kn}),lw=er.prototype;lw.clone=function(){return new er(this)},lw.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},lw.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},lw.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},lw.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},lw.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},lw.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},lw.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},lw.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,o=n-t*i-n*r,s=this.x1,l=this.x2,u=this.y1,c=this.y2;return this.clear().add(r*s-i*u+a,i*s+r*u+o).add(r*s-i*c+a,i*s+r*c+o).add(r*l-i*u+a,i*l+r*u+o).add(r*l-i*c+a,i*l+r*c+o)},lw.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},lw.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},lw.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},lw.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},lw.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},lw.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},lw.width=function(){return this.x2-this.x1},lw.height=function(){return this.y2-this.y1};var uw=0,cw=function(e,t){var n,r=[];return n={id:"gradient_"+uw++,x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};Vb(nr,tr);var fw;try{fw=n(300)}catch(dw){fw=null}var pw=function(e,t){var n=rr(null,"canvas");if(n&&n.getContext)n.width=e,n.height=t;else if(fw)try{n=new fw(e,t)}catch(r){n=null}return n},hw="undefined"!=typeof Image?Image:fw&&fw.Image||null,mw=lr.prototype;mw.pending=function(){return this._pending},mw.sanitizeURL=function(e){var t=this;return ur(t),t._loader.sanitize(e,{context:"href"}).then(function(e){return cr(t),e}).catch(function(){return cr(t),null})},mw.loadImage=function(e){var t=this;return ur(t),t._loader.sanitize(e,{context:"image"}).then(function(e){var n=e.href;if(!n||!hw)throw{url:n};var r=new hw;return r.onload=function(){cr(t),r.loaded=!0},r.onerror=function(){cr(t),r.loaded=!1},r.src=n,r}).catch(function(e){return cr(t),{loaded:!1,width:0,height:0,src:e&&e.url||""}})},mw.ready=function(){var e=this;return new Promise(function(t){function n(r){e.pending()?setTimeout(function(){n(!0)},10):t(r)}n(!1)})};var gw=Math.PI,yw=2*gw,vw=1e-6,bw=yw-vw;fr.prototype=dr.prototype={constructor:fr,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-e,l=r-t,u=a-e,c=o-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>vw)if(Math.abs(c*s-l*u)>vw&&i){var d=n-a,p=r-o,h=s*s+l*l,m=d*d+p*p,g=Math.sqrt(h),y=Math.sqrt(f),v=i*Math.tan((gw-Math.acos((h+f-m)/(2*g*y)))/2),b=v/y,_=v/g;Math.abs(b-1)>vw&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*p)+","+(this._x1=e+_*s)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,n=+n;var o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,u=t+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>vw||Math.abs(this._y1-u)>vw)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%yw+yw),f>bw?this._+="A"+n+","+n+",0,1,"+c+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>vw&&(this._+="A"+n+","+n+",0,"+ +(f>=gw)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var _w=function(e){return function(){return e}},xw=Math.abs,Sw=Math.atan2,ww=Math.cos,Ow=Math.max,kw=Math.min,Ew=Math.sin,Mw=Math.sqrt,Tw=1e-12,Pw=Math.PI,Cw=Pw/2,Dw=2*Pw,Aw=function(){function e(){var e,u,c=+t.apply(this,arguments),f=+n.apply(this,arguments),d=a.apply(this,arguments)-Cw,p=o.apply(this,arguments)-Cw,h=xw(p-d),m=p>d;if(l||(l=e=dr()),f<c&&(u=f,f=c,c=u),f>Tw)if(h>Dw-Tw)l.moveTo(f*ww(d),f*Ew(d)),l.arc(0,0,f,d,p,!m),c>Tw&&(l.moveTo(c*ww(p),c*Ew(p)),l.arc(0,0,c,p,d,m));else{var g,y,v=d,b=p,_=d,x=p,S=h,w=h,O=s.apply(this,arguments)/2,k=O>Tw&&(i?+i.apply(this,arguments):Mw(c*c+f*f)),E=kw(xw(f-c)/2,+r.apply(this,arguments)),M=E,T=E;if(k>Tw){var P=hr(k/c*Ew(O)),C=hr(k/f*Ew(O));(S-=2*P)>Tw?(P*=m?1:-1,_+=P,x-=P):(S=0,_=x=(d+p)/2),(w-=2*C)>Tw?(C*=m?1:-1,v+=C,b-=C):(w=0,v=b=(d+p)/2)}var D=f*ww(v),A=f*Ew(v),N=c*ww(x),R=c*Ew(x);if(E>Tw){var I=f*ww(b),F=f*Ew(b),L=c*ww(_),j=c*Ew(_);if(h<Pw){var z=S>Tw?_r(D,A,L,j,I,F,N,R):[N,R],$=D-z[0],U=A-z[1],B=I-z[0],q=F-z[1],W=1/Ew(pr(($*B+U*q)/(Mw($*$+U*U)*Mw(B*B+q*q)))/2),V=Mw(z[0]*z[0]+z[1]*z[1]);M=kw(E,(c-V)/(W-1)),T=kw(E,(f-V)/(W+1))}}w>Tw?T>Tw?(g=xr(L,j,D,A,f,T,m),y=xr(I,F,N,R,f,T,m),l.moveTo(g.cx+g.x01,g.cy+g.y01),T<E?l.arc(g.cx,g.cy,T,Sw(g.y01,g.x01),Sw(y.y01,y.x01),!m):(l.arc(g.cx,g.cy,T,Sw(g.y01,g.x01),Sw(g.y11,g.x11),!m),l.arc(0,0,f,Sw(g.cy+g.y11,g.cx+g.x11),Sw(y.cy+y.y11,y.cx+y.x11),!m),l.arc(y.cx,y.cy,T,Sw(y.y11,y.x11),Sw(y.y01,y.x01),!m))):(l.moveTo(D,A),l.arc(0,0,f,v,b,!m)):l.moveTo(D,A),c>Tw&&S>Tw?M>Tw?(g=xr(N,R,I,F,c,-M,m),y=xr(D,A,L,j,c,-M,m),l.lineTo(g.cx+g.x01,g.cy+g.y01),M<E?l.arc(g.cx,g.cy,M,Sw(g.y01,g.x01),Sw(y.y01,y.x01),!m):(l.arc(g.cx,g.cy,M,Sw(g.y01,g.x01),Sw(g.y11,g.x11),!m),l.arc(0,0,c,Sw(g.cy+g.y11,g.cx+g.x11),Sw(y.cy+y.y11,y.cx+y.x11),m),l.arc(y.cx,y.cy,M,Sw(y.y11,y.x11),Sw(y.y01,y.x01),!m))):l.arc(0,0,c,x,_,m):l.lineTo(N,R)}else l.moveTo(0,0);if(l.closePath(),e)return l=null,e+""||null}var t=mr,n=gr,r=_w(0),i=null,a=yr,o=vr,s=br,l=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-Pw/2;return[ww(r)*e,Ew(r)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:_w(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:_w(+t),e):n},e.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:_w(+t),e):r},e.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:_w(+t),e):i},e.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:_w(+t),e):a},e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:_w(+t),e):o},e.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:_w(+t),e):s},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e};Sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var Nw=function(e){return new Sr(e)},Rw=function(){function e(e){var s,l,u,c=e.length,f=!1;for(null==i&&(o=a(u=dr())),s=0;s<=c;++s)!(s<c&&r(l=e[s],s,e))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,s,e),+n(l,s,e));if(u)return o=null,u+""||null}var t=wr,n=Or,r=_w(!0),i=null,a=Nw,o=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:_w(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:_w(+t),e):n},e.defined=function(t){return arguments.length?(r="function"==typeof t?t:_w(!!t),e):r},e.curve=function(t){return arguments.length?(a=t,null!=i&&(o=a(i)),e):a},e.context=function(t){return arguments.length?(null==t?i=o=null:o=a(i=t),e):i},e},Iw=function(){function e(e){var t,c,f,d,p,h=e.length,m=!1,g=new Array(h),y=new Array(h);for(null==s&&(u=l(p=dr())),t=0;t<=h;++t){if(!(t<h&&o(d=e[t],t,e))===m)if(m=!m)c=t,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=t-1;f>=c;--f)u.point(g[f],y[f]);u.lineEnd(),u.areaEnd()}m&&(g[t]=+n(d,t,e),y[t]=+i(d,t,e),u.point(r?+r(d,t,e):g[t],a?+a(d,t,e):y[t]))}if(p)return u=null,p+""||null}function t(){return Rw().defined(o).curve(l).context(s)}var n=wr,r=null,i=_w(0),a=Or,o=_w(!0),s=null,l=Nw,u=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:_w(+t),r=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:_w(+t),e):n},e.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:_w(+t),e):r},e.y=function(t){return arguments.length?(i="function"==typeof t?t:_w(+t),a=null,e):i},e.y0=function(t){return arguments.length?(i="function"==typeof t?t:_w(+t),e):i},e.y1=function(t){return arguments.length?(a=null==t?null:"function"==typeof t?t:_w(+t),e):a},e.lineX0=e.lineY0=function(){return t().x(n).y(i)},e.lineY1=function(){return t().x(n).y(a)},e.lineX1=function(){return t().x(r).y(i)},e.defined=function(t){return arguments.length?(o="function"==typeof t?t:_w(!!t),e):o},e.curve=function(t){return arguments.length?(l=t,null!=s&&(u=l(s)),e):l},e.context=function(t){return arguments.length?(null==t?s=u=null:u=l(s=t),e):s},e},Fw={draw:function(e,t){var n=Math.sqrt(t/Pw);e.moveTo(n,0),e.arc(0,0,n,0,Dw)}},Lw=function(){function e(){var e;if(r||(r=e=dr()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),e)return r=null,e+""||null}var t=_w(Fw),n=_w(64),r=null;return e.type=function(n){return arguments.length?(t="function"==typeof n?n:_w(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:_w(+t),e):n},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},jw=function(){};Er.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var zw=function(e){return new Er(e)};Mr.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:kr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var $w=function(e){return new Mr(e)};Tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Uw=function(e){return new Tr(e)};Pr.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*o),this._beta*t[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Bw=function e(t){function n(e){return 1===t?new Er(e):new Pr(e,t)}return n.beta=function(t){return e(+t)},n}(.85);Dr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cr(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,
this._y1=t;break;case 2:this._point=3;default:Cr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qw=function e(t){function n(e){return new Dr(e,t)}return n.tension=function(t){return e(+t)},n}(0);Ar.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Cr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ww=function e(t){function n(e){return new Ar(e,t)}return n.tension=function(t){return e(+t)},n}(0);Nr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cr(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Vw=function e(t){function n(e){return new Nr(e,t)}return n.tension=function(t){return e(+t)},n}(0);Ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Rr(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Hw=function e(t){function n(e){return t?new Ir(e,t):new Dr(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);Fr.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Rr(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Gw=function e(t){function n(e){return t?new Fr(e,t):new Ar(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);Lr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Rr(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Yw=function e(t){function n(e){return t?new Lr(e,t):new Nr(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);jr.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Xw=function(e){return new jr(e)};qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Br(this,this._t0,Ur(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Br(this,Ur(this,n=$r(this,e,t)),n);break;default:Br(this,this._t0,n=$r(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Wr.prototype=Object.create(qr.prototype)).point=function(e,t){qr.prototype.point.call(this,t,e)},Vr.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},Yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Xr(e),i=Xr(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Kw=function(e){return new Yr(e)};Kr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Qw,Jw=function(e){return new Kr(e,.5)},Zw={basis:{curve:zw},"basis-closed":{curve:$w},"basis-open":{curve:Uw},bundle:{curve:Bw,tension:"beta",value:.85},cardinal:{curve:qw,tension:"tension",value:0},"cardinal-open":{curve:Vw,tension:"tension",value:0},"cardinal-closed":{curve:Ww,tension:"tension",value:0},"catmull-rom":{curve:Hw,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Gw,tension:"alpha",value:.5},"catmull-rom-open":{curve:Yw,tension:"alpha",value:.5},linear:{curve:Nw},"linear-closed":{curve:Xw},monotone:{horizontal:Gr,vertical:Hr},natural:{curve:Kw},step:{curve:Jw},"step-after":{curve:Jr},"step-before":{curve:Qr}},eO={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},tO=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],nO=function(e){var t,n,r,i,a,o,s,l,u,c,f,d=[];for(t=e.slice().replace(tO[0],"###$1").split(tO[1]).slice(1),l=0,c=t.length;l<c;++l){for(n=t[l],r=n.slice(1).trim().replace(tO[2],"$1###$2").split(tO[3]),o=n.charAt(0),i=[o],u=0,f=r.length;u<f;++u)(a=+r[u])===a&&i.push(a);if(s=eO[o.toLowerCase()],i.length-1>s)for(u=1,f=i.length;u<f;u+=s)d.push([o].concat(i.slice(u,u+s)));else d.push(i)}return d},rO={},iO={},aO=[].join,oO=["l",0,0,0,0,0,0,0],sO=function(e,t,n,r,i){var a,o,s,l,u,c=null,f=0,d=0,p=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(a=t[m],1!==i&&(a=ni(a,i)),a[0]){case"l":f+=a[1],d+=a[2],e.lineTo(f+n,d+r);break;case"L":f=a[1],d=a[2],e.lineTo(f+n,d+r);break;case"h":f+=a[1],e.lineTo(f+n,d+r);break;case"H":f=a[1],e.lineTo(f+n,d+r);break;case"v":d+=a[1],e.lineTo(f+n,d+r);break;case"V":d=a[1],e.lineTo(f+n,d+r);break;case"m":f+=a[1],d+=a[2],e.moveTo(f+n,d+r);break;case"M":f=a[1],d=a[2],e.moveTo(f+n,d+r);break;case"c":o=f+a[5],s=d+a[6],p=f+a[3],h=d+a[4],e.bezierCurveTo(f+a[1]+n,d+a[2]+r,p+n,h+r,o+n,s+r),f=o,d=s;break;case"C":f=a[5],d=a[6],p=a[3],h=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,h+r,f+n,d+r);break;case"s":o=f+a[3],s=d+a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,f+a[1]+n,d+a[2]+r,o+n,s+r),p=f+a[1],h=d+a[2],f=o,d=s;break;case"S":o=a[3],s=a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"q":o=f+a[3],s=d+a[4],p=f+a[1],h=d+a[2],e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"Q":o=a[3],s=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"t":o=f+a[1],s=d+a[2],null===c[0].match(/[QqTt]/)?(p=f,h=d):"t"===c[0]?(p=2*f-l,h=2*d-u):"q"===c[0]&&(p=2*f-p,h=2*d-h),l=p,u=h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s,p=f+a[1],h=d+a[2];break;case"T":o=a[1],s=a[2],p=2*f-p,h=2*d-h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"a":ri(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+d+r]),f+=a[6],d+=a[7];break;case"A":ri(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),f=a[6],d=a[7];break;case"z":case"Z":e.closePath()}c=a}},lO=2*Math.PI,uO=Math.sqrt(3)/2,cO={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,lO)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=uO*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=uO*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=uO*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=uO*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}}},fO={},dO=function(){function e(e,s,l){var u,c=null!=s?s:+t.call(this,e),f=null!=l?l:+n.call(this,e),d=+r.call(this,e),p=+i.call(this,e),h=+a.call(this,e);if(o||(o=u=dr()),h<=0)o.rect(c,f,d,p);else{var m=c+d,g=f+p;o.moveTo(c+h,f),o.lineTo(m-h,f),o.quadraticCurveTo(m,f,m,f+h),o.lineTo(m,g-h),o.quadraticCurveTo(m,g,m-h,g),o.lineTo(c+h,g),o.quadraticCurveTo(c,g,c,g-h),o.lineTo(c,f+h),o.quadraticCurveTo(c,f,c+h,f),o.closePath()}if(u)return o=null,u+""||null}var t=oi,n=si,r=li,i=ui,a=ci(0),o=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:ci(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:ci(+t),e):n},e.width=function(t){return arguments.length?(r="function"==typeof t?t:ci(+t),e):r},e.height=function(t){return arguments.length?(i="function"==typeof t?t:ci(+t),e):i},e.cornerRadius=function(t){return arguments.length?(a="function"==typeof t?t:ci(+t),e):a},e.context=function(t){return arguments.length?(o=null==t?null:t,e):o},e},pO=Math.PI,hO=function(){function e(e,t,n){var r=n/2;if(o){var i=l-t,a=e-s;if(i||a){var f=Math.sqrt(i*i+a*a),d=(i/=f)*u,p=(a/=f)*u,h=Math.atan2(a,i);c.moveTo(s-d,l-p),c.lineTo(e-i*r,t-a*r),c.arc(e,t,r,h-pO,h),c.lineTo(s+d,l+p),c.arc(s,l,u,h,h+pO)}else c.arc(e,t,r,0,2*pO);c.closePath()}else o=1;s=e,l=t,u=r}function t(t){var s,l,u,f=t.length,d=!1;for(null==c&&(c=u=dr()),s=0;s<=f;++s)!(s<f&&a(l=t[s],s,t))===d&&(d=!d)&&(o=0),d&&e(+n(l,s,t),+r(l,s,t),+i(l,s,t));if(u)return c=null,u+""||null}var n,r,i,a,o,s,l,u,c=null;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.context=function(e){return arguments.length?(c=null==e?null:e,t):c},t},mO=Aw().cornerRadius(vi).padAngle(bi),gO=Iw().x(fi).y1(di).y0(yi).defined(_i),yO=Iw().y(di).x1(fi).x0(gi).defined(_i),vO=Rw().x(fi).y(di).defined(_i),bO=dO().x(fi).y(di).width(pi).height(mi).cornerRadius(vi),_O=Lw().type(Si).size(xi),xO=hO().x(fi).y(di).defined(_i).size(hi),SO=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e},wO=2*Math.PI,OO=wO/4,kO=wO-1e-8;Ci.beginPath=Di,Ci.closePath=Di,Ci.moveTo=Ai,Ci.lineTo=Ai,Ci.rect=function(e,t,n,r){Ai(e,t),Ai(e+n,t+r)},Ci.quadraticCurveTo=function(e,t,n,r){Ai(e,t),Ai(n,r)},Ci.bezierCurveTo=function(e,t,n,r,i,a){Ai(e,t),Ai(n,r),Ai(i,a)},Ci.arc=function(e,t,n,r,i,a){function o(e){u=n*Math.cos(e),c=n*Math.sin(e),u<f&&(f=u),u>d&&(d=u),c<p&&(p=c),c>h&&(h=c)}if(Math.abs(i-r)>kO)return Ai(e-n,t-n),void Ai(e+n,t+n);var s,l,u,c,f=1/0,d=-(1/0),p=1/0,h=-(1/0);if(o(r),o(i),i!==r)if(r%=wO,r<0&&(r+=wO),i%=wO,i<0&&(i+=wO),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=wO,s=r-r%OO,l=0;l<3&&s>i;++l,s-=OO)o(s);else for(s=r-r%OO+OO,l=0;l<3&&s<i;++l,s+=OO)o(s);Ai(e+f,t+p),Ai(e+d,t+h)};var EO,MO,TO=function(e,t,n){for(var r=n.width(),i=n.height(),a=n.x1+t.x1*r,o=n.y1+t.y1*i,s=n.x1+t.x2*r,l=n.y1+t.y2*i,u=t.stops,c=0,f=u.length,d=e.createLinearGradient(a,o,s,l);c<f;++c)d.addColorStop(u[c].offset,u[c].color);return d},PO=function(e,t,n){return n.id?TO(e,n,t.bounds):n},CO=function(e,t,n){return n*=null==t.fillOpacity?1:t.fillOpacity,n>0&&(e.globalAlpha=n,e.fillStyle=PO(e,t,t.fill),!0)},DO=[],AO=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity,n>0&&(e.globalAlpha=n,e.strokeStyle=PO(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||DO),e.lineDashOffset=t.strokeDashOffset||0),!0))},NO=function(){return!0},RO=function(e,t){return"translate("+e+","+t+")"},IO=function(e){return RO(e.x||0,e.y||0)},FO=function(e,t){function n(e,n){e("transform",IO(n)),e("d",t(null,n))}function r(e,n){return t(Ci(e),n),SO(e,n).translate(n.x||0,n.y||0)}function i(e,n){var r=n.x||0,i=n.y||0;e.translate(r,i),e.beginPath(),t(e,n),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:n,bound:r,draw:Li(i),pick:Bi(i)}},LO=FO("arc",wi),jO=function(e,t){function n(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))}function r(e,n){var r=n.items;return 0===r.length?e:(t(Ci(e),r),SO(e,r[0]))}function i(e,n){e.beginPath(),t(e,n)}function a(e,t,n,r,i,a){var s=t.items,l=t.bounds;return!s||!s.length||l&&!l.contains(i,a)?null:(e.pixelRatio>1&&(n*=e.pixelRatio,r*=e.pixelRatio),o(e,s,n,r)?s[0]:null)}var o=Ui(i);return{type:e,tag:"path",nested:!0,attr:n,bound:r,draw:ji(i),pick:a}},zO=jO("area",Oi),$O=1,UO=function(e,t,n){var r=e._defs,i=t.clip_id||(t.clip_id="clip"+$O++),a=r.clipping[i]||(r.clipping[i]={id:i});return a.width=n.width||0,a.height=n.height||0,"url(#"+i+")"},BO=.5,qO={type:"group",tag:"g",nested:!1,attr:Wi,bound:Gi,draw:Yi,pick:Xi,background:Vi,foreground:Hi},WO={type:"image",tag:"image",nested:!1,attr:ea,bound:ta,draw:na,pick:$i(),get:Qi,xOffset:Ji,yOffset:Zi},VO=jO("line",ki),HO={type:"path",tag:"path",nested:!1,attr:ra,bound:aa,draw:Li(ia),pick:Bi(ia)},GO={type:"rect",tag:"path",nested:!1,attr:oa,bound:sa,draw:Li(la),pick:Bi(la)},YO={type:"rule",tag:"line",nested:!1,attr:ua,bound:ca,draw:da,pick:$i(pa)},XO=FO("shape",Mi),KO=FO("symbol",Ti),QO={height:va,measureWidth:ga,estimateWidth:ha,width:ha,canvas:ba};ba(!0);var JO={left:"start",center:"middle",right:"end"},ZO=new er,ek={type:"text",tag:"text",nested:!1,attr:Oa,bound:ka,draw:Ea,pick:$i(Ma)},tk=jO("trail",Pi),nk={arc:LO,area:zO,group:qO,image:WO,line:VO,path:HO,rect:GO,rule:YO,shape:XO,symbol:KO,text:ek,trail:tk},rk=function(e,t,n){var r=nk[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new er),e,n)},ik={mark:null},ak=function(e,t,n){var r,i,a,o,s=nk[e.marktype],l=s.bound,u=e.items,c=u&&u.length;if(s.nested)return c?a=u[0]:(ik.mark=e,a=ik),o=rk(a,l,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new er,c)for(r=0,i=u.length;r<i;++r)t.union(rk(u[r],l,n));return e.bounds=t},ok=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"],sk=Da.prototype;sk.toJSON=function(e){return Ta(this.root,e||0)},sk.mark=function(e,t,n){t=t||this.root.items[0];var r=Aa(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var lk=Na.prototype;lk.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},lk.element=function(){return this._el},lk.origin=function(e){return this._origin=e||[0,0],this},lk.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},lk.on=function(){},lk.off=function(){},lk.handlers=function(){var e,t=this._handlers,n=[];for(e in t)n.push.apply(n,t[e]);return n},lk.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},lk.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then(function(t){var n=new MouseEvent(e.type,e),r=rr(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)}).catch(function(){})},lk.handleTooltip=function(e,t,n){this._el.setAttribute("title",n||"")};var uk=Ra.prototype;uk.initialize=function(e,t,n,r){return this._el=e,this.resize(t,n,r)},uk.element=function(){return this._el},uk.scene=function(){return this._el&&this._el.firstChild},uk.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},uk.resize=function(e,t,n){return this._width=e,this._height=t,this._origin=n||[0,0],this},uk.dirty=function(){},uk.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},uk._render=function(){},uk.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then(function(){return t}):Promise.resolve(t)},uk._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(e){e&&i(),n._ready=null})}return r},uk.sanitizeURL=function(e){return this._load("sanitizeURL",e)},uk.loadImage=function(e){return this._load("loadImage",e)};var ck=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]},fk=Vb(Ia,Na);fk.initialize=function(e,t,n){var r=this._canvas=e&&ir(e,"canvas");if(r){var i=this;this.events.forEach(function(e){r.addEventListener(e,function(t){fk[e]?fk[e].call(i,t):i.fire(e,t)})})}return Na.prototype.initialize.call(this,e,t,n)},fk.canvas=function(){return this._canvas},fk.context=function(){return this._canvas.getContext("2d")},fk.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],fk.DOMMouseScroll=function(e){this.fire("mousewheel",e)},fk.mousemove=Fa("mousemove","mouseover","mouseout"),fk.dragover=Fa("dragover","dragenter","dragleave"),fk.mouseout=La("mouseout"),fk.dragleave=La("dragleave"),fk.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},fk.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},fk.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},fk.touchmove=function(e){this.fire("touchmove",e,!0)},fk.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},fk.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,o=this._handlers[e];if("click"===e&&a&&a.href?this.handleHref(t,a,a.href):("mouseover"===e||"mouseout"===e)&&a&&a.tooltip&&this.handleTooltip(t,a,"mouseover"===e?a.tooltip:null),o)for(t.vegaType=e,r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,a)},fk.on=function(e,t){var n=this.eventName(e),r=this._handlers;return(r[n]||(r[n]=[])).push({type:e,handler:t}),this},fk.off=function(e,t){var n,r=this.eventName(e),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===e&&(t&&i[n].handler!==t||i.splice(n,1));return this}},fk.pickEvent=function(e){var t=ck(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},fk.pick=function(e,t,n,r,i){var a=this.context(),o=nk[e.marktype];return o.pick.call(this,a,e,t,n,r,i)};var dk=function(e,t){var n=t.group;e.save(),e.beginPath(),e.rect(0,0,n.width||0,n.height||0),e.clip()},pk="undefined"!=typeof window?window.devicePixelRatio||1:1,hk=function(e,t,n,r){var i="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,a=e.getContext("2d"),o=i?pk:1;return e.width=t*o,e.height=n*o,1!==o&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=o,a.setTransform(o,0,0,o,o*r[0],o*r[1]),e},mk=Vb(ja,Ra),gk=Ra.prototype,yk=new er;mk.initialize=function(e,t,n,r){return this._canvas=pw(1,1),e&&(or(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),gk.initialize.call(this,e,t,n,r)},mk.resize=function(e,t,n){return gk.resize.call(this,e,t,n),hk(this._canvas,this._width,this._height,this._origin),this._redraw=!0,this},mk.canvas=function(){return this._canvas},mk.context=function(){return this._canvas?this._canvas.getContext("2d"):null},mk.dirty=function(e){var t=$a(e.bounds,e.mark.group);this._dirty.union(t)},mk._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=za(t,a,n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},mk.draw=function(e,t,n){var r=nk[t.marktype];t.clip&&dk(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},mk.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var vk=Vb(Ua,Na);vk.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mouseover",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&ir(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mouseover",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),Na.prototype.initialize.call(this,e,t,n)},vk.svg=function(){return this._svg},vk.on=function(e,t){var n=this.eventName(e),r=this._handlers,i={type:e,handler:t,listener:Ba(this,t)};return(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener),this},vk.off=function(e,t){var n,r=this.eventName(e),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===e&&!t||a[n].handler===t)&&(this._svg&&i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}};var bk={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},_k={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},xk=Object.keys(_k),Sk=bk.xmlns,wk=Vb(Va,Ra),Ok=Ra.prototype;wk.initialize=function(e,t,n,r){return e&&(this._svg=ar(e,0,"svg",Sk),this._svg.setAttribute("class","marks"),or(e,1),this._root=ar(this._svg,0,"g",Sk),or(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),Ok.initialize.call(this,e,t,n,r)},wk.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Ok.background.apply(this,arguments)},wk.resize=function(e,t,n){return Ok.resize.call(this,e,t,n),this._svg&&(this._svg.setAttribute("width",this._width),this._svg.setAttribute("height",this._height),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},wk.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var t in bk)e[t]=bk[t];return qa("svg",e)+this._svg.innerHTML+Wa("svg")},wk._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),or(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},wk.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=ar(t,0,"defs",Sk)),Ha(r,n.gradient[e],i++);for(e in n.clipping)r||(n.el=r=ar(t,0,"defs",Sk)),Ga(r,n.clipping[e],i++);r&&(0===i?(t.removeChild(r),n.el=null):or(r,i))},wk._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},wk.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},wk.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},wk._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,a,o,s,l=++this._dirtyID;for(a=0,o=e.length;a<o;++a)t=e[a],n=t.mark,n.marktype!==r&&(r=n.marktype,i=nk[r]),n.zdirty&&n.dirty!==l&&(this._dirtyAll=!1,n.dirty=l,Ya(n.group,l)),t.exit?(i.nested&&n.items.length?(s=n.items[0],s._svg&&this._update(i,s._svg,s)):t._svg&&(s=t._svg.parentNode,s&&s.removeChild(t._svg)),t._svg=null):(t=i.nested?n.items[0]:t,t._update!==l&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Ya(t,l)),t._update=l));return!this._dirtyAll},wk.draw=function(e,t,n){function r(e){var t=a.isDirty(e),n=Ka(e,i,u,o.tag);t&&(a._update(o,n,e),l&&Xa(a,n,e)),u=n,++c}if(!this.isDirty(t))return t._svg;var i,a=this,o=nk[t.marktype],s=t.interactive===!1?"none":null,l="g"===o.tag,u=null,c=0;return i=Ka(t,e,n,"g"),i.setAttribute("class",sr(t)),!l&&s&&i.style.setProperty("pointer-events",s),t.clip&&i.setAttribute("clip-path",UO(a,t,t.group)),o.nested?t.items.length&&r(t.items[0]):Ii(t,r),or(i,c),i};var kk=null,Ek=null,Mk={group:function(e,t,n){Ek=t.__values__,kk=t.childNodes[1],e.foreground(Qa,n,this),kk=t.childNodes[0],e.background(Qa,n,this);var r=n.mark.interactive===!1?"none":null;r!==Ek.events&&(kk.style.setProperty("pointer-events",r),Ek.events=r)},text:function(e,t,n){var r=_a(n);r!==Ek.text&&(t.textContent=r,Ek.text=r),r=Sa(n),r!==Ek.font&&(t.style.setProperty("font",r),Ek.font=r)}};wk._update=function(e,t,n){kk=t,Ek=t.__values__,e.attr(Qa,n,this);var r=Mk[e.type];r&&r.call(this,e,t,n),this.style(kk,n)},wk.style=function(e,t){if(null!=t){var n,r,i,a,o;for(n=0,r=xk.length;n<r;++n)i=xk[n],o=t[i],o!==Ek[i]&&(a=_k[i],null==o?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+Ja()+"#"+o.id+")"),e.style.setProperty(a,o+"")),Ek[i]=o)}};var Tk=Vb(Za,Ra),Pk=Ra.prototype;Tk.resize=function(e,t,n){Pk.resize.call(this,e,t,n);var r=this._origin,i=this._text,a={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var o in bk)a[o]=bk[o];return i.head=qa("svg",a),i.root=qa("g",{transform:"translate("+r+")"}),i.foot=Wa("g")+Wa("svg"),this},Tk.svg=function(){var e=this._text;return e.head+e.defs+e.root+e.body+e.foot},Tk._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},Tk.buildDefs=function(){var e,t,n,r,i=this._defs,a="";for(t in i.gradient){for(n=i.gradient[t],r=n.stops,a+=qa("linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<r.length;++e)a+=qa("stop",{offset:r[e].offset,"stop-color":r[e].color})+Wa("stop");a+=Wa("linearGradient")}for(t in i.clipping)n=i.clipping[t],a+=qa("clipPath",{id:t}),a+=qa("rect",{x:0,y:0,width:n.width,height:n.height})+Wa("rect"),a+=Wa("clipPath");return a.length>0?qa("defs")+a+Wa("defs"):""};var Ck;Tk.attributes=function(e,t){return Ck={},e(eo,t,this),Ck},Tk.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},Tk.mark=function(e){function t(t){var l=r.href(t);l&&(s+=qa("a",l)),n="g"!==a?to(t,e,a,o):null,s+=qa(a,r.attributes(i.attr,t),n),"text"===a?s+=no(_a(t)):"g"===a&&(s+=qa("path",r.attributes(i.background,t),to(t,e,"bgrect",o))+Wa("path"),s+=qa("g",r.attributes(i.foreground,t))+r.markGroup(t)+Wa("g")),s+=Wa(a),l&&(s+=Wa("a"))}var n,r=this,i=nk[e.marktype],a=i.tag,o=this._defs,s="";return"g"!==a&&e.interactive===!1&&(n='style="pointer-events: none;"'),s+=qa("g",{class:sr(e),"clip-path":e.clip?UO(r,e,e.group):null},n),i.nested?e.items&&e.items.length&&t(e.items[0]):Ii(e,t),s+Wa("g")},Tk.markGroup=function(e){var t=this,n="";return Ii(e,function(e){n+=t.mark(e)}),n};var Dk="canvas",Ak="png",Nk="svg",Rk="none",Ik={Canvas:Dk,PNG:Ak,SVG:Nk,None:Rk},Fk={};Fk[Dk]=Fk[Ak]={renderer:ja,headless:ja,handler:Ia},Fk[Nk]={renderer:Va,headless:Za,handler:Ua},Fk[Rk]={};var Lk=1e-9,jk=Vb(so,$t),zk=new er;jk.transform=function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=nk[a],s=o.bound,l=i.clip,u=i.bounds;return o.nested?(i.items.length&&r.dirty(i.items[0]),u=lo(i,s),i.items.forEach(function(e){e.bounds.clear().union(u)})):"group"===a||e.modified()?(t.visit(t.MOD,function(e){r.dirty(e)}),u.clear(),i.items.forEach(function(e){u.union(lo(e,s))})):(n=t.changed(t.REM),t.visit(t.ADD,function(e){u.union(lo(e,s))}),t.visit(t.MOD,function(e){n=n||u.alignsWith(e.bounds),r.dirty(e),u.union(lo(e,s))}),n&&!l&&(u.clear(),i.items.forEach(function(e){u.union(e.bounds)}))),l&&u.intersect(zk.set(0,0,i.group.width,i.group.height)),t.modifies("bounds")};var $k=":vega_identifier:";uo.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};var Uk=Vb(uo,$t);Uk.transform=function(e,t){var n=co(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,function(e){e[i]||(e[i]=++r)}),n.set(this.value=r),t};var Bk=Vb(fo,$t);Bk.transform=function(e,t){var n=this.value;
n||(n=t.dataflow.scenegraph().mark(e.markdef,po(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this,this.value=n);var r="group"===n.marktype?nr:tr;return t.visit(t.ADD,function(e){r.call(e,n)}),n.items=t.source,t};var qk=Vb(ho,$t),Wk={parity:function(e){return e.filter(function(e,t){return t%2?e.opacity=0:1})},greedy:function(e){var t;return e.filter(function(e,n){return n&&mo(t.bounds,e.bounds)?e.opacity=0:(t=e,1)})}};qk.transform=function(e,t){var n=Wk[e.method]||Wk.parity,r=t.materialize(t.SOURCE).source,i=r;if(i){if("greedy"===e.method&&(i=r=r.filter(yo)),i.length>=3&&go(i)){t=t.reflow(e.modified()).modifies("opacity");do i=n(i);while(i.length>=3&&go(i));i.length<3&&!e_(r).opacity&&(i.length>1&&(e_(i).opacity=0),e_(r).opacity=1)}return t}};var Vk=Vb(vo,$t);Vk.transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,function(e){n.dirty(e)}),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var Hk="axis",Gk="legend",Yk="row-header",Xk="row-footer",Kk="row-title",Qk="column-header",Jk="column-footer",Zk="column-title",eE="fit",tE="pad",nE="none",rE="padding",iE="top",aE="left",oE="right",sE="bottom",lE="axis",uE="title",cE="frame",fE="legend",dE="scope",pE="row-header",hE="row-footer",mE="column-header",gE="column-footer",yE=.5,vE=new er,bE=Vb(Co,$t);bE.transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(function(t){e.layout&&Mo(n,t,e.layout),Do(n,t,e)}),t};var _E=Object.freeze({bound:so,identifier:uo,mark:fo,overlap:ho,render:vo,viewlayout:Co}),xE="log",SE="pow",wE="sqrt",OE="band",kE="point",EE="linear",ME="ordinal",TE="quantile",PE="quantize",CE="threshold",DE="bin-linear",AE="bin-ordinal",NE="sequential",RE=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},IE=function(e){return function(t){var n,r,i,a,o=e.range(),s=t[0],l=t[1],u=-1;for(l<s&&(r=s,s=l,l=r),i=0,a=o.length;i<a;++i)o[i]>=s&&o[i]<=l&&(u<0&&(u=i),n=i);if(!(u<0))return s=e.invertExtent(o[u]),l=e.invertExtent(o[n]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}},FE=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},LE=Array.prototype,jE=LE.map,zE=LE.slice,$E={name:"implicit"},UE=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},BE=.7,qE=1/BE,WE="\\s*([+-]?\\d+)\\s*",VE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",HE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GE=/^#([0-9a-f]{3})$/,YE=/^#([0-9a-f]{6})$/,XE=new RegExp("^rgb\\("+[WE,WE,WE]+"\\)$"),KE=new RegExp("^rgb\\("+[HE,HE,HE]+"\\)$"),QE=new RegExp("^rgba\\("+[WE,WE,WE,VE]+"\\)$"),JE=new RegExp("^rgba\\("+[HE,HE,HE,VE]+"\\)$"),ZE=new RegExp("^hsl\\("+[VE,HE,HE]+"\\)$"),eM=new RegExp("^hsla\\("+[VE,HE,HE,VE]+"\\)$"),tM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UE(Uo,Bo,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),UE(Go,Ho,$o(Uo,{brighter:function(e){return e=null==e?qE:Math.pow(qE,e),new Go(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?BE:Math.pow(BE,e),new Go(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),UE(Qo,Ko,$o(Uo,{brighter:function(e){return e=null==e?qE:Math.pow(qE,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?BE:Math.pow(BE,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Go(Jo(e>=240?e-240:e+120,i,r),Jo(e,i,r),Jo(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var nM=Math.PI/180,rM=180/Math.PI,iM=18,aM=.95047,oM=1,sM=1.08883,lM=4/29,uM=6/29,cM=3*uM*uM,fM=uM*uM*uM;UE(ts,es,$o(Uo,{brighter:function(e){return new ts(this.l+iM*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ts(this.l-iM*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=oM*rs(e),t=aM*rs(t),n=sM*rs(n),new Go(is(3.2404542*t-1.5371385*e-.4985314*n),is(-.969266*t+1.8760108*e+.041556*n),is(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),UE(ls,ss,$o(Uo,{brighter:function(e){return new ls(this.h,this.c,this.l+iM*(null==e?1:e),this.opacity)},darker:function(e){return new ls(this.h,this.c,this.l-iM*(null==e?1:e),this.opacity)},rgb:function(){return Zo(this).rgb()}}));var dM=-.14861,pM=1.78277,hM=-.29227,mM=-.90649,gM=1.97294,yM=gM*mM,vM=gM*pM,bM=pM*hM-mM*dM;UE(fs,cs,$o(Uo,{brighter:function(e){return e=null==e?qE:Math.pow(qE,e),new fs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?BE:Math.pow(BE,e),new fs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*nM,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Go(255*(t+n*(dM*r+pM*i)),255*(t+n*(hM*r+mM*i)),255*(t+n*(gM*r)),this.opacity)}}));var _M,xM,SM,wM,OM,kM=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return ds((n-r/t)*t,o,i,a,s)}},EM=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return ds((n-r/t)*t,i,a,o,s)}},MM=function(e){return function(){return e}},TM=function e(t){function n(e,t){var n=r((e=Ho(e)).r,(t=Ho(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=ys(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}var r=gs(t);return n.gamma=e,n}(1),PM=vs(kM),CM=vs(EM),DM=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(r),o=new Array(r);for(n=0;n<i;++n)a[n]=jM(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}},AM=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}},NM=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},RM=function(e,t){var n,r={},i={};null!==e&&"object"===("undefined"==typeof e?"undefined":s(e))||(e={}),null!==t&&"object"===("undefined"==typeof t?"undefined":s(t))||(t={});for(n in t)n in e?r[n]=jM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},IM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FM=new RegExp(IM.source,"g"),LM=function(e,t){var n,r,i,a=IM.lastIndex=FM.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=IM.exec(e))&&(r=FM.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:NM(n,r)})),a=FM.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?_s(l[0].x):bs(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},jM=function(e,t){var n,r="undefined"==typeof t?"undefined":s(t);return null==t||"boolean"===r?MM(t):("number"===r?NM:"string"===r?(n=Bo(t))?(t=n,TM):LM:t instanceof Bo?TM:t instanceof Date?AM:Array.isArray(t)?DM:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?RM:NM)(e,t)},zM=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},$M=180/Math.PI,UM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},BM=function(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*$M,skewX:Math.atan(l)*$M,scaleX:o,scaleY:s}},qM=ws(xs,"px, ","px)","deg)"),WM=ws(Ss,", ",")",")"),VM=Math.SQRT2,HM=2,GM=4,YM=1e-12,XM=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-a,d=c*c+f*f;if(d<YM)r=Math.log(u/o)/VM,n=function(e){return[i+e*c,a+e*f,o*Math.exp(VM*e*r)]};else{var p=Math.sqrt(d),h=(u*u-o*o+GM*d)/(2*o*HM*p),m=(u*u-o*o-GM*d)/(2*u*HM*p),g=Math.log(Math.sqrt(h*h+1)-h),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-g)/VM,n=function(e){var t=e*r,n=Os(g),s=o/(HM*p)*(n*Es(VM*t+g)-ks(g));return[i+s*c,a+s*f,o*n/Os(VM*t+g)]}}return n.duration=1e3*r,n},KM=Ms(ms),QM=Ms(ys),JM=Ps(ms),ZM=Ps(ys),eT=Cs(ms),tT=Cs(ys),nT=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},rT=Object.freeze({interpolate:jM,interpolateArray:DM,interpolateBasis:kM,interpolateBasisClosed:EM,interpolateDate:AM,interpolateNumber:NM,interpolateObject:RM,interpolateRound:zM,interpolateString:LM,interpolateTransformCss:qM,interpolateTransformSvg:WM,interpolateZoom:XM,interpolateRgb:TM,interpolateRgbBasis:PM,interpolateRgbBasisClosed:CM,interpolateHsl:KM,interpolateHslLong:QM,interpolateLab:Ts,interpolateHcl:JM,interpolateHclLong:ZM,interpolateCubehelix:eT,interpolateCubehelixLong:tT,quantize:nT}),iT=function(e){return function(){return e}},aT=function(e){return+e},oT=[0,1],sT=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},lT=function(e){return e=sT(Math.abs(e)),e?e[1]:NaN},uT=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}},cT=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},fT=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},dT=function(e,t){var n=sT(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(OM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sT(e,Math.max(0,t+a-1))[0]},pT=function(e,t){var n=sT(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},hT={"":fT,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return pT(100*e,t)},r:pT,s:dT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},mT=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;js.prototype=zs.prototype,zs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var gT,yT,vT,bT=function(e){return e},_T=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],xT=function(e){function t(e){function t(e){var t,i,s,c=g,_=y;if("c"===m)_=v(e)+_,e="";else{e=+e;var x=e<0;if(e=v(Math.abs(e),h),x&&0===+e&&(x=!1),c=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+c,_=_+("s"===m?_T[8+OM/3]:"")+(x&&"("===u?")":""),b)for(t=-1,i=e.length;++t<i;)if(s=e.charCodeAt(t),48>s||s>57){_=(46===s?a+e.slice(t+1):e.slice(t))+_,e=e.slice(0,t);break}}p&&!f&&(e=r(e,1/0));var S=c.length+e.length+_.length,w=S<d?new Array(d-S+1).join(n):"";switch(p&&f&&(e=r(w+e,w.length?d-_.length:1/0),w=""),l){case"<":e=c+e+_+w;break;case"=":e=c+w+e+_;break;case"^":e=w.slice(0,S=w.length>>1)+c+e+_+w.slice(S);break;default:e=w+c+e+_}return o(e)}e=js(e);var n=e.fill,l=e.align,u=e.sign,c=e.symbol,f=e.zero,d=e.width,p=e.comma,h=e.precision,m=e.type,g="$"===c?i[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===c?i[1]:/[%p]/.test(m)?s:"",v=hT[m],b=!m||/[defgprs%]/.test(m);return h=null==h?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),t.toString=function(){return e+""},t}function n(e,n){var r=t((e=js(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(lT(n)/3))),a=Math.pow(10,-i),o=_T[8+i/3];return function(e){return r(a*e)+o}}var r=e.grouping&&e.thousands?uT(e.grouping,e.thousands):bT,i=e.currency,a=e.decimal,o=e.numerals?cT(e.numerals):bT,s=e.percent||"%";return{format:t,formatPrefix:n}};$s({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ST=function(e){return Math.max(0,-lT(Math.abs(e)))},wT=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(lT(t)/3)))-lT(Math.abs(e)))},OT=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lT(t)-lT(e))+1},kT=function(e,t,n){var r,i=e[0],a=e[e.length-1],o=en(i,a,null==t?10:t);switch(n=js(null==n?",f":n),n.type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=wT(o,s))||(n.precision=r),vT(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=OT(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=ST(o))||(n.precision=r-2*("%"===n.type))}return yT(n)},ET=function(e,t){e=e.slice();var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e},MT=1e3,TT=60*MT,PT=60*TT,CT=24*PT,DT=7*CT,AT=30*CT,NT=365*CT,RT=function(){return al(ax,ix,nx,tx,ex,Z_,J_,H_,hx).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},IT=function(){return al(dx,fx,ux,lx,sx,ox,J_,H_,gx).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},FT=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},LT=FT("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),jT=FT("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),zT=FT("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),$T=FT("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");tT(cs(300,.5,0),cs(-240,.5,1));var UT=(tT(cs(-100,.75,.35),cs(80,1.5,.8)),tT(cs(260,.75,.35),cs(80,1.5,.8)),cs(),ol(FT("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"))),BT=ol(FT("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qT=ol(FT("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),WT=ol(FT("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),VT=Array.prototype.map,HT=Array.prototype.slice,GT={identity:qs,linear:Bs,log:Ks,ordinal:zo,pow:Js,sqrt:Zs,quantile:el,quantize:tl,threshold:nl,time:RT,utc:IT,band:sl,point:ul,sequential:pl,"bin-linear":fl,"bin-ordinal":dl};for(var YT in GT)ml(YT,GT[YT]);var XT=gl("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),KT=gl("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),QT=new Array(3).concat("67a9cff7f7f7f1a340","0571b092c5defdb863e66101","0571b092c5def7f7f7fdb863e66101","2166ac67a9cfd1e5f0fee0b6f1a340b35806","2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806","2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806","2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806","0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08","0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(gl),JT=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n},ZT=JT("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),eP=JT("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),tP=JT("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),nP=JT("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),rP=JT("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),iP=JT("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),aP=JT("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),oP=JT("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),sP=function(e){return PM(e[e.length-1])},lP=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(JT),uP=sP(lP),cP=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(JT),fP=sP(cP),dP=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(JT),pP=sP(dP),hP=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(JT),mP=sP(hP),gP=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(JT),yP=sP(gP),vP=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(JT),bP=sP(vP),_P=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(JT),xP=sP(_P),SP=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(JT),wP=sP(SP),OP=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(JT),kP=sP(OP),EP=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(JT),MP=sP(EP),TP=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(JT),PP=sP(TP),CP=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(JT),DP=sP(CP),AP=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(JT),NP=sP(AP),RP=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(JT),IP=sP(RP),FP=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(JT),LP=sP(FP),jP=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(JT),zP=sP(jP),$P=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(JT),UP=sP($P),BP=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(JT),qP=sP(BP),WP=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(JT),VP=sP(WP),HP=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(JT),GP=sP(HP),YP=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(JT),XP=sP(YP),KP=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(JT),QP=sP(KP),JP=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(JT),ZP=sP(JP),eC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(JT),tC=sP(eC),nC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(JT),rC=sP(nC),iC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(JT),aC=sP(iC),oC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(JT),sC=sP(oC),lC=Object.freeze({
schemeAccent:ZT,schemeDark2:eP,schemePaired:tP,schemePastel1:nP,schemePastel2:rP,schemeSet1:iP,schemeSet2:aP,schemeSet3:oP,interpolateBrBG:uP,schemeBrBG:lP,interpolatePRGn:fP,schemePRGn:cP,interpolatePiYG:pP,schemePiYG:dP,interpolatePuOr:mP,schemePuOr:hP,interpolateRdBu:yP,schemeRdBu:gP,interpolateRdGy:bP,schemeRdGy:vP,interpolateRdYlBu:xP,schemeRdYlBu:_P,interpolateRdYlGn:wP,schemeRdYlGn:SP,interpolateSpectral:kP,schemeSpectral:OP,interpolateBuGn:MP,schemeBuGn:EP,interpolateBuPu:PP,schemeBuPu:TP,interpolateGnBu:DP,schemeGnBu:CP,interpolateOrRd:NP,schemeOrRd:AP,interpolatePuBuGn:IP,schemePuBuGn:RP,interpolatePuBu:LP,schemePuBu:FP,interpolatePuRd:zP,schemePuRd:jP,interpolateRdPu:UP,schemeRdPu:$P,interpolateYlGnBu:qP,schemeYlGnBu:BP,interpolateYlGn:VP,schemeYlGn:WP,interpolateYlOrBr:GP,schemeYlOrBr:HP,interpolateYlOrRd:XP,schemeYlOrRd:YP,interpolateBlues:QP,schemeBlues:KP,interpolateGreens:ZP,schemeGreens:JP,interpolateGreys:tC,schemeGreys:eC,interpolatePurples:rC,schemePurples:nC,interpolateReds:aC,schemeReds:iC,interpolateOranges:sC,schemeOranges:oC}),uC={blueorange:QT},cC={category10:LT,category20:$T,category20b:jT,category20c:zT,accent:ZT,dark2:eP,paired:tP,pastel1:nP,pastel2:rP,set1:iP,set2:aP,set3:oP,tableau10:XT,tableau20:KT,viridis:UT,magma:BT,inferno:qT,plasma:WT,blueorange:PM(e_(QT))};yl("blues","Blues"),yl("greens","Greens"),yl("greys","Greys"),yl("purples","Purples"),yl("reds","Reds"),yl("oranges","Oranges"),yl("brownbluegreen","BrBG"),yl("purplegreen","PRGn"),yl("pinkyellowgreen","PiYG"),yl("purpleorange","PuOr"),yl("redblue","RdBu"),yl("redgrey","RdGy"),yl("redyellowblue","RdYlBu"),yl("redyellowgreen","RdYlGn"),yl("spectral","Spectral"),yl("bluegreen","BuGn"),yl("bluepurple","BuPu"),yl("greenblue","GnBu"),yl("orangered","OrRd"),yl("purplebluegreen","PuBuGn"),yl("purpleblue","PuBu"),yl("purplered","PuRd"),yl("redpurple","RdPu"),yl("yellowgreenblue","YlGnBu"),yl("yellowgreen","YlGn"),yl("yelloworangebrown","YlOrBr"),yl("yelloworangered","YlOrRd");var fC=function(e,t){if(arguments.length>1)return cC[e]=t,this;var n=e.split("-");return e=n[0],n=+n[1]+1,n&&uC.hasOwnProperty(e)?uC[e][n-1]:!n&&cC.hasOwnProperty(e)?cC[e]:void 0},dC={millisecond:H_,second:J_,minute:Z_,hour:ex,day:tx,week:nx,month:ix,year:ax},pC={millisecond:H_,second:J_,minute:ox,hour:sx,day:lx,week:ux,month:fx,year:dx},hC=Vb(Nl,$t);hC.transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,a=e.values?e.values.length:kl(i,e.count),o=e.format||Tl(i,a,e.formatSpecifier),s=e.values?El(i,e.values):Ml(i,a);return r&&(n.rem=r),r=s.map(function(e){return p({value:e,label:o(e)})}),e.extra&&r.push(p({extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n};var mC=Vb(Rl,$t);mC.transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Il,a=e.key||f,o=this.value;return bb(r.encode)&&(r.encode=null),o||(t=t.addAll(),this.value=o=Wb().test(Fl),o.lookup=function(e){return o.get(a(e))}),(e.modified("key")||t.modified(a))&&yb("DataJoin does not support modified key function or fields."),t.visit(t.ADD,function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(o.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))}),t.visit(t.REM,function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&o.empty>n.cleanThreshold&&n.runAfter(o.clean),r};var gC=Vb(Ll,$t);gC.transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.encoders,i=t.encode;if(bb(i)){if(!n.changed()&&!i.every(function(e){return r[e]}))return t.StopPropagation;i=i[0]}var a="enter"===i,o=r.update||Pb,s=r.enter||Pb,l=r.exit||Pb,u=(i&&!a?r[i]:o)||Pb;if(t.changed(t.ADD)&&(t.visit(t.ADD,function(t){s(t,e),o(t,e),u!==Pb&&u!==o&&u(t,e)}),n.modifies(s.output),n.modifies(o.output),u!==Pb&&u!==o&&n.modifies(u.output)),t.changed(t.REM)&&l!==Pb&&(t.visit(t.REM,function(t){l(t,e)}),n.modifies(l.output)),a||u!==Pb){var c=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(c,function(t){var r=s(t,e);(u(t,e)||r)&&n.mod.push(t)}),n.mod.length&&n.modifies(s.output)):t.visit(c,function(t){u(t,e)&&n.mod.push(t)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation};var yC={};yC[TE]=$l,yC[PE]=zl,yC[CE]=Ul,yC[DE]=Bl,yC[AE]=Bl;var vC=Vb(Gl,$t);vC.transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=0,i=this.value,a="gradient"===e.type,o=e.scale,s=null==e.count?5:kl(o,e.count),l=e.format||Tl(o,s,e.formatSpecifier),u=e.values||jl(o,s,a);if(l=ql(o,l),i&&(n.rem=i),a)var c=e.values?o.domain():u,f=bl(o,c[0],e_(c));else{var d,h=e.size;Lb(h)?(e.values||0!==o(u[0])||(u=u.slice(1)),d=u.reduce(function(t,n){return Math.max(t,h(n,e))},0)):h=zb(d=h||8)}return i=u.map(function(t,n){var i=p({index:n,label:l(t,n,u),value:t});return a?i.perc=f(t):(i.offset=d,i.size=h(t,e),i.total=Math.round(r),r+=i.size),i}),n.source=i,n.add=i,this.value=i,n};var bC=Wb({line:Zl,"line-radial":eu,arc:tu,"arc-radial":nu,curve:ru,"curve-radial":iu,"orthogonal-horizontal":au,"orthogonal-vertical":ou,"orthogonal-radial":su,"diagonal-horizontal":lu,"diagonal-vertical":uu,"diagonal-radial":cu});Jl.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"as",type:"string",default:"path"}]};var _C=Vb(Jl,$t);_C.transform=function(e,t){var n=e.sourceX||Yl,r=e.sourceY||Xl,i=e.targetX||Kl,a=e.targetY||Ql,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=bC.get(l+"-"+s)||bC.get(l);return u||yb("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,function(e){e[o]=u(n(e),r(e),i(e),a(e))}),t.reflow(e.modified()).modifies(o)},fu.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};var xC=Vb(fu,$t);xC.transform=function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],s=a[1],l=e.field||Mb,u=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(l),p=d.length,h=u,m=(c-u)/mS(d),g=nS(p);for(e.sort&&g.sort(function(e,t){return d[e]-d[t]}),n=0;n<p;++n)i=d[g[n]],r=f[g[n]],r[o]=h,r[s]=h+=i*m;return this.value=d,t.reflow(e.modified()).modifies(a)};var SC=5,wC=a_([EE,SE,wE]),OC=a_(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","nice","zero","range","rangeStep","round","reverse","interpolate","interpolateGamma"]),kC=Vb(du,$t);kC.transform=function(e,t){var n,r=t.dataflow,i=this.value;i&&!e.modified("type")||(this.value=i=ml((e.type||EE).toLowerCase())());for(n in e)OC[n]||(Lb(i[n])?i[n](e[n]):r.warn("Unsupported scale property: "+n));return mu(i,e,pu(i,e,r)),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var EC=Vb(xu,$t);EC.transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(e.sort),this.modified(n),t};var MC="center",TC="normalize";Su.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:["y0","y1"]}]};var PC=Vb(Su,$t);PC.transform=function(e,t){var n,r,i,a,o=e.as||["y0","y1"],s=o[0],l=o[1],u=e.field||Mb,c=e.offset===MC?wu:e.offset===TC?Ou:ku;for(n=Eu(t.source,e.groupby,e.sort,u),r=0,i=n.length,a=n.max;r<i;++r)c(n[r],a,u,s,l);return t.reflow(e.modified()).modifies(o)};var CC=Object.freeze({axisticks:Nl,datajoin:Rl,encode:Ll,legendentries:Gl,linkpath:Jl,pie:fu,scale:du,sortitems:xu,stack:Su}),DC=Array.prototype,AC=DC.slice,NC=function(e,t){return e-t},RC=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},IC=function(e){return function(){return e}},FC=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=Mu(e,t[r]))return n;return 0},LC=function(){},jC=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,.5],[.5,1]],[[1,1.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,1.5]],[[1.5,1],[1,.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],zC=function e(){function e(e){var n=o(e);if(Array.isArray(n))n=n.slice().sort(NC);else{var r=tS(e),i=r[0],a=r[1];n=en(i,a,n),n=nS(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}var l=n.map(function(n){var r=[],i=[];return t(e,n,function(t){s(t,e,n),RC(t)>0?r.push([t]):i.push(t)}),i.forEach(function(e){for(var t,n=0,i=r.length;n<i;++n)if(FC((t=r[n])[0],e)!==-1)return void t.push(e)}),r});return l.map(function(e,t){return{type:"MultiPolygon",value:n[t],coordinates:e}})}function t(e,t,r){function o(e){var t,i,a=[e[0][0]+s,e[0][1]+l],o=[e[1][0]+s,e[1][1]+l],u=n(a),c=n(o);(t=h[u])?(i=p[c])?(delete h[t.end],delete p[i.start],t===i?(t.ring.push(o),r(t.ring)):p[t.start]=h[i.end]={start:t.start,end:i.end,ring:t.ring.concat(i.ring)}):(delete h[t.end],t.ring.push(o),h[t.end=c]=t):(t=p[c])?(i=h[u])?(delete p[t.start],delete h[i.end],t===i?(t.ring.push(o),r(t.ring)):p[i.start]=h[t.end]={start:i.start,end:t.end,ring:i.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(a),p[t.start=u]=t):p[u]=h[c]={start:u,end:c,ring:[a,o]}}var s,l,u,c,f,d,p=new Array,h=new Array;for(s=l=-1,c=e[0]>=t,jC[c<<1].forEach(o);++s<i-1;)u=c,c=e[s+1]>=t,jC[u|c<<1].forEach(o);for(jC[c<<0].forEach(o);++l<a-1;){for(s=-1,c=e[l*i+i]>=t,f=e[l*i]>=t,jC[c<<1|f<<2].forEach(o);++s<i-1;)u=c,c=e[l*i+i+s+1]>=t,d=f,f=e[l*i+s+1]>=t,jC[u|c<<1|f<<2|d<<3].forEach(o);jC[c|f<<3].forEach(o)}for(s=-1,f=e[l*i]>=t,jC[f<<2].forEach(o);++s<i-1;)d=f,f=e[l*i+s+1]>=t,jC[f<<2|d<<3].forEach(o);jC[f<<3].forEach(o)}function n(e){return 2*e[0]+e[1]*(i+1)*4}function r(e,t,n){e.forEach(function(e){var r,o=e[0],s=e[1],l=0|o,u=0|s,c=t[u*i+l];o>0&&o<i&&l===o&&(r=t[u*i+l-1],e[0]=o+(n-r)/(c-r)-.5),s>0&&s<a&&u===s&&(r=t[(u-1)*i+l],e[1]=s+(n-r)/(c-r)-.5)})}var i=1,a=1,o=sS,s=r;return e.size=function(t){if(!arguments.length)return[i,a];var n=Math.ceil(t[0]),r=Math.ceil(t[1]);if(!(n>0&&r>0))throw new Error("invalid size");return i=n,a=r,e},e.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:IC(Array.isArray(t)?AC.call(t):t),e):o},e.smooth=function(t){return arguments.length?(s=t?r:LC,e):s===r},e},$C=function(){function e(e){var n=new Float32Array(p*h),r=new Float32Array(p*h);e.forEach(function(e,t,r){var i=o(e,t,r)+d>>f,a=s(e,t,r)+d>>f;i>=0&&i<p&&a>=0&&a<h&&++n[i+a*p]}),Du({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),Au({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f),Du({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),Au({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f),Du({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),Au({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f);var i=m(n);if(!Array.isArray(i)){var a=uS(n);i=en(0,a,i),i=nS(0,Math.floor(a/i)*i,i),i.shift()}return zC().thresholds(i).size([p,h])(n).map(t)}function t(e){return e.value*=Math.pow(2,-2*f),e.coordinates.forEach(n),e}function n(e){e.forEach(r)}function r(e){e.forEach(i)}function i(e){e[0]=e[0]*Math.pow(2,f)-d,e[1]=e[1]*Math.pow(2,f)-d}function a(){return d=3*c,p=l+2*d>>f,h=u+2*d>>f,e}var o=Nu,s=Ru,l=960,u=500,c=20,f=2,d=3*c,p=l+2*d>>f,h=u+2*d>>f,m=IC(20);return e.x=function(t){return arguments.length?(o="function"==typeof t?t:IC(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:IC(+t),e):s},e.size=function(e){if(!arguments.length)return[l,u];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return l=t,u=n,a()},e.cellSize=function(e){if(!arguments.length)return 1<<f;if(!((e=+e)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(e)/Math.LN2),a()},e.thresholds=function(t){return arguments.length?(m="function"==typeof t?t:IC(Array.isArray(t)?AC.call(t):t),e):m},e.bandwidth=function(e){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*e*e+1)-1)/2),a()},e},UC=["values","size"],BC=["x","y","size","cellSize","bandwidth"];Iu.Definition={type:"Contour",metadata:{generates:!0,source:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"number",default:!1},{name:"thresholds",type:"number",array:!0}]};var qC=Vb(Iu,$t);qC.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.count||10;return e.values?(n=zC(),r=UC,i=e.values):(n=$C(),r=BC,i=t.materialize(t.SOURCE).source),n.thresholds(e.thresholds||(e.nice?o:Fu(o))),r.forEach(function(t){null!=e[t]&&n[t](e[t])}),this.value&&(a.rem=this.value),this.value=a.source=a.add=n(i).map(p),a};var WC="Feature",VC="FeatureCollection",HC="MultiPoint";Lu.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};var GC=Vb(Lu,$t);GC.transform=function(e,t){var n,i=this._features,a=this._points,o=e.fields,s=o&&o[0],l=o&&o[1],u=e.geojson,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(r(u))||s&&t.modified(r(s))||l&&t.modified(r(l)),this.value&&!n||(c=t.SOURCE,this._features=i=[],this._points=a=[]),u&&t.visit(c,function(e){i.push(u(e))}),s&&l&&(t.visit(c,function(e){var t=s(e),n=l(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])}),i=i.concat({type:WC,geometry:{type:HC,coordinates:a}})),this.value={type:VC,features:i}};var YC=function(){return new ju};ju.prototype={constructor:ju,reset:function(){this.s=this.t=0},add:function(e){zu(XC,e,this.t),zu(this,XC.s,this.s),this.s?this.t+=XC.t:this.s=XC.t},valueOf:function(){return this.s}};var XC=new ju,KC=1e-6,QC=Math.PI,JC=QC/2,ZC=QC/4,eD=2*QC,tD=180/QC,nD=QC/180,rD=Math.abs,iD=Math.atan,aD=Math.atan2,oD=Math.cos,sD=Math.ceil,lD=Math.exp,uD=Math.log,cD=Math.pow,fD=Math.sin,dD=Math.sign||function(e){return e>0?1:e<0?-1:0},pD=Math.sqrt,hD=Math.tan,mD={Feature:function(e,t){qu(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)qu(n[r].geometry,t)}},gD={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Wu(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Wu(n[r],t,0)},Polygon:function(e,t){Vu(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Vu(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)qu(n[r],t)}},yD=function(e,t){e&&mD.hasOwnProperty(e.type)?mD[e.type](e,t):qu(e,t)},vD=(YC(),YC(),YC(),function e(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e});Zu.invert=Zu;var bD,_D,xD,SD,wD,OD,kD,ED,MD,TD,PD,CD=function(e){function t(t){return t=e(t[0]*nD,t[1]*nD),t[0]*=tD,t[1]*=tD,t}return e=ec(e[0]*nD,e[1]*nD,e.length>2?e[2]*nD:0),t.invert=function(t){return t=e.invert(t[0]*nD,t[1]*nD),t[0]*=tD,t[1]*=tD,t},t},DD=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Bu,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function n(){var n=t;return t=[],e=null,n}}},AD=function(e,t,n,r,i,a){var o,s=e[0],l=e[1],u=t[0],c=t[1],f=0,d=1,p=u-s,h=c-l;if(o=n-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>f&&(f=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<d&&(d=o)}return f>0&&(e[0]=s+f*p,e[1]=l+f*h),d<1&&(t[0]=s+d*p,t[1]=l+d*h),!0}}}}},ND=function(e,t){return rD(e[0]-t[0])<KC&&rD(e[1]-t[1])<KC},RD=function(e,t,n,r,i){var a,o,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(ND(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s.push(n=new oc(r,e,null,(!0))),l.push(n.o=new oc(r,null,n,(!1))),s.push(n=new oc(o,e,null,(!1))),l.push(n.o=new oc(o,null,n,(!0)))}}),s.length){for(l.sort(t),sc(s),sc(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,f=s[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(a=0,o=u.length;a<o;++a)i.point((c=u[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((c=u[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,p=!p}while(!d.v);i.lineEnd()}}},ID=1e9,FD=-ID,LD=YC(),jD=function(e,t){var n=t[0],r=t[1],i=[fD(n),-oD(n),0],a=0,o=0;LD.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,f=u[c-1],d=f[0],p=f[1]/2+ZC,h=fD(p),m=oD(p),g=0;g<c;++g,d=v,h=_,m=x,f=y){var y=u[g],v=y[0],b=y[1]/2+ZC,_=fD(b),x=oD(b),S=v-d,w=S>=0?1:-1,O=w*S,k=O>QC,E=h*_;if(LD.add(aD(E*w*fD(O),m*x+E*oD(O))),a+=k?S+w*eD:S,k^d>=n^v>=n){var M=Xu(Gu(f),Gu(y));Ju(M);var T=Xu(i,M);Ju(T);var P=(k^S>=0?-1:1)*Uu(T[2]);(r>P||r===P&&(M[0]||M[1]))&&(o+=k^S>=0?1:-1)}}return(a<-KC||a<KC&&LD<-KC)^1&o},zD=YC(),$D={sphere:Bu,point:Bu,lineStart:uc,lineEnd:Bu,polygonStart:Bu,polygonEnd:Bu},UD=function(e){return zD.reset(),yD(e,$D),+zD},BD=[null,null],qD={type:"LineString",coordinates:BD},WD=function(e){return e},VD=YC(),HD=YC(),GD={point:Bu,lineStart:Bu,lineEnd:Bu,polygonStart:function(){GD.lineStart=gc,GD.lineEnd=bc},polygonEnd:function(){GD.lineStart=GD.lineEnd=GD.point=Bu,VD.add(rD(HD)),HD.reset()},result:function(){var e=VD/2;return VD.reset(),e}},YD=1/0,XD=YD,KD=-YD,QD=KD,JD={point:_c,lineStart:Bu,lineEnd:Bu,polygonStart:Bu,polygonEnd:Bu,result:function(){var e=[[YD,XD],[KD,QD]];return KD=QD=-(XD=YD=1/0),e}},ZD=0,eA=0,tA=0,nA=0,rA=0,iA=0,aA=0,oA=0,sA=0,lA={point:xc,lineStart:Sc,lineEnd:kc,polygonStart:function(){lA.lineStart=Ec,lA.lineEnd=Mc},polygonEnd:function(){lA.point=xc,lA.lineStart=Sc,lA.lineEnd=kc},result:function(){var e=sA?[aA/sA,oA/sA]:iA?[nA/iA,rA/iA]:tA?[ZD/tA,eA/tA]:[NaN,NaN];return ZD=eA=tA=nA=rA=iA=aA=oA=sA=0,e}};Cc.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,eD)}},result:Bu};var uA,cA,fA,dA,pA,hA=YC(),mA={point:Bu,lineStart:function(){mA.point=Dc},lineEnd:function(){uA&&Ac(cA,fA),mA.point=Bu},polygonStart:function(){uA=!0},polygonEnd:function(){uA=null},result:function(){var e=+hA;return hA.reset(),e}};Nc.prototype={_radius:4.5,_circle:Rc(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Rc(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function e(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var gA=function(e,t){function n(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),yD(e,r(i))),i.result()}var r,i,a=4.5;return n.area=function(e){return yD(e,r(GD)),GD.result()},n.measure=function(e){return yD(e,r(mA)),mA.result()},n.bounds=function(e){return yD(e,r(JD)),JD.result()},n.centroid=function(e){return yD(e,r(lA)),lA.result()},n.projection=function(t){return arguments.length?(r=null==t?(e=null,WD):(e=t).stream,n):e},n.context=function(e){return arguments.length?(i=null==e?(t=null,new Nc):new Cc(t=e),"function"!=typeof a&&i.pointRadius(a),n):t},n.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),n):a},n.projection(e).context(t)},yA=function(e,t,n,r){return function(i,a){function o(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function s(e,t){var n=i(e,t);g.point(n[0],n[1])}function l(){x.point=s,g.lineStart()}function u(){x.point=o,g.lineEnd()}function c(e,t){m.push([e,t]);var n=i(e,t);b.point(n[0],n[1])}function f(){b.lineStart(),m=[]}function d(){c(m[0][0],m[0][1]),b.lineEnd();var e,t,n,r,i=b.clean(),o=v.result(),s=o.length;if(m.pop(),p.push(m),m=null,s)if(1&i){if(n=o[0],(t=n.length-1)>0){for(_||(a.polygonStart(),_=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else s>1&&2&i&&o.push(o.pop().concat(o.shift())),h.push(o.filter(Ic))}var p,h,m,g=t(a),y=i.invert(r[0],r[1]),v=DD(),b=t(v),_=!1,x={point:o,lineStart:l,lineEnd:u,polygonStart:function(){x.point=c,x.lineStart=f,x.lineEnd=d,h=[],p=[]},polygonEnd:function(){x.point=o,x.lineStart=l,x.lineEnd=u,h=dS(h);var e=jD(p,y);h.length?(_||(a.polygonStart(),_=!0),RD(h,Fc,e,n,a)):e&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),h=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};return x}},vA=yA(function(){return!0},Lc,zc,[-QC,-JC]),bA=function(e,t){function n(n,r,i,a){ic(a,e,t,i,n,r)}function r(e,t){return oD(e)*oD(t)>s}function i(e){var t,n,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(f,d){var p,h=[f,d],m=r(f,d),g=l?m?0:o(f,d):m?o(f+(f<0?QC:-QC),d):0;if(!t&&(s=i=m)&&e.lineStart(),m!==i&&(p=a(t,h),(!p||ND(t,p)||ND(h,p))&&(h[0]+=KC,h[1]+=KC,m=r(h[0],h[1]))),m!==i)c=0,m?(e.lineStart(),p=a(h,t),e.point(p[0],p[1])):(p=a(t,h),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(u&&t&&l^m){var y;g&n||!(y=a(h,t,!0))||(c=0,l?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!m||t&&ND(t,h)||e.point(h[0],h[1]),t=h,i=m,n=g},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return c|(s&&i)<<1}}}function a(e,t,n){var r=Gu(e),i=Gu(t),a=[1,0,0],o=Xu(r,i),l=Yu(o,o),u=o[0],c=l-u*u;if(!c)return!n&&e;var f=s*l/c,d=-s*u/c,p=Xu(a,o),h=Qu(a,f),m=Qu(o,d);Ku(h,m);var g=p,y=Yu(h,g),v=Yu(g,g),b=y*y-v*(Yu(h,h)-1);if(!(b<0)){var _=pD(b),x=Qu(g,(-y-_)/v);if(Ku(x,h),x=Hu(x),!n)return x;var S,w=e[0],O=t[0],k=e[1],E=t[1];O<w&&(S=w,w=O,O=S);var M=O-w,T=rD(M-QC)<KC,P=T||M<KC;if(!T&&E<k&&(S=k,k=E,E=S),P?T?k+E>0^x[1]<(rD(x[0]-w)<KC?k:E):k<=x[1]&&x[1]<=E:M>QC^(w<=x[0]&&x[0]<=O)){var C=Qu(g,(-y+_)/v);return Ku(C,h),[x,Hu(C)]}}}function o(t,n){var r=l?e:QC-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var s=oD(e),l=s>0,u=rD(s)>KC;return yA(r,i,n,l?[0,-e]:[-QC,e-QC])};Uc.prototype={constructor:Uc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var _A=16,xA=oD(30*nD),SA=function(e,t){return+t?Vc(e,t):Wc(e)},wA=$c({point:function(e,t){this.stream.point(e*nD,t*nD)}}),OA=function(){return Yc(Kc).scale(155.424).center([0,33.6442])},kA=function(){return OA().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},EA=function(){function e(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)||(o.point(t,n),s)}function t(){return n=r=null,e}var n,r,i,a,o,s,l=kA(),u=OA().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=OA().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){s=[e,t]}};return e.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:l).invert(e)},e.stream=function(e){return n&&r===e?n:n=Qc([l.stream(r=e),u.stream(e),c.stream(e)])},e.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),c.precision(e),t()):l.precision()},e.scale=function(t){return arguments.length?(l.scale(t),u.scale(.35*t),c.scale(t),e.translate(l.translate())):l.scale()},e.translate=function(e){if(!arguments.length)return l.translate();var n=l.scale(),r=+e[0],s=+e[1];return i=l.translate(e).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(f),a=u.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+KC,s+.12*n+KC],[r-.214*n-KC,s+.234*n-KC]]).stream(f),o=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+KC,s+.166*n+KC],[r-.115*n-KC,s+.234*n-KC]]).stream(f),t()},e.fitExtent=function(t,n){return Bc(e,t,n)},e.fitSize=function(t,n){return qc(e,t,n)},e.scale(1070)},MA=Jc(function(e){return pD(2/(1+e))});MA.invert=Zc(function(e){return 2*Uu(e/2)});var TA=function(){return Hc(MA).scale(124.75).clipAngle(179.999)},PA=Jc(function(e){return(e=$u(e))&&e/fD(e)});PA.invert=Zc(function(e){return e});var CA=function(){return Hc(PA).scale(79.4188).clipAngle(179.999)};ef.invert=function(e,t){return[e,2*iD(lD(t))-JC]};var DA=function(){return tf(ef).scale(961/eD)},AA=function(){return Yc(rf).scale(109.5).parallels([30,30])};af.invert=af;var NA=function(){return Hc(af).scale(152.63)},RA=function(){return Yc(of).scale(131.154).center([0,13.9389])};sf.invert=Zc(iD);var IA=function(){return Hc(sf).scale(144.049).clipAngle(60)};lf.invert=Zc(Uu);var FA=function(){return Hc(lf).scale(249.5).clipAngle(90+KC)};uf.invert=Zc(function(e){return 2*iD(e)});var LA=function(){return Hc(uf).scale(250).clipAngle(142)};cf.invert=function(e,t){return[-t,2*iD(lD(e))-JC]};var jA=function(){var e=tf(cf),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)},zA=gA(),$A=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],UA={albers:kA,albersusa:EA,azimuthalequalarea:TA,azimuthalequidistant:CA,conicconformal:AA,conicequalarea:OA,conicequidistant:RA,equirectangular:NA,gnomonic:IA,mercator:DA,orthographic:FA,stereographic:LA,transversemercator:jA};for(var BA in UA)df(BA,UA[BA]);hf.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"as",type:"string",default:"path"}]};var qA=Vb(hf,$t);qA.transform=function(e,t){function n(e){e[s]=a(o(e))}var r,i=t.fork(t.ALL),a=this.value,o=e.field||kb,s=e.as||"path";return!a||e.modified()?(this.value=a=pf(e.projection).context(null),i.materialize().reflow().visit(i.SOURCE,n)):(a.context(null),r=o===kb||t.modified(o.fields),i.visit(r?i.ADD_MOD:i.ADD,n)),i.modifies(s)},mf.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};var WA=Vb(mf,$t);WA.transform=function(e,t){function n(e){var t=i([a(e),o(e)]);t?(e[l]=t[0],e[u]=t[1]):(e[l]=void 0,e[u]=void 0)}var r,i=e.projection,a=e.fields[0],o=e.fields[1],s=e.as||["x","y"],l=s[0],u=s[1];return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,n):(r=t.modified(a.fields)||t.modified(o.fields),t.visit(r?t.ADD_MOD:t.ADD,n)),t.modifies(s)},gf.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"as",type:"string",default:"shape"}]};var VA=Vb(gf,$t);VA.transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Sb("datum"),a=e.as||"shape",o=n.ADD_MOD;return r&&!e.modified()||(this.value=r=yf(pf(e.projection),i),n.materialize().reflow(),o=n.SOURCE),n.visit(o,function(e){e[a]=r}),n.modifies(a)},vf.Definition={type:"Graticule",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};var HA=Vb(vf,$t);HA.transform=function(e,t){var n,r=t.fork(),i=this.value,a=this.generator;if(!i.length||e.modified())for(var o in e)Lb(a[o])&&a[o](e[o]);return n=a(),i.length?r.mod.push(g(i[0],n)):r.add.push(p(n)),i[0]=n,r.source=i,r};var GA=Vb(bf,$t);GA.transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=xf(e.type),$A.forEach(function(t){null!=e[t]&&Sf(n,t,e[t])})):$A.forEach(function(t){e.modified(t)&&Sf(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&_f(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var YA=Object.freeze({contour:Iu,geojson:Lu,geopath:hf,geopoint:mf,geoshape:gf,graticule:vf,projection:bf}),XA=function(e,t){function n(){var n,i,a=r.length,o=0,s=0;for(n=0;n<a;++n)i=r[n],o+=i.x,s+=i.y;for(o=o/a-e,s=s/a-t,n=0;n<a;++n)i=r[n],i.x-=o,i.y-=s}var r;return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){r=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n},KA=function(e){return function(){return e}},QA=function(){return 1e-6*(Math.random()-.5)},JA=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Of(this.cover(t,n),t,n,e)},ZA=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>a))return this;var o,s,l=i-n,u=this._root;switch(s=(t<(r+a)/2)<<1|e<(n+i)/2){case 0:do o=new Array(4),o[s]=u,u=o;while(l*=2,i=n+l,a=r+l,e>i||t>a);break;case 1:do o=new Array(4),o[s]=u,u=o;while(l*=2,n=i-l,a=r+l,n>e||t>a);break;case 2:do o=new Array(4),o[s]=u,u=o;while(l*=2,i=n+l,r=a-l,e>i||r>t);break;case 3:do o=new Array(4),o[s]=u,u=o;while(l*=2,n=i-l,r=a-l,n>e||r>t)}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},eN=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},tN=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},nN=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},rN=function(e,t,n){var r,i,a,o,s,l,u,c=this._x0,f=this._y0,d=this._x1,p=this._y1,h=[],m=this._root;for(m&&h.push(new nN(m,c,f,d,p)),null==n?n=1/0:(c=e-n,
f=t-n,d=e+n,p=t+n,n*=n);l=h.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(a=l.y0)>p||(o=l.x1)<c||(s=l.y1)<f))if(m.length){var g=(i+o)/2,y=(a+s)/2;h.push(new nN(m[3],g,y,o,s),new nN(m[2],i,y,g,s),new nN(m[1],g,a,o,y),new nN(m[0],i,a,g,y)),(u=(t>=y)<<1|e>=g)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-u],h[h.length-1-u]=l)}else{var v=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),_=v*v+b*b;if(_<n){var x=Math.sqrt(n=_);c=e-x,f=t-x,d=e+x,p=t+x,r=m.data}}return r},iN=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,f,d,p=this._root,h=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((u=a>=(s=(h+g)/2))?h=s:g=s,(c=o>=(l=(m+y)/2))?m=l:y=l,t=p,!(p=p[f=c<<1|u]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},aN=function(){return this._root},oN=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},sN=function(e){var t,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new nN(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new nN(n,u,c,a,o)),(n=l[2])&&s.push(new nN(n,r,c,u,o)),(n=l[1])&&s.push(new nN(n,u,i,a,c)),(n=l[0])&&s.push(new nN(n,r,i,u,c))}return this},lN=function(e){var t,n=[],r=[];for(this._root&&n.push(new nN(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&n.push(new nN(a,o,s,c,f)),(a=i[1])&&n.push(new nN(a,c,s,l,f)),(a=i[2])&&n.push(new nN(a,o,f,c,u)),(a=i[3])&&n.push(new nN(a,c,f,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},uN=function(e){return arguments.length?(this._x=e,this):this._x},cN=function(e){return arguments.length?(this._y=e,this):this._y},fN=Pf.prototype=Cf.prototype;fN.copy=function(){var e,t,n=new Cf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Df(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Df(t));return n},fN.add=JA,fN.addAll=kf,fN.cover=ZA,fN.data=eN,fN.extent=tN,fN.find=rN,fN.remove=iN,fN.removeAll=Ef,fN.root=aN,fN.size=oN,fN.visit=sN,fN.visitAfter=lN,fN.x=uN,fN.y=cN;var dN,pN,hN=function(e){function t(){function e(e,t,n,r,i){var a=e.data,s=e.r,p=f+s;{if(!a)return t>u+p||r<u-p||n>c+p||i<c-p;if(a.index>l.index){var h=u-a.x-a.vx,m=c-a.y-a.vy,g=h*h+m*m;g<p*p&&(0===h&&(h=QA(),g+=h*h),0===m&&(m=QA(),g+=m*m),g=(p-(g=Math.sqrt(g)))/g*o,l.vx+=(h*=g)*(p=(s*=s)/(d+s)),l.vy+=(m*=g)*p,a.vx-=h*(p=1-p),a.vy-=m*p)}}}for(var t,r,l,u,c,f,d,p=i.length,h=0;h<s;++h)for(r=Pf(i,Af,Nf).visitAfter(n),t=0;t<p;++t)l=i[t],f=a[l.index],d=f*f,u=l.x+l.vx,c=l.y+l.vy,r.visit(e)}function n(e){if(e.data)return e.r=a[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function r(){if(i){var t,n,r=i.length;for(a=new Array(r),t=0;t<r;++t)n=i[t],a[n.index]=+e(n,t,i)}}var i,a,o=1,s=1;return"function"!=typeof e&&(e=KA(null==e?1:+e)),t.initialize=function(e){i=e,r()},t.iterations=function(e){return arguments.length?(s=+e,t):s},t.strength=function(e){return arguments.length?(o=+e,t):o},t.radius=function(n){return arguments.length?(e="function"==typeof n?n:KA(+n),r(),t):e},t},mN=function(e){function t(e){return 1/Math.min(c[e.source.index],c[e.target.index])}function n(t){for(var n=0,r=e.length;n<m;++n)for(var i,a,s,u,c,d,p,h=0;h<r;++h)i=e[h],a=i.source,s=i.target,u=s.x+s.vx-a.x-a.vx||QA(),c=s.y+s.vy-a.y-a.vy||QA(),d=Math.sqrt(u*u+c*c),d=(d-l[h])/d*t*o[h],u*=d,c*=d,s.vx-=u*(p=f[h]),s.vy-=c*p,a.vx+=u*(p=1-p),a.vy+=c*p}function r(){if(u){var t,n,r=u.length,p=e.length,h=k(u,d);for(t=0,c=new Array(r);t<p;++t)n=e[t],n.index=t,"object"!==s(n.source)&&(n.source=If(h,n.source)),"object"!==s(n.target)&&(n.target=If(h,n.target)),c[n.source.index]=(c[n.source.index]||0)+1,c[n.target.index]=(c[n.target.index]||0)+1;for(t=0,f=new Array(p);t<p;++t)n=e[t],f[t]=c[n.source.index]/(c[n.source.index]+c[n.target.index]);o=new Array(p),i(),l=new Array(p),a()}}function i(){if(u)for(var t=0,n=e.length;t<n;++t)o[t]=+p(e[t],t,e)}function a(){if(u)for(var t=0,n=e.length;t<n;++t)l[t]=+h(e[t],t,e)}var o,l,u,c,f,d=Rf,p=t,h=KA(30),m=1;return null==e&&(e=[]),n.initialize=function(e){u=e,r()},n.links=function(t){return arguments.length?(e=t,r(),n):e},n.id=function(e){return arguments.length?(d=e,n):d},n.iterations=function(e){return arguments.length?(m=+e,n):m},n.strength=function(e){return arguments.length?(p="function"==typeof e?e:KA(+e),i(),n):p},n.distance=function(e){return arguments.length?(h="function"==typeof e?e:KA(+e),a(),n):h},n},gN=0,yN=0,vN=0,bN=1e3,_N=0,xN=0,SN=0,wN="object"===("undefined"==typeof performance?"undefined":s(performance))&&performance.now?performance:Date,ON="object"===("undefined"==typeof window?"undefined":s(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};jf.prototype=zf.prototype={constructor:jf,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Ff():+n)+(null==t?0:+t),this._next||pN===this||(pN?pN._next=this:dN=this,pN=this),this._call=e,this._time=n,Wf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wf())}};var kN=10,EN=Math.PI*(3-Math.sqrt(5)),MN=function(e){function t(){n(),p.call("tick",a),o<s&&(d.stop(),p.call("end",a))}function n(){var t,n,r=e.length;for(o+=(u-o)*l,f.each(function(e){e(o)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function r(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var i=kN*Math.sqrt(n),a=n*EN;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(e),t}var a,o=1,s=.001,l=1-Math.pow(s,1/300),u=0,c=.6,f=k(),d=zf(t),p=A("tick","end");return null==e&&(e=[]),r(),a={tick:n,restart:function(){return d.restart(t),a},stop:function(){return d.stop(),a},nodes:function(t){return arguments.length?(e=t,r(),f.each(i),a):e},alpha:function(e){return arguments.length?(o=+e,a):o},alphaMin:function(e){return arguments.length?(s=+e,a):s},alphaDecay:function(e){return arguments.length?(l=+e,a):+l},alphaTarget:function(e){return arguments.length?(u=+e,a):u},velocityDecay:function(e){return arguments.length?(c=1-e,a):1-c},force:function(e,t){return arguments.length>1?(null==t?f.remove(e):f.set(e,i(t)),a):f.get(e)},find:function(t,n,r){var i,a,o,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)s=e[u],i=t-s.x,a=n-s.y,o=i*i+a*a,o<r&&(l=s,r=o);return l},on:function(e,t){return arguments.length>1?(p.on(e,t),a):p.on(e)}}},TN=function(){function e(e){var t,s=i.length,l=Pf(i,Vf,Hf).visitAfter(n);for(o=e,t=0;t<s;++t)a=i[t],l.visit(r)}function t(){if(i){var e,t,n=i.length;for(s=new Array(n),e=0;e<n;++e)t=i[e],s[t.index]=+l(t,e,i)}}function n(e){var t,n,r,i,a,o=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=t.value)&&(o+=n,r+=n*t.x,i+=n*t.y);e.x=r/o,e.y=i/o}else{t=e,t.x=t.data.x,t.y=t.data.y;do o+=s[t.data.index];while(t=t.next)}e.value=o}function r(e,t,n,r){if(!e.value)return!0;var i=e.x-a.x,l=e.y-a.y,d=r-t,p=i*i+l*l;if(d*d/f<p)return p<c&&(0===i&&(i=QA(),p+=i*i),0===l&&(l=QA(),p+=l*l),p<u&&(p=Math.sqrt(u*p)),a.vx+=i*e.value*o/p,a.vy+=l*e.value*o/p),!0;if(!(e.length||p>=c)){(e.data!==a||e.next)&&(0===i&&(i=QA(),p+=i*i),0===l&&(l=QA(),p+=l*l),p<u&&(p=Math.sqrt(u*p)));do e.data!==a&&(d=s[e.data.index]*o/p,a.vx+=i*d,a.vy+=l*d);while(e=e.next)}}var i,a,o,s,l=KA(-30),u=1,c=1/0,f=.81;return e.initialize=function(e){i=e,t()},e.strength=function(n){return arguments.length?(l="function"==typeof n?n:KA(+n),t(),e):l},e.distanceMin=function(t){return arguments.length?(u=t*t,e):Math.sqrt(u)},e.distanceMax=function(t){return arguments.length?(c=t*t,e):Math.sqrt(c)},e.theta=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e},PN=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vx+=(a[n]-t.x)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=KA(.1);return"function"!=typeof e&&(e=KA(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:KA(+e),n(),t):o},t.x=function(r){return arguments.length?(e="function"==typeof r?r:KA(+r),n(),t):e},t},CN=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vy+=(a[n]-t.y)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=KA(.1);return"function"!=typeof e&&(e=KA(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:KA(+e),n(),t):o},t.y=function(r){return arguments.length?(e="function"==typeof r?r:KA(+r),n(),t):e},t},DN={center:XA,collide:hN,nbody:TN,link:mN,x:PN,y:CN},AN="forces",NN=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],RN=["static","iterations"],IN=["x","y","vx","vy"];Gf.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:IN}]};var FN=Vb(Gf,$t);FN.transform=function(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(NN),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Kf(n,e,0,t)):(this.value=n=Xf(t.source,e),n.on("tick",Yf(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(RN)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation;return this.finish(e,t)},FN.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if(n=i[a],n.name===AN&&"link"===n.op._argval.force)for(var s,l=n.op._argops,u=0,c=l.length;u<c;++u)if("links"===l[u].name&&(s=l[u].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(IN)};var LN=Object.freeze({force:Gf}),jN=function e(){function e(e){var a,o=0;e.eachAfter(function(e){var n=e.children;n?(e.x=td(n),e.y=rd(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)});var s=ad(e),l=od(e),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return e.eachAfter(i?function(t){t.x=(t.x-e.x)*n,t.y=(e.y-t.y)*r}:function(t){t.x=(t.x-u)/(c-u)*n,t.y=(1-(e.y?t.y/e.y:1))*r})}var t=ed,n=1,r=1,i=!1;return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(i=!1,n=+t[0],r=+t[1],e):i?null:[n,r]},e.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],r=+t[1],e):i?[n,r]:null},e},zN=function(){return this.eachAfter(sd)},$N=function(e){var t,n,r,i,a=this,o=[a];do for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);while(o.length);return this},UN=function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},BN=function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},qN=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},WN=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},VN=function(e){for(var t=this,n=ld(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},HN=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},GN=function(){var e=[];return this.each(function(t){e.push(t)}),e},YN=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},XN=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t};hd.prototype=ud.prototype={constructor:hd,count:zN,each:$N,eachAfter:BN,eachBefore:UN,sum:qN,sort:WN,path:VN,ancestors:HN,descendants:GN,leaves:YN,links:XN,copy:cd};var KN=Array.prototype.slice,QN=function(e){for(var t,n,r=0,i=(e=md(KN.call(e))).length,a=[];r<i;)t=e[r],n&&vd(n,t)?++r:(n=_d(a=gd(a,t)),r=0);return n},JN=function(e){return function(){return e}},ZN=function(){function e(e){return e.x=n/2,e.y=r/2,t?e.eachBefore(Nd(t)).eachAfter(Rd(i,.5)).eachBefore(Id(1)):e.eachBefore(Nd(Ad)).eachAfter(Rd(Dd,1)).eachAfter(Rd(i,e.r/Math.min(n,r))).eachBefore(Id(Math.min(n,r)/(2*e.r))),e}var t=null,n=1,r=1,i=Dd;return e.radius=function(n){return arguments.length?(t=Pd(n),e):t},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i="function"==typeof t?t:JN(+t),e):i},e},eR=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},tR=function(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(r-t)/e.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*u},nR=function(){function e(e){var o=e.height+1;return e.x0=e.y0=i,e.x1=n,e.y1=r/o,e.eachBefore(t(r,o)),a&&e.eachBefore(eR),e}function t(e,t){return function(n){n.children&&tR(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var r=n.x0,a=n.y0,o=n.x1-i,s=n.y1-i;o<r&&(r=o=(r+o)/2),s<a&&(a=s=(a+s)/2),n.x0=r,n.y0=a,n.x1=o,n.y1=s}}var n=1,r=1,i=0,a=!1;return e.round=function(t){return arguments.length?(a=!!t,e):a},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i=+t,e):i},e},rR="$",iR={depth:-1},aR={},oR=function e(){function e(e){var r,i,a,o,s,l,u,c=e.length,f=new Array(c),d={};for(i=0;i<c;++i)r=e[i],s=f[i]=new hd(r),null!=(l=t(r,i,e))&&(l+="")&&(u=rR+(s.id=l),d[u]=u in d?aR:s);for(i=0;i<c;++i)if(s=f[i],l=n(e[i],i,e),null!=l&&(l+="")){if(o=d[rR+l],!o)throw new Error("missing: "+l);if(o===aR)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=iR,a.eachBefore(function(e){e.depth=e.parent.depth+1,--c}).eachBefore(pd),a.parent=null,c>0)throw new Error("cycle");return a}var t=Fd,n=Ld;return e.id=function(n){return arguments.length?(t=Cd(n),e):t},e.parentId=function(t){return arguments.length?(n=Cd(t),e):n},e};Wd.prototype=Object.create(hd.prototype);var sR=function(){function e(e){var r=Vd(e);if(r.eachAfter(t),r.parent.m=-r.z,r.eachBefore(n),l)e.eachBefore(i);else{var u=e,c=e,f=e;e.eachBefore(function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)});var d=u===c?1:a(u,c)/2,p=d-u.x,h=o/(c.x+d+p),m=s/(f.depth||1);e.eachBefore(function(e){e.x=(e.x+p)*h,e.y=e.depth*m})}return e}function t(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t){Bd(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+a(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+a(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var r,i=e,o=e,s=t,l=i.parent.children[0],u=i.m,c=o.m,f=s.m,d=l.m;s=$d(s),i=zd(i),s&&i;)l=zd(l),o=$d(o),o.a=e,r=s.z+f-i.z-u+a(s._,i._),r>0&&(Ud(qd(s,e,n),e,r),u+=r,c+=r),f+=s.m,u+=i.m,d+=l.m,c+=o.m;s&&!$d(o)&&(o.t=s,o.m+=f-c),i&&!zd(l)&&(l.t=i,l.m+=u-d,n=e)}return n}function i(e){e.x*=o,e.y=e.depth*s}var a=jd,o=1,s=1,l=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(l=!1,o=+t[0],s=+t[1],e):l?null:[o,s]},e.nodeSize=function(t){return arguments.length?(l=!0,o=+t[0],s=+t[1],e):l?[o,s]:null},e},lR=function(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(i-n)/e.value;++s<l;)a=o[s],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*u},uR=(1+Math.sqrt(5))/2,cR=function e(t){function n(e,n,r,i,a){Hd(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(uR),fR=function e(){function e(e){return e.x0=e.y0=0,e.x1=i,e.y1=a,e.eachBefore(t),o=[0],r&&e.eachBefore(eR),e}function t(e){var t=o[e.depth],r=e.x0+t,i=e.y0+t,a=e.x1-t,d=e.y1-t;a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),e.x0=r,e.y0=i,e.x1=a,e.y1=d,e.children&&(t=o[e.depth+1]=s(e)/2,r+=f(e)-t,i+=l(e)-t,a-=u(e)-t,d-=c(e)-t,a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),n(e,r,i,a,d))}var n=cR,r=!1,i=1,a=1,o=[0],s=Dd,l=Dd,u=Dd,c=Dd,f=Dd;return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(i=+t[0],a=+t[1],e):[i,a]},e.tile=function(t){return arguments.length?(n=Cd(t),e):n},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:JN(+t),e):s},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:JN(+t),e):l},e.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:JN(+t),e):u},e.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:JN(+t),e):c},e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:JN(+t),e):f},e},dR=function(e,t,n,r,i){function a(e,t,n,r,i,o,s){if(e>=t-1){var u=l[e];return u.x0=r,u.y0=i,u.x1=o,u.y1=s,void 0}for(var f=c[e],d=n/2+f,p=e+1,h=t-1;p<h;){var m=p+h>>>1;c[m]<d?p=m+1:h=m}d-c[p-1]<c[p]-d&&e+1<p&&--p;var g=c[p]-f,y=n-g;if(o-r>s-i){var v=(r*y+o*g)/n;a(e,p,g,r,i,v,s),a(p,t,y,v,i,o,s)}else{var b=(i*y+s*g)/n;a(e,p,g,r,i,o,b),a(p,t,y,r,b,o,s)}}var o,s,l=e.children,u=l.length,c=new Array(u+1);for(c[0]=s=o=0;o<u;++o)c[o+1]=s+=l[o].value;a(0,u,e.value,t,n,r,i)},pR=function(e,t,n,r,i){(1&e.depth?lR:tR)(e,t,n,r,i)},hR=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,l,u,c,f=-1,d=o.length,p=e.value;++f<d;){for(s=o[f],l=s.children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?tR(s,n,r,i,r+=(a-r)*s.value/p):lR(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else e._squarify=o=Hd(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(uR);Gd.Definition={type:"Nest",metadata:{treesource:!0,source:!0,generates:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"key",type:"field"},{name:"generate",type:"boolean"}]};var mR=Vb(Gd,$t);mR.transform=function(e,t){t.source||yb("Nest transform requires an upstream data source.");var n,r,i,a=e.key||f,o=e.generate,s=e.modified(),l=o||s?t.fork(t.ALL):t;return(!this.value||s||t.changed())&&(o&&this.value&&(l.materialize(l.REM),this.value.each(function(e){e.children&&l.rem.push(e)})),n=Fb(e.keys).reduce(function(e,t){return e.key(t),e},O_()).entries(t.source),this.value=r=ud({values:n},Yd),o&&(l.materialize(l.ADD),l.source=l.source.slice(),r.each(function(e){e.children&&(e=p(e.data),l.add.push(e),l.source.push(e))})),i=r.lookup={},r.each(function(e){null!=f(e.data)&&(i[a(e.data)]=e)})),l.source.root=this.value,l};var gR=Vb(Xd,$t);gR.transform=function(e,t){t.source&&t.source.root||yb(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field&&i.sum(e.field),e.sort&&i.sort(e.sort),Kd(n,this.params,e);try{this.value=n(i)}catch(o){yb(o)}return i.each(function(e){Qd(e,r,a)}),t.reflow(e.modified()).modifies(a).modifies("leaf")};var yR=["x","y","r","depth","children"];Jd.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:3,default:yR}]};var vR=Vb(Jd,Xd);vR.layout=ZN,vR.params=["size","padding"],vR.fields=yR;var bR=["x0","y0","x1","y1","depth","children"];Zd.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:bR}]};var _R=Vb(Zd,Xd);_R.layout=nR,_R.params=["size","round","padding"],_R.fields=bR,ep.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};var xR=Vb(ep,$t);xR.transform=function(e,t){t.source||yb("Stratify transform requires an upstream data source.");var n,r,i=e.modified(),a=!this.value||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a&&(n=oR().id(e.key).parentId(e.parentKey)(t.source),r=n.lookup={},n.each(function(t){r[e.key(t.data)]=t}),this.value=n),t.source.root=this.value,i?t.fork(t.ALL):t};var SR={tidy:sR,cluster:jN},wR=["x","y","depth","children"];tp.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:wR}]};var OR=Vb(tp,Xd);OR.layout=function(e){var t=e||"tidy";return SR.hasOwnProperty(t)?SR[t]():void yb("Unrecognized Tree layout method: "+t)},OR.params=["size","nodeSize","separation"],OR.fields=wR,np.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[{name:"key",type:"field"}]};var kR=Vb(np,$t);kR.transform=function(e,t){function n(e){var t=a[e];t&&(s[e]=1,l.mod.push(t))}t.source&&t.source.root||yb("TreeLinks transform requires a backing tree data source.");var r=t.source.root,i=r.lookup,a=this.value,o=e.key||f,s={},l=t.fork();return t.visit(t.REM,function(e){var t=o(e),n=a[t];n&&(delete a[t],l.rem.push(n))}),t.visit(t.ADD,function(e){var t,n=o(e);(t=rp(i[n]))&&(l.add.push(a[n]=p({source:t,target:e})),s[n]=1)}),t.visit(t.MOD,function(e){var t=o(e),r=i[t],a=r.children;if(n(t),a)for(var l=0,u=a.length;l<u;++l)s[t=o(a[l].data)]||n(t)}),l};var ER={binary:dR,dice:tR,slice:lR,slicedice:pR,squarify:cR,resquarify:hR},MR=["x0","y0","x1","y1","depth","children"];ip.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:MR}]};var TR=Vb(ip,Xd);TR.layout=function(){var e=fR();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){ER.hasOwnProperty(t)?e.tile(ER[t]):yb("Unrecognized Treemap layout method: "+t)},e},TR.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],TR.fields=MR;var PR=Object.freeze({nest:Gd,pack:Jd,partition:Zd,stratify:ep,tree:tp,treelinks:np,treemap:ip}),CR=function(e){return function(){return e}};sp.prototype={constructor:sp,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=fp(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(up(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cp(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(cp(this,n),e=n,n=e.U),n.C=!1,r.C=!0,up(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?fp(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,up(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,cp(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,up(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,cp(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,up(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,cp(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var DR,AR,NR,RR,IR,FR=[],LR=[],jR=1e-6,zR=1e-12;Fp.prototype={constructor:Fp,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return _p(t,e[n])});return n.data=t.site.data,n})},triangles:function e(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,l=-1,u=t[i[a-1]],c=u.left===s?u.right:u.left;++l<a;)o=c,u=t[i[l]],c=u.left===s?u.right:u.left,o&&c&&r<o.index&&r<c.index&&Rp(s,o,c)<0&&e.push([s.data,o.data,c.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],f=l*l+u*u;f<c&&(c=f,o=s.index)}});while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var $R=function(){function e(e){return new Fp(e.map(function(r,i){var a=[Math.round(t(r,i,e)/jR)*jR,Math.round(n(r,i,e)/jR)*jR];return a.index=i,a.data=r,a}),r)}var t=ap,n=op,r=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:CR(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:CR(+t),e):n},e.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e};Lp.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var UR=Vb(Lp,$t),BR=[[-1e5,-1e5],[1e5,1e5]];UR.transform=function(e,t){var n,r,i,a,o=e.as||"path",s=t.source;for(n=$R().x(e.x).y(e.y),e.size?n.size(e.size):n.extent(e.extent||BR),this.value=n=n(s),r=n.polygons(),i=0,a=s.length;i<a;++i)s[i][o]=r[i]?"M"+r[i].join("L")+"Z":null;return t.reflow(e.modified()).modifies(o)};var qR=Object.freeze({voronoi:Lp}),WR=Math.PI/180,VR=64,HR=2048,GR=function e(){function t(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(VR<<5)/t,e.height=HR/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function n(e,t,n){for(var r,i,a,o=t.x,s=t.y,l=Math.sqrt(c[0]*c[0]+c[1]*c[1]),u=f(c),d=p()<.5?1:-1,h=-d;(r=u(h+=d))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=o+i,t.y=s+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>c[0]||t.y+t.y1>c[1])&&(!n||!zp(t,e,c[0]))&&(!n||Up(t,n))){for(var m,g=t.sprite,y=t.width>>5,v=c[0]>>5,b=t.x-(y<<4),_=127&b,x=32-_,S=t.y1-t.y0,w=(t.y+t.y0)*v+(b>>5),O=0;O<S;O++){m=0;for(var k=0;k<=y;k++)e[w+k]|=m<<x|(k<y?(m=g[O*y+k])>>>_:0);w+=v}return t.sprite=null,!0}return!1}var r,i,a,o,s,l,u,c=[256,256],f=Bp,d=[],p=Math.random,e={},h=Vp;return e.layout=function(){for(var e=t(h()),f=Wp((c[0]>>5)*c[1]),m=null,g=d.length,y=-1,v=[],b=d.map(function(e){return{text:r(e),font:i(e),style:o(e),weight:s(e),rotate:l(e),size:~~a(e),padding:u(e),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:e}}).sort(function(e,t){return t.size-e.size});++y<g;){var _=b[y];_.x=c[0]*(p()+.5)>>1,_.y=c[1]*(p()+.5)>>1,jp(e,_,b,y),_.hasText&&n(f,_,m)&&(v.push(_),m?$p(m,_):m=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=c[0]>>1,_.y-=c[1]>>1)}return v},e.words=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(c=[+t[0],+t[1]],e):c},e.font=function(t){return arguments.length?(i=Hp(t),e):i},e.fontStyle=function(t){return arguments.length?(o=Hp(t),e):o},e.fontWeight=function(t){return arguments.length?(s=Hp(t),e):s},e.rotate=function(t){return arguments.length?(l=Hp(t),e):l},e.text=function(t){return arguments.length?(r=Hp(t),e):r},e.spiral=function(t){return arguments.length?(f=YR[t]||t,e):f},e.fontSize=function(t){return arguments.length?(a=Hp(t),e):a},e.padding=function(t){return arguments.length?(u=Hp(t),e):u},e.random=function(t){return arguments.length?(p=t,e):p},e},YR={archimedean:Bp,rectangular:qp},XR=["x","y","font","fontSize","fontStyle","fontWeight","angle"],KR=["text","font","rotate","fontSize","fontStyle","fontWeight"];Gp.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:XR}]};var QR=Vb(Gp,$t);QR.transform=function(e,t){function n(n){var r=e[n];return Lb(r)&&t.modified(r.fields)}var r=e.modified();if(r||t.changed(t.ADD_REM)||KR.some(n)){var i,a=t.materialize(t.SOURCE).source,o=this.value,s=e.as||XR,l=e.fontSize||14;if(Lb(l)?i=e.fontSizeRange:l=zb(l),i){var u=l,c=ml("sqrt")().domain(Yp(u,a)).range(i);l=function(e){return c(u(e))}}a.forEach(function(e){e[s[0]]=NaN,e[s[1]]=NaN,e[s[3]]=0});for(var f,d,p=o.words(a).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).layout(),h=o.size(),m=h[0]>>1,g=h[1]>>1,y=0,v=p.length;y<v;++y)f=p[y],
d=f.datum,d[s[0]]=f.x+m,d[s[1]]=f.y+g,d[s[2]]=f.font,d[s[3]]=f.size,d[s[4]]=f.style,d[s[5]]=f.weight,d[s[6]]=f.rotate;return t.reflow(r).modifies(s)}};var JR=Object.freeze({wordcloud:Gp}),ZR=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,s=a[0],l=a[1],u=o.length;for(n=0;n<s;++n)t[o[n]]|=r;for(n=l;n<u;++n)t[o[n]]|=r;return i}}};ih.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var eI=Vb(ih,$t);eI.transform=function(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(function(e){return t.modified(e.fields)});return n?this.reinit(e,t):this.eval(e,t)}return this.init(e,t)},eI.init=function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},s=this._dims=[],l=a.length,u=0;u<l;++u)n=i[u].fname,r=o[n]||(o[n]=th()),s.push(ZR(r,u,a[u]));return this.eval(e,t)},eI.reinit=function(e,t){var n,r,i,a,o,s,l,u,c,f=t.materialize().fork(),d=e.fields,p=e.query,h=this._indices,m=this._dims,g=this.value,y=g.curr(),v=g.prev(),b=g.all(),_=f.rem=f.add,x=f.mod,S=p.length,w={};if(v.set(y),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&g.add(t.add),t.mod.length)for(s={},a=t.mod,l=0,u=a.length;l<u;++l)s[a[l]._index]=1;for(l=0;l<S;++l)c=d[l],(!m[l]||e.modified("fields",l)||t.modified(c.fields))&&(i=c.fname,(n=w[i])||(h[i]=r=th(),w[i]=n=r.insert(c,t.source,0)),m[l]=ZR(r,l,p[l]).onAdd(n,y));for(l=0,u=g.data().length;l<u;++l)o[l]||(v[l]!==y[l]?_.push(l):s[l]&&y[l]!==b&&x.push(l));return g.mask=(1<<S)-1,f},eI.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},eI.insert=function(e,t,n){var r,i,a,o=t.add,s=this.value,l=this._dims,u=this._indices,c=e.fields,f={},d=n.add,p=s.size(),h=p+o.length,m=l.length;s.resize(h,m),s.add(o);var g=s.curr(),y=s.prev(),v=s.all();for(r=0;r<m;++r)i=c[r].fname,a=f[i]||(f[i]=u[i].insert(c[r],o,p)),l[r].onAdd(a,g);for(;p<h;++p)y[p]=v,g[p]!==v&&d.push(p)},eI.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,s=o.curr(),l=o.all(),u=e.mod;for(n=0,r=u.length;n<r;++n)i=u[n]._index,s[i]!==l&&a.push(i)},eI.remove=function(e,t,n){var r,i,a,o,s=this._indices,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d={},p=n.rem,h=t.rem;for(r=0,i=h.length;r<i;++r)a=h[r]._index,d[a]=1,c[a]=o=u[a],u[a]=f,o!==f&&p.push(a);for(a in s)s[a].remove(i,d);return this.reindex(t,i,d),d},eI.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter(function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)})},eI.update=function(e,t,n){var r,i,a=this._dims,o=e.query,s=t.stamp,l=a.length,u=0;for(n.filters=0,i=0;i<l;++i)e.modified("query",i)&&(r=i,++u);if(1===u)u=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,u=0;i<l;++i)e.modified("query",i)&&(u|=a[i].one,this.incrementAll(a[i],o[i],s,n.add),n.rem=n.add);return u},eI.incrementAll=function(e,t,n,r){var i,a,o,s=this.value,l=s.seen(),u=s.curr(),c=s.prev(),f=e.index(),d=e.bisect(e.range),p=e.bisect(t),h=p[0],m=p[1],g=d[0],y=d[1],v=e.one;if(h<g)for(i=h,a=Math.min(g,m);i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;else if(h>g)for(i=g,a=Math.min(h,y);i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;if(m>y)for(i=Math.max(h,y),a=m;i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;else if(m<y)for(i=Math.max(g,m),a=y;i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;e.range=t.slice()},eI.incrementOne=function(e,t,n,r){var i,a,o,s=this.value,l=s.curr(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],p=f[1],h=c[0],m=c[1],g=e.one;if(d<h)for(i=d,a=Math.min(h,p);i<a;++i)o=u[i],l[o]^=g,n.push(o);else if(d>h)for(i=h,a=Math.min(d,m);i<a;++i)o=u[i],l[o]^=g,r.push(o);if(p>m)for(i=Math.max(d,m),a=p;i<a;++i)o=u[i],l[o]^=g,n.push(o);else if(p<m)for(i=Math.max(h,p),a=m;i<a;++i)o=u[i],l[o]^=g,r.push(o);e.range=t.slice()},ah.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};var tI=Vb(ah,$t);tI.transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),u=function(e){return s[e]&n?null:o[e]};return a.filter(a.MOD,u),i&i-1?(a.filter(a.ADD,function(e){var t=s[e]&n,r=!t&&t^l[e]&n;return r?o[e]:null}),a.filter(a.REM,function(e){var t=s[e]&n,r=t&&!(t^(t^l[e]&n));return r?o[e]:null})):(a.filter(a.ADD,u),a.filter(a.REM,function(e){return(s[e]&n)===i?o[e]:null})),a.filter(a.SOURCE,function(e){return u(e._index)})};var nI=Object.freeze({crossfilter:ih,resolvefilter:ah}),rI="3.0.2",iI="default",aI=function e(t){var e=t._signals.cursor;e||(t._signals.cursor=e=t.add({user:iI,item:null})),t.on(t.events("view","mousemove"),e,function(t,n){var r=e.value,i=r?xb(r)?r:r.user:iI,a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}}),t.add(null,function(e){var t=e.cursor,n=this.value;return xb(t)||(n=t.item,t=t.user),oh(t&&t!==iI?t:n||t),n},{cursor:e})},oI=function(e,t,n){var r,i,a,o=e._renderer.scene();return o&&(a=hh(e),i=t.changedTouches?t.changedTouches[0]:t,r=ck(i,o),r[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.vega=gh(e,n,r),t.item=n,t},sI="view",lI="window",uI=function(e,t){return e=[e||"hover"],t=[t||"update",e],this.on(this.events("view","mouseover",_h),xh,Sh(e)),this.on(this.events("view","mouseout",_h),xh,Sh(t)),this},cI=function(){for(var e,t,n=this._eventListeners,r=n.length;--r>=0;)for(t=n[r],e=t.sources.length;--e>=0;)t.sources[e].removeEventListener(t.type,t.handler)},fI=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},dI="vega-bind",pI="vega-bind-name",hI="vega-bind-radio",mI="vega-option-",gI=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){i.source=!0,e.signal(r.signal,t).run()}},r.debounce&&(i.update=$b(r.debounce,i.update))),xb(t)&&(t=document.querySelector(t)),wh(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,function(){i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}},yI=function(e,t,n,r){return t=t||new r(e.loader()),t.initialize(n,dh(e),ph(e),hh(e)).background(e._background)},vI=function(e,t,n,r){var i=(new r).scene(e.scenegraph().root).initialize(n,hh(e),e);return t&&(i.handleTooltip=t.handleTooltip,t.handlers().forEach(function(e){i.on(e.type,e.handler)})),i},bI=function(e,t){var n,r,i=this,a=i._renderType,o=ro(a);return e=i._el=e?Ch(i,e):null,o||i.error("Unrecognized renderer type: "+a),n=o.handler||Ia,r=e?o.renderer:o.headless,i._renderer=r?yI(i,i._renderer,e,r):null,i._handler=vI(i,i._handler,e,n),i._redraw=!0,e&&(t=t?Ch(i,t):e.appendChild(fI("div",{class:"vega-bindings"})),i._bind.forEach(function(e){e.param.element&&Ch(i,e.param.element)}),i._bind.forEach(function(e){gI(i,e.param.element||t,e)})),i},_I=function(e,t){var n=ro(t);return n&&n.headless?e.runAsync().then(function(){return yI(e,null,null,n.headless).renderAsync(e._scenegraph.root)}):Promise.reject("Unrecognized renderer type: "+t)},xI=function(e){return e!==Ik.Canvas&&e!==Ik.SVG&&e!==Ik.PNG?Promise.reject("Unrecognized image type: "+e):_I(this,e).then(function(t){return e===Ik.SVG?Dh(t.svg(),"image/svg+xml"):t.canvas().toDataURL("image/png")})},SI=function(){return _I(this,Ik.Canvas).then(function(e){return e.canvas()})},wI=function(){return _I(this,Ik.SVG).then(function(e){return e.svg()})},OI=function(e,t){return e=e||t.autosize,_b(e)?e:(e=e||"pad",{type:e})},kI=function(e,t){return e=e||t.padding,_b(e)?e:(e=+e||0,{top:e,bottom:e,left:e,right:e})},EI="outer",MI=["value","update","react","bind"],TI=function(e,t){var n=e.name;if(e.push===EI)t.signals[n]||Ah("No prior signal definition",n),MI.forEach(function(t){void 0!==e[t]&&Ah("Invalid property ",t)});else{var r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}};Nh.prototype.visit=function(e){var t,n,r,i=this;if(e(i))return 1;for(t=Rh(i),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};var PI,CI,DI,AI,NI=1,RI=2,II=3,FI=4,LI=5,jI=6,zI=7,$I=8,UI="ArrayExpression",BI="BinaryExpression",qI="CallExpression",WI="ConditionalExpression",VI="Identifier",HI="Literal",GI="LogicalExpression",YI="MemberExpression",XI="ObjectExpression",KI="Property",QI="UnaryExpression",JI="Unexpected token %0",ZI="Unexpected number",eF="Unexpected string",tF="Unexpected identifier",nF="Unexpected reserved word",rF="Unexpected end of input",iF="Invalid regular expression",aF="Invalid regular expression: missing /",oF="Octal literals are not allowed in strict mode.",sF="Duplicate data property in object literal not allowed in strict mode",lF="ILLEGAL",uF="Disabled.",cF=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),fF=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),dF={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},pF={if:1,this:1},hF=function(e){PI=e,CI=0,DI=PI.length,AI=null,sm();var t=zm();if(AI.type!==RI)throw new Error("Unexpect token after expression.");return t},mF={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},gF=function(e){function t(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}function n(e,n,r){return function(i){return t(e,i,n,r)}}var r="new Date",i="String",a="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&yb("Missing arguments to clamp function."),t.length>3&&yb("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),replace:n("replace",i),regexp:a,test:n("test",a),if:function(t){t.length<3&&yb("Missing arguments to if function."),t.length>3&&yb("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}},yF=function e(t){function n(e){if(xb(e))return e;var t=p[e.type];return null==t&&yb("Unsupported type: "+e.type),t(e)}function e(e){var t={code:n(e),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},t}t=t||{};var r=t.whitelist?a_(t.whitelist):{},i=t.blacklist?a_(t.blacklist):{},a=t.constants||mF,o=(t.functions||gF)(n),s=t.globalvar,l=t.fieldvar,u={},c={},f=0,d=Lb(s)?s:function(e){return s+'["'+e+'"]'},p={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;return f>0?t:i.hasOwnProperty(t)?yb("Illegal identifier: "+t):a.hasOwnProperty(t)?a[t]:r.hasOwnProperty(t)?t:(u[t]=1,d(t))},MemberExpression:function(e){var t=!e.computed,r=n(e.object);t&&(f+=1);var i=n(e.property);return r===l&&(c[i]=1),t&&(f-=1),r+(t?"."+i:"["+i+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&yb("Illegal callee type: "+e.callee.type);var t=e.callee.name,r=e.arguments,i=o.hasOwnProperty(t)&&o[t];return i||yb("Unrecognized function: "+t),Lb(i)?i(r):i+"("+r.map(n).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(n).join(",")+"]"},BinaryExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+n(e.argument)+")"},ConditionalExpression:function(e){return"("+n(e.test)+"?"+n(e.consequent)+":"+n(e.alternate)+")"},LogicalExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(n).join(",")+"}"},Property:function(e){f+=1;var t=n(e.key);return f-=1,t+":"+n(e.value)}};return e.functions=o,e.constants=a,e},vF={},bF=new Date(2e3,0,1),_F=function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},xF=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),r=a-i,r>=n-t?[t,n]:[Math.min(Math.max(i,t),n-r),Math.min(Math.max(a,r),n)]},SF="undefined"!=typeof window&&window||null,wF=function(e){return e[e.length-1]-e[0]||0},OF="Literal",kF="Identifier",EF="@",MF="%",TF=":",PF=function(e,t,n,r){var i=cw(t,n),a=e.domain(),o=a[0],s=a[a.length-1],l=bl(e,o,s);e.ticks&&(a=e.ticks(+r||15),o!==a[0]&&a.unshift(o),s!==a[a.length-1]&&a.push(s));for(var u=0,c=a.length;u<c;++u)i.stop(l(a[u]),e(a[u]));return i},CF=Pg("area"),DF=Pg("bounds"),AF=Pg("centroid"),NF={},RF=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),n=void 0===n||n,r=void 0===r||r,(n?a<=e:a<e)&&(r?e<=o:e<o)},IF=function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},FF=function(e,t,n,r,i,a){var o,s,l=this.context.dataflow,u=this.context.data[e],f=u.input,d=u.changes,p=l.stamp();if(l._trigger===!1||!(f.value.length||t||r))return 0;if((!d||d.stamp<p)&&(u.changes=d=l.changeset(),d.stamp=p,l.runAfter(function(){u.modified=!0,l.pulse(f,d).run()},!0)),n&&(o=n===!0?Tb:bb(n)||c(n)?n:Ug(n),d.remove(o)),t&&d.insert(t),r&&(o=Ug(r),f.value.some(o)?d.remove(o):d.insert(r)),i)for(s in a)d.modify(i,s,a[s]);return 1},LF="bin_",jF="intersect",zF="union",$F="index:unit",UF={isArray:bb,isBoolean:Hb,isDate:Gb,isNumber:Yb,isObject:_b,isRegExp:Xb,isString:xb,isTuple:c,toBoolean:t_,toDate:n_,toNumber:r_,toString:i_,pad:Zb,peek:e_,truncate:o_,rgb:Ho,lab:es,hcl:ss,hsl:Ko,sequence:nS,format:Um,utcFormat:qm,utcParse:Vm,timeFormat:Bm,timeParse:Wm,monthFormat:Gm,monthAbbrevFormat:Ym,dayFormat:Xm,dayAbbrevFormat:Km,quarter:Qm,utcquarter:Jm,warn:eg,info:tg,debug:ng,inScope:_F,clampRange:xF,pinchDistance:rg,pinchAngle:ig,screen:ag,containerSize:sg,windowSize:og,span:wF,bandspace:hg,inrange:RF,setdata:Rg,panLinear:Sg,panLog:wg,panPow:Og,zoomLinear:Eg,zoomLog:Mg,zoomPow:Tg,encode:IF,modify:FF},BF=["view","item","group","xy","x","y"],qF="event.vega.",WF="this.",VF={};ey("bandwidth",pg,cg),ey("copy",mg,cg),ey("domain",dg,cg),ey("range",fg,cg),ey("invert",yg,cg),ey("scale",gg,cg),ey("gradient",PF,cg),ey("geoArea",CF,cg),ey("geoBounds",DF,cg),ey("geoCentroid",AF,cg),ey("indata",Ag,Ng),ey("data",Cg,Dg),ey("vlSingle",Vg,Dg),ey("vlSingleDomain",Yg,Dg),ey("vlMulti",Vg,Gg),ey("vlMultiDomain",Yg,Gg),ey("vlInterval",Hg,Dg),ey("vlIntervalDomain",Xg,Dg),ey("treePath",Lg,Dg),ey("treeAncestors",jg,Dg);var HF,GF,YF={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+i("$"+e)+"]"},functions:ty,constants:mF,visitors:VF},XF=yF(YF),KF="$",QF=function(e,t,n){var r,a,o={};try{r=hF(e)}catch(s){yb("Expression parse error: "+i(e))}return r.visit(function(e){if("CallExpression"===e.type){var n=e.callee.name,r=YF.visitors[n];r&&r(n,e.arguments,t,o)}}),a=XF(r),a.globals.forEach(function(e){var n=KF+e;!o.hasOwnProperty(n)&&t.getSignal(e)&&(o[n]=t.signalRef(e))}),{$expr:n?n+"return("+a.code+");":a.code,$fields:a.fields,$params:o}},JF="view",ZF="scope",eL=function(e,t){return e.signal?t.getSignal(e.signal).id:e.scale?t.getScale(e.scale).id:ry(e,t)},tL=function(e,t,n){return HF=t||nL,GF=n||dL,fy(e.trim()).map(dy)},nL="view",rL="[",iL="]",aL="{",oL="}",sL=":",lL=",",uL="@",cL=">",fL=/[[\]{}]/,dL={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},pL="var datum=event.item&&event.item.datum;",hL=function(e,t,n){var r,a=e.events,o=e.update,s=e.encode,l=[],u="";a||yb("Signal update missing events specification."),xb(a)&&(a=tL(a)),a=Fb(a).filter(function(e){return e.signal||e.scale?(l.push(e),0):1}),a.length&&l.push(a.length>1?{merge:a}:a[0]),null!=s&&(o&&yb("Signal encode and update are mutually exclusive."),o="encode(item(),"+i(s)+")"),u=xb(o)?QF(o,t,pL):null!=o.expr?QF(o.expr,t,pL):null!=o.value?o.value:null!=o.signal?{$expr:"_.value",$params:{value:t.signalRef(o.signal)}}:yb("Invalid signal update specification."),r={target:n,update:u},e.force&&(r.options={force:!0}),l.forEach(function(e){e={source:eL(e,t)},t.addUpdate(Ub(e,r))})},mL=function(e,t){var n=t.getSignal(e.name);if(e.update){var r=QF(e.update,t);n.update=r.$expr,n.params=r.$params}e.on&&e.on.forEach(function(e){hL(e,t,n.id)})},gL={$tupleid:1,toString:function(){return":_tupleid_:"}},yL=_y("key"),vL="ascending",bL="descending",_L=My("aggregate"),xL=My("axisticks"),SL=My("bound"),wL=My("collect"),OL=My("compare"),kL=My("datajoin"),EL=My("encode"),ML=My("facet"),TL=My("field"),PL=My("key"),CL=My("legendentries"),DL=My("mark"),AL=My("multiextent"),NL=My("multivalues"),RL=My("overlap"),IL=My("params"),FL=My("prefacet"),LL=My("projection"),jL=My("proxy"),zL=My("relay"),$L=My("render"),UL=My("scale"),BL=My("sieve"),qL=My("sortitems"),WL=My("viewlayout"),VL=My("values"),HL=0,GL=["identity","ordinal","band","point","bin-linear","bin-ordinal","linear","pow","sqrt","log","sequential","time","utc","quantize","quantile","threshold"],YL=a_(GL),XL=a_(GL.slice(1,6)),KL=function(e,t){var n={};for(var r in e)"name"!==r&&(n[r]=Gy(e[r],t));t.addProjection(e.name,n)},QL="top",JL="left",ZL="right",ej="bottom",tj="index",nj="label",rj="offset",ij="perc",aj="size",oj="total",sj="value",lj="guide-label",uj="guide-title",cj="group-title",fj=["shape","size","fill","stroke","strokeDash","opacity"],dj={name:1,interactive:1},pj=a_(["rule"]),hj=a_(["group","image","rect"]),mj=function(e,t){var n="";return pj[t]?n:(e.x2&&(e.x?(hj[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(hj[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},gj=function(e,t,n,r){function i(e,i,a,o){var s=Sj(null,i,t,n,r),l=Sj(null,a,t,n,r),u=Sj(null,o,t,n,r);return"this."+e+"("+[s,l,u].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null},yj=function(e,t,n,r){var i=QF(e,t);return i.$fields.forEach(function(e){r[e]=1}),Ub(n,i.$params),i.$expr},vj=function(e,t,n,r){return Yy(_b(e)?e:{datum:e},t,n,r)},bj=function(e,t,n,r,i){var a,o,s,l=Ky(e.scale,n,r,i);return null!=e.range?(a=+e.range,o=l+".range()",t=0===a?o+"[0]":"($="+o+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=l+"("+t+")"),e.band&&(s=Xy(e.scale,n))&&(o=l+".bandwidth",a=+e.band,a=o+"()"+(1===a?"":"*"+a),s<0&&(a="("+o+"?"+a+":0)"),t=(t?t+"+":"")+a,e.extra&&(t="(datum.extra?"+l+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t},_j=function(e,t,n,r){return"this.gradient("+Ky(e.gradient,t,n,r)+","+i(e.start)+","+i(e.stop)+","+i(e.count)+")"},xj=function(e,t,n,r){return _b(e)?"("+Sj(null,e,t,n,r)+")":e},Sj=function(e,t,n,r,a){if(null!=t.gradient)return _j(t,n,r,a);var o=t.signal?yj(t.signal,n,r,a):t.color?gj(t.color,n,r,a):null!=t.field?vj(t.field,n,r,a):void 0!==t.value?i(t.value):void 0;return null!=t.scale&&(o=bj(t,o,n,r,a)),void 0===o&&(o=null),null!=t.exponent&&(o="Math.pow("+o+","+xj(t.exponent,n,r,a)+")"),null!=t.mult&&(o+="*"+xj(t.mult,n,r,a)),null!=t.offset&&(o+="+"+xj(t.offset,n,r,a)),t.round&&(o="Math.round("+o+")"),o},wj=function(e,t,n){return e+"["+i(t)+"]="+n+";"},Oj=function(e,t,n,r,i){var a="";return t.forEach(function(t){var o=Sj(e,t,n,r,i);a+=t.test?yj(t.test,n,r,i)+"?"+o+":":o}),wj("o",e,a)},kj="mark",Ej="frame",Mj="scope",Tj="axis",Pj="axis-domain",Cj="axis-grid",Dj="axis-label",Aj="axis-tick",Nj="axis-title",Rj="legend",Ij="legend-entry",Fj="legend-gradient",Lj="legend-label",jj="legend-symbol",zj="legend-title",$j="title",Uj=function(e,t,n,r,i,a,o){return{type:e,name:o?o.name:void 0,role:t,style:o&&o.style||n,key:r,from:i,interactive:!(!o||!o.interactive),encode:ev(a,o,dj)}},Bj="group",qj="rect",Wj="rule",Vj="symbol",Hj="text",Gj=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o,x:o,y:o},Zy(i,"width",n.gradientWidth),Zy(i,"height",n.gradientHeight),Zy(i,"stroke",n.gradientStrokeColor),Zy(i,"strokeWidth",n.gradientStrokeWidth),s.exit={opacity:o},s.update=a={x:o,y:o,fill:{gradient:t},opacity:{value:1}},Zy(a,"width",n.gradientWidth),Zy(a,"height",n.gradientHeight),Uj(qj,Fj,null,void 0,void 0,s,r)},Yj="datum."+ij+'<=0?"left":datum.'+ij+'>=1?"right":"center"',Xj=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o,text:{field:nj}},Zy(i,"fill",t.labelColor),Zy(i,"font",t.labelFont),Zy(i,"fontSize",t.labelFontSize),Zy(i,"baseline",t.gradientLabelBaseline),Zy(i,"limit",t.gradientLabelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:ij,mult:t.gradientWidth},i.y=a.y={value:t.gradientHeight,offset:t.gradientLabelOffset},i.align=a.align={signal:Yj},Uj(Hj,Lj,lj,ij,r,s,n)},Kj=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},Zy(i,"align",t.labelAlign),Zy(i,"baseline",t.labelBaseline),Zy(i,"fill",t.labelColor),Zy(i,"font",t.labelFont),Zy(i,"fontSize",t.labelFontSize),Zy(i,"limit",t.labelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1},text:{field:nj}},i.x=a.x={field:rj,offset:t.labelOffset},i.y=a.y={field:aj,mult:.5,offset:{field:oj,offset:{field:{group:"entryPadding"},mult:{field:tj}}}},Uj(Hj,Lj,lj,sj,r,s,n)},Qj=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},Zy(i,"shape",t.symbolType),Zy(i,"size",t.symbolSize),Zy(i,"strokeWidth",t.symbolStrokeWidth),e.fill||(Zy(i,"fill",t.symbolFillColor),Zy(i,"stroke",t.symbolStrokeColor)),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:rj,mult:.5},i.y=a.y={field:aj,mult:.5,offset:{field:oj,offset:{field:{group:"entryPadding"},mult:{field:tj}}}},fj.forEach(function(t){e[t]&&(a[t]=i[t]={scale:e[t],field:sj})}),Uj(Vj,jj,null,sj,r,s,n)},Jj=function(e,t,n,r){var i,a={value:0},o=e.title,s={};return s.enter=i={x:{field:{group:"padding"}},y:{field:{group:"padding"}},opacity:a},Zy(i,"align",t.titleAlign),Zy(i,"baseline",t.titleBaseline),Zy(i,"fill",t.titleColor),Zy(i,"font",t.titleFont),Zy(i,"fontSize",t.titleFontSize),Zy(i,"fontWeight",t.titleFontWeight),Zy(i,"limit",t.titleLimit),s.exit={opacity:a},s.update={opacity:{value:1},text:o&&o.signal?{signal:o.signal}:{value:o+""}},Uj(Hj,zj,uj,null,r,s,n)},Zj=function(e,t,n,r,i,a,o){return{type:Bj,name:n,role:e,style:t,from:r,interactive:i,encode:a,marks:o}},ez=function e(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")?t.type===Bj?Mj:e||kj:e},tz=function(e){return{clip:e.clip||!1,interactive:e.interactive!==!1,marktype:e.type,name:e.name||void 0,role:e.role||ez(e),zindex:+e.zindex||void 0}},nz=function(e,t){var n=Ut(e.type);n||yb("Unrecognized transform type: "+i(e.type));var r=yy(n.type.toLowerCase(),null,iv(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r},rz=function(e,t,n){var r,i,a,o,s;return e?(r=e.facet)&&(t||yb("Only group marks can be faceted."),null!=r.field?o=s=by(n.getData(r.data).output):(i=n.keyRef(r.groupby),e.data?s=by(n.getData(e.data).aggregate):(a=nz(Ub({type:"aggregate",groupby:Fb(r.groupby)},r.aggregate)),a.params.key=i,a.params.pulse=by(n.getData(r.data).output),o=s=by(n.add(a))))):o=by(n.add(wL(null,[{}]))),o||(o=e.$ref?e:by(n.getData(e.data).output)),{key:i,pulse:o,parent:s}};gv.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],a=t[n-1],o=t[n-2],s=null;for(e.add(t[0]);r<n;++r)t[r].params.pulse=by(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(s=t[r]);return new gv(e,i,o,a,s)};var iz=gv.prototype;iz.countsRef=function(e,t,n){var r,i,a,o=this,s=o.counts||(o.counts={}),l=yv(t);return null!=l&&(e=o.scope,r=s[l]),r?n&&n.field&&vv(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:by(o.output)},n&&n.field&&vv(e,a,n),i=e.add(_L(a)),r=e.add(wL({pulse:by(i)})),r={agg:i,ref:by(r)},null!=l&&(s[l]=r)),r.ref},iz.tuplesRef=function(){return by(this.values)},iz.extentRef=function(e,t){return bv(e,this,"extent","extent",t,!1)},iz.domainRef=function(e,t){return bv(e,this,"domain","values",t,!1)},iz.valuesRef=function(e,t,n){return bv(e,this,"vals","values",t,n||!0)},iz.lookupRef=function(e,t){return bv(e,this,"lookup","tupleindex",t,!1)},iz.indataRef=function(e,t){return bv(e,this,"indata","tupleindex",t,!0,!0)};var az=function(e,t,n){var r,a,o,s,l=e.from.facet,u=l.name,c=by(t.getData(l.data).output);l.name||yb("Facet must have a name: "+i(l)),l.data||yb("Facet must reference a data set: "+i(l)),l.field?s=t.add(FL({field:t.fieldRef(l.field),pulse:c})):l.groupby?s=t.add(ML({key:t.keyRef(l.groupby),group:by(t.proxy(n.parent)),pulse:c})):yb("Facet must specify groupby or field: "+i(l)),r=t.fork(),a=r.add(wL()),o=r.add(BL({pulse:by(a)})),r.addData(u,new gv(r,a,a,o)),r.addSignal("parent",null),s.params.subflow={$subflow:vz(e,r).toRuntime()}},oz=function(e,t,n){var r=t.add(FL({pulse:n.pulse})),i=t.fork();i.add(BL()),i.addSignal("parent",null),r.params.subflow={$subflow:vz(e,i).toRuntime()}},sz=function(e,t,n){var r,i,a=e.remove,o=e.insert,s=e.toggle,l=e.modify,u=e.values,c=t.add(vy());r="if("+e.trigger+',modify("'+n+'",'+[o,a,s,l,u].map(function(e){return null==e?"null":e}).join(",")+"),0)",i=QF(r,t),c.update=i.$expr,c.params=i.$params},lz=function(e,t){var n,r,i,a,o,s,l,u,c,f,d,p,h,m=ez(e),g=e.type===Bj,y=e.from&&e.from.facet,v=e.layout||m===Mj||m===Ej,b=m===kj||v||y;i=rz(e.from,g,t),r=t.add(kL({key:i.key||(e.key?_y(e.key):void 0),pulse:i.pulse,clean:!g})),c=by(r),r=a=t.add(wL({pulse:c})),r=t.add(DL({markdef:tz(e),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:by(r)})),f=by(r),r=t.add(EL(tv(e.encode,e.type,m,e.style,t,{pulse:f}))),r.params.parent=t.encode(),e.transform&&e.transform.forEach(function(e){var n=nz(e,t);(n.metadata.generates||n.metadata.changes)&&yb("Mark transforms should not generate new data."),n.params.pulse=by(r),t.add(r=n)}),e.sort&&(r=t.add(qL({sort:t.compareRef(e.sort),pulse:by(r)}))),d=by(r),(y||v)&&(v=t.add(WL({layout:t.objectProperty(e.layout),legendMargin:t.config.legendMargin,mark:f,pulse:d})),p=by(v)),o=t.add(SL({mark:f,pulse:p||d})),h=by(o),g&&(b&&(n=t.operators,n.pop(),v&&n.pop()),t.pushState(d,p||h,c),y?az(e,t,i):b?oz(e,t,i):vz(e,t),t.popState(),b&&(v&&n.push(v),n.push(o))),e.overlap&&(h=by(t.add(RL({method:e.overlap===!0?"parity":e.overlap,pulse:h})))),s=t.add($L({pulse:h})),l=t.add(BL({pulse:by(s)},void 0,t.parent())),null!=e.name&&(u=e.name,t.addData(u,new gv(t,a,s,l)),e.on&&e.on.forEach(function(e){(e.insert||e.remove||e.toggle)&&yb("Marks only support modify triggers."),sz(e,t,u)}))},uz=function(e,t){var n,r,i,a,o,s,l,u,c=e.type||"symbol",f=t.config.legend,d=e.encode||{},p=d.legend||{},h=p.name||void 0,m=!!p.interactive,g=p.style,y=e.size||e.shape||e.fill||e.stroke||e.strokeDash||e.opacity;return y||yb("Missing valid scale for legend."),n={orient:Ey(e.orient,f.orient),title:null!=e.title},r=by(t.add(wL(null,[n]))),p=ev({enter:xv(f),update:{offset:Jy(Ey(e.offset,f.offset)),padding:Jy(Ey(e.padding,f.padding)),titlePadding:Jy(Ey(e.titlePadding,f.titlePadding))}},p,dj),s={update:{x:{field:{group:"padding"}},y:{field:{group:"padding"}},entryPadding:Jy(Ey(e.entryPadding,f.entryPadding))}},"gradient"===c?(i=by(t.add(CL({type:"gradient",scale:t.scaleRef(y),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),u=[Gj(e,y,f,d.gradient),Xj(e,f,d.labels,i)]):(i=by(t.add(CL(l={scale:t.scaleRef(y),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),u=[Qj(e,f,d.symbols,i),Kj(e,f,d.labels,i)],l.size=_v(e,t,u)),u=[Zj(Ij,null,null,r,m,s,u)],n.title&&(o=Jj(e,f,d.title,r),s.update.y.offset={field:{group:"titlePadding"},offset:Sv(t,o.encode,"fontSize",uj)},u.push(o)),a=Zj(Rj,g,h,r,m,p,u),e.zindex&&(a.zindex=e.zindex),lz(a,t)},cz=function(e,t){e=xb(e)?{text:e}:e;var n,r,i,a=t.config.title,o=Ub({},e.encode);return n={orient:null!=e.orient?e.orient:a.orient},r=by(t.add(wL(null,[n]))),o.name=e.name,o.interactive=e.interactive,i=wv(e,a,o,r),e.zindex&&(i.zindex=e.zindex),lz(i,t)},fz=function(e,t){var n=t.config,r=e.orient,i=r===QL||r===ej?n.axisX:n.axisY,a=n["axis"+r[0].toUpperCase()+r.slice(1)],o="band"===t.scaleType(e.scale)&&n.axisBand;return i||a||o?Ub({},n.axis,i,a,o):n.axis},dz=function(e,t,n,r){var i,a,o,s,l,u=e.orient,c={value:0},f={};return f.enter=i={opacity:c},Zy(i,"stroke",t.domainColor),Zy(i,"strokeWidth",t.domainWidth),f.exit={opacity:c},f.update=a={opacity:{value:1}},u===QL||u===ej?(o="x",l="y"):(o="y",l="x"),
s=o+"2",i[l]=c,a[o]=i[o]=Mv(e,0),a[s]=i[s]=Mv(e,1),Uj(Wj,Pj,null,null,r,f,n)},pz=function(e,t,n,r){var i,a,o,s,l,u,c,f,d=e.orient,p=e.gridScale,h=d===JL||d===QL?1:-1,m=h*e.offset||0,g={value:0},y={};return y.enter=i={opacity:g},Zy(i,"stroke",t.gridColor),Zy(i,"strokeWidth",t.gridWidth),Zy(i,"strokeDash",t.gridDash),y.exit=a={opacity:g},y.update=o={},Zy(o,"opacity",t.gridOpacity),s={scale:e.scale,field:sj,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},d===QL||d===ej?(l="x",u="y",f="height"):(l="y",u="x",f="width"),c=u+"2",o[l]=i[l]=a[l]=s,p?(i[u]={scale:p,range:0,mult:h,offset:m},o[c]=i[c]={scale:p,range:1,mult:h,offset:m}):(i[u]={value:m},o[c]=i[c]={signal:f,mult:h,offset:m}),Uj(Wj,Cj,null,sj,r,y,n)},hz=function(e,t,n,r,i){var a,o,s,l,u,c=e.orient,f=c===JL||c===QL?-1:1,d={value:0},p={};return p.enter=a={opacity:d},Zy(a,"stroke",t.tickColor),Zy(a,"strokeWidth",t.tickWidth),p.exit=o={opacity:d},p.update=s={opacity:{value:1}},l=Jy(i),l.mult=f,u={scale:e.scale,field:sj,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},c===QL||c===ej?(s.y=a.y=d,s.y2=a.y2=l,s.x=a.x=o.x=u):(s.x=a.x=d,s.x2=a.x2=l,s.y=a.y=o.y=u),Uj(Wj,Aj,null,sj,r,p,n)},mz=function(e,t,n,r,i){var a,o,s,l,u,c=e.orient,f=e.labelOverlap,d=c===JL||c===QL?-1:1,p=null!=e.labelPadding?e.labelPadding:t.labelPadding,h={value:0},m={};return m.enter=a={opacity:h},Zy(a,"angle",t.labelAngle),Zy(a,"fill",t.labelColor),Zy(a,"font",t.labelFont),Zy(a,"fontSize",t.labelFontSize),Zy(a,"limit",t.labelLimit),m.exit=o={opacity:h},m.update=s={opacity:{value:1},text:{field:nj}},l=Jy(i),l.mult=d,l.offset=Jy(p),l.offset.mult=d,u={scale:e.scale,field:sj,band:.5,offset:t.tickOffset},c===QL||c===ej?(s.y=a.y=l,s.x=a.x=o.x=u,Zy(s,"align","center"),Zy(s,"baseline",c===QL?"bottom":"top")):(s.x=a.x=l,s.y=a.y=o.y=u,Zy(s,"align",c===ZL?"left":"right"),Zy(s,"baseline","middle")),e=Uj(Hj,Dj,lj,sj,r,m,n),e.overlap=f||t.labelOverlap,e},gz=function(e,t,n,r){var i,a,o,s=e.orient,l=e.title,u=s===JL||s===QL?-1:1,c=s===QL||s===ej,f={};return f.enter=i={opacity:{value:0}},Zy(i,"align",t.titleAlign),Zy(i,"fill",t.titleColor),Zy(i,"font",t.titleFont),Zy(i,"fontSize",t.titleFontSize),Zy(i,"fontWeight",t.titleFontWeight),Zy(i,"limit",t.titleLimit),f.exit={opacity:{value:0}},f.update=a={opacity:{value:1},text:l&&l.signal?{signal:l.signal}:{value:l+""}},o={scale:e.scale,range:.5},c?(a.x=o,a.angle={value:0},a.baseline={value:s===QL?"bottom":"top"}):(a.y=o,a.angle={value:90*u},a.baseline={value:"bottom"}),Zy(a,"angle",t.titleAngle),Zy(a,"baseline",t.titleBaseline),!Zy(a,"x",t.titleX)&&c&&!rv("x",n)&&(f.enter.auto={value:!0}),!Zy(a,"y",t.titleY)&&!c&&!rv("y",n)&&(f.enter.auto={value:!0}),Uj(Hj,Nj,uj,null,r,f,n)},yz=function(e,t){var n,r,i,a,o,s,l=fz(e,t),u=e.encode||{},c=u.axis||{},f=c.name||void 0,d=!!c.interactive,p=c.style;return n={orient:e.orient,ticks:!!Ey(e.ticks,l.ticks),labels:!!Ey(e.labels,l.labels),grid:!!Ey(e.grid,l.grid),domain:!!Ey(e.domain,l.domain),title:!!Ey(e.title,!1)},r=by(t.add(wL({},[n]))),c=ev({update:{range:{signal:'abs(span(range("'+e.scale+'")))'},offset:Jy(Ey(e.offset,0)),position:Jy(Ey(e.position,0)),titlePadding:Jy(Ey(e.titlePadding,l.titlePadding)),minExtent:Jy(Ey(e.minExtent,l.minExtent)),maxExtent:Jy(Ey(e.maxExtent,l.maxExtent))}},u.axis,dj),i=by(t.add(xL({scale:t.scaleRef(e.scale),extra:l.tickExtra,count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),s=[],n.grid&&s.push(pz(e,l,u.grid,i)),n.ticks&&(a=Ey(e.tickSize,l.tickSize),s.push(hz(e,l,u.ticks,i,a))),n.labels&&(a=n.ticks?a:0,s.push(mz(e,l,u.labels,i,a))),n.domain&&s.push(dz(e,l,u.domain,r)),n.title&&s.push(gz(e,l,u.title,r)),o=Zj(Tj,p,f,r,d,c,s),e.zindex&&(o.zindex=e.zindex),lz(o,t)},vz=function(e,t,n){var r=Fb(e.signals),i=Fb(e.scales);return n||r.forEach(function(e){TI(e,t)}),Fb(e.projections).forEach(function(e){KL(e,t)}),i.forEach(function(e){Cy(e,t)}),Fb(e.data).forEach(function(e){Ov(e,t)}),i.forEach(function(e){Dy(e,t)}),r.forEach(function(e){mL(e,t)}),Fb(e.axes).forEach(function(e){yz(e,t)}),Fb(e.marks).forEach(function(e){lz(e,t)}),Fb(e.legends).forEach(function(e){uz(e,t)}),e.title&&cz(e.title,t),t.parseLambdas(),t},bz=a_(["width","height","padding","autosize"]),_z=Pv.prototype=Cv.prototype;_z.fork=function(){return new Cv(this)},_z.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},_z.id=function(){return(this._subid?this._subid+":":0)+this._id++},_z.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(function(t){t.$ref=e.id}),e.refs=null),e},_z.proxy=function(e){var t=e instanceof gy?by(e):e;return this.add(jL({value:t}))},_z.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},_z.addUpdate=function(e){return this.updates.push(e),e},_z.finish=function(){function e(e,t,n){var r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}var t,n;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;for(t in this.data){n=this.data[t],e(n.input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values");for(var r in n.index)e(n.index[r],t,"index:"+r)}return this},_z.pushState=function(e,t,n){this._encode.push(by(this.add(BL({pulse:e})))),this._parent.push(t),this._lookup.push(n?by(this.proxy(n)):null),this._markpath.push(-1)},_z.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},_z.parent=function(){return e_(this._parent)},_z.encode=function(){return e_(this._encode)},_z.lookup=function(){return e_(this._lookup)},_z.markpath=function(){var e=this._markpath;return++e[e.length-1]},_z.fieldRef=function(e,t){if(xb(e))return _y(e,t);e.signal||yb("Unsupported field reference: "+i(e));var n,r=e.signal,a=this.field[r];return a||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=a=by(this.add(TL(n)))),a},_z.compareRef=function(e){function t(e){return ky(e)?(r=!0,by(n[e.signal])):e}var n=this.signals,r=!1,i=Fb(e.field).map(t),a=Fb(e.order).map(t);return r?by(this.add(OL({fields:i,orders:a}))):xy(i,a)},_z.keyRef=function(e){function t(e){return ky(e)?(r=!0,by(n[e.signal])):e}var n=this.signals,r=!1;return e=Fb(e).map(t),r?by(this.add(PL({fields:e}))):Sy(e)},_z.sortRef=function(e){if(!e)return e;var t=[Oy(e.op,e.field),gL],n=e.order||vL;return n.signal?by(this.add(OL({fields:t,orders:[n=this.signalRef(n.signal),n]}))):xy(t,[n,n])},_z.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},_z.addSignal=function(e,t){this.signals.hasOwnProperty(e)&&yb("Duplicate signal name: "+i(e));var n=t instanceof gy?t:this.add(vy(t));return this.signals[e]=n},_z.getSignal=function(e){return this.signals[e]||yb("Unrecognized signal name: "+i(e)),this.signals[e]},_z.signalRef=function(e){return this.signals[e]?by(this.signals[e]):(this.lambdas.hasOwnProperty(e)||(this.lambdas[e]=this.add(vy(null))),by(this.lambdas[e]))},_z.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=QF(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},_z.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},_z.objectProperty=function(e){return e&&_b(e)?this.signalRef(e.signal||Dv(e)):e},_z.addBinding=function(e,t){this.bindings||yb("Nested signals do not support binding: "+i(e)),this.bindings.push(Ub({signal:e},t))},_z.addScaleProj=function(e,t){this.scales.hasOwnProperty(e)&&yb("Duplicate scale or projection name: "+i(e)),this.scales[e]=this.add(t)},_z.addScale=function(e,t){this.addScaleProj(e,UL(t))},_z.addProjection=function(e,t){this.addScaleProj(e,LL(t))},_z.getScale=function(e){return this.scales[e]||yb("Unrecognized scale name: "+i(e)),this.scales[e]},_z.projectionRef=_z.scaleRef=function(e){return by(this.getScale(e))},_z.projectionType=_z.scaleType=function(e){return this.getScale(e).params.type},_z.addData=function(e,t){return this.data.hasOwnProperty(e)&&yb("Duplicate data set name: "+i(e)),this.data[e]=t},_z.getData=function(e){return this.data[e]||yb("Undefined data set name: "+i(e)),this.data[e]},_z.addDataPipeline=function(e,t){return this.data.hasOwnProperty(e)&&yb("Duplicate data set name: "+i(e)),this.addData(e,gv.fromEntries(this,t))};var xz=function(e){var t=Rv();return(e||[]).forEach(function(e){var n;if(e)for(n in e)t[n]=_b(t[n])?Ub(t[n],e[n]):t[n]=e[n]}),t},Sz="sans-serif",wz=30,Oz=2,kz="#4c78a8",Ez="#000",Mz="#888",Tz="#ddd",Pz=function(e,t){return _b(e)||yb("Input Vega specification must be an object."),Tv(e,new Pv(xz([t,e.config]))).toRuntime()},Cz=[{key:"$ref",parse:qv},{key:"$key",parse:Vv},{key:"$expr",parse:Wv},{key:"$field",parse:Hv},{key:"$encode",parse:Yv},{key:"$compare",parse:Gv},{key:"$context",parse:Xv},{key:"$subflow",parse:Kv},{key:"$tupleid",parse:Qv}],Dz=function(e,t){Zv(e.type)||!e.type?t.operator(e,e.update?Fv(e.update,t):null):t.transform(e,e.type)},Az=function(e,t){var n,r=null!=e.filter?jv(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(n=e.merge.map(t.get.bind(t)),i=n[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&yb("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)},Nz=function(e,t){var n=t.get(e.source),r=null,i=e.update,a=void 0;n||yb("Source not defined: "+e.source),r=e.target&&e.target.$expr?jv(e.target.$expr,t):t.get(e.target),i&&i.$expr&&(i.$params&&(a=Uv(i.$params,t)),i=zv(i.$expr,t)),t.update(e,n,r,i,a)},Rz=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach(function(e){Dz(e,t)}),n.forEach(function(e){tb(e,t)}),(e.streams||[]).forEach(function(e){Az(e,t)}),(e.updates||[]).forEach(function(e){Nz(e,t)}),t.resolve()},Iz={skip:!0},Fz=function(e,t,n){return new ib(e,t,n)};ib.prototype=ab.prototype={fork:function(){var e=new ab(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),eb(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.request(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var a=r.get(e.parent.$ref);a?(i.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(e.parent.$ref),i.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach(function(e){n[e]=t})},resolve:function(){return(this.unresolved||[]).forEach(function(e){e()}),delete this.unresolved,this},operator:function(e,t,n){this.add(e,this.dataflow.add(e.value,t,n,e.react))},transform:function(e,t,n){this.add(e,this.dataflow.add(this.transforms[Jv(t)],n))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:nb,setState:rb};var Lz=function(e,t,n){var r=n||UF;return Rz(t,Fz(e,qx,r))},jz="padding",zz=Vb(hb,jt);zz.run=function(e){if(jt.prototype.run.call(this,e),this._redraw||this._resize)try{this.render()}catch(t){this.error(t)}return this},zz.render=function(){return this._renderer&&(this._resize&&(this._resize=0,mh(this)),this._renderer.render(this._scenegraph.root)),this._redraw=!1,this},zz.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},zz.container=function(){return this._el},zz.scenegraph=function(){return this._scenegraph},zz.signal=function(e,t,n){var r=mb(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},zz.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},zz.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},zz.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},zz.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},zz.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},zz.renderer=function(e){return arguments.length?(ro(e)||yb("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._renderType},zz.loader=function(e){return arguments.length?(e!==this._loader&&(jt.prototype.loader.call(this,e),this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._loader},zz.resize=function(){return this._autosize=1,this},zz._resizeView=ub,zz.addEventListener=function(e,t){return this._handler.on(e,t),this},zz.removeEventListener=function(e,t){return this._handler.off(e,t),this},zz.addSignalListener=function(e,t){var n=mb(this,e),r=function(){t(e,n.value)};return r.handler=t,this.on(n,null,r),this},zz.removeSignalListener=function(e,t){var n=mb(this,e),r=n._targets||[],i=r.filter(function(e){var n=e._update;return n&&n.handler===t});return i.length&&r.remove(i[0]),this},zz.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},zz.tooltipHandler=function(e){var t=this._handler;return arguments.length?(t.handleTooltip=e||Na.prototype.handleTooltip,this):t.handleTooltip},zz.events=bh,zz.finalize=cI,zz.hover=uI,zz.data=lh,zz.change=uh,zz.insert=ch,zz.remove=fh,zz.initialize=bI,zz.toImageURL=xI,zz.toCanvas=SI,zz.toSVG=wI,zz.getState=cb,zz.setState=pb,Ub(qx,sw,_E,CC,YA,LN,PR,qR,JR,nI),e.version=rI,e.Dataflow=jt,e.EventStream=S,e.Parameters=b,e.Pulse=St,e.MultiPulse=Et,e.Operator=_,e.Transform=$t,e.changeset=v,e.ingest=p,e.isTuple=c,e.definition=Ut,e.transform=Bt,e.transforms=qx,e.tupleid=f,e.scale=ml,e.scheme=fC,e.interpolate=xl,e.interpolateRange=vl,e.timeInterval=wl,e.utcInterval=Ol,e.projection=df,e.View=hb,e.parse=Pz,e.expressionFunction=ey,e.formatLocale=$s,e.timeFormatLocale=ft,e.runtime=Rz,e.runtimeContext=Fz,e.bin=Hx,e.bootstrapCI=gS,e.randomInteger=yS,e.randomKDE=_S,e.randomMixture=xS,e.randomNormal=vS,e.randomUniform=SS,e.quartiles=bS,e.accessor=gb,e.accessorName=t,e.accessorFields=r,e.id=Ob,e.identity=kb,e.zero=Eb,e.one=Mb,e.truthy=Tb,e.falsy=Pb,e.logger=Ib,e.None=Cb,e.Error=Db,e.Warn=Ab,e.Info=Nb,e.Debug=Rb,e.array=Fb,e.compare=jb,e.constant=zb,e.debounce=$b,e.error=yb,e.extend=Ub,e.extentIndex=Bb,e.fastmap=Wb,e.field=Sb,e.inherits=Vb,e.isArray=bb,e.isBoolean=Hb,e.isDate=Gb,e.isFunction=Lb,e.isNumber=Yb,e.isObject=_b,e.isRegExp=Xb,e.isString=xb,e.key=Kb,e.merge=Qb,e.pad=Zb,e.peek=e_,e.repeat=Jb,e.splitAccessPath=vb,e.stringValue=i,e.toBoolean=t_,e.toDate=n_,e.toNumber=r_,e.toString=i_,e.toSet=a_,e.truncate=o_,e.visitArray=s_,e.loader=A_,e.read=wx,e.inferType=X,e.inferTypes=K,e.typeParsers=N_,e.formats=q_,e.Bounds=er,e.Gradient=cw,e.GroupItem=nr,e.ResourceLoader=lr,e.Item=tr,e.Scenegraph=Da,e.Handler=Na,e.Renderer=Ra,e.CanvasHandler=Ia,e.CanvasRenderer=ja,e.SVGHandler=Ua,e.SVGRenderer=Va,e.SVGStringRenderer=Za,e.RenderType=Ik,e.renderModule=ro,e.Marks=nk,e.boundContext=Ci,e.boundStroke=SO,e.boundItem=rk,e.boundMark=ak,e.pathCurves=Zr,e.pathSymbols=ii,e.pathRectangle=dO,e.pathTrail=hO,e.pathParse=nO,e.pathRender=sO,e.point=ck,e.canvas=pw,e.domCreate=rr,e.domFind=ir,e.domChild=ar,e.domClear=or,e.openTag=qa,e.closeTag=Wa,e.font=Sa,e.textMetrics=QO,e.resetSVGClipId=qi,e.sceneEqual=io,e.pathEqual=ao,e.sceneToJSON=Ta,e.sceneFromJSON=Pa,e.sceneZOrder=Ri,e.sceneVisit=Ii,e.scenePickVisit=Fi,Object.defineProperty(e,"__esModule",{value:!0})})}).call(t,n(195).Buffer)},function(e,t){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),a=Array.isArray(n);if(i&&a){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=a)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;var s=t instanceof Date,l=n instanceof Date;if(s&&l)return t.getTime()==n.getTime();if(s!=l)return!1;var u=t instanceof RegExp,c=n instanceof RegExp;if(u&&c)return t.toString()==n.toString();if(u!=c)return!1;for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1;return!0}return!1}},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(62),i=n(98),a=n(204),o=n(50),s=n(130),l="popstate",u="hashchange",c=s.canUseDOM&&!(0,i.supportsPopstateOnHashchange)(),f=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,a.readState)(t):void 0},void 0,t)},d=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return f(e)},p=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,i.isExtraneousPopstateEvent)(t)||e(f(t.state))};(0,i.addEventListener)(window,l,t);var n=function(){return e(d())};return c&&(0,i.addEventListener)(window,u,n),function(){(0,i.removeEventListener)(window,l,t),c&&(0,i.removeEventListener)(window,u,n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,a.saveState)(r,n),t({key:r},(0,o.createPath)(e))});t.pushLocation=function(e){return p(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return p(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(386),a=n(50),o=n(132),s=r(o),l=n(97),u=n(62),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,r=e.pushLocation,o=e.replaceLocation,c=e.go,f=e.keyLength,d=void 0,p=void 0,h=[],m=[],g=[],y=function(){return p&&p.action===l.POP?g.indexOf(p.key):d?g.indexOf(d.key):-1},v=function(e){var t=y();d=e,d.action===l.PUSH?g=[].concat(g.slice(0,t+1),[d.key]):d.action===l.REPLACE&&(g[t]=d.key),m.forEach(function(e){return e(d)})},b=function(e){return h.push(e),function(){return h=h.filter(function(t){return t!==e})}},_=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},x=function(e,t){(0,i.loopAsync)(h.length,function(t,n,r){(0,s.default)(h[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(e!==!1)}):t(e!==!1)})},S=function(e){d&&(0,u.locationsAreEqual)(d,e)||p&&(0,u.locationsAreEqual)(p,e)||(p=e,x(e,function(t){if(p===e)if(p=null,t){if(e.action===l.PUSH){var n=(0,a.createPath)(d),i=(0,a.createPath)(e);i===n&&(0,u.statesAreEqual)(d.state,e.state)&&(e.action=l.REPLACE)}e.action===l.POP?v(e):e.action===l.PUSH?r(e)!==!1&&v(e):e.action===l.REPLACE&&o(e)!==!1&&v(e)}else if(d&&e.action===l.POP){var s=g.indexOf(d.key),f=g.indexOf(e.key);s!==-1&&f!==-1&&c(s-f)}}))},w=function(e){return S(P(e,l.PUSH))},O=function(e){return S(P(e,l.REPLACE))},k=function(){return c(-1)},E=function(){return c(1)},M=function(){return Math.random().toString(36).substr(2,f||6)},T=function(e){return(0,a.createPath)(e)},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M();return(0,u.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:_,transitionTo:S,push:w,replace:O,go:c,goBack:k,goForward:E,createKey:M,createPath:a.createPath,createHref:T,createLocation:P}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(53),a=(r(i),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(395),a=r(i),o=n(398),s=r(o),l=n(397),u=r(l),c=n(399),f=r(c),d=n(400),p=r(d),h=n(401),m=r(h),g=n(402),y=r(g),v=n(403),b=r(v),_=n(404),x=r(_),S=n(405),w=r(S),O=n(406),k=r(O),E=n(408),M=r(E),T=n(396),P=r(T),C=[u.default,s.default,f.default,m.default,y.default,b.default,x.default,w.default,k.default,p.default],D=(0,a.default)({prefixMap:P.default.prefixMap,plugins:C},M.default);t.default=D,e.exports=t.default},function(e,t){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(435),a=n(437),o=n(442),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){"use strict";e.exports=n(467)},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function a(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function o(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var a=i.nextSibling;if(m(e,i,r),i===n)break;i=a}}function l(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function u(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(h(i,n),l(r,i,t)):l(r,e,t)}var c=n(64),f=n(459),d=(n(17),n(35),n(146)),p=n(103),h=n(236),m=d(function(e,t,n){e.insertBefore(t,n)}),g=f.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":a(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":p(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":o(e,s.fromNode)}}}};e.exports=y},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:o("96",e),!u.plugins[n]){t.extractEvents?void 0:o("97",e),u.plugins[n]=t;var r=t.eventTypes;for(var a in r)i(r[a],t,a)?void 0:o("98",a,e)}}}function i(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?o("99",n):void 0,u.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];a(s,t,n)}return!0}return!!e.registrationName&&(a(e.registrationName,t,n),!0)}function a(e,t,n){u.registrationNameModules[e]?o("100",e):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=n(10),s=(n(4),null),l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?o("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];l.hasOwnProperty(n)&&l[n]===i||(l[n]?o("102",n):void 0,l[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=u.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function a(e){return"topMouseDown"===e||"topTouchStart"===e}function o(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=y.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)o(e,t,n[i],r[i]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?y.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function f(e){return!!e._dispatchListeners}var d,p,h=n(10),m=n(144),g=(n(4),n(9),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){p=e}}),y={isEndish:r,isMoveish:i,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:f,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return p.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return p.traverseEnterLeave(e,t,n,r,i)},injection:g};e.exports=y},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:n,unescape:r};e.exports=i},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(10),l=n(488),u=n(215),c=n(69),f=u(c.isValidElement),d=(n(4),n(9),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:f.func},h={},m={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,"prop",null,l);if(i instanceof Error&&!(i.message in h)){h[i.message]=!0;o(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(10),i=(n(4),!1),a={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r("104"):void 0,a.replaceNodeWithMarkup=e.replaceNodeWithMarkup,a.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(r){null===i&&(i=r)}}var i=null,a={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=a},function(e,t,n){"use strict";function r(e){l.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function a(e,t){var n=s.get(e);if(!n){return null}return n}var o=n(10),s=(n(46),n(81)),l=(n(35),n(40)),u=(n(4),n(9),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){u.validateCallback(t,n);var i=a(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=a(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=a(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(u.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=a(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?o("122",t,i(e)):void 0}});e.exports=u},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,a=n(26);a.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,a=typeof t;return"string"===i||"number"===i?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key;
}e.exports=n},function(e,t,n){"use strict";var r=(n(20),n(34)),i=(n(9),r);e.exports=i},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t,n){function r(){return o=!0,s?void(u=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!o&&(l=!0,!s)){for(s=!0;!o&&a<e&&l;)l=!1,t.call(this,a++,i,r);return s=!1,o?void n.apply(this,u):void(a>=e&&l&&(o=!0,n()))}}var a=0,o=!1,s=!1,l=!1,u=void 0;i()}function r(e,t,n){function r(e,t,r){o||(t?(o=!0,n(t)):(a[e]=r,o=++s===i,o&&n(null,a)))}var i=e.length,a=[];if(0===i)return n(null,a);var o=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"@@contextSubscriber/"+e}function a(e){var t,n,r=i(e),a=r+"/listeners",o=r+"/eventIndex",s=r+"/subscribe";return n={childContextTypes:(t={},t[r]=u.isRequired,t),getChildContext:function(){var e;return e={},e[r]={eventIndex:this[o],subscribe:this[s]},e},componentWillMount:function(){this[a]=[],this[o]=0},componentWillReceiveProps:function(){this[o]++},componentDidUpdate:function(){var e=this;this[a].forEach(function(t){return t(e[o])})}},n[s]=function(e){var t=this;return this[a].push(e),function(){t[a]=t[a].filter(function(t){return t!==e})}},n}function o(e){var t,n,r=i(e),a=r+"/lastRenderedEventIndex",o=r+"/handleContextUpdate",s=r+"/unsubscribe";return n={contextTypes:(t={},t[r]=u,t),getInitialState:function(){var e;return this.context[r]?(e={},e[a]=this.context[r].eventIndex,e):{}},componentDidMount:function(){this.context[r]&&(this[s]=this.context[r].subscribe(this[o]))},componentWillReceiveProps:function(){var e;this.context[r]&&this.setState((e={},e[a]=this.context[r].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[o]=function(e){if(e!==this.state[a]){var t;this.setState((t={},t[a]=e,t))}},n}t.__esModule=!0,t.ContextProvider=a,t.ContextSubscriber=o;var s=n(18),l=r(s),u=l.default.shape({subscribe:l.default.func.isRequired,eventIndex:l.default.number.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(18);t.routerShape=(0,r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired}),t.locationShape=(0,r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(24),s=r(o),l=n(16),u=r(l),c=n(43),f=r(c),d=n(18),p=n(541),h=r(p),m=n(155),g=n(51),y=(0,f.default)({displayName:"RouterContext",mixins:[(0,m.ContextProvider)("router")],propTypes:{router:d.object.isRequired,location:d.object.isRequired,routes:d.array.isRequired,params:d.object.isRequired,components:d.array.isRequired,createElement:d.func.isRequired},getDefaultProps:function(){return{createElement:u.default.createElement}},childContextTypes:{router:d.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,o=t.params,l=t.components,c=t.router,f=null;return l&&(f=l.reduceRight(function(t,s,l){if(null==s)return t;var u=r[l],f=(0,h.default)(u,o),d={location:n,params:o,route:u,router:c,routeParams:f,routes:r};if((0,g.isReactChildren)(t))d.children=t;else if(t)for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(d[p]=t[p]);if("object"===("undefined"==typeof s?"undefined":a(s))){var m={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(m[y]=e.createElement(s[y],i({key:y},d)));return m}return e.createElement(s,d)},f)),null===f||f===!1||u.default.isValidElement(f)?void 0:(0,s.default)(!1),f}});t.default=y,e.exports=t.default},function(e,t,n){var r=n(549);e.exports=r},function(e,t,n){var r=n(550),i=n(18);e.exports=function(e,t,n){var i=e[t];if(i){var a=[];if(Object.keys(i).forEach(function(e){r.indexOf(e)===-1&&a.push(e)}),a.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+a.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},20,function(e,t,n){"use strict";function r(e,t){return t.bin?(e[s.field(t,{})]=!0,e[s.field(t,{binSuffix:"end"})]=!0,t.type!==u.ORDINAL&&t.type!==u.NOMINAL||(e[s.field(t,{binSuffix:"range"})]=!0)):e[s.field(t)]=!0,e}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(11),l=n(7),u=n(48),c=n(3),f=n(21),d=function(e){function t(t,n){var r=e.call(this)||this;return r.dimensions=t,r.measures=n,r}return a.__extends(t,e),t.prototype.clone=function(){return new t(c.extend({},this.dimensions),c.duplicate(this.measures))},t.makeFromEncoding=function(e){var n=!1;e.forEachFieldDef(function(e){e.aggregate&&(n=!0)});var i={},a={};return n?(e.forEachFieldDef(function(t,n){t.aggregate?"count"===t.aggregate?(i["*"]=i["*"]||{},i["*"].count=s.field(t,{aggregate:"count"})):(i[t.field]=i[t.field]||{},i[t.field][t.aggregate]=s.field(t),o.isScaleChannel(n)&&"unaggregated"===e.scaleDomain(n)&&(i[t.field].min=s.field(t,{aggregate:"min"}),i[t.field].max=s.field(t,{aggregate:"max"}))):r(a,t)}),c.keys(a).length+c.keys(i).length===0?null:new t(a,i)):null},t.makeFromTransform=function(e){for(var n={},r={},i=0,a=e.summarize;i<a.length;i++){var o=a[i];o.aggregate&&("count"===o.aggregate?(r["*"]=r["*"]||{},r["*"].count=o.as||s.field(o)):(r[o.field]=r[o.field]||{},r[o.field][o.aggregate]=o.as||s.field(o)))}for(var l=0,u=e.groupby;l<u.length;l++){var o=u[l];n[o]=!0}return c.keys(n).length+c.keys(r).length===0?null:new t(n,r)},t.prototype.merge=function(e){c.differ(this.dimensions,e.dimensions)?l.debug("different dimensions, cannot merge"):(i(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return c.keys(this.dimensions).forEach(function(t){return e[t]=!0}),c.keys(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return c.keys(this.measures).forEach(function(n){c.keys(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){var e=this,t=[],n=[],r=[];c.keys(this.measures).forEach(function(i){c.keys(e.measures[i]).forEach(function(a){r.push(e.measures[i][a]),t.push(a),n.push(i)})});var i={type:"aggregate",groupby:c.keys(this.dimensions),ops:t,fields:n,as:r};return i},t}(f.DataFlowNode);t.AggregateNode=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(12),o=n(41),s=n(87),l=n(21),u=function(e){function t(t,n,r){var l=e.call(this)||this;l.model=t,l.name=n,l.data=r,l.childIndependentFieldWithStep={},t.facet.column&&(l.columnFields=[t.field(i.COLUMN)],l.columnName=t.getName("column_domain"),t.fieldDef(i.COLUMN).bin&&l.columnFields.push(t.field(i.COLUMN,{binSuffix:"range"}))),t.facet.row&&(l.rowFields=[t.field(i.ROW)],l.rowName=t.getName("row_domain"),t.fieldDef(i.ROW).bin&&l.rowFields.push(t.field(i.ROW,{binSuffix:"range"})));for(var u=0,c=["x","y"];u<c.length;u++){var f=c[u],d=t.child.component.scales[f];if(d&&!d.merged){var p=d.get("type"),h=d.get("range");if(a.hasDiscreteDomain(p)&&o.isVgRangeStep(h)){var m=s.getFieldFromDomains(d.domains);if(!m)throw new Error("We do not yet support calculation of size for faceted union domain.");l.childIndependentFieldWithStep[f]=m}}}return l}return r.__extends(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){var e=[];return this.columnFields&&(e=e.concat(this.columnFields)),this.rowFields&&(e=e.concat(this.rowFields)),e},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.assembleRowColumnData=function(e,t){var n="row"===e?"y":"x",i={};return this.childIndependentFieldWithStep[n]&&(i=t?{fields:["distinct_"+this.childIndependentFieldWithStep[n]],ops:["max"],as:["distinct_"+this.childIndependentFieldWithStep[n]]}:{fields:[this.childIndependentFieldWithStep[n]],ops:["distinct"]}),{name:"row"===e?this.rowName:this.columnName,source:t||this.data,transform:[r.__assign({type:"aggregate",groupby:"row"===e?this.rowFields:this.columnFields},i)]}},t.prototype.assemble=function(){var e=[],t=null;if(this.columnName&&this.rowName&&(this.childIndependentFieldWithStep.x||this.childIndependentFieldWithStep.y)){t="cross_"+this.columnName+"_"+this.rowName;var n=[].concat(this.childIndependentFieldWithStep.x?[this.childIndependentFieldWithStep.x]:[],this.childIndependentFieldWithStep.y?[this.childIndependentFieldWithStep.y]:[]),r=n.map(function(){return"distinct"});e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.columnFields.concat(this.rowFields),fields:n,ops:r}]})}return this.columnName&&e.push(this.assembleRowColumnData("column",t)),this.rowName&&e.push(this.assembleRowColumnData("row",t)),e},t}(l.DataFlowNode);t.FacetNode=u},function(e,t,n){"use strict";function r(e,t){var n="datum["+f.stringValue(e)+"]";if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return l.warn(l.message.unrecognizedParse(t)),null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(85),o=n(11),s=n(114),l=n(7),u=n(171),c=n(115),f=n(3),d=n(22),p=n(21),h=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(f.duplicate(this.parse))},t.make=function(e){var n={},r={};(e.transforms||[]).forEach(function(e){c.isCalculate(e)?r[e.as]=!0:c.isFilter(e)&&u.forEachLeave(e.filter,function(e){(s.isEqualFilter(e)||s.isRangeFilter(e)||s.isOneOfFilter(e))&&e.timeUnit&&(n[e.field]="date")})},{}),(d.isUnitModel(e)||d.isFacetModel(e))&&e.forEachFieldDef(function(e){if(o.isTimeFieldDef(e))n[e.field]="date";else if(o.isNumberFieldDef(e)){if(r[e.field]||a.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var p=i.format.parse;f.keys(p).forEach(function(e){n[e]=p[e]})}var h=e.component.data.ancestorParse;return f.keys(h).forEach(function(e){n[e]!==h[e]?l.warn(l.message.differentParse(e,n[e],h[e])):delete n[e]}),0===f.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=f.extend(this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return f.toSet(f.keys(this.parse))},t.prototype.dependentFields=function(){return f.toSet(f.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return f.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(p.DataFlowNode);t.ParseNode=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(12),o=n(3),s=n(21),l=function(e){function t(t){var n=e.call(this)||this;return n._filter=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(o.extend({},this._filter))},t.make=function(e){var n=i.SCALE_CHANNELS.reduce(function(t,n){var r=e.getScaleComponent(n);return r&&e.field(n)?(t[e.field(n)]=r.get("type")===a.ScaleType.LOG,t):t},{});return o.keys(n).length?new t(n):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this;return o.keys(this._filter).filter(function(t){return e._filter[t]}).map(function(e){return{type:"filter",expr:"datum["+o.stringValue(e)+"] > 0"}})},t}(s.DataFlowNode);t.NonPositiveFilterNode=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(12),o=n(48),s=n(3),l=n(21),u=function(e){function t(t){var n=e.call(this)||this;return n._filteredFields=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this._filteredFields))},t.make=function(e){var n=e.reduceFieldDef(function(t,n,r){if("filter"===e.config.invalidValues&&!n.aggregate&&n.field){var o=i.isScaleChannel(r)&&e.getScaleComponent(r);if(o){var s=o.get("type");a.hasContinuousDomain(s)&&(t[n.field]=n)}}return t},{});return 0===s.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"filteredFields",{get:function(){return this._filteredFields},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){var t=this,n=s.keys(this._filteredFields).map(function(e){return e+" "+s.hash(t._filteredFields[e])}),r=s.keys(e.filteredFields).map(function(t){return t+" "+s.hash(e.filteredFields[t])});s.differArray(n,r)||(this._filteredFields=s.extend(this._filteredFields,e._filteredFields),e.remove())},t.prototype.assemble=function(){var e=this,t=s.keys(this._filteredFields).reduce(function(t,n){var r=e._filteredFields[n];return null!==r&&(t.push("datum["+s.stringValue(r.field)+"] !== null"),s.contains([o.QUANTITATIVE,o.TEMPORAL],r.type)&&t.push("!isNaN(datum["+s.stringValue(r.field)+"])")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(l.DataFlowNode);t.NullFilterNode=u},function(e,t,n){"use strict";function r(e){return e.stack.stackBy.reduce(function(e,t){var n=t.fieldDef,r=o.field(n);return r&&e.push(r),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(15),o=n(11),s=n(3),l=n(29),u=n(21),c=function(e){function t(t){var n=e.call(this)||this;return n._stack=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this._stack))},t.make=function(e){var n=e.stack;if(!n)return null;var i;n.groupbyChannel&&(i=e.fieldDef(n.groupbyChannel));var a,o=r(e),s=e.encoding.order;return a=s?l.sortParams(s):o.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]}),new t({dimensionFieldDef:i,field:e.field(n.fieldChannel),facetby:[],stackby:o,sort:a,offset:n.offset,impute:n.impute})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.facetby=this._stack.facetby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.field]=!0,this.getGroupbyFields().forEach(function(t){return e[t]=!0}),this._stack.facetby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return a.isArray(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){var e={};return e[this._stack.field+"_start"]=!0,e[this._stack.field+"_end"]=!0,e},t.prototype.getGroupbyFields=function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute;return t?t.bin?n?[o.field(t,{binSuffix:"mid"})]:[o.field(t,{}),o.field(t,{binSuffix:"end"})]:[o.field(t)]:[]},t.prototype.assemble=function(){var e=[],t=this._stack,n=t.facetby,r=t.field,i=t.dimensionFieldDef,a=t.impute,s=t.offset,l=t.sort,u=t.stackby;if(a&&i){var c=i?o.field(i,{binSuffix:"mid"}):void 0;i.bin&&e.push({type:"formula",expr:"("+o.field(i,{expr:"datum"})+"+"+o.field(i,{expr:"datum",binSuffix:"end"})+")/2",as:c}),e.push({type:"impute",field:r,groupby:u,key:c,method:"value",value:0})}return e.push({type:"stack",groupby:this.getGroupbyFields().concat(n),field:r,sort:l,as:[r+"_start",r+"_end"],offset:s}),e},t}(u.DataFlowNode);t.StackNode=c},function(e,t,n){"use strict";function r(e,n,r){var a=c.channelSignalName(n,r,"visual"),s=c.channelSignalName(n,r,"data"),d=f.default.has(n),p=e.scaleName(r),h=u.stringValue(p),m=e.getScaleComponent(r),g=m?m.get("type"):void 0,y=e.getSizeSignalRef(r===o.X?"width":"height").signal,v=r+"(unit)",b=i(n,function(e,t){return e.concat({events:t.between[0],update:"["+v+", "+v+"]"},{events:t,update:"["+a+"[0], clamp("+v+", 0, "+y+")]"})});return b.push({events:{signal:n.name+t.SCALE_TRIGGER},update:l.hasContinuousDomain(g)&&!l.isBinScale(g)?"[scale("+h+", "+s+"[0]), scale("+h+", "+s+"[1])]":"[0, 0]"}),d?[{name:s,on:[]}]:[{name:a,value:[],on:b},{name:s,on:[{events:{signal:a},update:a+"[0] === "+a+"[1] ? null : invert("+h+", "+a+")"}]}]}function i(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(s.warn(n+" is not an ordered event stream for interval selections"),e)},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(7),l=n(12),u=n(3),c=n(23),f=n(112);t.BRUSH="_brush",t.SCALE_TRIGGER="_scale_trigger";var d={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var a=n.name,d=f.default.has(n),p=[],h=[],m=[],g=[];if(n.translate&&!d){var y="!event.item || event.item.mark.name !== "+u.stringValue(a+t.BRUSH);i(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(y)<0&&n.push(y)})}return n.project.forEach(function(t){var i=t.channel;if(i!==o.X&&i!==o.Y)return void s.warn("Interval selections only support x and y encoding channels.");var a=r(e,n,i),f=c.channelSignalName(n,i,"data"),d=c.channelSignalName(n,i,"visual"),y=u.stringValue(e.scaleName(i)),v=e.getScaleComponent(i).get("type"),b=l.hasContinuousDomain(v)?"+":"";p.push.apply(p,a),m.push(f),h.push("{encoding: "+u.stringValue(i)+", "+("field: "+u.stringValue(t.field)+", extent: "+f+"}")),g.push({scaleName:e.scaleName(i),expr:"(!isArray("+f+") || "+("("+b+"invert("+y+", "+d+")[0] === "+b+f+"[0] && ")+(b+"invert("+y+", "+d+")[1] === "+b+f+"[1]))")})}),d||p.push({name:a+t.SCALE_TRIGGER,update:g.map(function(e){return e.expr}).join(" && ")+(" ? "+(a+t.SCALE_TRIGGER)+" : {}")}),p.concat({name:a+c.TUPLE,on:[{events:m.map(function(e){return{signal:e}}),update:m.join(" && ")+(" ? {unit: "+c.unitName(e)+", intervals: ["+h.join(", ")+"]} : null")}]})},modifyExpr:function(e,t){var n=t.name+c.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+c.unitName(e)+"}")},marks:function(e,n,r){var i=n.name,o=c.spatialProjections(n),s=o.xi,l=o.yi,d="data("+u.stringValue(n.name+c.STORE)+")";if(f.default.has(n))return r;var p={x:null!==s?{signal:i+"_x[0]"}:{value:0},y:null!==l?{signal:i+"_y[0]"}:{value:0},x2:null!==s?{signal:i+"_x[1]"}:{field:{group:"width"}},y2:null!==l?{signal:i+"_y[1]"}:{field:{group:"height"}}};"global"===n.resolve&&u.keys(p).forEach(function(t){p[t]=[a.__assign({test:d+".length && "+d+"[0].unit === "+c.unitName(e)},p[t]),{value:0}]});var h=n.mark,m=h.fill,g=h.fillOpacity,y=a.__rest(h,["fill","fillOpacity"]),v=u.keys(y).reduce(function(e,t){return e[t]={value:y[t]},e},{});return[{name:i+t.BRUSH+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:m},fillOpacity:{value:g}},update:p}}].concat(r,{name:i+t.BRUSH,type:"rect",clip:!0,encode:{enter:a.__assign({fill:{value:"transparent"}},v),update:p}})}};t.default=d},[669,23],[672,262,85,105,6,113,582,281,55,56,30,613,11,170,31,12,173,88,174,73,115,48,3,616,427],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLegendConfig={},t.LEGEND_PROPERTIES=["entryPadding","format","offset","orient","tickCount","title","type","values","zindex"],t.VG_LEGEND_PROPERTIES=[].concat(["fill","stroke","shape","size","opacity","encode"],t.LEGEND_PROPERTIES)},function(e,t){"use strict";function n(e){return!!e.or}function r(e){return!!e.and}function i(e){return!!e.not}function a(e,t){if(i(e))a(e.not,t);else if(r(e))for(var o=0,s=e.and;o<s.length;o++){var l=s[o];a(l,t)}else if(n(e))for(var u=0,c=e.or;u<c.length;u++){var l=c[u];a(l,t)}else t(e)}function o(e,t){return i(e)?{not:o(e.not,t)}:r(e)?{and:e.and.map(function(e){return o(e,t)})}:n(e)?{or:e.or.map(function(e){return o(e,t)})}:t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicalOr=n,t.isLogicalAnd=r,t.isLogicalNot=i,t.forEachLeave=a,t.normalizeLogicalOperand=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTION_ID="_vgsid_",t.defaultConfig={single:{on:"click",fields:[t.SELECTION_ID],resolve:"global"},multi:{on:"click",fields:[t.SELECTION_ID],toggle:"event.shiftKey",resolve:"global"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}}},function(e,t){"use strict";function n(e){return!(!e||"count"!==e.op&&!e.field||!e.op)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSortField=n},function(e,t,n){"use strict";function r(e,n,r){var d=u.isMarkDef(e)?e.type:e;if(!f.contains(t.STACKABLE_MARKS,d))return null;if(!o.isAggregate(n))return null;var p=a.NONSPATIAL_CHANNELS.reduce(function(e,t){if(o.channelHasField(n,t)){var r=n[t];(f.isArray(r)?r:[r]).forEach(function(n){var r=s.getFieldDef(n);r.aggregate||e.push({channel:t,fieldDef:r})})}return e},[]);if(0===p.length)return null;var h=s.isFieldDef(n.x),m=s.isFieldDef(n.y),g=s.isFieldDef(n.x)&&!!n.x.aggregate,y=s.isFieldDef(n.y)&&!!n.y.aggregate;if(g!==y){var v=g?a.X:a.Y,b=n[v],_=b.aggregate,x=b.scale,S=null;return S=void 0!==b.stack?b.stack:f.contains(t.STACK_BY_DEFAULT_MARKS,d)&&void 0===r?"zero":r,S&&"none"!==S?x&&x.type&&x.type!==c.ScaleType.LINEAR?(l.warn(l.message.cannotStackNonLinearScale(x.type)),null):o.channelHasField(n,v===a.X?a.X2:a.Y2)?(l.warn(l.message.cannotStackRangedMark(v)),null):f.contains(i.SUM_OPS,_)?{groupbyChannel:g?m?a.Y:null:h?a.X:null,fieldChannel:v,impute:f.contains(["area","line"],d),stackBy:p,offset:S}:(l.warn(l.message.cannotStackNonSummativeAggregate(_)),null):null}return null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85),a=n(6),o=n(30),s=n(11),l=n(7),u=n(31),c=n(12),f=n(3);t.STACKABLE_MARKS=[u.BAR,u.AREA,u.RULE,u.POINT,u.CIRCLE,u.SQUARE,u.LINE,u.TEXT,u.TICK],t.STACK_BY_DEFAULT_MARKS=[u.BAR,u.AREA],t.stack=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_AXIS_CONFIG={quantitativeExtent:30},t.AXIS_PROPERTY_TYPE={grid:"grid",labelOverlap:"main",offset:"main",maxExtent:"main",minExtent:"main",title:"main"},t.AXIS_PROPERTIES=["domain","format","grid","labelPadding","labels","labelOverlap","maxExtent","minExtent","offset","orient","position","tickCount","tickExtra","ticks","tickSize","title","titlePadding","values","zindex"],t.VG_AXIS_PROPERTIES=[].concat(t.AXIS_PROPERTIES,["gridScale"])},function(e,t,n){"use strict";function r(e,t){return t.bin?(e[s.field(t,{binSuffix:"start"})]=!0,e[s.field(t,{binSuffix:"end"})]=!0,t.type===u.ORDINAL&&(e[s.field(t,{binSuffix:"range"})]=!0)):e[s.field(t)]=!0,e}function i(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(5),s=n(14),l=n(8),u=n(33),c=n(2),f=n(27),d=function(e){function t(t,n){var r=e.call(this)||this;return r.dimensions=t,r.measures=n,r}return a.__extends(t,e),t.prototype.clone=function(){return new t(c.extend({},this.dimensions),c.duplicate(this.measures))},t.makeFromEncoding=function(e){var n=!1;e.forEachFieldDef(function(e){e.aggregate&&(n=!0)});var i={},a={};return n?(e.forEachFieldDef(function(t,n){t.aggregate?"count"===t.aggregate?(i["*"]=i["*"]||{},i["*"].count=s.field(t,{aggregate:"count"})):(i[t.field]=i[t.field]||{},i[t.field][t.aggregate]=s.field(t),o.isScaleChannel(n)&&"unaggregated"===e.scaleDomain(n)&&(i[t.field].min=s.field(t,{aggregate:"min"}),i[t.field].max=s.field(t,{aggregate:"max"}))):r(a,t)}),c.keys(a).length+c.keys(i).length===0?null:new t(a,i)):null},t.makeFromTransform=function(e,n){for(var r={},i={},a=0,o=n.summarize;a<o.length;a++){var l=o[a];l.aggregate&&("count"===l.aggregate?(i["*"]=i["*"]||{},i["*"].count=l.as||s.field(l)):(i[l.field]=i[l.field]||{},i[l.field][l.aggregate]=l.as||s.field(l)))}for(var u=0,f=n.groupby;u<f.length;u++){var l=f[u];r[l]=!0}return c.keys(r).length+c.keys(i).length===0?null:new t(r,i)},t.prototype.merge=function(e){c.differ(this.dimensions,e.dimensions)?l.debug("different dimensions, cannot merge"):(i(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return c.keys(this.dimensions).forEach(function(t){return e[t]=!0}),c.keys(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return c.keys(this.measures).forEach(function(n){c.keys(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){var e=this,t=[],n=[],r=[];c.keys(this.measures).forEach(function(i){c.keys(e.measures[i]).forEach(function(a){r.push(e.measures[i][a]),t.push(a),n.push(i)})});var i={type:"aggregate",groupby:c.keys(this.dimensions),ops:t,fields:n,as:r};return i},t}(f.DataFlowNode);t.AggregateNode=d},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.hasDiscreteDomain(n);if(i){var a=e instanceof f.UnitModel?e.axis(n)||e.legend(n)||{}:{},o=l.field(t,{expr:"datum",binSuffix:"start"}),s=l.field(t,{expr:"datum",binSuffix:"end"});return{formulaAs:l.field(t,{binSuffix:"range"}),formula:c.numberFormatExpr(o,a.format,r)+' + " - " + '+c.numberFormatExpr(s,a.format,r)}}return{}}function i(e,t){return s.binToString(e)+"_"+t}function a(e,t,n,r){return{bin:e,field:t.field,as:[l.field(t,{binSuffix:"start"}),l.field(t,{binSuffix:"end"})],signal:n.getName(r+"_bins"),extentSignal:n.getName(r+"_extent")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(90),l=n(14),u=n(2),c=n(19),f=n(39),d=n(27),p=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return o.__extends(t,e),t.prototype.clone=function(){return new t(u.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,s){var u=n.bin;if(u){var c=l.normalizeBin(u,void 0)||{},f=i(c,n.field);f in t||(t[f]=a(c,n,e,f)),t[f]=o.__assign({},t[f],r(e,n,s,e.config))}return t},{});return 0===u.keys(n).length?null:new t(n)},t.makeFromTransform=function(e,n){var r=l.normalizeBin(n.bin,void 0)||{},o=i(r,n.field);return new t((s={},s[o]=a(r,n,e,o),s));var s},t.prototype.merge=function(e){this.bins=u.extend(e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return u.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return u.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return u.flatten(u.vals(this.bins).map(function(e){var t=[],n=o.__assign({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return e.bin.extent||(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(d.DataFlowNode);t.BinNode=p},function(e,t,n){"use strict";function r(e,n,r){var a=c.channelSignalName(n,r,"visual"),s=c.channelSignalName(n,r,"data"),d=f.default.has(n),p=e.scaleName(r),h=u.stringValue(p),m=e.getScaleComponent(r),g=m?m.get("type"):void 0,y=e.getSizeSignalRef(r===o.X?"width":"height").signal,v=r+"(unit)",b=i(n,function(e,t){return e.concat({events:t.between[0],update:"["+v+", "+v+"]"},{events:t,update:"["+a+"[0], clamp("+v+", 0, "+y+")]"})});return b.push({events:{signal:n.name+t.SCALE_TRIGGER},update:l.hasContinuousDomain(g)&&!l.isBinScale(g)?"[scale("+h+", "+s+"[0]), scale("+h+", "+s+"[1])]":"[0, 0]"}),d?[{name:s,on:[]}]:[{name:a,value:[],on:b},{name:s,on:[{events:{signal:a},update:"invert("+h+", "+a+")"}]}]}function i(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(s.warn(n+" is not an ordered event stream for interval selections"),e)},[])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(5),s=n(8),l=n(13),u=n(2),c=n(25),f=n(122);t.BRUSH="_brush",t.SCALE_TRIGGER="_scale_trigger";var d={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var a=n.name,d=f.default.has(n),p=[],h=[],m=[];if(n.translate&&!d){var g="!event.item || event.item.mark.name !== "+u.stringValue(a+t.BRUSH);i(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(g)<0&&n.push(g)})}return n.project.forEach(function(t){var i=t.channel;if(i!==o.X&&i!==o.Y)return void s.warn("Interval selections only support x and y encoding channels.");var a=r(e,n,i),f=c.channelSignalName(n,i,"data"),d=c.channelSignalName(n,i,"visual"),g=u.stringValue(e.scaleName(i)),y=e.getScaleComponent(i).get("type"),v=l.hasContinuousDomain(y)?"+":"";p.push.apply(p,a),h.push("{encoding: "+u.stringValue(i)+", "+("field: "+u.stringValue(t.field)+", extent: "+f+"}")),m.push({scaleName:e.scaleName(i),expr:"(!isArray("+f+") || "+("("+v+"invert("+g+", "+d+")[0] === "+v+f+"[0] && ")+(v+"invert("+g+", "+d+")[1] === "+v+f+"[1]))")})}),d||p.push({name:a+t.SCALE_TRIGGER,update:m.map(function(e){return e.expr}).join(" && ")+(" ? "+(a+t.SCALE_TRIGGER)+" : {}")}),p.concat({name:a+c.TUPLE,update:"{unit: "+u.stringValue(e.getName(""))+", intervals: ["+h.join(", ")+"]}"})},modifyExpr:function(e,t){var n=t.name+c.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+u.stringValue(e.getName(""))+"}")},marks:function(e,n,r){var i=n.name,o=c.spatialProjections(n),s=o.xi,l=o.yi,d=(i+c.TUPLE,"data("+u.stringValue(n.name+c.STORE)+")");if(f.default.has(n))return r;var p={x:null!==s?{signal:i+"_x[0]"}:{value:0},y:null!==l?{signal:i+"_y[0]"}:{value:0},x2:null!==s?{signal:i+"_x[1]"}:{field:{group:"width"}},y2:null!==l?{signal:i+"_y[1]"}:{field:{group:"height"}}};"global"===n.resolve&&u.keys(p).forEach(function(t){p[t]=[a.__assign({test:d+".length && "+d+"[0].unit === "+u.stringValue(e.getName(""))},p[t]),{value:0}]});var h=n.mark,m=h.fill,g=h.fillOpacity,y=a.__rest(h,["fill","fillOpacity"]),v=u.keys(y).reduce(function(e,t){return e[t]={value:y[t]},e},{});return[{type:"rect",encode:{enter:{fill:{value:m},fillOpacity:{value:g}},update:p}}].concat(r,{name:i+t.BRUSH,type:"rect",encode:{enter:a.__assign({fill:{value:"transparent"}},v),update:p}})}};t.default=d},[669,25],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLegendConfig={orient:void 0},t.LEGEND_PROPERTIES=["entryPadding","format","offset","orient","tickCount","title","type","values","zindex"],t.VG_LEGEND_PROPERTIES=[].concat(["fill","stroke","shape","size","opacity","encode"],t.LEGEND_PROPERTIES)},function(e,t){"use strict";function n(e){return!(!e||"count"!==e.op&&!e.field||!e.op)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSortField=n},function(e,t,n){"use strict";function r(e,n,r){var d=u.isMarkDef(e)?e.type:e;if(!f.contains(t.STACKABLE_MARKS,d))return null;if(!o.isAggregate(n))return null;var p=a.STACK_BY_CHANNELS.reduce(function(e,t){if(o.channelHasField(n,t)){var r=n[t];(f.isArray(r)?r:[r]).forEach(function(n){var r=s.getFieldDef(n);r.aggregate||e.push({channel:t,fieldDef:r})})}return e},[]);if(0===p.length)return null;var h=s.isFieldDef(n.x),m=s.isFieldDef(n.y),g=s.isFieldDef(n.x)&&!!n.x.aggregate,y=s.isFieldDef(n.y)&&!!n.y.aggregate;
if(g!==y){var v=g?a.X:a.Y,b=n[v],_=b.aggregate,x=b.scale,S=null;return S=void 0!==b.stack?b.stack:f.contains(t.STACK_BY_DEFAULT_MARKS,d)&&void 0===r?"zero":r,S&&"none"!==S?x&&x.type&&x.type!==c.ScaleType.LINEAR?(l.warn(l.message.cannotStackNonLinearScale(x.type)),null):o.channelHasField(n,v===a.X?a.X2:a.Y2)?(l.warn(l.message.cannotStackRangedMark(v)),null):f.contains(i.SUM_OPS,_)?{groupbyChannel:g?m?a.Y:null:h?a.X:null,fieldChannel:v,stackBy:p,offset:S}:(l.warn(l.message.cannotStackNonSummativeAggregate(_)),null):null}return null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(89),a=n(5),o=n(32),s=n(14),l=n(8),u=n(28),c=n(13),f=n(2);t.STACKABLE_MARKS=[u.BAR,u.AREA,u.RULE,u.POINT,u.CIRCLE,u.SQUARE,u.LINE,u.TEXT,u.TICK],t.STACK_BY_DEFAULT_MARKS=[u.BAR,u.AREA],t.stack=r},function(e,t){"use strict";function n(e){return void 0!==e.filter}function r(e){return void 0!==e.lookup}function i(e){return void 0!==e.calculate}function a(e){return void 0!==e.bin}function o(e){return void 0!==e.timeUnit}function s(e){return void 0!==e.summarize}Object.defineProperty(t,"__esModule",{value:!0}),t.isFilter=n,t.isLookup=r,t.isCalculate=i,t.isBin=a,t.isTimeUnit=o,t.isSummarize=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){i.copy(e,this)}var i=n(60);e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maximum"==t,m=h?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[m],y=e.opts.$data&&g&&g.$data,v=h?"<":">",b=h?">":"<",r=void 0;if(y){var _=e.util.getData(g.$data,s,e.dataPathArr),x="exclusive"+o,S="exclType"+o,w="exclIsNumber"+o,O="op"+o,k="' + "+O+" + '";a+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,a+=" var "+x+"; var "+S+" = typeof "+_+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var r=m,E=E||[];E.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var M=a;a=E.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+S+" == 'number' ? ( ("+x+" = "+i+" === undefined || "+_+" "+v+"= "+i+") ? "+d+" "+b+"= "+_+" : "+d+" "+b+" "+i+" ) : ( ("+x+" = "+_+" === true) ? "+d+" "+b+"= "+i+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { var op"+o+" = "+x+" ? '"+v+"' : '"+v+"=';"}else{var w="number"==typeof g,k=v;if(w&&p){var O="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" ( "+i+" === undefined || "+g+" "+v+"= "+i+" ? "+d+" "+b+"= "+g+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { "}else{w&&void 0===l?(x=!0,r=m,c=e.errSchemaPath+"/"+m,i=g,b+="="):(w&&(i=Math[h?"min":"max"](g,l)),g===(!w||i)?(x=!0,r=m,c=e.errSchemaPath+"/"+m,b+="="):(x=!1,k+="="));var O="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+" "+b+" "+i+" || "+d+" !== "+d+") { "}}r=r||t;var E=E||[];E.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+O+", limit: "+i+", exclusive: "+x+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+k+" ",a+=p?"' + "+i:""+i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var M=a;return a=E.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxItems"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+".length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxLength"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=e.opts.unicode===!1?" "+d+".length ":" ucs2length("+d+") ",a+=" "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxProperties"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" Object.keys("+d+").length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){function r(e){for(var t=e.rules,n=0;n<t.length;n++)if(i(t[n]))return!0}function i(t){return void 0!==e.schema[t.keyword]||t.implements&&a(t)}function a(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}var o="",s=e.schema.$async===!0,l=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),u=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var c="es7"==e.opts.async;e.yieldAwait=c?"await":"yield"}o+=" var validate = ",s?c?o+=" (async function ":("*"!=e.opts.async&&(o+="co.wrap"),o+="(function* "):o+=" (function ",o+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",u&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" "+("/*# sourceURL="+u+" */")+" ")}if("boolean"==typeof e.schema||!l&&!e.schema.$ref){var f,t="false schema",d=e.level,p=e.dataLevel,h=e.schema[t],m=e.schemaPath+e.util.getProperty(t),g=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,v="data"+(p||""),b="valid"+d;if(e.schema===!1){e.isTop?y=!0:o+=" var "+b+" = false; ";var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: {} ",e.opts.messages!==!1&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else o+=e.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+b+" = true; ";return e.isTop&&(o+=" }); return validate; "),o}if(e.isTop){var S=e.isTop,d=e.level=0,p=e.dataLevel=0,v="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; "}else{var d=e.level,p=e.dataLevel,v="data"+(p||"");if(u&&(e.baseId=e.resolve.url(e.baseId,u)),s&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+d+" = errors;"}var f,b="valid"+d,y=!e.opts.allErrors,w="",O="",k=e.schema.type,E=Array.isArray(k);if(E&&1==k.length&&(k=k[0],E=!1),e.schema.$ref&&l){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(l=!1,console.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(k){if(e.opts.coerceTypes)var M=e.util.coerceToTypes(e.opts.coerceTypes,k);var T=e.RULES.types[k];if(M||E||T===!0||T&&!r(T)){var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",m=e.schemaPath+".type",g=e.errSchemaPath+"/type",P=E?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[P](k,v,!0)+") { ",M){var C="dataType"+d,D="coerced"+d;o+=" var "+C+" = typeof "+v+"; ","array"==e.opts.coerceTypes&&(o+=" if ("+C+" == 'object' && Array.isArray("+v+")) "+C+" = 'array'; "),o+=" var "+D+" = undefined; ";var A="",N=M;if(N)for(var R,I=-1,F=N.length-1;I<F;)R=N[I+=1],I&&(o+=" if ("+D+" === undefined) { ",A+="}"),"array"==e.opts.coerceTypes&&"array"!=R&&(o+=" if ("+C+" == 'array' && "+v+".length == 1) { "+D+" = "+v+" = "+v+"[0]; "+C+" = typeof "+v+";  } "),"string"==R?o+=" if ("+C+" == 'number' || "+C+" == 'boolean') "+D+" = '' + "+v+"; else if ("+v+" === null) "+D+" = ''; ":"number"==R||"integer"==R?(o+=" if ("+C+" == 'boolean' || "+v+" === null || ("+C+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==R&&(o+=" && !("+v+" % 1)"),o+=")) "+D+" = +"+v+"; "):"boolean"==R?o+=" if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+D+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+D+" = true; ":"null"==R?o+=" if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+D+" = null; ":"array"==e.opts.coerceTypes&&"array"==R&&(o+=" if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+v+" == null) "+D+" = ["+v+"]; ");o+=" "+A+" if ("+D+" === undefined) {   ";var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  ";var L=p?"data"+(p-1||""):"parentData",j=p?e.dataPathArr[p]:"parentDataProperty";o+=" "+v+" = "+D+"; ",p||(o+="if ("+L+" !== undefined)"),o+=" "+L+"["+j+"] = "+D+"; } "}else{var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}o+=" } "}}if(e.schema.$ref&&!l)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(o+=" } if (errors === ",o+=S?"0":"errs_"+d,o+=") { ",O+="}");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var z=e.RULES;if(z)for(var T,$=-1,U=z.length-1;$<U;)if(T=z[$+=1],r(T)){if(T.type&&(o+=" if ("+e.util.checkDataType(T.type,v)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==T.type&&e.schema.properties){var h=e.schema.properties,B=Object.keys(h),q=B;if(q)for(var W,V=-1,H=q.length-1;V<H;){W=q[V+=1];var G=h[W];if(void 0!==G.default){var Y=v+e.util.getProperty(W);o+="  if ("+Y+" === undefined) "+Y+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(G.default)+" ":" "+JSON.stringify(G.default)+" ",o+="; "}}}else if("array"==T.type&&Array.isArray(e.schema.items)){var X=e.schema.items;if(X)for(var G,I=-1,K=X.length-1;I<K;)if(G=X[I+=1],void 0!==G.default){var Y=v+"["+I+"]";o+="  if ("+Y+" === undefined) "+Y+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(G.default)+" ":" "+JSON.stringify(G.default)+" ",o+="; "}}var Q=T.rules;if(Q)for(var J,Z=-1,ee=Q.length-1;Z<ee;)if(J=Q[Z+=1],i(J)){var te=J.code(e,J.keyword,T.type);te&&(o+=" "+te+" ",y&&(w+="}"))}if(y&&(o+=" "+w+" ",w=""),T.type&&(o+=" } ",k&&k===T.type&&!M)){o+=" else { ";var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",_=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } "}y&&(o+=" if (errors === ",o+=S?"0":"errs_"+d,o+=") { ",O+="}")}}return y&&(o+=" "+O+" "),S?(s?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }); return validate;"):o+=" var "+b+" = errors === errs_"+d+";",o=e.util.cleanUpCode(o),S&&(o=e.util.finalCleanUpCode(o,s)),o}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return{value:e.vegaSpec,compiledVegaSpec:e.compiledVegaSpec,mode:e.mode}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(16),f=i(c),d=n(36),p=n(42),h=r(p),m={cursor:"pointer"},g={position:"absolute",right:"50%",height:25,width:35},y=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"editVegaSpec",value:function(){this.props.updateVegaSpec(JSON.stringify(this.props.value,null,2))}},{key:"render",value:function(){if(this.props.compiledVegaSpec){var e=Object.assign({},m,{position:"static"});return f.default.createElement("div",{className:"editor-header",style:e,onClick:this.props.showCompiledVegaSpec},f.default.createElement("span",{style:{marginLeft:10}},"Compiled Vega"),f.default.createElement("svg",{style:g},f.default.createElement("polygon",{points:"5,5 30,5 17.5,20"})),f.default.createElement("button",{onClick:this.editVegaSpec.bind(this),style:{position:"absolute",right:"3%",cursor:"pointer"}},"Edit Vega spec"))}return f.default.createElement("div",{onClick:this.props.showCompiledVegaSpec,className:"editor-header",style:m},f.default.createElement("span",{style:{marginLeft:10}},"Compiled Vega"),f.default.createElement("svg",{style:g},f.default.createElement("polygon",{points:"5,20 30,20 17.5,5"})))}}]),t}(f.default.Component),v=function(e){return{updateVegaSpec:function(t){e(h.updateVegaSpec(t))},showCompiledVegaSpec:function(){e(h.showCompiledVegaSpec())}}};t.default=(0,d.connect)(l,v)(y)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="vega",r="vega-lite";t.MODES={Vega:n,VegaLite:r},t.LAYOUT={HeaderHeight:56},t.RENDERERS={SVG:"svg",Canvas:"canvas"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_STATE=void 0;var r=n(192),i=n(194);t.DEFAULT_STATE={editorString:"{}",vegaSpec:{},vegaLiteSpec:null,selectedExample:null,mode:r.MODES.Vega,renderer:r.RENDERERS.Canvas,autoParse:!0,parse:!1,compiledVegaSpec:!1,gist:null,error:null,errorPane:!1,warningsLogger:new i.LocalLogger,tooltip:!0}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalLogger=function(){function e(){n(this,e),this.warns=[],this.infos=[],this.debugs=[]}return r(e,[{key:"level",value:function(){return this}},{key:"warn",value:function(){var e;return(e=this.warns).push.apply(e,arguments),this}},{key:"info",value:function(){var e;return(e=this.infos).push.apply(e,arguments),this}},{key:"debug",value:function(){var e;return(e=this.debugs).push.apply(e,arguments),this}}]),e}()},function(e,t,n){(function(e,r){"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,n){if(a()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,n,r)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(t,n){if(l(n),t=o(t,n<0?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function f(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);t=o(t,i);var a=t.write(n,r);return a!==i&&(t=t.slice(0,a)),t}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=d(t,n),t}function h(t,n){if(e.isBuffer(n)){var r=0|m(n.length);return t=o(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||K(n.length)?o(t,0):d(t,n);if("Buffer"===n.type&&Z(n.data))return d(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(t){return+t!=t&&(t=0),e.alloc(+t)}function y(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return V(t).length;n=(""+n).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(t,n,r,i,a){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:x(t,n,r,i,a);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):x(t,[n],r,i,a);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(a(e,u)===a(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*o}else c!==-1&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(a(e,u+d)!==a(t,d)){f=!1;break}if(f)return u}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return X(V(t,e.length-n),e,n,r)}function O(e,t,n,r){return X(H(t),e,n,r)}function k(e,t,n,r){return O(e,t,n,r)}function E(e,t,n,r){return X(Y(t),e,n,r)}function M(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[i+1],128===(192&l)&&(f=(31&a)<<6|63&l,f>127&&(o=f));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(f=(15&a)<<12|(63&l)<<6|63&u,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return C(r)}function C(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=W(e[a]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,r,i,a,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return i||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function B(e){if(e=q(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function Y(e){return Q.toByteArray(B(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}var Q=n(353),J=n(394),Z=n(423);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=a(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return s(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return u(null,e,t,n)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,a=0,o=Math.min(r,i);a<o;++a)if(t[a]!==n[a]){r=t[a],i=n[a];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){var o=t[r];if(!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),
this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,a){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),n<0||r>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,s=r-n,l=Math.min(o,s),u=this.slice(i,a),c=t.slice(n,r),f=0;f<l;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return O(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var a=n-t;i=new e(a,(void 0));for(var o=0;o<a;++o)i[o]=this[o+t]}return i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):j(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var a,o=i-r;if(this===t&&r<n&&n<i)for(a=o-1;a>=0;--a)t[a+n]=this[a+r];else if(o<1e3||!e.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var o;if("number"==typeof t)for(o=n;o<r;++o)this[o]=t;else{var s=e.isBuffer(t)?t:V(new e(t,i).toString()),l=s.length;for(o=0;o<r-n;++o)this[o+n]=s[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(195).Buffer,function(){return this}())},function(e,t){function n(e){var t=this,n=f.call(arguments,1);return new Promise(function(i,a){function o(t){var n;try{n=e.next(t)}catch(r){return a(r)}u(n)}function l(t){var n;try{n=e.throw(t)}catch(r){return a(r)}u(n)}function u(e){if(e.done)return i(e.value);var n=r.call(t,e.value);return n&&s(n)?n.then(o,l):l(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}return"function"==typeof e&&(e=e.apply(t,n)),e&&"function"==typeof e.next?void o():i(e)})}function r(e){return e?s(e)?e:u(e)||l(e)?n.call(this,e):"function"==typeof e?i.call(this,e):Array.isArray(e)?a.call(this,e):c(e)?o.call(this,e):e:e}function i(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){return e?r(e):(arguments.length>2&&(t=f.call(arguments,1)),void n(t))})})}function a(e){return Promise.all(e.map(r,this))}function o(e){function t(e,t){n[t]=void 0,a.push(e.then(function(e){n[t]=e}))}for(var n=new e.constructor,i=Object.keys(e),a=[],o=0;o<i.length;o++){var l=i[o],u=r.call(this,e[l]);u&&s(u)?t(u,l):n[l]=e[l]}return Promise.all(a).then(function(){return n})}function s(e){return"function"==typeof e.then}function l(e){return"function"==typeof e.next&&"function"==typeof e.throw}function u(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||l(t.prototype))}function c(e){return Object==e.constructor}var f=Array.prototype.slice;e.exports=n.default=n.co=n,n.wrap=function(e){function t(){return n.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=v.hasOwnProperty(t)?v[t]:null;S.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function a(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;n.hasOwnProperty(u)&&b.mixins(e,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==u){var s=n[o],c=r.hasOwnProperty(o);if(i(c,o),b.hasOwnProperty(o))b[o](e,s);else{var f=v.hasOwnProperty(o),h="function"==typeof s,m=h&&!f&&!c&&n.autobind!==!1;if(m)a.push(o,s),r[o]=s;else if(c){var g=v[o];l(f&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,o),"DEFINE_MANY_MERGED"===g?r[o]=d(r[o],s):"DEFINE_MANY"===g&&(r[o]=p(r[o],s))}else r[o]=s}}}else;}function c(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;l(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;l(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function f(e,t){l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=h(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=s,this.updater=i||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;l("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=a});t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(a.bind(null,t)),a(t,_),a(t,e),a(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in v)t.prototype[i]||(t.prototype[i]=null);return t}var y=[],v={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},_={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return o(w.prototype,e.prototype,S),g}var a,o=n(355),s=n(96),l=n(4),u="mixins";a={},e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,o.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(393),o=r(a);e.exports=t.default},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Z&&t.documentElement.namespaceURI===Z?t.createElement(e):t.createElementNS(n,e)}}function n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(){return new i}function i(){this._="@"+(++re).toString(36)}function a(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(t,n,r){return function(i){var a=e.event;e.event=i;try{t.call(this,this.__data__,n,r)}finally{e.event=a}}}function s(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function l(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(e,t,n){var r=le.hasOwnProperty(e.type)?a:o;return function(i,a,o){var s,l=this.__on,u=r(t,a,o);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function c(t,n,r,i){var a=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(r,i)}finally{e.event=a}}function f(){}function d(){return[]}function p(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,r,i,a){for(var o,s=0,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new p(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function m(e,t,n,r,i,a,o){var s,l,u,c={},f=t.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(h[s]=u=Se+o.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<d;++s)u=Se+o.call(e,a[s],s,a),(l=c[u])?(r[s]=l,l.__data__=a[s],c[u]=null):n[s]=new p(e,a[s]);for(s=0;s<f;++s)(l=t[s])&&c[h[s]]===l&&(i[s]=l)}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function b(e,t){return function(){this.setAttribute(e,t)}}function _(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function w(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function k(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function E(e,t){return e.style.getPropertyValue(t)||Ie(e).getComputedStyle(e,null).getPropertyValue(t)}function M(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function P(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function C(e){return e.trim().split(/^|\s+/)}function D(e){return e.classList||new A(e)}function A(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function N(e,t){for(var n=D(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function R(e,t){for(var n=D(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function I(e){return function(){N(this,e)}}function F(e){return function(){R(this,e)}}function L(e,t){return function(){(t.apply(this,arguments)?N:R)(this,e)}}function j(){this.textContent=""}function z(e){return function(){this.textContent=e}}function $(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function U(){this.innerHTML=""}function B(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function V(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function G(){var e=this.parentNode;e&&e.removeChild(this)}function Y(e,t,n){var r=Ie(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function X(e,t){return function(){return Y(this,e,t)}}function K(e,t){return function(){return Y(this,e,t.apply(this,arguments))}}function Q(e,t){this._groups=e,this._parents=t}function J(){return new Q([[document.documentElement]],Ye)}var Z="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},te=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ee.hasOwnProperty(t)?{space:ee[t],local:e}:e},ne=function(e){var r=te(e);return(r.local?n:t)(r)},re=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ie=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var ae=document.documentElement;if(!ae.matches){var oe=ae.webkitMatchesSelector||ae.msMatchesSelector||ae.mozMatchesSelector||ae.oMatchesSelector;ie=function(e){return function(){return oe.call(this,e)}}}}var se=ie,le={};if(e.event=null,"undefined"!=typeof document){var ue=document.documentElement;"onmouseenter"in ue||(le={mouseenter:"mouseover",mouseleave:"mouseout"})}var ce=function(e,t,n){var r,i,a=s(e+""),o=a.length;{if(!(arguments.length<2)){for(c=t?u:l,null==n&&(n=!1),r=0;r<o;++r)this.each(c(a[r],t,n));return this}var c=this.node().__on;if(c)for(var f,d=0,p=c.length;d<p;++d)for(r=0,f=c[d];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value}},fe=function(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n},de=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},pe=function(e){var t=fe();return t.changedTouches&&(t=t.changedTouches[0]),de(e,t)},he=function(e){return null==e?f:function(){return this.querySelector(e)}},me=function(e){"function"!=typeof e&&(e=he(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Q(r,this._parents)},ge=function(e){return null==e?d:function(){return this.querySelectorAll(e)}},ye=function(e){"function"!=typeof e&&(e=ge(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(e.call(o,o.__data__,u,s)),i.push(o));return new Q(r,i)},ve=function(e){"function"!=typeof e&&(e=se(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Q(r,this._parents)},be=function(e){return new Array(e.length)},_e=function(){return new Q(this._enter||this._groups.map(be),this._parents)};p.prototype={constructor:p,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var xe=function(e){return function(){return e}},Se="$",we=function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each(function(e){p[++u]=e}),p;var n=t?m:h,r=this._parents,i=this._groups;"function"!=typeof e&&(e=xe(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],d=f.length,p=e.call(c,c&&c.__data__,u,r),g=p.length,y=s[u]=new Array(g),v=o[u]=new Array(g),b=l[u]=new Array(d);n(c,f,y,v,b,p,t);for(var _,x,S=0,w=0;S<g;++S)if(_=y[S]){for(S>=w&&(w=S+1);!(x=v[w])&&++w<g;);_._next=x||null}}return o=new Q(o,r),o._enter=s,o._exit=l,o},Oe=function(){return new Q(this._exit||this._groups.map(be),this._parents)},ke=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=t[s],c=n[s],f=u.length,d=o[s]=new Array(f),p=0;p<f;++p)(l=u[p]||c[p])&&(d[p]=l);for(;s<r;++s)o[s]=t[s];return new Q(o,this._parents)},Ee=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},Me=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new Q(i,this._parents).order()},Te=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},Pe=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},Ce=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},De=function(){var e=0;return this.each(function(){++e}),e},Ae=function(){return!this.node()},Ne=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},Re=function(e,t){var n=te(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?v:y:"function"==typeof t?n.local?S:x:n.local?_:b)(n,t))},Ie=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView},Fe=function(e,t,n){return arguments.length>1?this.each((null==t?w:"function"==typeof t?k:O)(e,t,null==n?"":n)):E(this.node(),e)},Le=function(e,t){return arguments.length>1?this.each((null==t?M:"function"==typeof t?P:T)(e,t)):this.node()[e]};A.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var je=function(e,t){var n=C(e+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?L:t?I:F)(n,t))},ze=function(e){return arguments.length?this.each(null==e?j:("function"==typeof e?$:z)(e)):this.node().textContent},$e=function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?q:B)(e)):this.node().innerHTML},Ue=function(){return this.each(W)},Be=function(){return this.each(V)},qe=function(e){var t="function"==typeof e?e:ne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},We=function(e,t){var n="function"==typeof e?e:ne(e),r=null==t?H:"function"==typeof t?t:he(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Ve=function(){return this.each(G)},He=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},Ge=function(e,t){return this.each(("function"==typeof t?K:X)(e,t))},Ye=[null];Q.prototype=J.prototype={constructor:Q,select:me,selectAll:ye,filter:ve,data:we,enter:_e,exit:Oe,merge:ke,order:Ee,sort:Me,call:Te,nodes:Pe,node:Ce,size:De,empty:Ae,each:Ne,attr:Re,style:Fe,property:Le,classed:je,text:ze,html:$e,raise:Ue,lower:Be,append:qe,insert:We,remove:Ve,datum:He,on:ce,dispatch:Ge};var Xe=function(e){return"string"==typeof e?new Q([[document.querySelector(e)]],[document.documentElement]):new Q([[e]],Ye)},Ke=function(e){return"string"==typeof e?new Q([document.querySelectorAll(e)],[document.documentElement]):new Q([null==e?[]:e],Ye)},Qe=function(e,t,n){arguments.length<3&&(n=t,t=fe().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return de(e,r);return null},Je=function(e,t){null==t&&(t=fe().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=de(e,t[n]);return i};e.creator=ne,e.local=r,e.matcher=se,e.mouse=pe,e.namespace=te,e.namespaces=ee,e.select=Xe,e.selectAll=Ke,e.selection=J,e.selector=he,e.selectorAll=ge,e.style=E,e.touch=Qe,e.touches=Je,e.window=Ie,e.customEvent=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,n,r,o){function s(t){return e(t=new Date((+t))),t}return s.floor=s,s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return n(e=new Date((+e)),null==t?1:Math.floor(t)),e},s.range=function(t,r,i){var a=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return a;do a.push(new Date((+t)));while(n(t,i),e(t),t<r);return a},s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){if(e>=e)if(t<0)for(;++t<=0;)for(;n(e,-1),!r(e););else for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(s.count=function(t,n){return i.setTime(+t),a.setTime(+n),e(i),e(a),Math.floor(r(i,a))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}function n(e){return t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/d})}function r(e){return t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/d})}var i=new Date,a=new Date,o=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null};var s=o.range,l=1e3,u=6e4,c=36e5,f=864e5,d=6048e5,p=t(function(e){e.setTime(Math.floor(e/l)*l)},function(e,t){e.setTime(+e+t*l)},function(e,t){return(t-e)/l},function(e){return e.getUTCSeconds()}),h=p.range,m=t(function(e){e.setTime(Math.floor(e/u)*u)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getMinutes()}),g=m.range,y=t(function(e){var t=e.getTimezoneOffset()*u%c;t<0&&(t+=c),e.setTime(Math.floor((+e-t)/c)*c+t)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getHours()}),v=y.range,b=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/f},function(e){return e.getDate()-1}),_=b.range,x=n(0),S=n(1),w=n(2),O=n(3),k=n(4),E=n(5),M=n(6),T=x.range,P=S.range,C=w.range,D=O.range,A=k.range,N=E.range,R=M.range,I=t(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),F=I.range,L=t(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});L.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var j=L.range,z=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getUTCMinutes()}),$=z.range,U=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getUTCHours()}),B=U.range,q=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/f},function(e){return e.getUTCDate()-1}),W=q.range,V=r(0),H=r(1),G=r(2),Y=r(3),X=r(4),K=r(5),Q=r(6),J=V.range,Z=H.range,ee=G.range,te=Y.range,ne=X.range,re=K.range,ie=Q.range,ae=t(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),oe=ae.range,se=t(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){
e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var le=se.range;e.timeInterval=t,e.timeMillisecond=o,e.timeMilliseconds=s,e.utcMillisecond=o,e.utcMilliseconds=s,e.timeSecond=p,e.timeSeconds=h,e.utcSecond=p,e.utcSeconds=h,e.timeMinute=m,e.timeMinutes=g,e.timeHour=y,e.timeHours=v,e.timeDay=b,e.timeDays=_,e.timeWeek=x,e.timeWeeks=T,e.timeSunday=x,e.timeSundays=T,e.timeMonday=S,e.timeMondays=P,e.timeTuesday=w,e.timeTuesdays=C,e.timeWednesday=O,e.timeWednesdays=D,e.timeThursday=k,e.timeThursdays=A,e.timeFriday=E,e.timeFridays=N,e.timeSaturday=M,e.timeSaturdays=R,e.timeMonth=I,e.timeMonths=F,e.timeYear=L,e.timeYears=j,e.utcMinute=z,e.utcMinutes=$,e.utcHour=U,e.utcHours=B,e.utcDay=q,e.utcDays=W,e.utcWeek=V,e.utcWeeks=J,e.utcSunday=V,e.utcSundays=J,e.utcMonday=H,e.utcMondays=Z,e.utcTuesday=G,e.utcTuesdays=ee,e.utcWednesday=Y,e.utcWednesdays=te,e.utcThursday=X,e.utcThursdays=ne,e.utcFriday=K,e.utcFridays=re,e.utcSaturday=Q,e.utcSaturdays=ie,e.utcMonth=ae,e.utcMonths=oe,e.utcYear=se,e.utcYears=le,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";var r=n(34),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.readState=t.saveState=void 0;var i=n(53),a=(r(i),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),o={SecurityError:!0},s="@@History/",l=function(e){return s+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(l(e)):window.sessionStorage.setItem(l(e),JSON.stringify(t))}catch(n){if(o[n.name])return;if(a[n.name]&&0===window.sessionStorage.length)return;throw n}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(l(e))}catch(n){if(o[n.name])return}if(t)try{return JSON.parse(t)}catch(n){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(132),o=r(a),s=n(50),l=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.basename,a=function(e){return e?(r&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(r.toLowerCase())?(e.pathname=e.pathname.substring(r.length),e.basename=r,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},l=function(e){if(!r)return e;var t="string"==typeof e?(0,s.parsePath)(e):e,n=t.pathname,a="/"===r.slice(-1)?r:r+"/",o="/"===n.charAt(0)?n.slice(1):n,l=a+o;return i({},t,{pathname:l})},u=function(){return a(n.getCurrentLocation())},c=function(e){return n.listenBefore(function(t,n){return(0,o.default)(e,a(t),n)})},f=function(e){return n.listen(function(t){return e(a(t))})},d=function(e){return n.push(l(e))},p=function(e){return n.replace(l(e))},h=function(e){return n.createPath(l(e))},m=function(e){return n.createHref(l(e))},g=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return a(n.createLocation.apply(n,[l(e)].concat(r)))};return i({},n,{getCurrentLocation:u,listenBefore:c,listen:f,push:d,replace:p,createPath:h,createHref:m,createLocation:g})}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(449),o=n(132),s=r(o),l=n(62),u=n(50),c=function(e){return(0,a.stringify)(e).replace(/%20/g,"+")},f=a.parse,d=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.stringifyQuery,a=t.parseQueryString;"function"!=typeof r&&(r=c),"function"!=typeof a&&(a=f);var o=function(e){return e?(null==e.query&&(e.query=a(e.search.substring(1))),e):e},d=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,u.parsePath)(e):e,a=r(t),o=a?"?"+a:"";return i({},n,{search:o})},p=function(){return o(n.getCurrentLocation())},h=function(e){return n.listenBefore(function(t,n){return(0,s.default)(e,o(t),n)})},m=function(e){return n.listen(function(t){return e(o(t))})},g=function(e){return n.push(d(e,e.query))},y=function(e){return n.replace(d(e,e.query))},v=function(e){return n.createPath(d(e,e.query))},b=function(e){return n.createHref(d(e,e.query))},_=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=n.createLocation.apply(n,[d(e,e.query)].concat(r));return e.query&&(a.query=(0,l.createQuery)(e.query)),o(a)};return i({},n,{getCurrentLocation:p,listenBefore:h,listen:m,push:g,replace:y,createPath:v,createHref:b,createLocation:_})}};t.default=d},function(e,t){"use strict";function n(e,t){e.indexOf(t)===-1&&e.push(t)}function r(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){return e instanceof Object&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega 3.0 Visualization Specification Language",defs:{autosize:{oneOf:[{enum:["pad","fit","none"]},{type:"object",properties:{type:{enum:["pad","fit","none"]},resize:{type:"boolean"},contains:{enum:["content","padding"]}},required:["type"],additionalProperties:!1}],default:"pad"},axis:{type:"object",properties:{orient:{enum:["top","bottom","left","right"]},scale:{type:"string"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},ticks:{type:"boolean"},labels:{type:"boolean"},domain:{type:"boolean"},grid:{type:"boolean"},gridScale:{type:"string"},tickSize:{type:"number"},labelPadding:{type:"number"},labelOverlap:{oneOf:[{type:"boolean"},{enum:["parity","greedy"],type:"string"}]},tickCount:{$ref:"#/refs/tickCount"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},position:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},minExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},maxExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{type:"object",properties:{axis:{$ref:"#/defs/guideEncode"},ticks:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},title:{$ref:"#/defs/guideEncode"},grid:{$ref:"#/defs/guideEncode"},domain:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,required:["orient","scale"]},background:{type:"string"},bind:{oneOf:[{type:"object",properties:{input:{enum:["checkbox"]},element:{$ref:"#/refs/element"},debounce:{type:"number"}},required:["input"]},{type:"object",properties:{input:{enum:["radio","select"]},element:{$ref:"#/refs/element"},options:{type:"array"},debounce:{type:"number"}},additionalProperties:!1,required:["input","options"]},{type:"object",properties:{input:{enum:["range"]},element:{$ref:"#/refs/element"},min:{type:"number"},max:{type:"number"},step:{type:"number"},debounce:{type:"number"}},additionalProperties:!1,required:["input"]},{type:"object",properties:{input:{not:{enum:["checkbox","radio","range","select"]}},element:{$ref:"#/refs/element"},debounce:{type:"number"}},additionalProperties:!0}]},data:{title:"Input data set definition",type:"object",allOf:[{properties:{name:{type:"string"},transform:{type:"array",items:{$ref:"#/defs/transform"}},on:{$ref:"#/defs/onTrigger"},format:{type:"object",oneOf:[{properties:{type:{enum:["json"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]},property:{type:"string"},copy:{type:"boolean"}},additionalProperties:!1},{properties:{type:{enum:["csv","tsv"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{properties:{type:{enum:["dsv"]},delimiter:{type:"string"},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{oneOf:[{properties:{type:{enum:["topojson"]},feature:{type:"string"},property:{type:"string"}},additionalProperties:!1},{properties:{type:{enum:["topojson"]},mesh:{type:"string"},property:{type:"string"}},additionalProperties:!1}]}]}},required:["name"]},{anyOf:[{required:["name"]},{oneOf:[{properties:{source:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},minItems:1}]}},required:["source"]},{properties:{values:{type:"array"}},required:["values"]},{properties:{url:{type:"string"}},required:["url"]}]}]}]},rule:{type:"object",properties:{test:{type:"string"}}},encodeEntry:{title:"Mark encode property set",type:"object",properties:{x:{$ref:"#/refs/numberValue"},x2:{$ref:"#/refs/numberValue"},xc:{$ref:"#/refs/numberValue"},width:{$ref:"#/refs/numberValue"},y:{$ref:"#/refs/numberValue"},y2:{$ref:"#/refs/numberValue"},yc:{$ref:"#/refs/numberValue"},height:{$ref:"#/refs/numberValue"},opacity:{$ref:"#/refs/numberValue"},fill:{$ref:"#/refs/colorValue"},fillOpacity:{$ref:"#/refs/numberValue"},stroke:{$ref:"#/refs/colorValue"},strokeWidth:{$ref:"#/refs/numberValue"},strokeOpacity:{$ref:"#/refs/numberValue"},strokeDash:{$ref:"#/refs/arrayValue"},strokeDashOffset:{$ref:"#/refs/numberValue"},cursor:{$ref:"#/refs/stringValue"},clip:{$ref:"#/refs/booleanValue"},size:{$ref:"#/refs/numberValue"},shape:{anyOf:[{type:"string"},{$ref:"#/refs/stringValue"}]},path:{$ref:"#/refs/stringValue"},innerRadius:{$ref:"#/refs/numberValue"},outerRadius:{$ref:"#/refs/numberValue"},startAngle:{$ref:"#/refs/numberValue"},endAngle:{$ref:"#/refs/numberValue"},interpolate:{$ref:"#/refs/stringValue"},tension:{$ref:"#/refs/numberValue"},orient:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},url:{$ref:"#/refs/stringValue"},align:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},baseline:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},text:{$ref:"#/refs/stringValue"},dir:{$ref:"#/refs/stringValue"},ellipsis:{$ref:"#/refs/stringValue"},limit:{$ref:"#/refs/numberValue"},dx:{$ref:"#/refs/numberValue"},dy:{$ref:"#/refs/numberValue"},radius:{$ref:"#/refs/numberValue"},theta:{$ref:"#/refs/numberValue"},angle:{$ref:"#/refs/numberValue"},font:{$ref:"#/refs/stringValue"},fontSize:{$ref:"#/refs/numberValue"},fontWeight:{$ref:"#/refs/nullableStringValue"},fontStyle:{$ref:"#/refs/stringValue"}},additionalProperties:!0},encode:{type:"object",patternProperties:{"^.+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},layout:{oneOf:[{type:"object",properties:{align:{oneOf:[{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},{type:"object",properties:{row:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},column:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]}},additionalProperties:!1}]},bounds:{oneOf:[{enum:["full","flush"]},{$ref:"#/refs/signal"}]},columns:{$ref:"#/refs/numberOrSignal"},padding:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},offset:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{rowHeader:{$ref:"#/refs/numberOrSignal"},rowFooter:{$ref:"#/refs/numberOrSignal"},rowTitle:{$ref:"#/refs/numberOrSignal"},columnHeader:{$ref:"#/refs/numberOrSignal"},columnFooter:{$ref:"#/refs/numberOrSignal"},columnTitle:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},headerBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},footerBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},titleBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]}}},{$ref:"#/refs/signal"}]},guideEncode:{type:"object",properties:{name:{type:"string"},interactive:{type:"boolean",default:!1},style:{$ref:"#/refs/style"}},patternProperties:{"^(?!interactive|name|style).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},legend:{type:"object",properties:{size:{type:"string"},shape:{type:"string"},fill:{type:"string"},stroke:{type:"string"},opacity:{type:"string"},strokeDash:{type:"string"},type:{enum:["gradient","symbol"],default:"symbol"},orient:{enum:["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"right"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},padding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},entryPadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},tickCount:{$ref:"#/refs/tickCount"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},encode:{type:"object",properties:{title:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},legend:{$ref:"#/defs/guideEncode"},symbols:{$ref:"#/defs/guideEncode"},gradient:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,anyOf:[{required:["size"]},{required:["shape"]},{required:["fill"]},{required:["stroke"]},{required:["opacity"]},{required:["strokeDash"]}]},mark:{type:"object",properties:{type:{$ref:"#/refs/marktype"},role:{type:"string"},name:{type:"string"},style:{$ref:"#/refs/style"},key:{type:"string"},clip:{type:"boolean"},sort:{$ref:"#/refs/compare"},interactive:{type:"boolean"},encode:{$ref:"#/defs/encode"},transform:{type:"array",items:{$ref:"#/defs/transformMark"}},on:{$ref:"#/defs/onMarkTrigger"}},required:["type"]},markGroup:{allOf:[{properties:{type:{enum:["group"]}},required:["type"]},{$ref:"#/defs/mark"},{$ref:"#/defs/scope"},{type:"object",properties:{from:{oneOf:[{$ref:"#/refs/from"},{$ref:"#/refs/facet"}]}}}]},markVisual:{allOf:[{not:{properties:{type:{enum:["group"]}}}},{$ref:"#/defs/mark"},{type:"object",properties:{from:{$ref:"#/refs/from"}}}]},listener:{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{scale:{type:"string"}},required:["scale"]},{$ref:"#/defs/stream"}]},onEvents:{type:"array",items:{allOf:[{type:"object",properties:{events:{oneOf:[{$ref:"#/refs/selector"},{$ref:"#/defs/listener"},{type:"array",minItems:1,items:{$ref:"#/defs/listener"}}]},force:{type:"boolean"}},required:["events"]},{oneOf:[{type:"object",properties:{encode:{type:"string"}},required:["encode"]},{type:"object",properties:{update:{oneOf:[{$ref:"#/refs/exprString"},{$ref:"#/refs/expr"},{$ref:"#/refs/signal"},{type:"object",properties:{value:{}},required:["value"]}]}},required:["update"]}]}]}},onTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},insert:{$ref:"#/refs/exprString"},remove:{oneOf:[{type:"boolean"},{$ref:"#/refs/exprString"}]},toggle:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},onMarkTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},padding:{oneOf:[{type:"number"},{type:"object",properties:{top:{type:"number"},bottom:{type:"number"},left:{type:"number"},right:{type:"number"}},required:["top","bottom","left","right"],additionalProperties:!1}]},projection:{type:"object",properties:{name:{type:"string"},type:{$ref:"#/refs/stringOrSignal"},clipAngle:{$ref:"#/refs/numberOrSignal"},clipExtent:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}}]},scale:{$ref:"#/refs/numberOrSignal"},translate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},center:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},rotate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:3}]},parallels:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},precision:{$ref:"#/refs/numberOrSignal"},pointRadius:{$ref:"#/refs/numberOrSignal"},fit:{oneOf:[{type:"object"},{type:"array"}]},extent:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},minItems:2,maxItems:2}]},size:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}},additionalProperties:!0,required:["name","type"]},scale:{title:"Scale mapping",type:"object",allOf:[{properties:{name:{type:"string"},type:{type:"string",default:"linear"},domain:{oneOf:[{type:"array",items:{oneOf:[{type:"null"},{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/scaleData"},{$ref:"#/refs/signal"}]},domainMin:{$ref:"#/refs/numberOrSignal"},domainMax:{$ref:"#/refs/numberOrSignal"},domainMid:{$ref:"#/refs/numberOrSignal"},domainRaw:{oneOf:[{type:"null"},{type:"array"},{$ref:"#/refs/signal"}]},reverse:{$ref:"#/refs/booleanOrSignal"},round:{$ref:"#/refs/booleanOrSignal"}},required:["name"]},{oneOf:[{properties:{type:{enum:["ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1},{$ref:"#/refs/scaleData"}]}},required:["type"]},{properties:{type:{enum:["band"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingInner:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["point"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["sequential"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"}},required:["type","range"]},{properties:{type:{enum:["time","utc"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{type:"object",properties:{interval:{oneOf:[{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{$ref:"#/refs/signal"}]},step:{$ref:"#/refs/numberOrSignal"}},required:["interval"]},{$ref:"#/refs/signal"}]}},required:["type"]},{properties:{type:{enum:["identity"]},nice:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Discretizing scales",properties:{type:{enum:["quantile","quantize","threshold","bin-ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Default numeric scale",not:{properties:{type:{enum:["ordinal","band","point","quantile","quantize","threshold","sequential","pow","log","time","utc","identity","bin-ordinal","bin-linear"]}},required:["type"]},properties:{range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}}},{properties:{type:{enum:["log"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},base:{$ref:"#/refs/numberOrSignal"},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["pow"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},exponent:{$ref:"#/refs/numberOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["bin-linear"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"}},required:["type"]}]}]},scope:{type:"object",properties:{encode:{$ref:"#/defs/encode"},layout:{$ref:"#/defs/layout"},signals:{type:"array",items:{$ref:"#/defs/signal"}},data:{type:"array",items:{$ref:"#/defs/data"}},scales:{type:"array",items:{$ref:"#/defs/scale"}},projections:{type:"array",items:{$ref:"#/defs/projection"}},axes:{type:"array",items:{$ref:"#/defs/axis"}},legends:{type:"array",items:{$ref:"#/defs/legend"}},title:{$ref:"#/defs/title"},marks:{type:"array",items:{oneOf:[{$ref:"#/defs/markGroup"},{$ref:"#/defs/markVisual"}]}}}},signal:{oneOf:[{$ref:"#/defs/signalPush"},{$ref:"#/defs/signalNew"}]},signalName:{type:"string",not:{enum:["parent","datum","event","item"]}},signalNew:{type:"object",properties:{name:{$ref:"#/defs/signalName"},description:{type:"string"},value:{},react:{type:"boolean",default:!0},update:{$ref:"#/refs/exprString"},on:{$ref:"#/defs/onEvents"},bind:{$ref:"#/defs/bind"}},additionalProperties:!1,required:["name"]},signalPush:{type:"object",properties:{name:{$ref:"#/defs/signalName"},push:{enum:["outer"]},description:{type:"string"},on:{$ref:"#/defs/onEvents"}},additionalProperties:!1,required:["name","push"]},streamParams:{properties:{between:{type:"array",minItems:2,maxItems:2,items:{$ref:"#/defs/stream"}},marktype:{type:"string"},markname:{type:"string"},filter:{oneOf:[{$ref:"#/refs/exprString"},{type:"array",minItems:1,items:{$ref:"#/refs/exprString"}}]},throttle:{type:"number"},debounce:{type:"number"},consume:{type:"boolean"}}},streamEvents:{properties:{source:{type:"string"},type:{type:"string"}},required:["type"]},stream:{title:"Input event stream definition",type:"object",allOf:[{$ref:"#/defs/streamParams"},{oneOf:[{$ref:"#/defs/streamEvents"},{type:"object",properties:{stream:{$ref:"#/defs/stream"}},required:["stream"]},{type:"object",properties:{merge:{type:"array",minItems:1,items:{$ref:"#/defs/stream"}}},required:["merge"]}]}]},titleEncode:{type:"object",patternProperties:{"^(?!interactive|name|style).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},title:{oneOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},orient:{enum:["none","left","right","top","bottom"],default:"top"},anchor:{enum:["start","middle","end"],default:"middle"},style:{$ref:"#/refs/style"},text:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},interactive:{type:"boolean"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{$ref:"#/defs/titleEncode"}},required:["text"],additionalProperties:!1}]},transform:{oneOf:[{$ref:"#/defs/aggregateTransform"},{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/countpatternTransform"},{$ref:"#/defs/crossTransform"},{$ref:"#/defs/densityTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/filterTransform"},{$ref:"#/defs/foldTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/imputeTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/sampleTransform"},{$ref:"#/defs/sequenceTransform"},{$ref:"#/defs/windowTransform"},{$ref:"#/defs/identifierTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/contourTransform"},{$ref:"#/defs/geojsonTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/graticuleTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/nestTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treelinksTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"
},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},transformMark:{oneOf:[{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/windowTransform"},{$ref:"#/defs/identifierTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/geojsonTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},aggregateTransform:{type:"object",properties:{type:{enum:["aggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},drop:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},cross:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},binTransform:{type:"object",properties:{type:{enum:["bin"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},anchor:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},maxbins:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:20},base:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:10},divide:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:[5,2]},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},steps:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},minstep:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},nice:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},name:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["bin0","bin1"]}},additionalProperties:!1,required:["type","field","extent"]},collectTransform:{type:"object",properties:{type:{enum:["collect"]},signal:{type:"string"},sort:{$ref:"#/refs/compare"}},additionalProperties:!1,required:["type"]},countpatternTransform:{type:"object",properties:{type:{enum:["countpattern"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},case:{anyOf:[{enum:["upper","lower","mixed"]},{$ref:"#/refs/signal"}],default:"mixed"},pattern:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:'[\\w"]+'},stopwords:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["text","count"]}},additionalProperties:!1,required:["type","field"]},crossTransform:{type:"object",properties:{type:{enum:["cross"]},signal:{type:"string"},filter:{$ref:"#/refs/exprString"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["a","b"]}},additionalProperties:!1,required:["type"]},densityTransform:{type:"object",properties:{type:{enum:["density"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},steps:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:100},method:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"pdf"},distribution:{oneOf:[{type:"object",properties:{function:{enum:["normal"]},mean:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stdev:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["uniform"]},min:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},max:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["kde"]},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},from:{type:"string"},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function","field"]},{type:"object",properties:{function:{enum:["mixture"]},distributions:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]},weights:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function"]}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["value","density"]}},additionalProperties:!1,required:["type"]},extentTransform:{type:"object",properties:{type:{enum:["extent"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","field"]},filterTransform:{type:"object",properties:{type:{enum:["filter"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"}},additionalProperties:!1,required:["type","expr"]},foldTransform:{type:"object",properties:{type:{enum:["fold"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["key","value"]}},additionalProperties:!1,required:["type","fields"]},formulaTransform:{type:"object",properties:{type:{enum:["formula"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},initonly:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","expr","as"]},imputeTransform:{type:"object",properties:{type:{enum:["impute"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},keyvals:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},method:{anyOf:[{enum:["value","mean","median","max","min"]},{$ref:"#/refs/signal"}],default:"value"},value:{}},additionalProperties:!1,required:["type","field","key"]},joinaggregateTransform:{type:"object",properties:{type:{enum:["joinaggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},lookupTransform:{type:"object",properties:{type:{enum:["lookup"]},signal:{type:"string"},from:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},values:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},default:{}},additionalProperties:!1,required:["type","from","key","fields"]},sampleTransform:{type:"object",properties:{type:{enum:["sample"]},signal:{type:"string"},size:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1e3}},additionalProperties:!1,required:["type"]},sequenceTransform:{type:"object",properties:{type:{enum:["sequence"]},signal:{type:"string"},start:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["type","start","stop"]},windowTransform:{type:"object",properties:{type:{enum:["window"]},signal:{type:"string"},sort:{$ref:"#/refs/compare"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},params:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},frame:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[null,0]},ignorePeers:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type"]},identifierTransform:{type:"object",properties:{type:{enum:["identifier"]},signal:{type:"string"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","as"]},linkpathTransform:{type:"object",properties:{type:{enum:["linkpath"]},signal:{type:"string"},sourceX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.x"},sourceY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.y"},targetX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.x"},targetY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.y"},orient:{anyOf:[{enum:["horizontal","vertical","radial"]},{$ref:"#/refs/signal"}],default:"vertical"},shape:{anyOf:[{enum:["line","arc","curve","diagonal","orthogonal"]},{$ref:"#/refs/signal"}],default:"line"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},pieTransform:{type:"object",properties:{type:{enum:["pie"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},startAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},endAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:6.283185307179586},sort:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["startAngle","endAngle"]}},additionalProperties:!1,required:["type"]},stackTransform:{type:"object",properties:{type:{enum:["stack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},sort:{$ref:"#/refs/compare"},offset:{anyOf:[{enum:["zero","center","normalize"]},{$ref:"#/refs/signal"}],default:"zero"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["y0","y1"]}},additionalProperties:!1,required:["type"]},contourTransform:{type:"object",properties:{type:{enum:["contour"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},values:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},cellSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},count:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},nice:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},thresholds:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","size"]},geojsonTransform:{type:"object",properties:{type:{enum:["geojson"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},geojson:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},geopathTransform:{type:"object",properties:{type:{enum:["geopath"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},geopointTransform:{type:"object",properties:{type:{enum:["geopoint"]},signal:{type:"string"},projection:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["x","y"]}},additionalProperties:!1,required:["type","projection","fields"]},geoshapeTransform:{type:"object",properties:{type:{enum:["geoshape"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"datum"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"shape"}},additionalProperties:!1,required:["type"]},graticuleTransform:{type:"object",properties:{type:{enum:["graticule"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMajor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMinor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},stepMajor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[90,360]},stepMinor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[10,10]},precision:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:2.5}},additionalProperties:!1,required:["type"]},forceTransform:{type:"object",properties:{type:{enum:["force"]},signal:{type:"string"},static:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},restart:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:300},alpha:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},alphaMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.001},alphaTarget:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},velocityDecay:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.4},forces:{type:"array",items:{oneOf:[{type:"object",properties:{force:{enum:["center"]},x:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},y:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["collide"]},radius:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.7},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["nbody"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:-30},theta:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.9},distanceMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},distanceMax:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["link"]},links:{type:"string"},id:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},distance:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:30},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["x"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["y"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]}]}},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["x","y","vx","vy"]}},additionalProperties:!1,required:["type"]},nestTransform:{type:"object",properties:{type:{enum:["nest"]},signal:{type:"string"},keys:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},generate:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type"]},packTransform:{type:"object",properties:{type:{enum:["pack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},radius:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:3,minItems:3,default:["x","y","r","depth","children"]}},additionalProperties:!1,required:["type"]},partitionTransform:{type:"object",properties:{type:{enum:["partition"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},stratifyTransform:{type:"object",properties:{type:{enum:["stratify"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},parentKey:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","key","parentKey"]},treeTransform:{type:"object",properties:{type:{enum:["tree"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["tidy","cluster"]},{$ref:"#/refs/signal"}],default:"tidy"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},nodeSize:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x","y","depth","children"]}},additionalProperties:!1,required:["type"]},treelinksTransform:{type:"object",properties:{type:{enum:["treelinks"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},treemapTransform:{type:"object",properties:{type:{enum:["treemap"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["squarify","resquarify","binary","dice","slice","slicedice"]},{$ref:"#/refs/signal"}],default:"squarify"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingInner:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingOuter:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingTop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingRight:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingBottom:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingLeft:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},ratio:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1.618033988749895},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},voronoiTransform:{type:"object",properties:{type:{enum:["voronoi"]},signal:{type:"string"},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[[-1e5,-1e5],[1e5,1e5]]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type","x","y"]},wordcloudTransform:{type:"object",properties:{type:{enum:["wordcloud"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},font:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"sans-serif"},fontStyle:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontWeight:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:14},fontSizeRange:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"null"}],default:[10,50]},rotate:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},text:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},spiral:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:7,minItems:7,default:["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},additionalProperties:!1,required:["type"]},crossfilterTransform:{type:"object",properties:{type:{enum:["crossfilter"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},query:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","fields","query"]},resolvefilterTransform:{type:"object",properties:{type:{enum:["resolvefilter"]},signal:{type:"string"},ignore:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},filter:{}},additionalProperties:!1,required:["type","ignore","filter"]}},refs:{tickCount:{oneOf:[{type:"number"},{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{type:"object",properties:{interval:{oneOf:[{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{$ref:"#/refs/signal"}]},step:{$ref:"#/refs/numberOrSignal"}},required:["interval"]},{$ref:"#/refs/signal"}]},element:{type:"string"},paramField:{type:"object",properties:{field:{type:"string"}},additionalProperties:!1,required:["field"]},field:{title:"FieldRef",oneOf:[{type:"string"},{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{datum:{$ref:"#/refs/field"}},required:["datum"],additionalProperties:!1},{type:"object",properties:{group:{$ref:"#/refs/field"},level:{type:"number"}},required:["group"],additionalProperties:!1},{type:"object",properties:{parent:{$ref:"#/refs/field"},level:{type:"number"}},required:["parent"],additionalProperties:!1}]}]},scale:{$ref:"#/refs/field"},stringModifiers:{properties:{scale:{$ref:"#/refs/scale"}}},numberModifiers:{properties:{exponent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},mult:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},round:{type:"boolean",default:!1},scale:{$ref:"#/refs/scale"},band:{type:["number","boolean"]},extra:{type:"boolean"}}},value:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},numberValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},stringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},booleanValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},arrayValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},nullableStringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{
$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},colorRGB:{type:"object",properties:{r:{$ref:"#/refs/numberValue"},g:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["r","g","b"]},colorHSL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},s:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","s","l"]},colorLAB:{type:"object",properties:{l:{$ref:"#/refs/numberValue"},a:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["l","a","b"]},colorHCL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},c:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","c","l"]},colorValue:{title:"ColorRef",oneOf:[{$ref:"#/refs/nullableStringValue"},{type:"object",properties:{gradient:{$ref:"#/refs/scale"}},additionalProperties:!1,required:["gradient"]},{type:"object",properties:{color:{oneOf:[{$ref:"#/refs/colorRGB"},{$ref:"#/refs/colorHSL"},{$ref:"#/refs/colorLAB"},{$ref:"#/refs/colorHCL"}]}},additionalProperties:!1,required:["color"]}]},expr:{title:"ExpressionRef",type:"object",properties:{expr:{type:"string"}},required:["expr"]},exprString:{title:"Expression String",type:"string"},compare:{oneOf:[{type:"object",properties:{field:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]},order:{$ref:"#/refs/sortOrder"}}},{type:"object",properties:{field:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},order:{type:"array",items:{$ref:"#/refs/sortOrder"}}}}]},from:{type:"object",properties:{data:{type:"string"}},additionalProperties:!1},facet:{type:"object",properties:{data:{type:"string"},facet:{oneOf:[{type:"object",properties:{name:{type:"string"},data:{type:"string"},field:{type:"string"}},additionalProperties:!1,required:["name","data","field"]},{type:"object",properties:{name:{type:"string"},data:{type:"string"},groupby:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},aggregate:{type:"object",properties:{cross:{type:"boolean"},fields:{type:"array",items:{type:"string"}},ops:{type:"array",items:{type:"string"}},as:{type:"array",items:{type:"string"}}}}},additionalProperties:!1,required:["name","data","groupby"]}]}},additionalProperties:!1,required:["facet"]},style:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},marktype:{title:"Mark Type definition",type:"string"},sortOrder:{oneOf:[{enum:["ascending","descending"]},{$ref:"#/refs/signal"}]},scaleField:{$ref:"#/refs/stringOrSignal"},scaleInterpolate:{oneOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"object",properties:{type:{$ref:"#/refs/stringOrSignal"},gamma:{$ref:"#/refs/numberOrSignal"}},required:["type"]}]},scaleData:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{field:{$ref:"#/refs/scaleField"},op:{$ref:"#/refs/scaleField"},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","field"],additionalProperties:!1},{type:"object",properties:{data:{type:"string"},fields:{type:"array",items:{$ref:"#/refs/scaleField"},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","fields"],additionalProperties:!1},{type:"object",properties:{fields:{type:"array",items:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"}},required:["data","field"],additionalProperties:!1},{type:"array",items:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},{$ref:"#/refs/signal"}]},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["fields"],additionalProperties:!1}]},selector:{title:"Event Selector String",type:"string"},signal:{title:"SignalRef",type:"object",properties:{signal:{type:"string"}},required:["signal"]},booleanOrSignal:{oneOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},numberOrSignal:{oneOf:[{type:"number"},{$ref:"#/refs/signal"}]},stringOrSignal:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]}},type:"object",allOf:[{$ref:"#/defs/scope"},{properties:{$schema:{type:"string",format:"uri"},config:{type:"object"},description:{type:"string"},width:{type:"number"},height:{type:"number"},padding:{$ref:"#/defs/padding"},autosize:{$ref:"#/defs/autosize"},background:{$ref:"#/defs/background"}}}]}},function(e,t){e.exports={$ref:"#/definitions/TopLevelExtendedSpec",$schema:"http://json-schema.org/draft-04/schema#",definitions:{Aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}]},AggregateOp:{enum:["argmax","argmin","average","count","distinct","max","mean","median","min","missing","q1","q3","ci0","ci1","stdev","stdevp","sum","valid","values","variance","variancep"],type:"string"},Anchor:{enum:["start","middle","end"],type:"string"},AnyMark:{anyOf:[{$ref:"#/definitions/CompositeMark"},{$ref:"#/definitions/CompositeMarkDef"},{$ref:"#/definitions/Mark"},{$ref:"#/definitions/MarkDef"}]},Axis:{additionalProperties:!1,properties:{domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},encoding:{$ref:"#/definitions/AxisEncoding",description:"Optional mark definitions for custom axis encoding."},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for x-axes with horizontal labels, otherwise `false`.'},labelPadding:{description:"The padding, in pixels, between axis and text labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30`",type:"number"},offset:{description:"The offset, in pixels, by which to displace the axis from the edge of the enclosing group or data rectangle.\n\n__Default value:__ derived from  [axis config](config.html#facet-scale-config)'s `offset` (`0` by default)",type:"number"},orient:{$ref:"#/definitions/AxisOrient",description:'The orientation of the axis. One of `"top"`, `"bottom"`, `"left"` or `"right"`. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart).\n\n__Default value:__ x-axis is placed on the bottom, y-axis is placed on the left, `column`\'s x-axis is placed on the top, `row`\'s y-axis is placed on the right.'},position:{description:"The anchor position of the axis in pixels. For x-axis with top or bottom orientation, this sets the axis group x coordinate. For y-axis with left or right orientation, this sets the axis group y coordinate.\n\n__Default value__: `0`",type:"number"},tickCount:{description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.',minimum:0,type:"number"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible axis tick values."},zindex:{description:'A non-positive integer indicating z-index of the axis.\nIf zindex is 0, axes should be drawn behind all chart elements.\nTo put them in front, use `"zindex = 1"`.\n\n__Default value:__ `0` (Behind the marks.)',minimum:0,type:"number"}},type:"object"},AxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},minimum:0,type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for x-axes with horizontal labels, otherwise `false`.'},labelPadding:{description:"Padding in pixels between axis ticks and tick labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30`",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.\n\n__Default value:__ `10`.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},AxisConfigMixins:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/AxisConfig",description:"Generic axis config. "},axisBand:{$ref:"#/definitions/VgAxisConfig",description:'Specific axis config for axes with "band" scales.'},axisBottom:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the bottom edge of the chart."},axisLeft:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the left edge of the chart."},axisRight:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the right edge of the chart."},axisTop:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the top edge of the chart."},axisX:{$ref:"#/definitions/VgAxisConfig",description:"X-axis specific config."},axisY:{$ref:"#/definitions/VgAxisConfig",description:"Y-axis specific config."}},type:"object"},AxisEncoding:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis container."},domain:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis domain rule mark."},grid:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis gridline rule marks."},labels:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis label text marks."},ticks:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis tick rule marks."},title:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis title text mark."}},type:"object"},AxisOrient:{enum:["top","right","left","bottom"],type:"string"},AxisResolveMap:{additionalProperties:!1,properties:{x:{$ref:"#/definitions/ResolveMode"},y:{$ref:"#/definitions/ResolveMode"}},type:"object"},BOXPLOT:{enum:["box-plot"],type:"string"},BarConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},binSpacing:{description:"Offset between bar for binned field.  Ideal value for this is either 0 (Preferred by statisticians) or 1 (Vega-Lite Default, D3 example style).\n\n__Default value:__ `1`",minimum:0,type:"number"},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},continuousBandSize:{description:"The default size of the bars on continuous scales.\n\n__Default value:__ `2`",minimum:0,type:"number"},discreteBandSize:{description:"The size of the bars.  If unspecified, the default size is  `bandSize-1`,\nwhich provides 1 pixel offset between bars.",minimum:0,type:"number"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},BaseBin:{additionalProperties:!1,properties:{base:{description:"The number base to use for automatic bin determination (default is base 10).\n\n__Default value:__ `10`",type:"number"},divide:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n\n__Default value:__ `[5, 2]`",items:{type:"number"},minItems:1,type:"array"},maxbins:{description:"Maximum number of bins.\n\n__Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels",minimum:2,type:"number"},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},nice:{description:"If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.",type:"boolean"},step:{description:"An exact step size to use between bins.\n\n__Note:__ If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",items:{type:"number"},minItems:1,type:"array"}},type:"object"},BaseSelectionDef:{additionalProperties:!1,properties:{encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'}},type:"object"},BaseSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},type:"object"},BinParams:{additionalProperties:!1,description:"Binning properties or boolean flag for determining whether to bin data or not.",properties:{base:{description:"The number base to use for automatic bin determination (default is base 10).\n\n__Default value:__ `10`",type:"number"},divide:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n\n__Default value:__ `[5, 2]`",items:{type:"number"},minItems:1,type:"array"},extent:{description:"A two-element (`[min, max]`) array indicating the range of desired bin values.",items:{type:"number"},maxItems:2,minItems:2,type:"array"},maxbins:{description:"Maximum number of bins.\n\n__Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels",minimum:2,type:"number"},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},nice:{description:"If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.",type:"boolean"},step:{description:"An exact step size to use between bins.\n\n__Note:__ If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",items:{type:"number"},minItems:1,type:"array"}},type:"object"},BinTransform:{additionalProperties:!1,properties:{as:{description:"The output fields at which to write the start and end bin values.",type:"string"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"An object indicating bin properties, or simply `true` for using default bin parameters."},field:{description:"The data field to bin.",type:"string"}},required:["bin","field","as"],type:"object"},BoxPlotConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",
maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"Size of the box and mid tick of a box plot ",type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},BoxPlotConfigMixins:{additionalProperties:!1,properties:{box:{$ref:"#/definitions/BoxPlotConfig",description:"Box Config "},boxMid:{$ref:"#/definitions/MarkConfig"},boxWhisker:{$ref:"#/definitions/MarkConfig"}},type:"object"},BoxPlotDef:{additionalProperties:!1,properties:{extent:{anyOf:[{enum:["min-max"],type:"string"},{type:"number"}]},orient:{$ref:"#/definitions/Orient"},type:{$ref:"#/definitions/BOXPLOT"}},required:["type"],type:"object"},BrushConfig:{additionalProperties:!1,properties:{fill:{description:"The fill color of the interval mark.\n\n__Default value:__ `#333333`",type:"string"},fillOpacity:{description:"The fill opacity of the interval mark (a value between 0 and 1).\n\n__Default value:__ `0.125`",type:"number"},stroke:{description:"The stroke color of the interval mark.\n\n__Default value:__ `#ffffff`",type:"string"},strokeDash:{description:"An array of alternating stroke and space lengths,\nfor creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) with which to begin drawing the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity of the interval mark (a value between 0 and 1).",type:"number"},strokeWidth:{description:"The stroke width of the interval mark.",type:"number"}},type:"object"},CalculateTransform:{additionalProperties:!1,properties:{as:{description:"The field for storing the computed formula value.",type:"string"},calculate:{description:"A string containing a Vega Expression. Use the variable `datum` to refer to the current data object.",type:"string"}},required:["calculate","as"],type:"object"},CellConfig:{additionalProperties:!1,properties:{clip:{description:"Whether the view should be clipped.",type:"boolean"},fill:{description:"The fill color.\n\n__Default value:__ (none)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},height:{description:"The default height of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) y-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"},stroke:{description:"The stroke color.\n\n__Default value:__ (none)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.\n\n__Default value:__ (none)",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.\n\n__Default value:__ (none)",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},strokeWidth:{description:"The stroke width, in pixels.\n\n__Default value:__ (none)",type:"number"},width:{description:"The default width of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) x-scale or ordinal x-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"}},type:"object"},CompositeAggregate:{$ref:"#/definitions/BOXPLOT"},CompositeMark:{anyOf:[{$ref:"#/definitions/BOXPLOT"},{$ref:"#/definitions/ERRORBAR"}]},CompositeMarkConfigMixins:{$ref:"#/definitions/BoxPlotConfigMixins"},CompositeMarkDef:{$ref:"#/definitions/BoxPlotDef"},CompositeUnitSpec:{$ref:"#/definitions/CompositeUnitSpecAlias",description:"Unit spec that can have a composite mark."},ConditionLegendFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](scale.html) are applied."},selection:{$ref:"#/definitions/SelectionOperand"},sort:{anyOf:[{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"}]},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["selection","type"],type:"object"},ConditionTextFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The [formatting pattern](format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},selection:{$ref:"#/definitions/SelectionOperand"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["selection","type"],type:"object"},ConditionValueDef:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand"},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},required:["selection","value"],type:"object"},ConditionalLegendFieldDef:{additionalProperties:!1,description:"A FieldDef with ConditionValueDef\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},condition:{$ref:"#/definitions/ConditionValueDef",description:"A value definition with a selection predicate.\n\n__Note:__ A field definition's `condition` property can only be a [value definition](encoding.html#value)\nsince Vega-Lite only allows at mosty  one encoded field per encoding channel."},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](scale.html) are applied."},sort:{anyOf:[{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"}]},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},ConditionalTextFieldDef:{additionalProperties:!1,description:"A FieldDef with ConditionValueDef\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},condition:{$ref:"#/definitions/ConditionValueDef",description:"A value definition with a selection predicate.\n\n__Note:__ A field definition's `condition` property can only be a [value definition](encoding.html#value)\nsince Vega-Lite only allows at mosty  one encoded field per encoding channel."},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The [formatting pattern](format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},ConditionalLegendValueDef:{additionalProperties:!1,description:"A ValueDef with ConditionValueDef | FieldDef\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionLegendFieldDef"},{$ref:"#/definitions/ConditionValueDef"}],description:"A field definition or a value definition with a selection predicate."},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},type:"object"},ConditionalTextValueDef:{additionalProperties:!1,description:"A ValueDef with ConditionValueDef | FieldDef\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionTextFieldDef"},{$ref:"#/definitions/ConditionValueDef"}],description:"A field definition or a value definition with a selection predicate."},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},type:"object"},Config:{additionalProperties:!1,properties:{area:{$ref:"#/definitions/MarkConfig",description:"Area-Specific Config "},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},axis:{$ref:"#/definitions/AxisConfig",description:"Generic axis config. "},axisBand:{$ref:"#/definitions/VgAxisConfig",description:'Specific axis config for axes with "band" scales.'},axisBottom:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the bottom edge of the chart."},axisLeft:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the left edge of the chart."},axisRight:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the right edge of the chart."},axisTop:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the top edge of the chart."},axisX:{$ref:"#/definitions/VgAxisConfig",description:"X-axis specific config."},axisY:{$ref:"#/definitions/VgAxisConfig",description:"Y-axis specific config."},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},bar:{$ref:"#/definitions/BarConfig",description:"Bar-Specific Config "},cell:{$ref:"#/definitions/CellConfig",description:"Cell Config "},circle:{$ref:"#/definitions/MarkConfig",description:"Circle-Specific Config "},countTitle:{description:"Default axis and legend title for count fields.\n\n__Default value:__ `'Number of Records'`.",type:"string"},invalidValues:{description:'Defines how Vega-Lite should handle invalid values (`null` and `NaN`).\n- If set to `"filter"` (default), all data items with null values are filtered.\n- If `null`, all data items are included. In this case, invalid values will be interpreted as zeroes.',enum:["filter"],type:"string"},legend:{$ref:"#/definitions/LegendConfig",description:"Legend Config "},line:{$ref:"#/definitions/MarkConfig",description:"Line-Specific Config "},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config "},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units.(in the form of [D3 number format pattern](https://github.com/mbostock/d3/wiki/Formatting)).\n\n__Default value:__ `"s"` (except for text marks that encode a count field, the default value is `"d"`).',type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},point:{$ref:"#/definitions/MarkConfig",description:"Point-Specific Config "},range:{$ref:"#/definitions/RangeConfig",description:'Scale range config, or properties defining named range arrays\nthat can be used within scale range definitions\n(such as `{"type": "ordinal", "range": "category"}`).\nFor default range that Vega-Lite adopts from Vega, see https://github.com/vega/vega-parser#scale-range-properties.'},rect:{$ref:"#/definitions/MarkConfig",description:"Rect-Specific Config "},rule:{$ref:"#/definitions/MarkConfig",description:"Rule-Specific Config "},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale Config "},selection:{$ref:"#/definitions/SelectionConfig",description:"Selection Config "},square:{$ref:"#/definitions/MarkConfig",description:"Square-Specific Config "},stack:{$ref:"#/definitions/StackOffset",description:"Default stack offset for stackable mark. "},style:{$ref:"#/definitions/StyleConfigIndex",description:"Style Config "},text:{$ref:"#/definitions/TextConfig",description:"Text-Specific Config "},tick:{$ref:"#/definitions/TickConfig",description:"Tick-Specific Config "},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend. [D3 time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting)).\n\n__Default value:__ `'%b %d, %Y'`.",type:"string"},title:{$ref:"#/definitions/VgTitleConfig",description:"Title Config"}},type:"object"},Data:{anyOf:[{$ref:"#/definitions/UrlData"},{$ref:"#/definitions/InlineData"},{$ref:"#/definitions/NamedData"}]},DataFormat:{additionalProperties:!1,properties:{feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\nFor example, in a map of the world, there may be an object set named `"countries"`.\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to mesh.\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"},parse:{anyOf:[{enum:["auto"],type:"string"},{type:"object"}],description:'If set to auto (the default), perform automatic type inference to determine the desired data types.\nAlternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `"number"`, `"boolean"` or `"date"`).\nFor example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value.\n\nFor `"date"`, we parse data based using Javascript\'s [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\nFor Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},property:{description:'The JSON property containing the desired data.\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\nfrom the loaded JSON object.',type:"string"}},type:"object"},DataFormatType:{enum:["json","csv","tsv","topojson"],type:"string"},DataUrlFormat:{additionalProperties:!1,properties:{feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\nFor example, in a map of the world, there may be an object set named `"countries"`.\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to mesh.\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"},parse:{anyOf:[{enum:["auto"],type:"string"},{type:"object"}],description:'If set to auto (the default), perform automatic type inference to determine the desired data types.\nAlternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `"number"`, `"boolean"` or `"date"`).\nFor example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value.\n\nFor `"date"`, we parse data based using Javascript\'s [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\nFor Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},property:{description:'The JSON property containing the desired data.\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\nfrom the loaded JSON object.',type:"string"},type:{$ref:"#/definitions/DataFormatType",description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\nThe default format type is determined by the extension of the file URL.\nIf no extension is detected, `"json"` will be used by default.'}},type:"object"},DateTime:{additionalProperties:!1,description:"Object for defining datetime in Vega-Lite Filter.\nIf both month and quarter are provided, month has higher precedence.\n`day` cannot be combined with other date.\nWe accept string for month and day names.",properties:{date:{description:"Integer value representing the date from 1-31.",maximum:31,minimum:1,type:"number"},day:{anyOf:[{$ref:"#/definitions/Day"},{type:"string"}],description:'Value representing the day of a week.  This can be one of: (1) integer value -- `1` represents Monday; (2) case-insensitive day name (e.g., `"Monday"`);  (3) case-insensitive, 3-character short day name (e.g., `"Mon"`).   <br/> **Warning:** A DateTime definition object with `day`** should not be combined with `year`, `quarter`, `month`, or `date`.'},hours:{description:"Integer value representing the hour of a day from 0-23.",maximum:23,minimum:0,type:"number"},milliseconds:{description:"Integer value representing the millisecond segment of time.",maximum:999,minimum:0,type:"number"},minutes:{description:"Integer value representing the minute segment of time from 0-59.",maximum:59,minimum:0,type:"number"},month:{anyOf:[{$ref:"#/definitions/Month"},{type:"string"}],description:'One of: (1) integer value representing the month from `1`-`12`. `1` represents January;  (2) case-insensitive month name (e.g., `"January"`);  (3) case-insensitive, 3-character short month name (e.g., `"Jan"`). '},quarter:{description:"Integer value representing the quarter of the year (from 1-4).",maximum:4,minimum:1,type:"number"},seconds:{description:"Integer value representing the second segment (0-59) of a time value",maximum:59,minimum:0,type:"number"},utc:{description:"A boolean flag indicating if date time is in utc time. If false, the date time is in local time",type:"boolean"},year:{description:"Integer value representing the year.",type:"number"}},type:"object"},Day:{maximum:7,minimum:1,type:"number"},ERRORBAR:{enum:["error-bar"],type:"string"},Encoding:{additionalProperties:!1,properties:{color:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'Color of the marks – either fill or stroke color based on mark type.\nBy default, `color` represents fill color for `"area"`, `"bar"`, `"tick"`,\n`"text"`, `"circle"`, and `"square"` / stroke color for `"line"` and `"point"`.\n\n__Default value:__ If undefined, the default color depends on [mark config](config.html#mark)\'s `color` property.\n\n_Note:_ See the scale documentation for more information about customizing [color scheme](scale.html#scheme).'},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},opacity:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:"Opacity of the marks – either can be a value or a range.\n\n__Default value:__ If undefined, the default opacity depends on [mark config](config.html#mark)'s `opacity` property."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"Stack order for stacked marks or order of data points in line marks for connected scatter plots.\n\n__Note__: In aggregate plots, `order` field should be `aggregate`d to avoid creating additional aggregation grouping."},shape:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'The symbol\'s shape (only for `point` marks). The supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.\n__Default value:__ If undefined, the default shape depends on [mark config](config.html#point-config)\'s `shape` property.'},size:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'Size of the mark.\n- For `"point"`, `"square"` and `"circle"`, – the symbol size, or pixel area of the mark.\n- For `"bar"` and `"tick"` – the bar and tick\'s size.\n- For `"text"` – the text\'s font size.\n- Size is currently unsupported for `"line"`, `"area"`, and `"rect"`.'},text:{anyOf:[{$ref:"#/definitions/ConditionalTextFieldDef"},{$ref:"#/definitions/ConditionalTextValueDef"}],description:"Text of the `text` mark."},tooltip:{anyOf:[{$ref:"#/definitions/ConditionalTextFieldDef"},{$ref:"#/definitions/ConditionalTextValueDef"}],description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X coordinates of the marks, or width of horizontal `"bar"` and `"area"`.'},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y coordinates of the marks, or height of vertical `"bar"` and `"area"`.'},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'}},type:"object"},EncodingWithFacet:{additionalProperties:!1,properties:{color:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"
},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'Color of the marks – either fill or stroke color based on mark type.\nBy default, `color` represents fill color for `"area"`, `"bar"`, `"tick"`,\n`"text"`, `"circle"`, and `"square"` / stroke color for `"line"` and `"point"`.\n\n__Default value:__ If undefined, the default color depends on [mark config](config.html#mark)\'s `color` property.\n\n_Note:_ See the scale documentation for more information about customizing [color scheme](scale.html#scheme).'},column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},opacity:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:"Opacity of the marks – either can be a value or a range.\n\n__Default value:__ If undefined, the default opacity depends on [mark config](config.html#mark)'s `opacity` property."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"Stack order for stacked marks or order of data points in line marks for connected scatter plots.\n\n__Note__: In aggregate plots, `order` field should be `aggregate`d to avoid creating additional aggregation grouping."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."},shape:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'The symbol\'s shape (only for `point` marks). The supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.\n__Default value:__ If undefined, the default shape depends on [mark config](config.html#point-config)\'s `shape` property.'},size:{anyOf:[{$ref:"#/definitions/ConditionalLegendFieldDef"},{$ref:"#/definitions/ConditionalLegendValueDef"}],description:'Size of the mark.\n- For `"point"`, `"square"` and `"circle"`, – the symbol size, or pixel area of the mark.\n- For `"bar"` and `"tick"` – the bar and tick\'s size.\n- For `"text"` – the text\'s font size.\n- Size is currently unsupported for `"line"`, `"area"`, and `"rect"`.'},text:{anyOf:[{$ref:"#/definitions/ConditionalTextFieldDef"},{$ref:"#/definitions/ConditionalTextValueDef"}],description:"Text of the `text` mark."},tooltip:{anyOf:[{$ref:"#/definitions/ConditionalTextFieldDef"},{$ref:"#/definitions/ConditionalTextValueDef"}],description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X coordinates of the marks, or width of horizontal `"bar"` and `"area"`.'},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y coordinates of the marks, or height of vertical `"bar"` and `"area"`.'},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'}},type:"object"},EqualFilter:{additionalProperties:!1,properties:{equal:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/definitions/DateTime"}],description:"The value that the field should be equal to."},field:{description:"Field to be filtered.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for the field to be filtered."}},required:["field","equal"],type:"object"},Facet:{additionalProperties:!1,properties:{column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."}},type:"object"},FacetFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},header:{$ref:"#/definitions/Header"},sort:{$ref:"#/definitions/SortOrder",description:'Sort order for a facet field.\nThis can be `"ascending"`, `"descending"`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},FacetedUnitSpec:{$ref:"#/definitions/FacetedCompositeUnitSpecAlias",description:"Unit spec that can have a composite mark and row or column channels."},Field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}]},FieldDef:{additionalProperties:!1,description:"Definition object for a data field, its type and transformation of an encoding channel.",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},FieldDefBase:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"}},type:"object"},Filter:{anyOf:[{$ref:"#/definitions/EqualFilter"},{$ref:"#/definitions/RangeFilter"},{$ref:"#/definitions/OneOfFilter"},{$ref:"#/definitions/SelectionFilter"},{type:"string"}]},FilterTransform:{additionalProperties:!1,properties:{filter:{$ref:"#/definitions/FilterOperand",description:"A string containing the filter Vega expression. Use `datum` to refer to the current data object."}},required:["filter"],type:"object"},FontStyle:{enum:["normal","italic"],type:"string"},FontWeight:{enum:["normal","bold"],type:"string"},FontWeightNumber:{maximum:900,minimum:100,type:"number"},FacetedSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/Facet"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve"},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},HConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},hconcat:{items:{$ref:"#/definitions/Spec"},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},LayerSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},layer:{description:"Layer or single view specifications to be layered.\n\n__Note__: Specifications inside `layer` cannot use `row` and `column` channels as layering facet specifications is not allowed.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},required:["layer"],type:"object"},RepeatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},repeat:{$ref:"#/definitions/Repeat"},resolve:{$ref:"#/definitions/Resolve"},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},Spec:{anyOf:[{$ref:"#/definitions/CompositeUnitSpec"},{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/FacetedSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/VConcatSpec"},{$ref:"#/definitions/HConcatSpec"}]},CompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/Encoding",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},required:["mark","encoding"],type:"object"},FacetedCompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},required:["mark","encoding"],type:"object"},VConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{items:{$ref:"#/definitions/Spec"},type:"array"}},required:["vconcat"],type:"object"},Guide:{additionalProperties:!1,properties:{format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"}},type:"object"},GuideEncodingEntry:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/ValueDef"},angle:{$ref:"#/definitions/ValueDef"},baseline:{$ref:"#/definitions/ValueDef"},clip:{$ref:"#/definitions/ValueDef"},cursor:{$ref:"#/definitions/ValueDef"},dir:{$ref:"#/definitions/ValueDef"},dx:{$ref:"#/definitions/ValueDef"},dy:{$ref:"#/definitions/ValueDef"},ellipsis:{$ref:"#/definitions/ValueDef"},endAngle:{$ref:"#/definitions/ValueDef"},fill:{$ref:"#/definitions/ValueDef"},fillOpacity:{$ref:"#/definitions/ValueDef"},font:{$ref:"#/definitions/ValueDef"},fontSize:{$ref:"#/definitions/ValueDef"},fontStyle:{$ref:"#/definitions/ValueDef"},fontWeight:{$ref:"#/definitions/ValueDef"},height:{$ref:"#/definitions/ValueDef"},innerRadius:{$ref:"#/definitions/ValueDef"},interpolate:{$ref:"#/definitions/ValueDef"},limit:{$ref:"#/definitions/ValueDef"},opacity:{$ref:"#/definitions/ValueDef"},orient:{$ref:"#/definitions/ValueDef"},outerRadius:{$ref:"#/definitions/ValueDef"},path:{$ref:"#/definitions/ValueDef"},radius:{$ref:"#/definitions/ValueDef"},shape:{$ref:"#/definitions/ValueDef"},size:{$ref:"#/definitions/ValueDef"},startAngle:{$ref:"#/definitions/ValueDef"},stroke:{$ref:"#/definitions/ValueDef"},strokeDash:{$ref:"#/definitions/ValueDef"},strokeDashOffset:{$ref:"#/definitions/ValueDef"},strokeOpacity:{$ref:"#/definitions/ValueDef"},strokeWidth:{$ref:"#/definitions/ValueDef"},tension:{$ref:"#/definitions/ValueDef"},text:{$ref:"#/definitions/ValueDef"},theta:{$ref:"#/definitions/ValueDef"},url:{$ref:"#/definitions/ValueDef"},width:{$ref:"#/definitions/ValueDef"},x:{$ref:"#/definitions/ValueDef"},x2:{$ref:"#/definitions/ValueDef"},xc:{$ref:"#/definitions/ValueDef"},y:{$ref:"#/definitions/ValueDef"},y2:{$ref:"#/definitions/ValueDef"},yc:{$ref:"#/definitions/ValueDef"}},type:"object"},Header:{additionalProperties:!1,description:"Headers of row / column channels for faceted plots.",properties:{format:{description:"The formatting pattern for axis labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative axis and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time axis.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative axis and from [timeFormat](config.html#format) config for time axis.",type:"string"},title:{description:'A title for the axis. Shows field name and its function by default.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"}},type:"object"},HorizontalAlign:{enum:["left","right","center"],type:"string"},InlineData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for parsing the data values."},values:{description:"The full data set, included inline. This can be an array of objects or primitive values.\nArrays of primitive values are ingested as objects with a `data` property.",items:{},type:"array"}},required:["values"],type:"object"},Interpolate:{enum:["linear","linear-closed","step","step-before","step-after","basis","basis-open","basis-closed","cardinal","cardinal-open","cardinal-closed","bundle","monotone"],type:"string"},InterpolateParams:{additionalProperties:!1,properties:{gamma:{type:"number"},type:{enum:["rgb","cubehelix","cubehelix-long"],type:"string"}},required:["type"],type:"object"},IntervalSelection:{additionalProperties:!1,properties:{bind:{description:"Establishes a two-way binding between the interval selection and the scales\nused within the same view. This allows a user to interactively pan and\nzoom the view.",enum:["scales"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},mark:{$ref:"#/definitions/BrushConfig",description:"Each (unbound) interval selection also adds a rectangle mark to depict the\nextents of the interval. The `mark` property can be used to customize the\nappearance of the mark."},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'},translate:{description:"When truthy, allows a user to interactively move an interval selection\nback-and-forth. Can be `true`, `false` (to disable panning), or a\n[Vega event stream definition](https://vega.github.io/vega/docs/event-streams/)\nwhich must include a start and end event to trigger continuous panning.\n\n__Default value:__ `true`, which corresponds to\n`[mousedown, window:mouseup] > window:mousemove!` which corresponds to\nclicks and dragging within an interval selection to reposition it.",type:["string","boolean"]},type:{enum:["interval"],type:"string"},zoom:{description:"When truthy, allows a user to interactively resize an interval selection.\nCan be `true`, `false` (to disable zooming), or a [Vega event stream\ndefinition](https://vega.github.io/vega/docs/event-streams/). Currently,\nonly `wheel` events are supported.\n\n\n__Default value:__ `true`, which corresponds to `wheel!`.",type:["string","boolean"]}},required:["type"],type:"object"},IntervalSelectionConfig:{additionalProperties:!1,properties:{bind:{description:"Establishes a two-way binding between the interval selection and the scales\nused within the same view. This allows a user to interactively pan and\nzoom the view.",enum:["scales"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},mark:{$ref:"#/definitions/BrushConfig",description:"Each (unbound) interval selection also adds a rectangle mark to depict the\nextents of the interval. The `mark` property can be used to customize the\nappearance of the mark."},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'},translate:{description:"When truthy, allows a user to interactively move an interval selection\nback-and-forth. Can be `true`, `false` (to disable panning), or a\n[Vega event stream definition](https://vega.github.io/vega/docs/event-streams/)\nwhich must include a start and end event to trigger continuous panning.\n\n__Default value:__ `true`, which corresponds to\n`[mousedown, window:mouseup] > window:mousemove!` which corresponds to\nclicks and dragging within an interval selection to reposition it.",type:["string","boolean"]},zoom:{description:"When truthy, allows a user to interactively resize an interval selection.\nCan be `true`, `false` (to disable zooming), or a [Vega event stream\ndefinition](https://vega.github.io/vega/docs/event-streams/). Currently,\nonly `wheel` events are supported.\n\n\n__Default value:__ `true`, which corresponds to `wheel!`.",type:["string","boolean"]}},type:"object"},LayoutSizeMixins:{additionalProperties:!1,properties:{height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},type:"object"
},Legend:{additionalProperties:!1,description:"Properties of a legend or boolean flag for determining whether to show it.",properties:{encoding:{$ref:"#/definitions/LegendEncoding",description:"Optional mark definitions for custom legend encoding."},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},tickCount:{description:"The desired number of tick values for quantitative legends.",type:"number"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},type:{description:"The type of the legend. Use `symbol` to create a discrete legend and `gradient` for a continuous color gradient.",enum:["symbol","gradient"],type:"string"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible legend values."},zindex:{description:"A non-positive integer indicating z-index of the legend.\nIf zindex is 0, legend should be drawn behind all chart elements.\nTo put them in front, use zindex = 1.",minimum:0,type:"number"}},type:"object"},LegendConfig:{additionalProperties:!1,properties:{cornerRadius:{description:"Corner radius for the full legend.",type:"number"},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},gradientHeight:{description:"The height of the gradient, in pixels.",minimum:0,type:"number"},gradientLabelBaseline:{description:"Text baseline for color ramp gradient labels.",type:"string"},gradientLabelLimit:{description:"The maximum allowed length in pixels of color ramp gradient labels.",type:"number"},gradientLabelOffset:{description:"Vertical offset in pixels for color ramp gradient labels.",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",minimum:0,type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",minimum:0,type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the legend label.",type:"string"},labelFontSize:{description:"The font size of legend label.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOffset:{description:"The offset of the legend label.",minimum:0,type:"number"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},strokeColor:{description:"Border stroke color for the full legend.",type:"string"},strokeDash:{description:"Border stroke dash pattern for the full legend.",items:{type:"number"},type:"array"},strokeWidth:{description:"Border stroke width for the full legend.",type:"number"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolSize:{description:"The size of the legend symbol, in pixels.",minimum:0,type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",minimum:0,type:"number"},symbolType:{description:'Default shape type (such as "circle") for legend symbols.',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},titleBaseline:{description:"Optional mark property definitions for custom legend styling. \n Vertical text baseline for legend titles.",type:"string"},titleColor:{description:"The color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and legend.",type:"number"}},type:"object"},LegendEncoding:{additionalProperties:!1,properties:{gradient:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for legend gradient filled rect marks."},labels:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for legend label text marks."},legend:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the legend container.\nThis can be useful for creating legend with custom x, y position."},symbols:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for legend symbol marks."},title:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the legend title text mark."}},type:"object"},LegendFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](scale.html) are applied."},sort:{anyOf:[{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"}]},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},LegendOrient:{enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},LegendResolveMap:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ResolveMode"},opacity:{$ref:"#/definitions/ResolveMode"},shape:{$ref:"#/definitions/ResolveMode"},size:{$ref:"#/definitions/ResolveMode"}},type:"object"},LocalMultiTimeUnit:{enum:["yearquarter","yearquartermonth","yearmonth","yearmonthdate","yearmonthdatehours","yearmonthdatehoursminutes","yearmonthdatehoursminutesseconds","quartermonth","monthdate","hoursminutes","hoursminutesseconds","minutesseconds","secondsmilliseconds"],type:"string"},LocalSingleTimeUnit:{enum:["year","quarter","month","day","date","hours","minutes","seconds","milliseconds"],type:"string"},AndFilter:{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/FilterOperand"},type:"array"}},required:["and"],type:"object"},SelectionAnd:{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["and"],type:"object"},NotFilter:{additionalProperties:!1,properties:{not:{$ref:"#/definitions/FilterOperand"}},required:["not"],type:"object"},SelectionNot:{additionalProperties:!1,properties:{not:{$ref:"#/definitions/SelectionOperand"}},required:["not"],type:"object"},FilterOperand:{anyOf:[{$ref:"#/definitions/NotFilter"},{$ref:"#/definitions/AndFilter"},{$ref:"#/definitions/OrFilter"},{$ref:"#/definitions/Filter"}]},SelectionOperand:{anyOf:[{$ref:"#/definitions/SelectionNot"},{$ref:"#/definitions/SelectionAnd"},{$ref:"#/definitions/SelectionOr"},{type:"string"}]},OrFilter:{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/FilterOperand"},type:"array"}},required:["or"],type:"object"},SelectionOr:{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["or"],type:"object"},LookupData:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"secondary data source to lookup in"},fields:{description:"(Optional) fields in foreign data to lookup\nif not specificied, the entire object is queried",items:{type:"string"},type:"array"},key:{description:"key in data to lookup",type:"string"}},required:["data","key"],type:"object"},LookupTransform:{additionalProperties:!1,properties:{as:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:"(Optional) The field or fields for storing the computed formula value.\nIf `from.fields` is not specified, `as` has to be a string and we put the whole object into the data"},default:{description:"(Optional) The default value to use if lookup fails",type:"string"},from:{$ref:"#/definitions/LookupData",description:"secondary data reference"},lookup:{description:"key in primary data source",type:"string"}},required:["lookup","from"],type:"object"},Mark:{description:"All types of primitive marks.",enum:["area","bar","line","point","text","tick","rect","rule","circle","square"],type:"string"},MarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},MarkConfigMixins:{additionalProperties:!1,properties:{area:{$ref:"#/definitions/MarkConfig",description:"Area-Specific Config "},bar:{$ref:"#/definitions/BarConfig",description:"Bar-Specific Config "},circle:{$ref:"#/definitions/MarkConfig",description:"Circle-Specific Config "},line:{$ref:"#/definitions/MarkConfig",description:"Line-Specific Config "},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config "},point:{$ref:"#/definitions/MarkConfig",description:"Point-Specific Config "},rect:{$ref:"#/definitions/MarkConfig",description:"Rect-Specific Config "},rule:{$ref:"#/definitions/MarkConfig",description:"Rule-Specific Config "},square:{$ref:"#/definitions/MarkConfig",description:"Square-Specific Config "},text:{$ref:"#/definitions/TextConfig",description:"Text-Specific Config "},tick:{$ref:"#/definitions/TickConfig",description:"Tick-Specific Config "}},type:"object"},MarkDef:{additionalProperties:!1,properties:{clip:{description:"Should a mark be clipped to the enclosing group’s width and height?",type:"boolean"},filled:{description:'Whether the mark\'s color should be used as fill color instead of stroke color.\n\n__Default value:__ All marks except `"point"`, `"line"`, and `"rule"` are filled by default.',type:"boolean"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.\n\nFor more information about each interpolation method, please see [D3\'s line interpolation](https://github.com/mbostock/d3/wiki/SVG-Shapes#line_interpolate).'},orient:{$ref:"#/definitions/Orient",description:"TODO"},style:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:'A string or array of strings indicating the name of custom styles to apply to the mark. A style is a named collection of mark property defaults defined within the [configuration](config.html). If style is an array, later styles will override earlier styles. Any properties explicitly defined within the `encoding` will override a style default.\n\n__Default value:__ The mark\'s name.  For example, a bar mark will have style `"bar"` by default.  If'},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).\n\nTODO: provide the link to D3 docs.",maximum:1,minimum:0,type:"number"},type:{$ref:"#/definitions/Mark",description:'The mark type.\nOne of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`.'}},required:["type"],type:"object"},Month:{maximum:12,minimum:1,type:"number"},MultiSelection:{additionalProperties:!1,properties:{encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.",type:"boolean"},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'},toggle:{description:"Controls whether data values should be toggled or only ever inserted into\nmulti selections. Can be `true`, `false` (for insertion only), or a\n[Vega expression](https://vega.github.io/vega/docs/expressions/).\n\n__Default value:__ `true`, which corresponds to `event.shiftKey` (i.e.,\ndata values are toggled when a user interacts with the shift-key pressed).",type:["string","boolean"]},type:{enum:["multi"],type:"string"}},required:["type"],type:"object"},MultiSelectionConfig:{additionalProperties:!1,properties:{encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.",type:"boolean"},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'},toggle:{description:"Controls whether data values should be toggled or only ever inserted into\nmulti selections. Can be `true`, `false` (for insertion only), or a\n[Vega expression](https://vega.github.io/vega/docs/expressions/).\n\n__Default value:__ `true`, which corresponds to `event.shiftKey` (i.e.,\ndata values are toggled when a user interacts with the shift-key pressed).",type:["string","boolean"]}},type:"object"},MultiTimeUnit:{anyOf:[{$ref:"#/definitions/LocalMultiTimeUnit"},{$ref:"#/definitions/UtcMultiTimeUnit"}]},NamedData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for parsing the data."},name:{description:"Provide a placeholder name and bind data at runtime.",type:"string"}},required:["name"],type:"object"},NiceTime:{enum:["second","minute","hour","day","week","month","year"],type:"string"},OneOfFilter:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},oneOf:{anyOf:[{items:{type:"string"},type:"array"},{items:{type:"number"},type:"array"},{items:{type:"boolean"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"A set of values that the `field`'s value should be a member of,\nfor a data item included in the filtered data."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","oneOf"],type:"object"},OrderFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},sort:{$ref:"#/definitions/SortOrder",description:'The sort order. One of `"ascending"` (default) or `"descending"`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},Orient:{enum:["horizontal","vertical"],type:"string"},Padding:{anyOf:[{type:"number"},{additionalProperties:!1,properties:{bottom:{type:"number"},left:{type:"number"},right:{type:"number"},top:{type:"number"}},type:"object"}],minimum:0},PositionFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},axis:{anyOf:[{$ref:"#/definitions/Axis"},{type:"null"}],description:"An object defining properties of axis's gridlines, ticks and labels.\nIf `null`, the axis for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [axis properties](axis.html) are applied."},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](scale.html) are applied."},sort:{anyOf:[{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"}]},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},stack:{$ref:"#/definitions/StackOffset",description:'Type of stacking offset if the field should be stacked.\n`stack` is only applicable for `x` and `y` channels with continuous domains.\nFor example, `stack` of `y` can be used to customize stacking for a vertical bar chart.\n\n`stack` can be one of the following values:\n- `"zero"`: stacking with baseline offset at zero value of the scale (for creating typical stacked [bar](stack.html#bar) and [area](stack.html#area) chart).\n- `"normalize"` - stacking with normalized domain (for creating [normalized stacked bar and area charts](stack.html#normalized). <br/>\n-`"center"` - stacking with center baseline (for [streamgraph](stack.html#streamgraph)).\n- `"none"` - No-stacking. This will produce layered [bar](stack.html#layered-bar-chart) and area chart.\n\n__Default value:__ `zero` for plots with all of the following conditions are true: (1) `bar` or `area` marks (2) At least one of `color`, `opacity`, `size`, or `detail` channel mapped to a group-by field (3) one position channel has a linear scale and summative aggregation function (e.g., `sum`, `count`) and (4) the other position channel either has discrete domain or unmapped.  Otherwise `"none"` by default.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},RangeConfig:{additionalProperties:{$ref:"#/definitions/RangeConfigValue"},properties:{category:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _nominal_ (categorical) fields."
},diverging:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for diverging _quantitative_ fields."},heatmap:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _quantitative_ heatmaps."},ordinal:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _ordinal_ fields."},ramp:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _quantitative_ and _temporal_ fields."},symbol:{description:"Default range palette for the `shape` channel.",items:{type:"string"},type:"array"}},type:"object"},RangeConfigValue:{anyOf:[{items:{type:["number","string"]},type:"array"},{$ref:"#/definitions/VgScheme"},{additionalProperties:!1,properties:{step:{type:"number"}},required:["step"],type:"object"}]},RangeFilter:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},range:{description:"An array of inclusive minimum and maximum values\nfor a field value of a data item to be included in the filtered data.",items:{anyOf:[{type:"number"},{$ref:"#/definitions/DateTime"}]},maxItems:2,minItems:2,type:"array"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","range"],type:"object"},Repeat:{additionalProperties:!1,properties:{column:{description:"Horizontal repeated views.",items:{type:"string"},type:"array"},row:{description:"Vertical repeated views.",items:{type:"string"},type:"array"}},type:"object"},RepeatRef:{additionalProperties:!1,description:"Reference to a repeated value.",properties:{repeat:{enum:["row","column"],type:"string"}},required:["repeat"],type:"object"},Resolve:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/AxisResolveMap"},legend:{$ref:"#/definitions/LegendResolveMap"},scale:{$ref:"#/definitions/ScaleResolveMap"}},type:"object"},ResolveMode:{enum:["independent","shared"],type:"string"},Scale:{additionalProperties:!1,properties:{base:{description:"The logarithm base of the `log` scale (default `10`).",type:"number"},clamp:{description:"If `true`, values that exceed the data domain are clamped to either the minimum or maximum range value\n\n__Default value:__ derived from the [scale config](config.html#scale-config)'s `clamp` (`true` by default).",type:"boolean"},domain:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"},{enum:["unaggregated"],type:"string"},{$ref:"#/definitions/SelectionDomain"}],description:'Customized domain values.\n\nFor _quantitative_ fields, `domain` can take the form of a two-element array with minimum and maximum values.  [Piecewise scales](scale.html#piecewise) can be created by providing a `domain` with more than two entries.\nIf the input field is aggregated, `domain` can also be a string value `"unaggregated"`, indicating that the domain should include the raw data values prior to the aggregation.\n\nFor _temporal_ fields, `domain` can be a two-element array minimum and maximum values, in the form of either timestamps or the [DateTime definition objects](types.html#datetime).\n\nFor _ordinal_ and _nominal_ fields, `domain` can be an array that lists valid input values.'},exponent:{description:"The exponent of the `pow` scale.",type:"number"},interpolate:{anyOf:[{$ref:"#/definitions/Interpolate"},{$ref:"#/definitions/InterpolateParams"}],description:"The interpolation method for range values. By default, a general interpolator for numbers, dates, strings and colors (in RGB space) is used. For color ranges, this property allows interpolation in alternative color spaces. Legal values include `rgb`, `hsl`, `hsl-long`, `lab`, `hcl`, `hcl-long`, `cubehelix` and `cubehelix-long` ('-long' variants use longer paths in polar coordinate spaces). If object-valued, this property accepts an object with a string-valued _type_ property and an optional numeric _gamma_ property applicable to rgb and cubehelix interpolators. For more, see the [d3-interpolate documentation](https://github.com/d3/d3-interpolate)."},nice:{anyOf:[{type:"boolean"},{type:"number"},{$ref:"#/definitions/NiceTime"},{additionalProperties:!1,properties:{interval:{type:"string"},step:{type:"number"}},required:["interval","step"],type:"object"}],description:'Extending the domain so that it starts and ends on nice round values. This method typically modifies the scale’s domain, and may only extend the bounds to the nearest round value. Nicing is useful if the domain is computed from data and may be irregular. For example, for a domain of _[0.201479…, 0.996679…]_, a nice domain might be _[0.2, 1.0]_.\n\nFor quantitative scales such as linear, `nice` can be either a boolean flag or a number. If `nice` is a number, it will represent a desired tick count. This allows greater control over the step size used to extend the bounds, guaranteeing that the returned ticks will exactly cover the domain.\n\nFor temporal fields with time and utc scales, the `nice` value can be a string indicating the desired time interval. Legal values are `"millisecond"`, `"second"`, `"minute"`, `"hour"`, `"day"`, `"week"`, `"month"`, and `"year"`. Alternatively, `time` and `utc` scales can accept an object-valued interval specifier of the form `{"interval": "month", "step": 3}`, which includes a desired number of interval steps. Here, the domain would snap to quarter (Jan, Apr, Jul, Oct) boundaries.\n\n__Default value:__ `true` for unbinned _quantitative_ fields; automatically determined based on the time unit for _temporal_ fields.'},padding:{description:"Shortcut for setting `paddingInner` and `paddingOuter` to the same value.  For point scales, this property only affects `paddingOuter`.\n\n__Default value:__ see `paddingInner` and `paddingOuter`.",maximum:1,minimum:0,type:"number"},paddingInner:{description:"The inner padding (spacing) within each band step of band scales, as a fraction of the step size. This value must lie in the range [0,1].\n\nFor point scale, this property is invalid as point scales do not have internal band widths (only step sizes between bands).\n\n__Default value:__ derived from the [scale config](scale.html#config)'s `bandPaddingInner`.",maximum:1,minimum:0,type:"number"},paddingOuter:{description:"The outer padding (spacing) at the ends of the range of band and point scales,\nas a fraction of the step size. This value must lie in the range [0,1].\n\n__Default value:__ derived from the [scale config](scale.html#config)'s `bandPaddingOuter` for band scales and `pointPadding` for point scales.",maximum:1,minimum:0,type:"number"},range:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{type:"string"}],description:'The range of the scale. One of:\n\n- A string indicating a [pre-defined named scale range](scale.html#range-config) (e.g., example, `"symbol"`, or `"diverging"`).\n\n- For [continuous scales](scale.html#continuous), two-element array indicating  minimum and maximum values, or an array with more than two entries for specifying a [piecewise scale](scale.html#piecewise).\n\n- For [discrete](scale.html#discrete) and [discretizing](scale.html#discretizing) scales, an array of desired output values.\n\n__Notes:__\n\n1) For [sequential](scale.html#sequential), [ordinal](scale.html#ordinal), and discretizing color scales, you can also specify a color [`scheme`](scale.html#scheme) instead of `range`.\n\n2) Any directly specified `range` for `x` and `y` channels will be ignored. Range can be customized via the view\'s corresponding [size](size.html) (`width` and `height`) or via [range steps and paddings properties](#range-step) for [band](#band) and [point](#point) scales.'},rangeStep:{description:"The distance between the starts of adjacent bands or points in [band](scale.html#band) and [point](scale.html#point) scales.\n\nIf `rangeStep` is `null` or if the view contains the scale's corresponding [size](size.html) (`width` for `x` scales and `height` for `y` scales), `rangeStep` will be automatically determined to fit the size of the view.\n\n__Default value:__  derived the [scale config](config.html#scale-config)'s `textXRangeStep` (`90` by default) for x-scales of `text` marks and `rangeStep` (`21` by default) for x-scales of other marks and y-scales.\n\n__Warning__: If `rangeStep` is `null` and the cardinality of the scale's domain is higher than `width` or `height`, the rangeStep might become less than one pixel and the mark might not appear correctly.",minimum:0,type:["number","null"]},round:{description:"If `true`, rounds numeric output values to integers. This can be helpful for snapping to the pixel grid.\n\n__Default value:__ `true` for x and y channels if the scale config's `round` is `true`; `false` otherwise.",type:"boolean"},scheme:{anyOf:[{type:"string"},{$ref:"#/definitions/SchemeParams"}],description:'A string indicating a color [scheme](scale.html#scheme) name (e.g., `"category10"` or `"viridis"`) or a [scheme parameter object](scale.html#scheme-params).\n\nDiscrete color schemes may be used with [discrete](scale.html#discrete) or [discretizing](scale.html#discretizing) scales. Continuous color schemes are intended for use with [sequential](scales.html#sequential) scales.\n\nFor the full list of supported scheme, please refer to the [Vega Scheme](https://vega.github.io/vega/docs/schemes/#reference) reference.'},type:{$ref:"#/definitions/ScaleType",description:'The type of scale.  Vega-Lite supports the following categories of scale types:\n\n1) [**Continuous Scales**](scale.html#continuous) -- mapping continuous domains to continuous output ranges ([`"linear"`](scale.html#linear), [`"pow"`](scale.html#pow), [`"sqrt"`](scale.html#sqrt), [`"log"`](scale.html#log), [`"time"`](scale.html#time), [`"utc"`](scale.html#utc), [`"sequential"`](scale.html#sequential)).\n\n2) [**Discrete Scales**](scale.html#discrete) -- mapping discrete domains to discrete ([`"ordinal"`](scale.html#ordinal)) or continuous ([`"band"`](scale.html#band) and [`"point"`](scale.html#point)) output ranges.\n\n3) [**Discretizing Scales**](scale.html#discretizing) -- mapping continuous domains to discrete output ranges ([`"bin-linear"`](scale.html#bin-linear) and [`"bin-ordinal"`](scale.html#bin-ordinal)).\n\n__Default value:__ please see the [scale type table](scale.html#type).'},zero:{description:"If `true`, ensures that a zero baseline value is included in the scale domain.\n\n__Default value:__ `true` for x and y channels if the quantitative field is not binned and no custom `domain` is provided; `false` otherwise.\n\n__Note:__ Log, time, and utc scales do not support `zero`.",type:"boolean"}},type:"object"},ScaleConfig:{additionalProperties:!1,properties:{bandPaddingInner:{description:"Default inner padding for `x` and `y` band-ordinal scales.\n\n__Default value:__ `0.1`",maximum:1,minimum:0,type:"number"},bandPaddingOuter:{description:"Default outer padding for `x` and `y` band-ordinal scales.\nIf not specified, by default, band scale's paddingOuter is paddingInner/2.",maximum:1,minimum:0,type:"number"},clamp:{description:"If true, values that exceed the data domain are clamped to either the minimum or maximum range value",type:"boolean"},maxBandSize:{description:"The default max value for mapping quantitative fields to bar's size/bandSize.\n\nIf undefined (default), we will use the scale's `rangeStep` - 1.",minimum:0,type:"number"},maxFontSize:{description:"The default max value for mapping quantitative fields to text's size/fontSize.\n\n__Default value:__ `40`",minimum:0,type:"number"},maxOpacity:{description:"Default max opacity for mapping a field to opacity.\n\n__Default value:__ `0.8`",maximum:1,minimum:0,type:"number"},maxSize:{description:"Default max value for point size scale.",minimum:0,type:"number"},maxStrokeWidth:{description:"Default max strokeWidth for strokeWidth  (or rule/line's size) scale.\n\n__Default value:__ `4`",minimum:0,type:"number"},minBandSize:{description:"The default min value for mapping quantitative fields to bar and tick's size/bandSize scale with zero=false.\n\n__Default value:__ `2`",minimum:0,type:"number"},minFontSize:{description:"The default min value for mapping quantitative fields to tick's size/fontSize scale with zero=false\n\n__Default value:__ `8`",minimum:0,type:"number"},minOpacity:{description:"Default minimum opacity for mapping a field to opacity.\n\n__Default value:__ `0.3`",maximum:1,minimum:0,type:"number"},minSize:{description:"Default minimum value for point size scale with zero=false.\n\n__Default value:__ `9`",minimum:0,type:"number"},minStrokeWidth:{description:"Default minimum strokeWidth for strokeWidth (or rule/line's size) scale with zero=false.\n\n__Default value:__ `1`",minimum:0,type:"number"},pointPadding:{description:"Default outer padding for `x` and `y` point-ordinal scales.\n\n__Default value:__ `0.5`",maximum:1,minimum:0,type:"number"},rangeStep:{description:"Default range step for band and point scales of (1) the `y` channel\nand (2) the `x` channel when the mark is not `text`.\n\n__Default value:__ `21`",minimum:0,type:["number","null"]},round:{description:"If true, rounds numeric output values to integers.\nThis can be helpful for snapping to the pixel grid.\n(Only available for `x`, `y`, and `size` scales.)",type:"boolean"},textXRangeStep:{description:"Default range step for `x` band and point scales of text marks.\n\n__Default value:__ `90`",minimum:0,type:"number"},useUnaggregatedDomain:{description:'Use the source data range before aggregation as scale domain instead of aggregated data for aggregate axis.\n\nThis is equivalent to setting `domain` to `"unaggregate"` for aggregated _quantitative_ fields by default.\n\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.\n\n__Default value:__ `false`',type:"boolean"}},type:"object"},ScaleFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](scale.html) are applied."},sort:{anyOf:[{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"}]},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},ScaleResolveMap:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ResolveMode"},opacity:{$ref:"#/definitions/ResolveMode"},shape:{$ref:"#/definitions/ResolveMode"},size:{$ref:"#/definitions/ResolveMode"},x:{$ref:"#/definitions/ResolveMode"},y:{$ref:"#/definitions/ResolveMode"}},type:"object"},ScaleType:{enum:["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"],type:"string"},SchemeParams:{additionalProperties:!1,properties:{extent:{description:"For sequential and diverging schemes only, determines the extent of the color range to use. For example `[0.2, 1]` will rescale the color scheme such that color values in the range _[0, 0.2)_ are excluded from the scheme.",items:{type:"number"},type:"array"},name:{description:'A color scheme name for sequential/ordinal scales (e.g., `"category10"` or `"viridis"`).\n\nFor the full list of supported scheme, please refer to the [Vega Scheme](https://vega.github.io/vega/docs/schemes/#reference) reference.',type:"string"}},required:["name"],type:"object"},SelectionConfig:{additionalProperties:!1,properties:{interval:{$ref:"#/definitions/IntervalSelectionConfig"},multi:{$ref:"#/definitions/MultiSelectionConfig"},single:{$ref:"#/definitions/SingleSelectionConfig"}},required:["single","multi","interval"],type:"object"},SelectionDef:{anyOf:[{$ref:"#/definitions/SingleSelection"},{$ref:"#/definitions/MultiSelection"},{$ref:"#/definitions/IntervalSelection"}]},SelectionDomain:{anyOf:[{additionalProperties:!1,properties:{field:{type:"string"},selection:{type:"string"}},required:["selection"],type:"object"},{additionalProperties:!1,properties:{encoding:{type:"string"},selection:{type:"string"}},required:["selection"],type:"object"}]},SelectionFilter:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand",description:"Filter using a selection name."}},required:["selection"],type:"object"},SelectionResolution:{enum:["global","union","intersect"],type:"string"},SingleDefChannel:{enum:["x","y","x2","y2","row","column","size","shape","color","opacity","text","tooltip"],type:"string"},SingleSelection:{additionalProperties:!1,properties:{bind:{anyOf:[{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}],description:"Establish a two-way binding between a single selection and input elements\n(also known as dynamic query widgets). A binding takes the form of\nVega's [input element binding definition](https://vega.github.io/vega/docs/signals/#bind)\nor can be a mapping between projected field/encodings and binding definitions."},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.",type:"boolean"},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'},type:{enum:["single"],type:"string"}},required:["type"],type:"object"},SingleSelectionConfig:{additionalProperties:!1,properties:{bind:{anyOf:[{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}],description:"Establish a two-way binding between a single selection and input elements\n(also known as dynamic query widgets). A binding takes the form of\nVega's [input element binding definition](https://vega.github.io/vega/docs/signals/#bind)\nor can be a mapping between projected field/encodings and binding definitions."},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.",type:"boolean"},on:{description:"A Vega event stream (object or selector) that triggers the selection."},resolve:{$ref:"#/definitions/SelectionResolution",description:'With layered and multi-view displays, a strategy that determines how\nselections\' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain. One of: "global", "union",\n"intersect", "union_others", or "intersect_others".\n\n__global__: Only one instance of the selection exists across all\nviews. When a user interacts within a new view, any previous selections\nare overridden.\n\n__union__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _any_ of these selection\ninstances.\n\n__intersect__: Each view contains its own selection, and a data value is\nconsidered to be selected if it falls within _all_ of these selection\ninstances.'}},type:"object"},SingleTimeUnit:{anyOf:[{$ref:"#/definitions/LocalSingleTimeUnit"},{$ref:"#/definitions/UtcSingleTimeUnit"}]},SortField:{additionalProperties:!1,properties:{field:{description:"The data field to sort by.\n\n__Default value:__ If unspecified, defaults to the field specified in the outer data reference.",type:"string"},op:{$ref:"#/definitions/AggregateOp",description:'An [aggregate operation](aggregate.html#ops) to perform on the field prior to sorting (e.g., `"count"`, `"mean"` and `"median"`).\nThis property is required in cases where the sort field and the data reference field do not match.\nThe input data objects will be aggregated, grouped by the encoded data field.\n\nFor a full list of operations, please see the documentation for [aggregate](aggregate.html#ops).'},order:{$ref:"#/definitions/SortOrder",description:'The sort order. One of `"ascending"` (default) or `"descending"`.'}},required:["op"],type:"object"},SortOrder:{anyOf:[{enum:["ascending"],type:"string"},{enum:["descending"],type:"string"},{type:"null"}]},StackOffset:{enum:["zero","center","normalize","none"],type:"string"},StyleConfigIndex:{additionalProperties:{$ref:"#/definitions/VgMarkConfig"},type:"object"},Summarize:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/AggregateOp",description:"The aggregation operations to apply to the fields, such as sum, average or count.\nSee the [full list of supported aggregation operations](https://vega.github.io/vega-lite/docs/aggregate.html#supported-aggregation-operations)\nfor more information."},as:{description:"The output field names to use for each aggregated field.",type:"string"},field:{description:"The data field for which to compute aggregate function.",type:"string"}},required:["aggregate","field","as"],type:"object"},SummarizeTransform:{additionalProperties:!1,properties:{groupby:{description:"The data fields to group by. If not specified, a single group containing all data objects will be used.",items:{type:"string"},type:"array"},summarize:{description:"Array of objects that define aggregate fields.",items:{$ref:"#/definitions/Summarize"},type:"array"}},required:["summarize"],type:"object"},TextConfig:{additionalProperties:!1,properties:{align:{description:"The horizontal text alignment.",enum:["left","center","right"],type:"string"},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset in pixels (before rotation), between the text and anchor point.",type:"number"},dy:{description:"The vertical offset in pixels (before rotation), between the text and anchor point.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},TextFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](bin.html#params).\nIf `true`, default [binning parameters](bin.html) will be applied.\n\n__Default value:__ `false`"},field:{$ref:"#/definitions/Field",description:"__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](repeat.html) operator.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The [formatting pattern](format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`).'}},required:["type"],type:"object"},TickConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'
},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},bandSize:{description:"The width of the ticks.\nIf this value is undefined (by default,), we use 2/3 of rangeStep by default.",minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"},thickness:{description:"Thickness of the tick mark.\n\n__Default value:__  `1`",minimum:0,type:"number"}},type:"object"},TimeUnit:{anyOf:[{$ref:"#/definitions/SingleTimeUnit"},{$ref:"#/definitions/MultiTimeUnit"}]},TimeUnitTransform:{additionalProperties:!1,properties:{as:{description:"The output field to write the timeUnit value.",type:"string"},field:{description:"The data field to apply time unit.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"The timeUnit."}},required:["timeUnit","field","as"],type:"object"},TitleBase:{additionalProperties:!1,properties:{anchor:{$ref:"#/definitions/Anchor",description:'The anchor position for placing the title. One of `"start"`, `"middle"`, or `"end"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n\n__Default value:__ `"middle"` for [single](spec.html) and [layered](layer.html) views.\n`"start"` for other composite views.\n\n__Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](spec.html) and [layered](layer.html) views.  For other composite views, `anchor` is always `"start"`.'},offset:{description:"The orthogonal offset in pixels by which to displace the title from its position along the edge of the chart.",type:"number"},orient:{$ref:"#/definitions/TitleOrient",description:'The orientation of the title relative to the chart. One of `"top"` (the default), `"bottom"`, `"left"`, or `"right"`.'},style:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:'A [mark style property](config.html#style) to apply to the title text mark.\n\n__Default value:__ `"group-title"`.'}},type:"object"},TitleOrient:{enum:["top","bottom","left","right"],type:"string"},TitleParams:{additionalProperties:!1,properties:{anchor:{$ref:"#/definitions/Anchor",description:'The anchor position for placing the title. One of `"start"`, `"middle"`, or `"end"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n\n__Default value:__ `"middle"` for [single](spec.html) and [layered](layer.html) views.\n`"start"` for other composite views.\n\n__Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](spec.html) and [layered](layer.html) views.  For other composite views, `anchor` is always `"start"`.'},offset:{description:"The orthogonal offset in pixels by which to displace the title from its position along the edge of the chart.",type:"number"},orient:{$ref:"#/definitions/TitleOrient",description:'The orientation of the title relative to the chart. One of `"top"` (the default), `"bottom"`, `"left"`, or `"right"`.'},style:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:'A [mark style property](config.html#style) to apply to the title text mark.\n\n__Default value:__ `"group-title"`.'},text:{description:"The title text.",type:"string"}},required:["text"],type:"object"},TopLevelFacetedUnitSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},required:["encoding","mark"],type:"object"},TopLevelFacetedSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/Facet"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve"},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},TopLevelHConcatSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},hconcat:{items:{$ref:"#/definitions/Spec"},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},TopLevelLayerSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},height:{description:"The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"},layer:{description:"Layer or single view specifications to be layered.\n\n__Note__: Specifications inside `layer` cannot use `row` and `column` channels as layering facet specifications is not allowed.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:"The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plot with `row` and `column` channels, this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](size.html) contains more examples.",type:"number"}},required:["layer"],type:"object"},TopLevelRepeatSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},repeat:{$ref:"#/definitions/Repeat"},resolve:{$ref:"#/definitions/Resolve"},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},TopLevelVConcatSpec:{additionalProperties:!1,properties:{$schema:{description:"URL to JSON schema for this Vega-Lite specification.",format:"uri",type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{items:{$ref:"#/definitions/Spec"},type:"array"}},required:["vconcat"],type:"object"},TopLevelExtendedSpec:{anyOf:[{$ref:"#/definitions/TopLevelFacetedUnitSpec"},{$ref:"#/definitions/TopLevelLayerSpec"},{$ref:"#/definitions/TopLevelFacetedSpec"},{$ref:"#/definitions/TopLevelRepeatSpec"},{$ref:"#/definitions/TopLevelVConcatSpec"},{$ref:"#/definitions/TopLevelHConcatSpec"}]},TopLevelProperties:{additionalProperties:!1,properties:{autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.\n\n__Default value__: `false`",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'}},type:"object"},Transform:{anyOf:[{$ref:"#/definitions/FilterTransform"},{$ref:"#/definitions/CalculateTransform"},{$ref:"#/definitions/LookupTransform"},{$ref:"#/definitions/BinTransform"},{$ref:"#/definitions/TimeUnitTransform"},{$ref:"#/definitions/SummarizeTransform"}]},Type:{description:"Constants and utilities for data type  \n Data type based on level of measurement ",enum:["quantitative","ordinal","temporal","nominal"],type:"string"},UrlData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataUrlFormat",description:"An object that specifies the format for parsing the data file."},url:{description:"An URL from which to load the data set. Use the `format.type` property\nto ensure the loaded data is correctly parsed.",type:"string"}},required:["url"],type:"object"},UtcMultiTimeUnit:{enum:["utcyearquarter","utcyearquartermonth","utcyearmonth","utcyearmonthdate","utcyearmonthdatehours","utcyearmonthdatehoursminutes","utcyearmonthdatehoursminutesseconds","utcquartermonth","utcmonthdate","utchoursminutes","utchoursminutesseconds","utcminutesseconds","utcsecondsmilliseconds"],type:"string"},UtcSingleTimeUnit:{enum:["utcyear","utcquarter","utcmonth","utcday","utcdate","utchours","utcminutes","utcseconds","utcmilliseconds"],type:"string"},VLOnlyConfig:{additionalProperties:!1,properties:{cell:{$ref:"#/definitions/CellConfig",description:"Cell Config "},countTitle:{description:"Default axis and legend title for count fields.\n\n__Default value:__ `'Number of Records'`.",type:"string"},invalidValues:{description:'Defines how Vega-Lite should handle invalid values (`null` and `NaN`).\n- If set to `"filter"` (default), all data items with null values are filtered.\n- If `null`, all data items are included. In this case, invalid values will be interpreted as zeroes.',enum:["filter"],type:"string"},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units.(in the form of [D3 number format pattern](https://github.com/mbostock/d3/wiki/Formatting)).\n\n__Default value:__ `"s"` (except for text marks that encode a count field, the default value is `"d"`).',type:"string"},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale Config "},selection:{$ref:"#/definitions/SelectionConfig",description:"Selection Config "},stack:{$ref:"#/definitions/StackOffset",description:"Default stack offset for stackable mark. "},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend. [D3 time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting)).\n\n__Default value:__ `'%b %d, %Y'`.",type:"string"}},type:"object"},ValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},required:["value"],type:"object"},VerticalAlign:{enum:["top","middle","bottom"],type:"string"},VgAxisBase:{additionalProperties:!1,description:"Base object for Vega's Axis and Axis Config.\nAll of these properties are both properties of Vega's Axis and Axis Config.",properties:{domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for x-axes with horizontal labels, otherwise `false`.'},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30`",type:"number"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"}},type:"object"},VgAxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},minimum:0,type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",
maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for x-axes with horizontal labels, otherwise `false`.'},labelPadding:{description:"Padding in pixels between axis ticks and tick labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30`",type:"number"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.\n\n__Default value:__ `10`.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},VgBinding:{anyOf:[{$ref:"#/definitions/VgCheckboxBinding"},{$ref:"#/definitions/VgRadioBinding"},{$ref:"#/definitions/VgSelectBinding"},{$ref:"#/definitions/VgRangeBinding"},{$ref:"#/definitions/VgGenericBinding"}]},VgCheckboxBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["checkbox"],type:"string"}},required:["input"],type:"object"},VgGenericBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{type:"string"}},required:["input"],type:"object"},VgLegendBase:{additionalProperties:!1,properties:{entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"}},type:"object"},VgLegendConfig:{additionalProperties:!1,properties:{cornerRadius:{description:"Corner radius for the full legend.",type:"number"},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},gradientHeight:{description:"The height of the gradient, in pixels.",minimum:0,type:"number"},gradientLabelBaseline:{description:"Text baseline for color ramp gradient labels.",type:"string"},gradientLabelLimit:{description:"The maximum allowed length in pixels of color ramp gradient labels.",type:"number"},gradientLabelOffset:{description:"Vertical offset in pixels for color ramp gradient labels.",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",minimum:0,type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",minimum:0,type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the legend label.",type:"string"},labelFontSize:{description:"The font size of legend label.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOffset:{description:"The offset of the legend label.",minimum:0,type:"number"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},strokeColor:{description:"Border stroke color for the full legend.",type:"string"},strokeDash:{description:"Border stroke dash pattern for the full legend.",items:{type:"number"},type:"array"},strokeWidth:{description:"Border stroke width for the full legend.",type:"number"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolSize:{description:"The size of the legend symbol, in pixels.",minimum:0,type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",minimum:0,type:"number"},symbolType:{description:'Default shape type (such as "circle") for legend symbols.',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},titleBaseline:{description:"Optional mark property definitions for custom legend styling. \n Vertical text baseline for legend titles.",type:"string"},titleColor:{description:"The color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and legend.",type:"number"}},type:"object"},VgMarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},VgRadioBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["radio"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgRangeBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["range"],type:"string"},max:{type:"number"},min:{type:"number"},step:{type:"number"}},required:["input"],type:"object"},VgScheme:{additionalProperties:!1,properties:{count:{type:"number"},extent:{items:{type:"number"},type:"array"},scheme:{type:"string"}},required:["scheme"],type:"object"},VgSelectBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["select"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgTitleConfig:{additionalProperties:!1,properties:{anchor:{$ref:"#/definitions/Anchor",description:'The anchor position for placing the title. One of `"start"`, `"middle"`, or `"end"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n\n__Default value:__ `"middle"` for [single](spec.html) and [layered](layer.html) views.\n`"start"` for other composite views.\n\n__Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](spec.html) and [layered](layer.html) views.  For other composite views, `anchor` is always `"start"`.'},angle:{description:"Angle in degrees of title text.",type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:"Vertical text baseline for title text."},color:{description:"Text color for title text.",type:"string"},font:{description:"Font name for title text.",type:"string"},fontSize:{description:"Font size in pixels for title text.\n\n__Default value:__ `10`.",minimum:0,type:"number"},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:"Font weight for title text."},limit:{description:"The maximum allowed length in pixels of legend labels.",minimum:0,type:"number"},offset:{description:"Offset in pixels of the title from the chart body and axes.",type:"number"},orient:{$ref:"#/definitions/TitleOrient",description:'Default title orientation ("top", "bottom", "left", or "right")'}},type:"object"},VlOnlyGuideConfig:{additionalProperties:!1,properties:{shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"}},type:"object"}}}},function(e,t,n){var r=n(441),i=r.Symbol;e.exports=i},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return y=t,v}}function a(e,t){try{return e(t)}catch(n){return y=n,v}}function o(e,t,n){try{e(t,n)}catch(r){return y=r,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&m(e,this)}function l(e,t,n){return new e.constructor(function(i,a){var o=new s(r);o.then(i,a),u(e,new h(t,n,o))})}function u(e,t){for(;3===e._83;)e=e._18;return s._47&&s._47(e),0===e._83?0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t):void c(e,t)}function c(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=a(n,e._18);r===v?d(t.promise,y):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===v)return d(e,y);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"==typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,p(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=o(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==v||(n=!0,d(t,y))}var g=n(332),y=null,v={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(r);return u(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var r=n(448);e.exports=function(e){var t=!1;return r(e,t)}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:r,shorthandPropertyExpansions:a};e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),a=n(54),o=(n(4),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=a.addPoolingTo(o)},function(e,t,n){"use strict";function r(e){return!!u.hasOwnProperty(e)||!l.hasOwnProperty(e)&&(s.test(e)?(u[e]=!0,!0):(l[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var a=n(65),o=(n(17),n(35),n(515)),s=(n(9),new RegExp("^["+a.ATTRIBUTE_NAME_START_CHAR+"]["+a.ATTRIBUTE_NAME_CHAR+"]*$")),l={},u={},c={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+o(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(a.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,a=l.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<a.length;i++){var o=r.hasOwnProperty(a[i].value);a[i].selected!==o&&(a[i].selected=o)}}else{for(r=""+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(r,this),n}var o=n(20),s=n(142),l=n(17),u=n(40),c=(n(9),!1),f={getHostProps:function(e,t){return o({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=r,e.exports=i},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(e){return s?void 0:o("111",e.type),new s(e)}function i(e){return new l(e)}function a(e){return e instanceof l}var o=n(10),s=(n(4),null),l=null,u={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){l=e}},c={createInternalComponent:r,createInstanceForText:i,isTextComponent:a,injection:u};e.exports=c},function(e,t,n){"use strict";function r(e){return a(document.documentElement,e)}var i=n(475),a=n(376),o=n(202),s=n(203),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,i),o(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",r-n),a.select()}else i.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===R?e.documentElement:e.firstChild:null}function a(e){return e.getAttribute&&e.getAttribute(D)||""}function o(e,t,n,r,i){var a;if(x.logTopLevelRenders){var o=e._currentElement.props.child,s=o.type;a="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(a)}var l=O.mountComponent(e,n,null,b(e,t),i,0);a&&console.timeEnd(a),e._renderedComponent._topLevelWrapper=e,z._mountImageIntoNode(l,t,e,r,n)}function s(e,t,n,r){var i=E.ReactReconcileTransaction.getPooled(!n&&_.useCreateElement);i.perform(o,null,e,t,i,n,r),E.ReactReconcileTransaction.release(i)}function l(e,t,n){for(O.unmountComponent(e,n),t.nodeType===R&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=i(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==N&&e.nodeType!==R&&e.nodeType!==I)}function f(e){var t=i(e),n=t&&v.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=f(e);return t?t._hostContainerInfo._topLevelWrapper:null}var p=n(10),h=n(64),m=n(65),g=n(69),y=n(99),v=(n(46),n(17)),b=n(469),_=n(471),x=n(223),S=n(81),w=(n(35),n(485)),O=n(66),k=n(145),E=n(40),M=n(96),T=n(234),P=(n(4),n(103)),C=n(151),D=(n(9),m.ID_ATTRIBUTE_NAME),A=m.ROOT_ATTRIBUTE_NAME,N=1,R=9,I=11,F={},L=1,j=function(){this.rootID=L++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var z={TopLevelWrapper:j,_instancesByReactRootID:F,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return z.scrollMonitor(r,function(){k.enqueueElementInternal(e,t,n),i&&k.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:p("37"),y.ensureScrollValueMonitoring();var i=T(e,!1);E.batchedUpdates(s,i,t,n,r);var a=i._instance.rootID;return F[a]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&S.has(e)?void 0:p("38"),z._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){k.validateCallback(r,"ReactDOM.render"),g.isValidElement(t)?void 0:p("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");
var o,s=g.createElement(j,{child:t});if(e){var l=S.get(e);o=l._processChildContext(l._context)}else o=M;var c=d(n);if(c){var f=c._currentElement,h=f.props.child;if(C(h,t)){var m=c._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return z._updateRootComponent(c,s,o,n,y),m}z.unmountComponentAtNode(n)}var v=i(n),b=v&&!!a(v),_=u(n),x=b&&!c&&!_,w=z._renderNewRootComponent(s,n,x,o)._renderedComponent.getPublicInstance();return r&&r.call(w),w},render:function(e,t,n){return z._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:p("40");var t=d(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(A);return!1}return delete F[t._instance.rootID],E.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,a,o){if(c(t)?void 0:p("41"),a){var s=i(t);if(w.canReuseMarkup(e,s))return void v.precacheNode(n,s);var l=s.getAttribute(w.CHECKSUM_ATTR_NAME);s.removeAttribute(w.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(w.CHECKSUM_ATTR_NAME,l);var f=e,d=r(f,u),m=" (client) "+f.substring(d-20,d+20)+"\n (server) "+u.substring(d-20,d+20);t.nodeType===R?p("42",m):void 0}if(t.nodeType===R?p("43"):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else P(t,e),v.precacheNode(n,t.firstChild)}};e.exports=z},function(e,t,n){"use strict";var r=n(10),i=n(69),a=(n(4),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?a.EMPTY:i.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.HOST:void r("26",e)}});e.exports=a},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(10);n(4);e.exports=r},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(227);e.exports=r},function(e,t,n){"use strict";function r(){return!a&&i.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var i=n(26),a=null;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function i(e){return e._wrapperState.valueTracker}function a(e,t){e._wrapperState.valueTracker=t}function o(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var l=n(17),u={_getTrackerFromNode:function(e){return i(l.getInstanceFromNode(e))},track:function(e){if(!i(e)){var t=l.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){u=""+e,s.set.call(this,e)}}),a(e,{getValue:function(){return u},setValue:function(e){u=""+e},stopTracking:function(){o(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=i(e);if(!t)return u.track(e),!0;var n=t.getValue(),r=s(l.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=i(e);t&&t.stopTracking()}};e.exports=u},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function a(e,t){var n;if(null===e||e===!1)n=u.create(a);else if("object"==typeof e){var s=e,l=s.type;if("function"!=typeof l&&"string"!=typeof l){var d="";d+=r(s._owner),o("130",null==l?l:typeof l,d)}"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):o("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var o=n(10),s=n(20),l=n(466),u=n(222),c=n(224),f=(n(559),n(4),n(9),function(e){this.construct(e)});s(f.prototype,l,{_instantiateReactComponent:a}),e.exports=a},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(26),i=n(102),a=n(103),o=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void a(e,i(t))})),e.exports=o},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,a){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(a,e,""===t?c+r(e,0):t),1;var p,h,m=0,g=""===t?c:t+f;if(Array.isArray(e))for(var y=0;y<e.length;y++)p=e[y],h=g+r(p,y),m+=i(p,h,n,a);else{var v=l(e);if(v){var b,_=v.call(e);if(v!==e.entries)for(var x=0;!(b=_.next()).done;)p=b.value,h=g+r(p,x++),m+=i(p,h,n,a);else for(;!(b=_.next()).done;){var S=b.value;S&&(p=S[1],h=g+u.escape(S[0])+f+r(p,0),m+=i(p,h,n,a))}}else if("object"===d){var w="",O=String(e);o("31","[object Object]"===O?"object with keys {"+Object.keys(e).join(", ")+"}":O,w)}}return m}function a(e,t,n){return null==e?0:i(e,"",t,n)}var o=n(10),s=(n(46),n(481)),l=n(512),u=(n(4),n(141)),c=(n(9),"."),f=":";e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(16),f=r(c),d=n(18),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.__current_value=e.value,n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.afterViewInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.context||window;this.props.value!==this.__current_value&&(this.__current_value=this.props.value,this.editor&&(this.__prevent_trigger_change_event=!0,this.editor.setValue(this.__current_value),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&t.monaco.editor.setModelLanguage(this.editor.getModel(),this.props.language)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function e(t){var e=this.props.editorWillMount;e(t)}},{key:"editorDidMount",value:function e(t,n){var r=this,i=this.props,e=i.editorDidMount,a=i.onChange;e(t,n),t.onDidChangeModelContent(function(e){var n=t.getValue();r.__current_value=n,r.__prevent_trigger_change_event||a(n,e)})}},{key:"afterViewInit",value:function(){var e=this,t=this.props.context||window;if(void 0!==t.monaco)return void this.initMonaco();var n=this.props.requireConfig,r=n.url||"vs/loader.js",i=function(){if(t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__&&n.paths&&n.paths.vs&&t.require.config(n),t.require(["vs/editor/editor.main"],function(){e.initMonaco()}),t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__){t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!1;var r=t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__;if(r&&r.length)for(var i=r.shift();i;)i.fn.call(i.context),i=r.shift()}};if(t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__)t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__=t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__||[],t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__.push({context:this,fn:i});else if("undefined"==typeof t.require){var a=t.document.createElement("script");a.type="text/javascript",a.src=r,a.addEventListener("load",i),t.document.body.appendChild(a),t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!0}else i()}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.language,r=t.theme,i=t.options,a=this.refs.container,o=this.props.context||window;a&&"undefined"!=typeof o.monaco&&(this.editorWillMount(o.monaco),this.editor=o.monaco.editor.create(a,l({value:e,language:n},i)),r&&o.monaco.editor.setTheme(r),this.editorDidMount(this.editor,o.monaco))}},{key:"destroyMonaco",value:function(){"undefined"!=typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=t.toString().indexOf("%")!==-1?t:t+"px",i=n.toString().indexOf("%")!==-1?n:n+"px",a={width:r,height:i};return f.default.createElement("div",{ref:"container",style:a,className:"react-monaco-editor-container"})}}]),t}(f.default.Component);h.propTypes={width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),value:p.default.string,defaultValue:p.default.string,language:p.default.string,theme:p.default.string,options:p.default.object,editorDidMount:p.default.func,editorWillMount:p.default.func,onChange:p.default.func,requireConfig:p.default.object,context:p.default.object},h.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:s,editorWillMount:s,onChange:s,requireConfig:{}},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(){}function u(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(a){n.shouldComponentUpdate=!0,n.error=a}}};return n}function c(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.getDisplayName,d=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,h=r.methodName,y=void 0===h?"connectAdvanced":h,S=r.renderCountProp,w=void 0===S?void 0:S,O=r.shouldHandleStateChanges,k=void 0===O||O,E=r.storeKey,M=void 0===E?"store":E,T=r.withRef,P=void 0!==T&&T,C=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),D=M+"Subscription",A=_++,N=(t={},t[M]=b.storeShape,t[D]=b.subscriptionShape,t),R=(n={},n[D]=b.subscriptionShape,n);return function(t){(0,m.default)("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=d(n),s=f({},C,{getDisplayName:d,methodName:y,renderCountProp:w,shouldHandleStateChanges:k,storeKey:M,withRef:P,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){i(this,c);var o=a(this,n.call(this,e,t));return o.version=A,o.state={},o.renderCount=0,o.store=e[M]||t[M],o.propsMode=Boolean(e[M]),o.setWrappedInstance=o.setWrappedInstance.bind(o),(0,m.default)(o.store,'Could not find "'+M+'" in either the context or props of '+('"'+r+'". Either wrap the root component in a <Provider>, ')+('or explicitly pass "'+M+'" as a prop to "'+r+'".')),o.initSelector(),o.initSubscription(),o}return o(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[D]=t||this.context[D],e},c.prototype.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=l,this.store=null,this.selector.run=l,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,m.default)(P,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+y+"() call.")),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=u(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[D];this.subscription=new v.default(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(P||w||this.propsMode&&this.subscription))return e;var t=f({},e);return P&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[D]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,g.createElement)(t,this.addExtraProps(e.props))},c}(g.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=R,c.contextTypes=N,c.propTypes=N,(0,p.default)(c,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var d=n(527),p=r(d),h=n(24),m=r(h),g=n(16),y=n(525),v=r(y),b=n(241),_=0,x={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function a(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=a(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=a(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=a,t.wrapMapToPropsFunc=o;var s=n(242);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=void 0;var i=n(18),a=r(i);t.subscriptionShape=a.default.shape({trySubscribe:a.default.func.isRequired,tryUnsubscribe:a.default.func.isRequired,notifyNestedSubs:a.default.func.isRequired,isSubscribed:a.default.func.isRequired}),t.storeShape=a.default.shape({subscribe:a.default.func.isRequired,dispatch:a.default.func.isRequired,getState:a.default.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,o.default)(e)||(0,l.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=i;var a=n(135),o=r(a),s=n(153),l=r(s)},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return{type:r,payload:{method:e,args:n}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=t.push=n("push"),a=t.replace=n("replace"),o=t.go=n("go"),s=t.goBack=n("goBack"),l=t.goForward=n("goForward");t.routerActions={push:i,replace:a,go:o,goBack:s,goForward:l}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;return n===i?r({},e,{locationBeforeTransitions:o}):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.routerReducer=n;var i=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return 0===e.button}function o(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function l(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(16),f=r(c),d=n(43),p=r(d),h=n(18),m=n(24),g=r(m),y=n(156),v=n(155),b=(0,p.default)({displayName:"Link",mixins:[(0,v.ContextSubscriber)("router")],contextTypes:{router:y.routerShape},propTypes:{to:(0,h.oneOfType)([h.string,h.object,h.func]),activeStyle:h.object,activeClassName:h.string,onlyActiveOnIndex:h.bool.isRequired,onClick:h.func,target:h.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,g.default)(!1),!o(e)&&a(e)&&(this.props.target||(e.preventDefault(),t.push(l(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,a=e.onlyActiveOnIndex,o=i(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),c=this.context.router;if(c){if(!t)return f.default.createElement("a",o);var d=l(t,c);o.href=c.createHref(d),(n||null!=r&&!s(r))&&c.isActive(d,a)&&(n&&(o.className?o.className+=" "+n:o.className=n),r&&(o.style=u({},o.style,r)))}return f.default.createElement("a",u({},o,{onClick:this.handleClick}))}});t.default=b,e.exports=t.default},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(43),a=r(i),o=n(18),s=n(24),l=r(s),u=n(51),c=n(67),f=n(83),d=(0,a.default)({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,u.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,i=e.params,a=void 0;if("/"===t.to.charAt(0))a=(0,c.formatPattern)(t.to,i);else if(t.to){var o=e.routes.indexOf(t),s=d.getRoutePattern(e.routes,o-1),l=s.replace(/\/*$/,"/")+t.to;a=(0,c.formatPattern)(l,i)}else a=r.pathname;n({pathname:a,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],a=i.path||"";if(n=a.replace(/\/*$/,"/")+n,0===a.indexOf("/"))break}return"/"+n}},propTypes:{path:o.string,from:o.string,to:o.string.isRequired,query:o.object,state:o.object,onEnter:f.falsy,children:f.falsy},render:function(){(0,l.default)(!1)}});t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var a=i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return r(a,n)}function r(e,t){var n=t.location,r=t.params,i=t.routes;return e.location=n,e.params=r,e.routes=i,e}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=n,t.assignRouterState=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,c.default)(e),n=function(){return t},r=(0,o.default)((0,l.default)(n))(e);return r}t.__esModule=!0,t.default=i;var a=n(206),o=r(a),s=n(205),l=r(s),u=n(391),c=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return s&&(t=(0,o.default)(e)()),t}t.__esModule=!0,t.default=i;var a=n(252),o=r(a),s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e,t){function n(t,n){return t=e.createLocation(t),(0,p.default)(t,n,b.location,b.routes,b.params)}function r(e,n){O&&O.location===e?a(O,n):(0,y.default)(t,e,function(t,r){t?n(t):r?a(o({},r,{location:e}),n):n()})}function a(e,t){function n(n,i){return n||i?r(n,i):void(0,m.default)(e,function(n,r){n?t(n):t(null,null,b=o({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var i=(0,u.default)(b,e),a=i.leaveRoutes,s=i.changeRoutes,l=i.enterRoutes;w(a,b),a.filter(function(e){return l.indexOf(e)===-1}).forEach(h),S(s,b,e,function(t,i){return t||i?r(t,i):void x(l,e,n)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=k++)}function l(e){return e.map(function(e){return E[s(e)]}).filter(function(e){return e})}function c(e,n){(0,y.default)(t,e,function(t,r){if(null==r)return void n();O=o({},r,{location:e});for(var i=l((0,u.default)(b,O).leaveRoutes),a=void 0,s=0,c=i.length;null==a&&s<c;++s)a=i[s](e);n(a)})}function d(){if(b.routes){for(var e=l(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function h(e){var t=s(e);t&&(delete E[t],i(E)||(M&&(M(),M=null),T&&(T(),T=null)))}function g(t,n){var r=!i(E),a=s(t,!0);return E[a]=n,r&&(M=e.listenBefore(c),e.listenBeforeUnload&&(T=e.listenBeforeUnload(d))),function(){h(t)}}function v(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})}var i=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),i}var b={},_=(0,f.default)(),x=_.runEnterHooks,S=_.runChangeHooks,w=_.runLeaveHooks,O=void 0,k=1,E=Object.create(null),M=void 0,T=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:g,listen:v}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(68),l=(r(s),n(539)),u=r(l),c=n(536),f=r(c),d=n(543),p=r(d),h=n(540),m=r(h),g=n(545),y=r(g);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=(0,o.default)((0,l.default)(e))(t);return n}}t.__esModule=!0,t.default=i;var a=n(206),o=r(a),s=n(205),l=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}function i(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||l}function a(){}var o=n(84),s=n(160),l=n(256),u=(n(257),n(96));n(4),n(560);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};a.prototype=r.prototype,i.prototype=new a,i.prototype.constructor=i,s(i.prototype,r.prototype),i.prototype.isPureReactComponent=!0,e.exports={Component:r,PureComponent:i}},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(a){return!1}}function i(e){var t=u(e);if(t){var n=t.childIDs;c(e),n.forEach(i)}}function a(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function o(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=k.getDisplayName(e),r=k.getElement(e),i=k.getOwnerID(e);return i&&(t=k.getDisplayName(i)),a(n,r&&r._source,t)}var l,u,c,f,d,p,h,m=n(84),g=n(46),y=(n(4),n(9),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(y){var v=new Map,b=new Set;l=function(e,t){v.set(e,t)},u=function(e){return v.get(e)},c=function(e){v.delete(e)},f=function(){return Array.from(v.keys())},d=function(e){b.add(e)},p=function(e){b.delete(e)},h=function(){return Array.from(b.keys())}}else{var _={},x={},S=function(e){return"."+e},w=function(e){return parseInt(e.substr(1),10)};l=function(e,t){var n=S(e);_[n]=t},u=function(e){var t=S(e);return _[t]},c=function(e){var t=S(e);delete _[t]},f=function(){return Object.keys(_).map(w)},d=function(e){var t=S(e);x[t]=!0},p=function(e){var t=S(e);delete x[t]},h=function(){return Object.keys(x).map(w)}}var O=[],k={onSetChildren:function(e,t){var n=u(e);n?void 0:m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],a=u(i);a?void 0:m("140"),null==a.childIDs&&"object"==typeof a.element&&null!=a.element?m("141"):void 0,a.isMounted?void 0:m("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e?m("142",i,a.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};l(e,r)},onBeforeUpdateComponent:function(e,t){var n=u(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=u(e);t?void 0:m("144"),t.isMounted=!0;var n=0===t.parentID;n&&d(e)},onUpdateComponent:function(e){var t=u(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=u(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&p(e)}O.push(e)},purgeUnmountedComponents:function(){if(!k._preventPurging){for(var e=0;e<O.length;e++){var t=O[e];i(t)}O.length=0}},isMounted:function(e){var t=u(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=o(e),r=e._owner;t+=a(n,e._source,r&&r.getName())}var i=g.current,s=i&&i._debugID;return t+=k.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=k.getParentID(e);return t},getChildIDs:function(e){var t=u(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=k.getElement(e);return t?o(t):null},getElement:function(e){var t=u(e);return t?t.element:null},getOwnerID:function(e){var t=k.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=u(e);return t?t.parentID:null},getSource:function(e){var t=u(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=k.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=u(e);return t?t.updateCount:0},getRootIDs:h,getRegisteredIDs:f,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=g.current,i=r&&r._debugID;try{for(e&&n.push({name:i?k.getDisplayName(i):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});i;){var a=k.getElement(i),o=k.getParentID(i),s=k.getOwnerID(i),l=s?k.getDisplayName(s):null,u=a&&a._source;n.push({name:l,fileName:u?u.fileName:null,lineNumber:u?u.lineNumber:null}),i=o}}catch(c){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=k},function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,n){"use strict";function r(e,t){}var i=(n(9),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=i},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){y===g&&(y=g.slice())}function a(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),y.push(e),function(){if(t){t=!1,r();var n=y.indexOf(e);y.splice(n,1)}}}function c(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=h(m,e)}finally{v=!1}for(var t=g=y,n=0;n<t.length;n++){var r=t[n];r()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:u.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[l.default]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,g=[],y=g,v=!1;return c({type:u.INIT}),p={dispatch:c,subscribe:s,getState:a,replaceReducer:f},p[l.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var a=n(135),o=r(a),s=n(573),l=r(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(259),a=r(i),o=n(571),s=r(o),l=n(570),u=r(l),c=n(569),f=r(c),d=n(258),p=r(d),h=n(261);
r(h);t.createStore=a.default,t.combineReducers=s.default,t.bindActionCreators=u.default,t.applyMiddleware=f.default,t.compose=p.default},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AXIS_PROPERTY_TYPE={grid:"grid",labelOverlap:"main",offset:"main",title:"main"},t.AXIS_PROPERTIES=["domain","format","grid","labelPadding","labels","labelOverlap","maxExtent","minExtent","offset","orient","position","tickCount","tickExtra","ticks","tickSize","title","titlePadding","values","zindex"],t.VG_AXIS_PROPERTIES=[].concat(t.AXIS_PROPERTIES,["gridScale"])},function(e,t,n){"use strict";function r(e){return g.SPATIAL_SCALE_CHANNELS.reduce(function(t,n){if(e.axis(n)){var r={},i=f(n,e);i&&l(i)&&(r.main=i);var a=c(n,e);a&&l(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},o=function(t){t.parseAxisAndHeader(),y.keys(t.component.axes).forEach(function(i){r.axis[i]=b.parseGuideResolve(e.component.resolve,i),"shared"===r.axis[i]&&(n[i]=a(n[i],t.component.axes[i]),n[i]||(r.axis[i]="independent",delete n[i]))})},s=0,l=e.children;s<l.length;s++){var u=l[s];o(u)}["x","y"].forEach(function(t){for(var a=0,o=e.children;a<o.length;a++){var s=o[a];s.component.axes[t]&&("independent"===r.axis[t]&&(n[t]=(n[t]||[]).concat(s.component.axes[t]),s.component.axes[t].forEach(function(e){var t=e.main.getWithExplicit("orient"),n=t.value,r=t.explicit;if(i[n]>0&&!r){var a=k[n];i[n]>i[a]&&e.main.set("orient",a,!1)}i[n]++})),delete s.component.axes[t])}})}function a(e,t){if(!e)return t.map(function(e){return h.__assign({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var s=i.getWithExplicit("orient"),l=a.getWithExplicit("orient");if(s.explicit&&l.explicit&&s.value!==l.value)return;e[r].main=o(i,a)}var u=e[r].grid,c=t[r].grid;if(!!u!=!!c)return;u&&c&&(e[r].grid=o(u,c))}return e}}function o(e,t){for(var n=function(n){var r=_.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return v.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return _.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=m.VG_AXIS_PROPERTIES;r<i.length;r++){var a=i[r];n(a)}return e}function s(e){return e===!1||null===e}function l(e){return y.some(O,function(t){return u(e,t)})}function u(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!s(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new x.AxisComponentPart({},{scale:t.scaleName(e)});m.AXIS_PROPERTIES.forEach(function(a){var o=p(a,r,e,t,n);if(void 0!==o){var s="values"===a?!!r.values:o===r[a];i.set(a,o,s)}});var a=w.gridScale(t,e,n);void 0!==a&&i.set("gridScale",a,!1);var o=r.encoding||{},s=O.reduce(function(n,r){if(!u(i,r))return n;var a="labels"===r?S.labels(t,e,o.labels||{},i):o[r]||{};return void 0!==a&&y.keys(a).length>0&&(n[r]={update:a}),n},{});return y.keys(s).length>0&&i.set("encode",s,!!r.encoding||!!r.labelAngle),i}function p(e,t,n,r,i){var a=r.fieldDef(n);if(!(i&&"main"===m.AXIS_PROPERTY_TYPE[e]||!i&&"grid"===m.AXIS_PROPERTY_TYPE[e])){switch(e){case"domain":return w.domain(e,t,i,n);case"format":return v.numberFormat(a,t.format,r.config);case"grid":var o=r.component.scales[n].get("type");return v.getSpecifiedOrDefaultValue(t.grid,w.grid(o,a));case"labels":return!i&&t.labels;case"labelOverlap":var o=r.component.scales[n].get("type");return w.labelOverlap(a,t,n,o);case"minExtent":return w.minMaxExtent(t.minExtent,i);case"maxExtent":return w.minMaxExtent(t.maxExtent,i);case"orient":return v.getSpecifiedOrDefaultValue(t.orient,w.orient(n));case"tickCount":var o=r.component.scales[n].get("type"),s="x"===n?"width":"y"===n?"height":void 0,l=s?r.getSizeSignalRef(s):void 0;return v.getSpecifiedOrDefaultValue(t.tickCount,w.tickCount(n,a,o,l));case"ticks":return w.ticks(e,t,i,n);case"title":return v.getSpecifiedOrDefaultValue(t.title,w.title(t.titleMaxLength,a,r.config));case"values":return w.values(t,r,a);case"zindex":return v.getSpecifiedOrDefaultValue(t.zindex,w.zindex(i))}return t[e]}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(262),g=n(6),y=n(3),v=n(29),b=n(111),_=n(37),x=n(579),S=n(580),w=n(581),O=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var k={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),a=n(107),o=n(110),s=n(22),l=function(e){function t(t,n,r,i,a){return e.call(this,t,n,r,i,a)||this}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=a.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),i.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var a=r[n];t(a)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},o.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),i=e.assembleLayoutSize();return r.__assign({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},i?{encode:{update:i}}:{},e.assembleGroup())})},t}(s.Model);t.BaseConcatModel=l},function(e,t,n){"use strict";function r(e){function t(r,i){if(r instanceof _.SourceNode&&!s.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof m.ParseNode&&(r.parent instanceof _.SourceNode&&!i.source?i.format=o.__assign({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof p.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof h.FilterNode||r instanceof b.NullFilterNode||r instanceof f.CalculateNode||r instanceof u.AggregateNode||r instanceof y.LookupNode||r instanceof g.IdentifierNode)&&i.transform.push(r.assemble()),(r instanceof v.NonPositiveFilterNode||r instanceof c.BinNode||r instanceof S.TimeUnitNode||r instanceof x.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof u.AggregateNode&&(i.name||(i.name="data_"+n++)),r instanceof d.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof d.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof d.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var l=i.name;!i.source||i.transform.length>0?e.push(i):l=i.source,r.children.forEach(function(e){var n={name:null,source:l,transform:[]};t(e,n)})}}var n=0;return t}function i(e){var t=[],n=r(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function a(e){var t=l.vals(e.sources),n=[],i=r(n),a=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+a++);var t=e.assemble();i(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var o=0,s=n;o<s.length;o++)for(var u=s[o],c=0,f=u.transform||[];c<f.length;c++){var d=f[c];"lookup"===d.type&&(d.from=e.outputNodes[d.from].getSource())}return n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(55),l=n(3),u=n(161),c=n(266),f=n(267),d=n(21),p=n(162),h=n(268),m=n(163),g=n(269),y=n(270),v=n(164),b=n(165),_=n(108),x=n(166),S=n(109);t.assembleFacetData=i,t.assembleRootData=a},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.hasDiscreteDomain(n);if(i){var a=p.isUnitModel(e)?e.axis(n)||e.legend(n)||{}:{},o=c.field(t,{expr:"datum"}),s=c.field(t,{expr:"datum",binSuffix:"end"});return{formulaAs:c.field(t,{binSuffix:"range"}),formula:d.binFormatExpression(o,s,a.format,r)}}return{}}function i(e,t){return u.binToString(e)+"_"+t}function a(e){return!!e.model}function o(e,t){if(a(e)){var n=e.model;return{signal:n.getName(t+"_bins"),extentSignal:n.getName(t+"_extent")}}return e}function s(e,t){var n=c.normalizeBin(e.bin,void 0)||{},r=i(n,e.field),a=o(t,r),s=a.signal,u=a.extentSignal,f=l.__assign({bin:n,field:e.field,as:[c.field(e,{}),c.field(e,{binSuffix:"end"})]},s?{signal:s}:{},u?{extentSignal:u}:{});return{key:r,binComponent:f}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=n(105),c=n(11),f=n(3),d=n(29),p=n(22),h=n(21),m=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return l.__extends(t,e),t.prototype.clone=function(){return new t(f.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,i){var a=n.bin;if(a){var o=s(n,{model:e}),u=o.key,c=o.binComponent;t[u]=l.__assign({},c,t[u],r(e,n,i,e.config))}return t},{});return 0===f.keys(n).length?null:new t(n)},t.makeFromTransform=function(e,n){var r=s(e,n),i=r.key,a=r.binComponent;return new t((o={},o[i]=a,o));var o},t.prototype.merge=function(e){this.bins=f.extend(e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return f.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return f.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return f.flatten(f.vals(this.bins).map(function(e){var t=[],n=l.__assign({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(h.DataFlowNode);t.BinNode=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),a=n(21),o=function(e){function t(t){var n=e.call(this)||this;return n.transform=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(i.duplicate(this.transform))},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(a.DataFlowNode);t.CalculateNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(114),a=n(3),o=n(21),s=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.filter=n,r.expr=i.expression(r.model,r.filter,r),r}return r.__extends(t,e),t.prototype.clone=function(){return new t(this.model,a.duplicate(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:this.expr}},t}(o.DataFlowNode);t.FilterNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(172),a=n(21),o=function(e){function t(){return e.call(this)||this}return r.__extends(t,e),t.prototype.clone=function(){return new t},t.prototype.producedFields=function(){return e={},e[i.SELECTION_ID]=!0,e;var e},t.prototype.assemble=function(){return{type:"identifier",as:i.SELECTION_ID}},t}(a.DataFlowNode);t.IdentifierNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15),a=n(7),o=n(21),s=n(108),l=function(e){function t(t,n){var r=e.call(this)||this;return r.transform=t,r.secondary=n,r}return r.__extends(t,e),t.make=function(e,n,r){var i=e.component.data.sources,a=new s.SourceNode(n.from.data),l=i[a.hash()];l||(i[a.hash()]=a,l=a);var u=e.getName("lookup_"+r),c=new o.OutputNode(u,"lookup",e.component.data.outputNodeRefCounts);return c.parent=l,e.component.data.outputNodes[u]=c,new t(n,c.getSource())},t.prototype.producedFields=function(){return i.toSet(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=r.__assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;i.isString(t)||(a.warn(a.message.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return r.__assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(o.DataFlowNode);t.LookupNode=l},function(e,t,n){"use strict";function r(e){function n(r){if(!(r instanceof p.FacetNode)){var i=r.clone();if(i instanceof d.OutputNode){var a=t.FACET_SCALE_PREFIX+i.getSource();i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof f.AggregateNode||i instanceof y.StackNode)&&i.addDimensions(e.fields);return c.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return c.flatten(r.children.map(n))}return n}function i(e){if(e instanceof p.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof d.OutputNode){a(e.model.component.data.main);var t=c.flatten(e.children.map(r(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof f.AggregateNode||n instanceof y.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),i(e)}else e.children.forEach(i)}function a(e){if(e instanceof d.OutputNode&&e.type===u.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof p.FacetNode||(t.swapWithParent(),a(e))}}function o(e){e instanceof h.NonPositiveFilterNode&&c.every(c.vals(e.filter),function(e){return e===!1})&&e.remove(),e instanceof m.NullFilterNode&&c.every(c.vals(e.filteredFields),function(e){return null===e})&&e.remove(),e instanceof d.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(o)}function s(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function l(e){var t=c.vals(e.sources);t.forEach(o),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(g.iterateFromLeaves(g.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(g.iterateFromLeaves(g.moveParseUp)),s(t).forEach(g.removeDuplicateTimeUnits),t.forEach(i),c.keys(e.sources).forEach(function(t){0===e.sources[t].numChildren()&&delete e.sources[t]})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(55),c=n(3),f=n(161),d=n(21),p=n(162),h=n(164),m=n(165),g=n(584),y=n(166);t.FACET_SCALE_PREFIX="scale_",t.optimizeDataflow=l},function(e,t,n){"use strict";function r(e){return"top"===e||"left"===e?"header":"footer"}function i(e,t){var n=e.component.layoutHeaders[t].title,r="row"===t?"vertical":void 0;return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[{type:"text",role:t+"-title-text",style:"guide-title",encode:{update:o.__assign({align:{value:"center"},text:{value:n}},"vertical"===r?{angle:{value:270}}:{})}}]}}function a(e,t,n,r,i){if(i){var a=null;if(r.facetFieldDef&&i.labels){var u=r.facetFieldDef,c=u.header?u.header.format:void 0;a={text:l.formatSignalRef(u,c,"parent",e.config,!0),offset:10,orient:"row"===t?"left":"top",style:"guide-label",encode:{update:o.__assign({fontWeight:{value:"normal"},angle:{value:0},fontSize:{value:10}},"row"===t?{align:{value:"right"},baseline:{value:"middle"}}:{})}}}var f=i.axes,d=f&&f.length>0;if(a||d){var p="row"===t?"height":"width";return o.__assign({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:{field:s.field(r.facetFieldDef,{expr:"datum"}),order:r.facetFieldDef.header&&r.facetFieldDef.sort||"ascending"}}:{},a?{title:a}:{},i.sizeSignal?{encode:{update:(h={},h[p]=i.sizeSignal,h)}}:{},d?{axes:f}:{})}}return null;var h}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(11),l=n(29);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=r,t.getTitleGroup=i,t.getHeaderGroup=a},function(e,t,n){"use strict";function r(e){m.isUnitModel(e)?e.component.legends=i(e):e.component.legends=l(e)}function i(e){return[c.COLOR,c.SIZE,c.SHAPE,c.OPACITY].reduce(function(t,n){return e.legend(n)&&(t[n]=o(e,n)),t},{})}function a(e,t){switch(t){case c.COLOR:var n=e.scaleName(c.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case c.SIZE:return{size:e.scaleName(c.SIZE)};case c.SHAPE:return{shape:e.scaleName(c.SHAPE)};case c.OPACITY:return{opacity:e.scaleName(c.OPACITY)}}return null}function o(e,t){var n=e.fieldDef(t),r=e.legend(t),i=new b.LegendComponent({},a(e,t));d.LEGEND_PROPERTIES.forEach(function(n){var a=s(n,r,t,e);if(void 0!==a){var o="values"===n?!!r.values:a===r[n];i.set(n,a,o)}});var o=r.encoding||{},l=["labels","legend","title","symbols"].reduce(function(r,i){var a=_[i]?_[i](n,o[i],e,t):o[i];return void 0!==a&&p.keys(a).length>0&&(r[i]={update:a}),r},{});return p.keys(l).length>0&&i.set("encode",l,!!r.encoding),i}function s(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return h.numberFormat(i,t.format,r.config);case"title":return h.getSpecifiedOrDefaultValue(t.title,f.title(i,r.config));case"values":return x.values(t);case"type":return h.getSpecifiedOrDefaultValue(t.type,x.type(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}function l(e){for(var t=e.component,n=t.legends,i=t.resolve,a=function(t){r(t),p.keys(t.component.legends).forEach(function(r){i.legend[r]=g.parseGuideResolve(e.component.resolve,r),"shared"===i.legend[r]&&(n[r]=u(n[r],t.component.legends[r]),n[r]||(i.legend[r]="independent",delete n[r]))})},o=0,s=e.children;o<s.length;o++){var l=s[o];a(l)}return p.keys(n).forEach(function(t){for(var n=0,r=e.children;n<r.length;n++){var a=r[n];a.component.legends[t]&&"shared"===i.legend[t]&&delete a.component.legends[t]}}),n}function u(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=function(n){var r=v.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return h.titleMerger(e,t);case"type":return y.makeImplicit("symbol")}return v.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)},a=0,o=d.VG_LEGEND_PROPERTIES;a<o.length;a++){var s=o[a];i(s)}return e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=n(11),d=n(170),p=n(3),h=n(29),m=n(22),g=n(111),y=n(37),v=n(37),b=n(588),_=n(589),x=n(590);t.parseLegend=r,t.parseLegendForChannel=o,t.mergeLegendComponent=u},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.orient||m.getMarkConfig("orient",e,r);e.orient=s(e.type,t,n,i),void 0!==i&&i!==e.orient&&c.warn(c.message.orientOverridden(e.orient,i));var a=e.filled;void 0===a&&(e.filled=o(e,r))}function i(e,t,n,r){var i=m.getMarkConfig("opacity",e,r);if(!t.opacity&&void 0===i){var o=a(e.type,t,n);void 0!==o&&(t.opacity={value:o})}return t}function a(e,t,n){if(h.contains([f.POINT,f.TICK,f.CIRCLE,f.SQUARE],e)&&!l.isAggregate(t))return.7}function o(e,t){var n=m.getMarkConfig("filled",e,t),r=e.type;return void 0!==n?n:r!==f.POINT&&r!==f.LINE&&r!==f.RULE}function s(e,t,n,r){switch(e){case f.POINT:case f.CIRCLE:case f.SQUARE:case f.TEXT:case f.RECT:return}var i=t.y&&t.y2,a=t.x&&t.x2;switch(e){case f.TICK:var o=n.x?n.x.get("type"):null,s=n.y?n.y.get("type"):null;return!d.hasDiscreteDomain(o)&&(!t.y||d.hasDiscreteDomain(s)||u.isFieldDef(t.y)&&t.y.bin)?"vertical":"horizontal";case f.RULE:case f.BAR:case f.AREA:if(i)return"vertical";if(a)return"horizontal";if(e===f.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case f.LINE:var l=u.isFieldDef(t.x)&&u.isContinuous(t.x),h=u.isFieldDef(t.y)&&u.isContinuous(t.y);if(l&&!h)return"horizontal";if(!l&&h)return"vertical";if(l&&h){var m=t.x,g=t.y,y=m.type===p.TEMPORAL,v=g.type===p.TEMPORAL;return y&&!v?"vertical":!y&&v?"horizontal":!m.aggregate&&g.aggregate?"vertical":m.aggregate&&!g.aggregate?"horizontal":r?r:(e===f.LINE&&t.order||c.warn(c.message.unclearOrientContinuous(e)),"vertical")}return void c.warn(c.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}Object.defineProperty(t,"__esModule",{value:!0});var l=n(30),u=n(11),c=n(7),f=n(31),d=n(12),p=n(48),h=n(3),m=n(29);t.normalizeMarkDef=r,t.initEncoding=i},function(e,t,n){"use strict";function r(e){if(_.isUnitModel(e))w.normalizeMarkDef(e.markDef,e.encoding,e.component.scales,e.config);else for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}}function i(e){return v.contains([g.LINE,g.AREA],e.mark())?a(e):s(e)}function a(e){var t=e.mark(),n=l(e),r=void 0!==e.markDef.clip?!!e.markDef.clip:u(e),i=b.getStyles(e.markDef),a=o(e),s=[c.__assign({name:e.getName("marks"),type:C[t].vgMark},r?{clip:!0}:{},i?{style:i}:{},a?{sort:a}:{},{from:{data:(n.length>0?D:"")+e.requestDataName(p.MAIN)},encode:{update:C[t].encodeEntry(e)}})];return n.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:D+e.requestDataName(p.MAIN),data:e.requestDataName(p.MAIN),groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:s}]:s}function o(e){if("line"===e.mark()&&e.channelHasField("order"))return b.sortParams(e.encoding.order,{expr:"datum"});var t="horizontal"===e.markDef.orient?"y":"x",n=e.sort(t),r=y.isSortField(n)?m.field({aggregate:h.isAggregate(e.encoding)?n.op:void 0,field:n.field},{expr:"datum"}):e.field(t,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"});return{field:r,order:"descending"}}function s(e){var t=e.mark(),n=b.getStyles(e.markDef),r=void 0!==e.markDef.clip?!!e.markDef.clip:u(e),i=[];return i.push(c.__assign({name:e.getName("marks"),type:C[t].vgMark},r?{clip:!0}:{},n?{style:n}:{},{from:{data:e.requestDataName(p.MAIN)},encode:{update:C[t].encodeEntry(e)}})),i}function l(e){return d.NONSPATIAL_CHANNELS.reduce(function(t,n){var r=e.encoding;if("order"===n)return t;if("detail"===n){var i=r[n];i&&(f.isArray(i)?i:[i]).forEach(function(e){e.aggregate||t.push(m.field(e,{}))})}else{var a=m.getFieldDef(r[n]);a&&!a.aggregate&&t.push(m.field(a,{}))}return t},[])}function u(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),f=n(15),d=n(6),p=n(55),h=n(30),m=n(11),g=n(31),y=n(173),v=n(3),b=n(29),_=n(22),x=n(591),S=n(592),w=n(274),O=n(593),k=n(594),E=n(595),M=n(596),T=n(597),P=n(598),C={area:x.area,bar:S.bar,line:O.line,point:k.point,text:T.text,tick:P.tick,rect:E.rect,rule:M.rule,circle:k.circle,square:k.square};t.parseMarkDef=r,t.parseMarkGroup=i;var D="faceted_path_";t.getPathSort=o},function(e,t,n){"use strict";function r(e,t){return o(e,t)}function i(e,t){return o(e,t)}function a(e,t){var n=e.field;return u.isRepeatRef(n)?n.repeat in t?s.__assign({},e,{field:t[n.repeat]}):(c.warn(c.message.noSuchRepeatedValue(n.repeat)),null):e}function o(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(l.isArray(i))n[r]=i.map(function(e){return a(e,t)}).filter(function(e){return null!==e});else{var o=a(i,t);null!==o&&(n[r]=o)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(15),u=n(11),c=n(7);t.replaceRepeaterInFacet=r,t.replaceRepeaterInEncoding=i},function(e,t,n){"use strict";function r(e,t){_.isUnitModel(e)?i(e,t):o(e,t)}function i(e,t){var n=e.component.scales;b.keys(n).forEach(function(r){var i=e.specifiedScales[r],o=n[r],s=e.getScaleComponent(r),l=e.fieldDef(r),u=e.sort(r),c=e.config,f=i[t],d=s.get("type"),p=g.scaleTypeSupportProperty(d,t),h=g.channelScalePropertyIncompatability(r,t);if(void 0!==f&&(p?h&&m.warn(h):m.warn(m.message.scalePropertyNotWorkWithScaleType(d,t,r))),p&&void 0===h)if(void 0!==f)o.copyKeyFromObject(t,i);else{var y=a(t,i,s,r,l,u,c.scale);void 0!==y&&o.set(t,y,!1)}})}function a(e,t,n,r,i,a,o){switch(e){case"nice":return s(n.get("type"),r,i);case"padding":return l(r,n.get("type"),o);case"paddingInner":return u(n.get("padding"),r,o);case"paddingOuter":return c(n.get("padding"),r,n.get("type"),n.get("paddingInner"),o);case"round":return f(r,o);case"reverse":return d(n.get("type"),a);case"zero":return p(r,i,t.domain)}return o[e]}function o(e,t){for(var n=e.component.scales,i=0,a=e.children;i<a.length;i++){var o=a[i];"range"===t?S.parseScaleRange(o):r(o,t)}b.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.scales[r];if(l){var u=l.getWithExplicit(t);i=x.mergeValuesWithExplicit(i,u,t,"scale",x.tieBreakByComparing(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,i)})}function s(e,t,n){if(v.contains([g.ScaleType.TIME,g.ScaleType.UTC],e))return y.smallestUnit(n.timeUnit);if(!n.bin)return v.contains([h.X,h.Y],t)}function l(e,t,n){if(v.contains([h.X,h.Y],e)&&t===g.ScaleType.POINT)return n.pointPadding}function u(e,t,n){if(void 0===e)return v.contains([h.X,h.Y],t)?n.bandPaddingInner:void 0}function c(e,t,n,r,i){if(void 0===e)return v.contains([h.X,h.Y],t)&&n===g.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function f(e,t){if(v.contains(["x","y"],e))return t.round}function d(e,t){if(g.hasContinuousDomain(e)&&"descending"===t)return!0}function p(e,t,n){if("size"===e&&"quantitative"===t.type)return!0;var r=!!n&&"unaggregated"!==n;return!(r||t.bin||!v.contains([h.X,h.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var h=n(6),m=n(7),g=n(12),y=n(73),v=n(3),b=n(3),_=n(22),x=n(37),S=n(278);t.parseScaleProperty=r,t.parseNonUnitScaleProperty=o,t.nice=s,t.padding=l,t.paddingInner=u,t.paddingOuter=c,t.round=f,t.reverse=d,t.zero=p},function(e,t,n){"use strict";function r(e){v.isUnitModel(e)?i(e):_.parseNonUnitScaleProperty(e,"range")}function i(e){var t=e.component.scales;p.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.specifiedScales[n],s=e.fieldDef(n),l="x"===n?"width":"y"===n?"height":void 0,u=l?e.component.layoutSize.get(l):void 0,c=a(e),f=o(n,r.get("type"),s.type,i,e.config,r.get("zero"),e.mark(),u,e.getName(l),c);r.setWithExplicit("range",f)}})}function a(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&y.isVgRangeStep(r)&&d.isNumber(r.step)&&t.push(r.step);var i=e.getScaleComponent("y"),a=i&&i.get("range");return a&&y.isVgRangeStep(a)&&d.isNumber(a.step)&&t.push(a.step),t}function o(e,n,r,i,a,o,u,c,f,d){for(var p=!!c||null===i.rangeStep,g=0,y=t.RANGE_PROPERTIES;g<y.length;g++){var v=y[g];if(void 0!==i[v]){var _=m.scaleTypeSupportProperty(n,v),x=m.channelScalePropertyIncompatability(e,v);if(_)if(x)h.warn(x);else switch(v){case"range":return b.makeImplicit(i[v]);case"scheme":return b.makeImplicit(s(i[v]));case"rangeStep":var S=i[v];if(null!==S){if(void 0===c)return b.makeImplicit({step:S});h.warn(h.message.rangeStepDropped(e))}}else h.warn(h.message.scalePropertyNotWorkWithScaleType(n,v,e))}}return{explicit:!1,value:l(e,n,r,a,o,u,f,d,p)}}function s(e){if(m.isExtendedScheme(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function l(e,t,n,r,i,a,o,s,l){switch(e){case p.X:case p.Y:if(g.contains(["point","band"],t)&&!l)if(e===p.X&&"text"===a){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===p.X?[0,{signal:o}]:[{signal:o},0];case p.SIZE:var f=u(a,i,r),d=c(a,s,r);return[f,d];case p.SHAPE:return"symbol";case p.COLOR:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===a?"heatmap":"ramp";case p.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}function u(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(h.message.incompatibleChannel("size",e))}function c(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:f(t,n.scale)-1;case"line":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=f(t,r);return(i-2)*(i-2)}throw new Error(h.message.incompatibleChannel("size",e))}function f(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}Object.defineProperty(t,"__esModule",{value:!0});var d=n(15),p=n(6),h=n(7),m=n(12),g=n(3),y=n(41),v=n(22),b=n(37),_=n(277);t.RANGE_PROPERTIES=["range","rangeStep","scheme"],t.parseScaleRange=r,t.parseRangeForChannel=o,t.defaultRange=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(23),a=n(168),o={predicate:"vlMulti",scaleDomain:"vlMultiDomain",signals:function(e,t){var n=t.project,o=a.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",s=[],l=n.map(function(e){return r.stringValue(e.channel)}).filter(function(e){return e}).join(", "),u=n.map(function(e){return r.stringValue(e.field)}).join(", "),c=n.map(function(t){var n=t.channel,i=e.fieldDef(n);return i&&i.bin?(s.push(t.field),"["+o+"["+r.stringValue(e.field(n,{}))+"], "+(o+"["+r.stringValue(e.field(n,{binSuffix:"end"}))+"]]")):o+"["+r.stringValue(t.field)+"]"}).join(", ");return[{name:t.name+i.TUPLE,value:{},on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+("{unit: "+i.unitName(e)+", encodings: ["+l+"], ")+("fields: ["+u+"], values: ["+c+"]")+(s.length?", "+s.map(function(e){return r.stringValue("bin_"+e)+": 1"}).join(", "):"")+"} : null",force:!0}]}]},modifyExpr:function(e,t){var n=t.name+i.TUPLE;return n+", "+("global"===t.resolve?"null":"{unit: "+i.unitName(e)+"}")}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(30),o=n(30),s=n(11),l=n(31),u=n(12),c=n(174),f=n(3),d=n(263),p=n(107),h=n(110),m=n(86),g=n(274),y=n(275),v=n(22),b=n(276),_=n(23),x=function(e){function t(t,n,i,a,s,u){void 0===a&&(a={});var f=e.call(this,t,n,i,u,void 0)||this;f.type="unit",f.specifiedScales={},f.specifiedAxes={},f.specifiedLegends={},f.selection={},f.children=[],f.initSize(r.__assign({},a,t.width?{width:t.width}:{},t.height?{height:t.height}:{})),f.markDef=l.isMarkDef(t.mark)?r.__assign({},t.mark):{type:t.mark};var d=f.markDef.type,p=f.encoding=o.normalizeEncoding(b.replaceRepeaterInEncoding(t.encoding||{},s),d);return f.stack=c.stack(d,p,f.config.stack),f.specifiedScales=f.initScales(d,p),f.encoding=g.initEncoding(f.markDef,p,f.stack,f.config),f.specifiedAxes=f.initAxes(p),f.specifiedLegends=f.initLegend(p),f.selection=t.selection,f}return r.__extends(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.hasDiscreteDomain=function(e){if(i.isScaleChannel(e)){var t=this.getScaleComponent(e);return t&&u.hasDiscreteDomain(t.get("type"))}return!1},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort;
},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initScales=function(e,t){return i.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return s.isFieldDef(a)?(r=a,i=a.scale):s.isConditionalDef(a)&&s.isFieldDef(a.condition)?(r=a.condition,i=a.condition.scale):"x"===n?r=s.getFieldDef(t.x2):"y"===n&&(r=s.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[i.X,i.Y].reduce(function(t,n){var a=e[n];if(s.isFieldDef(a)||n===i.X&&s.isFieldDef(e.x2)||n===i.Y&&s.isFieldDef(e.y2)){var o=s.isFieldDef(a)?a.axis:null;null!==o&&o!==!1&&(t[n]=r.__assign({},o))}return t},{})},t.prototype.initLegend=function(e){return i.NONSPATIAL_SCALE_CHANNELS.reduce(function(t,n){var i=e[n];if(i){var a=s.isFieldDef(i)?i.legend:i.condition&&s.isFieldDef(i.condition)?i.condition.legend:null;null!==a&&a!==!1&&(t[n]=r.__assign({},a))}return t},{})},t.prototype.parseData=function(){this.component.data=p.parseData(this)},t.prototype.parseLayoutSize=function(){m.parseUnitLayoutSize(this)},t.prototype.parseSelection=function(){this.component.selection=_.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=y.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=d.parseUnitAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return _.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return _.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return _.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return h.assembleLayoutSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&v.isLayerModel(this.parent)||(e=_.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleLayoutSize=function(){return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=f.duplicate(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=f.duplicate(this.config)),t||(n.data=f.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return a.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return s.getFieldDef(t)},t}(v.ModelWithField);t.UnitModel=x},function(e,t,n){"use strict";function r(e){return g.mergeDeep(g.duplicate(t.defaultConfig),e)}function i(e){e=g.duplicate(e);for(var t=0,n=v;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,o=u.VL_ONLY_GUIDE_CONFIG;i<o.length;i++){var r=o[i];delete e.axis[r]}if(e.legend)for(var s=0,l=u.VL_ONLY_GUIDE_CONFIG;s<l.length;s++){var r=l[s];delete e.legend[r]}if(e.mark)for(var c=0,d=f.VL_ONLY_MARK_CONFIG_PROPERTIES;c<d.length;c++){var r=d[c];delete e.mark[r]}for(var p=0,h=y;p<h.length;p++){for(var m=h[p],_=0,x=f.VL_ONLY_MARK_CONFIG_PROPERTIES;_<x.length;_++){var r=x[_];delete e[m][r]}var S=b[m];if(S)for(var w=0,O=S;w<O.length;w++){var r=O[w];delete e[m][r]}a(e,m)}a(e,"title","group-title");for(var r in e)g.isObject(e[r])&&0===g.keys(e[r]).length&&delete e[r];return g.keys(e).length>0?e:void 0}function a(e,t,n){var r="title"===t?m.extractTitleConfig(e.title).mark:e[t],i=o.__assign({},r,e.style[t]);g.keys(i).length>0&&(e.style[n||t]=i),delete e[t]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(113),l=n(113),u=n(614),c=n(170),f=n(31),d=n(31),p=n(12),h=n(172),m=n(282),g=n(3);t.defaultCellConfig={width:200,height:200},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",cell:t.defaultCellConfig,mark:d.defaultMarkConfig,area:{},bar:d.defaultBarConfig,circle:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:d.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:p.defaultScaleConfig,axis:{domainColor:"#888",tickColor:"#888"},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:c.defaultLegendConfig,selection:h.defaultConfig,style:{},title:{}},t.initConfig=r;var y=["cell"].concat(f.PRIMITIVE_MARKS,s.COMPOSITE_MARK_STYLES),v=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],b=o.__assign({cell:["width","height"]},f.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,l.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripAndRedirectConfig=i},function(e,t,n){"use strict";function r(e){var t=e.anchor,n=e.offset,r=e.orient,a=e.color,o=i.__rest(e,["anchor","offset","orient","color"]),s=i.__assign({},o,a?{fill:a}:{}),l=i.__assign({},t?{anchor:t}:{},n?{offset:n}:{},r?{orient:r}:{});return{mark:s,nonMark:l}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.extractTitleConfig=r},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),d=e.axis(t),p=e.config,h={};if(s.type===u.TEMPORAL){var m=e.getScaleComponent(t).get("type")===l.ScaleType.UTC;h.text={signal:f.timeFormatExpression("datum.value",s.timeUnit,d.format,p.axis.shortTimeLabels,p.timeFormat,m)}}var g=i(d,t,s);if(g&&(h.angle={value:g}),h.angle&&"x"===t){var y=a(g,r.get("orient"));y&&(h.align={value:y}),c.contains([90,270],g)&&(h.baseline={value:"middle"})}return h=o.__assign({},h,n),0===c.keys(h).length?void 0:h}function i(e,t,n){return void 0!==e.labelAngle?(e.labelAngle%360+360)%360:t===s.X&&(c.contains([u.NOMINAL,u.ORDINAL],n.type)||n.bin||n.type===u.TEMPORAL)?270:void 0}function a(e,t){if(e&&e>0){if(e>180)return"top"===t?"left":"right";if(e<180)return"top"===t?"right":"left"}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(5),l=n(13),u=n(33),c=n(2),f=n(19);t.labels=r,t.labelAngle=i,t.labelAlign=a},function(e,t,n){"use strict";function r(e){return g.SPATIAL_SCALE_CHANNELS.reduce(function(t,n){if(e.axis(n)){var r={},i=f(n,e);i&&l(i)&&(r.main=i);var a=c(n,e);a&&l(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},o=function(t){t.parseAxisAndHeader(),y.keys(t.component.axes).forEach(function(r){var i=e.component.resolve[r];i.axis=b.parseGuideResolve(e.component.resolve,r),"shared"===i.axis&&(n[r]=a(n[r],t.component.axes[r]),n[r]||(i.axis="independent",delete n[r]))})},s=0,l=e.children;s<l.length;s++){var u=l[s];o(u)}["x","y"].forEach(function(t){for(var a=0,o=e.children;a<o.length;a++){var s=o[a];if(!s.component.axes[t])return;"independent"===r[t].axis&&(n[t]=(n[t]||[]).concat(s.component.axes[t]),s.component.axes[t].forEach(function(e){var t=e.main.getWithExplicit("orient"),n=t.value,r=t.explicit;if(i[n]>0&&!r){var a=k[n];i[n]>i[a]&&e.main.set("orient",a,!1)}i[n]++})),delete s.component.axes[t]}})}function a(e,t){if(!e)return t.map(function(e){return h.__assign({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var s=i.getWithExplicit("orient"),l=a.getWithExplicit("orient");if(s.explicit&&l.explicit&&s.value!==l.value)return;e[r].main=o(i,a)}var u=e[r].grid,c=t[r].grid;if(!!u!=!!c)return;u&&c&&(e[r].grid=o(u,c))}return e}}function o(e,t){for(var n=function(n){var r=_.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return v.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return _.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=m.VG_AXIS_PROPERTIES;r<i.length;r++){var a=i[r];n(a)}return e}function s(e){return e===!1||null===e}function l(e){return y.some(O,function(t){return u(e,t)})}function u(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!s(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new x.AxisComponentPart({},{scale:t.scaleName(e)});m.AXIS_PROPERTIES.forEach(function(a){var o=p(a,r,e,t,n);if(void 0!==o){var s="values"===a?!!r.values:o===r[a];i.set(a,o,s)}});var a=w.gridScale(t,e,n);void 0!==a&&i.set("gridScale",a,!1);var o=r.encoding||{},s=O.reduce(function(n,r){if(!u(i,r))return n;var a="labels"===r?S.labels(t,e,o.labels||{},i):o[r]||{};return void 0!==a&&y.keys(a).length>0&&(n[r]={update:a}),n},{});return y.keys(s).length>0&&i.set("encode",s,!!r.encoding||!!r.labelAngle),i}function p(e,t,n,r,i){var a=r.fieldDef(n);if(!(i&&"main"===m.AXIS_PROPERTY_TYPE[e]||!i&&"grid"===m.AXIS_PROPERTY_TYPE[e])){switch(e){case"domain":return w.domain(e,t,i,n);case"format":return v.numberFormat(a,t.format,r.config);case"grid":var o=r.component.scales[n].get("type");return v.getSpecifiedOrDefaultValue(t.grid,w.grid(o,a));case"labels":return!i&&t.labels;case"labelOverlap":var o=r.component.scales[n].get("type");return w.labelOverlap(a,t,n,o);case"minExtent":var o=r.component.scales[n].get("type");return v.getSpecifiedOrDefaultValue(t.minExtent,w.minMaxExtent(i,o,r.config.axis));case"maxExtent":var o=r.component.scales[n].get("type");return v.getSpecifiedOrDefaultValue(t.maxExtent,w.minMaxExtent(i,o,r.config.axis));case"orient":return v.getSpecifiedOrDefaultValue(t.orient,w.orient(n));case"tickCount":return v.getSpecifiedOrDefaultValue(t.tickCount,w.tickCount(n,a));case"ticks":return w.ticks(e,t,i,n);case"title":return v.getSpecifiedOrDefaultValue(t.title,w.title(t.titleMaxLength,a,r.config));case"values":return w.values(t,r,a);case"zindex":return v.getSpecifiedOrDefaultValue(t.zindex,w.zindex(i))}return t[e]}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(175),g=n(5),y=n(2),v=n(19),b=n(121),_=n(38),x=n(625),S=n(283),w=n(626),O=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var k={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(95),a=n(2),o=n(19),s=n(74),l=n(91),u=n(119),c=n(94),f=n(75),d=n(57),p=function(e){function t(t,n,r,a,s){var l=e.call(this,t,n,r,s,t.resolve)||this;return l.isVConcat=i.isVConcatSpec(t),l.children=(i.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return o.buildModel(e,l,l.getName("concat_"+t),void 0,a,s)}),l}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=l.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseLayoutSize=function(){c.parseConcatLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),a.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseAxisGroup=function(){return null},t.prototype.parseLegend=function(){f.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:s.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},u.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return r.__assign({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"all"})},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return r.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(d.Model);t.ConcatModel=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(27),o=function(e){function t(t,n,r){var a=e.call(this)||this;return a.model=t,a.name=n,a.data=r,t.facet.column&&(a.columnField=t.field(i.COLUMN),a.columnName=t.getName("column")),t.facet.row&&(a.rowField=t.field(i.ROW),a.rowName=t.getName("row")),a}return r.__extends(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){var e=[];return this.columnField&&e.push(this.columnField),this.rowField&&e.push(this.rowField),e},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.assemble=function(){var e=[];return this.columnName&&(e.push({name:this.columnName,source:this.data,transform:[{type:"aggregate",groupby:[this.columnField]}]}),e.push({name:this.columnName+"_layout",source:this.columnName,transform:[{type:"aggregate",ops:["distinct"],fields:[this.columnField]}]})),this.rowName&&e.push({name:this.rowName,source:this.data,transform:[{type:"aggregate",groupby:[this.rowField]}]}),e},t}(a.DataFlowNode);t.FacetNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(13),o=n(2),s=n(27),l=function(e){function t(t){var n=e.call(this)||this;return n._filter=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(o.extend({},this._filter))},t.make=function(e){var n=i.SCALE_CHANNELS.reduce(function(t,n){var r=e.getScaleComponent(n);return r&&e.field(n)?(t[e.field(n)]=r.get("type")===a.ScaleType.LOG,t):t},{});return o.keys(n).length?new t(n):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this;return o.keys(this._filter).filter(function(t){return e._filter[t]}).map(function(e){return{type:"filter",expr:"datum["+o.stringValue(e)+"] > 0"}})},t}(s.DataFlowNode);t.NonPositiveFilterNode=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(13),o=n(33),s=n(2),l=n(27),u=function(e){function t(t){var n=e.call(this)||this;return n._filteredFields=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this._filteredFields))},t.make=function(e){var n=e.reduceFieldDef(function(t,n,r){if("filter"===e.config.invalidValues&&!n.aggregate&&n.field){var o=i.isScaleChannel(r)&&e.getScaleComponent(r);if(o){var s=o.get("type");a.hasContinuousDomain(s)&&(t[n.field]=n)}}return t},{});return 0===s.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"filteredFields",{get:function(){return this._filteredFields},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){var t=this,n=s.keys(this._filteredFields).map(function(e){return e+" "+s.hash(t._filteredFields[e])}),r=s.keys(e.filteredFields).map(function(t){return t+" "+s.hash(e.filteredFields[t])});s.differArray(n,r)||(this._filteredFields=s.extend(this._filteredFields,e._filteredFields),e.remove())},t.prototype.assemble=function(){var e=this,t=s.keys(this._filteredFields).reduce(function(t,n){var r=e._filteredFields[n];return null!==r&&(t.push("datum["+s.stringValue(r.field)+"] !== null"),s.contains([o.QUANTITATIVE,o.TEMPORAL],r.type)&&t.push("!isNaN(datum["+s.stringValue(r.field)+"])")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(l.DataFlowNode);t.NullFilterNode=u},function(e,t,n){"use strict";function r(e){function t(n){if(!(n instanceof f.SourceNode)){var r=n.parent;e(n)&&t(r)}}return t}function i(e){var t=e.parent;if(e instanceof c.ParseNode){if(t instanceof f.SourceNode)return!1;if(t.numChildren()>1)return!0;if(t instanceof c.ParseNode)t.merge(e);else{if(l.hasIntersection(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function a(e){e.parent;return!(e instanceof u.OutputNode||e.numChildren()>0)&&(e.remove(),!0)}function o(e){var t={};return r(function(e){if(e instanceof d.TimeUnitNode){var n=e.producedFields(),r=l.keys(n).every(function(e){return!!t[e]});r?e.remove():t=s.__assign({},t,n)}return!0})(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(2),u=n(27),c=n(116),f=n(117),d=n(92);t.iterateFromLeaves=r,t.moveParseUp=i,t.removeUnusedSubtrees=a,t.removeDuplicateTimeUnits=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(32),a=n(14),o=n(181),s=n(2),l=n(19),u=n(27),c=function(e){function t(t){var n=e.call(this)||this;return n.sort=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this.sort))},t.make=function(e){var n=null;if(!s.contains(["line","area"],e.mark()))return null;if("line"===e.mark()&&e.channelHasField("order"))n=l.sortParams(e.encoding.order);else{var r="horizontal"===e.markDef.orient?"y":"x",u=e.sort(r),c=o.isSortField(u)?a.field({aggregate:i.isAggregate(e.encoding)?u.op:void 0,field:u.field}):e.field(r,{binSuffix:"start"});n={field:c,order:"descending"}}return new t(n)},t.prototype.assemble=function(){return{type:"collect",sort:this.sort}},t}(u.DataFlowNode);t.OrderNode=c},function(e,t,n){"use strict";function r(e){return e.stack.stackBy.reduce(function(t,n){var r=n.channel,i=n.fieldDef,a=o.isScaleChannel(r)?e.getScaleComponent(r):void 0,u=s.field(i,{binSuffix:a&&l.hasDiscreteDomain(a.get("type"))?"range":"start"});return u&&t.push(u),t},[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(15),o=n(5),s=n(14),l=n(13),u=n(2),c=n(19),f=n(27),d=function(e){function t(t){var n=e.call(this)||this;return n._stack=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(u.duplicate(this._stack))},t.make=function(e){var n=e.stack;if(!n)return null;var i=[];if(n.groupbyChannel){var a=e.fieldDef(n.groupbyChannel);a.bin?(i.push(e.field(n.groupbyChannel,{binSuffix:"start"})),i.push(e.field(n.groupbyChannel,{binSuffix:"end"}))):i.push(e.field(n.groupbyChannel))}var o,s=r(e),l=e.encoding.order;return o=l?c.sortParams(l):s.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]}),new t({groupby:i,field:e.field(n.fieldChannel),stackby:s,sort:o,offset:n.offset,impute:u.contains(["area","line"],e.mark())})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.groupby=this._stack.groupby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.field]=!0,this._stack.groupby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return a.isArray(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){var e={};return e[this._stack.field+"_start"]=!0,e[this._stack.field+"_end"]=!0,e},t.prototype.assemble=function(){var e=[],t=this._stack;if(t.impute){var n=1===t.groupby.length?t.groupby[0]:"key_"+t.groupby.join("_");t.groupby.length>1&&e.push({type:"formula",expr:t.groupby.map(function(e){return"datum["+u.stringValue(e)+"]"}).join(" + '_' + "),as:n}),e.push({type:"impute",field:t.field,groupby:t.stackby,key:n,method:"value",value:0})}return e.push({type:"stack",groupby:t.groupby,field:t.field,sort:t.sort,as:[t.field+"_start",t.field+"_end"],offset:t.offset}),e},t}(f.DataFlowNode);t.StackNode=d},function(e,t,n){"use strict";function r(e){function t(e){i?e.parent?r.insertAsParentOf(e):e.parent=r:i=e.parent||e,r=e}var n,r,i=null,p=0;e.transforms.forEach(function(r){if(u.isCalculate(r))n=new v(r);else if(u.isFilter(r)){var i={},m=r.filter,_=null;if(s.isEqualFilter(m)?_=m.equal:s.isRangeFilter(m)?_=m.range[0]:s.isOneOfFilter(m)&&(_=(m.oneOf||m.in)[0]),_&&(o.isDateTime(_)?i[m.field]="date":a.isNumber(_)?i[m.field]="number":a.isString(_)&&(i[m.field]="string")),c.keys(i).length>0){var x=new h.ParseNode(i);t(x)}n=new y(e,r.filter)}else if(u.isBin(r))n=d.BinNode.makeFromTransform(e,r);else if(u.isTimeUnit(r))n=g.TimeUnitNode.makeFromTransform(e,r);else if(u.isSummarize(r))n=f.AggregateNode.makeFromTransform(e,r);else{if(!u.isLookup(r))return void l.warn(l.message.invalidTransformIgnored(r));n=b.make(e,r,p++)}t(n)});var m=n;return{first:i,last:m}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(15),o=n(58),s=n(655),l=n(8),u=n(183),c=n(2),f=n(176),d=n(177),p=n(27),h=n(116),m=n(117),g=n(92),y=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.filter=n,r.expr=s.expression(r.model,r.filter,r),r}return i.__extends(t,e),t.prototype.clone=function(){return new t(this.model,c.duplicate(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:this.expr}},t}(p.DataFlowNode);t.FilterNode=y;var v=function(e){function t(t){var n=e.call(this)||this;return n.transform=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(c.duplicate(this.transform))},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(p.DataFlowNode);t.CalculateNode=v;var b=function(e){function t(t,n){var r=e.call(this)||this;return r.transform=t,r.secondary=n,r}return i.__extends(t,e),t.make=function(e,n,r){var i=e.component.data.sources,a=new m.SourceNode(n.from.data),o=i[a.hash()];o||(i[a.hash()]=a,o=a);var s=e.getName("lookup_"+r),l=new p.OutputNode(s,"lookup",e.component.data.outputNodeRefCounts);return l.parent=o,e.component.data.outputNodes[s]=l,new t(n,l.getSource())},t.prototype.producedFields=function(){return c.toSet(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=i.__assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;a.isString(t)||(l.warn(l.message.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return i.__assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(p.DataFlowNode);t.LookupNode=b,t.parseTransformArray=r},function(e,t,n){"use strict";function r(e){return"top"===e||"left"===e?"header":"footer"}function i(e,t){var n="row"===t?"height":"width",r=e.component.layoutHeaders[t].title,i="row"===t?"y":"x",a="row"===t?"right":"center",s="row"===t?"vertical":void 0;return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[{type:"text",role:t+"-title-text",encode:{update:o.__assign((l={},l[i]={signal:"0.5 * "+n},l.align={value:a},l.text={value:r},l.fill={value:"black"},l.fontWeight={value:"bold"},l),"vertical"===s?{angle:{value:270}}:{})}}]};var l}function a(e,t,n,r,i){if(i){var a=null;if(r.facetFieldDef&&i.labels){var u=r.facetFieldDef,c=u.header?u.header.format:void 0;a={text:l.formatSignalRef(u,c,"parent",e.config,!0),offset:10,orient:"row"===t?"left":"top",encode:{update:o.__assign({fontWeight:{value:"normal"},angle:{value:0},fontSize:{value:10}},"row"===t?{align:{value:"right"},baseline:{value:"middle"}}:{})}}}var f=i.axes,d=f&&f.length>0;if(a||d){var p="row"===t?"height":"width";return o.__assign({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.facetFieldDef?{from:{data:e.getName(t)},sort:{field:s.field(r.facetFieldDef,{expr:"datum"}),order:r.facetFieldDef.header&&r.facetFieldDef.header.sort||"ascending"}}:{},a?{title:a}:{},{encode:{update:(h={},h[p]=i.sizeSignal,h)}},d?{axes:f}:{})}}return null;var h}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(14),l=n(19);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=r,t.getTitleGroup=i,t.getHeaderGroup=a},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.orient||m.getMarkConfig("orient",e,r);e.orient=s(e.type,t,n,i),void 0!==i&&i!==e.orient&&c.warn(c.message.orientOverridden(e.orient,i));var a=e.filled;void 0===a&&(e.filled=o(e,r))}function i(e,t,n,r){var i=m.getMarkConfig("opacity",e,r);if(!t.opacity&&void 0===i){var o=a(e.type,t,n);void 0!==o&&(t.opacity={value:o})}return t}function a(e,t,n){if(h.contains([f.POINT,f.TICK,f.CIRCLE,f.SQUARE],e)&&!l.isAggregate(t))return.7}function o(e,t){var n=m.getMarkConfig("filled",e,t),r=e.type;return void 0!==n?n:r!==f.POINT&&r!==f.LINE&&r!==f.RULE}function s(e,t,n,r){switch(e){case f.POINT:case f.CIRCLE:case f.SQUARE:case f.TEXT:case f.RECT:return}var i=t.y&&t.y2,a=t.x&&t.x2;switch(e){case f.TICK:var o=n.x?n.x.get("type"):null,s=n.y?n.y.get("type"):null;return!d.hasDiscreteDomain(o)&&(!t.y||d.hasDiscreteDomain(s)||u.isFieldDef(t.y)&&t.y.bin)?"vertical":"horizontal";case f.RULE:case f.BAR:case f.AREA:if(i)return"vertical";if(a)return"horizontal";if(e===f.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case f.LINE:var l=u.isFieldDef(t.x)&&u.isContinuous(t.x),h=u.isFieldDef(t.y)&&u.isContinuous(t.y);if(l&&!h)return"horizontal";if(!l&&h)return"vertical";if(l&&h){var m=t.x,g=t.y,y=m.type===p.TEMPORAL,v=g.type===p.TEMPORAL;return y&&!v?"vertical":!y&&v?"horizontal":!m.aggregate&&g.aggregate?"vertical":m.aggregate&&!g.aggregate?"horizontal":r?r:(e===f.LINE&&t.order||c.warn(c.message.unclearOrientContinuous(e)),"vertical")}return void c.warn(c.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}Object.defineProperty(t,"__esModule",{value:!0});var l=n(32),u=n(14),c=n(8),f=n(28),d=n(13),p=n(33),h=n(2),m=n(19);t.normalizeMarkDef=r,t.initEncoding=i},function(e,t,n){"use strict";function r(e){if(e instanceof v.UnitModel)x.normalizeMarkDef(e.markDef,e.encoding,e.component.scales,e.config);else for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}}function i(e){return y.contains([m.LINE,m.AREA],e.mark())?a(e):o(e)}function a(e){var t=e.mark(),n=s(e),r=e.markDef.role||T[t].defaultRole,i=[u.__assign({name:e.getName("marks"),type:T[t].vgMark},l(e),r?{role:r}:{},{from:{data:(n.length>0?P:"")+e.requestDataName(p.MAIN)},encode:{update:T[t].encodeEntry(e)}})];return n.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:P+e.requestDataName(p.MAIN),data:e.requestDataName(p.MAIN),groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:i}]:i}function o(e){var t=e.mark(),n=e.markDef.role||T[t].defaultRole,r=[];return r.push(u.__assign({name:e.getName("marks"),type:T[t].vgMark},l(e),n?{role:n}:{},{from:{data:e.requestDataName(p.MAIN)},encode:{update:T[t].encodeEntry(e)}})),r}function s(e){return d.LEVEL_OF_DETAIL_CHANNELS.reduce(function(t,n){var r=e.encoding;if("detail"===n||"order"===n){var i=r[n];i&&(c.isArray(i)?i:[i]).forEach(function(e){e.aggregate||t.push(h.field(e,{binSuffix:"start"}))})}else{var a=h.getFieldDef(r[n]);a&&!a.aggregate&&t.push(h.field(a,{binSuffix:"start"}))}return t},[])}function l(e){var t=e.scaleDomain(f.X),n=e.scaleDomain(f.Y);return t&&g.isSelectionDomain(t)||n&&g.isSelectionDomain(n)?{clip:!0}:{}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=n(15),f=n(5),d=n(5),p=n(77),h=n(14),m=n(28),g=n(13),y=n(2),v=n(39),b=n(632),_=n(633),x=n(294),S=n(634),w=n(635),O=n(636),k=n(637),E=n(638),M=n(639),T={area:b.area,bar:_.bar,line:S.line,point:w.point,text:E.text,tick:M.tick,rect:O.rect,rule:k.rule,circle:w.circle,square:w.square};t.parseMarkDef=r,t.parseMarkGroup=i;var P="faceted_path_"},function(e,t,n){"use strict";function r(e,t){e instanceof _.UnitModel?i(e,t):o(e,t)}function i(e,t){var n=e.component.scales;v.keys(n).forEach(function(r){var i=e.specifiedScales[r],o=n[r],s=e.getScaleComponent(r),l=e.fieldDef(r),u=e.config,c=i[t],f=s.get("type"),d=m.scaleTypeSupportProperty(f,t),p=m.channelScalePropertyIncompatability(r,t);if(void 0!==c&&(d?p&&h.warn(p):h.warn(h.message.scalePropertyNotWorkWithScaleType(f,t,r))),d&&void 0===p)if(void 0!==c)o.copyKeyFromObject(t,i);else{var g=a(t,i,s,r,l,u.scale);void 0!==g&&o.set(t,g,!1)}})}function a(e,t,n,r,i,a){switch(e){case"nice":return s(n.get("type"),r,i);case"padding":return l(r,n.get("type"),a);case"paddingInner":return u(n.get("padding"),r,a);case"paddingOuter":return c(n.get("padding"),r,n.get("type"),n.get("paddingInner"),a);case"round":return f(r,a);case"zero":return d(r,i,!!t.domain)}return a[e]}function o(e,t){for(var n=e.component.scales,i=0,a=e.children;i<a.length;i++){var o=a[i];"range"===t?x.parseScaleRange(o):r(o,t)}v.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.scales[r];if(l){var u=l.getWithExplicit(t);i=b.mergeValuesWithExplicit(i,u,t,"scale",b.tieBreakByComparing(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,i)})}function s(e,t,n){if(y.contains([m.ScaleType.TIME,m.ScaleType.UTC],e))return g.smallestUnit(n.timeUnit);if(!n.bin)return y.contains([p.X,p.Y],t)}function l(e,t,n){if(y.contains([p.X,p.Y],e)&&t===m.ScaleType.POINT)return n.pointPadding}function u(e,t,n){if(void 0===e)return y.contains([p.X,p.Y],t)?n.bandPaddingInner:void 0}function c(e,t,n,r,i){if(void 0===e)return y.contains([p.X,p.Y],t)&&n===m.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function f(e,t){if(y.contains(["x","y"],e))return t.round}function d(e,t,n){return"size"===e&&"quantitative"===t.type||!(n||t.bin||!y.contains([p.X,p.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(5),h=n(8),m=n(13),g=n(59),y=n(2),v=n(2),b=n(38),_=n(39),x=n(297);t.parseScaleProperty=r,t.parseNonUnitScaleProperty=o,t.nice=s,t.padding=l,t.paddingInner=u,t.paddingOuter=c,t.round=f,t.zero=d},function(e,t,n){"use strict";function r(e){e instanceof b.UnitModel?i(e):_.parseNonUnitScaleProperty(e,"range")}function i(e){var t=e.component.scales;p.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.specifiedScales[n],s=e.fieldDef(n),l="x"===n?"width":"y"===n?"height":void 0,u=l?e.component.layoutSize.get(l):void 0,c=a(e),f=o(n,r.get("type"),s.type,i,e.config,r.get("zero"),e.mark(),u,e.getSizeSignalRef(l),c);r.setWithExplicit("range",f)}})}function a(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&y.isVgRangeStep(r)&&d.isNumber(r.step)&&t.push(r.step);var i=e.getScaleComponent("y"),a=i&&i.get("range");return a&&y.isVgRangeStep(a)&&d.isNumber(a.step)&&t.push(a.step),t}function o(e,n,r,i,a,o,u,c,f,d){for(var p=!!c||null===i.rangeStep,g=0,y=t.RANGE_PROPERTIES;g<y.length;g++){var b=y[g];if(void 0!==i[b]){var _=m.scaleTypeSupportProperty(n,b),x=m.channelScalePropertyIncompatability(e,b);if(_)if(x)h.warn(x);else switch(b){case"range":return v.makeImplicit(i[b]);case"scheme":return v.makeImplicit(s(i[b]));case"rangeStep":var S=i[b];if(null!==S){if(void 0===c)return v.makeImplicit({step:S});h.warn(h.message.rangeStepDropped(e))}}else h.warn(h.message.scalePropertyNotWorkWithScaleType(n,b,e))}}return{explicit:!1,value:l(e,n,r,a,o,u,f,d,p)}}function s(e){if(m.isExtendedScheme(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function l(e,t,n,r,i,a,o,s,l){switch(e){case p.X:case p.Y:if(g.contains(["point","band"],t)&&!l)if(e===p.X&&"text"===a){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===p.X?[0,o]:[o,0];case p.SIZE:var f=u(a,i,r),d=c(a,s,r);return[f,d];case p.SHAPE:return"symbol";case p.COLOR:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===a?"heatmap":"ramp";case p.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}function u(e,t,n){if(t)return 0;switch(e){case"bar":return void 0!==n.scale.minBandSize?n.scale.minBandSize:n.bar.continuousBandSize;
case"tick":return n.scale.minBandSize;case"line":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":if(n.scale.minSize)return n.scale.minSize}throw new Error(h.message.incompatibleChannel("size",e))}function c(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:f(t,n.scale)-1;case"line":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=f(t,r);return(i-2)*(i-2)}throw new Error(h.message.incompatibleChannel("size",e))}function f(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}Object.defineProperty(t,"__esModule",{value:!0});var d=n(15),p=n(5),h=n(8),m=n(13),g=n(2),y=n(52),v=n(38),b=n(39),_=n(296);t.RANGE_PROPERTIES=["range","rangeStep","scheme"],t.parseScaleRange=r,t.parseRangeForChannel=o,t.defaultRange=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(25),a=n(179),o={predicate:"vlPoint",scaleDomain:"vlPointDomain",signals:function(e,t){var n=t.project,o=a.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",s={},l=n.map(function(e){return r.stringValue(e.channel)}).filter(function(e){return e}).join(", "),u=n.map(function(e){return r.stringValue(e.field)}).join(", "),c=n.map(function(t){var n=t.channel,i=e.fieldDef(n);return i&&i.bin?(s[t.field]=1,"["+o+"["+r.stringValue(e.field(n,{binSuffix:"start"}))+"], "+(o+"["+r.stringValue(e.field(n,{binSuffix:"end"}))+"]]")):o+"["+r.stringValue(t.field)+"]"}).join(", ");return[{name:t.name+i.TUPLE,value:{},on:[{events:t.events,update:"datum && {unit: "+r.stringValue(e.getName(""))+", "+("encodings: ["+l+"], fields: ["+u+"], values: ["+c+"]")+(r.keys(s).length?", bins: "+JSON.stringify(s)+"}":"}")}]}]},modifyExpr:function(e,t){var n=t.name+i.TUPLE;return n+", "+("global"===t.resolve?"null":"{unit: "+r.stringValue(e.getName(""))+"}")}};t.default=o},function(e,t,n){"use strict";function r(e){return m.mergeDeep(m.duplicate(t.defaultConfig),e)}function i(e){e=m.duplicate(e);for(var t=0,n=y;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,a=u.VL_ONLY_GUIDE_CONFIG;i<a.length;i++){var r=a[i];delete e.axis[r]}if(e.legend)for(var o=0,s=u.VL_ONLY_GUIDE_CONFIG;o<s.length;o++){var r=s[o];delete e.legend[r]}if(e.mark)for(var l=0,c=d.VL_ONLY_MARK_CONFIG_PROPERTIES;l<c.length;l++){var r=c[l];delete e.mark[r]}for(var f=0,p=g;f<p.length;f++){for(var h=p[f],b=0,_=d.VL_ONLY_MARK_CONFIG_PROPERTIES;b<_.length;b++){var r=_[b];delete e[h][r]}var x=v[h];if(x)for(var S=0,w=x;S<w.length;S++){var r=w[S];delete e[h][r]}}for(var r in e)m.isObject(e[r])&&0===m.keys(e[r]).length&&delete e[r];return m.keys(e).length>0?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(175),s=n(123),l=n(123),u=n(656),c=n(180),f=n(28),d=n(28),p=n(13),h=n(659),m=n(2);t.defaultCellConfig={width:200,height:200,fill:"transparent",stroke:"#ccc"},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",cell:t.defaultCellConfig,mark:d.defaultMarkConfig,area:{},bar:d.defaultBarConfig,circle:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:d.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:p.defaultScaleConfig,axis:o.DEFAULT_AXIS_CONFIG,axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:c.defaultLegendConfig,selection:h.defaultConfig,title:{}},t.initConfig=r;var g=[].concat(f.PRIMITIVE_MARKS,s.COMPOSITE_MARK_ROLES),y=["padding","numberFormat","timeFormat","countTitle","cell","stack","overlay","scale","selection","invalidValues"],v=a.__assign({},f.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,l.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripConfig=i},function(e,t){},function(e,t,n){"undefined"==typeof Promise&&(n(445).enable(),window.Promise=n(444)),n(664),Object.assign=n(443)},function(e,t,n){var r;(function(e,i){(function(){function a(e,t){function n(e){if(n[e]!==g)return n[e];var a;if("bug-string-char-index"==e)a="a"!="a"[0];else if("json"==e)a=n("json-stringify")&&n("json-parse");else{var o,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,c="function"==typeof u&&b;if(c){(o=function(){return 1}).toJSON=o;try{c="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(v)===g&&u(g)===g&&u()===g&&"1"===u(o)&&"[1]"==u([o])&&"[null]"==u([g])&&"null"==u(null)&&"[null,null,null]"==u([g,v,null])&&u({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,o)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==u(new l((-1)))}catch(f){c=!1}}a=c}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){o=d(s);var p=5==o.a.length&&1===o.a[0];if(p){try{p=!d('"\t"')}catch(f){}if(p)try{p=1!==d("01")}catch(f){}if(p)try{p=1!==d("1.")}catch(f){}}}}catch(f){p=!1}a=p}}return n[e]=!!a}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,i=e.String||u.String,o=e.Object||u.Object,l=e.Date||u.Date,c=e.SyntaxError||u.SyntaxError,f=e.TypeError||u.TypeError,d=e.Math||u.Math,p=e.JSON||u.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,m,g,y=o.prototype,v=y.toString,b=new l((-0xc782b5b800cec));try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(_){}var x="[object Function]",S="[object Date]",w="[object Number]",O="[object String]",k="[object Array]",E="[object Boolean]",M=n("bug-string-char-index");if(!b)var T=d.floor,P=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return P[t]+365*(e-1970)+T((e-1969+(t=+(t>1)))/4)-T((e-1901+t)/100)+T((e-1601+t)/400)};(h=y.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&a++;return n=r=null,a?m=2==a?function(e,t){var n,r={},i=v.call(e)==x;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=v.call(e)==x;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,a=v.call(e)==x,o=!a&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(i=r.length;n=r[--i];o.call(e,n)&&t(n));}),m(e,t)};var D={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",N=function(e,t){return(A+(t||0)).slice(-e)},R="\\u00",I=function(e){for(var t='"',n=0,r=e.length,i=!M||r>10,a=i&&(M?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=D[o];break;default:if(o<32){t+=R+N(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},F=function(e,t,n,r,i,a,o,s){var l,u,c,d,p,y,b,_,x,M,P,D,A,R,L,j;s=s||0;try{l=t[e]}catch(z){}if("object"==typeof l&&l)if(u=v.call(l),u!=S||h.call(l,"toJSON"))"function"==typeof l.toJSON&&(u!=w&&u!=O&&u!=k||h.call(l,"toJSON"))&&(l=l.toJSON(e));else if(l>-1/0&&l<1/0){if(C){for(p=T(l/864e5),c=T(p/365.2425)+1970-1;C(c+1,0)<=p;c++);for(d=T((p-C(c,0))/30.42);C(c,d+1)<=p;d++);p=1+p-C(c,d),y=(l%864e5+864e5)%864e5,b=T(y/36e5)%24,_=T(y/6e4)%60,x=T(y/1e3)%60,M=y%1e3}else c=l.getUTCFullYear(),d=l.getUTCMonth(),p=l.getUTCDate(),b=l.getUTCHours(),_=l.getUTCMinutes(),x=l.getUTCSeconds(),M=l.getUTCMilliseconds();l=(c<=0||c>=1e4?(c<0?"-":"+")+N(6,c<0?-c:c):N(4,c))+"-"+N(2,d+1)+"-"+N(2,p)+"T"+N(2,b)+":"+N(2,_)+":"+N(2,x)+"."+N(3,M)+"Z"}else l=null;if(n&&(l=n.call(t,e,l)),null===l)return"null";if(u=v.call(l),u==E)return""+l;if(u==w)return l>-1/0&&l<1/0?""+l:"null";if(u==O)return I(""+l);if("object"==typeof l){for(R=o.length;R--;)if(o[R]===l)throw f();if(o.push(l),P=[],L=a,a+=i,u==k){var j,$=a.length;for(A=0,R=l.length;A<R;A++)D=F(A,l,n,r,i,a,o,s),j=D===g?"null":D,$+=j.length+(A>0?1:0),P.push(j);j=P.length?i&&$>s?"[\n"+a+P.join(",\n"+a)+"\n"+L+"]":"["+P.join(",")+"]":"[]"}else{var $=a.length,A=0;m(r||l,function(e){var t,u=F(e,l,n,r,i,a,o,s);u!==g&&(t=I(e)+":"+(i?" ":"")+u,$+=t.length+(A++>0?1:0),P.push(t))}),j=P.length?i&&$>s?"{\n"+a+P.join(",\n"+a)+"\n"+L+"}":"{"+P.join(",")+"}":"{}"}return o.pop(),j}};if(t.stringify=function(e,t,n,r){var i,a,o,l;if(s[typeof t]&&t)if((l=v.call(t))==x)a=t;else if(l==k){o={};for(var u,c=0,f=t.length;c<f;u=t[c++],l=v.call(u),(l==O||l==w)&&(o[u]=1));}if(n)if((l=v.call(n))==w){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else l==O&&(i=n.length<=10?n:n.slice(0,10));return F("",(u={},u[""]=e,u),a,o,i,"",[],r)},t.compactStringify=function(e,n,r){return t.stringify(e,n,r,60)},!n("json-parse")){var L,j,z=i.fromCharCode,$={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw L=j=null,c()},B=function(){for(var e,t,n,r,i,a=j,o=a.length;L<o;)switch(i=a.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=M?a.charAt(L):a[L],L++,e;case 34:for(e="@",L++;L<o;)if(i=a.charCodeAt(L),i<32)U();else if(92==i)switch(i=a.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=$[i],L++;break;case 117:for(t=++L,n=L+4;L<n;L++)i=a.charCodeAt(L),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||U();e+=z("0x"+a.slice(t,L));break;default:U()}else{if(34==i)break;for(i=a.charCodeAt(L),t=L;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++L);e+=a.slice(t,L)}if(34==a.charCodeAt(L))return L++,e;U();default:if(t=L,45==i&&(r=!0,i=a.charCodeAt(++L)),i>=48&&i<=57){for(48==i&&(i=a.charCodeAt(L+1),i>=48&&i<=57)&&U(),r=!1;L<o&&(i=a.charCodeAt(L),i>=48&&i<=57);L++);if(46==a.charCodeAt(L)){for(n=++L;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==L&&U(),L=n}if(i=a.charCodeAt(L),101==i||69==i){for(i=a.charCodeAt(++L),43!=i&&45!=i||L++,n=L;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==L&&U(),L=n}return+a.slice(t,L)}if(r&&U(),"true"==a.slice(L,L+4))return L+=4,!0;if("false"==a.slice(L,L+5))return L+=5,!1;if("null"==a.slice(L,L+4))return L+=4,null;U()}return"$"},q=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(M?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=B(),"]"!=e;n||(n=!0))n&&(","==e?(e=B(),"]"==e&&U()):U()),","==e&&U(),t.push(q(e));return t}if("{"==e){for(t={};e=B(),"}"!=e;n||(n=!0))n&&(","==e?(e=B(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(M?e.charAt(0):e[0])&&":"==B()||U(),t[e.slice(1)]=q(B());return t}U()}return e},W=function(e,t,n){var r=V(e,t,n);r===g?delete e[t]:e[t]=r},V=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(v.call(i)==k)for(r=i.length;r--;)W(i,r,n);else m(i,function(e){W(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return L=0,j=""+e,n=q(B()),"$"!=B()&&U(),L=j=null,t&&v.call(t)==x?V((r={},r[""]=n,r),"",t):n}}return t.runInContext=a,t}var o=n(663),s={function:!0,object:!0},l=s[typeof t]&&t&&!t.nodeType&&t,u=s[typeof window]&&window||this,c=l&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),l&&!o)a(u,l);else{var f=u.JSON,d=u.JSON3,p=!1,h=a(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=f,u.JSON3=d,f=d=null),h}});u.JSON={parse:h.parse,stringify:h.stringify}}o&&(r=function(){return h}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(184)(e),function(){return this}())},function(e,t){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,a=t[r].split("/"),o=e;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<n.length;i++){var s=n[i],l=o[s];l&&(o[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=this._opts=L.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=N(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new C,this._loadingSchemas={},this._compilations=[],this.RULES=R(),this._getId=y(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=A),this._metaOpts=M(this),e.formats&&k(this),w(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),O(this),e.patternGroups&&F(this)}function i(e,t){var n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return n.$async===!0?"*"==this._opts.async?j(i):i:(this.errors=n.errors,i)}function a(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function o(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);else{var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");t=P.normalizeId(t||a),E(this,t),this._schemas[t]=this._addSchema(e,n,r,!0)}}function s(e,t,n){this.addSchema(e,t,n,!0)}function l(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||u(this),!n)return console.warn("meta-schema not available"),this.errors=null,!0;var r=this._formats.uri;this._formats.uri="function"==typeof r?this._schemaUriFormatFunc:this._schemaUriFormat;var i;try{i=this.validate(n,e)}finally{this._formats.uri=r}if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);console.error(a)}return i}function u(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(U)?U:void 0,e._opts.defaultMeta}function c(e){var t=d(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return f(this,e)}}function f(e,t){var n=P.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,a=n.baseId,o=T.call(e,r,i,void 0,a);return e._fragments[t]=new D({ref:t,fragment:!0,schema:r,root:i,baseId:a,validate:o}),o}}function d(e,t){return t=P.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function p(e){if(e instanceof RegExp)return h(this,this._schemas,e),void h(this,this._refs,e);switch(typeof e){case"undefined":return h(this,this._schemas),h(this,this._refs),void this._cache.clear();case"string":var t=d(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],void delete this._refs[e];case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=P.normalizeId(i),delete this._schemas[i],delete this._refs[i])}}function h(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function m(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,a=i?i(e):e,o=this._cache.get(a);if(o)return o;r=r||this._opts.addUsedSchema!==!1;var s=P.normalizeId(this._getId(e));s&&r&&E(this,s);var l,u=this._opts.validateSchema!==!1&&!t;u&&!(l=s&&s==P.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=P.ids.call(this,e),f=new D({id:s,schema:e,localRefs:c,cacheKey:a,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=f),this._cache.put(a,f),u&&l&&this.validateSchema(e,!0),f}function g(e,t){function n(){var t=e.validate,r=t.apply(null,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t?t:n,e.schema.$async===!0&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=T.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function y(e){switch(e.schemaId){case"$id":return b;case"id":return v;default:return _}}function v(e){return e.$id&&console.warn("schema $id ignored",e.$id),e.id}function b(e){return e.id&&console.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)}function S(e,t){"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t}function w(e){var t;if(e._opts.$data&&(t=n(424),e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=n(426);e._opts.$data&&(r=I(r,q)),e.addMetaSchema(r,U,!0),e._refs["http://json-schema.org/schema"]=U}}function O(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function k(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function M(e){for(var t=L.copy(e._opts),n=0;n<B.length;n++)delete t[B[n]];return t}var T=n(309),P=n(125),C=n(305),D=n(185),A=n(63),N=n(308),R=n(310),I=n(303),F=n(331),L=n(60),j=n(196);e.exports=r,r.prototype.validate=i,r.prototype.compile=a,r.prototype.addSchema=o,r.prototype.addMetaSchema=s,r.prototype.validateSchema=l,r.prototype.getSchema=c,r.prototype.removeSchema=p,r.prototype.addFormat=S,r.prototype.errorsText=x,r.prototype._addSchema=m,r.prototype._compile=g,r.prototype.compileAsync=n(307);var z=n(330);r.prototype.addKeyword=z.add,r.prototype.getKeyword=z.get,r.prototype.removeKeyword=z.remove;var $=n(124);r.ValidationError=$.Validation,r.MissingRefError=$.MissingRef,r.$dataMetaSchema=I;var U="http://json-schema.org/draft-06/schema",B=["removeAdditional","useDefaults","coerceTypes"],q=["/properties"]},function(e,t){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";e.exports={$ref:n(327),allOf:n(312),anyOf:n(313),const:n(314),contains:n(315),dependencies:n(317),enum:n(318),format:n(319),items:n(320),maximum:n(186),minimum:n(186),maxItems:n(187),minItems:n(187),maxLength:n(188),minLength:n(188),maxProperties:n(189),minProperties:n(189),multipleOf:n(321),not:n(322),oneOf:n(323),pattern:n(324),properties:n(325),propertyNames:n(326),required:n(328),uniqueItems:n(329),validate:n(190)}},function(e,t,n){"use strict";function r(e,t,n){function a(e){var t=e.$schema;return t&&!s.getSchema(t)?r.call(s,{$ref:t},!0):Promise.resolve()}function o(e){function n(n){function r(){delete s._loadingSchemas[l]}function i(e){return s._refs[e]||s._schemas[e]}var l=n.missingSchema;if(i(l))throw new Error("Schema "+l+" is loaded but "+n.missingRef+" cannot be resolved");var u=s._loadingSchemas[l];return u||(u=s._loadingSchemas[l]=s._opts.loadSchema(l),u.then(r,r)),u.then(function(e){if(!i(l))return a(e).then(function(){i(l)||s.addSchema(e,l,void 0,t)})}).then(function(){return o(e)})}try{return s._compile(e)}catch(r){if(r instanceof i)return n(r);throw r}}var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var l=a(e).then(function(){var n=s._addSchema(e,void 0,t);return n.validate||o(n)});return n&&l.then(function(e){n(null,e)},n),l}var i=n(124).MissingRef;e.exports=r},function(e,t,n){"use strict";function r(e){return e="full"==e?"full":"fast",c.copy(r[e])}function i(e){var t=e.match(f);if(!t)return!1;var n=+t[1],r=+t[2];return n>=1&&n<=12&&r>=1&&r<=d[n]}function a(e,t){var n=e.match(p);if(!n)return!1;var r=n[1],i=n[2],a=n[3],o=n[5];return r<=23&&i<=59&&a<=59&&(!t||o)}function o(e){var t=e.split(S);return 2==t.length&&i(t[0])&&a(t[1],!0)}function s(e){return e.length<=255&&h.test(e)}function l(e){return w.test(e)&&m.test(e)}function u(e){if(O.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}var c=n(60),f=/^\d\d\d\d-(\d\d)-(\d\d)$/,d=[0,31,29,31,30,31,30,31,31,30,31,30,31],p=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,h=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,g=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,y=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,v=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,b=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,_=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,x=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;e.exports=r,r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":y,url:v,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:h,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:u,uuid:b,"json-pointer":_,"relative-json-pointer":x},r.full={date:i,time:a,"date-time":o,uri:l,"uri-reference":g,"uri-template":y,url:v,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:u,uuid:b,"json-pointer":_,"relative-json-pointer":x};var S=/t|\s/i,w=/\/|:/,O=/[^\\]\\Z/},function(e,t,n){"use strict";function r(e,t,n,o){function x(){var e=U.validate,t=e.apply(null,arguments);return x.errors=e.errors,t}function S(e,n,i,a){var o=!n||n&&n.schema==e;if(n.schema!=t.schema)return r.call(D,e,n,i,a);var m=e.$async===!0,x=g({isTop:!0,schema:e,isRoot:o,baseId:a,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:h.MissingRef,RULES:q,validate:g,util:p,resolve:d,resolveRef:w,usePattern:T,useDefault:P,useCustomRule:C,opts:A,formats:B,self:D});x=f(N,u)+f(I,s)+f(L,l)+f(z,c)+x,A.processCode&&(x=A.processCode(x));var S;try{var O=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",x);S=O(D,q,B,t,N,L,z,y,b,v,_),N[0]=S}catch(k){throw console.error("Error compiling schema, function code:",x),k}return S.schema=e,S.errors=null,S.refs=R,S.refVal=N,S.root=o?S:n,m&&(S.$async=!0),A.sourceCode===!0&&(S.source={code:x,patterns:I,defaults:L}),S}function w(e,i,a){i=d.url(e,i);var o,s,l=R[i];if(void 0!==l)return o=N[l],s="refVal["+l+"]",M(o,s);if(!a&&t.refs){var u=t.refs[i];if(void 0!==u)return o=t.refVal[u],s=O(i,o),M(o,s)}s=O(i);var c=d.call(D,S,t,i);if(void 0===c){var f=n&&n[i];f&&(c=d.inlineRef(f,A.inlineRefs)?f:r.call(D,f,t,n,e))}return void 0!==c?(E(i,c),M(c,s)):void k(i)}function O(e,t){var n=N.length;return N[n]=t,R[e]=n,"refVal"+n}function k(e){delete R[e]}function E(e,t){var n=R[e];N[n]=t}function M(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function T(e){var t=F[e];return void 0===t&&(t=F[e]=I.length,I[t]=e),"pattern"+t}function P(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return p.toQuotedString(e);case"object":if(null===e)return"null";var t=m(e),n=j[t];return void 0===n&&(n=j[t]=L.length,L[n]=e),"default"+n}}function C(e,t,n,r){var i=e.definition.validateSchema;if(i&&D._opts.validateSchema!==!1){var a=i(t);if(!a){var o="keyword schema is invalid: "+D.errorsText(i.errors);if("log"!=D._opts.validateSchema)throw new Error(o);console.error(o)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(D,t,n,r);else if(c)s=c.call(D,t,n,r),A.validateSchema!==!1&&D.validateSchema(s,!0);else if(u)s=u.call(D,r,e.keyword,t,n);else if(s=e.definition.validate,!s)return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=z.length;return z[f]=s,{code:"customRule"+f,validate:s}}var D=this,A=this._opts,N=[void 0],R={},I=[],F={},L=[],j={},z=[];t=t||{schema:e,refVal:N,refs:R};var $=i.call(this,e,t,o),U=this._compilations[$.index];if($.compiling)return U.callValidate=x;var B=this._formats,q=this.RULES;try{var W=S(e,t,n,o);U.validate=W;var V=U.callValidate;return V&&(V.schema=W.schema,V.errors=null,V.refs=W.refs,V.refVal=W.refVal,V.root=W.root,V.$async=W.$async,A.sourceCode&&(V.source=W.source)),W}finally{a.call(this,e,t,o)}}function i(e,t,n){var r=o.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,
this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function a(e,t,n){var r=o.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function o(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function s(e,t){return"var pattern"+e+" = new RegExp("+p.toQuotedString(t[e])+");"}function l(e){return"var default"+e+" = defaults["+e+"];"}function u(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function c(e){return"var customRule"+e+" = customRules["+e+"];"}function f(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var d=n(125),p=n(60),h=n(124),m=n(63),g=n(190),y=n(196),v=p.ucs2length,b=n(127),_=h.Validation;e.exports=r},function(e,t,n){"use strict";var r=n(306),i=n(60).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"],n=["additionalItems","$schema","id","title","description","default","definitions"],a=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(a),e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var a=Object.keys(n)[0];i=n[a],n=a,i.forEach(function(n){t.push(n),e.all[n]=!0})}t.push(n);var o=e.all[n]={keyword:n,code:r[n],implements:i};return o}),n.type&&(e.types[n.type]=n)}),e.keywords=i(t.concat(n)),e.custom={},e}},function(e,t){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,f=l.baseId,d=!0,p=i;if(p)for(var h,m=-1,g=p.length-1;m<g;)h=p[m+=1],e.util.schemaHasRules(h,e.RULES.all)&&(d=!1,l.schema=h,l.schemaPath=a+"["+m+"]",l.errSchemaPath=o+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=f,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g=o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)});if(g){var y=p.baseId;r+=" var "+d+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=o;if(b)for(var _,x=-1,S=b.length-1;x<S;)_=b[x+=1],p.schema=_,p.schemaPath=s+"["+x+"]",p.errSchemaPath=l+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=v,r+=" "+h+" if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,p||(i+=" var schema"+a+" = validate.schema"+l+";"),i+="var "+d+" = equal("+f+", schema"+a+"); if (!"+d+") {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId,_=e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+f+";",_){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+m+" = false; for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var S=c+"["+g+"]";p.dataPathArr[y]=g;var w=e.validate(p);p.baseId=b,r+=e.util.varOccurences(w,v)<2?" "+e.util.varReplace(w,v,S)+" ":" var "+v+" = "+S+"; "+w+" ",r+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=x,r+=" "+h+" if (!"+m+") {"}else r+=" if ("+c+".length == 0) {";var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;return r=O.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,h="errs__"+o,m=e.opts.$data&&l&&l.$data;m?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var g,y,v,b,_,x=this,S="definition"+o,w=x.definition,O="";if(m&&w.$data){_="keywordValidate"+o;var k=w.validateSchema;a+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+_+" = "+S+".validate;"}else{if(b=e.useCustomRule(x,l,e.schema,e),!b)return;i="validate.schema"+u,_=b.code,g=w.compile,y=w.inline,v=w.macro}var E=_+".errors",M="i"+o,T="ruleErr"+o,P=w.async;if(P&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(a+=""+E+" = null;"),a+="var "+h+" = errors;var "+p+";",m&&w.$data&&(O+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",k&&(O+="}",a+=" "+p+" = "+S+".validateSchema("+i+"); if ("+p+") { ")),y)a+=w.statements?" "+b.validate+" ":" "+p+" = "+b.validate+"; ";else if(v){var C=e.util.copy(e),O="";C.level++;var D="valid"+C.level;C.schema=b.validate,C.schemaPath="";var A=e.compositeRule;e.compositeRule=C.compositeRule=!0;var N=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=A,a+=" "+N}else{var R=R||[];R.push(a),a="",a+="  "+_+".call( ",a+=e.opts.passContext?"this":"self",a+=g||w.schema===!1?" , "+d+" ":" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var I=s?"data"+(s-1||""):"parentData",F=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+I+" , "+F+" , rootData )  ";var L=a;a=R.pop(),w.errors===!1?(a+=" "+p+" = ",P&&(a+=""+e.yieldAwait),a+=""+L+"; "):P?(E="customErrors"+o,a+=" var "+E+" = null; try { "+p+" = "+e.yieldAwait+L+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } "):a+=" "+E+" = null; "+p+" = "+L+"; "}if(w.modifying&&(a+=" if ("+I+") "+d+" = "+I+"["+F+"];"),a+=""+O,w.valid)f&&(a+=" if (true) { ");else{a+=" if ( ",void 0===w.valid?(a+=" !",a+=v?""+D:""+p):a+=" "+!w.valid+" ",a+=") { ",r=x.keyword;var R=R||[];R.push(a),a="";var R=R||[];R.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var j=a;a=R.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=a;a=R.pop(),y?w.errors?"full"!=w.errors&&(a+="  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } "):w.errors===!1?a+=" "+z+" ":(a+=" if ("+h+" == errors) { "+z+" } else {  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } } "):v?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):w.errors===!1?a+=" "+z+" ":(a+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } } else { "+z+" } "),a+=" } ",f&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m={},g={},y=e.opts.ownProperties;for(x in o){var v=o[x],b=Array.isArray(v)?g:m;b[x]=v}r+="var "+f+" = errors;";var _=e.errorPath;r+="var missing"+i+";";for(var x in g)if(b=g[x],b.length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),u){r+=" && ( ";var S=b;if(S)for(var w,O=-1,k=S.length-1;O<k;){w=S[O+=1],O&&(r+=" || ");var E=e.util.getProperty(w),M=c+E;r+=" ( ( "+M+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:E)+") ) "}r+=")) {  ";var T="missing"+i,P="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,T,!0):_+" + "+T);var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var D=r;r=C.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var A=b;if(A)for(var w,N=-1,R=A.length-1;N<R;){w=A[N+=1];var E=e.util.getProperty(w),P=e.util.escapeQuotes(w),M=c+E;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,w,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(p+="}",r+=" else { ")}e.errorPath=_;var I=d.baseId;for(var x in m){var v=m[x];e.util.schemaHasRules(v,e.RULES.all)&&(r+=" "+h+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(x),d.errSchemaPath=l+"/"+e.util.escapeFragment(x),r+="  "+e.validate(d)+" ",d.baseId=I,r+=" }  ",u&&(r+=" if ("+h+") { ",p+="}"))}return u&&(r+="   "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="i"+a,m="schema"+a;p||(i+=" var "+m+" = validate.schema"+l+";"),i+="var "+d+";",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=""+d+" = false;for (var "+h+"=0; "+h+"<"+m+".length; "+h+"++) if (equal("+f+", "+m+"["+h+"])) { "+d+" = true; break; }",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+a+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=g.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||"");if(e.opts.format===!1)return u&&(r+=" if (true) { "),r;var f,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){var m="format"+i,g="isObject"+i,y="formatType"+i;r+=" var "+m+" = formats["+f+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+y+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+f+" && !"+m+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+y+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",r+=e.async?" (async"+i+" ? "+e.yieldAwait+" "+m+"("+c+") : "+m+"("+c+")) ":" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m=e.formats[o];if(!m){if("ignore"==p)return console.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(h&&p.indexOf(o)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,y=g&&m.type||"string";if(g){var v=m.async===!0;m=m.validate}if(y!=n)return u&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(o)+".validate";r+=" if (!("+e.yieldAwait+" "+b+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+f:""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=" , message: 'should match format \"",r+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId;if(r+="var "+d+" = errors;var "+f+";",Array.isArray(o)){var _=e.schema.additionalItems;if(_===!1){r+=" "+f+" = "+c+".length <= "+o.length+"; ";var x=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=S.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=x,u&&(h+="}",r+=" else { ")}var O=o;if(O)for(var k,E=-1,M=O.length-1;E<M;)if(k=O[E+=1],e.util.schemaHasRules(k,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+E+") { ";var T=c+"["+E+"]";p.schema=k,p.schemaPath=s+"["+E+"]",p.errSchemaPath=l+"/"+E,p.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0),p.dataPathArr[y]=E;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",h+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=c+"["+g+"]";p.dataPathArr[y]=g;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",h+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=c+"["+g+"]";p.dataPathArr[y]=g;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",u&&(r+=" if (!"+m+") break; "),r+=" }"}return u&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,i+="var division"+a+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+r+", ",i+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:""+r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+f+" = errors;  ";var h=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var m;d.opts.allErrors&&(m=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,m&&(d.opts.allErrors=m),e.compositeRule=d.compositeRule=h,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;r=g.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level;r+="var "+d+" = errors;var prevValid"+i+" = false;var "+f+" = false;";var g=p.baseId,y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var b,_=-1,x=v.length-1;_<x;)b=v[_+=1],e.util.schemaHasRules(b,e.RULES.all)?(p.schema=b,p.schemaPath=s+"["+_+"]",p.errSchemaPath=l+"/"+_,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",_&&(r+=" if ("+m+" && prevValid"+i+") "+f+" = false; else { ",h+="}"),r+=" if ("+m+") "+f+" = prevValid"+i+" = true;";return e.compositeRule=p.compositeRule=y,r+=""+h+"if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p=d?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+p+".test("+f+") ) {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",e.opts.messages!==!1&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="key"+i,y="idx"+i,v=p.dataLevel=e.dataLevel+1,b="data"+v,_="dataProperties"+i,x=Object.keys(o||{}),S=e.schema.patternProperties||{},w=Object.keys(S),O=e.schema.additionalProperties,k=x.length||w.length,E=O===!1,M="object"==typeof O&&Object.keys(O).length,T=e.opts.removeAdditional,P=E||M||T,C=e.opts.ownProperties,D=e.baseId,A=e.schema.required;if(A&&(!e.opts.v5||!A.$data)&&A.length<e.opts.loopRequired)var N=e.util.toHash(A);if(e.opts.patternGroups)var R=e.schema.patternGroups||{},I=Object.keys(R);if(r+="var "+d+" = errors;var "+m+" = true;",C&&(r+=" var "+_+" = undefined;"),P){if(r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",k){if(r+=" var isAdditional"+i+" = !(false ",x.length)if(x.length>5)r+=" || validate.schema"+s+"["+g+"] ";else{var F=x;if(F)for(var L,j=-1,z=F.length-1;j<z;)L=F[j+=1],r+=" || "+g+" == "+e.util.toQuotedString(L)+" "}if(w.length){var $=w;if($)for(var U,B=-1,q=$.length-1;B<q;)U=$[B+=1],r+=" || "+e.usePattern(U)+".test("+g+") "}if(e.opts.patternGroups&&I.length){var W=I;if(W)for(var V,B=-1,H=W.length-1;B<H;)V=W[B+=1],r+=" || "+e.usePattern(V)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==T)r+=" delete "+c+"["+g+"]; ";else{var G=e.errorPath,Y="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),E)if(T)r+=" delete "+c+"["+g+"]; ";else{r+=" "+m+" = false; ";var X=l;l=e.errSchemaPath+"/additionalProperties";var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+Y+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var Q=r;r=K.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=X,u&&(r+=" break; ")}else if(M)if("failing"==T){r+=" var "+d+" = errors;  ";var J=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=O,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=D,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",r+=" if (!"+m+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+g+"]; }  ",e.compositeRule=p.compositeRule=J}else{p.schema=O,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=D,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",u&&(r+=" if (!"+m+") break; ")}e.errorPath=G}k&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+m+") { ",
h+="}")}var te=e.opts.useDefaults&&!e.compositeRule;if(x.length){var ne=x;if(ne)for(var L,re=-1,ie=ne.length-1;re<ie;){L=ne[re+=1];var ae=o[L];if(e.util.schemaHasRules(ae,e.RULES.all)){var oe=e.util.getProperty(L),Z=c+oe,se=te&&void 0!==ae.default;p.schema=ae,p.schemaPath=s+oe,p.errSchemaPath=l+"/"+e.util.escapeFragment(L),p.errorPath=e.util.getPath(e.errorPath,L,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(L);var ee=e.validate(p);if(p.baseId=D,e.util.varOccurences(ee,b)<2){ee=e.util.varReplace(ee,b,Z);var le=Z}else{var le=b;r+=" var "+b+" = "+Z+"; "}if(se)r+=" "+ee+" ";else{if(N&&N[L]){r+=" if ( "+le+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=") { "+m+" = false; ";var G=e.errorPath,X=l,ue=e.util.escapeQuotes(L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(G,L,e.opts.jsonPointers)),l=e.errSchemaPath+"/required";var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ue+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ue+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var Q=r;r=K.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=X,e.errorPath=G,r+=" } else { "}else u?(r+=" if ( "+le+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=") { "+m+" = true; } else { "):(r+=" if ("+le+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=" ) { ");r+=" "+ee+" } "}}u&&(r+=" if ("+m+") { ",h+="}")}}if(w.length){var ce=w;if(ce)for(var U,fe=-1,de=ce.length-1;fe<de;){U=ce[fe+=1];var ae=S[U];if(e.util.schemaHasRules(ae,e.RULES.all)){p.schema=ae,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(U),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(U),r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",r+=" if ("+e.usePattern(U)+".test("+g+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=D,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",u&&(r+=" if (!"+m+") break; "),r+=" } ",u&&(r+=" else "+m+" = true; "),r+=" }  ",u&&(r+=" if ("+m+") { ",h+="}")}}}if(e.opts.patternGroups&&I.length){var pe=I;if(pe)for(var V,he=-1,me=pe.length-1;he<me;){V=pe[he+=1];var ge=R[V],ae=ge.schema;if(e.util.schemaHasRules(ae,e.RULES.all)){p.schema=ae,p.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(V)+".schema",p.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(V)+"/schema",r+=" var pgPropCount"+i+" = 0;  ",r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",r+=" if ("+e.usePattern(V)+".test("+g+")) { pgPropCount"+i+"++; ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=D,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",u&&(r+=" if (!"+m+") break; "),r+=" } ",u&&(r+=" else "+m+" = true; "),r+=" }  ",u&&(r+=" if ("+m+") { ",h+="}");var ye=ge.minimum,ve=ge.maximum;if(void 0!==ye||void 0!==ve){r+=" var "+f+" = true; ";var X=l;if(void 0!==ye){var be=ye,_e="minimum",xe="less";r+=" "+f+" = pgPropCount"+i+" >= "+ye+"; ",l=e.errSchemaPath+"/patternGroups/minimum",r+="  if (!"+f+") {   ";var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+_e+"', limit: "+be+", pattern: '"+e.util.escapeQuotes(V)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+xe+" than "+be+' properties matching pattern "'+e.util.escapeQuotes(V)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var Q=r;r=K.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",void 0!==ve&&(r+=" else ")}if(void 0!==ve){var be=ve,_e="maximum",xe="more";r+=" "+f+" = pgPropCount"+i+" <= "+ve+"; ",l=e.errSchemaPath+"/patternGroups/maximum",r+="  if (!"+f+") {   ";var K=K||[];K.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+_e+"', limit: "+be+", pattern: '"+e.util.escapeQuotes(V)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+xe+" than "+be+' properties matching pattern "'+e.util.escapeQuotes(V)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var Q=r;r=K.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}l=X,u&&(r+=" if ("+f+") { ",h+="}")}}}}return u&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l;var m="key"+i,g="idx"+i,y="i"+i,v="' + "+m+" + '",b=d.dataLevel=e.dataLevel+1,_="data"+b,x="dataProperties"+i,S=e.opts.ownProperties,w=e.baseId;r+=" var "+f+" = errors; ",S&&(r+=" var "+x+" = undefined; "),r+=S?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+m+" = "+x+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var O=m,k=e.compositeRule;e.compositeRule=d.compositeRule=!0;var E=e.validate(d);d.baseId=w,r+=e.util.varOccurences(E,_)<2?" "+e.util.varReplace(E,_,O)+" ":" var "+_+" = "+O+"; "+E+" ",e.compositeRule=d.compositeRule=k,r+=" if (!"+h+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+m+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),d="valid"+o;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=e.root.schema.$async===!0,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){console.error(h);var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=m.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,h);console.warn(h),c&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var v="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=l;var b=e.validate(y).replace(/validate\.schema/g,p.code);a+=" "+b+" ",c&&(a+=" if ("+v+") { ")}else r=p.$async===!0,i=p.code}if(i){var m=m||[];m.push(a),a="",a+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var _=s?"data"+(s-1||""):"parentData",x=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+_+" , "+x+", rootData)  ";var S=a;if(a=m.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+d+"; "),a+=" try { "+e.yieldAwait+" "+S+"; ",c&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+d+" = false; "),a+=" } ",c&&(a+=" if ("+d+") { ")}else a+=" if (!"+S+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="schema"+a;if(!p)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],g=s;if(g)for(var y,v=-1,b=g.length-1;v<b;){y=g[v+=1];var _=e.schema.properties[y];_&&e.util.schemaHasRules(_,e.RULES.all)||(m[m.length]=y)}}else var m=s;if(p||m.length){var x=e.errorPath,S=p||m.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(c)if(i+=" var missing"+a+"; ",S){p||(i+=" var "+h+" = validate.schema"+l+"; ");var O="i"+a,k="schema"+a+"["+O+"]",E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),i+=" var "+d+" = true; ",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { "+d+" = "+f+"["+h+"["+O+"]] !== undefined ",w&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+h+"["+O+"]) "),i+="; if (!"+d+") break; } ",p&&(i+="  }  "),i+="  if (!"+d+") {   ";var M=M||[];M.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=M.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var P=m;if(P)for(var C,O=-1,D=P.length-1;O<D;){C=P[O+=1],O&&(i+=" || ");var A=e.util.getProperty(C),N=f+A;i+=" ( ( "+N+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:A)+") ) "}i+=") {  ";var k="missing"+a,E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,k,!0):x+" + "+k);var M=M||[];M.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=M.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(S){p||(i+=" var "+h+" = validate.schema"+l+"; ");var O="i"+a,k="schema"+a+"["+O+"]",E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),p&&(i+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),i+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { if ("+f+"["+h+"["+O+"]] === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+h+"["+O+"]) "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(i+="  }  ")}else{var R=m;if(R)for(var C,I=-1,F=R.length-1;I<F;){C=R[I+=1];var A=e.util.getProperty(C),E=e.util.escapeQuotes(C),N=f+A;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,C,e.opts.jsonPointers)),i+=" if ( "+N+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else c&&(i+=" if (true) {");return i}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&e.opts.uniqueItems!==!1){p&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var "+d+" = true; if ("+f+".length > 1) { var i = "+f+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){for(var r,a=0;a<i.length;a++){var o=i[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},i.push(r));var l={keyword:e,definition:n,custom:!0,code:s,implements:n.implements};r.rules.push(l),i.custom[e]=l}function r(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!o.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=t.type;if(Array.isArray(a)){var l,u=a.length;for(l=0;l<u;l++)r(a[l]);for(l=0;l<u;l++)n(e,a[l],t)}else a&&r(a),n(e,a,t);var c=t.$data===!0&&this._opts.$data;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var f=t.metaSchema;f&&(c&&(f={anyOf:[f,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(f,!0))}i.keywords[e]=i.all[e]=!0}function i(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function a(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}}var o=/^[a-z_$][a-z0-9_$-]*$/i,s=n(316);e.exports={add:r,get:i,remove:a}},function(e,t){"use strict";var n="http://json-schema.org/draft-06/schema";e.exports=function(e){var t=e._opts.defaultMeta,r="string"==typeof t?{$ref:t}:e.getSchema(n)?{$ref:n}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:r},additionalProperties:!1}}}),e.RULES.all.properties.implements.push("patternGroups")}},function(e,t){(function(t){"use strict";function n(e){s.length||(o(),l=!0),s[s.length]=e}function r(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>c){for(var t=0,n=s.length-u;t<n;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0,l=!1}function i(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function a(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,s=[],l=!1,u=0,c=1024,f="undefined"!=typeof t?t:self,d=f.MutationObserver||f.WebKitMutationObserver;o="function"==typeof d?i(r):a(r),n.requestFlush=o,n.makeRequestCallFromTimer=a}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),c=i(u),f=n(344),d=i(f),p=n(338),h=i(p),m=n(158),g=i(m),y=n(341),v=i(y),b=n(61),_=n(42),x=r(_),S=n(36);n(366);var w=n(104),O=n(360),k=n(362),E=i(k),M=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(n.spec){console.info("[Vega-Editor] Received Message",t.origin,n);var r=JSON.parse(n.spec);n.spec=JSON.stringify(r,null,2),(n.spec||n.file)&&t.source.postMessage(!0,"*"),n.spec&&("VEGA"===n.mode.toUpperCase()?e.props.updateVegaSpec(n.spec):"VEGA-LITE"===n.mode.toUpperCase()&&e.props.updateVegaLiteSpec(n.spec))}},!1);var t=this.props.params;this.setSpecInUrl(t)}},{key:"componentWillReceiveProps",value:function(e){(0,E.default)(this.props.params,e.params)||this.setSpecInUrl(e.params)}},{key:"setSpecInUrl",value:function(e){e&&e.mode&&w.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&(e.example_name?this.setExample(e):e.username&&e.id?this.setGist(e):this.props.setMode(e.mode))}},{key:"setGist",value:function(e){var t=this,n="https://hook.io/tianyiii/vegaeditor",r=e.mode,i=n+"/"+r+"/"+e.username+"/"+e.id;fetch(i,{method:"get",mode:"cors"}).then(function(e){return 200===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))}).then(function(e){return e.json()}).then(function(e){"Not Found"!==e.message?"vega"===r?t.props.setGistVegaSpec(i,JSON.stringify(e,null,2)):"vega-lite"===r&&t.props.setGistVegaLiteSpec(i,JSON.stringify(e,null,2)):console.warn("invalid url")}).catch(function(e){console.error(e)})}},{key:"setExample",value:function(e){var t=this,n=e.example_name;"vega"===e.mode?(0,O.text)("./spec/vega/"+n+".vg.json",function(e){t.props.setVegaExample(n,e)}):"vega-lite"===e.mode&&(0,O.text)("./spec/vega-lite/"+n+".vl.json",function(e){t.props.setVegaLiteExample(n,e)})}},{key:"setEmptySpec",value:function(e){e.mode===b.MODES.Vega?this.props.updateVegaSpec("{}"):e.mode===b.MODES.VegaLite&&this.props.updateVegaLiteSpec("{}")}},{key:"render",value:function(){var e=window.innerWidth;return c.default.createElement("div",{className:"app-container"},c.default.createElement(h.default,null),c.default.createElement("div",{style:{position:"relative",height:"calc(100vh - "+b.LAYOUT.HeaderHeight+"px)"}},c.default.createElement(g.default,{split:"vertical",minSize:300,defaultSize:.4*e,pane1Style:{display:"flex"},className:"main-pane",pane2Style:{overflow:"scroll"}},c.default.createElement(v.default,null),c.default.createElement(d.default,null))))}}]),t}(c.default.Component),T=function(e){return{setMode:function(t){e(x.setMode(t))},updateVegaSpec:function(t){e(x.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(x.updateVegaLiteSpec(t))},setVegaExample:function(t,n){e(x.setVegaExample(t,n))},setVegaLiteExample:function(t,n){e(x.setVegaLiteExample(t,n))},setGistVegaSpec:function(t,n){e(x.setGistVegaSpec(t,n))},setGistVegaLiteSpec:function(t,n){e(x.setGistVegaLiteSpec(t,n))}}};t.default=(0,S.connect)(null,T)(M)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.error,warningsLogger:e.warningsLogger,errorPane:e.errorPane}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),s=n(335),l=i(s),u=n(42),c=r(u),f=function(e){return{showErrorPane:function(){e(c.showErrorPane())}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=r(l);n(367);var c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=[];return this.props.error&&t.push(u.default.createElement("li",{key:0},u.default.createElement("span",{className:"error"},"[Error] "),this.props.error)),this.props.warningsLogger.warns.forEach(function(e,n){t.push(u.default.createElement("li",{key:n+1},u.default.createElement("span",{className:"warning"},"[Warning] "),e))}),0===t.length&&t.push(u.default.createElement("li",{key:"no error"},u.default.createElement("span",{className:"info"},"[Info] "),"No error or warnings")),u.default.createElement("div",{className:"error-pane"},u.default.createElement("span",{onClick:function(t){return e.props.showErrorPane()},className:"close"},"✖"),u.default.createElement("ul",null,t))}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.error}}function o(e){return{showErrorPane:function(){e(f.showErrorPane())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(337),l=i(s),u=n(36),c=n(42),f=r(c);t.default=(0,u.connect)(a,o)(l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=r(l);n(368);var c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return this.props.error?u.default.createElement("div",{id:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},this.props.error):null}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(36),a=n(339),o=r(a),s=function(e,t){return{mode:e.mode}};t.default=(0,i.connect)(s,null)(o.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=r(l),c=n(517),f=r(c),d=n(61);n(369);var p=n(104),h=function(e){return e.split(/[_\-]/).map(function(e){return e[0].toUpperCase()+e.substring(1)}).join(" ")},m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showVega:e.mode===d.MODES.Vega,url:""},n.onSelectVega=n.onSelectVega.bind(n),n}return o(t,e),s(t,[{key:"handleChange",value:function(e){this.setState({url:e.target.value})}},{key:"onSelectVega",value:function(e){this.setState({exampleIsOpened:!1}),p.hashHistory.push("/examples/vega/"+e)}},{key:"onSelectNewVega",value:function(){p.hashHistory.push("/custom/vega")}},{key:"onSelectVegaLite",value:function(e){this.setState({exampleIsOpened:!1}),p.hashHistory.push("/examples/vega-lite/"+e)}},{key:"onSelectNewVegaLite",value:function(){p.hashHistory.push("/custom/vega-lite")}},{key:"onSelectVegaGist",value:function(e){this.setState({gistIsOpened:!1,url:""});var t=this.getGistNameAndId(e)[0],n=this.getGistNameAndId(e)[1];p.hashHistory.push("/gist/vega/"+t+"/"+n)}},{key:"onSelectVegaLiteGist",value:function(e){this.setState({gistIsOpened:!1,url:""});var t=this.getGistNameAndId(e)[0],n=this.getGistNameAndId(e)[1];p.hashHistory.push("/gist/vega-lite/"+t+"/"+n)}},{key:"getGistNameAndId",value:function(e){var t=e.substring(e.indexOf(".com/")+"./com".length),n=t.split("/");return n.length<2?void console.warn("invalid url"):n}},{key:"render",value:function(){var e=this,t=u.default.createElement("div",{className:"button",onClick:function(t){e.setState({exampleIsOpened:!0})}},"Examples"),n=u.default.createElement("div",{className:"button",onClick:function(t){e.setState({gistIsOpened:!0})}},"Gist"),r=u.default.createElement("a",{className:"button right",href:this.props.mode===d.MODES.Vega?"https://vega.github.io/vega/docs/":"https://vega.github.io/vega-lite/docs/",target:"_blank"},h(this.props.mode)," Docs"),i=u.default.createElement("div",{onMouseOver:function(t){var n=t.target.getBoundingClientRect();e.setState({customIsOpened:!0,left:n.left})}},"New"),a=u.default.createElement("div",{className:"vega"},Object.keys(d.SPECS.Vega).map(function(t,n){var r=d.SPECS.Vega[t];return u.default.createElement("div",{className:"itemGroup",key:n},u.default.createElement("div",{className:"specType"},t),u.default.createElement("div",{className:"items"},r.map(function(t,n){return u.default.createElement("div",{key:n,
onClick:function(){return e.onSelectVega(t.name)},className:"item"},u.default.createElement("div",{style:{backgroundImage:"url(images/examples/vg/"+t.name+".vg.png)"},className:"img"}),u.default.createElement("div",{className:"name"},h(t.name)))})))})),o=u.default.createElement("div",{className:"vega-Lite"},Object.keys(d.SPECS.VegaLite).map(function(t,n){var r=d.SPECS.VegaLite[t];return u.default.createElement("div",{className:"itemGroup",key:n},u.default.createElement("div",{className:"specType"},t),u.default.createElement("div",{className:"items"},r.map(function(t,n){return u.default.createElement("div",{key:n,onClick:function(){return e.onSelectVegaLite(t.name)},className:"item"},u.default.createElement("div",{style:{backgroundImage:"url(images/examples/vl/"+t.name+".vl.png)"},className:"img"}),u.default.createElement("div",{className:"name"},t.title))})))})),s=u.default.createElement("div",null,u.default.createElement("header",null,"Enter Gist URL: "),u.default.createElement("div",{className:"gist-content"},u.default.createElement("div",{className:"gist-text"},"For example"),u.default.createElement("div",{className:"gist-url"},"https://gist.github.com/mathisonian/542616c4af5606784e97e59e3c65b7e5"),u.default.createElement("input",{className:"gist-input",type:"text",placeholder:"enter gist url here",value:this.state.url,onChange:this.handleChange.bind(this)}),u.default.createElement("button",{className:"gist-button",onClick:this.onSelectVegaGist.bind(this,this.state.url)},"Vega"),u.default.createElement("button",{className:"gist-button",onClick:this.onSelectVegaLiteGist.bind(this,this.state.url)},"Vega-Lite")));return u.default.createElement("div",{className:"header"},u.default.createElement("a",{className:"idl-logo",href:"https://idl.cs.washington.edu/",target:"_blank"},u.default.createElement("img",{height:37,alt:"IDL Logo",src:"https://vega.github.io/images/idl-logo.png"})),t,n,r,i,u.default.createElement(f.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.customIsOpened,onClose:function(){e.setState({customIsOpened:!1})}},u.default.createElement("div",{className:"customSubmenuGroup",onMouseOver:function(){e.setState({customIsOpened:!0})},onMouseLeave:function(){e.setState({customIsOpened:!1})},onClick:function(){e.setState({customIsOpened:!1})},style:{left:this.state.left,width:this.state.width,position:"absolute",cursor:"pointer",zIndex:1e9,top:0}},u.default.createElement("div",{id:"emptyButton",style:{height:d.LAYOUT.HeaderHeight}}),u.default.createElement("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVega()}},"Vega"),u.default.createElement("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVegaLite()}},"Vega-Lite"))),u.default.createElement(f.default,{closeOnEsc:!0,isOpened:this.state.exampleIsOpened,onClose:function(){e.setState({exampleIsOpened:!1})}},u.default.createElement("div",{className:"modal-background"},u.default.createElement("div",{className:"modal-header"},u.default.createElement("div",{className:"button-groups"},u.default.createElement("button",{className:this.state.showVega?"selected":"",onClick:function(){e.setState({showVega:!0})}},"Vega"),u.default.createElement("button",{className:this.state.showVega?"":"selected",onClick:function(){e.setState({showVega:!1})}},"Vega-Lite")),u.default.createElement("button",{className:"close-button",onClick:function(){e.setState({exampleIsOpened:!1})}},"✖")),u.default.createElement("div",{className:"modal-area"},u.default.createElement("div",{className:"modal"},this.state.showVega?a:o)))),u.default.createElement(f.default,{closeOnEsc:!0,isOpened:this.state.gistIsOpened,onClose:function(){e.setState({gistIsOpened:!1})}},u.default.createElement("div",{className:"modal-background"},u.default.createElement("div",{className:"modal-header"},u.default.createElement("button",{className:"close-button",onClick:function(){e.setState({gistIsOpened:!1})}},"✖")),u.default.createElement("div",{className:"modal-area"},u.default.createElement("div",{className:"modal"},s)))))}}]),t}(u.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return{value:e.vegaSpec,compiledVegaSpec:e.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(16),f=i(c),d=n(36),p=n(238),h=i(p),m=n(42),g=r(m),y=n(191),v=i(y),b=n(302),_=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"sizeFixEditorParent full-height-wrapper"},f.default.createElement(v.default,null),f.default.createElement(h.default,{options:{readOnly:!0,folding:!0,scrollBeyondLastLine:!0,wordWrap:!0,automaticLayout:!0},language:"json",key:JSON.stringify(this.state),value:b.stringify(this.props.value,null,2,60)}))}}]),t}(f.default.Component),x=function(e){return{showCompiledVegaSpec:function(){e(g.showCompiledVegaSpec())}}};t.default=(0,d.connect)(l,x)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{mode:e.mode,compiledVegaSpec:e.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),c=r(u),f=n(342),d=r(f),p=n(340),h=r(p),m=n(191),g=r(m),y=n(158),v=r(y),b=n(61),_=n(36);n(370);var x=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"getInnerPanes",value:function(){var e=this.props.mode,t=[c.default.createElement(d.default,{key:"editor"})];return e===b.MODES.VegaLite&&(this.props.compiledVegaSpec?t.push(c.default.createElement(h.default,{key:"compiled"})):t.push(c.default.createElement(g.default,{key:"compiledSpecHeader"}))),t}},{key:"render",value:function(){var e=this.getInnerPanes(),t=void 0;return t=this.props.mode===b.MODES.VegaLite&&this.props.compiledVegaSpec?c.default.createElement(v.default,{split:"horizontal",defaultSize:(window.innerHeight-b.LAYOUT.HeaderHeight)/e.length,pane2Style:{display:"flex"}},e):c.default.createElement("div",{className:"full-height-wrapper"},e)}}]),t}(c.default.Component);t.default=(0,_.connect)(s)(x)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(36),o=n(343),s=i(o),l=n(42),u=r(l),c=function(e,t){return{value:e.editorString,mode:e.mode,selectedExample:e.selectedExample,gist:e.gist,autoParse:e.autoParse,parse:e.parse}},f=function(e){return{updateVegaSpec:function(t){e(u.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(u.updateVegaLiteSpec(t))},parseSpec:function(t){e(u.parseSpec(t))},updateEditorString:function(t){e(u.updateEditorString(t))}}};t.default=(0,a.connect)(c,f)(s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){var r=void 0;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(16),d=r(f),p=n(61),h=n(238),m=r(h),g=n(104),y=n(617),v=r(y);n(371);var b=n(210),_=n(211),x=(u={},s(u,p.MODES.Vega,{uri:"https://vega.github.io/schema/vega/v3.0.json",schema:b,fileMatch:["*"]}),s(u,p.MODES.VegaLite,{uri:"https://vega.github.io/schema/vega-lite/v2.json",schema:_,fileMatch:["*"]}),u),S=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"handleEditorChange",value:function(e){this.props.autoParse?this.updateSpec(e):this.props.updateEditorString(e),g.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&g.hashHistory.push("/edited")}},{key:"editorWillMount",value:function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[x[this.props.mode]]})}},{key:"componentWillReceiveProps",value:function(e){!e.autoParse&&e.parse&&(this.updateSpec(e.value),this.props.parseSpec(!1))}},{key:"manualParseSpec",value:function(){var e=this;return this.props.autoParse?null:d.default.createElement("div",{className:"editor-header"},d.default.createElement("button",{id:"parse-button",onClick:function(){return e.props.parseSpec(!0)}},"Parse"))}},{key:"updateSpec",value:function(e){var t=void 0,n=void 0;try{t=JSON.parse(e).$schema}catch(r){console.warn("Error parsing json string")}t&&(n=(0,v.default)(t).library),n===p.MODES.Vega||!n&&this.props.mode===p.MODES.Vega?this.props.updateVegaSpec(e):(n===p.MODES.VegaLite||!n&&this.props.mode===p.MODES.VegaLite)&&this.props.updateVegaLiteSpec(e)}},{key:"render",value:function(){return d.default.createElement("div",{className:"full-height-wrapper"},this.manualParseSpec(),d.default.createElement(m.default,{language:"json",key:JSON.stringify(Object.assign({},this.state,{mode:this.props.mode,selectedExample:this.props.selectedExample,gist:this.props.gist})),options:{folding:!0,scrollBeyondLastLine:!0,wordWrap:!0,wrappingIndent:"same",automaticLayout:!0,autoIndent:!0,cursorBlinking:"smooth",lineNumbersMinChars:4},defaultValue:this.props.value,onChange:l(this.handleEditorChange,700).bind(this),editorWillMount:this.editorWillMount.bind(this)}))}}]),t}(d.default.Component);S.propTypes={value:d.default.PropTypes.string,onChange:d.default.PropTypes.func},t.default=S},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{vegaSpec:e.vegaSpec,renderer:e.renderer,mode:e.mode,errorPane:e.errorPane,warningsLogger:e.warningsLogger,error:e.error,tooltip:e.tooltip}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),s=n(345),l=i(s),u=n(42),c=r(u),f=function(e){return{logError:function(t){e(c.logError(t))}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),c=i(u),f=n(18),d=i(f),p=n(126),h=r(p);n(365),n(372);var m=n(61),g=n(619),y=r(g),v=n(336),b=i(v),_=n(334),x=i(_),S=n(346),w=i(S),O=n(158),k=i(O),E=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"renderVega",value:function(e){this.refs.chart.style.width=this.refs.chart.getBoundingClientRect().width+"px";var t=void 0,n=void 0;try{t=h.parse(e.vegaSpec),n=new h.View(t).logLevel(h.Warn).initialize(this.refs.chart).renderer(e.renderer),e.mode===m.MODES.Vega&&n.hover(),n.run()}catch(r){throw this.props.logError(r.toString()),r}this.refs.chart.style.width="auto",this.props.tooltip&&y.vega(n),window.VEGA_DEBUG.view=n}},{key:"componentDidMount",value:function(){this.renderVega(this.props)}},{key:"componentDidUpdate",value:function(){this.renderVega(this.props)}},{key:"renderChart",value:function(){return c.default.createElement("div",{className:"chart-container"},c.default.createElement(b.default,null),c.default.createElement("div",{className:"chart"},c.default.createElement("div",{ref:"chart"}),this.props.tooltip?c.default.createElement("div",{id:"vis-tooltip",className:"vg-tooltip"}):null),c.default.createElement(w.default,null))}},{key:"render",value:function(){return this.props.errorPane?c.default.createElement(k.default,{split:"horizontal",defaultSize:.6*window.innerHeight,paneStyle:{display:"flex"}},this.renderChart(),c.default.createElement(x.default,null)):this.renderChart()}}]),t}(c.default.Component);E.propTypes={vegaSpec:d.default.object,renderer:d.default.string,mode:d.default.string},t.default=E},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{renderer:e.renderer,error:e.error,mode:e.mode,autoParse:e.autoParse,warningsLogger:e.warningsLogger,tooltip:e.tooltip}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),s=n(347),l=i(s),u=n(42),c=r(u),f=function(e){return{toggleAutoParse:function(){e(c.toggleAutoParse())},cycleRenderer:function(){e(c.cycleRenderer())},showErrorPane:function(){e(c.showErrorPane())},showTooltip:function(){e(c.showTooltip())}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),c=i(u);n(373);var f=n(126),d=r(f),p=n(169),h=r(p),m=function(e){return"vega"===e?d.version:h.version},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"showErrorAndWarnings",value:function(){var e=this;return this.props.error?c.default.createElement("div",{className:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},"Error"):this.props.warningsLogger.warns.length>0?c.default.createElement("div",{className:"warning-indicator",onClick:function(t){return e.props.showErrorPane()}},"Warning"):void 0}},{key:"render",value:function(){return c.default.createElement("div",{className:"toolbar"},this.showErrorAndWarnings(),c.default.createElement("div",{className:"status"},this.props.mode+" version "+m(this.props.mode)),c.default.createElement("div",{className:"autoParse",onClick:this.props.toggleAutoParse},this.props.autoParse?"Parse: auto":"Parse: manual"),c.default.createElement("div",{className:"tooltip-toggle",onClick:this.props.showTooltip},this.props.tooltip?"Tooltips":"No Tooltips"),c.default.createElement("div",{className:"renderer-toggle",onClick:this.props.cycleRenderer},"Renderer: "+this.props.renderer))}}]),t}(c.default.Component);g.propTypes={error:c.default.PropTypes.string,renderer:c.default.PropTypes.string,autoParse:c.default.PropTypes.bool,tooltip:c.default.PropTypes.bool},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(430),i=n(429);t.Vega=r,t.VegaLite=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var a=n(16),o=i(a),s=n(136),l=i(s),u=n(333),c=i(u),f=n(36),d=n(351),p=i(d),h=n(104),m=n(126),g=r(m),y=n(169),v=r(y);window.VEGA_DEBUG=window.VEGA_DEBUG||{},window.VEGA_DEBUG.VEGA_VERSION=g.version,window.VEGA_DEBUG.VEGA_LITE_VERSION=v.version;var b=(0,p.default)(h.hashHistory);l.default.render(o.default.createElement(f.Provider,{store:b},o.default.createElement(h.Router,{history:h.hashHistory},o.default.createElement(h.Route,{path:"/",component:c.default}),o.default.createElement(h.Route,{path:"/edited",component:c.default}),o.default.createElement(h.Route,{path:"/gist/:mode/:username/:id",component:c.default}),o.default.createElement(h.Route,{path:"/examples/:mode/:example_name",component:c.default}),o.default.createElement(h.Route,{path:"/custom/:mode",component:c.default}))),document.getElementById("root")),console.log("%cWelcome to the Vega-Editor!","font-size: 16px; font-weight: bold;"),console.log("You can access the Vega view with VEGA_DEBUG. Learn more at https://vega.github.io/vega/docs/api/debugging/.")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(169),a=r(i),o=n(42),s=n(61),l=n(352),u=n(194);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DEFAULT_STATE,t=arguments[1],n=void 0,r=void 0;switch(t.type){case o.SET_MODE:return Object.assign({},e,{mode:t.mode,vegaSpec:{},vegaLiteSpec:{},selectedExample:null,editorString:"{}",compiledVegaSpec:!1,gist:null,parse:!1,warningsLogger:new u.LocalLogger,tooltip:!0});case o.PARSE_SPEC:return Object.assign({},e,{parse:t.parse});case o.UPDATE_VEGA_SPEC:var i=new u.LocalLogger;try{n=JSON.parse(t.spec),(0,l.validateVega)(n,i)}catch(c){return console.warn("Error parsing json string"),Object.assign({},e,{error:c.message,editorString:t.spec,warningsLogger:i,selectedExample:null,mode:s.MODES.Vega})}return Object.assign({},e,{vegaSpec:n,mode:s.MODES.Vega,editorString:t.spec,error:null,warningsLogger:i,selectedExample:null});case o.SET_VEGA_EXAMPLE:return n=JSON.parse(t.spec),Object.assign({},e,{vegaSpec:n,mode:s.MODES.Vega,editorString:t.spec,selectedExample:t.example,error:null,warningsLogger:new u.LocalLogger});case o.SET_VEGA_LITE_EXAMPLE:return n=JSON.parse(t.spec),r=n,"{}"!==t.spec&&(r=a.compile(n).spec),Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:s.MODES.VegaLite,editorString:t.spec,selectedExample:t.example,error:null,warningsLogger:new u.LocalLogger});case o.UPDATE_VEGA_LITE_SPEC:var f=new u.LocalLogger;try{n=JSON.parse(t.spec),(0,l.validateVegaLite)(n,f),r=a.compile(n,f).spec}catch(c){return console.warn(c),Object.assign({},e,{mode:s.MODES.VegaLite,error:c.message,editorString:t.spec,warningsLogger:f,selectedExample:null})}return Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:s.MODES.VegaLite,editorString:t.spec,error:null,warningsLogger:f,selectedExample:null});case o.SET_GIST_VEGA_SPEC:var d=new u.LocalLogger;try{n=JSON.parse(t.spec),(0,l.validateVega)(n,d)}catch(c){return console.warn("Error parsing json string"),Object.assign({},e,{warningsLogger:d,error:c.message,editorString:t.spec})}return Object.assign({},e,{vegaSpec:n,mode:s.MODES.Vega,editorString:t.spec,gist:t.gist,error:null});case o.SET_GIST_VEGA_LITE_SPEC:var p=new u.LocalLogger;try{n=JSON.parse(t.spec),(0,l.validateVegaLite)(n,p),r=a.compile(n,p).spec}catch(c){return console.warn(c),Object.assign({},e,{warningsLogger:p,error:c.message,editorString:t.spec})}return Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:s.MODES.VegaLite,editorString:t.spec,gist:t.gist,error:null,warningsLogger:p});case o.TOGGLE_AUTO_PARSE:return Object.assign({},e,{autoParse:!e.autoParse,parse:!e.autoParse});case o.CYCLE_RENDERER:var h=Object.values(s.RENDERERS),m=h.indexOf(e.renderer),g=h[(m+1)%h.length];return Object.assign({},e,{renderer:g});case o.SHOW_COMPILED_VEGA_SPEC:return Object.assign({},e,{compiledVegaSpec:!e.compiledVegaSpec});case o.SHOW_ERROR_PANE:return Object.assign({},e,{errorPane:!e.errorPane});case o.LOG_ERROR:return Object.assign({},e,{error:t.error});case o.UPDATE_EDITOR_STRING:return Object.assign({},e,{editorString:t.editorString});case o.SHOW_TOOLTIP:return Object.assign({},e,{tooltip:!e.tooltip});default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.DEFAULT_STATE,n=(0,a.applyMiddleware)(l.default);n=(0,a.compose)(n,(0,a.applyMiddleware)((0,o.routerMiddleware)(e)));var r=(0,a.compose)(n,(0,p.default)()),i=(0,a.createStore)(c.default,t,r);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(260),o=n(528),s=n(568),l=r(s),u=n(350),c=r(u),f=n(193),d=n(565),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=c(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=c.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t.warn("Validation: "+l.dataPath+" "+l.message)}}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}function a(e,t){var n=u(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=u.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t.warn("Validation: "+l.dataPath+" "+l.message)}}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateVegaLite=i,t.validateVega=a;var o=n(304),s=r(o),l=new s.default({jsonPointers:!0,allErrors:!1});l.addMetaSchema(n(425));var u=l.compile(n(210)),c=l.compile(n(211))},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,a,o,s=e.length;a=n(e),o=new c(3*s/4-a),r=a>0?s-4:s;var l=0;for(t=0;t<r;t+=4)i=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===a&&(i=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function o(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",a=[],s=16383,u=0,c=n-r;u<c;u+=s)a.push(o(e,u,u+s>c?c:u+s));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)l[d]=f[d],u[f.charCodeAt(d)]=d;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){!function(t,r,i){"undefined"!=typeof e&&e.exports?e.exports=i():n(662)(r,i)}(this,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}function r(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var i,a=t(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(e),l=!s&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),c=!u&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),h=/tizen/i.test(e),m=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),v=!a&&!d&&/macintosh/i.test(e),b=!l&&!p&&!h&&!m&&/linux/i.test(e),_=t(/edge\/(\d+(\.\d+)?)/i),x=t(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(e)&&!/tablet pc/i.test(e),w=!S&&/[^-]mobi/i.test(e),O=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:o,version:x||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?i={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:o,version:x||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:o,version:x||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:o,version:x||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",windowsphone:o},_?(i.msedge=o,i.version=_):(i.msie=o,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:o,version:_}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||x}:p?i={name:"Sailfish",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=o)):d?i={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:o,version:x||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(i={name:"WebOS",webos:o,version:x||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=o)):/bada/i.test(e)?i={name:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?i={name:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?i={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:l?i={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:o},x&&(i.version=x)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},x&&(i.version=x)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||x}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=o):(i.name=i.name||"Webkit",i.webkit=o),!i.version&&x&&(i.version=x)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=o,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!l&&!i.silk?i.windowsphone||i.msedge||!a?v?i.mac=o:O?i.xbox=o:y?i.windows=o:b&&(i.linux=o):(i[a]=o,i.ios=o):i.android=o;var k="";i.windows?k=r(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?k=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(k=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),k=k.replace(/[_\s]/g,".")):a?(k=t(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):l?k=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?k=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?k=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?k=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(k=t(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(i.osversion=k);var E=!i.windows&&k.split(".")[0];return S||c||"ipad"==a||l&&(3==E||E>=4&&!w)||i.silk?i.tablet=o:(w||"iphone"==a||"ipod"==a||l||u||i.blackberry||i.webos||i.bada)&&(i.mobile=o),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o,
i}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var l in t)if(t.hasOwnProperty(l)&&a[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return r([o,t[l]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s})},20,function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){}function n(e,n){var r=new t;if(e instanceof t)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var i,a=-1,o=e.length;if(null==n)for(;++a<o;)r.set(a,e[a]);else for(;++a<o;)r.set(n(i=e[a],a,e),i)}else if(e)for(var s in e)r.set(s,e[s]);return r}function r(){return{}}function i(e,t,n){e[t]=n}function a(){return n()}function o(e,t,n){e.set(t,n)}function s(){}function l(e,t){var n=new s;if(e instanceof s)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}var u="$";t.prototype=n.prototype={constructor:t,has:function(e){return u+e in this},get:function(e){return this[u+e]},set:function(e,t){return this[u+e]=t,this},remove:function(e){var t=u+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===u&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===u&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===u&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===u&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===u&&++e;return e},empty:function(){for(var e in this)if(e[0]===u)return!1;return!0},each:function(e){for(var t in this)t[0]===u&&e(this[t],t.slice(1),this)}};var c=function(){function e(t,r,i,a){if(r>=c.length)return null!=s&&t.sort(s),null!=l?l(t):t;for(var o,u,f,d=-1,p=t.length,h=c[r++],m=n(),g=i();++d<p;)(f=m.get(o=h(u=t[d])+""))?f.push(u):m.set(o,[u]);return m.each(function(t,n){a(g,n,e(t,r,i,a))}),g}function t(e,n){if(++n>c.length)return e;var r,i=f[n-1];return null!=l&&n>=c.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=i?r.sort(function(e,t){return i(e.key,t.key)}):r}var s,l,u,c=[],f=[];return u={object:function(t){return e(t,0,r,i)},map:function(t){return e(t,0,a,o)},entries:function(n){return t(e(n,0,a,o),0)},key:function(e){return c.push(e),u},sortKeys:function(e){return f[c.length-1]=e,u},sortValues:function(e){return s=e,u},rollup:function(e){return l=e,u}}},f=n.prototype;s.prototype=l.prototype={constructor:s,has:f.has,add:function(e){return e+="",this[u+e]=e,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var d=function(e){var t=[];for(var n in e)t.push(n);return t},p=function(e){var t=[];for(var n in e)t.push(e[n]);return t},h=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.nest=c,e.set=l,e.map=n,e.keys=d,e.values=p,e.entries=h,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){for(var e,t=0,r=arguments.length,i={};t<r;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new n(i)}function n(e){this._=e}function r(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function i(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=o,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var o={value:function(){}};n.prototype=t.prototype={constructor:n,on:function(e,t){var n,o=this._,s=r(e+"",o),l=-1,u=s.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(n=(e=s[l]).type)o[n]=a(o[n],e.name,t);else if(null==t)for(n in o)o[n]=a(o[n],e.name,null);return this}for(;++l<u;)if((n=(e=s[l]).type)&&(n=i(o[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new n(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},e.dispatch=t,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function n(e,n){var r=t(e);return function(t,i){return n(r(t),i,e)}}function r(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var i=function(e){function i(e,r){var i,o,s=a(e,function(e,a){return i?i(e,a-1):(o=e,void(i=r?n(e,r):t(e)))});return s.columns=o,s}function a(e,t){function n(){if(u>=l)return o;if(i)return i=!1,a;var t,n=u;if(34===e.charCodeAt(n)){for(var r=n;r++<l;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;++r}return u=r+2,t=e.charCodeAt(r+1),13===t?(i=!0,10===e.charCodeAt(r+2)&&++u):10===t&&(i=!0),e.slice(n+1,r).replace(/""/g,'"')}for(;u<l;){var s=1;if(t=e.charCodeAt(u++),10===t)i=!0;else if(13===t)i=!0,10===e.charCodeAt(u)&&(++u,++s);else if(t!==f)continue;return e.slice(n,u-s)}return e.slice(n)}for(var r,i,a={},o={},s=[],l=e.length,u=0,c=0;(r=n())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,c++))||s.push(d)}return s}function o(t,n){return null==n&&(n=r(t)),[n.map(u).join(e)].concat(t.map(function(t){return n.map(function(e){return u(t[e])}).join(e)})).join("\n")}function s(e){return e.map(l).join("\n")}function l(t){return t.map(u).join(e)}function u(e){return null==e?"":c.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var c=new RegExp('["'+e+"\n\r]"),f=e.charCodeAt(0);return{parse:i,parseRows:a,format:o,formatRows:s}},a=i(","),o=a.parse,s=a.parseRows,l=a.format,u=a.formatRows,c=i("\t"),f=c.parse,d=c.parseRows,p=c.format,h=c.formatRows;e.dsvFormat=i,e.csvParse=o,e.csvParseRows=s,e.csvFormat=l,e.csvFormatRows=u,e.tsvParse=f,e.tsvParseRows=d,e.tsvFormat=p,e.tsvFormatRows=h,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new n(e)}function n(e){if(!(t=p.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):d[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=u,this.type=c}function r(t){return h=y(t),e.format=h.format,e.formatPrefix=h.formatPrefix,h}var i,a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},o=function(e){return e=a(Math.abs(e)),e?e[1]:NaN},s=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}},l=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},u=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},c=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+a(e,Math.max(0,t+s-1))[0]},f=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},d={"":u,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return f(100*e,t)},r:f,s:c,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;t.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,m=function(e){return e},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=function(e){function n(e){function n(e){var t,n,l,u=_,d=x;if("c"===b)d=S(e)+d,e="";else{e=+e;var p=e<0;if(e=S(Math.abs(e),v),p&&0===+e&&(p=!1),u=(p?"("===s?s:"-":"-"===s||"("===s?"":s)+u,d=d+("s"===b?g[8+i/3]:"")+(p&&"("===s?")":""),w)for(t=-1,n=e.length;++t<n;)if(l=e.charCodeAt(t),48>l||l>57){d=(46===l?c+e.slice(t+1):e.slice(t))+d,e=e.slice(0,t);break}}y&&!h&&(e=a(e,1/0));var O=u.length+e.length+d.length,k=O<m?new Array(m-O+1).join(r):"";switch(y&&h&&(e=a(k+e,k.length?m-d.length:1/0),k=""),o){case"<":e=u+e+d+k;break;case"=":e=u+k+e+d;break;case"^":e=k.slice(0,O=k.length>>1)+u+e+d+k.slice(O);break;default:e=k+u+e+d}return f(e)}e=t(e);var r=e.fill,o=e.align,s=e.sign,l=e.symbol,h=e.zero,m=e.width,y=e.comma,v=e.precision,b=e.type,_="$"===l?u[0]:"#"===l&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===l?u[1]:/[%p]/.test(b)?p:"",S=d[b],w=!b||/[defgprs%]/.test(b);return v=null==v?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return e+""},n}function r(e,r){var i=n((e=t(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(o(r)/3))),s=Math.pow(10,-a),l=g[8+a/3];return function(e){return i(s*e)+l}}var a=e.grouping&&e.thousands?s(e.grouping,e.thousands):m,u=e.currency,c=e.decimal,f=e.numerals?l(e.numerals):m,p=e.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(e){return Math.max(0,-o(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(t)/3)))-o(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,o(t)-o(e))+1};e.formatDefaultLocale=r,e.formatLocale=y,e.formatSpecifier=t,e.precisionFixed=v,e.precisionPrefix=b,e.precisionRound=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(356),n(357),n(358))}(this,function(e,t,n,r){"use strict";function i(e){return function(t,n){e(null==t?n:null)}}function a(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){return function(n){return e(n.responseText,t)}}var s=function(e,r){function o(e){var t,n=p.status;if(!n&&a(p)||n>=200&&n<300||304===n){if(u)try{t=u.call(s,p)}catch(r){return void f.call("error",s,r)}else t=p;f.call("load",s,t)}else f.call("error",s,e)}var s,l,u,c,f=n.dispatch("beforesend","progress","load","error"),d=t.map(),p=new XMLHttpRequest,h=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=o:p.onreadystatechange=function(e){p.readyState>3&&o(e)},p.onprogress=function(e){f.call("progress",s,e)},s={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?d.get(e):(null==t?d.remove(e):d.set(e,t+""),s)},mimeType:function(e){return arguments.length?(l=null==e?null:e+"",s):l},responseType:function(e){return arguments.length?(c=e,s):c},timeout:function(e){return arguments.length?(g=+e,s):g},user:function(e){return arguments.length<1?h:(h=null==e?null:e+"",s)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",s)},response:function(e){return u=e,s},get:function(e,t){return s.send("GET",e,t)},post:function(e,t){return s.send("POST",e,t)},send:function(t,n,r){return p.open(t,e,!0,h,m),null==l||d.has("accept")||d.set("accept",l+",*/*"),p.setRequestHeader&&d.each(function(e,t){p.setRequestHeader(t,e)}),null!=l&&p.overrideMimeType&&p.overrideMimeType(l),null!=c&&(p.responseType=c),g>0&&(p.timeout=g),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&s.on("error",r).on("load",function(e){r(null,e)}),f.call("beforesend",s,p),p.send(null==n?null:n),s},abort:function(){return p.abort(),s},on:function(){var e=f.on.apply(f,arguments);return e===f?s:e}},null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return s.get(r)}return s},l=function(e,t){return function(n,r){var i=s(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=l("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),c=l("application/json",function(e){return JSON.parse(e.responseText)}),f=l("text/plain",function(e){return e.responseText}),d=l("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),p=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=s(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(o(t,r=e)):r},a.row(r),i?a.get(i):a}},h=p("text/csv",r.csvParse),m=p("text/tab-separated-values",r.tsvParse);e.request=s,e.html=u,e.json=c,e.text=f,e.xml=d,e.csv=h,e.tsv=m,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(200))}(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date((+n)));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=re[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function a(e,t){return function(n){var a=i(1900),s=o(a,e,n+="",0);if(s!=n.length)return null;if("p"in a&&(a.H=a.H%12+12*a.p),"W"in a||"U"in a){"w"in a||(a.w="W"in a?1:0);var l="Z"in a?r(i(a.y)).getUTCDay():t(i(a.y)).getDay();a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(l+5)%7:a.w+7*a.U-(l+6)%7}return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,r(a)):t(a)}}function o(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=Le[i in re?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=ke.exec(t.slice(n));return r?(e.p=Ee[r[0].toLowerCase()],n+r[0].length):-1}function Z(e,t,n){var r=Pe.exec(t.slice(n));return r?(e.w=Ce[r[0].toLowerCase()],n+r[0].length):-1}function ee(e,t,n){var r=Me.exec(t.slice(n));return r?(e.w=Te[r[0].toLowerCase()],n+r[0].length):-1}function te(e,t,n){var r=Ne.exec(t.slice(n));return r?(e.m=Re[r[0].toLowerCase()],n+r[0].length):-1}function ne(e,t,n){var r=De.exec(t.slice(n));return r?(e.m=Ae[r[0].toLowerCase()],n+r[0].length):-1}function ie(e,t,n){return o(e,ye,t,n)}function ae(e,t,n){return o(e,ve,t,n)}function oe(e,t,n){return o(e,be,t,n)}function se(e){return Se[e.getDay()]}function le(e){return xe[e.getDay()]}function ue(e){return Oe[e.getMonth()]}function ce(e){return we[e.getMonth()]}function fe(e){return _e[+(e.getHours()>=12)]}function de(e){return Se[e.getUTCDay()]}function pe(e){return xe[e.getUTCDay()]}function he(e){return Oe[e.getUTCMonth()]}function me(e){return we[e.getUTCMonth()]}function ge(e){return _e[+(e.getUTCHours()>=12)]}var ye=e.dateTime,ve=e.date,be=e.time,_e=e.periods,xe=e.days,Se=e.shortDays,we=e.months,Oe=e.shortMonths,ke=l(_e),Ee=u(_e),Me=l(xe),Te=u(xe),Pe=l(Se),Ce=u(Se),De=l(we),Ae=u(we),Ne=l(Oe),Re=u(Oe),Ie={a:se,A:le,b:ue,B:ce,c:null,d:O,e:O,H:k,I:E,j:M,L:T,m:P,M:C,p:fe,S:D,U:A,w:N,W:R,x:null,X:null,y:I,Y:F,Z:L,"%":J},Fe={a:de,A:pe,b:he,B:me,c:null,d:j,e:j,H:z,I:$,j:U,L:B,m:q,M:W,p:ge,S:V,U:H,w:G,W:Y,x:null,X:null,y:X,Y:K,Z:Q,"%":J},Le={a:Z,A:ee,b:te,B:ne,c:ie,d:y,e:y,H:b,I:b,j:v,L:S,m:g,M:_,p:s,S:x,U:f,w:c,W:d,x:ae,X:oe,y:h,Y:p,Z:m,"%":w};return Ie.x=t(ve,Ie),Ie.X=t(be,Ie),Ie.c=t(ye,Ie),Fe.x=t(ve,Fe),Fe.X=t(be,Fe),Fe.c=t(ye,Fe),{format:function(e){var n=t(e+="",Ie);return n.toString=function(){return e},n},parse:function(e){var t=a(e+="",n);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Fe);return n.toString=function(){return e},n},utcParse:function(e){var t=a(e,r);return t.toString=function(){return e},t}}}function o(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function s(e){return e.replace(oe,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(s).join("|")+")","i")}function u(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function c(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function f(e,t,n){var r=ie.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ie.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ie.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function y(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function b(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function w(e,t,n){var r=ae.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function O(e,t){return o(e.getDate(),t,2)}function k(e,t){return o(e.getHours(),t,2)}function E(e,t){return o(e.getHours()%12||12,t,2)}function M(e,n){return o(1+t.timeDay.count(t.timeYear(e),e),n,3)}function T(e,t){return o(e.getMilliseconds(),t,3)}function P(e,t){return o(e.getMonth()+1,t,2)}function C(e,t){return o(e.getMinutes(),t,2)}function D(e,t){return o(e.getSeconds(),t,2)}function A(e,n){return o(t.timeSunday.count(t.timeYear(e),e),n,2)}function N(e){return e.getDay()}function R(e,n){return o(t.timeMonday.count(t.timeYear(e),e),n,2)}function I(e,t){return o(e.getFullYear()%100,t,2)}function F(e,t){return o(e.getFullYear()%1e4,t,4)}function L(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+o(t/60|0,"0",2)+o(t%60,"0",2)}function j(e,t){return o(e.getUTCDate(),t,2)}function z(e,t){return o(e.getUTCHours(),t,2)}function $(e,t){return o(e.getUTCHours()%12||12,t,2)}function U(e,n){return o(1+t.utcDay.count(t.utcYear(e),e),n,3)}function B(e,t){return o(e.getUTCMilliseconds(),t,3)}function q(e,t){return o(e.getUTCMonth()+1,t,2)}function W(e,t){return o(e.getUTCMinutes(),t,2)}function V(e,t){return o(e.getUTCSeconds(),t,2)}function H(e,n){return o(t.utcSunday.count(t.utcYear(e),e),n,2)}function G(e){return e.getUTCDay()}function Y(e,n){return o(t.utcMonday.count(t.utcYear(e),e),n,2)}function X(e,t){return o(e.getUTCFullYear()%100,t,2)}function K(e,t){return o(e.getUTCFullYear()%1e4,t,4)}function Q(){return"+0000"}function J(){return"%"}function Z(t){return ne=a(t),e.timeFormat=ne.format,e.timeParse=ne.parse,e.utcFormat=ne.utcFormat,e.utcParse=ne.utcParse,ne}function ee(e){return e.toISOString()}function te(e){var t=new Date(e);return isNaN(t)?null:t}var ne,re={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,ae=/^%/,oe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Z({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var se="%Y-%m-%dT%H:%M:%S.%LZ",le=Date.prototype.toISOString?ee:e.utcFormat(se),ue=+new Date("2000-01-01T00:00:00.000Z")?te:e.utcParse(se);e.timeFormatDefaultLocale=Z,e.timeFormatLocale=a,e.isoFormat=le,e.isoParse=ue,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function a(e,t,n){var a,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=o.call(e),t=o.call(t),u(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var f=s(e),d=s(t)}catch(p){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),a=f.length-1;a>=0;a--)if(f[a]!=d[a])return!1;for(a=f.length-1;a>=0;a--)if(c=f[a],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var o=Array.prototype.slice,s=n(364),l=n(363),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:a(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){},365,365,365,365,365,365,365,365,function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(a,"ms-"))}var i=n(374),a=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(384);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),"function"==typeof e.callee?o(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function a(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var o=n(4);e.exports=a},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=u;u?void 0:l(!1);var i=r(e),a=i&&s(i);if(a){n.innerHTML=a[1]+e+a[2];for(var c=a[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t?void 0:l(!1),o(f).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=n(26),o=n(377),s=n(379),l=n(4),u=a.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return o?void 0:a(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?d[e]:null}var i=n(26),a=n(4),o=i.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){d[e]=f,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(a,"-ms-")}var i=n(381),a=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(383);e.exports=r},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,i=!1,a=!1,o=!1,s=void 0,l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i=!0,a?void(s=t):void n.apply(void 0,t)},u=function u(){if(!i&&(o=!0,!a)){for(a=!0;!i&&r<e&&o;)o=!1,t(r++,u,l);return a=!1,i?void n.apply(void 0,s):void(r>=e&&o&&(i=!0,n()))}};u()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var i=n(129);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return i.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return i.go}});var a=n(53),o=(r(a),n(62)),s=n(98),l=n(204),u=n(50),c="hashchange",f=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},d=function(e){return window.location.hash=e},p=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},h=t.getCurrentLocation=function(e,t){var n=e.decodePath(f()),r=(0,u.getQueryStringValueFromPath)(n,t),i=void 0;r&&(n=(0,u.stripQueryStringValueFromPath)(n,t),i=(0,l.readState)(r));var a=(0,u.parsePath)(n);return a.state=i,(0,o.createLocation)(a,void 0,r)},m=void 0,g=(t.startListener=function(e,t,n){var r=function(){var r=f(),i=t.encodePath(r);if(r!==i)p(i);else{var a=h(t,n);if(m&&a.key&&m.key===a.key)return;m=a,e(a)}},i=f(),a=t.encodePath(i);return i!==a&&p(a),(0,s.addEventListener)(window,c,r),function(){return(0,s.removeEventListener)(window,c,r)}},function(e,t,n,r){var i=e.state,a=e.key,o=t.encodePath((0,u.createPath)(e));void 0!==i&&(o=(0,u.addQueryStringValueToPath)(o,n,a),(0,l.saveState)(a,i)),m=e,r(o)});t.pushLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&d(e)})},t.replaceLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&p(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(129);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(62),a=n(50);t.getCurrentLocation=function(){return(0,i.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,a.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,a.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(24),s=i(o),l=n(130),u=n(129),c=r(u),f=n(388),d=r(f),p=n(98),h=n(131),m=i(h),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.canUseDOM?void 0:(0,s.default)(!1);var t=e.forceRefresh||!(0,p.supportsHistory)(),n=t?d:c,r=n.getUserConfirmation,i=n.getCurrentLocation,o=n.pushLocation,u=n.replaceLocation,f=n.go,h=(0,m.default)(a({getUserConfirmation:r},e,{getCurrentLocation:i,pushLocation:o,replaceLocation:u,go:f})),g=0,y=void 0,v=function(e,t){1===++g&&(y=c.startListener(h.transitionTo));var n=t?h.listenBefore(e):h.listen(e);return function(){n(),0===--g&&y()}},b=function(e){return v(e,!0)},_=function(e){return v(e,!1)};return a({},h,{listenBefore:b,listen:_})};t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(53),s=(i(o),n(24)),l=i(s),u=n(130),c=n(98),f=n(387),d=r(f),p=n(131),h=i(p),m="_k",g=function(e){return"/"===e.charAt(0)?e:"/"+e},y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:g},slash:{encodePath:g,decodePath:g}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM?void 0:(0,l.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t=m),null==n&&(n="slash"),n in y||(n="slash");var r=y[n],i=d.getUserConfirmation,o=function(){return d.getCurrentLocation(r,t)},s=function(e){return d.pushLocation(e,r,t)},f=function(e){return d.replaceLocation(e,r,t)},p=(0,h.default)(a({getUserConfirmation:i
},e,{getCurrentLocation:o,pushLocation:s,replaceLocation:f,go:d.go})),g=0,v=void 0,b=function(e,n){1===++g&&(v=d.startListener(p.transitionTo,r,t));var i=n?p.listenBefore(e):p.listen(e);return function(){i(),0===--g&&v()}},_=function(e){return b(e,!0)},x=function(e){return b(e,!1)},S=((0,c.supportsGoWithoutReloadUsingHash)(),function(e){p.go(e)}),w=function(e){return"#"+r.encodePath(p.createHref(e))};return a({},p,{listenBefore:_,listen:x,go:S,createHref:w})};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(53),o=(r(a),n(24)),s=r(o),l=n(62),u=n(50),c=n(131),f=r(c),d=n(97),p=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[g],t=(0,u.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var a=(0,u.parsePath)(t);return(0,l.createLocation)(i({},a,{state:r}),void 0,n)},n=function(e){var t=g+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){g+=e;var r=t();c.transitionTo(i({},r,{action:d.POP}))}},a=function(e){g+=1,g<m.length&&m.splice(g),m.push(e),v(e.key,e.state)},o=function(e){m[g]=e,v(e.key,e.state)},c=(0,f.default)(i({},e,{getCurrentLocation:t,pushLocation:a,replaceLocation:o,go:r})),h=e,m=h.entries,g=h.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,l.createLocation)(e)}),null==g?g=m.length-1:g>=0&&g<m.length?void 0:(0,s.default)(!1);var y=p(m),v=function(e,t){return y[e]=t},b=function(e){return y[e]};return i({},c,{canGo:n})};t.default=h},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var o=Object.getOwnPropertyNames(t);i&&(o=o.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s)if(!(n[o[s]]||r[o[s]]||a&&a[o[s]]))try{e[o[s]]=t[o[s]]}catch(l){}}return e}},function(e,t){"use strict";function n(e){return e in a?a[e]:a[e]=e.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}var r=/[A-Z]/g,i=/^ms-/,a={};e.exports=n},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,r),a-=u}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+p]=255&o,p+=h,o/=256,u-=8);e[n+p-h]|=128*m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.prefixMap,n=e.plugins,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,l.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,c.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(a){this._requiresPrefix={};for(var o in a)a[o]>=this._browserInfo.browserVersion&&(this._requiresPrefix[o]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return o(e,[{key:"prefix",value:function(e){return this._useFallback?r(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,g.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,o=r.length;a<o;++a){var s=(0,v.default)(n,t,r[a],e,this._metaData);(0,h.default)(i,s||r[a])}i.length>0&&(e[t]=i)}else{var l=(0,v.default)(n,t,r,e,this._metaData);l&&(e[t]=l),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,d.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return r(e)}}]),e}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=a;var s=n(420),l=r(s),u=n(421),c=r(u),f=n(134),d=r(f),p=n(207),h=r(p),m=n(208),g=r(m),y=n(209),v=r(y);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:62,userSelect:53,textEmphasisPosition:62,textEmphasis:62,textEmphasisStyle:62,textEmphasisColor:62,boxDecorationBreak:62,clipPath:54,maskImage:62,maskMode:62,maskRepeat:62,maskPosition:62,maskClip:62,maskOrigin:62,maskSize:62,maskComposite:62,mask:62,maskBorderSource:62,maskBorderMode:62,maskBorderSlice:62,maskBorderWidth:62,maskBorderOutset:62,maskBorderRepeat:62,maskBorder:62,maskType:62,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:56,userSelect:56,textAlignLast:48,tabSize:56,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:47,userSelect:40,fontKerning:19,textEmphasisPosition:47,textEmphasis:47,textEmphasisStyle:47,textEmphasisColor:47,boxDecorationBreak:47,clipPath:41,maskImage:47,maskMode:47,maskRepeat:47,maskPosition:47,maskClip:47,maskOrigin:47,maskSize:47,maskComposite:47,mask:47,maskBorderSource:47,maskBorderMode:47,maskBorderSlice:47,maskBorderWidth:47,maskBorderOutset:47,maskBorderRepeat:47,maskBorder:47,maskType:47,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:16,gridTemplateRows:16,gridTemplateAreas:16,gridTemplate:16,gridAutoColumns:16,gridAutoRows:16,gridAutoFlow:16,grid:16,gridRowStart:16,gridColumnStart:16,gridRowEnd:16,gridRow:16,gridColumn:16,gridColumnEnd:16,gridColumnGap:16,gridRowGap:16,gridArea:16,gridGap:16},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:56,breakBefore:56,breakInside:56,columnCount:56,columnFill:56,columnGap:56,columnRule:56,columnRuleColor:56,columnRuleStyle:56,columnRuleWidth:56,columns:56,columnSpan:56,columnWidth:56},and_chr:{appearance:59,textEmphasisPosition:59,textEmphasis:59,textEmphasisStyle:59,textEmphasisColor:59,boxDecorationBreak:59,maskImage:59,maskMode:59,maskRepeat:59,maskPosition:59,maskClip:59,maskOrigin:59,maskSize:59,maskComposite:59,mask:59,maskBorderSource:59,maskBorderMode:59,maskBorderSlice:59,maskBorderWidth:59,maskBorderOutset:59,maskBorderRepeat:59,maskBorder:59,maskType:59},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4},op_mini:{}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&a<10))return(0,o.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;return"cursor"!==e||!s[t]||"firefox"!==i&&"chrome"!==i&&"safari"!==i&&"opera"!==i?"cursor"===e&&l[t]&&("firefox"===i&&a<24||"chrome"===i&&a<37||"safari"===i&&a<9||"opera"===i&&a<24)?(0,o.default)(u+t,t,c):void 0:(0,o.default)(u+t,t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a),s={grab:!0,grabbing:!0},l={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&a<9.1))return(0,o.default)(t.replace(/filter\(/g,s+"filter("),t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("display"===e&&s[t]&&("chrome"===i&&a<29&&a>20||("safari"===i||"ios_saf"===i)&&a<9&&a>6||"opera"===i&&(15===a||16===a)))return(0,o.default)(l+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a),s={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,f=r.keepUnprefixed,d=r.requiresPrefix;if((c.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&a<22||"chrome"===i&&a<21||("safari"===i||"ios_saf"===i)&&a<=6.1||"android"===i&&a<4.4||"and_uc"===i)){if(delete d[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&s.hasOwnProperty(t))return(0,o.default)(u+s[t],t,f);l.hasOwnProperty(e)&&(n[l[e]]=s[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a),s={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},l={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},u=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],c=Object.keys(l).concat(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof t&&s.test(t)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return(0,o.default)(l+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a),s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,o.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,o.default)(a+t,t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed;if(s.hasOwnProperty(e)&&l.hasOwnProperty(t))return(0,o.default)(i+t,t,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(44),o=r(a),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed,u=r.requiresPrefix;if("string"==typeof t&&s.hasOwnProperty(e)){l||(l=Object.keys(u).map(function(e){return(0,o.default)(e)}));var c=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return l.forEach(function(e){c.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(c[n]=t.replace(e,i+e)+(a?","+t:""))})}),c.join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(198),o=r(a),s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l=void 0;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){for(var i in e){var a=e[i];if((0,d.default)(a))e[i]=t(a);else if(Array.isArray(a)){for(var s=[],u=0,f=a.length;u<f;++u){var p=(0,l.default)(r,i,a[u],e,n);(0,c.default)(s,p||a[u])}s.length>0&&(e[i]=s)}else{var h=(0,l.default)(r,i,a,e,n);h&&(e[i]=h),(0,o.default)(n,i,e)}}return e}var n=e.prefixMap,r=e.plugins;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(422),o=r(a),s=n(209),l=r(s),u=n(207),c=r(u),f=n(208),d=r(f);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(407),a=r(i),o=n(419),s=r(o),l=n(410),u=r(l),c=n(409),f=r(c),d=n(411),p=r(d),h=n(412),m=r(h),g=n(413),y=r(g),v=n(414),b=r(v),_=n(415),x=r(_),S=n(416),w=r(S),O=n(417),k=r(O),E=n(418),M=r(E),T=[f.default,u.default,p.default,y.default,b.default,x.default,w.default,k.default,M.default,m.default];t.default=(0,a.default)({prefixMap:s.default.prefixMap,plugins:T}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return s.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(78),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return s.map(function(e){return t.replace(/filter\(/g,e+"filter(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(78),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&l.test(t))return s.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(78),o=r(a),s=["-webkit-","-moz-",""],l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return s.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(78),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if((0,u.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var a=n[r],o=[a];for(var l in t){var c=(0,s.default)(l);if(a.indexOf(c)>-1&&"order"!==c)for(var f=t[l],d=0,h=f.length;d<h;++d)o.unshift(a.replace(c,p[f[d]]+c))}n[r]=o.join(",")}return n.join(",")}function a(e,t,n,r){if("string"==typeof t&&d.hasOwnProperty(e)){var a=i(t,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return o;var s=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?s:(n["Webkit"+(0,f.default)(e)]=o,n["Moz"+(0,f.default)(e)]=s,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(198),s=r(o),l=n(78),u=r(l),c=n(134),f=r(c),d={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],a=["Webkit","Moz"],o=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in u)if(e.hasOwnProperty(t))return u[t]}function a(e){var t=s.default._detect(e);t.yandexbrowser&&(t=s.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in l)if(t.hasOwnProperty(n)){var r=l[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}return t.browserName=i(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10),t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr"),"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(354),s=r(o),l={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},u={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var r="keyframes";return"chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e?n+r:r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,a=r.length;i<a;++i)n[r[i]+(0,o.default)(t)]=n[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(134),o=r(a);e.exports=t.default},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},
multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.0.0-beta.19",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/index.js",types:"typings/vega-lite.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/test-gallery",build:"npm run build:only","build:only":"npm run tsc && cp package.json build && browserify src/index.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"node node_modules/uglify-js/bin/uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run data && npm run build:only && npm run build:examples-only","build:examples-only":"TZ=America/Los_Angeles ./scripts/build-examples.sh && rm -f examples/specs/normalized/*.vl.json && scripts/build-normalized-examples","build:example":"./scripts/build-example.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts)' -delete",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"typescript-to-json-schema --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run build && npm run data && npm run build:site && npm run build:toc && npm run build:versions",site:"bundle exec jekyll serve",lint:"tslint --project tsconfig.json -c tslint.json --type-check",test:"npm run build:only && npm run test:only && npm run test:runtime && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run test:runtime && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:runtime":"TZ=America/Los_Angeles wdio wdio.conf.js","test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/index.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.0.2","@types/d3":"^4.10.0","@types/highlight.js":"^9.1.9","@types/json-stable-stringify":"^1.0.31","@types/mkdirp":"^0.5.0","@types/mocha":"^2.2.41","@types/node":"^8.0.19","@types/webdriverio":"^4.8.4",ajv:"5.2.2","browser-sync":"^2.18.13",browserify:"^14.4.0","browserify-shim":"^3.8.14",chai:"^4.1.0",cheerio:"^1.0.0-rc.2",chromedriver:"^2.30.1",codecov:"^2.3.0",d3:"^4.10.0",exorcist:"^0.4.0","highlight.js":"^9.12.0",mkdirp:"^0.5.1",mocha:"^3.5.0",nodemon:"^1.11.0",nyc:"^11.1.0","source-map-support":"^0.4.15","ts-node":"^3.2.1",tsify:"^3.0.1",tslint:"5.4.3","tslint-eslint-rules":"^4.1.1",typescript:"^2.4.2","typescript-to-json-schema":"vega/typescript-to-json-schema#v0.8.0","uglify-js":"^3.0.27",vega:"^3.0.0","vega-datasets":"vega/vega-datasets#gh-pages","vega-embed":"^3.0.0-beta.20","vega-tooltip":"^0.4.2",watchify:"^3.9.0","wdio-chromedriver-service":"^0.1.0","wdio-dot-reporter":"0.0.8","wdio-mocha-framework":"^0.5.10","wdio-static-server-service":"^1.0.1",webdriverio:"^4.8.0","yaml-front-matter":"^3.4.0"},dependencies:{"json-stable-stringify":"^1.0.1",tslib:"^1.7.1","vega-event-selector":"^2.0.0","vega-util":"^1.5.0",yargs:"^8.0.2"}}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.0.0-beta.10",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/index.js",types:"typings/vega-lite.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/examples/images build/test-gallery",build:"npm run build:only","build:only":"npm run tsc && cp package.json build && browserify src/index.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"node node_modules/uglify-js/bin/uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run build:only && npm run build:examples-only","build:examples-only":"./scripts/build-examples.sh && rm -rf examples/specs/normalized/* && scripts/build-normalized-examples","build:images":"npm run data && scripts/generate-images.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts|vg.json)' -delete & rm -rf data",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"typescript-to-json-schema --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run build && npm run data && npm run build:site && npm run build:toc && npm run build:versions",site:"bundle exec jekyll serve",lint:"tslint --project tsconfig.json -c tslint.json --type-check",test:"npm run tsc && npm run test:only && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/index.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.0.1","@types/d3":"^4.9.0","@types/highlight.js":"^9.1.9","@types/json-stable-stringify":"^1.0.31","@types/mocha":"^2.2.41","@types/node":"^8.0.11",ajv:"5.2.2","browser-sync":"^2.18.12",browserify:"^14.4.0","browserify-shim":"^3.8.14",chai:"^4.1.0",cheerio:"^1.0.0-rc.2",codecov:"^2.2.0",d3:"^4.9.1",exorcist:"^0.4.0","highlight.js":"^9.12.0",mocha:"^3.4.2",nodemon:"^1.11.0",nyc:"^11.0.3","source-map-support":"^0.4.15",tsify:"^3.0.1",tslint:"5.4.3","tslint-eslint-rules":"^4.1.1",typescript:"^2.4.1","typescript-to-json-schema":"vega/typescript-to-json-schema#v0.7.0","uglify-js":"^3.0.24",vega:"^3.0.0-rc2","vega-datasets":"vega/vega-datasets#gh-pages","vega-embed":"^3.0.0-beta.19","vega-tooltip":"^0.4.2",watchify:"^3.9.0","yaml-front-matter":"^3.4.0"},dependencies:{"json-stable-stringify":"^1.0.1",tslib:"^1.7.1","vega-event-selector":"^2.0.0","vega-util":"^1.4.1",yargs:"^8.0.2"}}},function(e,t){e.exports={Basic:[{name:"bar",title:"Simple Bar Chart"},{name:"bar_aggregate",title:"Aggregate Bar Chart"},{name:"histogram",title:"Histogram"},{name:"bar_grouped",title:"Grouped Bar Chart"},{name:"scatter",title:"Scatterplot"},{name:"circle",title:"Scatterplot with Filled Circles"},{name:"scatter_binned",title:"Binned Scatterplot",galleryParameters:{backgroundSize:"110%"}},{name:"scatter_colored_with_shape",title:"Colored Scatterplot",galleryParameters:{backgroundSize:"110%"}},{name:"scatter_bubble",title:"Bubble Plot"},{name:"bubble_health_income",title:"Gapminder Bubble Plot",galleryParameters:{backgroundSize:"160%"}},{name:"tick_strip",title:"Strip Plot",galleryParameters:{backgroundSize:"contain"}},{name:"line",title:"Line Chart"},{name:"line_color",title:"Multi Series Line Chart"},{name:"line_slope",title:"Slope Graph"},{name:"scatter_connected",title:"Connected Scatterplot"},{name:"area",title:"Area Chart"},{name:"rect_heatmap",title:"Table Heatmap",galleryParameters:{backgroundSize:"110%"}},{name:"rect_binned_heatmap",title:"Binned heatmap"},{name:"github_punchcard",title:"Github punch card visualization"}],Stack:[{name:"stacked_bar_weather",title:"Stacked Bar Chart"},{name:"stacked_bar_h",title:"Horizontal Stacked Bar Chart",galleryParameters:{backgroundSize:"120%"}},{name:"stacked_bar_normalize",title:"Normalized Stacked Bar Chart"},{name:"stacked_area",title:"Stacked Area Chart"},{name:"stacked_area_normalize",title:"Normalized Stacked Area Chart"},{name:"stacked_area_stream",title:"Streamgraph"},{name:"bar_layered_transparent",title:"Layered Bar Chart",galleryParameters:{backgroundSize:"110%"}}],Statistical:[{name:"errorbar_aggregate",title:"Error Bars",galleryParameters:{backgroundSize:"150%"}},{name:"errorbar_horizontal_aggregate",title:"Horizontal Error Bars"}],Trellis:[{name:"trellis_anscombe",title:"Anscombe's Quartet",galleryParameters:{backgroundSize:"130%"}},{name:"trellis_bar",title:"Trellis Bar Chart"},{name:"trellis_stacked_bar",title:"Trellis Stacked Bar Chart",galleryParameters:{backgroundSize:"150%"}},{name:"trellis_scatter",title:"Trellis Scatter Plot"},{name:"trellis_bar_histogram",title:"Trellis Histograms"},{name:"trellis_barley",title:"Becker's Barley Trellis Plot"}],Layering:[{name:"layer_precipitation_mean",title:"Mean overlay over precipitation chart"},{name:"layer_text_heatmap",title:"Layering text over heatmap"},{name:"layer_candlestick",title:"Candlestick Chart"}],Composition:[{name:"repeat_layer",title:"Repeat and layer to show different weather measures"}],Interactive:[{name:"brush",title:"Rectangular Brush"},{name:"paintbrush",title:"Paintbrush Highlight"},{name:"selection_translate_scatterplot_drag",title:"Scatterplot Pan & Zoom"},{name:"query_widgets",title:"Query Widgets"},{name:"overview_detail",title:"Overview and Detail"},{name:"layered_crossfilter",title:"Crossfilter"},{name:"interactive_splom",title:"Scatterplot Matrix"}]}},function(e,t){e.exports={"Bar Charts":[{name:"bar-chart"},{name:"stacked-bar-chart"},{name:"grouped-bar-chart"},{name:"nested-bar-chart"},{name:"population-pyramid"}],"Line & Area Charts":[{name:"line-chart"},{name:"area-chart"},{name:"stacked-area-chart"},{name:"horizon-graph"},{name:"job-voyager"}],"Circular Charts":[{name:"pie-chart"},{name:"donut-chart"},{name:"radial-plot"}],"Dot & Scatter Plots":[{name:"scatter-plot"},{name:"scatter-plot-null-values"},{name:"connected-scatter-plot"},{name:"error-bars"},{name:"barley-trellis-plot"}],Distributions:[{name:"histogram"},{name:"histogram-null-values"},{name:"probability-density"},{name:"box-plot"},{name:"violin-plot"},{name:"top-k-plot"},{name:"top-k-plot-with-others"},{name:"binned-scatter-plot"},{name:"contour-plot"},{name:"wheat-plot"}],"Geographic Maps":[{name:"county-unemployment"},{name:"dorling-cartogram"},{name:"world-map"},{name:"zoomable-world-map"},{name:"distortion-comparison"}],"Tree Diagrams":[{name:"tree-layout"},{name:"radial-tree-layout"},{name:"treemap",title:"Treemap"},{name:"circle-packing",title:"Circle-Packing"},{name:"sunburst",title:"Sunburst"}],"Network Diagrams":[{name:"edge-bundling"},{name:"force-directed-layout"},{name:"reorderable-matrix"},{name:"arc-diagram"},{name:"airport-connections"}],"Other Chart Types":[{name:"heatmap"},{name:"parallel-coordinates"},{name:"word-cloud"},{name:"timelines"},{name:"beeswarm-plot"}],"Custom Visual Designs":[{name:"budget-forecasts"},{name:"wheat-and-wages"},{name:"falkensee-population"},{name:"annual-temperature"},{name:"weekly-temperature"}],"Interaction Techniques":[{name:"crossfilter-flights"},{name:"overview-plus-detail"},{name:"brushing-scatter-plots"},{name:"zoomable-scatter-plot"},{name:"global-development"},{name:"interactive-legend"},{name:"stock-index-chart"}]}},function(e,t){"use strict";function n(e,t,a,o,s,l,u,c,f){if(a&&"object"==typeof a&&!Array.isArray(a)){t(a,o,s,l,u,c,f);for(var d in a){var p=a[d];if(Array.isArray(p)){if(d in i.arrayKeywords)for(var h=0;h<p.length;h++)n(e,t,p[h],o+"/"+d+"/"+h,s,o,d,a,h)}else if(d in i.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,t,p[m],o+"/"+d+"/"+r(m),s,o,d,a,m)}else(d in i.keywords||e.allKeys&&!(d in i.skipKeywords))&&n(e,t,p,o+"/"+d,s,o,d,a)}}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var i=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,r,e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){t.parse=n(433),t.stringify=n(434)},function(e,t){var n,r,i,a,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},l=function(e){return e&&e!==r&&s("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},u=function(){var e,t="";for("-"===r&&(t="-",l("-"));r>="0"&&r<="9";)t+=r,l();if("."===r)for(t+=".";l()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,l(),"-"!==r&&"+"!==r||(t+=r,l());r>="0"&&r<="9";)t+=r,l();return e=+t,isFinite(e)?e:void s("Bad number")},c=function(){var e,t,n,i="";if('"'===r)for(;l();){if('"'===r)return l(),i;if("\\"===r)if(l(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;i+=o[r]}else i+=r}s("Bad string")},f=function(){for(;r&&r<=" ";)l()},d=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}s("Unexpected '"+r+"'")},p=function(){var e=[];if("["===r){if(l("["),f(),"]"===r)return l("]"),e;for(;r;){if(e.push(a()),f(),"]"===r)return l("]"),e;l(","),f()}}s("Bad array")},h=function(){var e,t={};if("{"===r){if(l("{"),f(),"}"===r)return l("}"),t;for(;r;){if(e=c(),f(),l(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=a(),f(),"}"===r)return l("}"),t;l(","),f()}}s("Bad object")};a=function(){switch(f(),r){case"{":return h();case"[":return p();case'"':return c();case"-":return u();default:return r>="0"&&r<="9"?u():d()}},e.exports=function(e,t){var o;return i=e,n=0,r=" ",o=a(),f(),r&&s("Syntax error"),"function"==typeof t?function e(n,r){var i,a,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=e(o,i),void 0!==a?o[i]=a:delete o[i]);return t.call(n,r,o)}({"":o},""):o}},function(e,t){function n(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var s,l,u,c,f,d=i,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof o&&(p=o.call(t,e,p)),typeof p){case"string":return n(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(i+=a,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,s=0;s<c;s+=1)f[s]=r(s,p)||"null";return u=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+d+"]":"["+f.join(",")+"]",i=d,u}if(o&&"object"==typeof o)for(c=o.length,s=0;s<c;s+=1)l=o[s],"string"==typeof l&&(u=r(l,p),u&&f.push(n(l)+(i?": ":":")+u));else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(u=r(l,p),u&&f.push(n(l)+(i?": ":":")+u));return u=0===f.length?"{}":i?"{\n"+i+f.join(",\n"+i)+"\n"+d+"}":"{"+f.join(",")+"}",i=d,u}}var i,a,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,n){var s;if(i="",a="","number"==typeof n)for(s=0;s<n;s+=1)a+=" ";else"string"==typeof n&&(a=n);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}},function(e,t,n){function r(e){return null==e?void 0===e?l:s:u&&u in Object(e)?a(e):o(e)}var i=n(212),a=n(438),o=n(439),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(440),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(i){}var a=s.call(e);return r&&(t?e[l]=n:delete e[l]),a}var i=n(212),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,l=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(436),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,o,s=n(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var u in r)i.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var c=0;c<o.length;c++)a.call(r,o[c])&&(s[o[c]]=r[o[c]])}}return s}},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(214);e.exports=i;var a=r(!0),o=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return a;if(e===!1)return o;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(o,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(o,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(o,e)},n))}var l=s.then;if("function"==typeof l){var u=new i(l.bind(s));return void u.then(function(e){r(o,e)},n)}}t[o]=s,0===--a&&e(t)}if(0===t.length)return e([]);for(var a=t.length,o=0;o<t.length;o++)r(o,t[o])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){u=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||o(f[t].error,e.whitelist||l))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,a(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&r(),u=!0;var i=0,c=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),o(n,l)?100:2e3),logged:!1})}}function a(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function o(e,t){return t.some(function(t){return e instanceof t})}var s=n(214),l=[ReferenceError,TypeError,RangeError],u=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";var r=n(34),i=n(4),a=n(216);e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(34),i=n(4),a=n(9),o=n(216),s=n(446);e.exports=function(e,t){function n(e){var t=e&&(M&&e[M]||e[T]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function c(e){function n(n,r,a,s,l,c,f){if(s=s||P,c=c||a,f!==o)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[a]?n?new u(null===r[a]?"The "+l+" `"+c+"` is marked as required "+("in `"+s+"`, but its value is `null`."):"The "+l+" `"+c+"` is marked as required in "+("`"+s+"`, but its value is `undefined`.")):null:e(r,a,s,l,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(e){function t(t,n,r,i,a,o){var s=t[n],l=w(s);if(l!==e){var c=O(s);return new u("Invalid "+i+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function d(){return c(r.thatReturnsNull)}function p(e){function t(t,n,r,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var l=w(s);return new u("Invalid "+i+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var f=e(s,c,r,i,a+"["+c+"]",o);if(f instanceof Error)return f}return null}return c(t)}function h(){function t(t,n,r,i,a){var o=t[n];if(!e(o)){var s=w(o);return new u("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return c(t)}function m(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var o=e.name||P,s=E(t[n]);return new u("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+o+"`."))}return null}return c(t)}function g(e){function t(t,n,r,i,a){for(var o=t[n],s=0;s<e.length;s++)if(l(o,e[s]))return null;var c=JSON.stringify(e);return new u("Invalid "+i+" `"+a+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return Array.isArray(e)?c(t):r.thatReturnsNull}function y(e){function t(t,n,r,i,a){if("function"!=typeof e)return new u("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=w(s);if("object"!==l)return new u("Invalid "+i+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an object."));for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,a+"."+c,o);if(f instanceof Error)return f}return null}return c(t)}function v(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,n,r,i,a,o))return null}return new u("Invalid "+i+" `"+a+"` supplied to "+("`"+r+"`."))}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return a(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",k(i),n),r.thatReturnsNull}return c(t)}function b(){function e(e,t,n,r,i){return x(e[t])?null:new u("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function _(e){function t(t,n,r,i,a){var s=t[n],l=w(s);if("object"!==l)return new u("Invalid "+i+" `"+a+"` of type `"+l+"` "+("supplied to `"+r+"`, expected `object`."));for(var c in e){var f=e[c];if(f){var d=f(s,c,r,i,a+"."+c,o);
if(d)return d}}return null}return c(t)}function x(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(x);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!x(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!x(o[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function O(e){if("undefined"==typeof e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function E(e){return e.constructor&&e.constructor.name?e.constructor.name:P}var M="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",P="<<anonymous>>",C={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(),arrayOf:p,element:h(),instanceOf:m,node:b(),objectOf:y,oneOf:g,oneOfType:v,shape:_};return u.prototype=Error.prototype,C.checkPropTypes=s,C.PropTypes=C,C}},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(572),l=n(450);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),n(decodeURIComponent(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=l(n,t);var i=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return a(n,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0!==e&&o.push(i(n,e,o.length))}),o.join("&")}return a(n,t)+"="+a(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},20,function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,f,d,p,h=e[u].replace(o,"%20"),m=h.indexOf(r);m>=0?(c=h.substr(0,m),f=h.substr(m+1)):(c=h,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var a=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(451),t.encode=t.stringify=n(452)},function(e,t){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=n},function(e,t,n){"use strict";var r=n(17),i=n(202),a={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=a},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function a(e){switch(e){case"topCompositionStart":return E.compositionStart;case"topCompositionEnd":return E.compositionEnd;case"topCompositionUpdate":return E.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===b}function s(e,t){switch(e){case"topKeyUp":return v.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==b;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r){var i,u;if(_?i=a(e):T?s(e,n)&&(i=E.compositionEnd):o(e,n)&&(i=E.compositionStart),!i)return null;w&&(T||i!==E.compositionStart?i===E.compositionEnd&&T&&(u=T.getData()):T=m.getPooled(r));var c=g.getPooled(i,t,n,r);if(u)c.data=u;else{var f=l(n);null!==f&&(c.data=f)}return p.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case"topCompositionEnd":return l(t);case"topKeyPress":var n=t.which;return n!==O?null:(M=!0,k);case"topTextInput":var r=t.data;return r===k&&M?null:r;default:return null}}function f(e,t){if(T){if("topCompositionEnd"===e||!_&&s(e,t)){var n=T.getData();return m.release(T),T=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!i(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return w?null:t.data;default:return null}}function d(e,t,n,r){var i;if(i=S?c(e,n):f(e,n),!i)return null;var a=y.getPooled(E.beforeInput,t,n,r);return a.data=i,p.accumulateTwoPhaseDispatches(a),a}var p=n(80),h=n(26),m=n(462),g=n(499),y=n(502),v=[9,13,27,32],b=229,_=h.canUseDOM&&"CompositionEvent"in window,x=null;h.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var S=h.canUseDOM&&"TextEvent"in window&&!x&&!r(),w=h.canUseDOM&&(!_||x&&x>8&&x<=11),O=32,k=String.fromCharCode(O),E={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},M=!1,T=null,P={eventTypes:E,extractEvents:function(e,t,n,r){return[u(e,t,n,r),d(e,t,n,r)]}};e.exports=P},function(e,t,n){"use strict";var r=n(217),i=n(26),a=(n(35),n(375),n(508)),o=n(382),s=n(385),l=(n(9),s(function(e){return o(e)})),u=!1,c="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(d){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=e[r];null!=o&&(n+=l(r)+":",n+=a(r,o,t,i)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=0===o.indexOf("--"),l=a(o,t[o],n,s);if("float"!==o&&"cssFloat"!==o||(o=c),s)i.setProperty(o,l);else if(l)i[o]=l;else{var f=u&&r.shorthandPropertyExpansions[o];if(f)for(var d in f)i[d]="";else i[o]=""}}}};e.exports=p},function(e,t,n){"use strict";function r(e,t,n){var r=E.getPooled(D.change,e,t,n);return r.type="change",S.accumulateTwoPhaseDispatches(r),r}function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function a(e){var t=r(N,e,T(e));k.batchedUpdates(o,t)}function o(e){x.enqueueEvents(e),x.processEventQueue(!1)}function s(e,t){A=e,N=t,A.attachEvent("onchange",a)}function l(){A&&(A.detachEvent("onchange",a),A=null,N=null)}function u(e,t){var n=M.updateValueIfChanged(e),r=t.simulated===!0&&F._allowSimulatedPassThrough;if(n||r)return e}function c(e,t){if("topChange"===e)return t}function f(e,t,n){"topFocus"===e?(l(),s(t,n)):"topBlur"===e&&l()}function d(e,t){A=e,N=t,A.attachEvent("onpropertychange",h)}function p(){A&&(A.detachEvent("onpropertychange",h),A=null,N=null)}function h(e){"value"===e.propertyName&&u(N,e)&&a(e)}function m(e,t,n){"topFocus"===e?(p(),d(t,n)):"topBlur"===e&&p()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return u(N,n)}function y(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if("topClick"===e)return u(t,n)}function b(e,t,n){if("topInput"===e||"topChange"===e)return u(t,n)}function _(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var x=n(79),S=n(80),w=n(26),O=n(17),k=n(40),E=n(45),M=n(233),T=n(149),P=n(150),C=n(235),D={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},A=null,N=null,R=!1;w.canUseDOM&&(R=P("change")&&(!document.documentMode||document.documentMode>8));var I=!1;w.canUseDOM&&(I=P("input")&&(!("documentMode"in document)||document.documentMode>9));var F={eventTypes:D,_allowSimulatedPassThrough:!0,_isInputEventSupported:I,extractEvents:function(e,t,n,a){var o,s,l=t?O.getNodeFromInstance(t):window;if(i(l)?R?o=c:s=f:C(l)?I?o=b:(o=g,s=m):y(l)&&(o=v),o){var u=o(e,t,n);if(u){var d=r(u,n,a);return d}}s&&s(e,l,t),"topBlur"===e&&_(t,l)}};e.exports=F},function(e,t,n){"use strict";var r=n(10),i=n(64),a=n(26),o=n(378),s=n(34),l=(n(4),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(a.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=o(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=l},function(e,t){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=n},function(e,t,n){"use strict";var r=n(80),i=n(17),a=n(100),o={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:o,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(s.window===s)l=s;else{var u=s.ownerDocument;l=u?u.defaultView||u.parentWindow:window}var c,f;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;f=d?i.getClosestInstanceFromNode(d):null}else c=null,f=t;if(c===f)return null;var p=null==c?l:i.getNodeFromInstance(c),h=null==f?l:i.getNodeFromInstance(f),m=a.getPooled(o.mouseLeave,c,n,s);m.type="mouseleave",m.target=p,m.relatedTarget=h;var g=a.getPooled(o.mouseEnter,f,n,s);return g.type="mouseenter",g.target=h,g.relatedTarget=p,r.accumulateEnterLeaveDispatches(m,g,c,f),[m,g]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(20),a=n(54),o=n(232);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(65),i=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,o=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,as:0,async:a,autoComplete:0,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|a,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,coords:0,crossOrigin:0,data:0,dateTime:0,default:a,defer:a,dir:0,disabled:a,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|a,muted:i|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,playsInline:a,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,referrerPolicy:0,rel:0,required:a,reversed:a,role:0,rows:s,rowSpan:o,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:i|a,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:o,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||e.hasAttribute("value")===!1?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}};e.exports=u},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=a(t,!0))}var i=n(66),a=n(234),o=(n(141),n(151)),s=n(237);n(9);"undefined"!=typeof t&&t.env,1;var l={instantiateChildren:function(e,t,n,i){if(null==e)return null;var a={};return s(e,r,a),a},updateChildren:function(e,t,n,r,s,l,u,c,f){if(t||e){var d,p;for(d in t)if(t.hasOwnProperty(d)){p=e&&e[d];var h=p&&p._currentElement,m=t[d];if(null!=p&&o(h,m))i.receiveComponent(p,m,s,c),t[d]=p;else{p&&(r[d]=i.getHostNode(p),i.unmountComponent(p,!1));var g=a(m,!0);t[d]=g;var y=i.mountComponent(g,s,l,u,c,f);n.push(y)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(p=e[d],r[d]=i.getHostNode(p),i.unmountComponent(p,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};e.exports=l}).call(t,n(213))},function(e,t,n){"use strict";var r=n(137),i=n(472),a={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=a},function(e,t,n){"use strict";function r(e){}function i(e,t){}function a(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=n(10),l=n(20),u=n(69),c=n(143),f=n(46),d=n(144),p=n(81),h=(n(35),n(227)),m=n(66),g=n(96),y=(n(4),n(128)),v=n(151),b=(n(9),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var _=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,l){this._context=l,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var c,f=this._currentElement.props,d=this._processContext(l),h=this._currentElement.type,m=e.getUpdateQueue(),y=a(h),v=this._constructComponent(y,f,d,m);y||null!=v&&null!=v.render?o(h)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(c=v,i(h,c),null===v||v===!1||u.isValidElement(v)?void 0:s("105",h.displayName||h.name||"Component"),v=new r(h),this._compositeType=b.StatelessFunctional);v.props=f,v.context=d,v.refs=g,v.updater=m,this._instance=v,p.set(v,this);var x=v.state;void 0===x&&(v.state=x=null),"object"!=typeof x||Array.isArray(x)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var S;return S=v.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,n,e,l):this.performInitialMount(c,t,n,e,l),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),S},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var a,o=r.checkpoint();try{a=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(o),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),o=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(o),a=this.performInitialMount(e,t,n,r,i)}return a},performInitialMount:function(e,t,n,r,i){var a=this._instance,o=0;a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var l=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,r,t,n,this._processChildContext(i),o);return u},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in t)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return l({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var a=this._instance;null==a?s("136",this.getName()||"ReactCompositeComponent"):void 0;var o,l=!1;this._context===i?o=a.context:(o=this._processContext(i),l=!0);var u=t.props,c=n.props;t!==n&&(l=!0),l&&a.componentWillReceiveProps&&a.componentWillReceiveProps(c,o);var f=this._processPendingState(c,o),d=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?d=a.shouldComponentUpdate(c,f,o):this._compositeType===b.PureClass&&(d=!y(u,c)||!y(a.state,f))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,o,e,i)):(this._currentElement=n,this._context=i,a.props=c,a.state=f,a.context=o)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var a=l({},i?r[0]:n.state),o=i?1:0;o<r.length;o++){var s=r[o];l(a,"function"==typeof s?s.call(n,a,e,t):s)}return a},_performComponentUpdate:function(e,t,n,r,i,a){var o,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(o=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,u.props=t,u.state=n,u.context=r,this._updateRenderedComponent(i,a),c&&i.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,o,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),a=0;if(v(r,i))m.receiveComponent(n,i,e,this._processChildContext(t));else{var o=m.getHostNode(n);m.unmountComponent(n,!1);var s=h.getType(i);this._renderedNodeType=s;var l=this._instantiateReactComponent(i,s!==h.EMPTY);this._renderedComponent=l;var u=m.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),a);this._replaceNodeWithMarkup(o,u,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){f.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||u.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),i=n.refs===g?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=x},function(e,t,n){"use strict";var r=n(17),i=n(480),a=n(226),o=n(66),s=n(40),l=n(493),u=n(509),c=n(231),f=n(516);n(9);i.inject();var d={findDOMNode:u,render:a.render,unmountComponentAtNode:a.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:a,Reconciler:o});e.exports=d},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(K[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?g("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?g("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:g("61")),null!=t.style&&"object"!=typeof t.style?g("62",r(e)):void 0)}function a(e,t,n,r){if(!(r instanceof R)){var i=e._hostContainerInfo,a=i._node&&i._node.nodeType===H,s=a?i._node:i._ownerDocument;$(t,s),r.getReactMountReady().enqueue(o,{inst:e,registrationName:t,listener:n})}}function o(){var e=this;O.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;P.postMountWrapper(e)}function l(){var e=this;A.postMountWrapper(e)}function u(){var e=this;C.postMountWrapper(e)}function c(){F.track(this)}function f(){var e=this;e._rootNodeID?void 0:g("63");var t=z(e);switch(t?void 0:g("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(n,G[n],t));break;case"source":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t),E.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent("topReset","reset",t),E.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){D.postUpdateWrapper(this)}function p(e){Z.call(J,e)||(Q.test(e)?void 0:g("65",e),J[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;p(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var g=n(10),y=n(20),v=n(455),b=n(457),_=n(64),x=n(138),S=n(65),w=n(219),O=n(79),k=n(139),E=n(99),M=n(220),T=n(17),P=n(473),C=n(474),D=n(221),A=n(477),N=(n(35),n(486)),R=n(491),I=(n(34),n(102)),F=(n(4),n(150),n(128),n(233)),L=(n(152),n(9),M),j=O.deleteListener,z=T.getNodeFromInstance,$=E.listenTo,U=k.registrationNameModules,B={string:!0,number:!0},q="style",W="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H=11,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},K=y({menuitem:!0},Y),Q=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},Z={}.hasOwnProperty,ee=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=ee++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var a=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(f,this);break;case"input":P.mountWrapper(this,a,t),a=P.getHostProps(this,a),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(f,this);break;case"option":C.mountWrapper(this,a,t),a=C.getHostProps(this,a);break;case"select":D.mountWrapper(this,a,t),a=D.getHostProps(this,a),e.getReactMountReady().enqueue(f,this);break;case"textarea":A.mountWrapper(this,a,t),a=A.getHostProps(this,a),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(f,this)}i(this,a);var o,d;null!=t?(o=t._namespaceURI,d=t._tag):n._tag&&(o=n._namespaceURI,d=n._tag),(null==o||o===x.svg&&"foreignobject"===d)&&(o=x.html),o===x.html&&("svg"===this._tag?o=x.svg:"math"===this._tag&&(o=x.mathml)),this._namespaceURI=o;var p;if(e.useCreateElement){var h,m=n._ownerDocument;if(o===x.html)if("script"===this._tag){var g=m.createElement("div"),y=this._currentElement.type;g.innerHTML="<"+y+"></"+y+">",h=g.removeChild(g.firstChild)}else h=a.is?m.createElement(this._currentElement.type,a.is):m.createElement(this._currentElement.type);else h=m.createElementNS(o,this._currentElement.type);T.precacheNode(this,h),this._flags|=L.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(h),this._updateDOMProperties(null,a,e);var b=_(h);this._createInitialChildren(e,a,r,b),p=b}else{var S=this._createOpenTagMarkupAndPutListeners(e,a),O=this._createContentMarkup(e,a,r);p=!O&&Y[this._tag]?S+"/>":S+">"+O+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(u,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(U.hasOwnProperty(r))i&&a(this,r,i,e);else{r===q&&(i&&(i=this._previousStyleCopy=y({},t.style)),i=b.createMarkupForStyles(i,this));var o=null;null!=this._tag&&h(this._tag,t)?V.hasOwnProperty(r)||(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){
var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var a=B[typeof t.children]?t.children:null,o=null!=a?null:t.children;if(null!=a)r=I(a);else if(null!=o){var s=this.mountChildren(o,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&_.queueHTML(r,i.__html);else{var a=B[typeof t.children]?t.children:null,o=null!=a?null:t.children;if(null!=a)""!==a&&_.queueText(r,a);else if(null!=o)for(var s=this.mountChildren(o,e,n),l=0;l<s.length;l++)_.queueChild(r,s[l])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var a=t.props,o=this._currentElement.props;switch(this._tag){case"input":a=P.getHostProps(this,a),o=P.getHostProps(this,o);break;case"option":a=C.getHostProps(this,a),o=C.getHostProps(this,o);break;case"select":a=D.getHostProps(this,a),o=D.getHostProps(this,o);break;case"textarea":a=A.getHostProps(this,a),o=A.getHostProps(this,o)}switch(i(this,o),this._updateDOMProperties(a,o,e),this._updateDOMChildren(a,o,e,r),this._tag){case"input":P.updateWrapper(this);break;case"textarea":A.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,i,o;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(o=o||{},o[i]="");this._previousStyleCopy=null}else U.hasOwnProperty(r)?e[r]&&j(this,r):h(this._tag,e)?V.hasOwnProperty(r)||w.deleteValueForAttribute(z(this),r):(S.properties[r]||S.isCustomAttribute(r))&&w.deleteValueForProperty(z(this),r);for(r in t){var l=t[r],u=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&l!==u&&(null!=l||null!=u))if(r===q)if(l?l=this._previousStyleCopy=y({},l):this._previousStyleCopy=null,u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(o=o||{},o[i]=l[i])}else o=l;else if(U.hasOwnProperty(r))l?a(this,r,l,n):u&&j(this,r);else if(h(this._tag,t))V.hasOwnProperty(r)||w.setValueForAttribute(z(this),r,l);else if(S.properties[r]||S.isCustomAttribute(r)){var c=z(this);null!=l?w.setValueForProperty(c,r,l):w.deleteValueForProperty(c,r)}}o&&b.setValueForStyles(z(this),o,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,a=B[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=i?null:e.children,u=null!=a?null:t.children,c=null!=i||null!=o,f=null!=a||null!=s;null!=l&&null==u?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=a?i!==a&&this.updateTextContent(""+a):null!=s?o!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,r)},getHostNode:function(){return z(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":F.stopTracking(this);break;case"html":case"head":case"body":g("66",this._tag)}this.unmountChildren(e),T.uncacheNode(this),O.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return z(this)}},y(m.prototype,m.Mixin,N.Mixin),e.exports=m},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(152),9);e.exports=r},function(e,t,n){"use strict";var r=n(20),i=n(64),a=n(17),o=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(o.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++;this._domID=o,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return a.precacheNode(this,u),i(u)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return a.getNodeFromInstance(this)},unmountComponent:function(){a.uncacheNode(this)}}),e.exports=o},function(e,t){"use strict";var n={useCreateElement:!0,useFiber:!1};e.exports=n},function(e,t,n){"use strict";var r=n(137),i=n(17),a={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function i(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function a(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);f.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var l=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<l.length;d++){var p=l[d];if(p!==a&&p.form===a.form){var h=c.getInstanceFromNode(p);h?void 0:o("90"),f.asap(r,h)}}}return n}var o=n(10),s=n(20),l=n(219),u=n(142),c=n(17),f=n(40),d=(n(4),n(9),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t),i=s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:a.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&l.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=u.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var a=parseFloat(r.value,10)||0;(i!=a||i==a&&r.value!=i)&&(r.value=""+i)}else r.value!==""+i&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=d},function(e,t,n){"use strict";function r(e){var t="";return a.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:l||(l=!0))}),t}var i=n(20),a=n(69),o=n(17),s=n(221),l=(n(9),!1),u={mountWrapper:function(e,t,n){var i=null;if(null!=n){var a=n;"optgroup"===a._tag&&(a=a._hostParent),null!=a&&"select"===a._tag&&(i=s.getSelectValueContext(a))}var o=null;if(null!=i){var l;if(l=null!=t.value?t.value+"":r(t.children),o=!1,Array.isArray(i)){for(var u=0;u<i.length;u++)if(""+i[u]===l){o=!0;break}}else o=""+i===l}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var a=r(t.children);return a&&(n.children=a),n}};e.exports=u},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var a=i.text.length,o=a+r;return{start:a,end:o}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,a=t.focusNode,o=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(e),f.setEnd(s.startContainer,s.startOffset);var d=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),p=d?0:f.toString().length,h=p+c,m=document.createRange();m.setStart(n,i),m.setEnd(a,o);var g=m.collapsed;return{start:g?h:p,end:g?p:h}}function o(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),a=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>a){var o=a;a=i,i=o}var s=u(e,i),l=u(e,a);if(s&&l){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>a?(n.addRange(f),n.extend(l.node,l.offset)):(f.setEnd(l.node,l.offset),n.addRange(f))}}}var l=n(26),u=n(513),c=n(232),f=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:f?i:a,setOffsets:f?o:s};e.exports=d},function(e,t,n){"use strict";var r=n(10),i=n(20),a=n(137),o=n(64),s=n(17),l=n(102),u=(n(4),n(152),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(u.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,a=" react-text: "+i+" ",u=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,f=c.createComment(a),d=c.createComment(u),p=o(c.createDocumentFragment());return o.queueChild(p,o(f)),this._stringText&&o.queueChild(p,o(c.createTextNode(this._stringText))),o.queueChild(p,o(d)),s.precacheNode(this,f),this._closingComment=d,p}var h=l(this._stringText);return e.renderToStaticMarkup?h:"<!--"+a+"-->"+h+"<!--"+u+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();a.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=u},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return u.asap(r,this),n}var a=n(10),o=n(20),s=n(142),l=n(17),u=n(40),c=(n(4),n(9),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?a("91"):void 0;var n=o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var o=t.defaultValue,l=t.children;null!=l&&(null!=o?a("92"):void 0,Array.isArray(l)&&(l.length<=1?void 0:a("93"),l=l[0]),o=""+l),null==o&&(o=""),r=o}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=l.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:l("33"),"_hostNode"in t?void 0:l("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,a=t;a;a=a._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var o=n;o--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e?void 0:l("35"),"_hostNode"in t?void 0:l("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function a(e){return"_hostNode"in e?void 0:l("36"),e._hostParent}function o(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,a){for(var o=e&&t?r(e,t):null,s=[];e&&e!==o;)s.push(e),e=e._hostParent;for(var l=[];t&&t!==o;)l.push(t),t=t._hostParent;var u;for(u=0;u<s.length;u++)n(s[u],"bubbled",i);for(u=l.length;u-- >0;)n(l[u],"captured",a)}var l=n(10);n(4);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:a,traverseTwoPhase:o,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(20),a=n(40),o=n(101),s=n(34),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},u={initialize:s,close:a.flushBatchedUpdates.bind(a)},c=[u,l];i(r.prototype,o,{getTransactionWrappers:function(){return c}});var f=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,a){var o=d.isBatchingUpdates;return d.isBatchingUpdates=!0,o?e(t,n,r,i,a):f.perform(e,null,t,n,r,i,a)}};e.exports=d},function(e,t,n){"use strict";function r(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginUtils.injectComponentTree(d),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:l,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:a}),v.HostComponent.injectGenericComponentClass(f),v.HostComponent.injectTextComponentClass(m),v.DOMProperty.injectDOMPropertyConfig(i),v.DOMProperty.injectDOMPropertyConfig(u),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),v.Updates.injectReconcileTransaction(b),v.Updates.injectBatchingStrategy(g),v.Component.injectEnvironment(c))}var i=n(454),a=n(456),o=n(458),s=n(460),l=n(461),u=n(463),c=n(465),f=n(468),d=n(17),p=n(470),h=n(478),m=n(476),g=n(479),y=n(483),v=n(484),b=n(489),_=n(494),x=n(495),S=n(496),w=!1;e.exports={inject:r}},255,function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(79),a={handleTopLevel:function(e,t,n,a){var o=i.extractEvents(e,t,n,a);r(o)}};e.exports=a},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=f.getNodeFromInstance(e),n=t.parentNode;return f.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){var t=p(e.nativeEvent),n=f.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var a=0;a<e.ancestors.length;a++)n=e.ancestors[a],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,p(e.nativeEvent))}function o(e){var t=h(window);e(t)}var s=n(20),l=n(201),u=n(26),c=n(54),f=n(17),d=n(40),p=n(149),h=n(380);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?l.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?l.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(a,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(65),i=n(79),a=n(140),o=n(143),s=n(222),l=n(99),u=n(224),c=n(40),f={Component:o.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:a.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};e.exports=f},function(e,t,n){"use strict";var r=n(507),i=/\/?>/,a=/^<\!\-\-/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return a.test(e)?e:e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function a(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function o(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){f.processChildrenUpdates(e,t)}var c=n(10),f=n(143),d=(n(81),n(35),n(46),n(66)),p=n(464),h=(n(34),n(510)),m=(n(4),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,a){var o,s=0;return o=h(t,s),p.updateChildren(e,o,n,r,i,this,this._hostContainerInfo,a,s),o},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],a=0;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],l=0,u=d.mountComponent(s,t,this,this._hostContainerInfo,n,l);s._mountIndex=a++,i.push(u)}return i},updateTextContent:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];u(this,r)},updateMarkup:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[o(e)];u(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},a=[],o=this._reconcilerUpdateChildren(r,e,a,i,t,n);if(o||r){var s,c=null,f=0,p=0,h=0,m=null;for(s in o)if(o.hasOwnProperty(s)){var g=r&&r[s],y=o[s];g===y?(c=l(c,this.moveChild(g,m,f,p)),p=Math.max(g._mountIndex,p),g._mountIndex=f):(g&&(p=Math.max(g._mountIndex,p)),c=l(c,this._mountChildAtIndex(y,a[h],m,f,t,n)),h++),f++,m=d.getHostNode(y)}for(s in i)i.hasOwnProperty(s)&&(c=l(c,this._unmountChild(r[s],i[s])));c&&u(this,c),this._renderedChildren=o}},unmountChildren:function(e){var t=this._renderedChildren;p.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return a(e,t)},_mountChildAtIndex:function(e,t,n,r,i,a){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i=n(10),a=(n(4),{addComponentAsRefTo:function(e,t,n){r(n)?void 0:i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)?void 0:i("120");var a=n.getPublicInstance();a&&a.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=a},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.useCreateElement=e}var i=n(20),a=n(218),o=n(54),s=n(99),l=n(225),u=(n(35),n(101)),c=n(145),f={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[f,d,p],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,u,m),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=n(487),o={};o.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,a=null;return null!==t&&"object"==typeof t&&(i=t.ref,a=t._owner),n!==i||"string"==typeof i&&a!==r},o.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=o},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(20),a=n(54),o=n(101),s=(n(35),n(492)),l=[],u={enqueue:function(){}},c={getTransactionWrappers:function(){return l},getReactMountReady:function(){return u},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,o,c),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){}var a=n(145),o=(n(9),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&a.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?a.enqueueForceUpdate(e):i(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?a.enqueueReplaceState(e,t):i(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?a.enqueueSetState(e,t):i(e,"setState")},e}());e.exports=o},function(e,t){"use strict";e.exports="15.6.1"},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){i.Properties[e]=0,r[e]&&(i.DOMAttributeNames[e]=r[e])}),e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(v||null==m||m!==c())return null;var n=r(m);if(!y||!d(y,n)){y=n;var i=u.getPooled(h.select,g,e,t);return i.type="select",i.target=m,a.accumulateTwoPhaseDispatches(i),i}return null}var a=n(80),o=n(26),s=n(17),l=n(225),u=n(45),c=n(203),f=n(235),d=n(128),p=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,y=null,v=!1,b=!1,_={eventTypes:h,extractEvents:function(e,t,n,r){if(!b)return null;var a=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(f(a)||"true"===a.contentEditable)&&(m=a,g=t,y=null);break;case"topBlur":m=null,g=null,y=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,i(n,r);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(b=!0)}};e.exports=_},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var a=n(10),o=n(201),s=n(80),l=n(17),u=n(497),c=n(498),f=n(45),d=n(501),p=n(503),h=n(100),m=n(500),g=n(504),y=n(505),v=n(82),b=n(506),_=n(34),x=n(147),S=(n(4),{}),w={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};S[e]=i,w[r]=i});var O={},k={eventTypes:S,extractEvents:function(e,t,n,r){var i=w[e];if(!i)return null;var o;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":o=f;break;case"topKeyPress":if(0===x(n))return null;case"topKeyDown":case"topKeyUp":o=p;break;case"topBlur":case"topFocus":o=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":o=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":o=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":o=g;break;case"topAnimationEnd":case"topAnimationIteration":
case"topAnimationStart":o=u;break;case"topTransitionEnd":o=y;break;case"topScroll":o=v;break;case"topWheel":o=b;break;case"topCopy":case"topCut":case"topPaste":o=c}o?void 0:a("86",e);var l=o.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(l),l},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var a=r(e),s=l.getNodeFromInstance(e);O[a]||(O[a]=o.listen(s,"click",_))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);O[n].remove(),delete O[n]}}};e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a={data:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(100),a={dataTransfer:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(82),a={relatedTarget:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a={data:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(82),a=n(147),o=n(511),s=n(148),l={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,l),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(82),a=n(148),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(45),a={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(100),a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,a),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,a=e.length,o=a&-4;i<o;){for(var s=Math.min(i+4096,o);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<a;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var o=isNaN(t);if(r||o||0===t||a.hasOwnProperty(e)&&a[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(217),a=(n(9),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);return t?(t=s(t),t?a.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=n(10),a=(n(46),n(17)),o=n(81),s=n(231);n(4),n(9);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,a=void 0===i[n];a&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return a(e,r,n),n}var a=(n(141),n(237));n(9);"undefined"!=typeof t&&t.env,1,e.exports=i}).call(t,n(213))},function(e,t,n){"use strict";function r(e){if(e.key){var t=a[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=n(147),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),a=0,o=0;i;){if(3===i.nodeType){if(o=a+i.textContent.length,a<=t&&o>=t)return{node:i,offset:t-a};a=o}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!o[e])return e;var t=o[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var a=n(26),o={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},l={};a.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete o.animationend.animation,delete o.animationiteration.animation,delete o.animationstart.animation),"TransitionEvent"in window||delete o.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(102);e.exports=r},function(e,t,n){"use strict";var r=n(226);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=r(l),c=n(136),f=r(c),d=n(18),p=r(d),h={ESCAPE:27},m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={active:!1},e.handleWrapperClick=e.handleWrapperClick.bind(e),e.closePortal=e.closePortal.bind(e),e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e),e.handleKeydown=e.handleKeydown.bind(e),e.portal=null,e.node=null,e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.addEventListener("mouseup",this.handleOutsideMouseClick),document.addEventListener("touchstart",this.handleOutsideMouseClick)),this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.isOpened&&(e.isOpened&&(this.state.active?this.renderPortal(e):this.openPortal(e)),!e.isOpened&&this.state.active&&this.closePortal()),"undefined"==typeof e.isOpened&&this.state.active&&this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)),this.closePortal(!0)}},{key:"handleWrapperClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.active||this.openPortal()}},{key:"openPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:!0}),this.renderPortal(e),this.props.onOpen(this.node)}},{key:"closePortal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){e.node&&(f.default.unmountComponentAtNode(e.node),document.body.removeChild(e.node)),e.portal=null,e.node=null,t!==!0&&e.setState({active:!1})};this.state.active&&(this.props.beforeClose?this.props.beforeClose(this.node,n):n(),this.props.onClose())}},{key:"handleOutsideMouseClick",value:function(e){if(this.state.active){var t=(0,c.findDOMNode)(this.portal);t.contains(e.target)||e.button&&0!==e.button||(e.stopPropagation(),this.closePortal())}}},{key:"handleKeydown",value:function(e){e.keyCode===h.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function(e){this.node||(this.node=document.createElement("div"),document.body.appendChild(this.node));var t=e.children;"function"==typeof e.children.type&&(t=u.default.cloneElement(e.children,{closePortal:this.closePortal})),this.portal=f.default.unstable_renderSubtreeIntoContainer(this,t,this.node,this.props.onUpdate)}},{key:"render",value:function(){return this.props.openByClickOn?u.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick}):null}}]),t}(u.default.Component);t.default=m,m.propTypes={children:p.default.element.isRequired,openByClickOn:p.default.element,closeOnEsc:p.default.bool,closeOnOutsideClick:p.default.bool,isOpened:p.default.bool,onOpen:p.default.func,onClose:p.default.func,beforeClose:p.default.func,onUpdate:p.default.func},m.defaultProps={onOpen:function(){},onClose:function(){},onUpdate:function(){}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",s=function(e){function n(r,o){i(this,n);var s=a(this,e.call(this,r,o));return s[t]=r.store,s}return o(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return l.Children.only(this.props.children)},n}(l.Component);return s.propTypes={store:f.storeShape.isRequired,children:c.default.element.isRequired},s.childContextTypes=(e={},e[t]=f.storeShape.isRequired,e[r]=f.subscriptionShape,e),s}t.__esModule=!0,t.createProvider=s;var l=n(16),u=n(18),c=r(u),f=n(241),d=n(153);r(d);t.default=s()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(e,t){return e===t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?c.default:t,r=e.mapStateToPropsFactories,s=void 0===r?g.default:r,u=e.mapDispatchToPropsFactories,f=void 0===u?h.default:u,p=e.mergePropsFactories,m=void 0===p?v.default:p,y=e.selectorFactory,b=void 0===y?_.default:y;return function(e,t,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.pure,p=void 0===c||c,h=u.areStatesEqual,g=void 0===h?o:h,y=u.areOwnPropsEqual,v=void 0===y?d.default:y,_=u.areStatePropsEqual,x=void 0===_?d.default:_,S=u.areMergedPropsEqual,w=void 0===S?d.default:S,O=i(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=a(e,s,"mapStateToProps"),E=a(t,f,"mapDispatchToProps"),M=a(r,m,"mergeProps");return n(b,l({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:E,initMergeProps:M,pure:p,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:w},O))}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var u=n(239),c=r(u),f=n(526),d=r(f),p=n(520),h=r(p),m=n(521),g=r(m),y=n(522),v=r(y),b=n(523),_=r(b);t.default=s()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function a(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,o.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=a;var o=n(260),s=n(240);t.default=[r,i,a]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var a=n(240);t.default=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return l({},n,e,t)}function a(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,a=!1,o=void 0;return function(t,n,s){var l=e(t,n,s);return a?r&&i(l,o)||(o=l):(a=!0,o=l),o}}}function o(e){return"function"==typeof e?a(e):void 0}function s(e){return e?void 0:function(){return i}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=a,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=s;var u=n(242);r(u);t.default=[o,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function o(e,t,n,r,i){function a(i,a){return h=i,m=a,g=e(h,m),y=t(r,m),v=n(g,y,m),p=!0,v}function o(){return g=e(h,m),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function s(){return e.dependsOnOwnProps&&(g=e(h,m)),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function l(){var t=e(h,m),r=!d(t,g);return g=t,r&&(v=n(g,y,m)),v}function u(e,t){var n=!f(t,m),r=!c(e,h);return h=e,m=t,n&&r?o():n?s():r?l():v}var c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1,h=void 0,m=void 0,g=void 0,y=void 0,v=void 0;return function(e,t){return p?u(e,t):a(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,l=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,l),c=r(e,l),f=s(e,l),d=l.pure?o:a;return d(u,c,f,e,l)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=o,t.default=s;var l=n(524);r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function a(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t.default=a;var o=n(153),s=r(o)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,a={notify:function(){}},o=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}();t.default=o},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}t.__esModule=!0,t.default=r;var i=Object.prototype.hasOwnProperty},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.getOwnPropertySymbols,a=(Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable),o=Object.getPrototypeOf,s=o&&o(Object),l=Object.getOwnPropertyNames;e.exports=function e(t,u,c){if("string"!=typeof u){if(s){var f=o(u);f&&f!==s&&e(t,f,c)}var d=l(u);i&&(d=d.concat(i(u)));for(var p=0;p<d.length;++p){var h=d[p];if(!(n[h]||r[h]||c&&c[h])&&(a.call(u,h)||"function"==typeof u[h]))try{t[h]=u[h]}catch(m){}}return t}return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.routerMiddleware=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.routerReducer=t.LOCATION_CHANGE=t.syncHistoryWithStore=void 0;var i=n(244);Object.defineProperty(t,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(t,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var a=n(243);Object.defineProperty(t,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return a.CALL_HISTORY_METHOD}}),Object.defineProperty(t,"push",{enumerable:!0,get:function(){return a.push}}),Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return a.replace}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return a.go}}),Object.defineProperty(t,"goBack",{enumerable:!0,get:function(){return a.goBack}}),Object.defineProperty(t,"goForward",{enumerable:!0,get:function(){return a.goForward}}),Object.defineProperty(t,"routerActions",{enumerable:!0,get:function(){return a.routerActions}});var o=n(530),s=r(o),l=n(529),u=r(l);t.syncHistoryWithStore=s.default,t.routerMiddleware=u.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){return function(t){return function(n){if(n.type!==a.CALL_HISTORY_METHOD)return t(n);var i=n.payload,o=i.method,s=i.args;e[o].apply(e,r(s))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(243)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?o:r,l=n.adjustUrlOnReplay,u=void 0===l||l;if("undefined"==typeof s(t.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=function(e){var n=s(t.getState());return n.locationBeforeTransitions||(e?c:void 0)};if(c=m(),u){var g=function(){var t=m(!0);h!==t&&c!==t&&(f=!0,h=t,e.transitionTo(i({},t,{action:"PUSH"})),f=!1)};d=t.subscribe(g),g()}var y=function(e){f||(h=e,!c&&(c=e,m())||t.dispatch({type:a.LOCATION_CHANGE,payload:e}))};return p=e.listen(y),e.getCurrentLocation&&y(e.getCurrentLocation()),i({},e,{listen:function(n){var r=m(!0),i=!1,a=t.subscribe(function(){var e=m(!0);e!==r&&(r=e,i||n(r))});return e.getCurrentLocation||n(r),function(){i=!0,a()}},unsubscribe:function(){u&&d(),p()}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a=n(244),o=function(e){return e.routing}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(16),o=r(a),s=n(43),l=r(s),u=n(245),c=r(u),f=(0,l.default)({displayName:"IndexLink",render:function(){return o.default.createElement(c.default,i({},this.props,{onlyActiveOnIndex:!0}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(43),a=r(i),o=n(18),s=n(68),l=(r(s),n(24)),u=r(l),c=n(247),f=r(c),d=n(83),p=(0,a.default)({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=f.default.createRouteFromReactElement(e))}},propTypes:{to:o.string.isRequired,query:o.object,state:o.object,onEnter:d.falsy,children:d.falsy},render:function(){(0,u.default)(!1)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(43),a=r(i),o=n(18),s=n(68),l=(r(s),n(24)),u=r(l),c=n(51),f=n(83),d=(0,a.default)({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,c.createRouteFromReactElement)(e))}},propTypes:{path:f.falsy,component:f.component,components:f.components,getComponent:o.func,getComponents:o.func},render:function(){(0,u.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(43),a=r(i),o=n(18),s=n(24),l=r(s),u=n(51),c=n(83),f=(0,a.default)({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:o.string,component:c.component,components:c.components,getComponent:o.func,getComponents:o.func},render:function(){(0,l.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(24),s=r(o),l=n(16),u=r(l),c=n(43),f=r(c),d=n(18),p=n(251),h=r(p),m=n(83),g=n(157),y=r(g),v=n(51),b=n(248),_=n(68),x=(r(_),{history:d.object,children:m.routes,routes:m.routes,render:d.func,createElement:d.func,onError:d.func,onUpdate:d.func,matchContext:d.object}),S=(0,f.default)({displayName:"Router",propTypes:x,getDefaultProps:function(){return{render:function(e){return u.default.createElement(y.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,b.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,i=n.children;return t.getCurrentLocation?void 0:(0,s.default)(!1),(0,h.default)(t,(0,v.createRoutes)(r||i))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,b.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,s=t.components,l=this.props,u=l.createElement,e=l.render,c=i(l,["createElement","render"]);return null==n?null:(Object.keys(x).forEach(function(e){return delete c[e]}),e(a({},c,{router:this.router,location:n,routes:r,params:o,components:s,createElement:u})))}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e,t,n,r){var i=e.length<n,a=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(e.apply(t,r),i){var o=r[r.length-1];o()}};return r.add(a),a}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,u)),t},[])}function n(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,c)),t},[])}function r(e,t,n){function r(e){i=e}if(!e)return void n();var i=void 0;(0,a.loopAsync)(e,function(e,n,a){t(e,r,function(e){e||i?a(e,i):n()})},n)}function i(e,n,i){u.clear();var a=t(e);return r(a.length,function(e,t,r){var i=function(){u.has(a[e])&&(r.apply(void 0,arguments),u.remove(a[e]))};a[e](n,t,i)},i)}function s(e,t,i,a){c.clear();var o=n(e);return r(o.length,function(e,n,r){var a=function(){c.has(o[e])&&(r.apply(void 0,arguments),c.remove(o[e]))};o[e](t,i,n,a)},a)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var u=new o,c=new o;return{runEnterHooks:i,runChangeHooks:s,runLeaveHooks:l}}t.__esModule=!0,t.default=i;var a=n(154),o=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(16),o=r(a),s=n(157),l=r(s),u=n(68);r(u);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.createElement;return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},o.default.createElement(l.default,i({},e,{createElement:u(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(389),a=r(i),o=n(250),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,a.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,a=void 0,o=void 0,s=void 0;if(n){var l=!1;a=n.filter(function(n){if(l)return!0;var a=i.indexOf(n)===-1||r(n,e,t);return a&&(l=!0),a}),a.reverse(),s=[],o=[],i.forEach(function(e){var t=n.indexOf(e)===-1,r=a.indexOf(e)!==-1;t||r?s.push(e):o.push(e)})}else a=[],o=[],s=i;return{leaveRoutes:a,changeRoutes:o,enterRoutes:s}}t.__esModule=!0;var a=n(67);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var i=r.call(t,e,n);(0,o.isPromise)(i)&&i.then(function(e){return n(null,e)},n)}else n()}function i(e,t){(0,a.mapAsync)(e.routes,function(t,n,i){r(e,t,i)},t)}t.__esModule=!0;var a=n(154),o=n(246);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,i.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var i=n(67);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(390),a=r(i),o=n(250),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":l(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function a(e,t,n){for(var r=e,i=[],a=[],o=0,s=t.length;o<s;++o){var l=t[o],c=l.path||"";if("/"===c.charAt(0)&&(r=e,i=[],a=[]),null!==r&&c){var f=(0,u.matchPattern)(c,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),a=[].concat(a,f.paramValues)):r=null,""===r)return i.every(function(e,t){return String(a[t])===String(n[e])})}}return!1}function o(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var l=e.pathname,u=e.query;return null!=n&&("/"!==l.charAt(0)&&(l="/"+l),!!(i(l,n.pathname)||!t&&a(l,r,s))&&o(u,n.query))}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var u=n(67);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.history,r=e.routes,a=e.location,l=i(e,["history","routes","location"]);n||a?void 0:(0,
u.default)(!1),n=n?n:(0,f.default)(l);var c=(0,p.default)(n,(0,h.createRoutes)(r));a=a?n.createLocation(a):n.getCurrentLocation(),c.match(a,function(e,r,i){var a=void 0;if(i){var l=(0,m.createRouterObject)(n,c,i);a=o({},i,{router:l,matchContext:{transitionManager:c,router:l}})}t(e,r&&n.createLocation(r,s.REPLACE),a)})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(97),l=n(24),u=r(l),c=n(249),f=r(c),d=n(251),p=r(d),h=n(51),m=n(248);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var a=!0,o=void 0,l={location:t,params:s(n,r)},u=e.getChildRoutes(l,function(e,t){return t=!e&&(0,m.createRoutes)(t),a?void(o=[e,t]):void i(e,t)});return(0,d.isPromise)(u)&&u.then(function(e){return i(null,(0,m.createRoutes)(e))},i),a=!1,o}function a(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var l={location:t,params:s(n,r)},u=e.getIndexRoute(l,function(e,t){o(e,!e&&(0,m.createRoutes)(t)[0])});(0,d.isPromise)(u)&&u.then(function(e){return o(null,(0,m.createRoutes)(e)[0])},o)}else if(e.childRoutes||e.getChildRoutes){var c=function(e,i){if(e)return void o(e);var s=i.filter(function(e){return!e.path});(0,f.loopAsync)(s.length,function(e,i,o){a(s[e],t,n,r,function(t,n){if(t||n){var r=[s[e]].concat(Array.isArray(n)?n:[n]);o(t,r)}else i()})},function(e,t){o(null,t)})},p=i(e,t,n,r,c);p&&c.apply(void 0,p)}else o()}function o(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return o({},e,t)}function l(e,t,n,r,o,l){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,r=[],o=[]),null!==n&&c){try{var f=(0,p.matchPattern)(c,n);f?(n=f.remainingPathname,r=[].concat(r,f.paramNames),o=[].concat(o,f.paramValues)):n=null}catch(d){l(d)}if(""===n){var h={routes:[e],params:s(r,o)};return void a(e,t,r,o,function(e,t){if(e)l(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);l(null,h)}})}}if(null!=n||e.childRoutes){var m=function(i,a){i?l(i):a?u(a,t,function(t,n){t?l(t):n?(n.routes.unshift(e),l(null,n)):l()},n,r,o):l()},g=i(e,t,r,o,m);g&&m.apply(void 0,g)}else l()}function u(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,f.loopAsync)(e.length,function(n,o,s){l(e[n],t,r,i,a,function(e,t){e||t?s(e,t):o()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var f=n(154),d=n(246),p=n(67),h=n(68),m=(r(h),n(51));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function a(e,t){var n=t&&t.withRef,r=(0,d.default)({displayName:"WithRouter",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:g.routerShape},propTypes:{router:g.routerShape},getWrappedInstance:function(){return n?void 0:(0,l.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return c.default.createElement(e,this.props);var i=r.params,a=r.location,s=r.routes,l=o({},this.props,{router:r,params:i,location:a,routes:s});return n&&(l.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,l)}});return r.displayName="withRouter("+i(e)+")",r.WrappedComponent=e,(0,h.default)(r,e)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(24),l=r(s),u=n(16),c=r(u),f=n(43),d=r(f),p=n(392),h=r(p),m=n(155),g=n(156);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(16),c=r(u),f=n(18),d=r(f),p=n(133),h=r(p),m=n(159),g=r(m),y="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",v="undefined"!=typeof navigator?navigator.userAgent:y,b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:n.props.size},n}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.prefixer,i=e.split,a=e.style,o=this.state.size,l=["Pane",i,n],u=s({},a||{},{flex:1,position:"relative",outline:"none"});return void 0!==o&&("vertical"===i?u.width=o:(u.height=o,u.display="flex"),u.flex="none"),c.default.createElement("div",{className:l.join(" "),style:r.prefix(u)},t)}}]),t}(c.default.Component);b.propTypes={className:d.default.string.isRequired,children:d.default.node.isRequired,prefixer:d.default.instanceOf(h.default).isRequired,size:d.default.oneOfType([d.default.string,d.default.number]),split:d.default.oneOf(["vertical","horizontal"]),style:g.default},b.defaultProps={prefixer:new h.default({userAgent:v})},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RESIZER_DEFAULT_CLASSNAME=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(16),u=r(l),c=n(18),f=r(c),d=n(133),p=r(d),h=n(159),m=r(h),g="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",y="undefined"!=typeof navigator?navigator.userAgent:g,v=t.RESIZER_DEFAULT_CLASSNAME="Resizer",b=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,o=e.onTouchStart,s=e.prefixer,l=e.resizerClassName,c=e.split,f=e.style,d=[l,c,t];return u.default.createElement("span",{className:d.join(" "),style:s.prefix(f)||{},onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),o(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){r&&(e.preventDefault(),r(e))}})}}]),t}(u.default.Component);b.propTypes={className:f.default.string.isRequired,onClick:f.default.func,onDoubleClick:f.default.func,onMouseDown:f.default.func.isRequired,onTouchStart:f.default.func.isRequired,onTouchEnd:f.default.func.isRequired,prefixer:f.default.instanceOf(p.default).isRequired,split:f.default.oneOf(["vertical","horizontal"]),style:m.default,resizerClassName:f.default.string.isRequired},b.defaultProps={prefixer:new p.default({userAgent:y}),resizerClassName:v},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(n){}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(16),f=r(c),d=n(18),p=r(d),h=n(136),m=r(h),g=n(133),y=r(g),v=n(159),b=r(v),_=n(547),x=r(_),S=n(548),w=r(S),O="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",k="undefined"!=typeof navigator?navigator.userAgent:O,E=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMouseDown=e.onMouseDown.bind(e),e.onTouchStart=e.onTouchStart.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onTouchMove=e.onTouchMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.state={active:!1,resized:!1},e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.setSize(this.props,this.state),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentWillReceiveProps",value:function(e){this.setSize(e,this.state)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=l({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,i=t.split;if(n){s(document,window);var a="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:a})}}},{key:"onMouseMove",value:function(e){var t=l({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,i=t.minSize,a=t.onChange,o=t.split,l=t.step,u=this.state,c=u.active,f=u.position;if(n&&c){s(document,window);var d="first"===this.props.primary,p=d?this.pane1:this.pane2;if(p){var h=m.default.findDOMNode(p);if(h.getBoundingClientRect){var g=h.getBoundingClientRect().width,y=h.getBoundingClientRect().height,v="vertical"===o?e.touches[0].clientX:e.touches[0].clientY,b="vertical"===o?g:y,_=f-v;if(l){if(Math.abs(_)<l)return;_=~~(_/l)*l}var x=d?_:-_,S=r;if(void 0!==r&&r<=0){var w=this.splitPane;S="vertical"===o?w.getBoundingClientRect().width+r:w.getBoundingClientRect().height+r}var O=b-x,k=f-_;O<i?O=i:void 0!==r&&O>S?O=S:this.setState({position:k,resized:!0}),a&&a(O),this.setState({draggedSize:O}),p.setState({size:O})}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,i=r.active,a=r.draggedSize;t&&i&&("function"==typeof n&&n(a),this.setState({active:!1}))}},{key:"setSize",value:function(e,t){var n=this.props.primary,r="first"===n?this.pane1:this.pane2,i=void 0;r&&(i=e.size||t&&t.draggedSize||e.defaultSize||e.minSize,r.setState({size:i}),e.size!==t.draggedSize&&this.setState({draggedSize:i}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,r=t.children,i=t.className,a=t.defaultSize,o=t.minSize,s=t.onResizerClick,u=t.onResizerDoubleClick,c=t.paneStyle,d=t.pane1Style,p=t.pane2Style,h=t.primary,m=t.prefixer,g=t.resizerClassName,y=t.resizerStyle,v=t.size,b=t.split,_=t.style,O=n?"":"disabled",k=g?g+" "+S.RESIZER_DEFAULT_CLASSNAME:g,E=l({},_||{},{display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"});"vertical"===b?l(E,{flexDirection:"row",left:0,right:0}):l(E,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var M=["SplitPane",i,b,O],T=m.prefix(l({},c||{},d||{})),P=m.prefix(l({},c||{},p||{}));return f.default.createElement("div",{className:M.join(" "),ref:function(t){e.splitPane=t},style:m.prefix(E)},f.default.createElement(x.default,{className:"Pane1",key:"pane1",ref:function(t){e.pane1=t},size:"first"===h?v||a||o:void 0,split:b,style:T},r[0]),f.default.createElement(w.default,{className:O,onClick:s,onDoubleClick:u,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",ref:function(t){e.resizer=t},resizerClassName:k,split:b,style:y||{}}),f.default.createElement(x.default,{className:"Pane2",key:"pane2",ref:function(t){e.pane2=t},size:"second"===h?v||a||o:void 0,split:b,style:P},r[1]))}}]),t}(f.default.Component);E.propTypes={allowResize:p.default.bool,children:p.default.arrayOf(p.default.node).isRequired,className:p.default.string,primary:p.default.oneOf(["first","second"]),minSize:p.default.oneOfType([p.default.string,p.default.number]),maxSize:p.default.oneOfType([p.default.string,p.default.number]),defaultSize:p.default.oneOfType([p.default.string,p.default.number]),size:p.default.oneOfType([p.default.string,p.default.number]),split:p.default.oneOf(["vertical","horizontal"]),onDragStarted:p.default.func,onDragFinished:p.default.func,onChange:p.default.func,onResizerClick:p.default.func,onResizerDoubleClick:p.default.func,prefixer:p.default.instanceOf(y.default).isRequired,style:b.default,resizerStyle:b.default,paneStyle:b.default,pane1Style:b.default,pane2Style:b.default,resizerClassName:p.default.string,step:p.default.number},E.defaultProps={allowResize:!0,minSize:50,prefixer:new y.default({userAgent:k}),primary:"first",split:"vertical"},t.default=E,e.exports=t.default},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling"];
},141,[666,84],function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function a(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function o(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);y(e,a,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function l(e,t,n){var i=e.result,a=e.keyPrefix,o=e.func,s=e.context,l=o.call(s,t,e.count++);Array.isArray(l)?u(l,i,n,g.thatReturnsArgument):null!=l&&(m.isValidElement(l)&&(l=m.cloneAndReplaceKey(l,a+(!l.key||t&&t.key===l.key?"":r(l.key)+"/")+n)),i.push(l))}function u(e,t,n,i,a){var o="";null!=n&&(o=r(n)+"/");var u=s.getPooled(t,o,i,a);y(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var r=[];return u(e,r,null,t,n),r}function f(e,t,n){return null}function d(e,t){return y(e,f,null)}function p(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var h=n(552),m=n(70),g=n(34),y=n(562),v=h.twoArgumentPooler,b=h.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(i,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var x={forEach:o,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:p};e.exports=x},function(e,t,n){"use strict";var r=n(70),i=r.createFactory,a={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=a},function(e,t,n){"use strict";var r=n(70),i=r.isValidElement,a=n(215);e.exports=a(i)},493,function(e,t,n){"use strict";var r=n(253),i=r.Component,a=n(70),o=a.isValidElement,s=n(256),l=n(197);e.exports=l(i,o,s)},512,function(e,t){"use strict";function n(){return r++}var r=1;e.exports=n},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return a.isValidElement(e)?void 0:i("143"),e}var i=n(84),a=n(70);n(4);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?u.escape(e.key):t.toString(36)}function i(e,t,n,a){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(a,e,""===t?c+r(e,0):t),1;var p,h,m=0,g=""===t?c:t+f;if(Array.isArray(e))for(var y=0;y<e.length;y++)p=e[y],h=g+r(p,y),m+=i(p,h,n,a);else{var v=l(e);if(v){var b,_=v.call(e);if(v!==e.entries)for(var x=0;!(b=_.next()).done;)p=b.value,h=g+r(p,x++),m+=i(p,h,n,a);else for(;!(b=_.next()).done;){var S=b.value;S&&(p=S[1],h=g+u.escape(S[0])+f+r(p,0),m+=i(p,h,n,a))}}else if("object"===d){var w="",O=String(e);o("31","[object Object]"===O?"object with keys {"+Object.keys(e).join(", ")+"}":O,w)}}return m}function a(e,t,n){return null==e?0:i(e,"",t,n)}var o=n(84),s=(n(46),n(255)),l=n(558),u=(n(4),n(551)),c=(n(9),"."),f=":";e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){switch((0,l.default)(e)){case"void":return function(e){return e};case"string":return function(t){return(0,o.default)(t,[e])};case"array":return function(t){return(0,o.default)(t,e)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(564),o=r(a),s=n(567),l=r(s);e.exports=t.default},function(e,t){"use strict";function n(e,t){var n={};return t.forEach(function(t){var r=e[t];r&&(n[t]=r)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=a({key:"redux",merge:u.default,slicer:s.default,serialize:JSON.stringify,deserialize:JSON.parse},t),r=n.key,i=n.merge,o=n.slicer,l=n.serialize,c=n.deserialize;return function(t){return function(n,a,s){"function"==typeof a&&"undefined"==typeof s&&(s=a,a=void 0);var u=void 0,f=void 0;try{u=c(localStorage.getItem(r)),f=i(a,u)}catch(d){console.warn("Failed to retrieve initialize state from localStorage:",d)}var p=t(n,f,s),h=o(e);return p.subscribe(function(){var e=p.getState(),t=h(e);try{localStorage.setItem(r,l(t))}catch(n){console.warn("Unable to persist state to localStorage:",n)}}),p}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(563),s=r(o),l=n(566),u=r(l);e.exports=t.default},function(e,t){"use strict";function n(e,t){return t?r({},e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e?r(e)?e.length?"array":"void":typeof e:"void"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)});e.exports=t.default},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o=e(n,r,i),l=o.dispatch,u=[],c={getState:o.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s.default.apply(void 0,u)(o.dispatch),a({},o,{dispatch:l})}}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(258),s=r(o)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},a=0;a<r.length;a++){var o=r[a],s=e[o];"function"==typeof s&&(i[o]=n(s,t))}return i}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function o(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),l=void 0;try{a(n)}catch(u){l=u}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,a={},o=0;o<s.length;o++){var u=s[o],c=n[u],f=e[u],d=c(f,t);if("undefined"==typeof d){var p=i(u,t);throw new Error(p)}a[u]=d,r=r||d!==f}return r?a:e}}t.__esModule=!0,t.default=o;var s=n(259),l=n(135),u=(r(l),n(261));r(u)},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){e.exports=n(574)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(575),s=i(o);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=(0,s.default)(a);t.default=l}).call(t,function(){return this}(),n(184)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r;(function(e,i){!function(a){function o(e){throw RangeError(A[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(D,".");var i=e.split("."),a=s(i,t).join(".");return r+a}function u(e){for(var t,n,r=[],i=0,a=e.length;i<a;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=I(e>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?R(e/k):e>>1,e+=R(e/t);e>N*w>>1;r+=x)e=R(e/N);return R(r+(N+1)*e/(e+O))}function h(e){var t,n,r,i,a,s,l,u,d,h,m=[],g=e.length,y=0,v=M,b=E;for(n=e.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=y,s=1,l=x;i>=g&&o("invalid-input"),u=f(e.charCodeAt(i++)),(u>=x||u>R((_-y)/s))&&o("overflow"),y+=u*s,d=l<=b?S:l>=b+w?w:l-b,!(u<d);l+=x)h=x-d,s>R(_/h)&&o("overflow"),s*=h;t=m.length+1,b=p(y-a,t,0==a),R(y/t)>_-v&&o("overflow"),v+=R(y/t),y%=t,m.splice(y++,0,v)}return c(m)}function m(e){var t,n,r,i,a,s,l,c,f,h,m,g,y,v,b,O=[];for(e=u(e),g=e.length,t=M,n=0,a=E,s=0;s<g;++s)m=e[s],m<128&&O.push(I(m));for(r=i=O.length,i&&O.push(T);r<g;){for(l=_,s=0;s<g;++s)m=e[s],m>=t&&m<l&&(l=m);for(y=r+1,l-t>R((_-n)/y)&&o("overflow"),n+=(l-t)*y,t=l,s=0;s<g;++s)if(m=e[s],m<t&&++n>_&&o("overflow"),m==t){for(c=n,f=x;h=f<=a?S:f>=a+w?w:f-a,!(c<h);f+=x)b=c-h,v=x-h,O.push(I(d(h+b%v,0))),c=R(b/v);O.push(I(d(c,0))),a=p(n,y,r==i),n=0,++r}++n,++t}return O.join("")}function g(e){return l(e,function(e){return P.test(e)?h(e.slice(4).toLowerCase()):e})}function y(e){return l(e,function(e){return C.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(a=v);var b,_=2147483647,x=36,S=1,w=26,O=38,k=700,E=72,M=128,T="-",P=/^xn--/,C=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=x-S,R=Math.floor,I=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:u,encode:c},decode:h,encode:m,toASCII:y,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(184)(e),function(){return this}())},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function a(e){return l(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function f(e){return null==e}var d=n(576);t.parse=i,t.resolve=o,t.resolveObject=s,t.format=a,t.Url=r;var p=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(g),v=["%","/","?",";","#"].concat(y),b=["/","?","#"],_=255,x=/^[a-z0-9A-Z_-]{0,63}$/,S=/^([a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(453);r.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=p.exec(r);if(i){i=i[0];var a=i.toLowerCase();this.protocol=a,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===r.substr(0,2);!o||i&&O[i]||(r=r.substr(2),this.slashes=!0)}if(!O[i]&&(o||i&&!k[i])){for(var s=-1,u=0;u<b.length;u++){var c=r.indexOf(b[u]);c!==-1&&(s===-1||c<s)&&(s=c)}var f,h;h=s===-1?r.lastIndexOf("@"):r.lastIndexOf("@",s),h!==-1&&(f=r.slice(0,h),r=r.slice(h+1),this.auth=decodeURIComponent(f)),s=-1;for(var u=0;u<v.length;u++){var c=r.indexOf(v[u]);c!==-1&&(s===-1||c<s)&&(s=c)}s===-1&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),u=0,M=g.length;u<M;u++){var T=g[u];if(T&&!T.match(x)){for(var P="",C=0,D=T.length;C<D;C++)P+=T.charCodeAt(C)>127?"x":T[C];if(!P.match(x)){var A=g.slice(0,u),N=g.slice(u+1),R=T.match(S);R&&(A.push(R[1]),N.unshift(R[2])),N.length&&(r="/"+N.join(".")+r),this.hostname=A.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var I=this.hostname.split("."),F=[],u=0;u<I.length;++u){var L=I[u];F.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(L):L)}this.hostname=F.join(".")}var j=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+j,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!w[a])for(var u=0,M=y.length;u<M;u++){var $=y[u],U=encodeURIComponent($);U===$&&(U=escape($)),r=r.split($).join(U)}var B=r.indexOf("#");B!==-1&&(this.hash=r.substr(B),r=r.slice(0,B));var q=r.indexOf("?");if(q!==-1?(this.search=r.substr(q),this.query=r.substr(q+1),t&&(this.query=E.parse(this.query)),r=r.slice(0,q)):t&&(this.search="",this.query={}),r&&(this.pathname=r),k[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",L=this.search||"";this.path=j+L}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(a=E.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+n+o+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||O[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",o=n.search||"";n.path=a+o}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=u||s||n.host&&e.pathname,p=d,h=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!k[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===h[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=i;else if(i.length)h||(h=[]),h.pop(),h=h.concat(i),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(m){n.hostname=n.host=h.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=h.slice(-1)[0],v=(n.host||e.host)&&("."===y||".."===y)||""===y,b=0,_=h.length;_>=0;_--)y=h[_],"."==y?h.splice(_,1):".."===y?(h.splice(_,1),b++):b&&(h.splice(_,1),b--);if(!d&&!p)for(;b--;b)h.unshift("..");!d||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),v&&"/"!==h.join("/").substr(-1)&&h.push("");var x=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(m){n.hostname=n.host=x?"":h.length?h.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&h.length,d&&!x&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){"use strict";function n(e){return function(t,n){return n[e]&&t.push(n[e].combine()),t}}function r(e){return[].concat(e.x?[].concat(e.x.reduce(i,[]),e.x.reduce(a,[])):[],e.y?[].concat(e.y.reduce(i,[]),e.y.reduce(a,[])):[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("main"),a=n("grid");t.assembleAxes=r},[667,37],function(e,t,n){"use strict";function r(e,t,n,r){var s=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),c=e.axis(t),p=e.config,h={};if(l.isTimeFieldDef(s)){var m=e.getScaleComponent(t).get("type")===u.ScaleType.UTC;h.text={signal:d.timeFormatExpression("datum.value",s.timeUnit,c.format,p.axis.shortTimeLabels,p.timeFormat,m)}}var g=i(c,t,s);if(g&&(h.angle={value:g}),h.angle&&"x"===t){var y=a(g,r.get("orient"));y&&(h.align={value:y}),f.contains([90,270],g)&&(h.baseline={value:"middle"})}return h=o.__assign({},h,n),0===f.keys(h).length?void 0:h}function i(e,t,n){return void 0!==e.labelAngle?(e.labelAngle%360+360)%360:t===s.X&&(f.contains([c.NOMINAL,c.ORDINAL],n.type)||n.bin||l.isTimeFieldDef(n))?270:void 0}function a(e,t){if(e&&e>0){if(e>180)return"top"===t?"left":"right";if(e<180)return"top"===t?"right":"left"}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(6),l=n(11),u=n(12),c=n(48),f=n(3),d=n(29);t.labels=r,t.labelAngle=i,t.labelAlign=a},function(e,t,n){"use strict";function r(e,t,n,r){return!n&&t[e]}function i(e,t){return!y.hasDiscreteDomain(e)&&!t.bin}function a(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function o(e,t,n,r){if(("x"===n||"y"===n)&&"nominal"!==e.type)return"log"!==r||"greedy"}function s(e,t){return t?0:e}function l(e){switch(e){case p.X:return"bottom";case p.Y:return"left"}throw new Error(g.message.INVALID_CHANNEL_FOR_AXIS)}function u(e,t,n,r){if(!y.hasDiscreteDomain(n)&&"log"!==n&&!v.contains(["month","hours","day","quarter"],t.timeUnit))return t.bin?{signal:"min(ceil("+r.signal+"/40), "+t.bin.maxbins+")"}:{signal:"ceil("+r.signal+"/40)"}}function c(e,t,n){var r=m.title(t,n);return e?v.truncate(r,e):r}function f(e,t,n){var r=e.values;return e.values&&h.isDateTime(r[0])?r.map(function(e){return{signal:h.dateTimeExpr(e,!0)}}):r}function d(e){return e?0:1}Object.defineProperty(t,"__esModule",{value:!0});var p=n(6),h=n(56),m=n(11),g=n(7),y=n(12),v=n(3);t.domainAndTicks=r,t.domain=r,t.ticks=r,t.grid=i,t.gridScale=a,t.labelOverlap=o,t.minMaxExtent=s,t.orient=l,t.tickCount=u,t.title=c,t.values=f,t.zindex=d},function(e,t,n){"use strict";function r(e,t){t&&l.set(t);try{var n=s.initConfig(e.config),r=u.normalize(e,n),o=f.buildModel(r,null,"",void 0,void 0,n);return o.parse(),p.optimizeDataflow(o.component.data),a(o,i(e,n))}finally{t&&l.reset()}}function i(e,t){return o.__assign({},c.extractTopLevelProperties(t),c.extractTopLevelProperties(e))}function a(e,t){var n=e.config?s.stripAndRedirectConfig(e.config):void 0,r=(t.autoResize,o.__rest(t,["autoResize"])),i=e.assembleTitle(),a=e.assembleGroupStyle(),l=o.__assign({$schema:"https://vega.github.io/schema/vega/v3.0.json"},e.description?{description:e.description}:{},{autosize:t.autoResize?{type:"pad",resize:!0}:"pad"},r,i?{title:i}:{},a?{style:a}:{},{data:[].concat(e.assembleSelectionData([]),d.assembleRootData(e.component.data))},e.assembleGroup(e.assembleLayoutSignals().concat(e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{});return{spec:l}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(281),l=n(7),u=n(88),c=n(615),f=n(106),d=n(265),p=n(271);t.compile=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(88),a=n(264),o=n(106),s=n(86),l=function(e){function t(t,n,r,a,s){var l=e.call(this,t,n,r,s,t.resolve)||this;return l.type="concat",l.isVConcat=i.isVConcatSpec(t),l.children=(i.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return o.buildModel(e,l,l.getName("concat_"+t),void 0,a,s)}),l}return r.__extends(t,e),t.prototype.parseLayoutSize=function(){s.parseConcatLayoutSize(this)},t.prototype.parseAxisGroup=function(){return null},t.prototype.assembleLayout=function(){return r.__assign({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"each"})},t}(a.BaseConcatModel);t.ConcatModel=l},function(e,t,n){"use strict";function r(e){function t(n){if(!(n instanceof f.SourceNode)){var r=n.parent;e(n)&&t(r)}}return t}function i(e){var t=e.parent;if(e instanceof c.ParseNode){if(t instanceof f.SourceNode)return!1;if(t.numChildren()>1)return!0;if(t instanceof c.ParseNode)t.merge(e);else{if(l.hasIntersection(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function a(e){return!(e instanceof u.OutputNode||e.numChildren()>0)&&(e.remove(),!0)}function o(e){var t={};return r(function(e){if(e instanceof d.TimeUnitNode){var n=e.producedFields(),r=l.keys(n).every(function(e){return!!t[e]});r?e.remove():t=s.__assign({},t,n)}return!0})(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(3),u=n(21),c=n(163),f=n(108),d=n(109);t.iterateFromLeaves=r,t.moveParseUp=i,t.removeUnusedSubtrees=a,t.removeDuplicateTimeUnits=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(30),o=n(11),s=n(7),l=n(12),u=n(3),c=n(41),f=n(106),d=n(265),p=n(107),h=n(272),m=n(86),g=n(22),y=n(276),v=n(111),b=n(87),_=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;o.type="facet",o.child=f.buildModel(t.spec,o,o.getName("child"),void 0,i,a),o.children=[o.child];var s=y.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(s),o}return r.__extends(t,e),t.prototype.initFacet=function(e){return a.reduce(e,function(e,t,n){return u.contains([i.ROW,i.COLUMN],n)?void 0===t.field?(s.warn(s.message.emptyFieldDef(t,n)),e):(e[n]=o.normalize(t,n),e):(s.warn(s.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.hasDiscreteDomain=function(e){return!0},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=p.parseData(this),this.child.parseData()},t.prototype.parseLayoutSize=function(){m.parseChildrenLayoutSize(this)},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:o.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,facetFieldDef:t,header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.component.layoutSize.get(n)?this.child.getSizeSignalRef(n):void 0,axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]){var n=this.component,r=n.layoutHeaders,i=n.resolve;if(i.axis[e]=v.parseGuideResolve(i,e),"shared"===i.axis[e])for(var a="x"===e?"column":"row",o=r[a],s=0,l=t.component.axes[e];s<l.length;s++){var u=l[s],c=u.main,f=h.getHeaderType(c.get("orient"));o[f]=o[f]||[this.makeHeaderComponent(a,!1)],o[f][0].axes.push(c.combine()),delete u.main}}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.getLayoutBandMixins=function(e){for(var t={},n="header"===e?"headerBand":"footerBand",r=0,i=["row","column"];r<i.length;r++){var a=i[r],o=this.component.layoutHeaders[a],s=o[e];if(s&&s[0]){var l="row"===a?"height":"width";this.child.component.layoutSize.get(l)||(t[n]=t[n]||{},t[n][a]=.5)}}return t},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?this.columnDistinctSignal():1;return r.__assign({padding:{row:10,column:10}},this.getLayoutBandMixins("header"),this.getLayoutBandMixins("footer"),{offset:10,columns:e,bounds:"full",align:"all"})},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof t)){var e=this.getName("column_domain");return{signal:"length(data('"+e+"'))"}}},t.prototype.assembleGroup=function(n){return this.parent&&this.parent instanceof t?r.__assign({},this.channelHasField("column")?{encode:{update:{columns:{field:o.field(this.facet.column,{prefix:"distinct"})}}}}:{},e.prototype.assembleGroup.call(this,n)):e.prototype.assembleGroup.call(this,n)},t.prototype.getCardinalityAggregateForChild=function(){var e=[],n=[];if(this.child instanceof t)this.child.channelHasField("column")&&(e.push(o.field(this.child.facet.column)),n.push("distinct"));else for(var r=0,i=["x","y"];r<i.length;r++){var a=i[r],s=this.child.component.scales[a];if(s&&!s.merged){var u=s.get("type"),f=s.get("range");if(l.hasDiscreteDomain(u)&&c.isVgRangeStep(f)){var d=b.getFieldFromDomains(s.domains);if(!d)throw new Error("We do not yet support calculation of size for faceted union domain.");e.push(d),n.push("distinct")}}}return e.length?{fields:e,ops:n}:void 0},t.prototype.assembleMarks=function(){var e=this,t=e.child,n=e.facet,a=this.component.data.facetRoot,o=d.assembleFacetData(a),s=this.channelHasField(i.ROW),l=this.channelHasField(i.COLUMN),u=t.assembleLayoutSize(),c={};s&&l&&(c.aggregate={cross:!0});var f=this.getCardinalityAggregateForChild();f&&(c.aggregate=r.__assign({},c.aggregate,f));var p=t.assembleTitle(),h=t.assembleGroupStyle(),m=r.__assign({name:this.getName("cell"),type:"group"},p?{title:p}:{},h?{style:h}:{},{from:{facet:r.__assign({name:a.name,data:a.data,groupby:[].concat(s?[this.field(i.ROW)]:[],l?[this.field(i.COLUMN)]:[])},c)},sort:{field:[].concat(s?[this.field(i.ROW,{expr:"datum"})]:[],l?[this.field(i.COLUMN,{expr:"datum"})]:[]),order:[].concat(s?[n.row.sort||"ascending"]:[],l?[n.column.sort||"ascending"]:[])}},o.length>0?{data:o}:{},u?{encode:{update:u}}:{},t.assembleGroup());return[m]},t.prototype.getMapping=function(){return this.facet},t}(g.ModelWithField);t.FacetModel=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(7),a=n(88),o=n(3),s=n(263),l=n(107),u=n(110),c=n(86),f=n(22),d=n(23),p=n(280),h=function(e){function t(n,o,s,l,u,c){var f=e.call(this,n,o,s,c,n.resolve)||this;f.type="layer";var d=r.__assign({},l,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return f.initSize(d),f.children=n.layer.map(function(e,n){if(a.isLayerSpec(e))return new t(e,f,f.getName("layer_"+n),d,u,c);
if(a.isUnitSpec(e))return new p.UnitModel(e,f,f.getName("layer_"+n),d,u,c);throw new Error(i.message.INVALID_SPEC)}),f}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=l.parseData(this);for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseData()}},t.prototype.parseLayoutSize=function(){c.parseLayerLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),o.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){s.parseLayerAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},u.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleTitle=function(){var t=e.prototype.assembleTitle.call(this);if(t)return t;for(var n=0,r=this.children;n<r.length;n++){var i=r[n];if(t=i.assembleTitle())return t}},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return d.assembleLayerSelectionMarks(this,o.flatten(this.children.map(function(e){return e.assembleMarks()})))},t}(f.Model);t.LayerModel=h},function(e,t,n){"use strict";function r(e){var t=e.component.legends,n={};return a.keys(t).forEach(function(r){var a=e.getScaleComponent(r),s=i(a.domains);if(n[s])for(var l=0,u=n[s];l<u.length;l++){var c=u[l],f=o.mergeLegendComponent(c,t[r]);f||n[s].push(t[r])}else n[s]=[t[r].clone()]}),a.flatten(a.vals(n)).map(function(e){return e.combine()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),a=n(3),o=n(273);t.assembleLegends=r},[668,37],function(e,t,n){"use strict";function r(e,t,n,r){var i={},l=n.mark();switch(l){case s.BAR:case s.TICK:case s.TEXT:i.shape={value:"square"};break;case s.CIRCLE:case s.SQUARE:i.shape={value:l};break;case s.POINT:case s.LINE:case s.AREA:}var d=n.markDef.filled,p=r===a.COLOR?u.without(s.FILL_STROKE_CONFIG,[d?"fill":"stroke","strokeDash","strokeDashOffset"]):s.FILL_STROKE_CONFIG;if(p=u.without(p,["strokeDash","strokeDashOffset"]),c.applyMarkConfig(i,n,p),r!==a.COLOR){var h=f.color(n);h.fill&&(h.fill.field||"transparent"===h.fill.value)&&delete h.fill,h.stroke&&(h.stroke.field||"transparent"===h.stroke.value)&&delete h.stroke,u.extend(i,h)}if(r!==a.SHAPE){var m=n.encoding.shape;o.isValueDef(m)&&(i.shape={value:m.value})}return i=u.extend(i,t||{}),u.keys(i).length>0?i:void 0}function i(e,t,n,r){var i=n.legend(r),a=n.config,s={};if(o.isTimeFieldDef(e)){var f=n.getScaleComponent(r).get("type")===l.ScaleType.UTC;t=u.extend({text:{signal:c.timeFormatExpression("datum.value",e.timeUnit,i.format,a.legend.shortTimeLabels,a.timeFormat,f)}},t||{})}return s=u.extend(s,t||{}),u.keys(s).length>0?s:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(11),s=n(31),l=n(12),u=n(3),c=n(29),f=n(47);t.symbols=r,t.labels=i},function(e,t,n){"use strict";function r(e){var t=e.values;return t&&o.isDateTime(t[0])?t.map(function(e){return{signal:o.dateTimeExpr(e,!0)}}):t}function i(e,t,n){if(t===a.COLOR&&("quantitative"===e&&!s.isBinScale(n)||"temporal"===e&&l.contains(["time","utc"],n)))return"gradient"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=n(56),s=n(12),l=n(3);t.values=r,t.type=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(47);t.area={vgMark:"area",encodeEntry:function(e){return r.__assign({},i.pointPosition("x",e,"zeroOrMin"),i.pointPosition("y",e,"zeroOrMin"),i.pointPosition2(e,"zeroOrMin"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.markDefProperties(e.markDef,["orient","interpolate","tension"]))}}},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,i=e.markDef.orient,s=e.encoding.size,c=e.encoding.x,d=e.scaleName(l.X),m=e.getScaleComponent(l.X);if("horizontal"===i)return o.__assign({},p.pointPosition("x",e,"zeroOrMin"),p.pointPosition2(e,"zeroOrMin"));if(u.isFieldDef(c)){var g=m.get("type");if(c.bin&&!s&&!f.hasDiscreteDomain(g))return p.binnedPosition(c,"x",e.scaleName("x"),n.bar.binSpacing);if(g===f.ScaleType.BAND)return p.bandPosition(c,"x",e)}return p.centeredBandPosition("x",e,o.__assign({},h.mid(r)),a(d,m,n))}function i(e,t){var n=e.config,r=e.encoding,i=e.height,s=e.markDef.orient,c=r.size,d=r.y,m=e.scaleName(l.Y),g=e.getScaleComponent(l.Y);if("vertical"===s)return o.__assign({},p.pointPosition("y",e,"zeroOrMin"),p.pointPosition2(e,"zeroOrMin"));if(u.isFieldDef(d)){var y=g.get("type");if(d.bin&&!c&&!f.hasDiscreteDomain(y))return p.binnedPosition(d,"y",e.scaleName("y"),n.bar.binSpacing);if(y===f.ScaleType.BAND)return p.bandPosition(d,"y",e)}return p.centeredBandPosition("y",e,h.mid(i),a(m,g,n))}function a(e,t,n){if(n.bar.discreteBandSize)return{value:n.bar.discreteBandSize};if(t){var r=t.get("type");if(r!==f.ScaleType.POINT)return r===f.ScaleType.BAND?h.band(e):{value:n.bar.continuousBandSize};var i=t.get("range");if(d.isVgRangeStep(i)&&s.isNumber(i.step))return{value:i.step-1};c.warn(c.message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return n.scale.rangeStep&&null!==n.scale.rangeStep?{value:n.scale.rangeStep-1}:{value:20}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(6),u=n(11),c=n(7),f=n(12),d=n(41),p=n(47),h=n(72);t.bar={vgMark:"rect",encodeEntry:function(e){var t=e.stack;return o.__assign({},r(e,t),i(e,t),p.color(e),p.text(e,"tooltip"),p.nonPosition("opacity",e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(47);t.line={vgMark:"line",encodeEntry:function(e){return r.__assign({},i.pointPosition("x",e,"zeroOrMin"),i.pointPosition("y",e,"zeroOrMin"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"}),i.markDefProperties(e.markDef,["interpolate","tension"]))}}},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,o=e.height;return a.__assign({},s.pointPosition("x",e,l.mid(r)),s.pointPosition("y",e,l.mid(o)),s.color(e),s.text(e,"tooltip"),s.nonPosition("size",e),i(e,n,t),s.nonPosition("opacity",e))}function i(e,t,n){return n?{shape:{value:n}}:s.nonPosition("shape",e,{defaultValue:o.getMarkConfig("shape",e.markDef,t)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(29),s=n(47),l=n(72);t.shapeMixins=i,t.point={vgMark:"symbol",encodeEntry:function(e){return r(e)}},t.circle={vgMark:"symbol",encodeEntry:function(e){return r(e,"circle")}},t.square={vgMark:"symbol",encodeEntry:function(e){return r(e,"square")}}},function(e,t,n){"use strict";function r(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(o.X),i=r?r.get("type"):void 0;if(s.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"x",e.scaleName("x"),0);if(s.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"x",e);throw new Error(l.message.scaleTypeNotWorkWithMark(u.RECT,i))}return a.__assign({},f.pointPosition("x",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","x2"))}function i(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(o.Y),i=r?r.get("type"):void 0;if(s.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"y",e.scaleName("y"),0);if(s.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"y",e);throw new Error(l.message.scaleTypeNotWorkWithMark(u.RECT,i))}return a.__assign({},f.pointPosition("y",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","y2"))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(11),l=n(7),u=n(31),c=n(12),f=n(47);t.rect={vgMark:"rect",encodeEntry:function(e){return a.__assign({},r(e),i(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(47),a=n(72);t.rule={vgMark:"rule",encodeEntry:function(e){var t=(e.config,e.markDef),n=e.width,o=e.height,s=t.orient;return r.__assign({},i.pointPosition("x",e,"horizontal"===s?"zeroOrMin":a.mid(n)),i.pointPosition("y",e,"vertical"===s?"zeroOrMin":a.mid(o)),i.pointPosition2(e,"zeroOrMax"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"}))}}},function(e,t,n){"use strict";function r(e,t){return l.isFieldDef(t)&&t.type===u.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function i(e,t,n){var r=c.getMarkConfig("align",e,n);if(void 0===r)return s.channelHasField(t,o.X)?"center":"right"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(30),l=n(11),u=n(48),c=n(29),f=n(47),d=n(72);t.text={vgMark:"text",encodeEntry:function(e){var t=e.config,n=e.encoding,o=e.height,s=n.text;return a.__assign({},f.pointPosition("x",e,r(t,s)),f.pointPosition("y",e,d.mid(o)),f.text(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e),f.nonPosition("size",e,{vgChannel:"fontSize"}),f.valueIfDefined("align",i(e.markDef,n,t)))}}},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.orient,r=e.getScaleComponent("horizontal"===n?"x":"y");if(void 0!==t.tick.bandSize)return t.tick.bandSize;var i=r?r.get("range"):void 0,o=i&&a.isVgRangeStep(i)?i.step:t.scale.rangeStep;if("number"!=typeof o)throw new Error("Function does not handle non-numeric rangeStep");return o/1.5}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(41),o=n(47),s=n(72);t.tick={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,a=e.width,l=e.height,u=n.orient,c="horizontal"===u?"width":"height",f="horizontal"===u?"height":"width";return i.__assign({},o.pointPosition("x",e,s.mid(a),"xc"),o.pointPosition("y",e,s.mid(l),"yc"),o.nonPosition("size",e,{defaultValue:r(e),vgChannel:c}),(d={},d[f]={value:t.tick.thickness},d),o.color(e),o.nonPosition("opacity",e));var d}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(264),a=n(106),o=n(86),s=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;return o.type="repeat",o.repeat=t.repeat,o.children=o._initChildren(t,o.repeat,i,a),o}return r.__extends(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],o=t.row||[n?n.row:null],s=t.column||[n?n.column:null],l=0,u=o;l<u.length;l++)for(var c=u[l],f=0,d=s;f<d.length;f++){var p=d[f],h=(c?"_"+c:"")+(p?"_"+p:""),m={row:c,column:p};i.push(a.buildModel(e.spec,this,this.getName("child"+h),void 0,m,r))}return i},t.prototype.parseLayoutSize=function(){o.parseRepeatLayoutSize(this)},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t}(i.BaseConcatModel);t.RepeatModel=s},function(e,t,n){"use strict";function r(e){return c.isLayerModel(e)||c.isConcatModel(e)||c.isRepeatModel(e)?e.children.reduce(function(e,t){return e.concat(r(t))},i(e)):i(e)}function i(e){return l.keys(e.component.scales).reduce(function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),s=i.domainRaw,l=i.range,c=i.name,p=i.type,h=(i.domainRaw,i.range,o.__rest(i,["name","type","domainRaw","range"]));l=a(l,c,e,n),s&&f.isRawSelectionDomain(s)&&(s=f.selectionScaleDomain(e,s));var m=r.domains.map(function(t){return u.isDataRefDomain(t)&&(t.data=e.lookupDataSource(t.data)),t}),g=d.mergeDomains(m);return t.push(o.__assign({name:c,type:p,domain:g},s?{domainRaw:s}:{},{range:l},h)),t},[])}function a(e,t,n,r){if("x"===r||"y"===r){if(u.isVgRangeStep(e))return{step:{signal:t+"_step"}};if(s.isArray(e)&&2===e.length){var i=e[0],a=e[1];if(0===i&&u.isVgSignalRef(a))return[0,{signal:n.getSizeName(a.signal)}];if(u.isVgSignalRef(i)&&0===a)return[{signal:n.getSizeName(i.signal)},0]}}return e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(3),u=n(41),c=n(22),f=n(23),d=n(87);t.assembleScales=r,t.assembleScalesForModel=i,t.assembleScaleRange=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(37),a=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.domains=[],r.setWithExplicit("type",n),r}return r.__extends(t,e),t}(i.Split);t.ScaleComponent=a},function(e,t,n){"use strict";function r(e){i(e),m.parseScaleDomain(e);for(var t=0,n=u.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++){var r=n[t];g.parseScaleProperty(e,r)}y.parseScaleRange(e)}function i(e){f.isUnitModel(e)?e.component.scales=a(e):e.component.scales=o(e)}function a(e){var t=e.encoding,n=e.config,r=e.mark();return s.SCALE_CHANNELS.reduce(function(i,a){var o,s={},u=t[a];if(l.isFieldDef(u)?(o=u,s=u.scale||{}):l.isConditionalDef(u)&&l.isFieldDef(u.condition)?(o=u.condition,s=u.condition.scale||{}):"x"===a?o=l.getFieldDef(t.x2):"y"===a&&(o=l.getFieldDef(t.y2)),o){var c=s.type,f=v.scaleType(s.type,a,o,r,s.rangeStep,n.scale);i[a]=new h.ScaleComponent(e.scaleName(a+"",!0),{value:f,explicit:c===f})}return i},{})}function o(e){for(var t=e.component.scales={},n={},r=e.component.resolve,a=function(t){i(t),c.keys(t.component.scales).forEach(function(i){if(r.scale[i]=r.scale[i]||d.defaultScaleResolve(i,e),"shared"===r.scale[i]){var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?u.scaleCompatible(a.value,o.value)?n[i]=p.mergeValuesWithExplicit(a,o,"type","scale",b):(r[i].scale="independent",delete n[i]):n[i]=o}})},o=0,s=e.children;o<s.length;o++){var l=s[o];a(l)}return c.keys(n).forEach(function(r){var i=e.scaleName(r,!0),a=n[r];t[r]=new h.ScaleComponent(i,a);for(var o=0,s=e.children;o<s.length;o++){var l=s[o],u=l.component.scales[r];u&&(l.renameScale(u.get("name"),i),u.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=n(11),u=n(12),c=n(3),f=n(22),d=n(111),p=n(37),h=n(601),m=n(87),g=n(277),y=n(278),v=n(603);t.parseScale=r,t.parseScaleCore=i;var b=p.tieBreakByComparing(function(e,t){return u.scaleTypePrecedence(e)-u.scaleTypePrecedence(t)})},function(e,t,n){"use strict";function r(e,t,n,r,a,c){var f=i(t,n,r,a,c);return s.isScaleChannel(t)?void 0!==e?u.channelSupportScaleType(t,e)?o(e,n)?e:(l.warn(l.message.scaleTypeNotWorkWithFieldDef(e,f)),f):(l.warn(l.message.scaleTypeNotWorkWithChannel(t,e,f)),f):f:null}function i(e,t,n,r,i){switch(t.type){case"nominal":case"ordinal":return"color"===e||"discrete"===s.rangeType(e)?("shape"===e&&"ordinal"===t.type&&l.warn(l.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):a(e,n,r,i);case"temporal":return"color"===e?"sequential":"discrete"===s.rangeType(e)?(l.warn(l.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===s.rangeType(e)?(l.warn(l.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear"}throw new Error(l.message.invalidFieldType(t.type))}function a(e,t,n,r){if(d.contains(["x","y"],e)){if("rect"===t)return"band";if("bar"===t)return"band"}return"point"}function o(e,t){var n=t.type;return p.contains([f.Type.ORDINAL,f.Type.NOMINAL],n)?void 0===e||c.hasDiscreteDomain(e):n===f.Type.TEMPORAL?p.contains([u.ScaleType.TIME,u.ScaleType.UTC,u.ScaleType.SEQUENTIAL,void 0],e):n!==f.Type.QUANTITATIVE||(t.bin?p.contains([u.ScaleType.BIN_LINEAR,u.ScaleType.BIN_ORDINAL,u.ScaleType.LINEAR],e):p.contains([u.ScaleType.LOG,u.ScaleType.POW,u.ScaleType.SQRT,u.ScaleType.QUANTILE,u.ScaleType.QUANTIZE,u.ScaleType.LINEAR,u.ScaleType.SEQUENTIAL,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=n(7),u=n(12),c=n(12),f=n(48),d=n(3),p=n(3);t.scaleType=r,t.fieldDefMatchScaleType=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(279),a=n(23),o={predicate:"vlSingle",scaleDomain:"vlSingleDomain",signals:i.default.signals,topLevelSignals:function(e,t,n){var i=n.filter(function(e){return e.name===t.name}),o="data("+r.stringValue(t.name+a.STORE)+")",s=o+"[0].values";return i.length?n:n.concat({name:t.name,update:o+".length && {"+t.project.map(function(e,t){return e.field+": "+s+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){var n=t.name+a.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+a.unitName(e)+"}")}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(23),a=n(168),o={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var i=t.name,o=t.project,s=t.bind,l=a.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return o.forEach(function(e){var a=r.varName(i+"_"+e.field),o=n.filter(function(e){return e.name===a});o.length||n.unshift({name:a,value:"",on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+l+"["+r.stringValue(e.field)+"] : null"}],bind:s[e.field]||s[e.channel]||s})}),n},signals:function(e,t,n){var a=t.name,o=t.project,s=n.filter(function(e){return e.name===a+i.TUPLE})[0],l=o.map(function(e){return r.stringValue(e.field)}).join(", "),u=o.map(function(e){return r.varName(a+"_"+e.field)});return s.update=u.join(" && ")+" ? {fields: ["+l+"], values: ["+u.join(", ")+"]} : null",delete s.value,delete s.on,n}};t.default=o},[670,7,3,109],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i="_toggle",a={has:function(e){return"multi"===e.type&&e.toggle},signals:function(e,t,n){return n.concat({name:t.name+i,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var a=t.name+r.TUPLE,o=t.name+i;return o+" ? null : "+a+", "+("global"===t.resolve?o+" ? null : true, ":o+" ? null : {unit: "+r.unitName(e)+"}, ")+(o+" ? "+a+" : null")}};t.default=a},function(e,t,n){"use strict";function r(e,t){for(var n in f)f[n].has(e)&&t(f[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(605),a=n(168),o=n(606),s=n(112),l=n(607),u=n(609),c=n(610),f={project:o.default,toggle:l.default,scales:s.default,translate:u.default,zoom:c.default,inputs:i.default,nearest:a.default};t.forEachTransform=r},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.name,f=l.default.has(t),d=i.filter(function(e){return e.name===s.channelSignalName(t,n,f?"data":"visual")})[0],p=o+u,h=o+c,m=e.getSizeSignalRef(r).signal,g=e.getScaleComponent(n),y=g.get("type"),v=f&&n===a.X?"-":"",b=p+".extent_"+n,_=""+v+h+"."+n+" / "+(f?""+m:"span("+b+")"),x=f?"log"===y?"panLog":"pow"===y?"panPow":"panLinear":"panLinear",S=x+"("+b+", "+_+(f&&"pow"===y?", "+(g.get("exponent")||1):"")+")";d.on.push({events:{signal:h},update:f?S:"clampRange("+S+", 0, "+m+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(71),a=n(6),o=n(167),s=n(23),l=n(112),u="_translate_anchor",c="_translate_delta",f={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var f=t.name,d=l.default.has(t),p=f+u,h=s.spatialProjections(t),m=h.x,g=h.y,y=i.selector(t.translate,"scope");return d||(y=y.map(function(e){return e.between[0].markname=f+o.BRUSH,e})),n.push({name:p,value:{},on:[{events:y.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==m?", extent_x: "+(d?l.domain(e,a.X):"slice("+s.channelSignalName(t,"x","visual")+")"):"")+(null!==g?", extent_y: "+(d?l.domain(e,a.Y):"slice("+s.channelSignalName(t,"y","visual")+")"):"")+"}"}]},{name:f+c,value:{},on:[{events:y,update:"{x: "+p+".x - x(unit), y: "+p+".y - y(unit)}"}]}),null!==m&&r(e,t,a.X,"width",n),null!==g&&r(e,t,a.Y,"height",n),n}};t.default=f},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=t.name,o=u.default.has(t),s=i.filter(function(e){return e.name===l.channelSignalName(t,n,o?"data":"visual")})[0],d=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(n),h=p.get("type"),m=o?u.domain(e,n):s.name,g=a+f,y=""+a+c+"."+n,v=o?"log"===h?"zoomLog":"pow"===h?"zoomPow":"zoomLinear":"zoomLinear",b=v+"("+m+", "+y+", "+g+(o&&"pow"===h?", "+(p.get("exponent")||1):"")+")";s.on.push({events:{signal:g},update:o?b:"clampRange("+b+", 0, "+d+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(71),a=n(6),o=n(3),s=n(167),l=n(23),u=n(112),c="_zoom_anchor",f="_zoom_delta",d={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var d=t.name,p=u.default.has(t),h=d+f,m=l.spatialProjections(t),g=m.x,y=m.y,v=o.stringValue(e.scaleName(a.X)),b=o.stringValue(e.scaleName(a.Y)),_=i.selector(t.zoom,"scope");return p||(_=_.map(function(e){return e.markname=d+s.BRUSH,e})),n.push({name:d+c,on:[{events:_,update:p?"{"+[v?"x: invert("+v+", x(unit))":"",b?"y: invert("+b+", y(unit))":""].filter(function(e){return!!e}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:h,on:[{events:_,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==g&&r(e,t,"x","width",n),null!==y&&r(e,t,"y","height",n),n}};t.default=d},function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return u.__assign({},e,{encoding:f.reduce(e.encoding,function(e,n,r){return m.indexOf(r)>-1?e[r]=n:h.warn(h.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,e.selection),s=u.__rest(e,["mark","encoding","selection"]),f=void 0;r(n)&&n.extent&&c.isNumber(n.extent)&&(f=n.extent);var d=o(e),p=l(e,d,f),h=p.transform,m=p.continuousAxisChannelDef,g=p.continuousAxis,y=p.encodingWithoutContinuousAxis,v=y.size,b=(y.color,u.__rest(y,["size","color"])),_=v?{size:v}:{size:{value:t.box.size}},x={};return m.scale&&(x.scale=m.scale),m.axis&&(x.axis=m.axis),u.__assign({},s,{transform:h,layer:[{mark:{type:"rule",style:"boxWhisker"},encoding:u.__assign((S={},S[g]=u.__assign({field:"lowerWhisker",type:m.type},x),S[g+"2"]={field:"lowerBox",type:m.type},S),b)},{mark:{type:"rule",style:"boxWhisker"},encoding:u.__assign((w={},w[g]={field:"upperBox",type:m.type},w[g+"2"]={field:"upperWhisker",type:m.type},w),b)},u.__assign({},a?{selection:a}:{},{mark:{type:"bar",style:"box"},encoding:u.__assign((O={},O[g]={field:"lowerBox",type:m.type},O[g+"2"]={field:"upperBox",type:m.type},O),y,_)}),{mark:{type:"tick",style:"boxMid"},encoding:u.__assign((k={},k[g]={field:"midBox",type:m.type},k),b,_)}]});var S,w,O,k}function o(e){var n=e.mark,i=e.encoding;u.__rest(e,["mark","encoding"]);if(p.isFieldDef(i.x)&&p.isContinuous(i.x)){if(p.isFieldDef(i.y)&&p.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(p.isFieldDef(i.y)&&p.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function s(e,n){var r,i,a=(e.mark,e.encoding);u.__rest(e,["mark","encoding"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,s=u.__rest(r,["aggregate"]);o!==t.BOXPLOT&&h.warn("Continuous axis should not have customized aggregation function "+o),r=s}return{continuousAxisChannelDef:r,continuousAxis:i}}function l(e,n,r){var i=s(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,l=e.encoding,u=void 0===r,c=[{aggregate:"q1",field:a.field,as:"lowerBox"},{aggregate:"q3",field:a.field,as:"upperBox"},{aggregate:"median",field:a.field,as:"midBox"}],f=[];u?(c.push({aggregate:"min",field:a.field,as:"lowerWhisker"}),c.push({aggregate:"max",field:a.field,as:"upperWhisker"})):f=[{calculate:"datum.upperBox - datum.lowerBox",as:"IQR"},{calculate:"datum.lowerBox - datum.IQR * "+r,as:"lowerWhisker"},{calculate:"datum.upperBox + datum.IQR * "+r,as:"lowerWhisker"}];var h=[],m=[],g=[],y={};return d.forEach(l,function(e,n){if(n!==o)if(p.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({aggregate:e.aggregate,field:e.field,as:p.field(e)});else if(void 0===e.aggregate){var r=p.field(e),i=e.bin;if(i){var a=e.field;m.push({bin:i,field:a,as:r})}else if(e.timeUnit){var s=e.timeUnit,u=e.field;g.push({timeUnit:s,field:u,as:r})}h.push(r)}y[n]={field:p.field(e),type:e.type}}else y[n]=l[n]}),{transform:[].concat(m,g,[{summarize:c,groupby:h}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:y}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=n(15),f=n(30),d=n(30),p=n(11),h=n(7);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_STYLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size"]};var m=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},function(e,t,n){"use strict";function r(e){var t=(e.mark,e.selection,e.encoding),n=i.__rest(e,["mark","selection","encoding"]),r=(t.size,i.__rest(t,["size"])),a=(t.x2,t.y2,i.__rest(t,["x2","y2"])),o=(a.x,a.y,i.__rest(a,["x","y"]));if(!t.x2&&!t.y2)throw new Error("Neither x2 or y2 provided");return i.__assign({},n,{layer:[{mark:"rule",encoding:r},{mark:"tick",encoding:a},{mark:"tick",encoding:t.x2?i.__assign({x:t.x2,y:t.y},o):i.__assign({x:t.x,y:t.y2},o)}]})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.ERRORBAR="error-bar",t.normalizeErrorBar=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VL_ONLY_GUIDE_CONFIG=["shortTimeLabels"]},function(e,t){"use strict";function n(e){return r.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var r=["background","padding","autoResize"];t.extractTopLevelProperties=n},function(e,t,n){"use strict";function r(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var o=i.isMarkDef(e.mark)?e.mark.type:e.mark,s=e.encoding,l=n[o],u=r[o];for(var c in l)if(!(l[c]in s))return'Missing encoding channel "'+l[c]+'" for mark "'+o+'"';for(var f in s)if(!u[f])return'Encoding channel "'+f+'" is not supported by mark type "'+o+'"';return o!==a.BAR||s.x||s.y?null:"Missing both x and y for bar"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=n(31),o=n(3);t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:o.toSet(["row","column","x","y","size","color","detail"]),line:o.toSet(["row","column","x","y","color","detail"]),area:o.toSet(["row","column","x","y","color","detail"]),tick:o.toSet(["row","column","x","y","color","detail"]),circle:o.toSet(["row","column","x","y","color","size","detail"]),square:o.toSet(["row","column","x","y","color","size","detail"]),point:o.toSet(["row","column","x","y","color","size","detail","shape"]),text:o.toSet(["row","column","size","color","text"])},t.getEncodingMappingError=r},function(e,t){"use strict";function n(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,n=t.exec(e).slice(1,3),r=n[0],i=n[1];return{library:r,version:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&null!==e&&t)switch(t){case"time":return n?u.timeFormat(n)(e):o(e);case"number":return n?s.format(n)(e):a(e);case"string":default:return e}}function i(e){return"number"==typeof e?a(e):e instanceof Date?o(e):e}function a(e){return e%1===0?s.format(",")(e):s.format(",.2f")(e)}function o(e){var t=u.timeFormat(".%L"),n=u.timeFormat(":%S"),r=u.timeFormat("%I:%M"),i=u.timeFormat("%I %p"),a=u.timeFormat("%a %d"),o=u.timeFormat("%b %d"),s=u.timeFormat("%B"),c=u.timeFormat("%Y");return(l.timeSecond(e)<e?t:l.timeMinute(e)<e?n:l.timeHour(e)<e?r:l.timeDay(e)<e?i:l.timeMonth(e)<e?l.timeWeek(e)<e?a:o:l.timeYear(e)<e?s:c)(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(359),l=n(200),u=n(361);t.customFormat=r,t.autoFormat=i,t.autoNumberFormat=a,t.autoTimeFormat=o},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={showAllFields:!0}),a(e,f(t)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function i(e,t,n){return void 0===n&&(n={showAllFields:!0}),n=m.supplementOptions(f(n),t),a(e,n),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function a(e,t){e.addEventListener("mouseover.tooltipInit",function(e,n){c(n)&&(o(),y=window.setTimeout(function(){s(e,n,t)},t.delay||p.DELAY))}),e.addEventListener("mousemove.tooltipUpdate",function(e,n){c(n)&&v&&l(e,n,t)}),e.addEventListener("mouseout.tooltipRemove",function(e,n){c(n)&&(o(),v&&u(e,n,t))})}function o(){window.clearTimeout(y),y=void 0}function s(e,t,n){var r=g.getTooltipPlaceholder(),i=h.getTooltipData(t,n);i&&0!==i.length&&(g.bindData(r,i),g.updatePosition(e,n),g.updateColorTheme(n),d.select("#vis-tooltip").style("visibility","visible"),v=!0,n.onAppear&&n.onAppear(e,t))}function l(e,t,n){c(t)&&(g.updatePosition(e,n),n.onMove&&n.onMove(e,t))}function u(e,t,n){c(t)&&(d.select("#vis-tooltip").style("visibility","hidden"),v=!1,g.clearData(),g.clearColorTheme(),g.clearPosition(),n.onDisappear&&n.onDisappear(e,t))}function c(e){return!(!e||!e.datum)&&!e.datum._facetID}function f(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=n(199),p=n(620),h=n(621),m=n(622),g=n(623),y=void 0,v=!1;t.vega=r,t.vegaLite=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELAY=100},function(e,t,n){"use strict";function r(e,t){if("group"!==e.mark.marktype||"nested_main_group"!==e.mark.name){var n,r={};for(var a in e.datum)e.datum.hasOwnProperty(a)&&(r[a]=e.datum[a]);var f=["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"];return s(r,f),l(r,t.fields),u(r,t.fields),c(e.mark.marktype,r),n=t.showAllFields===!0?o(r,t):i(r,t)}}function i(e,t){var n=[];return t.fields.forEach(function(t){var r=t.title?t.title:t.field,i=a(e,t.field);if(void 0!==i){var o=f.customFormat(i,t.formatType,t.format)||f.autoFormat(i);n.push({title:r,value:o})}}),n}function a(e,t){var n,r=t.split("."),i=r[0];return r.shift(),e[i]&&(n=e[i],r.forEach(function(e){n=n,n[e]&&(n=n[e])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+t+" in data."):n}function o(e,t){var n=[],r={};if(t&&t.fields)for(var i=0,a=t.fields;i<a.length;i++){var o=a[i];r[o.field]=o}for(var s in e)if(e.hasOwnProperty(s)){var l=e[s],u=void 0;u=r[s]&&r[s].title?r[s].title:s;var c=void 0,d=void 0;r[s]&&(c=r[s].formatType,d=r[s].format);var p=f.customFormat(l,c,d)||f.autoFormat(l);n.push({title:u,value:p})}return n}function s(e,t){t.forEach(function(t){delete e[t]})}function l(e,t){t&&t.forEach(function(t){t.removeOriginalTemporalField&&s(e,[t.removeOriginalTemporalField])})}function u(e,t){if(t)return t.forEach(function(t){if(t.bin===!0){var n=t.field,r=n.concat("_start"),i=n.concat("_mid"),a=n.concat("_end"),o=e[r],l=e[a];if(void 0!==o&&void 0!==l){var u=o+"-"+l;e[n]=u}var c=[];c.push(r,i,a),s(e,c)}}),e}function c(e,t){if("line"===e||"area"===e){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i instanceof Date&&n.push(r)}s(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(618);t.getTooltipData=r,t.prepareCustomFieldsData=i,t.getValue=a,t.prepareAllFieldsData=o,t.removeFields=s,t.removeDuplicateTimeFields=l,t.combineBinFields=u,t.dropFieldsForLineArea=c},function(e,t,n){"use strict";function r(e,t){var n=[];return e.showAllFields!==!1?s.spec.fieldDefs(t).forEach(function(r){
var a=i(e.fields,r),s=o(a,r,t);n.push(s)}):e.fields&&e.fields.forEach(function(e){var r=a(s.spec.fieldDefs(t),e),i=o(e,r,t);n.push(i)}),e.fields=n,e}function i(e,t){if(t&&e&&!(e.length<=0))if(t.aggregate){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field&&i.aggregate===t.aggregate)return i}for(var a=0,o=e;a<o.length;a++){var i=o[a];if(i.field===t.field&&!i.aggregate)return i}}else for(var s=0,l=e;s<l.length;s++){var i=l[s];if(i.field===t.field)return i}}function a(e,t){if(t&&t.field&&e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field){if(!i.aggregate)return i;if(i.aggregate===t.aggregate||!t.aggregate)return i}}}function o(e,t,n){var r=s.util.extend({},n.config);if(!e&&!t)return void console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.");!e&&t&&(e={}),e&&!t&&(t={});var i={};if(i.field=t.field?s.fieldDef.field(t):e.field,t.type===l.TEMPORAL&&t.timeUnit){var a=t.field;i.removeOriginalTemporalField=a;for(var o=s.spec.fieldDefs(n),c=0,f=o;c<f.length;c++){var d=f[c];if(d.field===a&&!d.timeUnit){i.removeOriginalTemporalField=void 0;break}}}if(r.countTitle||(r.countTitle=s.config.defaultConfig.countTitle),i.title=e.title?e.title:s.fieldDef.title(t,r),i.formatType=e.formatType?e.formatType:u[t.type],e.format)i.format=e.format;else switch(i.formatType){case"time":i.format=t.timeUnit?s.timeUnit.formatExpression(t.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||s.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat;break;case"string":}return t.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}Object.defineProperty(t,"__esModule",{value:!0});var s=n(657),l=n(33),u={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};t.supplementOptions=r,t.getFieldOption=i,t.getFieldDef=a,t.supplementFieldOption=o},function(e,t,n){"use strict";function r(){var e;return e=c.select("#vis-tooltip").empty()?c.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):c.select("#vis-tooltip")}function i(e,t){e.selectAll("table").remove();var n=e.append("table").selectAll(".tooltip-row").data(t);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(e){return e.title+":"}),r.append("td").attr("class","value").text(function(e){return e.value})}function a(){c.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function o(e,t){var n=10,r=10;t&&t.offset&&void 0!==t.offset.x&&null!==t.offset.x&&(n=t.offset.x),t&&t.offset&&void 0!==t.offset.y&&null!==t.offset.y&&(r=t.offset.y),c.select("#vis-tooltip").style("top",function(){var t=this.getBoundingClientRect().height;return e.clientY+t+r<window.innerHeight?""+(e.clientY+r)+"px":""+(e.clientY-t-r)+"px"}).style("left",function(){var t=this.getBoundingClientRect().width;return e.clientX+t+n<window.innerWidth?""+(e.clientX+n)+"px":""+(e.clientX-t-n)+"px"})}function s(){c.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function l(e){u(),e&&"dark"===e.colorTheme?c.select("#vis-tooltip").classed("dark-theme",!0):c.select("#vis-tooltip").classed("light-theme",!0)}function u(){c.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(199);t.getTooltipPlaceholder=r,t.bindData=i,t.clearData=a,t.updatePosition=o,t.clearPosition=s,t.updateColorTheme=l,t.clearColorTheme=u},function(e,t){"use strict";function n(e){return function(t,n){return n[e]&&t.push(n[e].combine()),t}}function r(e){return[].concat(e.x?[].concat(e.x.reduce(i,[]),e.x.reduce(a,[])):[],e.y?[].concat(e.y.reduce(i,[]),e.y.reduce(a,[])):[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("main"),a=n("grid");t.assembleAxes=r},[667,38],function(e,t,n){"use strict";function r(e,t,n,r){return!n&&t[e]}function i(e,t){return!v.hasDiscreteDomain(e)&&!t.bin}function a(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function o(e,t,n,r){if("x"===n&&!_.labelAngle(t,n,e))return"log"!==r||"greedy"}function s(e,t,n){if("numeric"===v.getScaleCategory(t))return n.quantitativeExtent}function l(e){switch(e){case h.X:return"bottom";case h.Y:return"left"}throw new Error(y.message.INVALID_CHANNEL_FOR_AXIS)}function u(e,t){if(e===h.X&&!t.bin)return 5}function c(e,t,n){var r=g.title(t,n);return e?b.truncate(r,e):r}function f(e,t,n){var r=e.values;if(e.values&&m.isDateTime(r[0]))return r.map(function(e){return{signal:m.dateTimeExpr(e,!0)}});if(!r&&n.bin){var i=t.getName(p.binToString(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+i+".start, "+i+".stop + "+i+".step, "+i+".step)"}}return r}function d(e){return e?0:1}Object.defineProperty(t,"__esModule",{value:!0});var p=n(90),h=n(5),m=n(58),g=n(14),y=n(8),v=n(13),b=n(2),_=n(283);t.domainAndTicks=r,t.domain=r,t.ticks=r,t.grid=i,t.gridScale=a,t.labelOverlap=o,t.minMaxExtent=s,t.orient=l,t.tickCount=u,t.title=c,t.values=f,t.zindex=d},function(e,t,n){"use strict";function r(e,t){t&&l.set(t);try{var n=s.initConfig(e.config),r=u.normalize(e,n),o=f.buildModel(r,null,"",void 0,void 0,n);return o.parse(),a(o,i(e,n))}finally{t&&l.reset()}}function i(e,t){return o.__assign({},c.extractTopLevelProperties(t),c.extractTopLevelProperties(e))}function a(e,t){var n=e.config?s.stripConfig(e.config):void 0,r=(t.autoResize,o.__rest(t,["autoResize"])),i=e.assembleParentGroupProperties();i&&(delete i.width,delete i.height);var a=o.__assign({$schema:"https://vega.github.io/schema/vega/v3.0.json"},e.description?{description:e.description}:{},{autosize:t.autoResize?{type:"pad",resize:!0}:"pad"},r,i?{encode:{update:i}}:{},{data:[].concat(e.assembleSelectionData([]),e.assembleData())},e.assembleGroup([].concat(e.assembleLayoutSignals(),e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{});return{spec:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(299),l=n(8),u=n(95),c=n(660),f=n(19);t.compile=r},function(e,t,n){"use strict";function r(e){var t=e.component.legends,n={};return a.keys(t).forEach(function(r){var a=e.getScaleComponent(r),s=i(a.get("domain"));if(n[s])for(var l=0,u=n[s];l<u.length;l++){var c=u[l],f=o.mergeLegendComponent(c,t[r]);f||n[s].push(t[r])}else n[s]=[t[r].clone()]}),a.flatten(a.vals(n)).map(function(e){return e.combine()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(63),a=n(2),o=n(75);t.assembleLegends=r},[668,38],function(e,t,n){"use strict";function r(e,t,n,r){var i={},l=n.mark();switch(l){case s.BAR:case s.TICK:case s.TEXT:i.shape={value:"square"};break;case s.CIRCLE:case s.SQUARE:i.shape={value:l};break;case s.POINT:case s.LINE:case s.AREA:}var u=(n.config,n.markDef.filled),p=r===a.COLOR?c.without(s.FILL_STROKE_CONFIG,[u?"fill":"stroke","strokeDash","strokeDashOffset"]):s.FILL_STROKE_CONFIG;if(p=c.without(p,["strokeDash","strokeDashOffset"]),f.applyMarkConfig(i,n,p),r!==a.COLOR){var h=d.color(n);h.fill&&h.fill.field&&delete h.fill,h.stroke&&h.stroke.field&&delete h.stroke,c.extend(i,h)}if(r!==a.SHAPE){var m=n.encoding.shape;o.isValueDef(m)&&(i.shape={value:m.value})}return i=c.extend(i,t||{}),c.keys(i).length>0?i:void 0}function i(e,t,n,r){var i=n.legend(r),a=n.config,o={};if(e.type===u.TEMPORAL){var s=n.getScaleComponent(r).get("type")===l.ScaleType.UTC;t=c.extend({text:{signal:f.timeFormatExpression("datum.value",e.timeUnit,i.format,a.legend.shortTimeLabels,a.timeFormat,s)}},t||{})}return o=c.extend(o,t||{}),c.keys(o).length>0?o:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=n(14),s=n(28),l=n(13),u=n(33),c=n(2),f=n(19),d=n(49);t.symbols=r,t.labels=i},function(e,t,n){"use strict";function r(e){var t=e.values;return t&&o.isDateTime(t[0])?t.map(function(e){return{signal:o.dateTimeExpr(e,!0)}}):t}function i(e,t,n){if(t===a.COLOR&&("quantitative"===e&&!s.isBinScale(n)||"temporal"===e&&l.contains(["time","utc"],n)))return"gradient"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),o=n(58),s=n(13),l=n(2);t.values=r,t.type=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(49);t.area={vgMark:"area",defaultRole:void 0,encodeEntry:function(e){return r.__assign({},i.pointPosition("x",e,"zeroOrMin"),i.pointPosition("y",e,"zeroOrMin"),i.pointPosition2(e,"zeroOrMin"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.markDefProperties(e.markDef,["orient","interpolate","tension"]))}}},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,i=e.markDef.orient,s=e.encoding.size,c=e.encoding.x,d=e.scaleName(l.X),m=e.getScaleComponent(l.X);if("horizontal"===i)return o.__assign({},p.pointPosition("x",e,"zeroOrMin"),p.pointPosition2(e,"zeroOrMin"));if(u.isFieldDef(c)){if(c.bin&&!s)return p.binnedPosition(c,"x",e.scaleName("x"),n.bar.binSpacing);var g=m.get("type");if(g===f.ScaleType.BAND)return p.bandPosition(c,"x",e)}return p.centeredBandPosition("x",e,o.__assign({},h.midX(r,n)),a(d,m,n))}function i(e,t){var n=e.config,r=e.encoding,i=e.height,s=e.markDef.orient,c=r.size,d=r.y,m=e.scaleName(l.Y),g=e.getScaleComponent(l.Y);if("vertical"===s)return o.__assign({},p.pointPosition("y",e,"zeroOrMin"),p.pointPosition2(e,"zeroOrMin"));if(u.isFieldDef(d)){var y=g.get("type");if(d.bin&&!c)return p.binnedPosition(d,"y",e.scaleName("y"),n.bar.binSpacing);if(y===f.ScaleType.BAND)return p.bandPosition(d,"y",e)}return p.centeredBandPosition("y",e,h.midY(i,n),a(m,g,n))}function a(e,t,n){if(n.bar.discreteBandSize)return{value:n.bar.discreteBandSize};if(t){var r=t.get("type");if(r!==f.ScaleType.POINT)return r===f.ScaleType.BAND?h.band(e):{value:n.bar.continuousBandSize};var i=t.get("range");if(d.isVgRangeStep(i)&&s.isNumber(i.step))return{value:i.step-1};c.warn(c.message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return n.scale.rangeStep&&null!==n.scale.rangeStep?{value:n.scale.rangeStep-1}:{value:20}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(15),l=n(5),u=n(14),c=n(8),f=n(13),d=n(52),p=n(49),h=n(76);t.bar={vgMark:"rect",defaultRole:"bar",encodeEntry:function(e){var t=e.stack;return o.__assign({},r(e,t),i(e,t),p.color(e),p.text(e,"tooltip"),p.nonPosition("opacity",e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(49);t.line={vgMark:"line",defaultRole:void 0,encodeEntry:function(e){return r.__assign({},i.pointPosition("x",e,"zeroOrMin"),i.pointPosition("y",e,"zeroOrMin"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"}),i.markDefProperties(e.markDef,["interpolate","tension"]))}}},function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,o=e.height;return a.__assign({},s.pointPosition("x",e,l.midX(r,n)),s.pointPosition("y",e,l.midY(o,n)),s.color(e),s.text(e,"tooltip"),s.nonPosition("size",e),i(e,n,t),s.nonPosition("opacity",e))}function i(e,t,n){return n?{shape:{value:n}}:s.nonPosition("shape",e,{defaultValue:o.getMarkConfig("shape",e.markDef,t)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(19),s=n(49),l=n(76);t.shapeMixins=i,t.point={vgMark:"symbol",defaultRole:"point",encodeEntry:function(e){return r(e)}},t.circle={vgMark:"symbol",defaultRole:"circle",encodeEntry:function(e){return r(e,"circle")}},t.square={vgMark:"symbol",defaultRole:"square",encodeEntry:function(e){return r(e,"square")}}},function(e,t,n){"use strict";function r(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(o.X),i=r?r.get("type"):void 0;if(s.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"x",e.scaleName("x"),0);if(s.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"x",e);throw new Error(l.message.scaleTypeNotWorkWithMark(u.RECT,i))}return a.__assign({},f.pointPosition("x",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","x2"))}function i(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(o.Y),i=r?r.get("type"):void 0;if(s.isFieldDef(t)&&t.bin&&!n)return f.binnedPosition(t,"y",e.scaleName("y"),0);if(s.isFieldDef(t)&&r&&c.hasDiscreteDomain(i)){if(i===c.ScaleType.BAND)return f.bandPosition(t,"y",e);throw new Error(l.message.scaleTypeNotWorkWithMark(u.RECT,i))}return a.__assign({},f.pointPosition("y",e,"zeroOrMax"),f.pointPosition2(e,"zeroOrMin","y2"))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(5),s=n(14),l=n(8),u=n(28),c=n(13),f=n(49);t.rect={vgMark:"rect",defaultRole:void 0,encodeEntry:function(e){return a.__assign({},r(e),i(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(49),a=n(76);t.rule={vgMark:"rule",defaultRole:void 0,encodeEntry:function(e){var t=e.config,n=e.markDef,o=e.width,s=e.height,l=n.orient;return r.__assign({},i.pointPosition("x",e,"horizontal"===l?"zeroOrMin":a.midX(o,t)),i.pointPosition("y",e,"vertical"===l?"zeroOrMin":a.midY(s,t)),i.pointPosition2(e,"zeroOrMax"),i.color(e),i.text(e,"tooltip"),i.nonPosition("opacity",e),i.nonPosition("size",e,{vgChannel:"strokeWidth"}))}}},function(e,t,n){"use strict";function r(e,t){return l.isFieldDef(t)&&t.type===u.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function i(e,t,n){var r=c.getMarkConfig("align",e,n);if(void 0===r)return s.channelHasField(t,o.X)?"center":"right"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(5),s=n(32),l=n(14),u=n(33),c=n(19),f=n(49),d=n(76);t.text={vgMark:"text",defaultRole:void 0,encodeEntry:function(e){var t=e.config,n=e.encoding,o=e.height,s=n.text;return a.__assign({},f.pointPosition("x",e,r(t,s)),f.pointPosition("y",e,d.midY(o,t)),f.text(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e),f.nonPosition("size",e,{vgChannel:"fontSize"}),f.valueIfDefined("align",i(e.markDef,n,t)))}}},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.orient,r=e.getScaleComponent("horizontal"===n?"x":"y");if(void 0!==t.tick.bandSize)return t.tick.bandSize;var i=r?r.get("range"):void 0,o=i&&a.isVgRangeStep(i)?i.step:t.scale.rangeStep;if("number"!=typeof o)throw new Error("Function does not handle non-numeric rangeStep");return o/1.5}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(52),o=n(49),s=n(76);t.tick={vgMark:"rect",defaultRole:"tick",encodeEntry:function(e){var t=e.config,n=e.markDef,a=e.width,l=e.height,u=n.orient,c="horizontal"===u?"width":"height",f="horizontal"===u?"height":"width";return i.__assign({},o.pointPosition("x",e,s.midX(a,t),"xc"),o.pointPosition("y",e,s.midY(l,t),"yc"),o.nonPosition("size",e,{defaultValue:r(e),vgChannel:c}),(d={},d[f]={value:t.tick.thickness},d),o.color(e),o.nonPosition("opacity",e));var d}}},function(e,t,n){"use strict";function r(e){return s.keys(e.component.scales).reduce(function(t,n){var r=e.component.scales[n];if(r.merged)return t;var s=r.combine(["name","type","domain","domainRaw","range"]);s.range=i(s.range,s.name,e,n);var c=r.get("domainRaw");c&&u.isRawSelectionDomain(c)&&(s.domainRaw=u.selectionScaleDomain(e,c));var f=r.get("domain");if(l.isDataRefDomain(f)||l.isFieldRefUnionDomain(f))f.data=e.lookupDataSource(f.data),t.push(s);else if(l.isDataRefUnionedDomain(f))f.fields=f.fields.map(function(t){return a.__assign({},t,{data:e.lookupDataSource(t.data)})}),t.push(s);else{if(!l.isSignalRefDomain(f)&&!o.isArray(f))throw new Error("invalid scale domain");t.push(s)}return t},[])}function i(e,t,n,r){if("x"===r||"y"===r){if(l.isVgRangeStep(e))return{step:{signal:t+"_step"}};if(o.isArray(e)&&2===e.length){var i=e[0],a=e[1];if(0===i&&l.isVgSignalRef(a))return[0,{signal:n.getSizeName(a.signal)}];if(l.isVgSignalRef(i)&&0===a)return[{signal:n.getSizeName(i.signal)},0]}}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(15),s=n(2),l=n(52),u=n(25);t.assembleScale=r,t.assembleScaleRange=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(38),a=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.setWithExplicit("type",n),r}return r.__extends(t,e),t}(i.Split);t.ScaleComponent=a},function(e,t,n){"use strict";function r(e){e instanceof T.UnitModel?i(e):a(e)}function i(e){var t=e.specifiedScales,n=e.component.scales;w.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=a&&!_.isSelectionDomain(a),l=s(e,r),u=n[r];u.set("domain",l,o),_.isSelectionDomain(a)&&u.set("domainRaw",{signal:M.SELECTION_DOMAIN+JSON.stringify(a)},!0)})}function a(e){for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}var a=e.component.scales;w.keys(a).forEach(function(t){for(var n,r=0,i=e.children;r<i.length;r++){var o=i[r],s=o.component.scales[t];if(s){var l=s.get("domain");n=void 0===n?l:d(n,l)}}e instanceof E.FacetModel&&(O.isDataRefDomain(n)||O.isFieldRefUnionDomain(n)?n.data=k.FACET_SCALE_PREFIX+e.getName(n.data):O.isDataRefUnionedDomain(n)&&(n.fields=n.fields.map(function(t){return p.__assign({},t,{data:k.FACET_SCALE_PREFIX+e.getName(t.data)})}))),a[t].set("domain",n,!0)})}function o(e,t,n,r){if("unaggregated"===e){var i=c(t,n),a=i.valid,o=i.reason;if(!a)return void b.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=c(t,n).valid;if(a)return"unaggregated"}return e}function s(e,t){var n=e.getScaleComponent(t).get("type"),r=o(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=p.__assign({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?d(l(n,r,e,"x"),l(n,r,e,"x2")):l(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?d(l(n,r,e,"y"),l(n,r,e,"y2")):l(n,r,e,"y2"):l(n,r,e,t)}function l(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!_.isSelectionDomain(t)){if(!i.bin)return v.isDateTime(t[0])?t.map(function(e){return{signal:v.dateTimeExpr(e,!0)}}):t;b.warn(b.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel)return"normalize"===a.offset?[0,1]:{data:n.requestDataName(y.MAIN),fields:[n.field(r,{suffix:"start"}),n.field(r,{suffix:"end"})]};var o=g.isScaleChannel(r)?u(n,r,e):void 0;if("unaggregated"===t)return{data:n.requestDataName(y.MAIN),fields:[n.field(r,{aggregate:"min"}),n.field(r,{aggregate:"max"})]};if(i.bin){if(_.isBinScale(e)){var s=n.getName(m.binToString(i.bin)+"_"+i.field+"_bins");return{signal:"sequence("+s+".start, "+s+".stop + "+s+".step, "+s+".step)"}}return _.hasDiscreteDomain(e)?{data:n.requestDataName(y.MAIN),field:n.field(r,{binSuffix:"range"}),sort:{field:n.field(r,{binSuffix:"start"}),op:"min"}}:"x"===r||"y"===r?{data:n.requestDataName(y.MAIN),fields:[n.field(r,{binSuffix:"start"}),n.field(r,{binSuffix:"end"})]}:{data:n.requestDataName(y.MAIN),field:n.field(r,{binSuffix:"start"})}}return o?{data:S.isBoolean(o)?n.requestDataName(y.MAIN):n.requestDataName(y.RAW),field:n.field(r),sort:o}:{data:n.requestDataName(y.MAIN),field:n.field(r)}}function u(e,t,n){if(_.hasDiscreteDomain(n)){var r=e.sort(t);return x.isSortField(r)?r:"descending"===r?{op:"min",field:e.field(t),order:"descending"}:!!S.contains(["ascending",void 0],r)||void 0}}function c(e,t){return e.aggregate?h.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:b.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:b.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:b.message.unaggregateDomainHasNoEffectForRawField(e)}}function f(e){if(S.isArray(e))return[e];if(O.isSignalRefDomain(e))return[e];if(O.isDataRefDomain(e))return delete e.sort,[e];if(O.isFieldRefUnionDomain(e))return e.fields.map(function(t){return{data:e.data,field:t}});if(O.isDataRefUnionedDomain(e))return e.fields;throw new Error(b.message.INVAID_DOMAIN)}function d(e,t){var n=f(e),r=f(t),i=n.concat(r);if(i=S.unique(i,S.hash),i.length>1){var a=i.map(function(e){return O.isDataRefDomain(e)?e.data:null});if(1===S.unique(a,function(e){return e}).length&&null!==a[0]){var o={data:a[0],fields:i.map(function(e){return e.field})};return o}return{fields:i,sort:!0}}return i[0]}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(89),m=n(90),g=n(5),y=n(77),v=n(58),b=n(8),_=n(13),x=n(181),S=n(2),w=n(2),O=n(52),k=n(74),E=n(118),M=n(25),T=n(39);t.parseScaleDomain=r,t.parseDomainForChannel=s,t.domainSort=u,t.canUseUnaggregatedDomain=c,t.unionDomains=d},function(e,t,n){"use strict";function r(e){i(e),m.parseScaleDomain(e);for(var t=0,n=u.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++){var r=n[t];g.parseScaleProperty(e,r)}y.parseScaleRange(e)}function i(e){e instanceof p.UnitModel?e.component.scales=a(e):e.component.scales=o(e)}function a(e){var t=e.encoding,n=e.config,r=e.mark();return s.SCALE_CHANNELS.reduce(function(i,a){var o,s={},u=t[a];if(l.isFieldDef(u)?(o=u,s=u.scale||{}):l.isConditionalDef(u)&&l.isFieldDef(u.condition)?(o=u.condition,s=u.condition.scale||{}):"x"===a?o=l.getFieldDef(t.x2):"y"===a&&(o=l.getFieldDef(t.y2)),o){var c=s.type,f=v.scaleType(s.type,a,o,r,s.rangeStep,n.scale);i[a]=new h.ScaleComponent(e.scaleName(a+"",!0),{value:f,explicit:c===f})}return i},{})}function o(e){for(var t=e.component.scales={},n={},r=e.component.resolve,a=function(t){i(t),c.keys(t.component.scales).forEach(function(i){if(r[i]=r[i]||{},r[i].scale=r[i].scale||f.defaultScaleResolve(i,e),"shared"===e.component.resolve[i].scale){var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?u.scaleCompatible(a.value,o.value)?n[i]=d.mergeValuesWithExplicit(a,o,"type","scale",b):(e.component.resolve[i].scale="independent",delete n[i]):n[i]=o}})},o=0,s=e.children;o<s.length;o++){var l=s[o];a(l)}return c.keys(n).forEach(function(r){for(var i=e.scaleName(r,!0),a=n[r],o=(t[r]=new h.ScaleComponent(i,a),0),s=e.children;o<s.length;o++){var l=s[o],u=l.component.scales[r];u&&(l.renameScale(u.get("name"),i),u.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),l=n(14),u=n(13),c=n(2),f=n(121),d=n(38),p=n(39),h=n(641),m=n(642),g=n(296),y=n(297),v=n(644);t.parseScale=r,t.parseScaleCore=i;var b=d.tieBreakByComparing(function(e,t){return u.scaleTypePrecedence(e)-u.scaleTypePrecedence(t)})},function(e,t,n){"use strict";function r(e,t,n,r,a,u){var c=i(t,n,r,a,u);return s.hasScale(t)?void 0!==e?s.supportScaleType(t,e)?o(e,n)?e:(l.warn(l.message.scaleTypeNotWorkWithFieldDef(e,c)),c):(l.warn(l.message.scaleTypeNotWorkWithChannel(t,e,c)),c):c:null}function i(e,t,n,r,i){switch(t.type){case"nominal":return"color"===e||"discrete"===s.rangeType(e)?"ordinal":a(e,n,r,i);case"ordinal":return"color"===e?"ordinal":"discrete"===s.rangeType(e)?("text"!==e&&"tooltip"!==e&&l.warn(l.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):a(e,n,r,i);case"temporal":return"color"===e?f.isDiscreteByDefault(t.timeUnit)?"ordinal":"sequential":"discrete"===s.rangeType(e)?(l.warn(l.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):f.isDiscreteByDefault(t.timeUnit)?a(e,n,r,i):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===s.rangeType(e)?(l.warn(l.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear"}throw new Error(l.message.invalidFieldType(t.type))}function a(e,t,n,r){if(p.contains(["x","y"],e)){if("rect"===t)return"band";if("bar"===t)return"band"}return"point"}function o(e,t){var n=t.type;return h.contains([d.Type.ORDINAL,d.Type.NOMINAL],n)?void 0===e||c.hasDiscreteDomain(e):n===d.Type.TEMPORAL?t.timeUnit?h.contains([u.ScaleType.TIME,u.ScaleType.UTC,void 0],e)||c.hasDiscreteDomain(e):h.contains([u.ScaleType.TIME,u.ScaleType.UTC,void 0],e):n!==d.Type.QUANTITATIVE||(t.bin?e===u.ScaleType.BIN_LINEAR||e===u.ScaleType.BIN_ORDINAL:h.contains([u.ScaleType.LOG,u.ScaleType.POW,u.ScaleType.SQRT,u.ScaleType.QUANTILE,u.ScaleType.QUANTIZE,u.ScaleType.LINEAR,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),l=n(8),u=n(13),c=n(13),f=n(59),d=n(33),p=n(2),h=n(2);t.scaleType=r,t.fieldDefMatchScaleType=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(298),a=n(25),o={predicate:i.default.predicate,scaleDomain:i.default.scaleDomain,signals:i.default.signals,topLevelSignals:function(e,t,n){var i=n.filter(function(e){return e.name===t.name}),o="data("+r.stringValue(t.name+a.STORE)+")",s=o+"[0].values";return i.length?n:n.concat({name:t.name,update:o+".length && {"+t.project.map(function(e,t){return e.field+": "+s+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){var n=t.name+a.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+r.stringValue(e.getName(""))+"}")}};t.default=o},function(e,t,n){"use strict";function r(e){return"_"+e.replace(/\W/g,"_")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(25),o=n(179),s={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var a=t.name,s=t.project,l=t.bind,u=o.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return s.forEach(function(e){n.unshift({name:a+r(e.field),value:"",on:[{events:t.events,update:"datum && "+u+"["+i.stringValue(e.field)+"]"}],bind:l[e.field]||l[e.channel]||l})}),n},signals:function(e,t,n){var o=t.name,s=t.project,l=n.filter(function(e){return e.name===o+a.TUPLE})[0],u=s.map(function(e){return i.stringValue(e.field)}).join(", "),c=s.map(function(e){return o+r(e.field)}).join(", ");return l.update="{fields: ["+u+"], values: ["+c+"]}",delete l.value,delete l.on,n}};t.default=s},[670,8,2,92],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(25),a="_toggle",o={has:function(e){return"multi"===e.type&&e.toggle},signals:function(e,t,n){return n.concat({name:t.name+a,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var o=t.name+i.TUPLE,s=t.name+a;return s+" ? null : "+o+", "+("global"===t.resolve?s+" ? null : true, ":s+" ? null : {unit: "+r.stringValue(e.getName(""))+"}, ")+(s+" ? "+o+" : null")}};t.default=o},function(e,t,n){"use strict";function r(e,t){for(var n in f)f[n].has(e)&&t(f[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(646),a=n(179),o=n(647),s=n(122),l=n(648),u=n(650),c=n(651),f={project:o.default,toggle:l.default,scales:s.default,translate:u.default,zoom:c.default,inputs:i.default,nearest:a.default};t.forEachTransform=r},function(e,t,n){"use strict";function r(e,t,n,r,i){var o=t.name,f=l.default.has(t),d=i.filter(function(e){return e.name===s.channelSignalName(t,n,f?"data":"visual")})[0],p=o+u,h=o+c,m=e.getSizeSignalRef(r).signal,g=e.getScaleComponent(n).get("type"),y=f&&n===a.X?"-":"",v=p+".extent_"+n,b=""+y+h+"."+n+" / "+(f?""+m:"span("+v+")"),_=f?"log"===g?"panLog":"pow"===g?"panPow":"panLinear":"panLinear",x=_+"("+v+", "+b+")";d.on.push({events:{signal:h},update:f?x:"clampRange("+x+", 0, "+m+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(71),a=n(5),o=n(178),s=n(25),l=n(122),u="_translate_anchor",c="_translate_delta",f={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var f=t.name,d=l.default.has(t),p=f+u,h=s.spatialProjections(t),m=h.x,g=h.y,y=i.selector(t.translate,"scope");return d||(y=y.map(function(e){return e.between[0].markname=f+o.BRUSH,e})),n.push({name:p,value:{},on:[{events:y.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==m?", extent_x: "+(d?l.domain(e,a.X):"slice("+s.channelSignalName(t,"x","visual")+")"):"")+(null!==g?", extent_y: "+(d?l.domain(e,a.Y):"slice("+s.channelSignalName(t,"y","visual")+")"):"")+"}"}]},{name:f+c,value:{},on:[{events:y,update:"{x: "+p+".x - x(unit), y: "+p+".y - y(unit)}"}]}),null!==m&&r(e,t,a.X,"width",n),null!==g&&r(e,t,a.Y,"height",n),n}};t.default=f},function(e,t,n){"use strict";function r(e,t,n,r,i){var a=t.name,o=u.default.has(t),s=i.filter(function(e){return e.name===l.channelSignalName(t,n,o?"data":"visual")})[0],d=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(n).get("type"),h=o?u.domain(e,n):s.name,m=a+f,g=""+a+c+"."+n,y=o?"log"===p?"zoomLog":"pow"===p?"zoomPow":"zoomLinear":"zoomLinear",v=y+"("+h+", "+g+", "+m+")";s.on.push({events:{signal:m},update:o?v:"clampRange("+v+", 0, "+d+")"})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(71),a=n(5),o=n(2),s=n(178),l=n(25),u=n(122),c="_zoom_anchor",f="_zoom_delta",d={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var d=t.name,p=u.default.has(t),h=d+f,m=l.spatialProjections(t),g=m.x,y=m.y,v=o.stringValue(e.scaleName(a.X)),b=o.stringValue(e.scaleName(a.Y)),_=i.selector(t.zoom,"scope");return p||(_=_.map(function(e){return e.markname=d+s.BRUSH,e})),n.push({name:d+c,on:[{events:_,update:p?"{"+[v?"x: invert("+v+", x(unit))":"",b?"y: invert("+b+", y(unit))":""].filter(function(e){return!!e}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:h,on:[{events:_,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==g&&r(e,t,"x","width",n),null!==y&&r(e,t,"y","height",n),n}};t.default=d},function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return u.__assign({},e,{encoding:f.reduce(e.encoding,function(e,n,r){return m.indexOf(r)>-1?e[r]=n:h.warn(h.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,e.selection,u.__rest(e,["mark","encoding","selection"])),s=void 0;r(n)&&n.extent&&c.isNumber(n.extent)&&(s=n.extent);var f=o(e),d=l(e,f,s),p=d.transform,h=d.continuousAxisChannelDef,m=d.continuousAxis,g=d.encodingWithoutContinuousAxis,y=g.size,v=(g.color,u.__rest(g,["size","color"])),b=y?{size:y}:{size:{value:t.box.size}},_={};return h.scale&&(_.scale=h.scale),h.axis&&(_.axis=h.axis),u.__assign({},a,{transform:p,layer:[{mark:{type:"rule",role:"boxWhisker"},encoding:u.__assign((x={},x[m]=u.__assign({field:"lowerWhisker",type:h.type},_),x[m+"2"]={field:"lowerBox",type:h.type},x),v)},{mark:{type:"rule",role:"boxWhisker"},encoding:u.__assign((S={},S[m]={field:"upperBox",type:h.type},S[m+"2"]={field:"upperWhisker",type:h.type},S),v)},{mark:{type:"bar",role:"box"},encoding:u.__assign((w={},w[m]={field:"lowerBox",type:h.type},w[m+"2"]={field:"upperBox",type:h.type},w),g,b)},{mark:{type:"tick",role:"boxMid"},encoding:u.__assign((O={},O[m]={field:"midBox",type:h.type},O),v,b)}]});var x,S,w,O}function o(e){var n=e.mark,i=e.encoding;u.__rest(e,["mark","encoding"]);if(p.isFieldDef(i.x)&&p.isContinuous(i.x)){if(p.isFieldDef(i.y)&&p.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(p.isFieldDef(i.y)&&p.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function s(e,n){var r,i,a=(e.mark,e.encoding);u.__rest(e,["mark","encoding"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,s=u.__rest(r,["aggregate"]);o!==t.BOXPLOT&&h.warn("Continuous axis should not have customized aggregation function "+o),r=s}return{continuousAxisChannelDef:r,continuousAxis:i}}function l(e,n,r){var i=s(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,l=e.encoding,u=void 0===r,c=[{aggregate:"q1",field:a.field,as:"lowerBox"},{aggregate:"q3",field:a.field,as:"upperBox"},{aggregate:"median",field:a.field,as:"midBox"}],f=[];u?(c.push({aggregate:"min",field:a.field,as:"lowerWhisker"}),c.push({aggregate:"max",field:a.field,as:"upperWhisker"})):f=[{calculate:"datum.upperBox - datum.lowerBox",as:"IQR"},{calculate:"datum.lowerBox - datum.IQR * "+r,as:"lowerWhisker"},{calculate:"datum.upperBox + datum.IQR * "+r,as:"lowerWhisker"}];var h=[],m=[],g=[],y={};return d.forEach(l,function(e,n){if(n!==o)if(p.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({aggregate:e.aggregate,field:e.field,as:p.field(e)});else if(void 0===e.aggregate){var r=p.field(e),i=e.bin;if(i){var a=e.field;m.push({bin:i,field:a,as:r})}else if(e.timeUnit){var s=e.timeUnit,u=e.field;g.push({timeUnit:s,field:u,as:r})}h.push(r);
}y[n]={field:p.field(e),type:e.type}}else y[n]=l[n]}),{transform:[].concat(m,g,[{summarize:c,groupby:h}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:y}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=n(15),f=n(32),d=n(32),p=n(14),h=n(8);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_ROLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size"]};var m=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},612,613,function(e,t,n){"use strict";function r(e){return e&&e.selection}function i(e){return e&&!!e.field&&void 0!==e.equal}function a(e){return!!(e&&e.field&&p.isArray(e.range)&&2===e.range.length)}function o(e){return e&&!!e.field&&(p.isArray(e.oneOf)||p.isArray(e.in))}function s(e,t,n){return p.logicalExpr(t,function(t){if(p.isString(t))return t;if(r(t))return u.predicate(e,t.selection,n);var s=t.timeUnit?"time("+d.fieldExpr(t.timeUnit,t.field)+")":f.field(t,{expr:"datum"});if(i(t))return s+"==="+l(t.equal,t.timeUnit);if(o(t)){var c=t.oneOf||t.in;return"indexof(["+c.map(function(e){return l(e,t.timeUnit)}).join(",")+"], "+s+") !== -1"}if(a(t)){var h=t.range[0],m=t.range[1];if(null!==h&&null!==m)return"inrange("+s+", ["+l(h,t.timeUnit)+", "+l(m,t.timeUnit)+"])";if(null!==h)return s+" >= "+h;if(null!==m)return s+" <= "+m}})}function l(e,t){if(c.isDateTime(e)){var n=c.dateTimeExpr(e,!0);return"time("+n+")"}if(d.isSingleTimeUnit(t)){var r={};r[t]=e;var n=c.dateTimeExpr(r,!0);return"time("+n+")"}return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(25),c=n(58),f=n(14),d=n(59),p=n(2);t.isSelectionFilter=r,t.isEqualFilter=i,t.isRangeFilter=a,t.isOneOfFilter=o,t.expression=s},614,[672,175,89,90,5,123,627,299,77,58,32,654,14,180,28,13,181,95,182,59,183,33,2,661,428],function(e,t){"use strict";function n(e){return!!e.or}function r(e){return!!e.and}function i(e){return!!e.not}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicalOr=n,t.isLogicalAnd=r,t.isLogicalNot=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig={single:{on:"click",fields:["_id"],resolve:"global"},multi:{on:"click",fields:["_id"],toggle:"event.shiftKey",resolve:"global"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}}},615,function(e,t,n){"use strict";function r(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var o=i.isMarkDef(e.mark)?e.mark.type:e.mark,s=e.encoding,l=n[o],u=r[o];for(var c in l)if(!(l[c]in s))return'Missing encoding channel "'+l[c]+'" for mark "'+o+'"';for(var f in s)if(!u[f])return'Encoding channel "'+f+'" is not supported by mark type "'+o+'"';return o!==a.BAR||s.x||s.y?null:"Missing both x and y for bar"}Object.defineProperty(t,"__esModule",{value:!0});var i=n(28),a=n(28),o=n(2);t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:o.toSet(["row","column","x","y","size","color","detail"]),line:o.toSet(["row","column","x","y","color","detail"]),area:o.toSet(["row","column","x","y","color","detail"]),tick:o.toSet(["row","column","x","y","color","detail"]),circle:o.toSet(["row","column","x","y","color","size","detail"]),square:o.toSet(["row","column","x","y","color","size","detail"]),point:o.toSet(["row","column","x","y","color","size","detail","shape"]),text:o.toSet(["row","column","size","color","text"])},t.getEncodingMappingError=r},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function l(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},u.call(f.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];h.redirect=function(e,t){if(y.indexOf(t)===-1)throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:p(o),url:i()},t="response"in o?o.response:o.responseText;n(new h(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},300,function(e,t,n,r){"use strict";var i=n(r),a=(n(4),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},l=function(e,t,n,r){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r),a}return new i(e,t,n,r)},u=function(e){var t=this;e instanceof t?void 0:i("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,f=a,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||f,n.poolSize||(n.poolSize=c),n.release=u,n},p={addPoolingTo:d,oneArgumentPooler:a,twoArgumentPooler:o,threeArgumentPooler:s,fourArgumentPooler:l};e.exports=p},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(r),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t}(a.Split);t.AxisComponentPart=o},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(r),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t}(a.Split);t.LegendComponent=o},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(r),a="voronoi",o={has:function(e){return"interval"!==e.type&&e.nearest},marks:function(e,t,n,r){var o=i.spatialProjections(t),s=o.x,l=o.y,u=n[0],c=r.indexOf(u),f=u.name===e.getName("pathgroup"),d=function(e){return e.name&&e.name.indexOf(a)>=0},p={name:e.getName(a),type:"path",from:{data:e.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:s||!s&&!l?"datum.x":{expr:"0"},y:l||!s&&!l?"datum.y":{expr:"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};return f&&!u.marks.filter(d).length?(u.marks.push(p),r.splice(c,1,u)):f||r.filter(d).length||r.splice(c+1,0,p),r}};t.default=o},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=n(a),u={has:function(e){return void 0!==e.fields||void 0!==e.encodings},parse:function(e,t,n){var r={},i={};(t.fields||[]).forEach(function(e){return r[e]=null}),(t.encodings||[]).forEach(function(t){var n=e.fieldDef(t);if(n)if(n.timeUnit){var a=e.field(t);r[a]=t,i[a]={as:a,field:n.field,timeUnit:n.timeUnit}}else r[n.field]=t;else o.warn(o.message.cannotProjectOnChannelWithoutField(t))});var a=n.project||(n.project=[]);for(var u in r)r.hasOwnProperty(u)&&a.push({field:u,channel:r[u]});var c=n.fields||(n.fields={});a.filter(function(e){return e.channel}).forEach(function(e){return c[e.channel]=e.field}),s.keys(i).length&&(n.timeUnit=new l.TimeUnitNode(i))}};t.default=u},function(e,t,n,r,i){"use strict";function a(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}function o(e){if(f.isNumber(e))return e>4&&c.warn(c.message.invalidTimeUnit("quarter",e)),e-1+"";throw new Error(c.message.invalidTimeUnit("quarter",e))}function s(e){if(f.isNumber(e))return e-1+"";var n=e.toLowerCase(),r=t.MONTHS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_MONTHS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("month",e))}function l(e){if(f.isNumber(e))return e%7+"";var n=e.toLowerCase(),r=t.DAYS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_DAYS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("day",e))}function u(e,t){void 0===t&&(t=!1);var n=[];if(t&&void 0!==e.day&&f.keys(e).length>1&&(c.warn(c.message.droppedDay(e)),e=f.duplicate(e),delete e.day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(d):n.push(0),void 0!==e.month){var r=t?s(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?o(e.quarter):e.quarter;n.push(i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?l(e.day):e.day;n.push(a+"+1")}else n.push(1);for(var u=0,p=["hours","minutes","seconds","milliseconds"];u<p.length;u++){var h=p[u];void 0!==e[h]?n.push(e[h]):n.push(0)}return e.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=2006;t.isDateTime=a,t.MONTHS=["january","february","march","april","may","june","july","august","september","october","november","december"],t.SHORT_MONTHS=t.MONTHS.map(function(e){return e.substr(0,3)}),t.DAYS=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t.SHORT_DAYS=t.DAYS.map(function(e){return e.substr(0,3)}),t.dateTimeExpr=u},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b,_,x,S,w,O,k,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axis=n(r),t.aggregate=n(i),t.bin=n(a),t.channel=n(o),t.compositeMark=n(s);var M=n(l);t.compile=M.compile,t.config=n(u),t.data=n(c),t.datetime=n(f),t.encoding=n(d),t.facet=n(p),t.fieldDef=n(h),t.legend=n(m),t.mark=n(g),t.scale=n(y),t.sort=n(v),t.spec=n(b),t.stack=n(_),t.timeUnit=n(x),t.transform=n(S),t.type=n(w),t.util=n(O),t.validate=n(k),t.version=n(E).version}]));
//# sourceMappingURL=main.35bb183a.js.map
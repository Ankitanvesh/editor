!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/editor/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(233),e.exports=n(284)},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0,i=t;r<i.length;r++){var a=i[r];e.hasOwnProperty(a)&&(n[a]=e[a])}return n}function i(e,t){for(var n=x(e),r=0,i=t;r<i.length;r++){var a=i[r];delete n[a]}return n}function a(e){if(T.isNumber(e))return e;var t=T.isString(e)?e:M(e);if(t.length<100)return t;for(var n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);n=(n<<5)-n+i,n&=n}return n}function o(e,t){return e.indexOf(t)>-1}function s(e,t){return e.filter(function(e){return!o(t,e)})}function l(e,t){return e.concat(s(t,e))}function u(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function f(e){return[].concat.apply([],e)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=p(e,a)}return e}function p(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||T.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=d(T.isArray(t[n].constructor)?[]:{},t[n]):d(e[n],t[n]));return e}function h(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var s=o[a];n=t(s),n in i||(i[n]=1,r.push(s))}return r}function m(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function g(e,t){for(var n in e)if(n in t)return!0;return!1}function y(e){return!isNaN(e)}function v(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function b(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function _(e){return t.keys(e)}function x(e){return JSON.parse(JSON.stringify(e))}function w(e){return e===!0||e===!1}function O(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function S(e,t){return C.isLogicalNot(e)?"!("+S(e.not,t)+")":C.isLogicalAnd(e)?"("+e.and.map(function(e){return S(e,t)}).join(") && (")+")":C.isLogicalOr(e)?"("+e.or.map(function(e){return S(e,t)}).join(") || (")+")":t(e)}function k(e,n){for(var r=!0;n.length>0&&r;){for(var i=e,a=0;a<n.length-1;a++)i=i[n[a]];delete i[n.pop()],0!==t.keys(i).length&&(r=!1)}}function P(e){return e.charAt(0).toUpperCase()+e.substr(1)}function E(e){return"["+T.splitAccessPath(e).map(T.stringValue).join("][")+"]"}Object.defineProperty(t,"__esModule",{value:!0});var M=n(75),T=n(26),C=n(128),A=n(26);t.isArray=A.isArray,t.isObject=A.isObject,t.isNumber=A.isNumber,t.isString=A.isString,t.truncate=A.truncate,t.toSet=A.toSet,t.stringValue=A.stringValue,t.splitAccessPath=A.splitAccessPath,t.pick=r,t.omit=i,t.stringify=M,t.hash=a,t.contains=o,t.without=s,t.union=l,t.some=u,t.every=c,t.flatten=f,t.mergeDeep=d,t.unique=h,t.differ=m,t.hasIntersection=g,t.isNumeric=y,t.differArray=v,t.keys=Object.keys,t.vals=b,t.flagKeys=_,t.duplicate=x,t.isBoolean=w,t.varName=O,t.logicalExpr=S,t.deleteNestedProperty=k,t.titlecase=P,t.accessPath=E},function(e,t,n){"use strict";function r(e,t){for(var n={},r=0,i=t;r<i.length;r++){var a=i[r];e.hasOwnProperty(a)&&(n[a]=e[a])}return n}function i(e,t){for(var n=x(e),r=0,i=t;r<i.length;r++){var a=i[r];delete n[a]}return n}function a(e){if(T.isNumber(e))return e;var t=T.isString(e)?e:M(e);if(t.length<100)return t;for(var n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);n=(n<<5)-n+i,n&=n}return n}function o(e,t){return e.indexOf(t)>-1}function s(e,t){return e.filter(function(e){return!o(t,e)})}function l(e,t){return e.concat(s(t,e))}function u(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function f(e){return[].concat.apply([],e)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=p(e,a)}return e}function p(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||T.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=d(T.isArray(t[n].constructor)?[]:{},t[n]):d(e[n],t[n]));return e}function h(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var s=o[a];n=t(s),n in i||(i[n]=1,r.push(s))}return r}function m(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function g(e,t){for(var n in e)if(n in t)return!0;return!1}function y(e){return!isNaN(e)}function v(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function b(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function _(e){return t.keys(e)}function x(e){return JSON.parse(JSON.stringify(e))}function w(e){return e===!0||e===!1}function O(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function S(e,t){return C.isLogicalNot(e)?"!("+S(e.not,t)+")":C.isLogicalAnd(e)?"("+e.and.map(function(e){return S(e,t)}).join(") && (")+")":C.isLogicalOr(e)?"("+e.or.map(function(e){return S(e,t)}).join(") || (")+")":t(e)}function k(e,n){for(var r=!0;n.length>0&&r;){for(var i=e,a=0;a<n.length-1;a++)i=i[n[a]];delete i[n.pop()],0!==t.keys(i).length&&(r=!1)}}function P(e){return e.charAt(0).toUpperCase()+e.substr(1)}function E(e){return"["+T.splitAccessPath(e).map(T.stringValue).join("][")+"]"}Object.defineProperty(t,"__esModule",{value:!0});var M=n(75),T=n(27),C=n(138),A=n(27);t.isArray=A.isArray,t.isObject=A.isObject,t.isNumber=A.isNumber,t.isString=A.isString,t.truncate=A.truncate,t.toSet=A.toSet,t.stringValue=A.stringValue,t.splitAccessPath=A.splitAccessPath,t.pick=r,t.omit=i,t.stringify=M,t.hash=a,t.contains=o,t.without=s,t.union=l,t.some=u,t.every=c,t.flatten=f,t.mergeDeep=d,t.unique=h,t.differ=m,t.hasIntersection=g,t.isNumeric=y,t.differArray=v,t.keys=Object.keys,t.vals=b,t.flagKeys=_,t.duplicate=x,t.isBoolean=w,t.varName=O,t.logicalExpr=S,t.deleteNestedProperty=k,t.titlecase=P,t.accessPath=E},function(e,t,n){"use strict";function r(e){return function(){d=new p,e(d),a()}}function i(e){return d=e}function a(){return d=f}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(26),c=n(1),f=u.logger(u.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.wrap=r,t.set=i,t.reset=a,t.warn=o,t.info=s,t.debug=l;var h;!function(e){function t(e){return'Cannot project a selection on encoding channel "'+e+'", which has no field.'}function n(e){return'The "nearest" transform is not supported for '+e+" marks."}function r(e){return'Cannot find a selection named "'+e+'"'}function i(e){return'Unknown repeated value "'+e+'".'}function a(e){return'Cannot set title "anchor" for a '+e+" spec"}function o(e){return'Unrecognized parse "'+e+'".'}function s(e,t,n){return'An ancestor parsed field "'+e+'" as '+n+" but a child wants to parse the field as "+t+"."}function l(e){return"Ignoring an invalid transform: "+c.stringify(e)+"."}function u(e,t,n){return"Channel "+e+" is a "+t+". Converted to {value: "+c.stringify(n)+"}."}function f(e){return'Invalid field type "'+e+'"'}function d(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function p(e){return'Invalid aggregation operator "'+e+'"'}function h(e,t,n){return'Invalid field type "'+e+'" for channel "'+t+'", using "'+n+'" instead.'}function m(e,t){return"Dropping "+c.stringify(e)+' from channel "'+t+'" since it does not contain data field or value.'}function g(e,t,n){return e+' dropped as it is incompatible with "'+t+'"'+(n?" when "+n:"")+"."}function y(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function v(e,t){return'Using discrete channel "'+e+'" to encode "'+t+'" field can be misleading as it does not encode '+("ordinal"===t?"order":"magnitude")+"."}function b(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode continuous fields. In this case, we use vertical by default'}function _(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode discrete or empty fields.'}function x(e,t){return'Specified orient "'+e+'" overridden with "'+t+'"'}function w(e){return'Cannot use the scale property "'+e+'" with non-color channel.'}function O(e){return"Using unaggregated domain with raw field has no effect ("+c.stringify(e)+")."}function S(e){return'Unaggregated domain not applicable for "'+e+'" since it produces values outside the origin domain of the source data.'}function k(e){return"Unaggregated domain is currently unsupported for log scale ("+c.stringify(e)+")."}function P(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function E(e){return'Cannot apply size to non-oriented mark "'+e+'".'}function M(e){return'rangeStep for "'+e+'" is dropped as top-level '+("x"===e?"width":"height")+" is provided."}function T(e,t,n){return'Channel "'+e+'" does not work with "'+t+'" scale. We are using "'+n+'" scale instead.'}function C(e,t){return'FieldDef does not work with "'+e+'" scale. We are using "'+t+'" scale instead.'}function A(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function D(e,t){return'Scale type "'+t+'" does not work with mark "'+e+'".'}function j(e,t,n,r){return"Conflicting "+t+' property "'+e+'" ('+c.stringify(n)+" and "+c.stringify(r)+").  Using "+c.stringify(n)+"."}function R(e){return'Setting the scale to be independent for "'+e+'" means we also have to set the guide (axis or legend) to be independent.'}function N(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function I(e){return"Dropping sort property "+c.stringify(e)+" as unioned domains only support boolean or op 'count'."}function z(e){return'Cannot stack "'+e+'" if there is already "'+e+'2"'}function F(e){return"Cannot stack non-linear scale ("+e+")"}function $(e){return'Stacking is applied even though the aggregate function is non-summative ("'+e+'")'}function L(e,t){return"Invalid "+e+": "+c.stringify(t)}function U(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function B(e){return"Dropping day from datetime "+c.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',e.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',e.cannotProjectOnChannelWithoutField=t,e.nearestNotSupportForContinuous=n,e.selectionNotFound=r,e.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",e.noSuchRepeatedValue=i,e.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views.",e.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views.",e.cannotSetTitleAnchor=a,e.unrecognizedParse=o,e.differentParse=s,e.invalidTransformIgnored=l,e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the the data from the secondary source.',e.primitiveChannelDef=u,e.invalidFieldType=f,e.invalidFieldTypeForCountAggregate=d,e.invalidAggregate=p,e.emptyOrInvalidFieldType=h,e.emptyFieldDef=m,e.incompatibleChannel=g,e.facetChannelShouldBeDiscrete=y,e.discreteChannelCannotEncode=v,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=b,e.unclearOrientDiscreteOrEmpty=_,e.orientOverridden=x,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=w,e.unaggregateDomainHasNoEffectForRawField=O,e.unaggregateDomainWithNonSharedDomainOp=S,e.unaggregatedDomainWithLogScale=k,e.cannotUseSizeFieldWithBandSize=P,e.cannotApplySizeToNonOrientedMark=E,e.rangeStepDropped=M,e.scaleTypeNotWorkWithChannel=T,e.scaleTypeNotWorkWithFieldDef=C,e.scalePropertyNotWorkWithScaleType=A,e.scaleTypeNotWorkWithMark=D,e.mergeConflictingProperty=j,e.independentScaleMeansIndependentGuide=R,e.conflictedDomain=N,e.domainSortDropped=I,e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=z,e.cannotStackNonLinearScale=F,e.stackNonSummativeAggregate=$,e.invalidTimeUnit=L,e.dayReplacedWithDate=U,e.droppedDay=B}(h=t.message||(t.message={}))},function(e,t,n){"use strict";function r(e){return function(){d=new p,e(d),a()}}function i(e){return d=e}function a(){return d=f}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(27),c=n(2),f=u.logger(u.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.wrap=r,t.set=i,t.reset=a,t.warn=o,t.info=s,t.debug=l;var h;!function(e){function t(e){return'Cannot project a selection on encoding channel "'+e+'", which has no field.'}function n(e){return'The "nearest" transform is not supported for '+e+" marks."}function r(e){return'Cannot find a selection named "'+e+'"'}function i(e){return'Unknown repeated value "'+e+'".'}function a(e){return'Cannot set title "anchor" for a '+e+" spec"}function o(e){return'Unrecognized parse "'+e+'".'}function s(e,t,n){return'An ancestor parsed field "'+e+'" as '+n+" but a child wants to parse the field as "+t+"."}function l(e){return"Ignoring an invalid transform: "+c.stringify(e)+"."}function u(e,t,n){return"Channel "+e+" is a "+t+". Converted to {value: "+c.stringify(n)+"}."}function f(e){return'Invalid field type "'+e+'"'}function d(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function p(e){return'Invalid aggregation operator "'+e+'"'}function h(e,t,n){return'Invalid field type "'+e+'" for channel "'+t+'", using "'+n+'" instead.'}function m(e,t){return"Dropping "+c.stringify(e)+' from channel "'+t+'" since it does not contain data field or value.'}function g(e,t,n){return e+' dropped as it is incompatible with "'+t+'"'+(n?" when "+n:"")+"."}function y(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function v(e,t){return'Using discrete channel "'+e+'" to encode "'+t+'" field can be misleading as it does not encode '+("ordinal"===t?"order":"magnitude")+"."}function b(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode continous fields. In this case, we use vertical by default'}function _(e){return'Cannot clearly determine orientation for "'+e+'" since both x and y channel encode discrete or empty fields.'}function x(e,t){return'Specified orient "'+e+'" overridden with "'+t+'"'}function w(e){return'Cannot use the scale property "'+e+'" with non-color channel.'}function O(e){return"Using unaggregated domain with raw field has no effect ("+c.stringify(e)+")."}function S(e){return'Unaggregated domain not applicable for "'+e+'" since it produces values outside the origin domain of the source data.'}function k(e){return"Unaggregated domain is currently unsupported for log scale ("+c.stringify(e)+")."}function P(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function E(e){return'Cannot apply size to non-oriented mark "'+e+'".'}function M(e){return'rangeStep for "'+e+'" is dropped as top-level '+("x"===e?"width":"height")+" is provided."}function T(e,t,n){return'Channel "'+e+'" does not work with "'+t+'" scale. We are using "'+n+'" scale instead.'}function C(e,t){return'FieldDef does not work with "'+e+'" scale. We are using "'+t+'" scale instead.'}function A(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function D(e,t){return'Scale type "'+t+'" does not work with mark "'+e+'".'}function j(e,t,n,r){return"Conflicting "+t+' property "'+e+'" ('+c.stringify(n)+" and "+c.stringify(r)+").  Using "+c.stringify(n)+"."}function R(e){return'Setting the scale to be independent for "'+e+'" means we also have to set the guide (axis or legend) to be independent.'}function N(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function I(e){return"Dropping sort property "+c.stringify(e)+" as unioned domains only support boolean or op 'count'."}function z(e){return'Cannot stack "'+e+'" if there is already "'+e+'2"'}function F(e){return"Cannot stack non-linear scale ("+e+")"}function $(e){return'Stacking is applied even though the aggregate function is non-summative ("'+e+'")'}function L(e,t){return"Invalid "+e+": "+c.stringify(t)}function U(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function B(e){return"Dropping day from datetime "+c.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.FIT_NON_SINGLE='Autosize "fit" only works for single views and layered views.',e.CANNOT_FIX_RANGE_STEP_WITH_FIT='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".',e.cannotProjectOnChannelWithoutField=t,e.nearestNotSupportForContinuous=n,e.selectionNotFound=r,e.SCALE_BINDINGS_CONTINUOUS="Scale bindings are currently only supported for scales with unbinned, continuous domains.",e.noSuchRepeatedValue=i,e.CONCAT_CANNOT_SHARE_AXIS="Axes cannot be shared in concatenated views.",e.REPEAT_CANNOT_SHARE_AXIS="Axes cannot be shared in repeated views.",e.cannotSetTitleAnchor=a,e.unrecognizedParse=o,e.differentParse=s,e.invalidTransformIgnored=l,e.NO_FIELDS_NEEDS_AS='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the the data from the secondary source.',e.primitiveChannelDef=u,e.invalidFieldType=f,e.invalidFieldTypeForCountAggregate=d,e.invalidAggregate=p,e.emptyOrInvalidFieldType=h,e.emptyFieldDef=m,e.incompatibleChannel=g,e.facetChannelShouldBeDiscrete=y,e.discreteChannelCannotEncode=v,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=b,e.unclearOrientDiscreteOrEmpty=_,e.orientOverridden=x,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=w,e.unaggregateDomainHasNoEffectForRawField=O,e.unaggregateDomainWithNonSharedDomainOp=S,e.unaggregatedDomainWithLogScale=k,e.cannotUseSizeFieldWithBandSize=P,e.cannotApplySizeToNonOrientedMark=E,e.rangeStepDropped=M,e.scaleTypeNotWorkWithChannel=T,e.scaleTypeNotWorkWithFieldDef=C,e.scalePropertyNotWorkWithScaleType=A,e.scaleTypeNotWorkWithMark=D,e.mergeConflictingProperty=j,e.independentScaleMeansIndependentGuide=R,e.conflictedDomain=N,e.domainSortDropped=I,e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.MORE_THAN_ONE_SORT="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=z,e.cannotStackNonLinearScale=F,e.stackNonSummativeAggregate=$,e.invalidTimeUnit=L,e.dayReplacedWithDate=U,e.droppedDay=B}(h=t.message||(t.message={}))},function(e,t,n){"use strict";function r(e){return!!h[e]}function i(e){return!!b[e]}function a(e,t){return t in o(e)}function o(e){switch(e){case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.HREF:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0,geoshape:!0};case t.X:case t.Y:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0,geoshape:!0};case t.TEXT:return{text:!0}}}function s(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:case t.HREF:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var c,f=n(1);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip",e.HREF="href"}(c=t.Channel||(t.Channel={})),t.X=c.X,t.Y=c.Y,t.X2=c.X2,t.Y2=c.Y2,t.ROW=c.ROW,t.COLUMN=c.COLUMN,t.SHAPE=c.SHAPE,t.SIZE=c.SIZE,t.COLOR=c.COLOR,t.TEXT=c.TEXT,t.DETAIL=c.DETAIL,t.ORDER=c.ORDER,t.OPACITY=c.OPACITY,t.TOOLTIP=c.TOOLTIP,t.HREF=c.HREF;var d={x:1,y:1,x2:1,y2:1,size:1,shape:1,color:1,order:1,opacity:1,text:1,detail:1,tooltip:1,href:1},p={row:1,column:1},h=l({},d,p);t.CHANNELS=f.flagKeys(h);var m=(h.order,h.detail,u(h,["order","detail"]));t.SINGLE_DEF_CHANNELS=f.flagKeys(m),t.isChannel=r,t.UNIT_CHANNELS=f.flagKeys(d);var g=(d.x,d.y,d.x2,d.y2,u(d,["x","y","x2","y2"]));t.NONPOSITION_CHANNELS=f.flagKeys(g);var y={x:1,y:1};t.POSITION_SCALE_CHANNELS=f.flagKeys(y);var v=(g.text,g.tooltip,g.href,g.detail,g.order,u(g,["text","tooltip","href","detail","order"]));t.NONPOSITION_SCALE_CHANNELS=f.flagKeys(v);var b=l({},y,v);t.SCALE_CHANNELS=f.flagKeys(b),t.isScaleChannel=i,t.supportMark=a,t.getSupportedMark=o,t.rangeType=s},function(e,t,n){"use strict";function r(e){return!!h[e]}function i(e){return!!b[e]}function a(e,t){return t in o(e)}function o(e){switch(e){case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.HREF:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0,geoshape:!0};case t.X:case t.Y:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0,geoshape:!0};case t.TEXT:return{text:!0}}}function s(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:case t.HREF:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},u=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var c,f=n(2);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip",e.HREF="href"}(c=t.Channel||(t.Channel={})),t.X=c.X,t.Y=c.Y,t.X2=c.X2,t.Y2=c.Y2,t.ROW=c.ROW,t.COLUMN=c.COLUMN,t.SHAPE=c.SHAPE,t.SIZE=c.SIZE,t.COLOR=c.COLOR,t.TEXT=c.TEXT,t.DETAIL=c.DETAIL,t.ORDER=c.ORDER,t.OPACITY=c.OPACITY,t.TOOLTIP=c.TOOLTIP,t.HREF=c.HREF;var d={x:1,y:1,x2:1,y2:1,size:1,shape:1,color:1,order:1,opacity:1,text:1,detail:1,tooltip:1,href:1},p={row:1,column:1},h=l({},d,p);t.CHANNELS=f.flagKeys(h);var m=(h.order,h.detail,u(h,["order","detail"]));t.SINGLE_DEF_CHANNELS=f.flagKeys(m),t.isChannel=r,t.UNIT_CHANNELS=f.flagKeys(d);var g=(d.x,d.y,d.x2,d.y2,u(d,["x","y","x2","y2"]));t.NONPOSITION_CHANNELS=f.flagKeys(g);var y={x:1,y:1};t.POSITION_SCALE_CHANNELS=f.flagKeys(y);var v=(g.text,g.tooltip,g.href,g.detail,g.order,u(g,["text","tooltip","href","detail","order"]));t.NONPOSITION_SCALE_CHANNELS=f.flagKeys(v);var b=l({},y,v);t.SCALE_CHANNELS=f.flagKeys(b),t.isScaleChannel=i,t.supportMark=a,t.getSupportedMark=o,t.rangeType=s},function(e,t,n){"use strict";function r(e){return e.selection}function i(e){return e&&!z.isString(e)&&"repeat"in e}function a(e){return!!e&&!!e.condition}function o(e){return!!e&&!!e.condition&&!z.isArray(e.condition)&&l(e.condition)}function s(e){return!!e&&!!e.condition&&(z.isArray(e.condition)||c(e.condition))}function l(e){return!(!e||!e.field&&"count"!==e.aggregate)}function u(e){return l(e)&&z.isString(e.field)}function c(e){return e&&"value"in e&&void 0!==e.value}function f(e){return!(!e||!e.scale&&!e.sort)}function d(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(m(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=D.binToString(e.bin),i=t.binSuffix||""):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=""+t.expr+z.accessPath(n)),n}function p(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"latitude":case"longitude":case"temporal":return!1}throw new Error(R.message.invalidFieldType(e.type))}function h(e){return!p(e)}function m(e){return"count"===e.aggregate}function g(e,t){var n=e.field,r=e.bin,i=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(r)return n+" (binned)";if(i){var o=N.getTimeUnitParts(i).join("-");return n+" ("+o+")"}return a?z.titlecase(a)+" of "+n:n}function y(e,t){var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function v(e){F=e}function b(){v(t.defaultTitleFormatter)}function _(e,t){return F(e,t)}function x(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(j.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function w(e){return l(e)?e:o(e)?e.condition:void 0}function O(e,t){if(z.isString(e)||z.isNumber(e)||z.isBoolean(e)){var n=z.isString(e)?"string":z.isNumber(e)?"number":"boolean";return R.warn(R.message.primitiveChannelDef(t,n,e)),{value:e}}return l(e)?S(e,t):o(e)?T({},e,{condition:S(e.condition,t)}):e}function S(e,t){if(e.aggregate&&!A.isAggregateOp(e.aggregate)){var n=(e.aggregate,C(e,["aggregate"]));R.warn(R.message.invalidAggregate(e.aggregate)),e=n}if(e.timeUnit&&(e=T({},e,{timeUnit:N.normalizeTimeUnit(e.timeUnit)})),e.bin&&(e=T({},e,{bin:k(e.bin,t)})),e.type){var r=I.getFullName(e.type);e.type!==r&&(e=T({},e,{type:r})),"quantitative"!==e.type&&A.isCountingAggregateOp(e.aggregate)&&(R.warn(R.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=T({},e,{type:"quantitative"}))}else{var i=x(e,t);R.warn(R.message.emptyOrInvalidFieldType(e.type,t,i)),e=T({},e,{type:i})}var a=P(e,t),o=a.compatible,s=a.warning;return o||R.warn(s),e}function k(e,t){return z.isBoolean(e)?{maxbins:D.autoMaxBins(t)}:e.maxbins||e.step?e:T({},e,{maxbins:D.autoMaxBins(t)})}function P(e,t){switch(t){case"row":case"column":return h(e)&&!e.timeUnit?{compatible:!1,warning:R.message.facetChannelShouldBeDiscrete(t)}:$;case"x":case"y":case"color":case"text":case"detail":case"tooltip":case"href":return $;case"opacity":case"size":case"x2":case"y2":return p(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:$;case"shape":return"nominal"!==e.type&&"geojson"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data or geojson only"}:$;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:$}throw new Error("channelCompatability not implemented for channel "+t)}function E(e){return"quantitative"===e.type||!!e.bin}function M(e){return"temporal"===e.type||!!e.timeUnit}var T=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var A=n(60),D=n(61),j=n(5),R=n(3),N=n(65),I=n(23),z=n(1);t.isConditionalSelection=r,t.isRepeatRef=i,t.isConditionalDef=a,t.hasConditionalFieldDef=o,t.hasConditionalValueDef=s,t.isFieldDef=l,t.isStringFieldDef=u,t.isValueDef=c,t.isScaleFieldDef=f,t.vgField=d,t.isDiscrete=p,t.isContinuous=h,t.isCount=m,t.verbalTitleFormatter=g,t.functionalTitleFormatter=y,t.defaultTitleFormatter=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return y(e,t);default:return g(e,t)}};var F=t.defaultTitleFormatter;t.setTitleFormatter=v,t.resetTitleFormatter=b,t.title=_,t.defaultType=x,t.getFieldDef=w,t.normalize=O,t.normalizeFieldDef=S,t.normalizeBin=k;var $={compatible:!0};t.channelCompatibility=P,t.isNumberFieldDef=E,t.isTimeFieldDef=M},function(e,t,n){"use strict";function r(e){return e.selection}function i(e){return e&&!z.isString(e)&&"repeat"in e}function a(e){return!!e&&!!e.condition}function o(e){return!!e&&!!e.condition&&!z.isArray(e.condition)&&l(e.condition)}function s(e){return!!e&&!!e.condition&&(z.isArray(e.condition)||c(e.condition));
}function l(e){return!(!e||!e.field&&"count"!==e.aggregate)}function u(e){return l(e)&&z.isString(e.field)}function c(e){return e&&"value"in e&&void 0!==e.value}function f(e){return!(!e||!e.scale&&!e.sort)}function d(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(m(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=D.binToString(e.bin),i=t.binSuffix||""):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=""+t.expr+z.accessPath(n)),n}function p(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"latitude":case"longitude":case"temporal":return!1}throw new Error(R.message.invalidFieldType(e.type))}function h(e){return!p(e)}function m(e){return"count"===e.aggregate}function g(e,t){var n=e.field,r=e.bin,i=e.timeUnit,a=e.aggregate;if("count"===a)return t.countTitle;if(r)return n+" (binned)";if(i){var o=N.getTimeUnitParts(i).join("-");return n+" ("+o+")"}return a?z.titlecase(a)+" of "+n:n}function y(e,t){var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function v(e){F=e}function b(){v(t.defaultTitleFormatter)}function _(e,t){return F(e,t)}function x(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(j.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function w(e){return l(e)?e:o(e)?e.condition:void 0}function O(e,t){if(z.isString(e)||z.isNumber(e)||z.isBoolean(e)){var n=z.isString(e)?"string":z.isNumber(e)?"number":"boolean";return R.warn(R.message.primitiveChannelDef(t,n,e)),{value:e}}return l(e)?S(e,t):o(e)?T({},e,{condition:S(e.condition,t)}):e}function S(e,t){if(e.aggregate&&!A.isAggregateOp(e.aggregate)){var n=(e.aggregate,C(e,["aggregate"]));R.warn(R.message.invalidAggregate(e.aggregate)),e=n}if(e.timeUnit&&(e=T({},e,{timeUnit:N.normalizeTimeUnit(e.timeUnit)})),e.bin&&(e=T({},e,{bin:k(e.bin,t)})),e.type){var r=I.getFullName(e.type);e.type!==r&&(e=T({},e,{type:r})),"quantitative"!==e.type&&A.isCountingAggregateOp(e.aggregate)&&(R.warn(R.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=T({},e,{type:"quantitative"}))}else{var i=x(e,t);R.warn(R.message.emptyOrInvalidFieldType(e.type,t,i)),e=T({},e,{type:i})}var a=P(e,t),o=a.compatible,s=a.warning;return o||R.warn(s),e}function k(e,t){return z.isBoolean(e)?{maxbins:D.autoMaxBins(t)}:e.maxbins||e.step?e:T({},e,{maxbins:D.autoMaxBins(t)})}function P(e,t){switch(t){case"row":case"column":return h(e)&&!e.timeUnit?{compatible:!1,warning:R.message.facetChannelShouldBeDiscrete(t)}:$;case"x":case"y":case"color":case"text":case"detail":case"tooltip":case"href":return $;case"opacity":case"size":case"x2":case"y2":return p(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:$;case"shape":return"nominal"!==e.type&&"geojson"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data or geojson only"}:$;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:$}throw new Error("channelCompatability not implemented for channel "+t)}function E(e){return"quantitative"===e.type||!!e.bin}function M(e){return"temporal"===e.type||!!e.timeUnit}var T=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var A=n(66),D=n(67),j=n(6),R=n(4),N=n(71),I=n(19),z=n(2);t.isConditionalSelection=r,t.isRepeatRef=i,t.isConditionalDef=a,t.hasConditionalFieldDef=o,t.hasConditionalValueDef=s,t.isFieldDef=l,t.isStringFieldDef=u,t.isValueDef=c,t.isScaleFieldDef=f,t.vgField=d,t.isDiscrete=p,t.isContinuous=h,t.isCount=m,t.verbalTitleFormatter=g,t.functionalTitleFormatter=y,t.defaultTitleFormatter=function(e,t){switch(t.fieldTitle){case"plain":return e.field;case"functional":return y(e,t);default:return g(e,t)}};var F=t.defaultTitleFormatter;t.setTitleFormatter=v,t.resetTitleFormatter=b,t.title=_,t.defaultType=x,t.getFieldDef=w,t.normalize=O,t.normalizeFieldDef=S,t.normalizeBin=k;var $={compatible:!0};t.channelCompatibility=P,t.isNumberFieldDef=E,t.isTimeFieldDef=M},function(e,t,n){"use strict";e.exports=n(420)},function(e,t,n){e.exports=n(376)()},function(e,t,n){"use strict";function r(e,t){var n=b[e],r=b[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}function i(e){return _[e]}function a(e){return e in O}function o(e){return e in S}function s(e){return e in w}function l(e){return e in x}function u(e){return e&&!!e.name}function c(e){return e&&e.selection}function f(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return v.contains(["sequential","ordinal","bin-ordinal","quantile","quantize"],e);case"interpolate":return v.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return l(e)||"band"===e||"point"===e;case"padding":return l(e)||v.contains(["point","band"],e);case"paddingOuter":case"rangeStep":return v.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return l(e)||"sequential"===e;case"nice":return l(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"zero":return s(e)&&!v.contains(["log","time","utc","bin-linear","threshold","quantile"],e)}throw new Error("Invalid scale property "+t+".")}function d(e,t){switch(t){case"interpolate":case"scheme":if("color"!==e)return y.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"range":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+t+'".')}function p(e,t){switch(e){case g.Channel.X:case g.Channel.Y:case g.Channel.SIZE:case g.Channel.OPACITY:return l(t)||v.contains(["band","point"],t);case g.Channel.COLOR:return"band"!==t;case g.Channel.SHAPE:return"ordinal"===t}return!1}var h=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var m,g=n(5),y=n(3),v=n(1);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(m=t.ScaleType||(t.ScaleType={}));var b={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.SCALE_TYPES=v.keys(b),t.scaleCompatible=r;var _={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:10,band:11,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=i,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var x=v.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var w=v.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var O=v.toSet(t.DISCRETE_DOMAIN_SCALES),S=v.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=a,t.isBinScale=o,t.hasContinuousDomain=s,t.isContinuousToContinuous=l,t.defaultScaleConfig={textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4},t.isExtendedScheme=u,t.isSelectionDomain=c;var k={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1};t.SCALE_PROPERTIES=v.flagKeys(k);var P=(k.type,k.domain,k.range,k.rangeStep,k.scheme,h(k,["type","domain","range","rangeStep","scheme"]));t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=v.flagKeys(P),t.scaleTypeSupportProperty=f,t.channelScalePropertyIncompatability=d,t.channelSupportScaleType=p},function(e,t,n){"use strict";function r(e,t){var n=b[e],r=b[t];return n===r||"ordinal-position"===n&&"time"===r||"ordinal-position"===r&&"time"===n}function i(e){return _[e]}function a(e){return e in O}function o(e){return e in S}function s(e){return e in w}function l(e){return e in x}function u(e){return e&&!!e.name}function c(e){return e&&e.selection}function f(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":return v.contains(["sequential","ordinal","bin-ordinal","quantile","quantize"],e);case"interpolate":return v.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return l(e)||"band"===e||"point"===e;case"padding":return l(e)||v.contains(["point","band"],e);case"paddingOuter":case"rangeStep":return v.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return l(e)||"sequential"===e;case"nice":return l(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e;case"base":return"log"===e;case"zero":return s(e)&&!v.contains(["log","time","utc","bin-linear","threshold","quantile"],e)}throw new Error("Invalid scale property "+t+".")}function d(e,t){switch(t){case"interpolate":case"scheme":if("color"!==e)return y.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"range":case"base":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "'+t+'".')}function p(e,t){switch(e){case g.Channel.X:case g.Channel.Y:case g.Channel.SIZE:case g.Channel.OPACITY:return l(t)||v.contains(["band","point"],t);case g.Channel.COLOR:return"band"!==t;case g.Channel.SHAPE:return"ordinal"===t}return!1}var h=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var m,g=n(6),y=n(4),v=n(2);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(m=t.ScaleType||(t.ScaleType={}));var b={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.SCALE_TYPES=v.keys(b),t.scaleCompatible=r;var _={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:10,band:11,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=i,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var x=v.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var w=v.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var O=v.toSet(t.DISCRETE_DOMAIN_SCALES),S=v.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=a,t.isBinScale=o,t.hasContinuousDomain=s,t.isContinuousToContinuous=l,t.defaultScaleConfig={textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4},t.isExtendedScheme=u,t.isSelectionDomain=c;var k={type:1,domain:1,range:1,rangeStep:1,scheme:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1};t.SCALE_PROPERTIES=v.flagKeys(k);var P=(k.type,k.domain,k.range,k.rangeStep,k.scheme,h(k,["type","domain","range","rangeStep","scheme"]));t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=v.flagKeys(P),t.scaleTypeSupportProperty=f,t.channelScalePropertyIncompatability=d,t.channelSupportScaleType=p},function(e,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){var n=t[e];n.parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){var i=r[n];i.parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=r;var i=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return n(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e._name="clone_"+this._name,e.type=this.type,e.refCounts=this.refCounts,e.refCounts[e._name]=0,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(r);t.OutputNode=i},[592,26,5,28,7,3,11,55,209,88,1,29,438,200,83,201,202,461,463,465,63,467,33],13,[592,27,6,30,8,4,12,56,232,99,2,31,493,223,94,224,225,516,518,520,69,522,34],[608,5,3,129,1,14,124,206,469,473],[608,6,4,139,2,16,135,229,524,528],function(e,t){"use strict";function n(e){return!!a[e]}function r(e){if(e)switch(e=e.toLowerCase()){case"q":case t.QUANTITATIVE:return"quantitative";case"t":case t.TEMPORAL:return"temporal";case"o":case t.ORDINAL:return"ordinal";case"n":case t.NOMINAL:return"nominal";case t.LATITUDE:return"latitude";case t.LONGITUDE:return"longitude";case t.GEOJSON:return"geojson"}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal",e.LATITUDE="latitude",e.LONGITUDE="longitude",e.GEOJSON="geojson"}(i=t.Type||(t.Type={}));var a={quantitative:1,ordinal:1,temporal:1,nominal:1,latitude:1,longitude:1,geojson:1};t.isType=n,t.QUANTITATIVE=i.QUANTITATIVE,t.ORDINAL=i.ORDINAL,t.TEMPORAL=i.TEMPORAL,t.NOMINAL=i.NOMINAL,t.LATITUDE=i.LATITUDE,t.LONGITUDE=i.LONGITUDE,t.GEOJSON=i.GEOJSON,t.getFullName=r},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.markDef,t.config);void 0!==s&&(e[a]={value:s})}return e}function a(e){return[].concat(e.type,e.style||[])}function o(e,t,n){var r=n.mark[e],i=n[t.type];void 0!==i[e]&&(r=i[e]);for(var o=a(t),s=0,l=o;s<l.length;s++){var u=l[s],c=n.style[u],f=e;c&&void 0!==c[f]&&(r=c[f])}return r}function s(e,t,n,r){var i=u(e,t,r);if(e.bin){var a=v.vgField(e,{expr:n}),o=v.vgField(e,{expr:n,binSuffix:"end"});return{signal:d(a,o,i,r)}}if("quantitative"===e.type)return{signal:""+c(v.vgField(e,{expr:n}),i)};if(v.isTimeFieldDef(e)){var s=v.isScaleFieldDef(e)&&e.scale&&e.scale.type===b.ScaleType.UTC;return{signal:p(v.vgField(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,s)}}return{signal:"''+"+v.vgField(e,{expr:n})}}function l(e,t){return void 0!==e?e:t}function u(e,t,n){if(e.type===x.QUANTITATIVE)return t?t:n.numberFormat}function c(e,t){return"format("+e+', "'+(t||"")+'")'}function f(e,t,n){return c(e,t||n.numberFormat)}function d(e,t,n,r){return e+" === null || isNaN("+e+') ? "null" : '+f(e,n,r)+' + " - " + '+f(t,n,r)}function p(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return _.formatExpression(t,e,r,a)}function h(e,t){return(w.isArray(e)?e:[e]).reduce(function(e,n){return e.field.push(v.vgField(n,t)),e.order.push(n.sort||"ascending"),e},{field:[],order:[]})}function m(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}function g(e,t){return e.bin?y.isScaleChannel(t)&&w.contains(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(5),v=n(7),b=n(11),_=n(65),x=n(23),w=n(1);t.applyConfig=r,t.applyMarkConfig=i,t.getStyles=a,t.getMarkConfig=o,t.formatSignalRef=s,t.getSpecifiedOrDefaultValue=l,t.numberFormat=u,t.numberFormatExpr=f,t.binFormatExpression=d,t.timeFormatExpression=p,t.sortParams=h,t.titleMerger=m,t.binRequiresRange=g},[623,1],19,function(e,t,n){"use strict";function r(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.markDef,t.config);void 0!==s&&(e[a]={value:s})}return e}function a(e){return[].concat(e.type,e.style||[])}function o(e,t,n){var r=n.mark[e],i=n[t.type];void 0!==i[e]&&(r=i[e]);for(var o=a(t),s=0,l=o;s<l.length;s++){var u=l[s],c=n.style[u],f=e;c&&void 0!==c[f]&&(r=c[f])}return r}function s(e,t,n,r){var i=u(e,t,r);if(e.bin){var a=v.vgField(e,{expr:n}),o=v.vgField(e,{expr:n,binSuffix:"end"});return{signal:d(a,o,i,r)}}if("quantitative"===e.type)return{signal:""+c(v.vgField(e,{expr:n}),i)};if(v.isTimeFieldDef(e)){var s=v.isScaleFieldDef(e)&&e.scale&&e.scale.type===b.ScaleType.UTC;return{signal:p(v.vgField(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,s)}}return{signal:"''+"+v.vgField(e,{expr:n})}}function l(e,t){return void 0!==e?e:t}function u(e,t,n){if(e.type===x.QUANTITATIVE)return t?t:n.numberFormat}function c(e,t){return"format("+e+', "'+(t||"")+'")'}function f(e,t,n){return c(e,t||n.numberFormat)}function d(e,t,n,r){return e+" === null || isNaN("+e+') ? "null" : '+f(e,n,r)+' + " - " + '+f(t,n,r)}function p(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return _.formatExpression(t,e,r,a)}function h(e,t){return(w.isArray(e)?e:[e]).reduce(function(e,n){return e.field.push(v.vgField(n,t)),e.order.push(n.sort||"ascending"),e},{field:[],order:[]})}function m(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}function g(e,t){return e.bin?y.isScaleChannel(t)&&w.contains(["ordinal","nominal"],e.type):(console.warn("Only use this method with binned field defs"),!1)}Object.defineProperty(t,"__esModule",{value:!0});var y=n(6),v=n(8),b=n(12),_=n(71),x=n(19),w=n(2);t.applyConfig=r,t.applyMarkConfig=i,t.getStyles=a,t.getMarkConfig=o,t.formatSignalRef=s,t.getSpecifiedOrDefaultValue=l,t.numberFormat=u,t.numberFormatExpr=f,t.binFormatExpression=d,t.timeFormatExpression=p,t.sortParams=h,t.titleMerger=m,t.binRequiresRange=g},[623,2],function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return null==e?null:e.fname}function n(e){return null==e?null:e.fields}function r(e){return _(e)?"["+e.map(r)+"]":x(e)||w(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function i(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function a(e){return function(t){return e*Math.exp(t)}}function o(e){return function(t){return Math.log(e*t)}}function s(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l(e,t,n,r){var i=n(e[0]),a=n(z(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function u(e,t){return l(e,t,F,P)}function c(e,t){var n=Math.sign(e[0]);return l(e,t,o(n),a(n))}function f(e,t,n){return l(e,t,s(n),s(1/n))}function d(e,t,n,r,i){var a=r(e[0]),o=r(z(e)),s=null!=t?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function p(e,t,n){return d(e,t,n,F,P)}function h(e,t,n){var r=Math.sign(e[0]);return d(e,t,n,o(r),a(r))}function m(e,t,n,r){return d(e,t,n,s(r),s(1/r))}function g(e){return Q(e)?e:K(e)?e:Date.parse(e)}var y=function(e,t,n){return e.fields=t||[],e.fname=n,e},v=function(e){throw Error(e)},b=function(e){function t(){a.push(u+e.substring(n,r)),u="",n=r+1}var n,r,i,a=[],o=null,s=0,l=e.length,u="";for(e+="",n=r=0;r<l;++r)if(i=e[r],"\\"===i)u+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,s=-1;else{if(o)continue;n===s&&'"'===i?(n=r+1,o=i):n===s&&"'"===i?(n=r+1,o=i):"."!==i||s?"["===i?(r>n&&t(),s=n=r+1):"]"===i&&(s||v("Access path missing open bracket: "+e),s>0&&t(),s=0,n=r+1):r>n?t():n=r+1}return s&&v("Access path missing closing bracket: "+e),o&&v("Access path missing closing quote: "+e),r>n&&(r++,t()),a},_=Array.isArray,x=function(e){return e===Object(e)},w=function(e){return"string"==typeof e},O=function(e,t){var n=b(e),i="return _["+n.map(r).join("][")+"];";return y(Function("_",i),[e=1===n.length?n[0]:e],t||e)},S=[],k=O("id"),P=y(function(e){return e},S,"identity"),E=y(function(){return 0},S,"zero"),M=y(function(){return 1},S,"one"),T=y(function(){return!0},S,"true"),C=y(function(){return!1},S,"false"),A=0,D=1,j=2,R=3,N=4,I=function(e){var t=e||A;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=D&&i("error","ERROR",arguments),this},warn:function(){return t>=j&&i("warn","WARN",arguments),this},info:function(){return t>=R&&i("log","INFO",arguments),this},debug:function(){return t>=N&&i("log","DEBUG",arguments),this}}},z=function(e){return e[e.length-1]},F=function(e){return null==e||""===e?null:+e},$=function(e){return null!=e?_(e)?e:[e]:[]},L=function(e){return"function"==typeof e},U=function(e,t){var i,a,o,s,l,u,c,f,d,p=[],h=(e=$(e)).map(function(e,t){return null==e?null:(p.push(t),L(e)?e:b(e).map(r).join("]["))}),m=p.length-1,g=$(t),v="var u,v;return ";if(m<0)return null;for(a=0;a<=m;++a)i=p[a],o=h[i],L(o)?(u="f"+i,s="(u=this."+u+"(a))",l="(v=this."+u+"(b))",(c=c||{})[u]=o):(s="(u=a["+o+"])",l="(v=b["+o+"])"),u="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[i]?(d=1,f=-1):(d=-1,f=1),v+="("+s+"<"+l+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+d+":"+u+"!==u&&v===v?"+f+":v!==v&&u===u?"+d+(i<m?":":":0");return o=Function("a","b",v+";"),c&&(o=o.bind(c)),e=e.reduce(function(e,t){return L(t)?(n(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),y(o,Object.keys(e))},B=function(e){return L(e)?e:function(){return e}},q=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},W=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},V=function(e,t){var n,r,i,a,o,s=-1,l=e.length;if(null==t){for(;++s<l;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<l;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},H={},G=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==H}var n,r,i={};return n={size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===H&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=H),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===H||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},Y=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},X=function(e){return"boolean"==typeof e},K=function(e){return"[object Date]"===Object.prototype.toString.call(e)},Q=function(e){return"number"==typeof e},J=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},Z=function(e,t){e&&(e=t?$(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):$(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?r(e):b(e).map(r).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return y(n,e,"key")},ee=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,l=0,u=0;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o},te=function(e,t){for(var n="";--t>=0;)n+=e;return n},ne=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?te(i,o)+a:"center"===r?te(i,~~(o/2))+a+te(i,Math.ceil(o/2)):a+te(i,o)},re=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},ie=function(e,t){return t=t||g,null==e||""===e?null:t(e)},ae=function(e){return null==e||""===e?null:e+""},oe=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},se=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},le=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};e.accessor=y,e.accessorName=t,e.accessorFields=n,e.id=k,e.identity=P,e.zero=E,e.one=M,e.truthy=T,e.falsy=C,e.logger=I,e.None=A,e.Error=D,e.Warn=j,e.Info=R,e.Debug=N,e.panLinear=u,e.panLog=c,e.panPow=f,e.zoomLinear=p,e.zoomLog=h,e.zoomPow=m,e.array=$,e.compare=U,e.constant=B,e.debounce=q,e.error=v,e.extend=W,e.extentIndex=V,e.fastmap=G,e.field=O,e.inherits=Y,e.isArray=_,e.isBoolean=X,e.isDate=K,e.isFunction=L,e.isNumber=Q,e.isObject=x,e.isRegExp=J,e.isString=w,e.key=Z,e.merge=ee,e.pad=ne,e.peek=z,e.repeat=te,e.splitAccessPath=b,e.stringValue=r,e.toBoolean=re,e.toDate=ie,e.toNumber=F,e.toString=ae,e.toSet=oe,e.truncate=se,e.visitArray=le,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return null==e?null:e.fname}function n(e){return null==e?null:e.fields}function r(e){return _(e)?"["+e.map(r)+"]":x(e)||w(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function i(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function a(e){return function(t){return e*Math.exp(t)}}function o(e){return function(t){return Math.log(e*t)}}function s(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l(e,t,n,r){var i=n(e[0]),a=n(z(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function u(e,t){return l(e,t,F,P)}function c(e,t){var n=Math.sign(e[0]);return l(e,t,o(n),a(n))}function f(e,t,n){return l(e,t,s(n),s(1/n))}function d(e,t,n,r,i){var a=r(e[0]),o=r(z(e)),s=null!=t?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function p(e,t,n){return d(e,t,n,F,P)}function h(e,t,n){var r=Math.sign(e[0]);return d(e,t,n,o(r),a(r))}function m(e,t,n,r){return d(e,t,n,s(r),s(1/r))}function g(e){return Q(e)?e:K(e)?e:Date.parse(e)}var y=function(e,t,n){return e.fields=t||[],e.fname=n,e},v=function(e){throw Error(e)},b=function(e){function t(){a.push(u+e.substring(n,r)),u="",n=r+1}var n,r,i,a=[],o=null,s=0,l=e.length,u="";for(e+="",n=r=0;r<l;++r)if(i=e[r],"\\"===i)u+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,s=-1;else{if(o)continue;n===s&&'"'===i?(n=r+1,o=i):n===s&&"'"===i?(n=r+1,o=i):"."!==i||s?"["===i?(r>n&&t(),s=n=r+1):"]"===i&&(s||v("Access path missing open bracket: "+e),s>0&&t(),s=0,n=r+1):r>n?t():n=r+1}return s&&v("Access path missing closing bracket: "+e),o&&v("Access path missing closing quote: "+e),r>n&&(r++,t()),a},_=Array.isArray,x=function(e){return e===Object(e)},w=function(e){return"string"==typeof e},O=function(e,t){var n=b(e),i="return _["+n.map(r).join("][")+"];";return y(Function("_",i),[e=1===n.length?n[0]:e],t||e)},S=[],k=O("id"),P=y(function(e){return e},S,"identity"),E=y(function(){return 0},S,"zero"),M=y(function(){return 1},S,"one"),T=y(function(){return!0},S,"true"),C=y(function(){return!1},S,"false"),A=0,D=1,j=2,R=3,N=4,I=function(e){var t=e||A;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=D&&i("error","ERROR",arguments),this},warn:function(){return t>=j&&i("warn","WARN",arguments),this},info:function(){return t>=R&&i("log","INFO",arguments),this},debug:function(){return t>=N&&i("log","DEBUG",arguments),this}}},z=function(e){return e[e.length-1]},F=function(e){return null==e||""===e?null:+e},$=function(e){return null!=e?_(e)?e:[e]:[]},L=function(e){return"function"==typeof e},U=function(e,t){var i,a,o,s,l,u,c,f,d,p=[],h=(e=$(e)).map(function(e,t){return null==e?null:(p.push(t),L(e)?e:b(e).map(r).join("]["))}),m=p.length-1,g=$(t),v="var u,v;return ";if(m<0)return null;for(a=0;a<=m;++a)i=p[a],o=h[i],L(o)?(u="f"+i,s="(u=this."+u+"(a))",l="(v=this."+u+"(b))",(c=c||{})[u]=o):(s="(u=a["+o+"])",l="(v=b["+o+"])"),u="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[i]?(d=1,f=-1):(d=-1,f=1),v+="("+s+"<"+l+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+d+":"+u+"!==u&&v===v?"+f+":v!==v&&u===u?"+d+(i<m?":":":0");return o=Function("a","b",v+";"),c&&(o=o.bind(c)),e=e.reduce(function(e,t){return L(t)?(n(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),y(o,Object.keys(e))},B=function(e){return L(e)?e:function(){return e}},q=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},W=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},V=function(e,t){var n,r,i,a,o,s=-1,l=e.length;if(null==t){for(;++s<l;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<l;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},H={},G=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==H}var n,r,i={};return n={
size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===H&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=H),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===H||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},Y=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},X=function(e){return"boolean"==typeof e},K=function(e){return"[object Date]"===Object.prototype.toString.call(e)},Q=function(e){return"number"==typeof e},J=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},Z=function(e,t){e&&(e=t?$(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):$(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?r(e):b(e).map(r).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return y(n,e,"key")},ee=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,l=0,u=0;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o},te=function(e,t){for(var n="";--t>=0;)n+=e;return n},ne=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?te(i,o)+a:"center"===r?te(i,~~(o/2))+a+te(i,Math.ceil(o/2)):a+te(i,o)},re=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},ie=function(e,t){return t=t||g,null==e||""===e?null:t(e)},ae=function(e){return null==e||""===e?null:e+""},oe=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t},se=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},le=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};e.accessor=y,e.accessorName=t,e.accessorFields=n,e.id=k,e.identity=P,e.zero=E,e.one=M,e.truthy=T,e.falsy=C,e.logger=I,e.None=A,e.Error=D,e.Warn=j,e.Info=R,e.Debug=N,e.panLinear=u,e.panLog=c,e.panPow=f,e.zoomLinear=p,e.zoomLog=h,e.zoomPow=m,e.array=$,e.compare=U,e.constant=B,e.debounce=q,e.error=v,e.extend=W,e.extentIndex=V,e.fastmap=G,e.field=O,e.inherits=Y,e.isArray=_,e.isBoolean=X,e.isDate=K,e.isFunction=L,e.isNumber=Q,e.isObject=x,e.isRegExp=J,e.isString=w,e.key=Z,e.merge=ee,e.pad=ne,e.peek=z,e.repeat=te,e.splitAccessPath=b,e.stringValue=r,e.toBoolean=re,e.toDate=ie,e.toNumber=F,e.toString=ae,e.toSet=oe,e.truncate=se,e.visitArray=le,Object.defineProperty(e,"__esModule",{value:!0})})},[620,5,7,3,1],function(e,t,n){"use strict";function r(e){return!!e.signal}function i(e){return!!e.step}function a(e){return!u.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!u.isArray(e)&&("fields"in e&&"data"in e)}function s(e){return!u.isArray(e)&&("field"in e&&"data"in e)}function l(e){return!u.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.isVgSignalRef=r,t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=s,t.isSignalRefDomain=l;var c={opacity:1,fill:1,fillOpacity:1,stroke:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,limit:1,dx:1,dy:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1};t.VG_MARK_CONFIGS=u.flagKeys(c)},[620,6,8,4,2],function(e,t,n){"use strict";function r(e){return!!e.signal}function i(e){return!!e.step}function a(e){return!u.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!u.isArray(e)&&("fields"in e&&"data"in e)}function s(e){return!u.isArray(e)&&("field"in e&&"data"in e)}function l(e){return!u.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2);t.isVgSignalRef=r,t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=s,t.isSignalRefDomain=l;var c={opacity:1,fill:1,fillOpacity:1,stroke:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,limit:1,dx:1,dy:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,cursor:1,href:1};t.VG_MARK_CONFIGS=u.flagKeys(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=void 0;var i=n(387),a=r(i),o=n(169),s=r(o),l=n(388),u=r(l);t.Provider=a.default,t.createProvider=i.createProvider,t.connectAdvanced=s.default,t.connect=u.default},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&u.warn(u.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function s(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:c.stringify(e.value)===c.stringify(t.value)?e:i(e,t,n,r)}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),c=n(1),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(){return l({},this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=s},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&u.warn(u.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function s(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:c.stringify(e.value)===c.stringify(t.value)?e:i(e,t,n,r)}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),c=n(2),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(){return l({},this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return delete this[n?"implicit":"explicit"][e],this[n?"explicit":"implicit"][e]=t,this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=s},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=n?"fill":"stroke",i=s("color",e,{vgChannel:r,defaultValue:e.markDef[r]||e.markDef.color||w.getMarkConfig(r,e.markDef,t)||w.getMarkConfig("color",e.markDef,t)});return!i.fill&&_.contains(["bar","point","circle","square","geoshape"],e.mark())&&(i.fill={value:"transparent"}),i}function i(e,t){return m({},a(e.markDef,t),r(e),s("opacity",e),u(e,"tooltip"),u(e,"href"))}function a(e,t){return x.VG_MARK_CONFIGS.reduce(function(n,r){return!e[r]||t&&"orient"===r||(n[r]={value:e[r]}),n},{})}function o(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function s(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return l(t,o,i||e,function(n){return S.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),null,a)})}function l(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=g.isArray(i)?i:[i],s=o.map(function(t){var n=r(t),i=y.isConditionalSelection(t)?O.selectionPredicate(e,t.selection):b.expression(e,t.test);return m({test:i},n)});return l={},l[n]=s.concat(void 0!==a?[a]:[]),l}return void 0!==a?(u={},u[n]=a,u):{};var l,u}function u(e,t){void 0===t&&(t="text");var n=e.encoding[t];return l(e,n,t,function(t){return S.text(t,e.config)})}function c(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var o=(l={},l[t+"c"]=S.fieldRef(e,r,{},{band:.5}),l);if(y.getFieldDef(n.encoding.size))v.warn(v.message.cannotUseSizeFieldWithBandSize(t));else if(y.isValueDef(n.encoding.size))return m({},o,s("size",n,{vgChannel:i}))}else v.warn(v.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return u={},u[t]=S.fieldRef(e,r,{binSuffix:"range"}),u[i]=S.bandRef(r),u;var l,u}function f(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return m({},p(e,t,n,i),s("size",t,{defaultRef:r,vgChannel:a}))}function d(e,t,n,r,i){return"x"===t?{x2:S.bin(e,n,"start",i?0:r),x:S.bin(e,n,"end",i?r:0)}:{y2:S.bin(e,n,"start",i?r:0),y:S.bin(e,n,"end",i?0:r)}}function p(e,t,n,r){var i=t.encoding,a=t.stack,o=S.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function h(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=S.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return l={},l[n]=s,l;var l}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(26),y=n(7),v=n(3),b=n(64),_=n(1),x=n(29),w=n(21),O=n(17),S=n(45);t.color=r,t.baseEncodeEntry=i,t.valueIfDefined=o,t.nonPosition=s,t.text=u,t.bandPosition=c,t.centeredBandPosition=f,t.binnedPosition=d,t.pointPosition=p,t.pointPosition2=h},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=n?"fill":"stroke",i=s("color",e,{vgChannel:r,defaultValue:e.markDef[r]||e.markDef.color||w.getMarkConfig(r,e.markDef,t)||w.getMarkConfig("color",e.markDef,t)});return!i.fill&&_.contains(["bar","point","circle","square","geoshape"],e.mark())&&(i.fill={value:"transparent"}),i}function i(e,t){return m({},a(e.markDef,t),r(e),s("opacity",e),u(e,"tooltip"),u(e,"href"))}function a(e,t){return x.VG_MARK_CONFIGS.reduce(function(n,r){return!e[r]||t&&"orient"===r||(n[r]={value:e[r]}),n},{})}function o(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function s(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return l(t,o,i||e,function(n){return S.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),null,a)})}function l(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=g.isArray(i)?i:[i],s=o.map(function(t){var n=r(t),i=y.isConditionalSelection(t)?O.selectionPredicate(e,t.selection):b.expression(e,t.test);return m({test:i},n)});return l={},l[n]=s.concat(void 0!==a?[a]:[]),l}return void 0!==a?(u={},u[n]=a,u):{};var l,u}function u(e,t){void 0===t&&(t="text");var n=e.encoding[t];return l(e,n,t,function(t){return S.text(t,e.config)})}function c(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var o=(l={},l[t+"c"]=S.fieldRef(e,r,{},{band:.5}),l);if(y.getFieldDef(n.encoding.size))v.warn(v.message.cannotUseSizeFieldWithBandSize(t));else if(y.isValueDef(n.encoding.size))return m({},o,s("size",n,{vgChannel:i}))}else v.warn(v.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return u={},u[t]=S.fieldRef(e,r,{binSuffix:"range"}),u[i]=S.bandRef(r),u;var l,u}function f(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return m({},p(e,t,n,i),s("size",t,{defaultRef:r,vgChannel:a}))}function d(e,t,n,r,i){return"x"===t?{x2:S.bin(e,n,"start",i?0:r),x:S.bin(e,n,"end",i?r:0)}:{y2:S.bin(e,n,"start",i?r:0),y:S.bin(e,n,"end",i?0:r)}}function p(e,t,n,r){var i=t.encoding,a=t.stack,o=S.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function h(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=S.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return l={},l[n]=s,l;var l}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(27),y=n(8),v=n(4),b=n(70),_=n(2),x=n(31),w=n(24),O=n(18),S=n(47);t.color=r,t.baseEncodeEntry=i,t.valueIfDefined=o,t.nonPosition=s,t.text=u,t.bandPosition=c,t.centeredBandPosition=f,t.binnedPosition=d,t.pointPosition=p,t.pointPosition2=h},function(e,t,n){"use strict";var r=n(9),i=n(290);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,a)},function(e,t){"use strict";function n(e,t,n){return n?[e,t]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return{type:E,mode:e}}function r(e){return{type:b,parse:e}}function i(e,t){return{type:_,spec:t,example:e}}function a(e,t){return{type:x,spec:t,example:e}}function o(e){return{type:y,spec:e}}function s(e){return{type:v,spec:e}}function l(e,t){return{type:w,gist:e,spec:t}}function u(e,t){return{type:O,gist:e,spec:t}}function c(){return{type:S}}function f(){return{type:k}}function d(){return{type:P}}function p(){return{type:M}}function h(e){return{type:T,error:e}}function m(e){return{type:C,editorString:e}}function g(){return{type:A}}Object.defineProperty(t,"__esModule",{value:!0}),t.setMode=n,t.parseSpec=r,t.setVegaExample=i,t.setVegaLiteExample=a,t.updateVegaSpec=o,t.updateVegaLiteSpec=s,t.setGistVegaSpec=l,t.setGistVegaLiteSpec=u,t.toggleAutoParse=c,t.cycleRenderer=f,t.showCompiledVegaSpec=d,t.showErrorPane=p,t.logError=h,t.updateEditorString=m,t.showTooltip=g;var y=t.UPDATE_VEGA_SPEC="UPDATE_VEGA_SPEC",v=t.UPDATE_VEGA_LITE_SPEC="UPDATE_VEGA_LITE_SPEC",b=t.PARSE_SPEC="PARSE_SPEC",_=t.SET_VEGA_EXAMPLE="SET_VEGA_EXAMPLE",x=t.SET_VEGA_LITE_EXAMPLE="SET_VEGA_LITE_EXAMPLE",w=t.SET_GIST_VEGA_SPEC="SET_GIST_VEGA_SPEC",O=t.SET_GIST_VEGA_LITE_SPEC="SET_GIST_VEGA_LITE_SPEC",S=t.TOGGLE_AUTO_PARSE="TOGGLE_AUTO_PARSE",k=t.CYCLE_RENDERER="CYCLE_RENDERER",P=t.SHOW_COMPILED_VEGA_SPEC="SHOW_COMPILED_VEGA_SPEC",E=t.SET_MODE="SET_MODE",M=t.SHOW_ERROR_PANE="SHOW_ERROR_PANE",T=t.LOG_ERROR="LOG_ERROR",C=t.UPDATE_EDITOR_STRING="UPDATE_EDITOR_STRING",A=t.SHOW_TOOLTIP="SHOW_TOOLTIP"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var i=n(44),a=(r(i),t.addQueryStringValueToPath=function(e,t,n){var r=o(e),i=r.pathname,a=r.search,l=r.hash;return s({pathname:i,search:a+(a.indexOf("?")===-1?"?":"&")+t+"="+n,hash:l})},t.stripQueryStringValueFromPath=function(e,t){var n=o(e),r=n.pathname,i=n.search,a=n.hash;return s({pathname:r,search:i.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:a})},t.getQueryStringValueFromPath=function(e,t){var n=o(e),r=n.search,i=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return i&&i[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),o=t.parsePath=function(e){var t=a(e),n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substring(i),t=t.substring(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substring(o),t=t.substring(0,o)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},s=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,i=e.hash,a=(t||"")+n;return r&&"?"!==r&&(a+=r),i&&(a+=i),a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||d.default.isValidElement(e)}function a(e){return i(e)||Array.isArray(e)&&e.every(i)}function o(e,t){return c({},e,t)}function s(e){var t=e.type,n=o(t.defaultProps,e.props);if(n.children){var r=l(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function l(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function u(e){return a(e)?e=l(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=a,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=l,t.createRoutes=u;var f=n(9),d=r(f)},function(e,t){"use strict";function n(e){return!!e.url}function r(e){return!!e.values}function i(e){return!!e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlData=n,t.isInlineData=r,t.isNamedData=i,t.MAIN="main",t.RAW="raw"},42,function(e,t,n){"use strict";var r=function(){};e.exports=r},[591,5,7,11,23,1,21],[619,3,1],[591,6,8,12,19,2,24],[619,4,2],function(e,t,n){"use strict";function r(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+r+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+o+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function a(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=s(e);r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var a in r)n+=(n?" && ":"")+i(a,t,!0);return n}}function o(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];k[i]?n[n.length]=i:"array"===e&&"array"===i&&(n[n.length]=i)}if(n.length)return n}else{if(k[t])return[t];if("array"===e&&"array"===t)return["array"]}}function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function l(e){return"number"==typeof e?"["+e+"]":P.test(e)?"."+e:"['"+u(e)+"']"}function u(e){return e.replace(E,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function f(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function d(e){return e.replace(M,"").replace(T,"").replace(C,"if (!($1))")}function p(e,t){var n=e.match(A);return n&&2==n.length&&(e=t?e.replace(j,"").replace(I,z):e.replace(D,"").replace(R,N)),n=e.match(F),n&&3===n.length?e.replace($,""):e}function h(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function m(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function g(e){return"'"+u(e)+"'"}function y(e,t,n,r){var i=n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return _(e,i)}function v(e,t,n){var r=g(n?"/"+O(t):l(t));return _(e,r)}function b(e,t,n){var r,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!L.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(o=e.match(U),!o)throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],i=o[2],"#"==i){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!i)return a}for(var s=a,u=i.split("/"),c=0;c<u.length;c++){var f=u[c];f&&(a+=l(S(f)),s+=" && "+a)}return s}function _(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function x(e){return S(decodeURIComponent(e))}function w(e){return encodeURIComponent(O(e))}function O(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function S(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:r,checkDataType:i,checkDataTypes:a,coerceToTypes:o,toHash:s,getProperty:l,escapeQuotes:u,equal:n(103),ucs2length:n(241),varOccurences:c,varReplace:f,cleanUpCode:d,finalCleanUpCode:p,schemaHasRules:h,schemaHasRulesExcept:m,toQuotedString:g,getPathExpr:y,getPath:v,getData:b,unescapeFragment:x,unescapeJsonPointer:S,escapeFragment:w,escapeJsonPointer:O};var k=s(["string","number","integer","boolean","null"]),P=/^[a-z$_][a-z$_0-9]*$/i,E=/'|\\/g,M=/else\s*{\s*}/g,T=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,C=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,A=/[^v.]errors/g,D=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,j=/var errors = 0;|var vErrors = null;/g,R="return errors === 0;",N="validate.errors = null; return true;",I=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,z="return data;",F=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,$=/if \(rootData === undefined\) rootData = data;/,L=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.DEFAULT_STATE=t.SPECS=t.RENDERERS=t.LAYOUT=t.MODES=void 0;var i=n(149);Object.defineProperty(t,"MODES",{enumerable:!0,get:function(){return i.MODES}}),Object.defineProperty(t,"LAYOUT",{enumerable:!0,get:function(){return i.LAYOUT}}),Object.defineProperty(t,"RENDERERS",{enumerable:!0,get:function(){return i.RENDERERS}});var a=n(150);Object.defineProperty(t,"DEFAULT_STATE",{enumerable:!0,get:function(){return a.DEFAULT_STATE}}),Object.defineProperty(t,"logger",{enumerable:!0,get:function(){return a.logger}});var o=n(283),s=r(o);t.SPECS=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(20),s=r(o),l=n(44),u=(r(l),n(40)),c=n(73),f=(t.createQuery=function(e){return a(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,u.parsePath)(e):e,i=r.pathname||"/",a=r.search||"",o=r.hash||"",s=r.state;return{pathname:i,search:a,hash:o,state:s,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),d=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r="undefined"==typeof t?"undefined":i(t),a="undefined"==typeof n?"undefined":i(n);if(r!==a)return!1;if("function"===r?(0,s.default)(!1):void 0,"object"===r){if(f(t)&&f(n)?(0,s.default)(!1):void 0,!Array.isArray(t)){var o=Object.keys(t),l=Object.keys(n);return o.length===l.length&&o.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&d(e.state,t.state)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){for(var t="",n=[],r=[],a=void 0,o=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;a=s.exec(e);)a.index!==o&&(r.push(e.slice(o,a.index)),t+=i(e.slice(o,a.index))),a[1]?(t+="([^/]+)",n.push(a[1])):"**"===a[0]?(t+="(.*)",n.push("splat")):"*"===a[0]?(t+="(.*?)",n.push("splat")):"("===a[0]?t+="(?:":")"===a[0]?t+=")?":"\\("===a[0]?t+="\\(":"\\)"===a[0]&&(t+="\\)"),r.push(a[0]),o=s.lastIndex;return o!==e.length&&(r.push(e.slice(o,e.length)),t+=i(e.slice(o,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function o(e){return p[e]||(p[e]=a(e)),p[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=o(e),r=n.regexpSource,i=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var l=s[0],u=t.substr(l.length);if(u){if("/"!==l.charAt(l.length-1))return null;u="/"+u}return{remainingPathname:u,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function l(e){return o(e).paramNames}function u(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,i=n.paramValues,a={};return r.forEach(function(e,t){a[e]=i[t]}),a}function c(e,t){t=t||{};for(var n=o(e),r=n.tokens,i=0,a="",s=0,l=[],u=void 0,c=void 0,f=void 0,p=0,h=r.length;p<h;++p)if(u=r[p],"*"===u||"**"===u)f=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=f||i>0?void 0:(0,d.default)(!1),null!=f&&(a+=encodeURI(f));else if("("===u)l[i]="",i+=1;else if(")"===u){var m=l.pop();i-=1,i?l[i-1]+=m:a+=m}else if("\\("===u)a+="(";else if("\\)"===u)a+=")";else if(":"===u.charAt(0))if(c=u.substring(1),f=t[c],null!=f||i>0?void 0:(0,d.default)(!1),null==f){if(i){l[i-1]="";for(var g=r.indexOf(u),y=r.slice(g,r.length),v=-1,b=0;b<y.length;b++)if(")"==y[b]){v=b;break}v>0?void 0:(0,d.default)(!1),p=g+v-1}}else i?l[i-1]+=encodeURIComponent(f):a+=encodeURIComponent(f);else i?l[i-1]+=u:a+=u;return i<=0?void 0:(0,d.default)(!1),a.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=o,t.matchPattern=s,t.getParamNames=l,t.getParams=u,t.formatPattern=c;var f=n(20),d=r(f),p=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.indexOf("deprecated")!==-1){if(l[t])return;l[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[e,t].concat(r))}function a(){l={}}t.__esModule=!0,t.default=i,t._resetWarned=a;var o=n(44),s=r(o),l={}},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return u.hasOwnProperty(e)}function n(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function r(e){for(var t=[],r=0,i=e.length,a=0;a<i;)a=n(e,a,y,d+h,p+m),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function i(e){return"["===e[0]?a(e):o(e)}function a(e){var t,a,o=e.length,s=1;if(s=n(e,s,p,d,p),s===o)throw"Empty between selector: "+e;if(t=r(e.substring(1,s)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(s+1).trim(),e[0]!==b)throw"Expected '>' after between selector: "+e;return t=t.map(i),a=i(e.slice(1).trim()),a.between?{between:t,stream:a}:(a.between=t,a)}function o(e){var r,i,a={source:l},o=[],u=[0,0],c=0,f=0,y=e.length,b=0;if(e[y-1]===m){if(b=e.lastIndexOf(h),!(b>=0))throw"Unmatched right brace: "+e;try{u=s(e.substring(b+1,y-1))}catch(x){throw"Invalid throttle specification: "+e}e=e.slice(0,b).trim(),y=e.length,b=0}if(!y)throw e;if(e[0]===v&&(c=++b),r=n(e,b,g),r<y&&(o.push(e.substring(f,r).trim()),f=b=++r),b=n(e,b,d),b===y)o.push(e.substring(f,y).trim());else if(o.push(e.substring(f,b).trim()),i=[],f=++b,f===y)throw"Unmatched left bracket: "+e;for(;b<y;){if(b=n(e,b,p),b===y)throw"Unmatched left bracket: "+e;if(i.push(e.substring(f,b).trim()),b<y-1&&e[++b]!==d)throw"Expected left bracket: "+e;f=++b}if(!(y=o.length)||_.test(o[y-1]))throw"Invalid event selector: "+e;return y>1?(a.type=o[1],c?a.markname=o[0].slice(1):t(o[0])?a.marktype=o[0]:a.source=o[0]):a.type=o[0],"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1)),null!=i&&(a.filter=i),u[0]&&(a.throttle=u[0]),u[1]&&(a.debounce=u[1]),a}function s(e){var t=e.split(y);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}var l,u,c=function(e,t,n){return l=t||f,u=n||x,r(e.trim()).map(i)},f="view",d="[",p="]",h="{",m="}",g=":",y=",",v="@",b=">",_=/[[\]{}]/,x={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};e.selector=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return l(e)||u(e)}function l(e){return void 0!==e.vconcat}function u(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return f(e,t);if(a(e))return d(e,t);if(o(e))return p(e,t);if(l(e))return h(e,t);if(u(e))return m(e,t);if(i(e)){var n=T.channelHasField(e.encoding,E.ROW),s=T.channelHasField(e.encoding,E.COLUMN);return n||s?g(e,t):v(e,t)}throw new Error(A.message.INVALID_SPEC)}function f(e,t){var n=e.spec,r=P(e,["spec"]);return k({},r,{spec:c(n,t)})}function d(e,t){var n=e.layer,r=P(e,["layer"]);return k({},r,{layer:n.map(function(e){return a(e)?d(e,t):v(e,t)})})}function p(e,t){var n=e.spec,r=P(e,["spec"]);return k({},r,{spec:c(n,t)})}function h(e,t){var n=e.vconcat,r=P(e,["vconcat"]);return k({},r,{vconcat:n.map(function(e){return c(e,t)})})}function m(e,t){var n=e.hconcat,r=P(e,["hconcat"]);return k({},r,{hconcat:n.map(function(e){return c(e,t)})})}function g(e,t){var n=e.encoding,r=n.row,i=n.column,a=P(n,["row","column"]),o=e.mark,s=e.width,l=e.projection,u=e.height,c=e.selection,f=(e.encoding,P(e,["mark","width","projection","height","selection","encoding"]));return k({},f,{facet:k({},r?{row:r}:{},i?{column:i}:{}),spec:v(k({},l?{projection:l}:{},{mark:o},s?{width:s}:{},u?{height:u}:{},{encoding:a},c?{selection:c}:{}),t)})}function y(e){return D.isPrimitiveMark(e.mark)}function v(e,t){if(y(e)){if(T.isRanged(e.encoding))return b(e);var n=t&&t.overlay,r=n&&e.mark===D.AREA&&R.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===D.LINE||"linepoint"===n.area&&e.mark===D.AREA);return i||r?_(e,i,r,t):e}return M.normalize(e,t)}function b(e){var t=T.channelHasField(e.encoding,E.X),n=T.channelHasField(e.encoding,E.Y),r=T.channelHasField(e.encoding,E.X2),i=T.channelHasField(e.encoding,E.Y2);
if(r&&!t||i&&!n){var a=R.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function _(e,t,n,r){var i=e.mark,a=e.selection,o=e.projection,s=e.encoding,l=P(e,["mark","selection","projection","encoding"]),u=[{mark:i,encoding:s}],c=j.stack(i,s,r?r.stack:void 0),f=s;if(c){var d=c.fieldChannel,p=c.offset;f=k({},s,(h={},h[d]=k({},s[d],p?{stack:p}:{}),h))}return n&&u.push(k({},o?{projection:o}:{},{mark:{type:"line",style:"lineOverlay"}},a?{selection:a}:{},{encoding:f})),t&&u.push(k({},o?{projection:o}:{},{mark:{type:"point",filled:!0,style:"pointOverlay"}},a?{selection:a}:{},{encoding:f})),k({},l,{layer:u});var h}function x(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=R.hash(n);e[r]=e[r]||t}),e}function w(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?x(t,C.fieldDefs(e.encoding)):w(e,t)});else if(r(e))x(t,C.fieldDefs(e.facet)),w(e.spec,t);else if(o(e))w(e.spec,t);else if(s(e)){var n=l(e)?e.vconcat:e.hconcat;n.forEach(function(e){return w(e,t)})}else x(t,C.fieldDefs(e.encoding));return t}function O(e){return R.vals(w(e))}function S(e,t){return t=t||e.config,!!D.isPrimitiveMark(e.mark)&&null!==j.stack(e.mark,e.encoding,t?t.stack:void 0)}var k=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},P=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var E=n(5),M=n(86),T=n(28),C=n(28),A=n(3),D=n(22),j=n(130),R=n(1);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=l,t.isHConcatSpec=u,t.normalize=c,t.fieldDefs=O,t.isStacked=S},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return l(e)||u(e)}function l(e){return void 0!==e.vconcat}function u(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return f(e,t);if(a(e))return d(e,t);if(o(e))return p(e,t);if(l(e))return h(e,t);if(u(e))return m(e,t);if(i(e)){var n=T.channelHasField(e.encoding,E.ROW),s=T.channelHasField(e.encoding,E.COLUMN);return n||s?g(e,t):v(e,t)}throw new Error(A.message.INVALID_SPEC)}function f(e,t){var n=e.spec,r=P(e,["spec"]);return k({},r,{spec:c(n,t)})}function d(e,t){var n=e.layer,r=P(e,["layer"]);return k({},r,{layer:n.map(function(e){return a(e)?d(e,t):v(e,t)})})}function p(e,t){var n=e.spec,r=P(e,["spec"]);return k({},r,{spec:c(n,t)})}function h(e,t){var n=e.vconcat,r=P(e,["vconcat"]);return k({},r,{vconcat:n.map(function(e){return c(e,t)})})}function m(e,t){var n=e.hconcat,r=P(e,["hconcat"]);return k({},r,{hconcat:n.map(function(e){return c(e,t)})})}function g(e,t){var n=e.encoding,r=n.row,i=n.column,a=P(n,["row","column"]),o=e.mark,s=e.width,l=e.projection,u=e.height,c=e.selection,f=(e.encoding,P(e,["mark","width","projection","height","selection","encoding"]));return k({},f,{facet:k({},r?{row:r}:{},i?{column:i}:{}),spec:v(k({},l?{projection:l}:{},{mark:o},s?{width:s}:{},u?{height:u}:{},{encoding:a},c?{selection:c}:{}),t)})}function y(e){return D.isPrimitiveMark(e.mark)}function v(e,t){if(y(e)){if(T.isRanged(e.encoding))return b(e);var n=t&&t.overlay,r=n&&e.mark===D.AREA&&R.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===D.LINE||"linepoint"===n.area&&e.mark===D.AREA);return i||r?_(e,i,r,t):e}return M.normalize(e,t)}function b(e){var t=T.channelHasField(e.encoding,E.X),n=T.channelHasField(e.encoding,E.Y),r=T.channelHasField(e.encoding,E.X2),i=T.channelHasField(e.encoding,E.Y2);if(r&&!t||i&&!n){var a=R.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function _(e,t,n,r){var i=e.mark,a=e.selection,o=e.projection,s=e.encoding,l=P(e,["mark","selection","projection","encoding"]),u=[{mark:i,encoding:s}],c=j.stack(i,s,r?r.stack:void 0),f=s;if(c){var d=c.fieldChannel,p=c.offset;f=k({},s,(h={},h[d]=k({},s[d],p?{stack:p}:{}),h))}return n&&u.push(k({},o?{projection:o}:{},{mark:{type:"line",style:"lineOverlay"}},a?{selection:a}:{},{encoding:f})),t&&u.push(k({},o?{projection:o}:{},{mark:{type:"point",filled:!0,style:"pointOverlay"}},a?{selection:a}:{},{encoding:f})),k({},l,{layer:u});var h}function x(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=R.hash(n);e[r]=e[r]||t}),e}function w(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?x(t,C.fieldDefs(e.encoding)):w(e,t)});else if(r(e))x(t,C.fieldDefs(e.facet)),w(e.spec,t);else if(o(e))w(e.spec,t);else if(s(e)){var n=l(e)?e.vconcat:e.hconcat;n.forEach(function(e){return w(e,t)})}else x(t,C.fieldDefs(e.encoding));return t}function O(e){return R.vals(w(e))}function S(e,t){return t=t||e.config,!!D.isPrimitiveMark(e.mark)&&null!==j.stack(e.mark,e.encoding,t?t.stack:void 0)}var k=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},P=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var E=n(6),M=n(97),T=n(30),C=n(30),A=n(4),D=n(25),j=n(140),R=n(2);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=l,t.isHConcatSpec=u,t.normalize=c,t.fieldDefs=O,t.isStacked=S},function(e,t){"use strict";function n(e){return"string"==typeof e&&r.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,l=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var c in r)a.call(r,c)&&(l[c]=r[c]);if(i){s=i(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(l[s[f]]=r[s[f]])}}return l}},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var i=n(10),a=(t.history=(0,i.shape)({listen:i.func.isRequired,push:i.func.isRequired,replace:i.func.isRequired,go:i.func.isRequired,goBack:i.func.isRequired,goForward:i.func.isRequired}),t.component=(0,i.oneOfType)([i.func,i.string])),o=(t.components=(0,i.oneOfType)([a,i.object]),t.route=(0,i.oneOfType)([i.object,i.element]));t.routes=(0,i.oneOfType)([o,(0,i.arrayOf)(o)])},[546,1],[548,5,1],[575,11,29,33],[601,60,61,5,42,46,3,11,87,1,1,29,29,21,199,14,17],function(e,t,n){"use strict";function r(e){return e&&e.selection}function i(e){return e&&!!e.field&&void 0!==e.equal}function a(e){return!!(e&&e.field&&y.isArray(e.range)&&2===e.range.length)}function o(e){return e&&!!e.field&&(y.isArray(e.oneOf)||y.isArray(e.in))}function s(e){return o(e)||i(e)||a(e)}function l(e,t,n){return y.logicalExpr(t,function(t){return y.isString(t)?t:r(t)?p.selectionPredicate(e,t.selection,n):u(t)})}function u(e,t){void 0===t&&(t=!0);var n=e.timeUnit?"time("+g.fieldExpr(e.timeUnit,e.field)+")":m.vgField(e,{expr:"datum"});if(i(e))return n+"==="+c(e.equal,e.timeUnit);if(o(e)){var r=e.oneOf||e.in;return"indexof(["+r.map(function(t){return c(t,e.timeUnit)}).join(",")+"], "+n+") !== -1"}if(a(e)){var s=e.range[0],l=e.range[1];if(null!==s&&null!==l&&t)return"inrange("+n+", ["+c(s,e.timeUnit)+", "+c(l,e.timeUnit)+"])";var u=[];return null!==s&&u.push(n+" >= "+c(s,e.timeUnit)),null!==l&&u.push(n+" <= "+c(l,e.timeUnit)),u.length>0?u.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(e))}function c(e,t){if(h.isDateTime(e)){var n=h.dateTimeExpr(e,!0);return"time("+n+")"}if(g.isLocalSingleTimeUnit(t)){var r={};r[t]=e;var n=h.dateTimeExpr(r,!0);return"time("+n+")"}return g.isUtcSingleTimeUnit(t)?c(e,g.getLocalTimeUnit(t)):JSON.stringify(e)}function f(e){return s(e)&&e.timeUnit?d({},e,{timeUnit:g.normalizeTimeUnit(e.timeUnit)}):e}var d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(17),h=n(46),m=n(7),g=n(65),y=n(1);t.isSelectionPredicate=r,t.isFieldEqualPredicate=i,t.isFieldRangePredicate=a,t.isFieldOneOfPredicate=o,t.isFieldPredicate=s,t.expression=l,t.fieldFilterExpression=u,t.normalizePredicate=f},[625,46,3,1],[546,2],[548,6,2],[575,12,31,34],[601,66,67,6,43,48,4,12,98,2,2,31,31,24,222,16,18],function(e,t,n){"use strict";function r(e){return e&&e.selection}function i(e){return e&&!!e.field&&void 0!==e.equal}function a(e){return!!(e&&e.field&&y.isArray(e.range)&&2===e.range.length)}function o(e){return e&&!!e.field&&(y.isArray(e.oneOf)||y.isArray(e.in))}function s(e){return o(e)||i(e)||a(e)}function l(e,t,n){return y.logicalExpr(t,function(t){return y.isString(t)?t:r(t)?p.selectionPredicate(e,t.selection,n):u(t)})}function u(e,t){void 0===t&&(t=!0);var n=e.timeUnit?"time("+g.fieldExpr(e.timeUnit,e.field)+")":m.vgField(e,{expr:"datum"});if(i(e))return n+"==="+c(e.equal,e.timeUnit);if(o(e)){var r=e.oneOf||e.in;return"indexof(["+r.map(function(t){return c(t,e.timeUnit)}).join(",")+"], "+n+") !== -1"}if(a(e)){var s=e.range[0],l=e.range[1];if(null!==s&&null!==l&&t)return"inrange("+n+", ["+c(s,e.timeUnit)+", "+c(l,e.timeUnit)+"])";var u=[];return null!==s&&u.push(n+" >= "+c(s,e.timeUnit)),null!==l&&u.push(n+" <= "+c(l,e.timeUnit)),u.length>0?u.join(" && "):"true"}throw new Error("Invalid field predicate: "+JSON.stringify(e))}function c(e,t){if(h.isDateTime(e)){var n=h.dateTimeExpr(e,!0);return"time("+n+")"}if(g.isLocalSingleTimeUnit(t)){var r={};r[t]=e;var n=h.dateTimeExpr(r,!0);return"time("+n+")"}return g.isUtcSingleTimeUnit(t)?c(e,g.getLocalTimeUnit(t)):JSON.stringify(e)}function f(e){return s(e)&&e.timeUnit?d({},e,{timeUnit:g.normalizeTimeUnit(e.timeUnit)}):e}var d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(18),h=n(48),m=n(8),g=n(71),y=n(2);t.isSelectionPredicate=r,t.isFieldEqualPredicate=i,t.isFieldRangePredicate=a,t.isFieldOneOfPredicate=o,t.isFieldPredicate=s,t.expression=l,t.fieldFilterExpression=u,t.normalizePredicate=f},[625,48,4,2],function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(362);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var o="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},l=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),u=[];return function e(t,c,f,d){var p=n?"\n"+new Array(d+1).join(n):"",h=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),f=s.call(t,c,f),void 0!==f){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var m=[],g=0;g<f.length;g++){var y=e(f,g,f[g],d+1)||r.stringify(null);m.push(p+n+y)}return"["+m.join(",")+p+"]"}if(u.indexOf(f)!==-1){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(f);for(var v=a(f).sort(l&&l(f)),m=[],g=0;g<v.length;g++){var c=v[g],b=e(f,c,f[c],d+1);if(b){var _=r.stringify(c)+h+b;m.push(p+n+_)}}return u.splice(u.indexOf(f),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var i=n(41);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var a=n(116);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return a.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return a.routerShape}});var o=n(52);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return o.formatPattern}});var s=n(404),l=r(s),u=n(175),c=r(u),f=n(400),d=r(f),p=n(415),h=r(p),m=n(401),g=r(m),y=n(402),v=r(y),b=n(177),_=r(b),x=n(403),w=r(x),O=n(117),S=r(O),k=n(413),P=r(k),E=n(182),M=r(E),T=n(406),C=r(T),A=n(407),D=r(A),j=n(411),R=r(j),N=n(179),I=r(N);t.Router=l.default,t.Link=c.default,t.IndexLink=d.default,t.withRouter=h.default,t.IndexRedirect=g.default,t.IndexRoute=v.default,t.Redirect=_.default,t.Route=w.default,t.RouterContext=S.default,t.match=P.default,t.useRouterHistory=M.default,t.applyRouterMiddleware=C.default,t.browserHistory=D.default,t.hashHistory=R.default,t.createMemoryHistory=I.default},function(e,t,n){(function(e,r){function i(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,e,r.depth)}function a(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&P(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var a=u(e,n);if(a)return a;var o=Object.keys(n),m=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),k(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(P(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(k(n))return c(n)}var y="",v=!1,_=["{","}"];if(h(n)&&(v=!0,_=["[","]"]),P(n)){var x=n.name?": "+n.name:"";y=" [Function"+x+"]"}if(w(n)&&(y=" "+RegExp.prototype.toString.call(n)),S(n)&&(y=" "+Date.prototype.toUTCString.call(n)),k(n)&&(y=" "+c(n)),0===o.length&&(!v||0==n.length))return _[0]+y+_[1];if(r<0)return w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var O;return O=v?f(e,n,r,m,o):o.map(function(t){return d(e,n,r,m,t,v)}),e.seen.pop(),p(O,y,_)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return v(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(d(e,t,n,r,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(d(e,t,n,r,i,!0))}),a}function d(e,t,n,r,i,a){var o,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function p(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return null==e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"symbol"==typeof e}function x(e){return void 0===e}function w(e){return O(e)&&"[object RegExp]"===M(e)}function O(e){return"object"==typeof e&&null!==e}function S(e){return O(e)&&"[object Date]"===M(e)}function k(e){return O(e)&&("[object Error]"===M(e)||e instanceof Error)}function P(e){return"function"==typeof e}function E(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function M(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function C(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),N[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var D=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,a=r.length,o=String(e).replace(D,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];n<a;s=r[++n])o+=g(s)||!O(s)?" "+s:" "+i(s);return o},t.deprecate=function(n,i){function a(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var o=!1;return a};var j,R={};t.debuglog=function(e){if(x(j)&&(j=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(j)){var n=r.pid;R[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else R[e]=function(){};return R[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=y,t.isNumber=v,t.isString=b,t.isSymbol=_,t.isUndefined=x,t.isRegExp=w,t.isObject=O,t.isDate=S,t.isError=k,t.isFunction=P,t.isPrimitive=E,t.isBuffer=n(437);var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",C(),t.format.apply(t,arguments))},t.inherits=n(436),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(373))},[553,3,55,443,445,446,464,207],[560,5,3,11,29,63,13],[567,26,42,46,3,64,88,1,14,17,120,192,193,13,79,194,121,122,195,196,197,198,81,123,82],[568,42,1,13],[570,7,65,1,13],[574,11,29,14],[598,5,3,1,14],[613,3,11,1,17],function(e,t,n){"use strict";function r(e,t){c[e]=t}function i(e){delete c[e]}function a(e,t){var n=s.isMarkDef(e.mark)?e.mark.type:e.mark,r=c[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(22),l=n(476),u=n(478),c={};t.add=r,t.remove=i,t.COMPOSITE_MARK_STYLES=l.BOXPLOT_STYLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=o({},l.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),r(l.BOXPLOT,l.normalizeBoxPlot),r(u.ERRORBAR,u.normalizeErrorBar),t.normalize=a},function(e,t){"use strict";function n(e){return!(!e||"count"!==e.op&&!e.field||!e.op)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSortField=n},function(e,t,n){"use strict";function r(e){return void 0!==e.filter}function i(e){return void 0!==e.lookup}function a(e){return void 0!==e.calculate}function o(e){return!!e.bin}function s(e){return void 0!==e.timeUnit}function l(e){return void 0!==e.aggregate}function u(e){return e.map(function(e){return r(e)?{filter:c.normalizeLogicalOperand(e.filter,f.normalizePredicate)}:e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(128),f=n(64);t.isFilter=r,t.isLookup=i,t.isCalculate=a,t.isBin=o,t.isTimeUnit=s,t.isAggregate=l,t.normalizeTransform=u},[553,4,56,498,500,501,519,230],[560,6,4,12,31,69,15],[567,27,43,48,4,70,99,2,16,18,131,215,216,15,90,217,132,133,218,219,220,221,92,134,93],[568,43,2,15],[570,8,71,2,15],[574,12,31,16],[598,6,4,2,16],[613,4,12,2,18],function(e,t,n){"use strict";function r(e,t){c[e]=t}function i(e){delete c[e]}function a(e,t){var n=s.isMarkDef(e.mark)?e.mark.type:e.mark,r=c[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),l=n(531),u=n(533),c={};t.add=r,t.remove=i,t.COMPOSITE_MARK_STYLES=l.BOXPLOT_STYLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=o({},l.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),r(l.BOXPLOT,l.normalizeBoxPlot),r(u.ERRORBAR,u.normalizeErrorBar),t.normalize=a},87,function(e,t,n){"use strict";function r(e){return void 0!==e.filter}function i(e){return void 0!==e.lookup}function a(e){return void 0!==e.calculate}function o(e){return!!e.bin}function s(e){return void 0!==e.timeUnit}function l(e){return void 0!==e.aggregate}function u(e){return e.map(function(e){return r(e)?{filter:c.normalizeLogicalOperand(e.filter,f.normalizePredicate)}:e})}Object.defineProperty(t,"__esModule",{value:!0});var c=n(138),f=n(70);t.isFilter=r,t.isLookup=i,t.isCalculate=a,t.isBin=o,t.isTimeUnit=s,t.isAggregate=l,t.normalizeTransform=u},function(e,t,n){"use strict";function r(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=o.url(e,t),this.missingSchema=o.normalizeId(o.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var o=n(101);e.exports={Validation:a(r),MissingRef:a(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";function r(e,t,n){var a=this._refs[n];if("string"==typeof a){if(!this._refs[a])return r.call(this,e,t,a);a=this._refs[a]}if(a=a||this._schemas[n],a instanceof v)return s(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,l,u,c=i.call(this,t,n);return c&&(o=c.schema,t=c.root,u=c.baseId),o instanceof v?l=o.validate||e.call(this,o.schema,t,void 0,u):void 0!==o&&(l=s(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,u)),l}function i(e,t){var n=m.parse(t,!1,!0),r=f(n),i=c(this._getId(e.schema));if(r!==i){var s=d(r),l=this._refs[s];if("string"==typeof l)return a.call(this,e,l,n);if(l instanceof v)l.validate||this._compile(l),e=l;else{if(l=this._schemas[s],!(l instanceof v))return;if(l.validate||this._compile(l),s==d(t))return{schema:l,root:e,baseId:i};e=l}if(!e.schema)return;i=c(this._getId(e.schema))}return o.call(this,n,i,e.schema,e)}function a(e,t,n){var r=i.call(this,e,t);if(r){var a=r.schema,s=r.baseId;e=r.root;var l=this._getId(a);return l&&(s=p(s,l)),o.call(this,n,s,a,e)}}function o(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var a=e.hash.split("/"),o=1;o<a.length;o++){var s=a[o];if(s){if(s=y.unescapeFragment(s),n=n[s],void 0===n)break;var l;if(!_[s]&&(l=this._getId(n),l&&(t=p(t,l)),n.$ref)){var u=p(t,n.$ref),c=i.call(this,r,u);c&&(n=c.schema,r=c.root,t=c.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}function s(e,t){return t!==!1&&(void 0===t||t===!0?l(e):t?u(e)<=t:void 0)}function l(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&!l(t))return!1}else for(var r in e){if("$ref"==r)return!1;if(t=e[r],"object"==typeof t&&!l(t))return!1}return!0}function u(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=u(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(x[i])n++;else if(t=e[i],"object"==typeof t&&(n+=u(t)+1),n==1/0)return 1/0}return n}function c(e,t){t!==!1&&(e=d(e));var n=m.parse(e,!1,!0);return f(n)}function f(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function d(e){return e?e.replace(w,""):""}function p(e,t){return t=d(t),m.resolve(e,t)}function h(e){var t=d(this._getId(e)),n={"":t},r={"":c(t,!1)},i={},a=this;return b(e,{allKeys:!0},function(e,t,o,s,l,u,c){if(""!==t){var f=a._getId(e),p=n[s],h=r[s]+"/"+l;if(void 0!==c&&(h+="/"+("number"==typeof c?c:y.escapeFragment(c))),"string"==typeof f){f=p=d(p?m.resolve(p,f):f);var v=a._refs[f];if("string"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!g(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=d(h))if("#"==f[0]){if(i[f]&&!g(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=h}n[t]=p,r[t]=h}}),i}var m=n(435),g=n(103),y=n(49),v=n(142),b=n(361);e.exports=r,r.normalizeId=d,r.fullPath=c,r.url=p,r.ids=h,r.inlineRef=s,r.schema=i;var _=y.toHash(["properties","patternProperties","enum","dependencies","definitions"]),x=y.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),w=/#\/?$/},function(e,t,n){var r,i,a;(function(o){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,o){"object"===s(t)&&"undefined"!=typeof e?o(t):(i=[t],r=o,a="function"==typeof r?r.apply(t,i):r,!(void 0!==a&&(e.exports=a)))}(void 0,function(e){function t(e){return null==e?null:e.fname}function r(e){return null==e?null:e.fields}function i(e){return Zb(e)?"["+e.map(i)+"]":e_(e)||t_(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function a(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function l(e){return function(t){return e*Math.exp(t)}}function u(e){return function(t){return Math.log(e*t)}}function c(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f(e,t,n,r){var i=n(e[0]),a=n(g_(e)),o=(a-i)*t;return[r(i-o),r(a-o)]}function d(e,t){return f(e,t,y_,a_)}function p(e,t){var n=Math.sign(e[0]);return f(e,t,u(n),l(n))}function h(e,t,n){return f(e,t,c(n),c(1/n))}function m(e,t,n,r,i){var a=r(e[0]),o=r(g_(e)),s=null!=t?r(t):(a+o)/2;return[i(s+(a-s)*n),i(s+(o-s)*n)]}function g(e,t,n){return m(e,t,n,y_,a_)}function y(e,t,n){var r=Math.sign(e[0]);return m(e,t,n,u(r),l(r))}function v(e,t,n,r){return m(e,t,n,c(r),c(1/r))}function b(e){return C_(e)?e:T_(e)?e:Date.parse(e)}function _(e){var t=e||a_,n=[],r={};return n.add=function(e){var i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=function(e){var i,a=t(e);return r[a]&&(r[a]=0,(i=n.indexOf(e))>=0&&n.splice(i,1)),n},n}function x(e){return!(!e||!w(e))}function w(e){return e[B_]}function O(e,t){return e[B_]=t,e}function S(e){var t=e===Object(e)?e:{data:e};return w(t)?t:O(t,q_++)}function k(e){return P(e,S({}))}function P(e,t){for(var n in e)t[n]=e[n];return t}function E(e,t){return O(t,w(e))}function M(e){return e&&e.constructor===T}function T(){var e=[],t=[],n=[],r=[],i=[],a=!1;return{constructor:T,insert:function(t){for(var n=v_(t),r=0,i=n.length;r<i;++r)e.push(n[r]);return this},remove:function(e){for(var n=b_(e)?r:t,i=v_(e),a=0,o=i.length;a<o;++a)n.push(i[a]);return this},modify:function(e,t,r){var a={field:t,value:x_(r)};return b_(e)?(a.filter=e,i.push(a)):(a.tuple=e,n.push(a)),this},encode:function(e,t){return b_(e)?i.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},reflow:function(){return a=!0,this},pulse:function(o,s){function l(e,t,n){n?e[t]=n(e):o.encode=t,a||(u[w(e)]=e)}var u,c,f,d,p,h,m;for(c=0,f=e.length;c<f;++c)o.add.push(S(e[c]));for(u={},c=0,f=t.length;c<f;++c)h=t[c],u[w(h)]=h;for(c=0,f=r.length;c<f;++c)p=r[c],s.forEach(function(e){p(e)&&(u[w(e)]=e)});for(m in u)o.rem.push(u[m]);for(u={},c=0,f=n.length;c<f;++c)d=n[c],l(d.tuple,d.field,d.value),o.modifies(d.field);for(c=0,f=i.length;c<f;++c)d=i[c],p=d.filter,s.forEach(function(e){p(e)&&l(e,d.field,d.value)}),o.modifies(d.field);if(a)o.mod=t.length||r.length?s.filter(function(e){return u.hasOwnProperty(w(e))}):s.slice();else for(m in u)o.mod.push(u[m]);return o}}}function C(){Object.defineProperty(this,W_,{writable:!0,value:{}})}function A(e,t,n,r){this.id=++H_,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,
this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function D(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}function j(e,t,n){this.id=++ex,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function R(e,t,n){return new j(e,t,n)}function N(){}function I(e,t){var n=new N;if(e instanceof N)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}function z(){return{}}function F(e,t,n){e[t]=n}function $(){return I()}function L(e,t,n){e.set(t,n)}function U(){}function B(e,t){var n=new U;if(e instanceof U)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}function q(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new W(r)}function W(e){this._=e}function V(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function H(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function G(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ox,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}function Y(e){return function(t,n){e(null==t?n:null)}}function X(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function K(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function Q(e,t){var n=K(e);return function(r,i){return t(n(r),i,e)}}function J(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function Z(e,t){return O_({},e.options,t)}function ee(e,t){var n=this;return n.sanitize(e,t).then(function(e){var r=e.href;return e.localFile?n.file(r):n.http(r,t)})}function te(e,t){return t=Z(this,t),new Promise(function(n,r){var a,o,s,l,u={href:null};return null==e||"string"!=typeof e?void r("Sanitize failure, invalid URI: "+i(e)):(o=hx.test(e),(l=t.baseURL)&&!o&&(ae(e,"/")||"/"===l[l.length-1]||(e="/"+e),e=l+e),s=(a=ae(e,mx))||"file"===t.mode||"http"!==t.mode&&!o&&ie(),a?e=e.slice(mx.length):ae(e,"//")&&("file"===t.defaultProtocol?(e=e.slice(2),s=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(u,"localFile",{value:!!s}),u.href=e,void n(u))})}function ne(e,t){return t=Z(this,t),new Promise(function(n,r){var i,a=sx(e);for(i in t.headers)a.header(i,t.headers[i]);gx.forEach(function(e){t[e]&&a[e](t[e])}),a.on("error",function(t){r(t||"Error loading URL: "+e)}).on("load",function(e){var t=e&&e.responseText;e&&0!==e.status?n(t):r(t||"Error")}).get()})}function re(e){return new Promise(function(t,n){var r=ie();r?r.readFile(e,function(e,r){e?n(e):t(r)}):n("No file system access for "+e)})}function ie(){var e=n(545);return e&&b_(e.readFile)?e:null}function ae(e,t){return null!=e&&0===e.lastIndexOf(t,0)}function oe(e,t){if(!e||!e.length)return"unknown";var n,r,i,a,o=bx.slice();for(r=0,i=e.length;r<i;++r){for(n=t?e[r][t]:e[r],a=0;a<o.length;++a)le(n)&&!o[a](n)&&(o.splice(a,1),--a);if(0===o.length)return"string"}return _x[bx.indexOf(o[0])]}function se(e,t){return t.reduce(function(t,n){return t[n]=oe(e,n),t},{})}function le(e){return null!=e&&e===e}function ue(e){return"true"===e||"false"===e||e===!0||e===!1}function ce(e){return!isNaN(Date.parse(e))}function fe(e){return!(isNaN(+e)||e instanceof Date)}function de(e){return fe(e)&&(e=+e)===~~e}function pe(e){return function(t,n){var r={delimiter:e};return he(t,n?O_(n,r):r)}}function he(e,t){return t.header&&(e=t.header.map(i).join(t.delimiter)+"\n"+e),px(t.delimiter).parse(e+"")}function me(e){return!("function"!=typeof o||!b_(o.isBuffer))&&o.isBuffer(e)}function ge(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}function ye(e,t){var n=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,a=ve(e,t);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function ve(e,t){function n(e,t){t.length&&t.pop();for(var n=u[e<0?~e:e],r=0,i=n.length;r<i;++r)t.push(l(n[r],r));e<0&&Sx(t,i)}function r(e){return l(e)}function i(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r],t);return t.length<2&&t.push(t[0]),t}function a(e){for(var t=i(e);t.length<4;)t.push(t[0]);return t}function o(e){return e.map(a)}function s(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(s)};case"Point":t=r(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(r);break;case"LineString":t=i(e.arcs);break;case"MultiLineString":t=e.arcs.map(i);break;case"Polygon":t=o(e.arcs);break;case"MultiPolygon":t=e.arcs.map(o);break;default:return null}return{type:n,coordinates:t}}var l=Ox(e.transform),u=e.arcs;return s(t)}function be(e,t,n){var r,i,a;if(arguments.length>1)r=_e(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Px(e,r)}}function _e(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function i(e){e.forEach(r)}function a(e){e.forEach(i)}function o(e){e.forEach(a)}function s(e){switch(l=e,e.type){case"GeometryCollection":e.geometries.forEach(s);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":a(e.arcs);break;case"MultiPolygon":o(e.arcs)}}var l,u=[],c=[];return s(t),c.forEach(null==n?function(e){u.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&u.push(e[0].i)}),u}function xe(e,t,n,r){function i(t){return e(t=new Date((+t))),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date((+e)),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do s.push(o=new Date((+n))),t(n,a),e(n);while(o<n&&n<r);return s},i.filter=function(n){return xe(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(i.count=function(t,r){return Ax.setTime(+t),Dx.setTime(+r),e(Ax),e(Dx),Math.floor(n(Ax,Dx))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}function we(e){return xe(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nx)/Fx})}function Oe(e){return xe(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/Fx})}function Se(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ke(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pe(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Ee(e){function t(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date((+n)));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=sw[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function n(e,t){return function(n){var i,a,o=Pe(1900),s=r(o,e,n+="",0);if(s!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=ke(Pe(o.y)),a=i.getUTCDay(),i=a>4||0===a?Jx.ceil(i):Jx(i),i=Kx.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(i=t(Pe(o.y)),a=i.getDay(),i=a>4||0===a?Wx.ceil(i):Wx(i),i=Bx.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?ke(Pe(o.y)).getUTCDay():t(Pe(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ke(o)):t(o)}}function r(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=B[i in sw?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(e,t,n){var r=C.exec(t.slice(n));return r?(e.p=A[r[0].toLowerCase()],n+r[0].length):-1}function a(e,t,n){var r=R.exec(t.slice(n));return r?(e.w=N[r[0].toLowerCase()],n+r[0].length):-1}function o(e,t,n){var r=D.exec(t.slice(n));return r?(e.w=j[r[0].toLowerCase()],n+r[0].length):-1}function s(e,t,n){var r=F.exec(t.slice(n));return r?(e.m=$[r[0].toLowerCase()],n+r[0].length):-1}function l(e,t,n){var r=I.exec(t.slice(n));return r?(e.m=z[r[0].toLowerCase()],n+r[0].length):-1}function u(e,t,n){return r(e,w,t,n)}function c(e,t,n){return r(e,O,t,n)}function f(e,t,n){return r(e,S,t,n)}function d(e){return E[e.getDay()]}function p(e){return P[e.getDay()]}function h(e){return T[e.getMonth()]}function m(e){return M[e.getMonth()]}function g(e){return k[+(e.getHours()>=12)]}function y(e){return E[e.getUTCDay()]}function v(e){return P[e.getUTCDay()]}function b(e){return T[e.getUTCMonth()]}function _(e){return M[e.getUTCMonth()]}function x(e){return k[+(e.getUTCHours()>=12)]}var w=e.dateTime,O=e.date,S=e.time,k=e.periods,P=e.days,E=e.shortDays,M=e.months,T=e.shortMonths,C=Ce(k),A=Ae(k),D=Ce(P),j=Ae(P),R=Ce(E),N=Ae(E),I=Ce(M),z=Ae(M),F=Ce(T),$=Ae(T),L={a:d,A:p,b:h,B:m,c:null,d:Qe,e:Qe,f:nt,H:Je,I:Ze,j:et,L:tt,m:rt,M:it,p:g,Q:Dt,s:jt,S:at,u:ot,U:st,V:lt,w:ut,W:ct,x:null,X:null,y:ft,Y:dt,Z:pt,"%":At},U={a:y,A:v,b:b,B:_,c:null,d:ht,e:ht,f:bt,H:mt,I:gt,j:yt,L:vt,m:_t,M:xt,p:x,Q:Dt,s:jt,S:wt,u:Ot,U:St,V:kt,w:Pt,W:Et,x:null,X:null,y:Mt,Y:Tt,Z:Ct,"%":At},B={a:a,A:o,b:s,B:l,c:u,d:Ue,e:Ue,f:Ge,H:qe,I:qe,j:Be,L:He,m:Le,M:We,p:i,Q:Xe,s:Ke,S:Ve,u:je,U:Re,V:Ne,w:De,W:Ie,x:c,X:f,y:Fe,Y:ze,Z:$e,"%":Ye};return L.x=t(O,L),L.X=t(S,L),L.c=t(w,L),U.x=t(O,U),U.X=t(S,U),U.c=t(w,U),{format:function(e){var n=t(e+="",L);return n.toString=function(){return e},n},parse:function(e){var t=n(e+="",Se);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",U);return n.toString=function(){return e},n},utcParse:function(e){var t=n(e,ke);return t.toString=function(){return e},t}}}function Me(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Te(e){return e.replace(cw,"\\$&")}function Ce(e){return new RegExp("^(?:"+e.map(Te).join("|")+")","i")}function Ae(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function De(e,t,n){var r=lw.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function je(e,t,n){var r=lw.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Re(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ne(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Ie(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ze(e,t,n){var r=lw.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Fe(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Le(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Ue(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Be(e,t,n){var r=lw.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qe(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function We(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ve(e,t,n){var r=lw.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function He(e,t,n){var r=lw.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Ge(e,t,n){var r=lw.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ye(e,t,n){var r=uw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xe(e,t,n){var r=lw.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Ke(e,t,n){var r=lw.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function Qe(e,t){return Me(e.getDate(),t,2)}function Je(e,t){return Me(e.getHours(),t,2)}function Ze(e,t){return Me(e.getHours()%12||12,t,2)}function et(e,t){return Me(1+Bx.count(Gx(e),e),t,3)}function tt(e,t){return Me(e.getMilliseconds(),t,3)}function nt(e,t){return tt(e,t)+"000"}function rt(e,t){return Me(e.getMonth()+1,t,2)}function it(e,t){return Me(e.getMinutes(),t,2)}function at(e,t){return Me(e.getSeconds(),t,2)}function ot(e){var t=e.getDay();return 0===t?7:t}function st(e,t){return Me(qx.count(Gx(e),e),t,2)}function lt(e,t){var n=e.getDay();return e=n>=4||0===n?Vx(e):Vx.ceil(e),Me(Vx.count(Gx(e),e)+(4===Gx(e).getDay()),t,2)}function ut(e){return e.getDay()}function ct(e,t){return Me(Wx.count(Gx(e),e),t,2)}function ft(e,t){return Me(e.getFullYear()%100,t,2)}function dt(e,t){return Me(e.getFullYear()%1e4,t,4)}function pt(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function ht(e,t){return Me(e.getUTCDate(),t,2)}function mt(e,t){return Me(e.getUTCHours(),t,2)}function gt(e,t){return Me(e.getUTCHours()%12||12,t,2)}function yt(e,t){return Me(1+Kx.count(tw(e),e),t,3)}function vt(e,t){return Me(e.getUTCMilliseconds(),t,3)}function bt(e,t){return vt(e,t)+"000"}function _t(e,t){return Me(e.getUTCMonth()+1,t,2)}function xt(e,t){return Me(e.getUTCMinutes(),t,2)}function wt(e,t){return Me(e.getUTCSeconds(),t,2)}function Ot(e){var t=e.getUTCDay();return 0===t?7:t}function St(e,t){return Me(Qx.count(tw(e),e),t,2)}function kt(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Zx(e):Zx.ceil(e),Me(Zx.count(tw(e),e)+(4===tw(e).getUTCDay()),t,2)}function Pt(e){return e.getUTCDay()}function Et(e,t){return Me(Jx.count(tw(e),e),t,2)}function Mt(e,t){return Me(e.getUTCFullYear()%100,t,2)}function Tt(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function Ct(){return"+0000"}function At(){return"%"}function Dt(e){return+e}function jt(e){return Math.floor(+e/1e3)}function Rt(e){return nw=Ee(e),rw=nw.format,iw=nw.parse,aw=nw.utcFormat,ow=nw.utcParse,nw}function Nt(e){return e.toISOString()}function It(e){var t=new Date(e);return isNaN(t)?null:t}function zt(e,t,n){if(e.length){n=n||iw;var r,i,a,o,s,l,u,c=e.columns||Object.keys(e[0]);for("auto"===t&&(t=se(e,c)),c=Object.keys(t),r=c.map(function(e){var r,i,a=t[e];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return r=a.split(/:(.+)?/,2),i=r[1],("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?ow(i):n(i);if(!vx[a])throw Error("Illegal format pattern: "+e+":"+a);return vx[a]}),o=0,l=e.length,u=c.length;o<l;++o)for(i=e[o],s=0;s<u;++s)a=c[s],i[a]=r[s](i[a])}}function Ft(e,t,n){return this.pulse(e,this.changeset().insert(dw(t,n)))}function $t(e){var t,n,r=new Promise(function(e,r){t=e,n=r});return r.requests=0,r.done=function(){0===--r.requests&&e.runAfter(function(){e._pending=null;try{e.run(),t(e)}catch(r){n(r)}})},e._pending=r}function Lt(e,t,n){var r=this,i=r._pending||$t(r);i.requests+=1,r.loader().load(t,{context:"dataflow"}).then(function(t){r.ingest(e,t,n)},function(e){r.error("Loading failed",t,e)}).catch(function(e){r.error("Data ingestion failed",t,e)}).then(i.done,i.done)}function Ut(e,t,n,r,i,a){var o,s,l=O_({},a,pw);b_(n)||(n=x_(n)),void 0===r?o=function(t){e.touch(n(t))}:b_(r)?(s=new A(null,r,i,(!1)),o=function(t){var r,i=n(t);s.evaluate(t),M(r=s.value)?e.pulse(i,r,a):e.update(i,r,l)}):o=function(t){e.update(n(t),r,l)},t.apply(o)}function Bt(e,t,n,r,i,a){var o,s;void 0===r?s=n:(o=b_(r)?r:x_(r),r=n?function(e,t){var r=o(e,t);return n.skip()?r:n.skip(!0).value=r}:o,s=new A(null,r,i,(!1)),s.modified(a&&a.force),s.rank=0,n&&(s.skip(!0),s.value=n.value,s.targets().add(n))),t.targets().add(s)}function qt(e){e.rank=++this._rank}function Wt(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&Qb("Cycle detected in dataflow graph.")}function Vt(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function Ht(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function Gt(e,t){var n=[];return U_(e,t,function(e){n.push(e)}),n}function Yt(e,t){var n={};return e.visit(t,function(e){n[w(e)]=1}),function(e){return n[w(e)]?null:e}}function Xt(e,t,n,r){var i,a,o,s,l,u=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,s=n.length;o<s;++o)if(i=n[o],i.stamp===t){if(i.fields){a=u.fields||(u.fields={});for(l in i.fields)a[l]=1}i.changed(u.ADD)&&(c|=u.ADD),i.changed(u.REM)&&(c|=u.REM),i.changed(u.MOD)&&(c|=u.MOD)}this.changes=c}function Kt(e){var t,n,r,i,a=this,o=0,s=a.logLevel();if(a._pending)return a.info("Awaiting requests, delaying dataflow run."),0;if(a._pulse)return a.error("Dataflow invoked recursively. Use the runAfter method to queue invocation."),0;if(!a._touched.length)return a.info("Dataflow invoked, but nothing to do."),0;a._pulse=new Vt(a,(++a._clock),e),s>=p_&&(r=Date.now(),a.debug("-- START PROPAGATION ("+a._clock+") -----")),a._touched.forEach(function(e){a._enqueue(e,!0)}),a._touched=_(i_);try{for(;a._heap.size()>0;)t=a._heap.pop(),t.rank===t.qrank?(n=t.run(a._getPulse(t,e)),s>=h_&&a.debug(t.id,n===mw?"STOP":n,t),n!==mw&&(a._pulse=n,t._targets&&t._targets.forEach(function(e){a._enqueue(e)})),++o):a._enqueue(t,!0)}catch(l){i=l}if(a._pulses={},a._pulse=null,s>=p_&&(r=Date.now()-r,a.info("> Pulse "+a._clock+": "+o+" operators; "+r+"ms")),i&&(a._postrun=[],a.error(i)),a._onrun)try{a._onrun(a,o,i)}catch(l){a.error(l)}if(a._postrun.length){var u=a._postrun;a._postrun=[],u.forEach(function(e){try{e(a)}catch(t){a.error(t)}})}return o}function Qt(){return this._pending||Promise.resolve(this.run())}function Jt(e,t){if(this._pulse||t)this._postrun.push(e);else try{e(this)}catch(n){this.error(n)}}function Zt(e,t){var n=!this._pulses[e.id];n&&(this._pulses[e.id]=this._pulse),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function en(e,t){var n,r=e.source,i=this._clock;return r&&Zb(r)?(n=r.map(function(e){return e.pulse}),new Xt(this,i,n,t)):(n=this._pulses[e.id],r&&(r=r.pulse,r&&r!==mw?r.stamp===i&&n.target!==e?n=r:n.source=r.source:n.source=[]),n)}function tn(e,t){var n=t||Mw;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function nn(e,t,n){var r=n||Mw;return(e.set(t)||r.force)&&this.touch(e,r),this}function rn(e,t,n){this.touch(e,n||Mw);var r=new Vt(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._pulses[e.id]=t.pulse(r,i),this}function an(e){this.cmp=e,this.nodes=[]}function on(e,t,n,r){var i,a,o;for(i=e[n];n>t&&(o=n-1>>1,a=e[o],r(i,a)<0);)e[n]=a,n=o;return e[n]=i}function sn(e,t,n){for(var r,i=t,a=e.length,o=e[t],s=2*t+1;s<a;)r=s+1,r<a&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],t=s,s=2*t+1;return e[t]=o,on(e,i,t,n)}function ln(){this._log=m_(),this.logLevel(f_),this._clock=0,this._rank=0;try{this._loader=yx()}catch(e){}this._touched=_(i_),this._pulses={},this._pulse=null,this._heap=new an(function(e,t){return e.qrank-t.qrank}),this._postrun=[]}function un(e){return function(){return this._log[e].apply(this,arguments)}}function cn(e,t){A.call(this,e,null,t)}function fn(e){var t=dn(e);return t&&t.Definition||null}function dn(e){return e=e&&e.toLowerCase(),Dw.hasOwnProperty(e)?Dw[e]:null}function pn(e){return function(t){for(var n=e.length,r=1,i=String(e[0](t));r<n;++r)i+="|"+e[r](t);return i}}function hn(e){return e&&e.length?1===e.length?e[0]:pn(e):function(){return""}}function mn(e,t,n){return n||e+(t?"_"+t:"")}function gn(e,t){return jw[e](t)}function yn(e){return function(t){var n=O_({init:"",add:"",rem:"",idx:0},e);return n.out=t||e.name,n}}function vn(e,t){return e.idx-t.idx}function bn(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=jw[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r,i=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{})),a=[];for(r in i)a.push(i[r]);return a.sort(vn)}function _n(e,t){var n=t||a_,r=bn(e,!0),i="var cell = this.cell; this.valid = 0; this.missing = 0;",a="this.cell = cell; this.init();",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",l="var cell = this.cell;";return r.forEach(function(e){i+=e.init,o+=e.add,s+=e.rem}),e.slice().sort(vn).forEach(function(e){l+="t['"+e.out+"']="+e.set+";"}),l+="return t;",a=Function("cell",a),a.prototype.init=Function(i),a.prototype.add=Function("v","t",o),a.prototype.rem=Function("v","t",s),a.prototype.set=Function("t",l),a.prototype.get=n,a.fields=e.map(function(e){return e.out}),a}function xn(e){return null===e?NaN:+e}function wn(t){e.random=t}function On(e){return function(t,n){return zw(e(t),n)}}function Sn(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Hw?10:a>=Gw?5:a>=Yw?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Hw?10:a>=Gw?5:a>=Yw?2:1)}function kn(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Hw?i*=10:a>=Gw?i*=5:a>=Yw&&(i*=2),t<e?-i:i}function Pn(e){var t=e.length,n=oO(e),r=(n[2]-n[0])/1.34;return 1.06*Math.min(Math.sqrt(qw(e)),r)*Math.pow(t,-.2)}function En(e){this._key=e?n_(e):w,this.reset()}function Mn(e){cn.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function Tn(e){cn.call(this,null,e)}function Cn(e){cn.call(this,[],e)}function An(e){A.call(this,null,Dn,e)}function Dn(e){return this.value&&!e.modified()?this.value:__(e.fields,e.orders)}function jn(e){cn.call(this,null,e)}function Rn(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}function Nn(e){cn.call(this,null,e)}function In(e,t,n,r){for(var i,a,o=[],s={},l=e.length,u=0;u<l;++u)for(s[t]=a=e[u],i=0;i<l;++i)s[n]=e[i],r(s)&&(o.push(S(s)),s={},s[t]=a);return o}function zn(e,t){var n=e[xO];bO.hasOwnProperty(n)||Qb("Unknown distribution function: "+n);var r=bO[n]();for(var i in e)i===wO?r.data((e.from||t()).map(e[i])):i===_O?r[i](e[i].map(function(e){return zn(e,t)})):s(r[i])===xO&&r[i](e[i]);return r}function Fn(e){cn.call(this,null,e)}function $n(e){return function(){return e.materialize(e.SOURCE).source}}function Ln(e){cn.call(this,[+(1/0),-(1/0)],e)}function Un(e,t){A.call(this,e),this.parent=t}function Bn(e){cn.call(this,{},e),this._keys=P_();var t=this._targets=[];t.active=0,t.forEach=function(e){for(var n=0,r=t.active;n<r;++n)e(t[n],n,t)}}function qn(e){A.call(this,null,Wn,e)}function Wn(e){return this.value&&!e.modified()?this.value:Zb(e.name)?v_(e.name).map(function(e){return n_(e)}):n_(e.name,e.as)}function Vn(e){cn.call(this,P_(),e)}function Hn(e){cn.call(this,{},e)}function Gn(e){return e.fields.join("|")}function Yn(e){cn.call(this,null,e)}function Xn(e){cn.call(this,[],e)}function Kn(e){cn.call(this,[],e)}function Qn(e){var t,n=e.method||jO.value;return null!=jO[n]?n===jO.value?(t=void 0!==e.value?e.value:0,function(){return t}):jO[n]:void Qb("Unrecognized imputation method: "+n)}function Jn(e){var t=e.field;return function(e){return e?t(e):NaN}}function Zn(e,t,n,r){var i,a,o,s,l,u,c,f,d=function(e){return e(f)},p=[],h=r?r.slice():[],m={},g={};for(h.forEach(function(e,t){m[e]=t+1}),s=0,c=e.length;s<c;++s)f=e[s],u=n(f),l=m[u]||(m[u]=h.push(u)),a=(i=t?t.map(d):RO)+"",(o=g[a])||(o=g[a]=[],p.push(o),o.values=i),o[l-1]=f;return p.domain=h,p}function er(e){Mn.call(this,e)}function tr(e){A.call(this,null,nr,e)}function nr(e){return this.value&&!e.modified()?this.value:D_(e.fields,e.flat)}function rr(e){cn.call(this,{},e)}function ir(e){A.call(this,null,ar,e)}function ar(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=+(1/0),a=-(1/0),o=e.extents;for(t=0,n=o.length;t<n;++t)r=o[t],r[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function or(e){A.call(this,null,sr,e)}function sr(e){return this.value&&!e.modified()?this.value:e.values.reduce(function(e,t){return e.concat(t)},[])}function lr(e){cn.call(this,null,e)}function ur(e){Bn.call(this,e)}function cr(e){cn.call(this,null,e)}function fr(e,n){return e?e.map(function(e,r){return n[r]||t(e)}):null}function dr(e,t,n,r){for(var i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function pr(e){cn.call(this,null,e)}function hr(e){cn.call(this,null,e)}function mr(e){cn.call(this,[],e),this.count=0}function gr(e){cn.call(this,null,e)}function yr(e){cn.call(this,null,e),this.modified(!0)}function vr(e){cn.call(this,P_(),e)}function br(e){cn.call(this,null,e)}function _r(e,t,n,r){var i=GO[e](t,n);return{init:i.init||o_,update:function(e,t){t[r]=i.next(e)}}}function xr(e){function n(e){v_(r(e)).forEach(function(e){f[e]=1})}var i=this,a=v_(e.ops),o=v_(e.fields),s=v_(e.params),l=v_(e.as),u=i.outputs=[],c=i.windows=[],f={},d={},p=!0,h=[],m=[];n(e.sort),a.forEach(function(e,r){var i=o[r],a=t(i),f=mn(e,a,l[r]);if(n(i),u.push(f),GO.hasOwnProperty(e))c.push(_r(e,o[r],s[r],f));else{if(null==i&&"count"!==e&&Qb("Null aggregate field specified."),"count"===e)return void h.push(f);p=!1;var g=d[a];g||(g=d[a]=[],g.field=i,m.push(g)),g.push(gn(e,f))}}),(h.length||m.length)&&(i.cell=wr(m,h,p)),i.inputs=Object.keys(f)}function wr(e,t,n){e=e.map(function(e){return _n(e,e.field)});var r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),o=0;o<i;++o)a[o]=new e[o](r);if(r.store)var s=r.data=new En;return r.add=function(e){if(r.num+=1,!n){s&&s.add(e);for(var t=0;t<i;++t)a[t].add(a[t].get(e),e)}},r.rem=function(e){if(r.num-=1,!n){s&&s.rem(e);for(var t=0;t<i;++t)a[t].rem(a[t].get(e),e)}},r.set=function(e){var i,o;for(s&&s.values(),i=0,o=t.length;i<o;++i)e[t[i]]=r.num;if(!n)for(i=0,o=a.length;i<o;++i)a[i].set(e)},r.init=function(){r.num=0,s&&s.reset();for(var e=0;e<i;++e)a[e].init()},r}function Or(e){cn.call(this,{},e),this._mlen=0,this._mods=[]}function Sr(e,t,n){var r=n.sort,i=r&&!n.ignorePeers,a=n.frame||[null,0],o=e.data(r),s=o.length,l=0,u=i?Fw(r):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:r||x_(-1)};for(t.init();l<s;++l)kr(c,a,l,s),i&&Pr(c,u),t.update(c,o[l])}function kr(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Pr(e,t){var n=e.i0,r=e.i1-1,i=e.compare,a=e.data,o=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<o&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}function Er(e){this.clear(),e&&this.union(e)}function Mr(e){this.mark=e,this.bounds=this.bounds||new Er}function Tr(e){Mr.call(this,e),this.items=this.items||[]}function Cr(e,t){if("undefined"!=typeof document&&document.createElement){var n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}function Ar(){return"undefined"!=typeof Image?Image:null}function Dr(e,t){if(tS)try{return new tS(e,t)}catch(n){}return null}function jr(){return tS&&tS.Image||null}function Rr(e,t){return Cr(e,t)||Dr(e,t)||null}function Nr(){return Ar()||jr()||null}function Ir(e){this._pending=0,this._loader=e||yx()}function zr(e){e._pending+=1}function Fr(e){e._pending-=1}function $r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Lr(){return new $r}function Ur(e){return e>1?0:e<-1?vS:Math.acos(e)}function Br(e){return e>=1?bS:e<=-1?-bS:Math.asin(e)}function qr(e){return e.innerRadius}function Wr(e){return e.outerRadius}function Vr(e){return e.startAngle}function Hr(e){return e.endAngle}function Gr(e){return e&&e.padAngle}function Yr(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=(c*(t-a)-f*(e-i))/(f*l-c*u);return[e+d*l,t+d*u]}function Xr(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/gS(s*s+l*l),c=u*l,f=-u*s,d=e+c,p=t+f,h=n+c,m=r+f,g=(d+h)/2,y=(p+m)/2,v=h-d,b=m-p,_=v*v+b*b,x=i-a,w=d*m-h*p,O=(b<0?-1:1)*gS(pS(0,x*x*_-w*w)),S=(w*b-v*O)/_,k=(-w*v-b*O)/_,P=(w*b+v*O)/_,E=(-w*v+b*O)/_,M=S-g,T=k-y,C=P-g,A=E-y;return M*M+T*T>C*C+A*A&&(S=P,k=E),{cx:S,cy:k,x01:-c,y01:-f,x11:S*(i/x-1),y11:k*(i/x-1)}}function Kr(e){this._context=e}function Qr(e){return e[0]}function Jr(e){return e[1]}function Zr(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ei(e){this._context=e}function ti(e){this._context=e}function ni(e){this._context=e}function ri(e,t){this._basis=new ei(e),this._beta=t}function ii(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ai(e,t){this._context=e,this._k=(1-t)/6}function oi(e,t){this._context=e,this._k=(1-t)/6}function si(e,t){this._context=e,this._k=(1-t)/6}function li(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>yS){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>yS){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function ui(e,t){this._context=e,this._alpha=t}function ci(e,t){this._context=e,this._alpha=t}function fi(e,t){this._context=e,this._alpha=t}function di(e){this._context=e}function pi(e){return e<0?-1:1}function hi(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(pi(a)+pi(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function mi(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function gi(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function yi(e){this._context=e}function vi(e){this._context=new bi(e)}function bi(e){this._context=e}function _i(e){return new yi(e)}function xi(e){return new vi(e)}function wi(e){this._context=e}function Oi(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Si(e,t){this._context=e,this._t=t}function ki(e){return new Si(e,0)}function Pi(e){return new Si(e,1)}function Ei(e,t,n){var r=BS.hasOwnProperty(e)&&BS[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}function Mi(e,t,n,r,i,a,o,s,l){var u=YS.call(arguments);if(HS[u])return HS[u];var c=o*(Math.PI/180),f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);var p=d*(s-e)*.5+f*(l-t)*.5,h=d*(l-t)*.5-f*(s-e)*.5,m=p*p/(n*n)+h*h/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);var g=d/n,y=f/n,v=-f/r,b=d/r,_=g*s+y*l,x=v*s+b*l,w=g*e+y*t,O=v*e+b*t,S=(w-_)*(w-_)+(O-x)*(O-x),k=1/S-.25;k<0&&(k=0);var P=Math.sqrt(k);a==i&&(P=-P);var E=.5*(_+w)-P*(O-x),M=.5*(x+O)+P*(w-_),T=Math.atan2(x-M,_-E),C=Math.atan2(O-M,w-E),A=C-T;A<0&&1===a?A+=2*Math.PI:A>0&&0===a&&(A-=2*Math.PI);for(var D=Math.ceil(Math.abs(A/(.5*Math.PI+.001))),j=[],R=0;R<D;++R){var N=T+R*A/D,I=T+(R+1)*A/D;
j[R]=[E,M,N,I,n,r,f,d]}return HS[u]=j}function Ti(e){var t=YS.call(e);if(GS[t])return GS[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=u*o,f=-l*s,d=l*o,p=u*s,h=Math.cos(i),m=Math.sin(i),g=Math.cos(a),y=Math.sin(a),v=.5*(a-i),b=Math.sin(.5*v),_=8/3*b*b/Math.sin(v),x=n+h-_*m,w=r+m+_*h,O=n+g,S=r+y,k=O+_*y,P=S-_*g;return GS[t]=[c*x+f*w,d*x+p*w,c*k+f*P,d*k+p*P,c*O+f*S,d*O+p*S]}function Ci(e,t){var n=XS[0]=e[0];if("a"===n||"A"===n)XS[1]=t*e[1],XS[2]=t*e[2],XS[6]=t*e[6],XS[7]=t*e[7];else for(var r=1,i=e.length;r<i;++r)XS[r]=t*e[r];return XS}function Ai(e,t,n,r){for(var i=Mi(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=Ti(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}function Di(e){return ZS.hasOwnProperty(e)?ZS[e]:ji(e)}function ji(e){if(!ek.hasOwnProperty(e)){var t=VS(e);ek[e]={draw:function(e,n){KS(e,t,0,0,Math.sqrt(n)/2)}}}return ek[e]}function Ri(e){return e.x}function Ni(e){return e.y}function Ii(e){return e.width}function zi(e){return e.height}function Fi(e){return function(){return e}}function $i(e){return e.x||0}function Li(e){return e.y||0}function Ui(e){return e.width||0}function Bi(e){return e.size||1}function qi(e){return e.height||0}function Wi(e){return(e.x||0)+(e.width||0)}function Vi(e){return(e.y||0)+(e.height||0)}function Hi(e){return e.startAngle||0}function Gi(e){return e.endAngle||0}function Yi(e){return e.padAngle||0}function Xi(e){return e.innerRadius||0}function Ki(e){return e.outerRadius||0}function Qi(e){return e.cornerRadius||0}function Ji(e){return!(e.defined===!1)}function Zi(e){return null==e.size?64:e.size}function ea(e){return Di(e.shape||"circle")}function ta(e,t){return ik.context(e)(t)}function na(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?ok:ak).curve(Ei(r,n.orient,n.tension)).context(e)(t)}function ra(e,t){var n=t[0],r=n.interpolate||"linear";return sk.curve(Ei(r,n.orient,n.tension)).context(e)(t)}function ia(e,t,n,r){return lk.context(e)(t,n,r)}function aa(e,t){return(t.mark.shape||t.shape).context(e)(t)}function oa(e,t){return uk.context(e)(t)}function sa(e,t){return ck.context(e)(t)}function la(e){return LS=e,la}function ua(){}function ca(e,t){LS.add(e,t)}function fa(e,t){return e.zindex-t.zindex||e.index-t.index}function da(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)t=i[n],t.index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(fa)}function pa(e,t){var n,r,i=e.items;if(i&&i.length){var a=da(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function ha(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=da(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(i=e.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function ma(e){return function(t,n,r){pa(n,function(n){r&&!r.intersects(n.bounds)||ya(e,t,n,n)})}}function ga(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||ya(e,t,n.items[0],n.items)}}function ya(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(n.fill&&bk(t,n,i)&&t.fill(),n.stroke&&xk(t,n,i)&&t.stroke()))}function va(e){return e||(e=wk),function(t,n,r,i,a,o){return t.pixelRatio>1&&(r*=t.pixelRatio,i*=t.pixelRatio),ha(n,function(n){var s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,r,i,a,o)?n:void 0})}}function ba(e,t){return function(n,r,i,a){var o,s,l=Array.isArray(r)?r[0]:r,u=null==t?l.fill:t,c=l.stroke&&n.isPointInStroke;return c&&(o=l.strokeWidth,s=l.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(u&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function _a(e){return va(ba(e))}function xa(){Tk=1}function wa(e,t){e("transform",Sk(t))}function Oa(e,t){var n=t.stroke?Ak:0;e("class","background"),e("d",ia(null,t,n,n))}function Sa(e,t,n){var r=t.clip?Ck(n,t,t):null;e("clip-path",r)}function ka(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&fk(e.add(0,0).add(t.width||0,t.height||0),t),e.translate(t.x||0,t.y||0)}function Pa(e,t,n){var r=this;pa(t,function(t){var i,a,o=t.x||0,s=t.y||0,l=t.width||0,u=t.height||0;e.save(),e.translate(o,s),(t.stroke||t.fill)&&(a=null==t.opacity?1:t.opacity,a>0&&(e.beginPath(),i=t.stroke?Ak:0,ia(e,t,i,i),t.fill&&bk(e,t,a)&&e.fill(),t.stroke&&xk(e,t,a)&&e.stroke())),t.clip&&(e.beginPath(),e.rect(0,0,l,u),e.clip()),n&&n.translate(-o,-s),pa(t,function(t){r.draw(e,t,n)}),n&&n.translate(o,s),e.restore()})}function Ea(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var o=this;return ha(t,function(s){var l,u,c,f;if(f=s.bounds,!f||f.contains(i,a))return u=s.x||0,c=s.y||0,e.save(),e.translate(u,c),u=i-u,c=a-c,l=ha(s,function(e){return Ma(e,u,c)?o.pick(e,n,r,u,c):null}),e.restore(),l?l:(l=t.interactive!==!1&&(s.fill||s.stroke)&&u>=0&&u<=s.width&&c>=0&&c<=s.height,l?s:null)})}function Ma(e,t,n){return(e.interactive!==!1||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}function Ta(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then(function(t){e.image=t,e.image.url=e.url})),n}function Ca(e,t){return"center"===e?t/2:"right"===e?t:0}function Aa(e,t){return"middle"===e?t/2:"bottom"===e?t:0}function Da(e,t,n){var r=Ta(t,n),i=t.x||0,a=t.y||0,o=(null!=t.width?t.width:r.width)||0,s=(null!=t.height?t.height:r.height)||0,l=t.aspect===!1?"none":"xMidYMid";i-=Ca(t.align,o),a-=Aa(t.baseline,s),e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",Ok(i,a)),e("width",o),e("height",s),e("preserveAspectRatio",l)}function ja(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=(null!=t.width?t.width:n&&n.width)||0,o=(null!=t.height?t.height:n&&n.height)||0;return r-=Ca(t.align,a),i-=Aa(t.baseline,o),e.set(r,i,r+a,i+o)}function Ra(e,t,n){var r=this;pa(t,function(t){if(!n||n.intersects(t.bounds)){var i,a,o,s,l=Ta(t,r),u=t.x||0,c=t.y||0,f=(null!=t.width?t.width:l.width)||0,d=(null!=t.height?t.height:l.height)||0;u-=Ca(t.align,f),c-=Aa(t.baseline,d),t.aspect!==!1&&(a=l.width/l.height,o=t.width/t.height,a===a&&o===o&&a!==o&&(o<a?(s=f/a,c+=(d-s)/2,d=s):(s=d*a,u+=(f-s)/2,f=s))),l.loaded&&(e.globalAlpha=null!=(i=t.opacity)?i:1,e.drawImage(l,u,c,f,d))}})}function Na(e,t){e("transform",Sk(t)),e("d",t.path)}function Ia(e,t){var n=t.path;if(null==n)return!0;var r=t.pathCache;r&&r.path===n||((t.pathCache=r=VS(n)).path=n),KS(e,r,t.x,t.y)}function za(e,t){return Ia(la(e),t)?e.set(0,0,0,0):fk(e,t)}function Fa(e,t){e("d",ia(null,t))}function $a(e,t){var n,r;return fk(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function La(e,t){e.beginPath(),ia(e,t)}function Ua(e,t){e("transform",Sk(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)}function Ba(e,t){var n,r;return fk(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)}function qa(e,t,n){var r,i,a,o;return!(!t.stroke||!xk(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}function Wa(e,t,n){pa(t,function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&qa(e,t,r)&&e.stroke()}})}function Va(e,t,n,r){return!!e.isPointInStroke&&(qa(e,t,1)&&e.isPointInStroke(n,r))}function Ha(e){return gk=Ka(e),Ga(Ja(e))}function Ga(e){return~~(.8*e.length*gk)}function Ya(e){return mk.font=eo(e),Xa(Ja(e))}function Xa(e){return mk.measureText(e).width}function Ka(e){return null!=e.fontSize?e.fontSize:11}function Qa(e){mk=e&&(mk=Rr(1,1))?mk.getContext("2d"):null,Lk.width=mk?Ya:Ha}function Ja(e){var t=e.text;return null==t?"":e.limit>0?Za(e):t+""}function Za(e){var t,n=+e.limit,r=e.text+"";if(mk?(mk.font=eo(e),t=Xa):(gk=Ka(e),t=Ga),t(r)<n)return r;var i,a=e.ellipsis||"…",o="rtl"===e.dir,s=0,l=r.length;if(n-=t(a),o){for(;s<l;)i=s+l>>>1,t(r.slice(i))>n?s=i+1:l=i;return a+r.slice(s)}for(;s<l;)i=1+(s+l>>>1),t(r.slice(0,i))<n?s=i:l=i-1;return r.slice(0,s)+a}function eo(e,t){var n=e.font;return t&&n&&(n=String(n).replace(/"/g,"'")),""+(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Ka(e)+"px "+(n||"sans-serif")}function to(e){var t=e.baseline,n=Ka(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}function no(e,t){var n,r=t.dx||0,i=(t.dy||0)+to(t),a=t.x||0,o=t.y||0,s=t.angle||0,l=t.radius||0;l&&(n=(t.theta||0)-Math.PI/2,a+=l*Math.cos(n),o+=l*Math.sin(n)),e("text-anchor",Uk[t.align]||"start"),s?(n=Ok(a,o)+" rotate("+s+")",(r||i)&&(n+=" "+Ok(r,i))):n=Ok(a+r,o+i),e("transform",n)}function ro(e,t,n){var r,i,a=Lk.height(t),o=t.align,s=t.radius||0,l=t.x||0,u=t.y||0,c=t.dx||0,f=(t.dy||0)+to(t)-Math.round(.8*a);return s&&(i=(t.theta||0)-Math.PI/2,l+=s*Math.cos(i),u+=s*Math.sin(i)),r=Lk.width(t),"center"===o?c-=r/2:"right"===o&&(c-=r),e.set(c+=l,f+=u,c+r,f+a),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,l,u),e.expand(n||!r?0:1)}function io(e,t,n){pa(t,function(t){var r,i,a,o,s,l;n&&!n.intersects(t.bounds)||(l=Ja(t))&&(r=null==t.opacity?1:t.opacity,0!==r&&(e.font=eo(t),e.textAlign=t.align||"left",i=t.x||0,a=t.y||0,(o=t.radius)&&(s=(t.theta||0)-Math.PI/2,i+=o*Math.cos(s),a+=o*Math.sin(s)),t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*Math.PI/180),i=a=0),i+=t.dx||0,a+=(t.dy||0)+to(t),t.fill&&bk(e,t,r)&&e.fillText(l,i,a),t.stroke&&xk(e,t,r)&&e.strokeText(l,i,a),t.angle&&e.restore()))})}function ao(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=ro(Bk,t,!0),s=-t.angle*Math.PI/180,l=Math.cos(s),u=Math.sin(s),c=t.x,f=t.y,d=l*i-u*a+(c-c*l+f*u),p=u*i+l*a+(f-c*u-f*l);return o.contains(d,p)}function oo(e,t){return JSON.stringify(e,Xk,t)}function so(e){var t="string"==typeof e?JSON.parse(e):e;return lo(t)}function lo(e){var t,n,r,i=e.marktype,a=e.items;if(a)for(n=0,r=a.length;n<r;++n)t=i?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(i||t)&&lo(a[n]);return i&&Yk(e),e}function uo(e){arguments.length?this.root=so(e):(this.root=co({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Tr(this.root)])}function co(e,t){return{bounds:new Er,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}function fo(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function po(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ho(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=fo(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function mo(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function go(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function yo(e){this._active=null,this._handlers={},this._loader=e||yx()}function vo(e){this._el=null,this._bgcolor=null,this._loader=new Ir(e)}function bo(e){yo.call(this,e),this._down=null,this._touch=null,this._first=!0}function _o(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function xo(e){return function(t){this.fire(e,t),this._active=null}}function wo(e){vo.call(this,e),this._redraw=!1,this._dirty=new Er}function Oo(e,t,n){return t.expand(1).round(),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}function So(e,t){if(null==t)return e;for(var n=oP.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}function ko(e){yo.call(this,e);var t=this;t._hrefHandler=Po(t,function(e,n){n&&n.href&&t.handleHref(e,n,n.href)}),t._tooltipHandler=Po(t,function(e,n){n&&n.tooltip&&t.handleTooltip(e,n,"mouseover"===e.type?n.tooltip:null)})}function Po(e,t){return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,t.call(e._obj,n,i)}}function Eo(e,t,n){var r,i,a="<"+e;if(t)for(r in t)i=t[r],null!=i&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function Mo(e){return"</"+e+">"}function To(e){vo.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}function Co(e,t,n){var r,i,a;for(e=ho(e,n,"linearGradient",fP),e.setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),r=0,i=t.stops.length;r<i;++r)a=ho(e,r,"stop",fP),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);mo(e,r)}function Ao(e,t,n){var r;e=ho(e,n,"clipPath",fP),e.setAttribute("id",t.id),r=ho(e,0,"rect",fP),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)}function Do(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function jo(e,t,n){t=t.lastChild;var r,i=0;pa(n,function(n){r=e.draw(t,n,r),++i}),mo(t,1+i)}function Ro(e,t,n,r){var i,a=e._svg;if(!a&&(i=t.ownerDocument,a=fo(i,r,fP),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var o=fo(i,"path",fP);o.setAttribute("class","background"),a.appendChild(o),o.__data__=e;var s=fo(i,"g",fP);a.appendChild(s),s.__data__=e}return!i&&a.previousSibling===n&&n||t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function No(e,t,n){t!==mP[e]&&(null!=t?n?hP.setAttributeNS(n,e,t):hP.setAttribute(e,t):n?hP.removeAttributeNS(n,e):hP.removeAttribute(e),mP[e]=t)}function Io(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function zo(e){vo.call(this,e),this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}function Fo(e,t,n,r){bP[r||e]=t}function $o(e,t,n,r){if(null==e)return"";var i,a,o,s,l,u="";for("bgrect"===n&&t.interactive===!1&&(u+="pointer-events: none; "),"text"===n&&(u+="font: "+eo(e)+"; "),i=0,a=cP.length;i<a;++i)o=cP[i],s=uP[o],l=e[o],null==l?"fill"===s&&(u+="fill: none; "):"transparent"!==l||"fill"!==s&&"stroke"!==s?(l.id&&(r.gradient[l.id]=l,l="url(#"+l.id+")"),u+=s+": "+l+"; "):u+=s+": none; ";return u?'style="'+u.trim()+'"':null}function Lo(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Uo(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(kP[e]=t,this):kP[e]}function Bo(e,t,n){return e===t||("path"===n?qo(e,t):e instanceof Date&&t instanceof Date?+e===+t:C_(e)&&C_(t)?Math.abs(e-t)<=PP:e&&t&&(e_(e)||e_(t))?null!=e&&null!=t&&Wo(e,t):e==t)}function qo(e,t){return Bo(VS(e),VS(t))}function Wo(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!Bo(e[n],t[n],n))return!1;return("undefined"==typeof e?"undefined":s(e))===("undefined"==typeof t?"undefined":s(t))}function Vo(e){cn.call(this,null,e)}function Ho(e,t,n){return t(e.bounds.clear(),e,n)}function Go(e){cn.call(this,0,e)}function Yo(e){var t=e._signals[TP];return t||(e._signals[TP]=t=e.add(0)),t}function Xo(e){cn.call(this,null,e)}function Ko(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Qo(e){cn.call(this,null,e)}function Jo(e,t){return!(e.x2-1<t.x1||e.x1+1>t.x2||e.y2-1<t.y1||e.y1+1>t.y2)}function Zo(e){for(var t,n=1,r=e.length,i=e[0].bounds;n<r;i=t,++n)if(Jo(i,t=e[n].bounds))return!0}function es(e){var t=e.bounds;return t.width()>1&&t.height()>1}function ts(e,t,n){var r=e.range(),i=new Er;return t===DP||t===NP?i.set(r[0],-(1/0),r[1],+(1/0)):i.set(-(1/0),r[0],+(1/0),r[1]),i.expand(n||1),function(e){return i.encloses(e.bounds)}}function ns(e){cn.call(this,null,e)}function rs(e){for(var t,n,r=e.items,i=r.length,a=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(t=r[a],n=t.items,"group"===t.marktype)switch(t.role){case $P:case LP:break;case UP:is(n,o.rowheaders);break;case BP:is(n,o.rowfooters);break;case WP:is(n,o.colheaders);break;case VP:is(n,o.colfooters);break;case qP:o.rowtitle=n[0];break;case HP:o.coltitle=n[0];break;default:is(n,o.marks)}return o}function is(e,t){for(var n=0,r=e.length;n<r;++n)t.push(e[n])}function as(e){return{x1:0,y1:0,x2:e.width||0,y2:e.height||0}}function os(e){var t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function ss(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function ls(e,t){return e.bounds[t]}function us(e,t,n){var r=e_(e)?e[t]:e;return null!=r?r:void 0!==n?n:0}function cs(e){return e<0?Math.ceil(-e):0}function fs(e,t,n){function r(e,t){return Math.floor(Math.min(e,t))}function i(e,t){return Math.ceil(Math.max(e,t))}var a,o,s,l,u,c,f,d,p,h,m,g,y,v=rs(t,n),b=v.marks,_="flush"===n.bounds,x=_?as:os,w=new Er(0,0,0,0),O=us(n.align,"column"),S=us(n.align,"row"),k=us(n.padding,"column"),P=us(n.padding,"row"),E=n.offset,M=t.columns||n.columns||b.length,T=M<0?1:Math.ceil(b.length/M),C=T*M,A=[],D=[],j=0,R=[],N=[],I=0,z=b.length;for(o=0;o<M;++o)D[o]=0;for(o=0;o<T;++o)N[o]=0;for(o=0;o<z;++o)u=x(b[o]),s=o%M,l=~~(o/M),f=s?Math.ceil(x(b[o-1]).x2):0,d=l?Math.ceil(x(b[o-M]).y2):0,D[s]=Math.max(D[s],f),N[l]=Math.max(N[l],d),A.push(k+cs(u.x1)),R.push(P+cs(u.y1)),e.dirty(b[o]);for(o=0;o<z;++o)o%M===0&&(A[o]=j),o<M&&(R[o]=I);if("each"===O)for(s=1;s<M;++s){for(y=0,o=s;o<z;o+=M)y<A[o]&&(y=A[o]);for(o=s;o<z;o+=M)A[o]=y+D[s]}else if("all"===O){for(g=0,s=1;s<M;++s)g<D[s]&&(g=D[s]);for(y=0,o=0;o<z;++o)o%M&&y<A[o]&&(y=A[o]);for(o=0;o<z;++o)o%M&&(A[o]=y+g)}else for(s=1;s<M;++s)for(o=s;o<z;o+=M)A[o]+=D[s];if("each"===S)for(l=1;l<T;++l){for(y=0,o=l*M,a=o+M;o<a;++o)y<R[o]&&(y=R[o]);for(o=l*M;o<a;++o)R[o]=y+N[l]}else if("all"===S){for(g=0,l=1;l<T;++l)g<N[l]&&(g=N[l]);for(y=0,o=M;o<z;++o)y<R[o]&&(y=R[o]);for(o=M;o<z;++o)R[o]=y+g}else for(l=1;l<T;++l)for(o=l*M,a=o+M;o<a;++o)R[o]+=N[l];for(p=0,o=0;o<z;++o)c=b[o],f=c.x||0,c.x=p=A[o]+(o%M?p:0),c.bounds.translate(p-f,0);for(s=0;s<M;++s)for(h=0,o=s;o<z;o+=M)c=b[o],d=c.y||0,c.y=h+=R[o],c.bounds.translate(0,h-d);for(o=0;o<z;++o)b[o].mark.bounds.clear();for(o=0;o<z;++o)c=b[o],e.dirty(c),w.union(c.mark.bounds.union(c.bounds));x=_?ss:ls,m=us(n.headerBand,"row",null),p=ds(e,v.rowheaders,b,M,T,-us(E,"rowHeader"),r,0,x,"x1",0,M,1,m),m=us(n.headerBand,"column",null),h=ds(e,v.colheaders,b,M,M,-us(E,"columnHeader"),r,1,x,"y1",0,1,M,m),m=us(n.footerBand,"row",null),ds(e,v.rowfooters,b,M,T,us(E,"rowFooter"),i,0,x,"x2",M-1,M,1,m),m=us(n.footerBand,"column",null),ds(e,v.colfooters,b,M,M,us(E,"columnFooter"),i,1,x,"y2",C-M,1,M,m),v.rowtitle&&(y=p-us(E,"rowTitle"),m=us(n.titleBand,"row",.5),ps(e,v.rowtitle,y,0,w,m)),v.coltitle&&(y=h-us(E,"columnTitle"),m=us(n.titleBand,"column",.5),ps(e,v.coltitle,y,1,w,m))}function ds(e,t,n,r,i,a,o,s,l,u,c,f,d,p){var h,m,g,y,v,b,_,x,w,O=n.length,S=0,k=0;if(!O)return S;for(h=c;h<O;h+=f)n[h]&&(S=o(S,l(n[h],u)));if(!t.length)return S;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),S+=a,m=0,y=t.length;m<y;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(h=c,m=0,y=t.length;m<y;++m,h+=f){for(b=t[m],v=b.mark.bounds,g=h;g>=0&&null==(_=n[g]);g-=d);s?(x=null==p?_.x:Math.round(_.bounds.x1+p*_.bounds.width()),w=S):(x=S,w=null==p?_.y:Math.round(_.bounds.y1+p*_.bounds.height())),v.union(b.bounds.translate(x-(b.x||0),w-(b.y||0))),b.x=x,b.y=w,e.dirty(b),k=o(k,v[u])}return k}function ps(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function hs(e){cn.call(this,null,e)}function ms(e,t,n){var r,i,a,o,s,l,u=t.items,c=Math.max(0,t.width||0),f=Math.max(0,t.height||0),d=(new Er).set(0,0,c,f),p=d.clone(),h=d.clone(),m=d.clone(),g=[];for(s=0,l=u.length;s<l;++s)switch(i=u[s],i.role){case QP:p.union(o=bs(e,i,c,f)),(ys(i)?h:m).union(o);break;case JP:r=i;break;case eE:g.push(i);break;case ZP:case tE:case nE:case rE:case iE:case aE:h.union(i.bounds),m.union(i.bounds);break;default:d.union(i.bounds)}if(r&&(p.union(o=_s(e,r,p)),(ys(r)?h:m).union(o)),g.length)for(a={left:0,right:0,top:0,bottom:0,margin:n.legendMargin||8},s=0,l=g.length;s<l;++s)if(o=xs(e,g[s],a,h,m,c,f),n.autosize&&n.autosize.type===GP){var y=g[s].items[0].datum.orient;y===jP||y===RP?d.add(o.x1,0).add(o.x2,0):y!==DP&&y!==NP||d.add(0,o.y1).add(0,o.y2)}else d.union(o);d.union(h).union(m).union(p),ws(e,t,d,n)}function gs(e,t,n){return e[t]===n?0:(e[t]=n,1)}function ys(e){var t=e.items[0].datum.orient;return t===jP||t===RP}function vs(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function bs(e,t,n,r){var i,a,o=t.items[0],s=o.datum,l=s.orient,u=vs(s),c=o.range,f=o.offset,d=o.position,p=o.minExtent,h=o.maxExtent,m=s.title&&o.items[u[2]].items[0],g=o.titlePadding,y=o.bounds,v=0,b=0;switch(sE.clear().union(y),y.clear(),(i=u[0])>-1&&y.union(o.items[i].bounds),(i=u[1])>-1&&y.union(o.items[i].bounds),l){case DP:v=d||0,b=-f,a=Math.max(p,Math.min(h,-y.y1)),m&&(m.auto?(a+=g,m.y=-a,a+=m.bounds.height(),y.add(m.bounds.x1,0).add(m.bounds.x2,0)):y.union(m.bounds)),y.add(0,-a).add(c,0);break;case jP:v=-f,b=d||0,a=Math.max(p,Math.min(h,-y.x1)),m&&(m.auto?(a+=g,m.x=-a,a+=m.bounds.width(),y.add(0,m.bounds.y1).add(0,m.bounds.y2)):y.union(m.bounds)),y.add(-a,0).add(0,c);break;case RP:v=n+f,b=d||0,a=Math.max(p,Math.min(h,y.x2)),m&&(m.auto?(a+=g,m.x=a,a+=m.bounds.width(),y.add(0,m.bounds.y1).add(0,m.bounds.y2)):y.union(m.bounds)),y.add(0,0).add(a,c);break;case NP:v=d||0,b=r+f,a=Math.max(p,Math.min(h,y.y2)),m&&(m.auto?(a+=g,m.y=a,a+=m.bounds.height(),y.add(m.bounds.x1,0).add(m.bounds.x2,0)):y.union(m.bounds)),y.add(0,0).add(c,a);break;default:v=o.x,b=o.y}return fk(y.translate(v,b),o),gs(o,"x",v+oE)|gs(o,"y",b+oE)&&(o.bounds=sE,e.dirty(o),o.bounds=y,e.dirty(o)),o.mark.bounds.clear().union(y)}function _s(e,t,n){var r=t.items[0],i=r.datum,a=i.orient,o=r.offset,s=r.bounds,l=0,u=0;switch(sE.clear().union(s),a){case DP:l=r.x,u=n.y1-o;break;case jP:l=n.x1-o,u=r.y;break;case RP:l=n.x2+o,u=r.y;break;case NP:l=r.x,u=n.y2+o;break;default:l=r.x,u=r.y}return s.translate(l-r.x,u-r.y),gs(r,"x",l)|gs(r,"y",u)&&(r.bounds=sE,e.dirty(r),r.bounds=s,e.dirty(r)),t.bounds.clear().union(s)}function xs(e,t,n,r,i,a,o){var s,l,u,c=t.items[0],f=c.datum,d=f.orient,p=c.offset,h=c.bounds,m=0,g=0;switch(d===DP||d===NP?(u=i,m=n[d]):d!==jP&&d!==RP||(u=r,g=n[d]),sE.clear().union(h),h.clear(),c.items.forEach(function(e){h.union(e.bounds)}),s=Math.round(h.width())+2*c.padding-1,l=Math.round(h.height())+2*c.padding-1,d){case jP:m-=s+p-Math.floor(u.x1),n.left+=l+n.margin;break;case RP:m+=p+Math.ceil(u.x2),n.right+=l+n.margin;break;case DP:g-=l+p-Math.floor(u.y1),n.top+=s+n.margin;break;case NP:g+=p+Math.ceil(u.y2),n.bottom+=s+n.margin;break;case"top-left":m+=p,g+=p;break;case"top-right":m+=a-s-p,g+=p;break;case"bottom-left":m+=p,g+=o-l-p;break;case"bottom-right":m+=a-s-p,g+=o-l-p;break;default:m=c.x,g=c.y}return fk(h.set(m,g,m+s,g+l),c),gs(c,"x",m)|gs(c,"width",s)|gs(c,"y",g)|gs(c,"height",l)&&(c.bounds=sE,e.dirty(c),c.bounds=h,e.dirty(c)),c.mark.bounds.clear().union(h)}function ws(e,t,n,r){var i=r.autosize||{},a=i.type,o=e._width,s=e._height,l=e.padding();if(!(e._autosize<1)&&a){var u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,Math.ceil(n.x2-u)),d=Math.max(0,t.height||0),p=Math.max(0,Math.ceil(-n.y1)),h=Math.max(0,Math.ceil(n.y2-d));i.contains===KP&&(o-=l.left+l.right,s-=l.top+l.bottom),a===XP?(c=0,p=0,u=o,d=s):a===GP?(u=Math.max(0,o-c-f),d=Math.max(0,s-p-h)):a===YP&&(o=u+c+f,s=d+p+h),e._resizeView(o,s,u,d,[c,p],i.resize)}}function Os(e){function t(t){var a=t+"",o=n.get(a);if(!o){if(i!==AE)return i;n.set(a,o=r.push(t))}return e[(o-1)%e.length]}var n=I(),r=[],i=AE;return e=null==e?[]:CE.call(e),t.domain=function(e){if(!arguments.length)return r.slice();r=[],n=I();for(var i,a,o=-1,s=e.length;++o<s;)n.has(a=(i=e[o])+"")||n.set(a,r.push(i));return t},t.range=function(n){return arguments.length?(e=CE.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(i=e,t):i},t.copy=function(){return Os().domain(r).range(e).unknown(i)},t}function Ss(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ks(){}function Ps(e){var t;return e=(e+"").trim().toLowerCase(),(t=FE.exec(e))?(t=parseInt(t[1],16),new As(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=$E.exec(e))?Es(parseInt(t[1],16)):(t=LE.exec(e))?new As(t[1],t[2],t[3],1):(t=UE.exec(e))?new As(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=BE.exec(e))?Ms(t[1],t[2],t[3],t[4]):(t=qE.exec(e))?Ms(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=WE.exec(e))?Ds(t[1],t[2]/100,t[3]/100,1):(t=VE.exec(e))?Ds(t[1],t[2]/100,t[3]/100,t[4]):HE.hasOwnProperty(e)?Es(HE[e]):"transparent"===e?new As(NaN,NaN,NaN,0):null}function Es(e){return new As(e>>16&255,e>>8&255,255&e,1)}function Ms(e,t,n,r){return r<=0&&(e=t=n=NaN),new As(e,t,n,r)}function Ts(e){return e instanceof ks||(e=Ps(e)),e?(e=e.rgb(),new As(e.r,e.g,e.b,e.opacity)):new As}function Cs(e,t,n,r){return 1===arguments.length?Ts(e):new As(e,t,n,null==r?1:r)}function As(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Ds(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ns(e,t,n,r)}function js(e){if(e instanceof Ns)return new Ns(e.h,e.s,e.l,e.opacity);if(e instanceof ks||(e=Ps(e)),!e)return new Ns;if(e instanceof Ns)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ns(o,s,l,e.opacity)}function Rs(e,t,n,r){return 1===arguments.length?js(e):new Ns(e,t,n,null==r?1:r)}function Ns(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Is(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function zs(e){if(e instanceof $s)return new $s(e.l,e.a,e.b,e.opacity);if(e instanceof Hs){var t=e.h*GE;return new $s(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof As||(e=Ts(e));var n=qs(e.r),r=qs(e.g),i=qs(e.b),a=Ls((.4124564*n+.3575761*r+.1804375*i)/KE),o=Ls((.2126729*n+.7151522*r+.072175*i)/QE),s=Ls((.0193339*n+.119192*r+.9503041*i)/JE);return new $s(116*o-16,500*(a-o),200*(o-s),e.opacity)}function Fs(e,t,n,r){return 1===arguments.length?zs(e):new $s(e,t,n,null==r?1:r)}function $s(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Ls(e){return e>nM?Math.pow(e,1/3):e/tM+ZE}function Us(e){return e>eM?e*e*e:tM*(e-ZE)}function Bs(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ws(e){if(e instanceof Hs)return new Hs(e.h,e.c,e.l,e.opacity);e instanceof $s||(e=zs(e));var t=Math.atan2(e.b,e.a)*YE;return new Hs(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Vs(e,t,n,r){return 1===arguments.length?Ws(e):new Hs(e,t,n,null==r?1:r)}function Hs(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Gs(e){if(e instanceof Xs)return new Xs(e.h,e.s,e.l,e.opacity);e instanceof As||(e=Ts(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(cM*r+lM*t-uM*n)/(cM+lM-uM),a=r-i,o=(sM*(n-i)-aM*a)/oM,s=Math.sqrt(o*o+a*a)/(sM*i*(1-i)),l=s?Math.atan2(o,a)*YE-120:NaN;return new Xs(l<0?l+360:l,s,i,e.opacity)}function Ys(e,t,n,r){return 1===arguments.length?Gs(e):new Xs(e,t,n,null==r?1:r)}function Xs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ks(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function Qs(e,t){return function(n){return e+n*t}}function Js(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Zs(e,t){var n=t-e;return n?Qs(e,n>180||n<-180?n-360*Math.round(n/360):n):vM(isNaN(e)?t:e)}function el(e){return 1===(e=+e)?tl:function(t,n){return n-t?Js(t,n,e):vM(isNaN(t)?n:t)}}function tl(e,t){var n=t-e;return n?Qs(e,n):vM(isNaN(e)?t:e)}function nl(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Cs(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}function rl(e){return function(){return e}}function il(e){return function(t){return e(t)+""}}function al(e){return"none"===e?DM:(fM||(fM=document.createElement("DIV"),dM=document.documentElement,pM=document.defaultView),fM.style.transform=e,e=pM.getComputedStyle(dM.appendChild(fM),null).getPropertyValue("transform"),dM.removeChild(fM),e=e.slice(7,-1).split(","),jM(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function ol(e){return null==e?DM:(hM||(hM=document.createElementNS("http://www.w3.org/2000/svg","g")),hM.setAttribute("transform",e),(e=hM.transform.baseVal.consolidate())?(e=e.matrix,jM(e.a,e.b,e.c,e.d,e.e,e.f)):DM)}function sl(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}function a(e,r,i,a,o,s){if(e!==i||r!==a){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:SM(e,i)},{i:l-2,x:SM(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}function o(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:SM(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}function s(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:SM(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}function l(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:SM(e,n)},{i:s-2,x:SM(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}function ll(e){return((e=Math.exp(e))+1/e)/2}function ul(e){return((e=Math.exp(e))-1/e)/2}function cl(e){return((e=Math.exp(2*e))-1)/(e+1)}function fl(e){return function(t,n){var r=e((t=Rs(t)).h,(n=Rs(n)).h),i=tl(t.s,n.s),a=tl(t.l,n.l),o=tl(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}function dl(e,t){var n=tl((e=Fs(e)).l,(t=Fs(t)).l),r=tl(e.a,t.a),i=tl(e.b,t.b),a=tl(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function pl(e){return function(t,n){var r=e((t=Vs(t)).h,(n=Vs(n)).h),i=tl(t.c,n.c),a=tl(t.l,n.l),o=tl(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}function hl(e){return function t(n){function r(t,r){var i=e((t=Ys(t)).h,(r=Ys(r)).h),a=tl(t.s,r.s),o=tl(t.l,r.l),s=tl(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}function ml(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:XM(t)}function gl(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function yl(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function vl(e,t,n,r){var i=e[0],a=e[1],o=t[0],s=t[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(e){return o(i(e))}}function bl(e,t,n,r){var i=Math.min(e.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=n(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(t){var n=Lw(e,t,1,i)-1;return o[n](a[n](t))}}function _l(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function xl(e,t){function n(){return i=Math.min(s.length,l.length)>2?bl:vl,a=o=null,r}function r(t){return(a||(a=i(s,l,c?gl(e):e,u)))(+t)}var i,a,o,s=QM,l=QM,u=TM,c=!1;return r.invert=function(e){return(o||(o=i(l,s,ml,c?yl(t):t)))(+e)},r.domain=function(e){return arguments.length?(s=TE.call(e,KM),n()):s.slice()},r.range=function(e){return arguments.length?(l=CE.call(e),n()):l.slice();
},r.rangeRound=function(e){return l=CE.call(e),u=CM,n()},r.clamp=function(e){return arguments.length?(c=!!e,n()):c},r.interpolate=function(e){return arguments.length?(u=e,n()):u},n()}function wl(e){return new Ol(e)}function Ol(e){if(!(t=oT.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):aT[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=u,this.type=c}function Sl(e){return sT=dT(e),lT=sT.format,uT=sT.formatPrefix,sT}function kl(e){var t=e.domain;return e.ticks=function(e){var n=t();return Xw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){return gT(t(),e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),r=Sn(s,l,n),r>0?(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,r=Sn(s,l,n)):r<0&&(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,r=Sn(s,l,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,t(i)),e},e}function Pl(){var e=xl(ml,SM);return e.copy=function(){return _l(e,Pl())},kl(e)}function El(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=TE.call(n,KM),e):t.slice()},e.copy=function(){return El().domain(t)},kl(e)}function Ml(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:XM(t)}function Tl(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function Cl(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Al(e){return 10===e?Cl:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Dl(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function jl(e){return function(t){return-e(-t)}}function Rl(){function e(){return i=Dl(r),a=Al(r),n()[0]<0&&(i=jl(i),a=jl(a)),t}var t=xl(Ml,Tl).domain([1,10]),n=t.domain,r=10,i=Dl(10),a=Al(10);return t.base=function(t){return arguments.length?(r=+t,e()):r},t.domain=function(t){return arguments.length?(n(t),e()):n()},t.ticks=function(e){var t,o=n(),s=o[0],l=o[o.length-1];(t=l<s)&&(d=s,s=l,l=d);var u,c,f,d=i(s),p=i(l),h=null==e?10:+e,m=[];if(!(r%1)&&p-d<h){if(d=Math.round(d)-1,p=Math.round(p)+1,s>0){for(;d<p;++d)for(c=1,u=a(d);c<r;++c)if(f=u*c,!(f<s)){if(f>l)break;m.push(f)}}else for(;d<p;++d)for(c=r-1,u=a(d);c>=1;--c)if(f=u*c,!(f<s)){if(f>l)break;m.push(f)}}else m=Xw(d,p,Math.min(p-d,h)).map(a);return t?m.reverse():m},t.tickFormat=function(e,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=lT(n)),e===1/0)return n;null==e&&(e=10);var o=Math.max(1,r*e/t.ticks().length);return function(e){var t=e/a(Math.round(i(e)));return t*r<r-.5&&(t*=r),t<=o?n(e):""}},t.nice=function(){return n(yT(n(),{floor:function(e){return a(Math.floor(i(e)))},ceil:function(e){return a(Math.ceil(i(e)))}}))},t.copy=function(){return _l(t,Rl().base(r))},t}function Nl(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function Il(){function e(e,t){return(t=Nl(t,n)-(e=Nl(e,n)))?function(r){return(Nl(r,n)-e)/t}:XM(t)}function t(e,t){return t=Nl(t,n)-(e=Nl(e,n)),function(r){return Nl(e+t*r,1/n)}}var n=1,r=xl(e,t),i=r.domain;return r.exponent=function(e){return arguments.length?(n=+e,i(i())):n},r.copy=function(){return _l(r,Il().exponent(n))},kl(r)}function zl(){return Il().exponent(.5)}function Fl(){function e(){var e=0,a=Math.max(1,r.length);for(i=new Array(a-1);++e<a;)i[e-1]=Qw(n,e/a);return t}function t(e){if(!isNaN(e=+e))return r[Lw(i,e)]}var n=[],r=[],i=[];return t.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},t.domain=function(t){if(!arguments.length)return n.slice();n=[];for(var r,i=0,a=t.length;i<a;++i)r=t[i],null==r||isNaN(r=+r)||n.push(r);return n.sort(zw),e()},t.range=function(t){return arguments.length?(r=CE.call(t),e()):r.slice()},t.quantiles=function(){return i.slice()},t.copy=function(){return Fl().domain(n).range(r)},t}function $l(){function e(e){if(e<=e)return o[Lw(a,e,0,i)]}function t(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return e}var n=0,r=1,i=1,a=[.5],o=[0,1];return e.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],t()):[n,r]},e.range=function(e){return arguments.length?(i=(o=CE.call(e)).length-1,t()):o.slice()},e.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,a[0]]:t>=i?[a[i-1],r]:[a[t-1],a[t]]},e.copy=function(){return $l().domain([n,r]).range(o)},kl(e)}function Ll(){function e(e){if(e<=e)return n[Lw(t,e,0,r)]}var t=[.5],n=[0,1],r=1;return e.domain=function(i){return arguments.length?(t=CE.call(i),r=Math.min(t.length,n.length-1),e):t.slice()},e.range=function(i){return arguments.length?(n=CE.call(i),r=Math.min(t.length,n.length-1),e):n.slice()},e.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},e.copy=function(){return Ll().domain(t).range(n)},e}function Ul(e){return new Date(e)}function Bl(e){return e instanceof Date?+e:+new Date((+e))}function ql(e,t,n,r,i,a,o,s,l){function u(s){return(o(s)<s?h:a(s)<s?m:i(s)<s?g:r(s)<s?y:t(s)<s?n(s)<s?v:b:e(s)<s?_:x)(s)}function c(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,o=Fw(function(e){return e[2]}).right(w,a);o===w.length?(i=kn(n/ST,r/ST,t),t=e):o?(o=w[a/w[o-1][2]<w[o][2]/a?o-1:o],i=o[1],t=o[0]):(i=Math.max(kn(n,r,t),1),t=s)}return null==i?t:t.every(i)}var f=xl(ml,SM),d=f.invert,p=f.domain,h=l(".%L"),m=l(":%S"),g=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),b=l("%b %d"),_=l("%B"),x=l("%Y"),w=[[o,1,vT],[o,5,5*vT],[o,15,15*vT],[o,30,30*vT],[a,1,bT],[a,5,5*bT],[a,15,15*bT],[a,30,30*bT],[i,1,_T],[i,3,3*_T],[i,6,6*_T],[i,12,12*_T],[r,1,xT],[r,2,2*xT],[n,1,wT],[t,1,OT],[t,3,3*OT],[e,1,ST]];return f.invert=function(e){return new Date(d(e))},f.domain=function(e){return arguments.length?p(TE.call(e,Bl)):p().map(Ul)},f.ticks=function(e,t){var n,r=p(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=c(e,i,a,t),n=n?n.range(i,a+1):[],o?n.reverse():n},f.tickFormat=function(e,t){return null==t?u:l(t)},f.nice=function(e,t){var n=p();return(e=c(e,n[0],n[n.length-1],t))?p(yT(n,e)):f},f.copy=function(){return _l(f,ql(e,t,n,r,i,a,o,s,l))},f}function Wl(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Vl(){function e(){var e=i().length,r=o[1]<o[0],f=o[r-0],d=o[1-r],p=EE(e,l,u);t=(d-f)/(p||1),s&&(t=Math.floor(t)),f+=(d-f-t*(e-l))*c,n=t*(1-l),s&&(f=Math.round(f),n=Math.round(n));var h=Vw(e).map(function(e){return f+t*e});return a(r?h.reverse():h)}var t,n,r=Os().unknown(void 0),i=r.domain,a=r.range,o=[0,1],s=!1,l=0,u=0,c=.5;return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),e()):i()},r.range=function(t){return arguments.length?(o=[+t[0],+t[1]],e()):o.slice()},r.rangeRound=function(t){return o=[+t[0],+t[1]],s=!0,e()},r.bandwidth=function(){return n},r.step=function(){return t},r.round=function(t){return arguments.length?(s=!!t,e()):s},r.padding=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),l=u,e()):l},r.paddingInner=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),e()):l},r.paddingOuter=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),e()):u},r.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),e()):c},r.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var t,r,s,l=+e[0],u=+e[1],c=o[1]<o[0],f=c?a().reverse():a(),d=f.length-1;if(l===l&&u===u&&(u<l&&(s=l,l=u,u=s),!(u<f[0]||l>o[1-c])))return t=Math.max(0,Lw(f,l)-1),r=l===u?t:Lw(f,u)-1,l-f[t]>n+1e-10&&++t,c&&(s=t,t=d-r,r=d-s),t>r?void 0:i().slice(t,r+1)}},r.invert=function(e){var t=r.invertRange([e,e]);return t?t[0]:t},r.copy=function(){return Vl().domain(i()).range(o).round(s).paddingInner(l).paddingOuter(u).align(c)},e()}function Hl(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return Hl(t())},e}function Gl(){return Hl(Vl().paddingInner(1))}function Yl(e){return IT.call(e,function(e){return+e})}function Xl(){function e(e){return n(e)}function t(e){r=Yl(e),n.domain([r[0],g_(r)])}var n=Pl(),r=[];return e.domain=function(n){return arguments.length?(t(n),e):r.slice()},e.range=function(t){return arguments.length?(n.range(t),e):n.range()},e.rangeRound=function(t){return arguments.length?(n.rangeRound(t),e):n.rangeRound()},e.interpolate=function(t){return arguments.length?(n.interpolate(t),e):n.interpolate()},e.invert=function(e){return n.invert(e)},e.ticks=function(t){var n=r.length,i=~~(n/(t||n));return i<2?e.domain():r.filter(function(e,t){return!(t%i)})},e.tickFormat=function(){return n.tickFormat.apply(n,arguments)},e.copy=function(){return Xl().domain(e.domain()).range(e.range())},e}function Kl(){function e(e){return null==e||e!==e?void 0:n[(Lw(t,e)-1)%n.length]}var t=[],n=[];return e.domain=function(n){return arguments.length?(t=Yl(n),e):t.slice()},e.range=function(t){return arguments.length?(n=zT.call(t),e):n.slice()},e.copy=function(){return Kl().domain(e.domain()).range(e.range())},e}function Ql(e){function t(){var e=r.domain();i=e[0],a=g_(e)-i}function n(t){var n=(t-i)/a;return e(o?Math.max(0,Math.min(1,n)):n)}var r=Pl(),i=0,a=1,o=!1;return n.clamp=function(e){return arguments.length?(o=!!e,n):o},n.domain=function(e){return arguments.length?(r.domain(e),t(),n):r.domain()},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ql().domain(r.domain()).clamp(o).interpolator(e)},n.ticks=function(e){return r.ticks(e)},n.tickFormat=function(e,t){return r.tickFormat(e,t)},n.nice=function(e){return r.nice(e),t(),n},n}function Jl(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?kE(n):n.invertExtent?PE(n):void 0),n.type=e,n}}function Zl(e,t){return arguments.length>1?(FT[e]=Jl(e,t),this):FT.hasOwnProperty(e)?FT[e]:void 0}function eu(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function tu(e,t){tA[e]=ZC["interpolate"+t],eA[e]=ZC["scheme"+t]}function nu(e,t){var n=t[0],r=g_(t)-n;return function(t){return e(n+t*r)}}function ru(e,t,n){var r=n-t;return r?"linear"===e.type||"sequential"===e.type?function(e){return(e-t)/r}:e.copy().domain([t,n]).range([0,1]).interpolate(iu):x_(0)}function iu(e,t){var n=t-e;return function(t){return e+t*n}}function au(e,t){var n=YM[ou(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function ou(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}function su(e){return rA.hasOwnProperty(e)&&rA[e]}function lu(e){return iA.hasOwnProperty(e)&&iA[e]}function uu(e,t){var n;return e_(t)&&(n=t.step,t=t.interval),t_(t)&&(t="time"===e.type?su(t):"utc"===e.type?lu(t):Qb("Only time and utc scales accept interval strings."),n&&(t=t.every(n))),t}function cu(e,t,n){var r=e.range(),i=r[0],a=g_(r);if(i>a&&(r=a,a=i,i=r),t=t.filter(function(t){return t=e(t),!(t<i||t>a)}),n>0&&t.length>1){for(var o=[t[0],g_(t)];t.length>n&&t.length>=3;)t=t.filter(function(e,t){return!(t%2)});t.length<3&&(t=o)}return t}function fu(e,t){return e.ticks?e.ticks(t):e.domain()}function du(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):String;return e.type===cE?pu(r,hu(n)):r}function pu(e,t){return function(n){return e(n)?t(n):""}}function hu(e){var t=wl(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return mu(lT(t),lT(".1f")(1)[1])}return lT(t)}function mu(e,t){return function(n){var r,i,a=e(n),o=a.indexOf(t);if(o<0)return a;for(r=gu(a,o),i=r<a.length?a.slice(r):"";--r>o;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}function gu(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(n=e.charCodeAt(r),n>=48&&n<=57)return r+1}function yu(e){cn.call(this,null,e)}function vu(e){cn.call(this,null,e)}function bu(){return S({})}function _u(e){return e.exit}function xu(e){cn.call(this,null,e)}function wu(e,t,n){if(n)return e.domain();var r=lA[e.type];return r?r(e):fu(e,t)}function Ou(e){var t=e.domain(),n=t[0],r=g_(t),i=e.range().length,a=new Array(i),o=0;for(a[0]=-(1/0);++o<i;)a[o]=(o*r-(o-i)*n)/i;return a.max=+(1/0),a}function Su(e){var t=[-(1/0)].concat(e.quantiles());return t.max=+(1/0),t}function ku(e){var t=[-(1/0)].concat(e.domain());return t.max=+(1/0),t}function Pu(e){var t=e.domain();return t.max=t.pop(),t}function Eu(e,t){return lA[e.type]?Mu(t):Cu(t)}function Mu(e){return function(t,n,r){var i=r[n+1]||r.max||+(1/0),a=Tu(t,e),o=Tu(i,e);return a&&o?a+"–"+o:o?"< "+o:"≥ "+a}}function Tu(e,t){return isFinite(e)?t(e):null}function Cu(e){return function(t){return e(t)}}function Au(e){cn.call(this,[],e)}function Du(e){return e.source.x}function ju(e){return e.source.y}function Ru(e){return e.target.x}function Nu(e){return e.target.y}function Iu(e){cn.call(this,{},e)}function zu(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function Fu(e,t,n,r){return zu(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function $u(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r}function Lu(e,t,n,r){return $u(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function Uu(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r}function Bu(e,t,n,r){return Uu(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function qu(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n}function Wu(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r}function Vu(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s}function Hu(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r}function Gu(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r}function Yu(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*a+"C"+l*i+","+l*a+" "+l*o+","+l*s+" "+r*o+","+r*s}function Xu(e){cn.call(this,null,e)}function Ku(e){cn.call(this,null,e),this.modified(!0)}function Qu(e,t,n){var r=Ju(e,t.domainRaw);if(r>-1)return r;var i,a,o=t.domain,s=e.type,l=t.zero||void 0===t.zero&&hA[s];return o?(mA[s]&&t.padding&&o[0]!==g_(o)&&(o=Zu(s,o,t.range,t.padding,t.exponent)),(l||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,l&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid&&(a=t.domainMid,(a<o[0]||a>o[i])&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(i,0,a))),e.domain(o),t.nice&&e.nice&&e.nice(t.nice!==!0&&uu(e,t.nice)||null),o.length):0}function Ju(e,t){return t?(e.domain(t),t.length):-1}function Zu(e,t,n,r,i){var a=Math.abs(g_(n)-n[0]),o=a/(a-2*r),s=e===cE?y(t,null,o):e===pE?v(t,null,o,.5):e===fE?v(t,null,o,i):g(t,null,o);return t=t.slice(),t[0]=s[0],t[t.length-1]=s[1],t}function ec(e,t,n){var r=t.round||!1,i=t.range;if(null!=t.rangeStep)i=tc(e.type,t,n);else if(t.scheme){if(i=nc(e.type,t,n),b_(i))return e.interpolator(i)}else if(i&&e.type===SE)return e.interpolator(_M(ic(i,t.reverse)));i&&t.interpolate&&e.interpolate?e.interpolate(au(t.interpolate,t.interpolateGamma)):b_(e.round)?e.round(r):b_(e.rangeRound)&&e.interpolate(r?CM:TM),i&&e.range(ic(i,t.reverse))}function tc(e,t,n){e!==hE&&e!==gE&&Qb("Only band and point scales support rangeStep.");var r=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,i=e===gE?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*EE(n,i,r)]}function nc(e,t,n){var r,i=t.scheme.toLowerCase(),a=nA(i),o=t.schemeExtent;return a||Qb("Unrecognized scheme name: "+t.scheme),n=e===xE?n+1:e===OE?n-1:e===bE||e===_E?+t.schemeCount||pA:n,e===SE?rc(a,o,t.reverse):!o&&(r=nA(i+"-"+n))?r:b_(a)?ac(rc(a,o),n):e===vE?a:a.slice(0,n)}function rc(e,t,n){return b_(e)&&(t||n)?nu(e,ic(t||[0,1],n)):e}function ic(e,t){return t?e.slice().reverse():e}function ac(e,t){for(var n=new Array(t),r=t-1||1,i=0;i<t;++i)n[i]=e(i/r);return n}function oc(e){cn.call(this,null,e)}function sc(e){cn.call(this,null,e)}function lc(e,t,n,r,i){for(var a,o=(t-e.sum)/2,s=e.length,l=0;l<s;++l)a=e[l],a[r]=o,a[i]=o+=Math.abs(n(a))}function uc(e,t,n,r,i){for(var a,o=1/e.sum,s=0,l=e.length,u=0,c=0;u<l;++u)a=e[u],a[r]=s,a[i]=s=o*(c+=Math.abs(n(a)))}function cc(e,t,n,r,i){for(var a,o,s=0,l=0,u=e.length,c=0;c<u;++c)o=e[c],a=n(o),a<0?(o[r]=l,o[i]=l+=a):(o[r]=s,o[i]=s+=a)}function fc(e,t,n,r){var i,a,o,s,l,u,c,f,d,p=[],h=function(e){return e(l)};if(null==t)p.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)l=e[a],u=t.map(h),c=i[u],c||(i[u]=c=[],p.push(c)),c.push(l);for(u=0,d=0,s=p.length;u<s;++u){for(c=p[u],a=0,f=0,o=c.length;a<o;++a)f+=Math.abs(r(c[a]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return p.max=d,p}function dc(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var l=e[a],u=l[0],c=l[1],f=e[s],d=f[0],p=f[1];if(pc(l,f,t))return 0;c>r!=p>r&&n<(d-u)*(r-c)/(p-c)+u&&(i=-i)}return i}function pc(e,t,n){var r;return hc(e,t,n)&&mc(e[r=+(e[0]===t[0])],n[r],t[r])}function hc(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function mc(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function gc(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<i;++o)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=e.data[s+o*r]),s>=n&&(s>=a&&(l-=e.data[s-a+o*r]),t.data[s-n+o*r]=l/Math.min(s+1,r-1+a-s,a))}function yc(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<r;++o)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=e.data[o+s*r]),s>=n&&(s>=a&&(l-=e.data[o+(s-a)*r]),t.data[o+(s-n)*r]=l/Math.min(s+1,i-1+a-s,a))}function vc(e){return e[0]}function bc(e){return e[1]}function _c(e){cn.call(this,null,e)}function xc(e){return function(t){for(var n=Ww(t),r=n[0],i=n[1]-r,a=[],o=1;o<=e;++o)a.push(r+i*o/(e+1));return a}}function wc(e){cn.call(this,null,e)}function Oc(){this.reset()}function Sc(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}function kc(e){return e>1?0:e<-1?qA:Math.acos(e)}function Pc(e){return e>1?WA:e<-1?-WA:Math.asin(e)}function Ec(){}function Mc(e,t){e&&lD.hasOwnProperty(e.type)&&lD[e.type](e,t)}function Tc(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Cc(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Tc(e[n],t,1);t.polygonEnd()}function Ac(e){return[QA(e[1],e[0]),Pc(e[2])]}function Dc(e){var t=e[0],n=e[1],r=JA(n);return[r*JA(t),r*rD(t),rD(n)]}function jc(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Rc(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Nc(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ic(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function zc(e){var t=aD(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Fc(e,t){return[e>qA?e-HA:e<-qA?e+HA:e,t]}function $c(e,t,n){return(e%=HA)?t||n?cD(Uc(e),Bc(t,n)):Uc(e):t||n?Bc(t,n):Fc}function Lc(e){return function(t,n){return t+=e,[t>qA?t-HA:t<-qA?t+HA:t,n]}}function Uc(e){var t=Lc(e);return t.invert=Lc(-e),t}function Bc(e,t){function n(e,t){var n=JA(t),s=JA(e)*n,l=rD(e)*n,u=rD(t),c=u*r+s*i;return[QA(l*a-c*o,s*r-u*i),Pc(c*a+l*o)]}var r=JA(e),i=rD(e),a=JA(t),o=rD(t);return n.invert=function(e,t){var n=JA(t),s=JA(e)*n,l=rD(e)*n,u=rD(t),c=u*a-l*o;return[QA(l*a+u*o,s*r+c*i),Pc(c*r-s*i)]},n}function qc(e,t,n,r,i,a){if(n){var o=JA(t),s=rD(t),l=r*n;null==i?(i=t+r*HA,a=t-l/2):(i=Wc(o,i),a=Wc(o,a),(r>0?i<a:i>a)&&(i+=r*HA));for(var u,c=i;r>0?c>a:c<a;c-=l)u=Ac([o,-s*JA(c),-s*rD(c)]),e.point(u[0],u[1])}}function Wc(e,t){t=Dc(t),t[0]-=e,zc(t);var n=kc(-t[1]);return((-t[2]<0?-n:n)+HA-BA)%HA}function Vc(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Hc(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function Gc(e){return e.length>1}function Yc(e,t){return((e=e.x)[0]<0?e[1]-WA-BA:WA-e[1])-((t=t.x)[0]<0?t[1]-WA-BA:WA-t[1])}function Xc(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?qA:-qA,l=XA(a-n);XA(l-qA)<BA?(e.point(n,r=(r+o)/2>0?WA:-WA),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=qA&&(XA(n-i)<BA&&(n-=i*BA),XA(a-s)<BA&&(a-=s*BA),r=Kc(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Kc(e,t,n,r){var i,a,o=rD(e-n);return XA(o)>BA?KA((rD(t)*(a=JA(r))*rD(n)-rD(r)*(i=JA(t))*rD(e))/(i*a*o)):(t+r)/2}function Qc(e,t,n,r){var i;if(null==e)i=n*WA,r.point(-qA,i),r.point(0,i),r.point(qA,i),r.point(qA,0),r.point(qA,-i),r.point(0,-i),r.point(-qA,-i),r.point(-qA,0),r.point(-qA,i);else if(XA(e[0]-t[0])>BA){var a=e[0]<t[0]?qA:-qA;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Jc(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,u){var c=0,f=0;if(null==i||(c=o(i,s))!==(f=o(a,s))||l(i,a)<0^s>0)do u.point(0===c||3===c?e:n,c>1?r:t);while((c=(c+s+4)%4)!==f);else u.point(a[0],a[1])}function o(r,i){return XA(r[0]-e)<BA?i>0?0:3:XA(r[0]-n)<BA?i>0?2:1:XA(r[1]-t)<BA?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){function l(e,t){i(e,t)&&P.point(e,t)}function u(){for(var t=0,n=0,i=g.length;n<i;++n)for(var a,o,s=g[n],l=1,u=s.length,c=s[0],f=c[0],d=c[1];l<u;++l)a=f,o=d,c=s[l],f=c[0],d=c[1],o<=r?d>r&&(f-a)*(r-o)>(d-o)*(e-a)&&++t:d<=r&&(f-a)*(r-o)<(d-o)*(e-a)&&--t;return t}function c(){P=E,m=[],g=[],k=!0}function f(){var e=u(),t=k&&e,n=(m=tO(m)).length;(t||n)&&(o.polygonStart(),t&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),n&&kD(m,s,e,a,o),o.polygonEnd()),P=o,m=g=y=null}function d(){M.point=h,g&&g.push(y=[]),S=!0,O=!1,x=w=NaN}function p(){m&&(h(v,b),_&&O&&E.rejoin(),m.push(E.result())),M.point=l,O&&P.lineEnd()}function h(a,o){var s=i(a,o);if(g&&y.push([a,o]),S)v=a,b=o,_=s,S=!1,s&&(P.lineStart(),P.point(a,o));else if(s&&O)P.point(a,o);else{var l=[x=Math.max(jD,Math.min(DD,x)),w=Math.max(jD,Math.min(DD,w))],u=[a=Math.max(jD,Math.min(DD,a)),o=Math.max(jD,Math.min(DD,o))];AD(l,u,e,t,n,r)?(O||(P.lineStart(),P.point(l[0],l[1])),P.point(u[0],u[1]),s||P.lineEnd(),k=!1):s&&(P.lineStart(),P.point(a,o),k=!1)}x=a,w=o,O=s}var m,g,y,v,b,_,x,w,O,S,k,P=o,E=OD(),M={point:l,lineStart:d,lineEnd:p,polygonStart:c,polygonEnd:f};return M}}function Zc(){ND.point=tf,ND.lineEnd=ef}function ef(){ND.point=ND.lineEnd=Ec}function tf(e,t){e*=YA,t*=YA,fD=e,dD=rD(t),pD=JA(t),ND.point=nf}function nf(e,t){e*=YA,t*=YA;var n=rD(t),r=JA(t),i=XA(e-fD),a=JA(i),o=rD(i),s=r*o,l=pD*n-dD*r*a,u=dD*n+pD*r*a;RD.add(QA(aD(s*s+l*l),u)),fD=e,dD=n,pD=r}function rf(e,t,n){var r=Vw(e,t-BA,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function af(e,t,n){var r=Vw(e,t-BA,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function of(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Vw(ZA(a/g)*g,i,g).map(d).concat(Vw(ZA(u/y)*y,l,y).map(p)).concat(Vw(ZA(r/h)*h,n,h).filter(function(e){return XA(e%g)>BA}).map(c)).concat(Vw(ZA(s/m)*m,o,m).filter(function(e){return XA(e%y)>BA}).map(f))}var n,r,i,a,o,s,l,u,c,f,d,p,h=10,m=h,g=90,y=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(p(l).slice(1),d(i).reverse().slice(1),p(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[a,u],[i,l]]},e.extentMinor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),e.precision(v)):[[r,s],[n,o]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(g=+t[0],y=+t[1],e):[g,y]},e.stepMinor=function(t){return arguments.length?(h=+t[0],m=+t[1],e):[h,m]},e.precision=function(t){return arguments.length?(v=+t,c=rf(s,o,90),f=af(r,n,v),d=rf(u,l,90),p=af(a,i,v),e):v},e.extentMajor([[-180,-90+BA],[180,90-BA]]).extentMinor([[-180,-80-BA],[180,80+BA]])}function sf(){BD.point=lf}function lf(e,t){BD.point=uf,hD=gD=e,mD=yD=t}function uf(e,t){UD.add(yD*e-gD*t),gD=e,yD=t}function cf(){uf(hD,mD)}function ff(e,t){e<qD&&(qD=e),e>VD&&(VD=e),t<WD&&(WD=t),t>HD&&(HD=t)}function df(e,t){YD+=e,XD+=t,++KD}function pf(){rj.point=hf}function hf(e,t){rj.point=mf,df(_D=e,xD=t)}function mf(e,t){var n=e-_D,r=t-xD,i=aD(n*n+r*r);QD+=i*(_D+e)/2,JD+=i*(xD+t)/2,ZD+=i,df(_D=e,xD=t)}function gf(){rj.point=df}function yf(){rj.point=bf}function vf(){_f(vD,bD)}function bf(e,t){rj.point=_f,df(vD=_D=e,bD=xD=t)}function _f(e,t){var n=e-_D,r=t-xD,i=aD(n*n+r*r);QD+=i*(_D+e)/2,JD+=i*(xD+t)/2,ZD+=i,i=xD*e-_D*t,ej+=i*(_D+e),tj+=i*(xD+t),nj+=3*i,df(_D=e,xD=t)}function xf(e){this._context=e}function wf(e,t){cj.point=Of,aj=sj=e,oj=lj=t}function Of(e,t){sj-=e,lj-=t,uj.add(aD(sj*sj+lj*lj)),sj=e,lj=t}function Sf(){this._string=[]}function kf(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Pf(e){return function(t){var n=new Ef;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ef(){}function Mf(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),uD(n,e.stream(GD)),t(GD.result()),null!=r&&e.clipExtent(r),e}function Tf(e,t,n){return Mf(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])},n)}function Cf(e,t,n){return Tf(e,[[0,0],t],n)}function Af(e,t,n){return Mf(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])},n)}function Df(e,t,n){return Mf(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])},n)}function jf(e){return Pf({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Rf(e,t){function n(r,i,a,o,s,l,u,c,f,d,p,h,m,g){var y=u-r,v=c-i,b=y*y+v*v;if(b>4*t&&m--){var _=o+d,x=s+p,w=l+h,O=aD(_*_+x*x+w*w),S=Pc(w/=O),k=XA(XA(w)-1)<BA||XA(a-f)<BA?(a+f)/2:QA(x,_),P=e(k,S),E=P[0],M=P[1],T=E-r,C=M-i,A=v*T-y*C;(A*A/b>t||XA((y*T+v*C)/b-.5)>.3||o*d+s*p+l*h<pj)&&(n(r,i,a,o,s,l,E,M,k,_/=O,x/=O,w,m,g),g.point(E,M),n(E,M,k,_,x,w,u,c,f,d,p,h,m,g))}}return function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){y=NaN,w.point=a,t.lineStart()}function a(r,i){var a=Dc([r,i]),o=e(r,i);n(y,v,g,b,_,x,y=o[0],v=o[1],g=r,b=a[0],_=a[1],x=a[2],dj,t),t.point(y,v)}function o(){w.point=r,t.lineEnd()}function s(){i(),w.point=l,w.lineEnd=u}function l(e,t){a(c=e,t),f=y,d=v,p=b,h=_,m=x,w.point=a}function u(){n(y,v,g,b,_,x,f,d,c,p,h,m,dj,t),w.lineEnd=o,o()}var c,f,d,p,h,m,g,y,v,b,_,x,w={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),w.lineStart=s},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}}function Nf(e){return Pf({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function If(e){return zf(function(){return e})()}function zf(e){function t(e){return e=c(e[0]*YA,e[1]*YA),[e[0]*g+s,l-e[1]*g]}function n(e){return e=c.invert((e[0]-s)/g,(l-e[1])/g),e&&[e[0]*GA,e[1]*GA]}function r(e,t){return e=o(e,t),[e[0]*g+s,l-e[1]*g]}function i(){c=cD(u=$c(x,w,O),o);var e=o(b,_);return s=y-e[0]*g,l=v+e[1]*g,a()}function a(){return h=m=null,t}var o,s,l,u,c,f,d,p,h,m,g=150,y=480,v=250,b=0,_=0,x=0,w=0,O=0,S=null,k=TD,P=null,E=$D,M=.5,T=hj(r,M);return t.stream=function(e){return h&&m===e?h:h=mj(Nf(u)(k(T(E(m=e)))))},t.preclip=function(e){return arguments.length?(k=e,S=void 0,a()):k},t.postclip=function(e){return arguments.length?(E=e,P=f=d=p=null,a()):E},t.clipAngle=function(e){return arguments.length?(k=+e?CD(S=e*YA):(S=null,TD),a()):S*GA},t.clipExtent=function(e){return arguments.length?(E=null==e?(P=f=d=p=null,$D):Jc(P=+e[0][0],f=+e[0][1],d=+e[1][0],p=+e[1][1]),a()):null==P?null:[[P,f],[d,p]]},t.scale=function(e){return arguments.length?(g=+e,i()):g},t.translate=function(e){return arguments.length?(y=+e[0],v=+e[1],i()):[y,v]},t.center=function(e){return arguments.length?(b=e[0]%360*YA,_=e[1]%360*YA,i()):[b*GA,_*GA]},t.rotate=function(e){return arguments.length?(x=e[0]%360*YA,w=e[1]%360*YA,O=e.length>2?e[2]%360*YA:0,i()):[x*GA,w*GA,O*GA]},t.precision=function(e){return arguments.length?(T=hj(r,M=e*e),a()):aD(M)},t.fitExtent=function(e,n){return Tf(t,e,n)},t.fitSize=function(e,n){return Cf(t,e,n)},t.fitWidth=function(e,n){return Af(t,e,n)},t.fitHeight=function(e,n){return Df(t,e,n)},function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,i()}}function Ff(e){var t=0,n=qA/3,r=zf(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*YA,n=e[1]*YA):[t*GA,n*GA]},i}function $f(e){function t(e,t){return[e*n,rD(t)/n]}var n=JA(e);return t.invert=function(e,t){return[e/n,Pc(t*n)]},t}function Lf(e,t){function n(e,t){var n=aD(a-2*i*rD(t))/i;return[n*rD(e*=i),o-n*JA(e)]}var r=rD(e),i=(r+rD(t))/2;if(XA(i)<BA)return $f(e);var a=1+r*(2*i-r),o=aD(a)/i;return n.invert=function(e,t){var n=o-t;return[QA(e,XA(n))/i*iD(n),Pc((a-(e*e+n*n)*i*i)/(2*i))]},n}function Uf(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Bf(e){return function(t,n){var r=JA(t),i=JA(n),a=e(r*i);return[a*i*rD(t),a*rD(n)]}}function qf(e){return function(t,n){var r=aD(t*t+n*n),i=e(r),a=rD(i),o=JA(i);return[QA(t*a,r*o),Pc(r&&n*a/r)]}}function Wf(e,t){return[e,tD(oD((WA+t)/2))]}function Vf(e){function t(){var t=qA*s(),o=a(wD(a.rotate()).invert([0,0]));return u(null==c?[[o[0]-t,o[1]-t],[o[0]+t,o[1]+t]]:e===Wf?[[Math.max(o[0]-t,c),n],[Math.min(o[0]+t,r),i]]:[[c,Math.max(o[1]-t,n)],[r,Math.min(o[1]+t,i)]])}var n,r,i,a=If(e),o=a.center,s=a.scale,l=a.translate,u=a.clipExtent,c=null;return a.scale=function(e){return arguments.length?(s(e),t()):s()},a.translate=function(e){return arguments.length?(l(e),t()):l()},a.center=function(e){return arguments.length?(o(e),t()):o()},a.clipExtent=function(e){return arguments.length?(null==e?c=n=r=i=null:(c=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),t()):null==c?null:[[c,n],[r,i]]},t()}function Hf(e){return oD((WA+e)/2)}function Gf(e,t){function n(e,t){a>0?t<-WA+BA&&(t=-WA+BA):t>WA-BA&&(t=WA-BA);var n=a/nD(Hf(t),i);return[n*rD(i*e),a-n*JA(i*e)]}var r=JA(e),i=e===t?rD(e):tD(r/JA(t))/tD(Hf(t)/Hf(e)),a=r*nD(Hf(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=iD(i)*aD(e*e+n*n);return[QA(e,XA(n))/i*iD(n),2*KA(nD(a/r,1/i))-WA]},n):Wf}function Yf(e,t){return[e,t]}function Xf(e,t){function n(e,t){var n=a-t,r=i*e;return[n*rD(r),a-n*JA(r)]}var r=JA(e),i=e===t?rD(e):(r-JA(t))/(t-e),a=r/i+e;return XA(i)<BA?Yf:(n.invert=function(e,t){var n=a-t;return[QA(e,XA(n))/i*iD(n),a-iD(i)*aD(e*e+n*n)]},n)}function Kf(e,t){var n=JA(t),r=JA(e)*n;return[n*rD(e)/r,rD(t)/r]}function Qf(e,t){return[JA(t)*rD(e),rD(t)]}function Jf(e,t){var n=JA(t),r=1+JA(e)*n;return[n*rD(e)/r,rD(t)/r]}function Zf(e,t){return[tD(oD((WA+t)/2)),-e]}function ed(e,t){return function n(){var r=t();return r.type=e,r.path=fj().projection(r),r.copy=r.copy||function(){var e=n();return Dj.forEach(function(t){r.hasOwnProperty(t)&&e[t](r[t]())}),e.path.pointRadius(r.path.pointRadius()),e},r}}function td(e,t){return arguments.length>1?(jj[e]=ed(e,t),this):jj.hasOwnProperty(e)?jj[e]:null;
}function nd(e){return e&&e.path||Aj}function rd(e){cn.call(this,null,e)}function id(e){cn.call(this,null,e)}function ad(e){cn.call(this,null,e)}function od(e,t){var n=function(n){return e(t(n))};return n.context=function(t){return e.context(t),n},n}function sd(e){cn.call(this,[],e),this.generator=of()}function ld(e){cn.call(this,null,e),this.modified(!0)}function ud(e,t){var n=dd(t.fit);t.extent?e.fitExtent(t.extent,n):t.size?e.fitSize(t.size,n):0}function cd(e){var t=td((e||"mercator").toLowerCase());return t||Qb("Unrecognized projection type: "+e),t()}function fd(e,t,n){b_(e[t])&&e[t](n)}function dd(e){return e=v_(e),1===e.length?e[0]:{type:zA,features:e.reduce(function(e,t){return t&&t.type===zA?e.push.apply(e,t.features):Zb(t)?e.push.apply(e,t):e.push(t),e},[])}}function pd(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,l,u,c,f,d,p=e._root,h={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!p)return e._root=h,e;for(;p.length;)if((u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o,i=p,!(p=p[f=c<<1|u]))return i[f]=h,e;if(s=+e._x.call(null,p.data),l=+e._y.call(null,p.data),t===s&&n===l)return h.next=p,i?i[f]=h:e._root=h,e;do i=i?i[f]=new Array(4):e._root=new Array(4),(u=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o;while((f=c<<1|u)===(d=(l>=o)<<1|s>=a));return i[d]=p,i[f]=h,e}function hd(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-(1/0),f=-(1/0);for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>f&&(f=i));for(c<l&&(l=this._x0,c=this._x1),f<u&&(u=this._y0,f=this._y1),this.cover(l,u).cover(c,f),n=0;n<a;++n)pd(this,o[n],s[n],e[n]);return this}function md(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function gd(e){return e[0]}function yd(e){return e[1]}function vd(e,t,n){var r=new bd(null==t?gd:t,null==n?yd:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function bd(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function _d(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}function xd(e){return e.x+e.vx}function wd(e){return e.y+e.vy}function Od(e){return e.index}function Sd(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function kd(){return pR||(gR(Pd),pR=mR.now()+hR)}function Pd(){pR=0}function Ed(){this._call=this._time=this._next=null}function Md(e,t,n){var r=new Ed;return r.restart(e,t,n),r}function Td(){kd(),++lR;for(var e,t=iR;t;)(e=pR-t._time)>=0&&t._call.call(null,e),t=t._next;--lR}function Cd(){pR=(dR=mR.now())+hR,lR=uR=0;try{Td()}finally{lR=0,Dd(),pR=0}}function Ad(){var e=mR.now(),t=e-dR;t>fR&&(hR-=t,dR=e)}function Dd(){for(var e,t,n=iR,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:iR=t);aR=e,jd(r)}function jd(e){if(!lR){uR&&(uR=clearTimeout(uR));var t=e-pR;t>24?(e<1/0&&(uR=setTimeout(Cd,e-mR.now()-hR)),cR&&(cR=clearInterval(cR))):(cR||(dR=mR.now(),cR=setInterval(Ad,fR)),lR=1,gR(Cd))}}function Rd(e){return e.x}function Nd(e){return e.y}function Id(e){cn.call(this,null,e)}function zd(e,t){return function(){e.touch(t).run()}}function Fd(e,t){var n=bR(e),r=!1,i=n.stop,a=n.restart;return n.stopped=function(){return r},n.restart=function(){return r=!1,a()},n.stop=function(){return r=!0,i()},$d(n,t,!0).on("end",function(){r=!0})}function $d(e,t,n,r){var i,a,o,s,l=v_(t.forces);for(i=0,a=kR.length;i<a;++i)o=kR[i],o!==SR&&t.modified(o)&&e[o](t[o]);for(i=0,a=l.length;i<a;++i)s=SR+i,o=n||t.modified(SR,i)?Ud(l[i]):r&&Ld(l[i],r)?e.force(s):null,o&&e.force(s,o);for(a=e.numForces||0;i<a;++i)e.force(SR+i,null);return e.numForces=l.length,e}function Ld(e,t){var n,i;for(n in e)if(b_(i=e[n])&&t.modified(r(i)))return 1;return 0}function Ud(e){var t,n;OR.hasOwnProperty(e.force)||Qb("Unrecognized force: "+e.force),t=OR[e.force]();for(n in e)b_(t[n])&&Bd(t[n],e[n],e);return t}function Bd(e,t,n){e(b_(t)?function(e){return t(e,n)}:t)}function qd(e,t){return e.parent===t.parent?1:2}function Wd(e){return e.reduce(Vd,0)/e.length}function Vd(e,t){return e+t.x}function Hd(e){return 1+e.reduce(Gd,0)}function Gd(e,t){return Math.max(e,t.y)}function Yd(e){for(var t;t=e.children;)e=t[0];return e}function Xd(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Kd(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Qd(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Jd(e,t){var n,r,i,a,o,s=new rp(e),l=+e.value&&(s.value=e.value),u=[s];for(null==t&&(t=ep);n=u.pop();)if(l&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)u.push(r=n.children[a]=new rp(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(np)}function Zd(){return Jd(this).eachBefore(tp)}function ep(e){return e.children}function tp(e){e.data=e.data.data}function np(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function rp(e){this.data=e,this.depth=this.height=0,this.parent=null}function ip(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function ap(e,t){var n,r;if(lp(t,e))return[t];for(n=0;n<e.length;++n)if(op(t,e[n])&&lp(fp(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(op(fp(e[n],e[r]),t)&&op(fp(e[n],t),e[r])&&op(fp(e[r],t),e[n])&&lp(dp(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function op(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function sp(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function lp(e,t){for(var n=0;n<t.length;++n)if(!sp(e,t[n]))return!1;return!0}function up(e){switch(e.length){case 1:return cp(e[0]);case 2:return fp(e[0],e[1]);case 3:return dp(e[0],e[1],e[2])}}function cp(e){return{x:e.x,y:e.y,r:e.r}}function fp(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,l=a-n,u=o-r,c=s-i,f=Math.sqrt(l*l+u*u);return{x:(n+a+l/f*c)/2,y:(r+o+u/f*c)/2,r:(f+i+s)/2}}function dp(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,l=t.r,u=n.x,c=n.y,f=n.r,d=r-o,p=r-u,h=i-s,m=i-c,g=l-a,y=f-a,v=r*r+i*i-a*a,b=v-o*o-s*s+l*l,_=v-u*u-c*c+f*f,x=p*h-d*m,w=(h*_-m*b)/(2*x)-r,O=(m*g-h*y)/x,S=(p*b-d*_)/(2*x)-i,k=(d*y-p*g)/x,P=O*O+k*k-1,E=2*(a+w*O+S*k),M=w*w+S*S-a*a,T=-(P?(E+Math.sqrt(E*E-4*P*M))/(2*P):M/E);return{x:r+w+O*T,y:i+S+k*T,r:T}}function pp(e,t,n){var r=e.x,i=e.y,a=t.r+n.r,o=e.r+n.r,s=t.x-r,l=t.y-i,u=s*s+l*l;if(u){var c=.5+((o*=o)-(a*=a))/(2*u),f=Math.sqrt(Math.max(0,2*a*(o+u)-(o-=u)*o-a*a))/(2*u);n.x=r+c*s+f*l,n.y=i+c*l-f*s}else n.x=r+o,n.y=i}function hp(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function mp(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function gp(e){this._=e,this.next=null,this.previous=null}function yp(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,s,l,u,c,f;if(t=e[0],t.x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;pp(n,t,r=e[2]),t=new gp(t),n=new gp(n),r=new gp(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){pp(t._,n._,r=e[s]),r=new gp(r),l=n.next,u=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(hp(l._,r._)){n=l,t.next=n,n.previous=t,--s;continue e}c+=l._.r,l=l.next}else{if(hp(u._,r._)){t=u,t.next=n,n.previous=t,--s;continue e}f+=u._.r,u=u.previous}while(l!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=mp(t);(r=r.next)!==n;)(o=mp(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=qR(t),s=0;s<i;++s)t=e[s],t.x-=r.x,t.y-=r.y;return r.r}function vp(e){return null==e?null:bp(e)}function bp(e){if("function"!=typeof e)throw new Error;return e}function _p(){return 0}function xp(e){return Math.sqrt(e.value)}function wp(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Op(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=yp(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function Sp(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function kp(e){return e.id}function Pp(e){return e.parentId}function Ep(e,t){return e.parent===t.parent?1:2}function Mp(e){var t=e.children;return t?t[0]:e.t}function Tp(e){var t=e.children;return t?t[t.length-1]:e.t}function Cp(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ap(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function Dp(e,t,n){return e.a.parent===t.parent?e.a:n}function jp(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Rp(e){for(var t,n,r,i,a,o=new jp(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new jp(r[i],i)),n.parent=t;return(o.parent=new jp(null,0)).children=[o],o}function Np(e,t,n,r,i,a){for(var o,s,l,u,c,f,d,p,h,m,g,y=[],v=t.children,b=0,_=0,x=v.length,w=t.value;b<x;){l=i-n,u=a-r;do c=v[_++].value;while(!c&&_<x);for(f=d=c,m=Math.max(u/l,l/u)/(w*e),g=c*c*m,h=Math.max(d/g,g/f);_<x;++_){if(c+=s=v[_].value,s<f&&(f=s),s>d&&(d=s),g=c*c*m,p=Math.max(d/g,g/f),p>h){c-=s;break}h=p}y.push(o={value:c,dice:l<u,children:v.slice(b,_)}),o.dice?GR(o,n,r,i,w?r+=u*c/w:a):eN(o,n,r,w?n+=l*c/w:i,a),w-=c,b=_}return y}function Ip(e){cn.call(this,null,e)}function zp(e){return e.values}function Fp(e){cn.call(this,null,e)}function $p(e,t,n){for(var r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function Lp(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}function Up(e){Fp.call(this,e)}function Bp(e){Fp.call(this,e)}function qp(e){cn.call(this,null,e)}function Wp(e){Fp.call(this,e)}function Vp(e){cn.call(this,{},e)}function Hp(e){var t;return e.parent&&(t=e.parent.data)&&null!=w(t)&&t}function Gp(e){Fp.call(this,e)}function Yp(e){return e[0]}function Xp(e){return e[1]}function Kp(){this._=null}function Qp(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Jp(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Zp(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function eh(e){for(;e.L;)e=e.L;return e}function th(e,t,n,r){var i=[null,null],a=EN.push(i)-1;return i.left=e,i.right=t,n&&rh(i,e,t,n),r&&rh(i,t,e,r),kN[e.index].halfedges.push(a),kN[t.index].halfedges.push(a),i}function nh(e,t,n){var r=[t,n];return r.left=e,r}function rh(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function ih(e,t,n,r,i){var a,o=e[0],s=e[1],l=o[0],u=o[1],c=s[0],f=s[1],d=0,p=1,h=c-l,m=f-u;if(a=t-l,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<p&&(p=a)}else if(h>0){if(a>p)return;a>d&&(d=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(a>p)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<p&&(p=a)}if(a=n-u,m||!(a>0)){if(a/=m,m<0){if(a<d)return;a<p&&(p=a)}else if(m>0){if(a>p)return;a>d&&(d=a)}if(a=i-u,m||!(a<0)){if(a/=m,m<0){if(a>p)return;a>d&&(d=a)}else if(m>0){if(a<d)return;a<p&&(p=a)}return!(d>0||p<1)||(d>0&&(e[0]=[l+d*h,u+d*m]),p<1&&(e[1]=[l+p*h,u+p*m]),!0)}}}}}function ah(e,t,n,r,i){var a=e[1];if(a)return!0;var o,s,l=e[0],u=e.left,c=e.right,f=u[0],d=u[1],p=c[0],h=c[1],m=(f+p)/2,g=(d+h)/2;if(h===d){if(m<t||m>=r)return;if(f>p){if(l){if(l[1]>=i)return}else l=[m,n];a=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];a=[m,n]}}else if(o=(f-p)/(h-d),s=g-o*m,o<-1||o>1)if(f>p){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(d<h){if(l){if(l[0]>=r)return}else l=[t,o*t+s];a=[r,o*r+s]}else{if(l){if(l[0]<t)return}else l=[r,o*r+s];a=[t,o*t+s]}return e[0]=l,e[1]=a,!0}function oh(e,t,n,r){for(var i,a=EN.length;a--;)ah(i=EN[a],e,t,n,r)&&ih(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>CN||Math.abs(i[0][1]-i[1][1])>CN)||delete EN[a]}function sh(e){return kN[e.index]={site:e,halfedges:[]}}function lh(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function uh(e,t){return t[+(t.left!==e.site)]}function ch(e,t){return t[+(t.left===e.site)]}function fh(){for(var e,t,n,r,i=0,a=kN.length;i<a;++i)if((e=kN[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=lh(e,EN[t[n]]);for(o.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[o[n]];for(n=0;n<r;++n)t[n]=s[n]}}function dh(e,t,n,r){var i,a,o,s,l,u,c,f,d,p,h,m,g=kN.length,y=!0;for(i=0;i<g;++i)if(a=kN[i]){for(o=a.site,l=a.halfedges,s=l.length;s--;)EN[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)p=ch(a,EN[l[s]]),h=p[0],m=p[1],c=uh(a,EN[l[++s%u]]),f=c[0],d=c[1],(Math.abs(h-f)>CN||Math.abs(m-d)>CN)&&(l.splice(s,0,EN.push(nh(o,p,Math.abs(h-e)<CN&&r-m>CN?[e,Math.abs(f-e)<CN?d:r]:Math.abs(m-r)<CN&&n-h>CN?[Math.abs(d-r)<CN?f:n,r]:Math.abs(h-n)<CN&&m-t>CN?[n,Math.abs(f-n)<CN?d:t]:Math.abs(m-t)<CN&&h-e>CN?[Math.abs(d-t)<CN?f:e,t]:null))-1),++u);u&&(y=!1)}if(y){var v,b,_,x=1/0;for(i=0,y=null;i<g;++i)(a=kN[i])&&(o=a.site,v=o[0]-e,b=o[1]-t,_=v*v+b*b,_<x&&(x=_,y=a));if(y){var w=[e,t],O=[e,r],S=[n,r],k=[n,t];y.halfedges.push(EN.push(nh(o=y.site,w,O))-1,EN.push(nh(o,O,S))-1,EN.push(nh(o,S,k))-1,EN.push(nh(o,k,w))-1)}}for(i=0;i<g;++i)(a=kN[i])&&(a.halfedges.length||delete kN[i])}function ph(){Qp(this),this.x=this.y=this.arc=this.site=this.cy=null}function hh(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,u=r[1]-s,c=a[0]-o,f=a[1]-s,d=2*(l*f-u*c);if(!(d>=-AN)){var p=l*l+u*u,h=c*c+f*f,m=(f*p-u*h)/d,g=(l*h-c*p)/d,y=MN.pop()||new ph;y.arc=e,y.site=i,y.x=m+o,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=y;for(var v=null,b=PN._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}PN.insert(v,y),v||(ON=y)}}}}function mh(e){var t=e.circle;t&&(t.P||(ON=t.N),PN.remove(t),MN.push(t),Qp(t),e.circle=null)}function gh(){Qp(this),this.edge=this.site=this.circle=null}function yh(e){var t=TN.pop()||new gh;return t.site=e,t}function vh(e){mh(e),SN.remove(e),TN.push(e),Qp(e)}function bh(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],a=e.P,o=e.N,s=[e];vh(e);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<CN&&Math.abs(r-l.circle.cy)<CN;)a=l.P,s.unshift(l),vh(l),l=a;s.unshift(l),mh(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<CN&&Math.abs(r-u.circle.cy)<CN;)o=u.N,s.push(u),vh(u),u=o;s.push(u),mh(u);var c,f=s.length;for(c=1;c<f;++c)u=s[c],l=s[c-1],rh(u.edge,l.site,u.site,i);l=s[0],u=s[f-1],u.edge=th(l.site,u.site,null,i),hh(l),hh(u)}function _h(e){for(var t,n,r,i,a=e[0],o=e[1],s=SN._;s;)if(r=xh(s,o)-a,r>CN)s=s.L;else{if(i=a-wh(s,o),!(i>CN)){r>-CN?(t=s.P,n=s):i>-CN?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}sh(e);var l=yh(e);if(SN.insert(t,l),t||n){if(t===n)return mh(t),n=yh(t.site),SN.insert(l,n),l.edge=n.edge=th(t.site,l.site),hh(t),void hh(n);if(!n)return void(l.edge=th(t.site,l.site));mh(t),mh(n);var u=t.site,c=u[0],f=u[1],d=e[0]-c,p=e[1]-f,h=n.site,m=h[0]-c,g=h[1]-f,y=2*(d*g-p*m),v=d*d+p*p,b=m*m+g*g,_=[(g*v-p*b)/y+c,(d*b-m*v)/y+f];rh(n.edge,u,h,_),l.edge=th(u,e,null,_),n.edge=th(e,h,null,_),hh(t),hh(n)}}function xh(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,f=1/a-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+i-a/2)))/f+r:(r+s)/2}function wh(e,t){var n=e.N;if(n)return xh(n,t);var r=e.site;return r[1]===t?r[0]:1/0}function Oh(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Sh(e,t){return t[1]-e[1]||t[0]-e[0]}function kh(e,t){var n,r,i,a=e.sort(Sh).pop();for(EN=[],kN=new Array(e.length),SN=new Kp,PN=new Kp;;)if(i=ON,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(_h(a),n=a[0],r=a[1]),a=e.pop();else{if(!i)break;bh(i.arc)}if(fh(),t){var o=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];oh(o,s,l,u),dh(o,s,l,u)}this.edges=EN,this.cells=kN,SN=PN=EN=kN=null}function Ph(e){cn.call(this,null,e)}function Eh(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(zN<<5)/a,FN/a);var o,s,l,u,c,f=0,d=0,p=0,h=n.length;for(--r;++r<h;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,l=t.size<<1,t.rotate){var m=Math.sin(t.rotate*IN),g=Math.cos(t.rotate*IN),y=o*g,v=o*m,b=l*g,_=l*m;o=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,l=~~Math.max(Math.abs(v+b),Math.abs(v-b))}else o=o+31>>5<<5;if(l>p&&(p=l),f+o>=zN<<5&&(f=0,d+=p,p=0),d+l>=FN)break;i.translate((f+(o>>1))/a,(d+(l>>1))/a),t.rotate&&i.rotate(t.rotate*IN),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=l,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=l>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var x=i.getImageData(0,0,(zN<<5)/a,FN/a).data,w=[];--r>=0;)if(t=n[r],t.hasText){for(o=t.width,s=o>>5,l=t.y1-t.y0,u=0;u<l*s;u++)w[u]=0;if(f=t.xoff,null==f)return;d=t.yoff;var O=0,S=-1;for(c=0;c<l;c++){for(u=0;u<o;u++){var k=s*c+(u>>5),P=x[(d+c)*(zN<<5)+(f+u)<<2]?1<<31-u%32:0;w[k]|=P,O|=P}O?S=c:(t.y0++,l--,c--,d++)}t.y1=t.y0+S,t.sprite=w.slice(0,(t.y1-t.y0)*s)}}}function Mh(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,l=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),f=0;f<u;f++){r=0;for(var d=0;d<=a;d++)if((r<<l|(d<a?(r=i[f*a+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function Th(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function Ch(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function Ah(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function Dh(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t}return[r,i]}}function jh(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function Rh(e){return"function"==typeof e?e:function(){return e}}function Nh(e){cn.call(this,$N(),e)}function Ih(e,t){for(var n,r=+(1/0),i=-(1/0),a=0,o=t.length;a<o;++a)n=e(t[a]),n<r&&(r=n),n>i&&(i=n);return[r,i]}function zh(e){return new Uint8Array(e)}function Fh(e){return new Uint16Array(e)}function $h(e){return new Uint32Array(e)}function Lh(){var e=8,t=[],n=$h(0),r=Bh(0,e),i=Bh(0,e);return{data:function(){return t},seen:function(){return n=Uh(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)n=e[r],n._index=i++,t.push(n)},remove:function(e,n){var a,o,s,l=t.length,u=Array(l-e),c=t;for(o=0;!n[o]&&o<l;++o)u[o]=t[o],c[o]=o;for(s=o;o<l;++o)a=t[o],n[o]?c[o]=-1:(c[o]=s,r[s]=r[o],i[s]=i[o],u[s]=a,a._index=s++),r[o]=0;return t=u,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){var a=r.length;(t>a||n>e)&&(e=Math.max(n,e),r=Bh(t,e,r),i=Bh(t,e))}}}function Uh(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function Bh(e,t,n){var r=(t<257?zh:t<65537?Fh:$h)(e);return n&&r.set(n),r}function qh(){function e(e,t,n){if(!t.length)return[];var r,s,l,u=o,c=t.length,f=Array(c),d=$h(c);for(l=0;l<c;++l)f[l]=e(t[l]),d[l]=l;if(f=Wh(f,d),u)r=a,s=i,a=Array(u+c),i=$h(u+c),Vh(n,r,s,u,f,d,c,a,i);else{if(n>0)for(l=0;l<c;++l)d[l]+=n;a=f,i=d}return o=u+c,{index:d,value:f}}function t(e,t){var n,r,s,l=o;for(r=0;!t[i[r]]&&r<l;++r);for(s=r;r<l;++r)t[n=i[r]]||(i[s]=n,a[s]=a[r],++s);o=l-e}function n(e){for(var t=0,n=o;t<n;++t)i[t]=e[i[t]]}function r(e,t){var n;return t?n=t.length:(t=a,n=o),[Uw(t,e[0],0,n),Lw(t,e[1],0,n)]}var i=$h(0),a=[],o=0;return{insert:e,remove:t,bisect:r,reindex:n,index:function(){return i},size:function(){return o}}}function Wh(e,t){return e.sort.call(t,function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0}),rO(e,t)}function Vh(e,t,n,r,i,a,o,s,l){var u,c=0,f=0;for(u=0;c<r&&f<o;++u)t[c]<i[f]?(s[u]=t[c],l[u]=n[c++]):(s[u]=i[f],l[u]=a[f++]+e);for(;c<r;++c,++u)s[u]=t[c],l[u]=n[c];for(;f<o;++f,++u)s[u]=i[f],l[u]=a[f]+e}function Hh(e){cn.call(this,Lh(),e),this._indices=null,this._dims=null}function Gh(e){cn.call(this,null,e)}function Yh(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}function Xh(e,t){var n=e._runtime.data;return n.hasOwnProperty(t)||Qb("Unrecognized data set: "+t),n[t]}function Kh(e){return Xh(this,e).values.value}function Qh(e,t){M(t)||Qb("Second argument to changes must be a changeset.");var n=Xh(this,e);return n.modified=!0,this.pulse(n.input,t)}function Jh(e,t){return Qh.call(this,e,T().insert(t))}function Zh(e,t){return Qh.call(this,e,T().remove(t))}function em(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function tm(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function nm(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function rm(e){var t=nm(e);e._renderer.background(e._background),e._renderer.resize(em(e),tm(e),t),e._handler.origin(t)}function im(e,t,n){function r(e){var n,r=a;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function i(e){if(!e)return n;t_(e)&&(e=r(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}var a=t?"group"===t.mark.marktype?t:t.mark.group:null;return{view:x_(e),item:x_(t||{}),group:r,xy:i,x:function(e){return i(e)[0]},y:function(e){return i(e)[1]}}}function am(e){e=O_({},e);var t=e.defaults;return t&&(Zb(t.prevent)&&(t.prevent=$_(t.prevent)),Zb(t.allow)&&(t.allow=$_(t.allow))),e}function om(e,t){var n=e._eventConfig.defaults,r=n&&n.prevent,i=n&&n.allow;return r!==!1&&i!==!0&&(r===!0||i===!1||(r?r[t]:i?!i[t]:e.preventDefault()))}function sm(e,t,n){var r,i=this,a=new j(n),o=function(n,r){e===ZN&&om(i,t)&&n.preventDefault();try{a.receive(JN(i,n,r))}catch(o){i.error(o)}finally{i.run()}};if(e===ZN)return i.addEventListener(t,o),a;if(e===eI?"undefined"!=typeof window&&(r=[window]):"undefined"!=typeof document&&(r=document.querySelectorAll(e)),!r)return i.warn("Can not resolve event source: "+e),a;for(var s=0,l=r.length;s<l;++s)r[s].addEventListener(t,o);return i._eventListeners.push({type:t,sources:r,handler:o}),a}function lm(e){return e.item}function um(e){var t=e.item.mark.source;return t.source||t}function cm(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function fm(e,t,n,r){var i=rI("div",{class:iI});i.appendChild(rI("span",{class:aI},n.name||n.signal)),t.appendChild(i);var a=dm;switch(n.input){case"checkbox":a=pm;break;case"select":a=hm;break;case"radio":a=mm;break;case"range":a=gm}a(e,i,n,r)}function dm(e,t,n,r){var i=rI("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",function(){e.update(i.value)}),e.elements=[i],e.set=function(e){i.value=e}}function pm(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=rI("input",i);t.appendChild(a),a.addEventListener("change",function(){e.update(a.checked)}),e.elements=[a],e.set=function(e){a.checked=!!e||null}}function hm(e,t,n,r){var i=rI("select",{name:n.signal});n.options.forEach(function(e){var t={value:e};ym(e,r)&&(t.selected=!0),i.appendChild(rI("option",t,e+""))}),t.appendChild(i),i.addEventListener("change",function(){e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(ym(n.options[t],e))return void(i.selectedIndex=t)}}function mm(e,t,n,r){var i=rI("span",{class:oI});t.appendChild(i),e.elements=n.options.map(function(t){var a=sI+n.signal+"-"+t,o={id:a,type:"radio",name:n.signal,value:t};ym(t,r)&&(o.checked=!0);var s=rI("input",o);return s.addEventListener("change",function(){e.update(t)}),i.appendChild(s),i.appendChild(rI("label",{for:a},t+"")),s}),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)ym(n[r].value,t)&&(n[r].checked=!0)}}function gm(e,t,n,r){function i(){u.textContent=l.value,e.update(+l.value)}r=void 0!==r?r:(+n.max+ +n.min)/2;var a=n.min||Math.min(0,+r)||0,o=n.max||Math.max(100,+r)||100,s=n.step||kn(a,o,100),l=rI("input",{type:"range",name:n.signal,min:a,max:o,step:s});l.value=r;var u=rI("label",{},+r);t.appendChild(l),t.appendChild(u),l.addEventListener("input",i),l.addEventListener("change",i),e.elements=[l],e.set=function(e){l.value=e,u.textContent=e}}function ym(e,t){return e===t||e+""==t+""}function vm(e,t){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}if(t)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}function bm(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function _m(e){return+e||0}function xm(e){return{top:e,bottom:e,left:e,right:e}}function wm(e,t){Qb(e+' for "outer" push: '+i(t))}function Om(e){this.type=e}function Sm(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}function km(e,t){if(!e)throw new Error("ASSERT: "+t)}function Pm(e){return e>=48&&e<=57}function Em(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Mm(e){return"01234567".indexOf(e)>=0}function Tm(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function Cm(e){return 10===e||13===e||8232===e||8233===e}function Am(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&nz.test(String.fromCharCode(e))}function Dm(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&rz.test(String.fromCharCode(e))}function jm(){for(var e;wI<OI&&(e=xI.charCodeAt(wI),Tm(e)||Cm(e));)++wI}function Rm(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)wI<OI&&Em(xI[wI])?(r=xI[wI++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):lg({},WI,ez);return String.fromCharCode(i)}function Nm(){var e,t,n,r;for(e=xI[wI],t=0,"}"===e&&lg({},WI,ez);wI<OI&&(e=xI[wI++],Em(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&lg({},WI,ez),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function Im(){var e,t;for(e=xI.charCodeAt(wI++),t=String.fromCharCode(e),92===e&&(117!==xI.charCodeAt(wI)&&lg({},WI,ez),++wI,e=Rm("u"),e&&"\\"!==e&&Am(e.charCodeAt(0))||lg({},WI,ez),t=e);wI<OI&&(e=xI.charCodeAt(wI),Dm(e));)++wI,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==xI.charCodeAt(wI)&&lg({},WI,ez),++wI,e=Rm("u"),e&&"\\"!==e&&Dm(e.charCodeAt(0))||lg({},WI,ez),t+=e);return t}function zm(){var e,t;for(e=wI++;wI<OI;){if(t=xI.charCodeAt(wI),92===t)return wI=e,Im();if(!Dm(t))break;++wI}return xI.slice(e,wI)}function Fm(){var e,t,n;return e=wI,t=92===xI.charCodeAt(wI)?Im():zm(),n=1===t.length?EI:iz.hasOwnProperty(t)?MI:"null"===t?TI:"true"===t||"false"===t?kI:EI,{type:n,value:t,start:e,end:wI}}function $m(){var e,t,n,r,i=wI,a=xI.charCodeAt(wI),o=xI[wI];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++wI,{type:AI,value:String.fromCharCode(a),start:i,end:wI};default:if(e=xI.charCodeAt(wI+1),61===e)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return wI+=2,{type:AI,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:wI};case 33:case 61:return wI+=2,61===xI.charCodeAt(wI)&&++wI,{type:AI,value:xI.slice(i,wI),start:i,end:wI}}}return r=xI.substr(wI,4),">>>="===r?(wI+=4,{type:AI,value:r,start:i,end:wI}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(wI+=3,{type:AI,value:n,start:i,end:wI}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(wI+=2,{type:AI,value:t,start:i,end:wI}):"<>=!+-*%&|^/".indexOf(o)>=0?(++wI,{type:AI,value:o,start:i,end:wI}):void lg({},WI,ez)))}function Lm(e){for(var t="";wI<OI&&Em(xI[wI]);)t+=xI[wI++];return 0===t.length&&lg({},WI,ez),Am(xI.charCodeAt(wI))&&lg({},WI,ez),{type:CI,value:parseInt("0x"+t,16),start:e,end:wI}}function Um(e){for(var t="0"+xI[wI++];wI<OI&&Mm(xI[wI]);)t+=xI[wI++];return(Am(xI.charCodeAt(wI))||Pm(xI.charCodeAt(wI)))&&lg({},WI,ez),{type:CI,value:parseInt(t,8),octal:!0,start:e,end:wI}}function Bm(){var e,t,n;if(n=xI[wI],km(Pm(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=wI,e="","."!==n){if(e=xI[wI++],n=xI[wI],"0"===e){if("x"===n||"X"===n)return++wI,Lm(t);if(Mm(n))return Um(t);n&&Pm(n.charCodeAt(0))&&lg({},WI,ez)}for(;Pm(xI.charCodeAt(wI));)e+=xI[wI++];n=xI[wI]}if("."===n){for(e+=xI[wI++];Pm(xI.charCodeAt(wI));)e+=xI[wI++];n=xI[wI]}if("e"===n||"E"===n)if(e+=xI[wI++],n=xI[wI],"+"!==n&&"-"!==n||(e+=xI[wI++]),Pm(xI.charCodeAt(wI)))for(;Pm(xI.charCodeAt(wI));)e+=xI[wI++];else lg({},WI,ez);return Am(xI.charCodeAt(wI))&&lg({},WI,ez),{type:CI,value:parseFloat(e),start:t,end:wI}}function qm(){var e,t,n,r,i="",a=!1;for(e=xI[wI],km("'"===e||'"'===e,"String literal must starts with a quote"),t=wI,++wI;wI<OI;){if(n=xI[wI++],n===e){e="";break}if("\\"===n)if(n=xI[wI++],n&&Cm(n.charCodeAt(0)))"\r"===n&&"\n"===xI[wI]&&++wI;else switch(n){case"u":case"x":"{"===xI[wI]?(++wI,i+=Nm()):i+=Rm(n);break;case"n":i+="\n";break;case"r":i+="\r";break;case"t":i+="\t";break;case"b":i+="\b";break;case"f":i+="\f";break;case"v":i+="\v";break;default:Mm(n)?(r="01234567".indexOf(n),0!==r&&(a=!0),wI<OI&&Mm(xI[wI])&&(a=!0,r=8*r+"01234567".indexOf(xI[wI++]),"0123".indexOf(n)>=0&&wI<OI&&Mm(xI[wI])&&(r=8*r+"01234567".indexOf(xI[wI++]))),i+=String.fromCharCode(r)):i+=n}else{if(Cm(n.charCodeAt(0)))break;i+=n}}return""!==e&&lg({},WI,ez),{type:DI,value:i,octal:a,start:t,end:wI}}function Wm(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void lg({},KI)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){lg({},KI)}try{return new RegExp(e,t)}catch(i){return null}}function Vm(){var e,t,n,r,i;for(e=xI[wI],km("/"===e,"Regular expression literal must start with a slash"),t=xI[wI++],n=!1,r=!1;wI<OI;)if(e=xI[wI++],t+=e,"\\"===e)e=xI[wI++],Cm(e.charCodeAt(0))&&lg({},QI),t+=e;else if(Cm(e.charCodeAt(0)))lg({},QI);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||lg({},QI),i=t.substr(1,t.length-2),{value:i,literal:t}}function Hm(){var e,t,n;for(t="",n="";wI<OI&&(e=xI[wI],Dm(e.charCodeAt(0)));)++wI,"\\"===e&&wI<OI?lg({},WI,ez):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&lg({},KI,n),{value:n,literal:t}}function Gm(){var e,t,n,r;return SI=null,jm(),e=wI,t=Vm(),n=Hm(),r=Wm(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:wI}}function Ym(e){return e.type===EI||e.type===MI||e.type===kI||e.type===TI}function Xm(){var e;return jm(),wI>=OI?{type:PI,start:wI,end:wI}:(e=xI.charCodeAt(wI),Am(e)?Fm():40===e||41===e||59===e?$m():39===e||34===e?qm():46===e?Pm(xI.charCodeAt(wI+1))?Bm():$m():Pm(e)?Bm():$m())}function Km(){var e;return e=SI,wI=e.end,SI=Xm(),wI=e.end,e}function Qm(){var e;e=wI,SI=Xm(),wI=e}function Jm(e){var t=new Om(jI);return t.elements=e,t}function Zm(e,t,n){var r=new Om("||"===e||"&&"===e?$I:RI);return r.operator=e,r.left=t,r.right=n,r}function eg(e,t){var n=new Om(NI);return n.callee=e,n.arguments=t,n}function tg(e,t,n){var r=new Om(II);return r.test=e,r.consequent=t,r.alternate=n,r}function ng(e){var t=new Om(zI);return t.name=e,t}function rg(e){var t=new Om(FI);
return t.value=e.value,t.raw=xI.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function ig(e,t,n){var r=new Om(LI);return r.computed="["===e,r.object=t,r.property=n,r.computed||(n.member=!0),r}function ag(e){var t=new Om(UI);return t.properties=e,t}function og(e,t,n){var r=new Om(BI);return r.key=t,r.value=n,r.kind=e,r}function sg(e,t){var n=new Om(qI);return n.operator=e,n.argument=t,n.prefix=!0,n}function lg(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return km(t<r.length,"Message reference must be in range"),r[t]});throw n=new Error(i),n.index=wI,n.description=i,n}function ug(e){e.type===PI&&lg(e,XI),e.type===CI&&lg(e,VI),e.type===DI&&lg(e,HI),e.type===EI&&lg(e,GI),e.type===MI&&lg(e,YI),lg(e,WI,e.value)}function cg(e){var t=Km();t.type===AI&&t.value===e||ug(t)}function fg(e){return SI.type===AI&&SI.value===e}function dg(e){return SI.type===MI&&SI.value===e}function pg(){var e=[];for(wI=SI.start,cg("[");!fg("]");)fg(",")?(Km(),e.push(null)):(e.push(Mg()),fg("]")||cg(","));return Km(),Jm(e)}function hg(){var e;return wI=SI.start,e=Km(),e.type===DI||e.type===CI?(e.octal&&lg(e,JI),rg(e)):ng(e.value)}function mg(){var e,t,n,r;return wI=SI.start,e=SI,e.type===EI?(n=hg(),cg(":"),r=Mg(),og("init",n,r)):e.type!==PI&&e.type!==AI?(t=hg(),cg(":"),r=Mg(),og("init",t,r)):void ug(e)}function gg(){var e,t,n,r=[],i={},a=String;for(wI=SI.start,cg("{");!fg("}");)e=mg(),t=e.key.type===zI?e.key.name:a(e.key.value),n="$"+t,Object.prototype.hasOwnProperty.call(i,n)?lg({},ZI):i[n]=!0,r.push(e),fg("}")||cg(",");return cg("}"),ag(r)}function yg(){var e;return cg("("),e=Tg(),cg(")"),e}function vg(){var e,t,n;if(fg("("))return yg();if(fg("["))return pg();if(fg("{"))return gg();if(e=SI.type,wI=SI.start,e===EI||az[SI.value])n=ng(Km().value);else if(e===DI||e===CI)SI.octal&&lg(SI,JI),n=rg(Km());else{if(e===MI)throw new Error(tz);e===kI?(t=Km(),t.value="true"===t.value,n=rg(t)):e===TI?(t=Km(),t.value=null,n=rg(t)):fg("/")||fg("/=")?(n=rg(Gm()),Qm()):ug(Km())}return n}function bg(){var e=[];if(cg("("),!fg(")"))for(;wI<OI&&(e.push(Mg()),!fg(")"));)cg(",");return cg(")"),e}function _g(){var e;return wI=SI.start,e=Km(),Ym(e)||ug(e),ng(e.value)}function xg(){return cg("."),_g()}function wg(){var e;return cg("["),e=Tg(),cg("]"),e}function Og(){var e,t,n;for(e=vg();;)if(fg("."))n=xg(),e=ig(".",e,n);else if(fg("("))t=bg(),e=eg(e,t);else{if(!fg("["))break;n=wg(),e=ig("[",e,n)}return e}function Sg(){var e=Og();if(SI.type===AI&&(fg("++")||fg("--")))throw new Error(tz);return e}function kg(){var e,t;if(SI.type!==AI&&SI.type!==MI)t=Sg();else{if(fg("++")||fg("--"))throw new Error(tz);if(fg("+")||fg("-")||fg("~")||fg("!"))e=Km(),t=kg(),t=sg(e.value,t);else{if(dg("delete")||dg("void")||dg("typeof"))throw new Error(tz);t=Sg()}}return t}function Pg(e){var t=0;if(e.type!==AI&&e.type!==MI)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function Eg(){var e,t,n,r,i,a,o,s,l,u;if(e=SI,l=kg(),r=SI,i=Pg(r),0===i)return l;for(r.prec=i,Km(),t=[e,SI],o=kg(),a=[l,r,o];(i=Pg(SI))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,l=a.pop(),t.pop(),n=Zm(s,l,o),a.push(n);r=Km(),r.prec=i,a.push(r),t.push(SI),n=kg(),a.push(n)}for(u=a.length-1,n=a[u],t.pop();u>1;)t.pop(),n=Zm(a[u-1].value,a[u-2],n),u-=2;return n}function Mg(){var e,t,n;return e=Eg(),fg("?")&&(Km(),t=Mg(),cg(":"),n=Mg(),e=tg(e,t,n)),e}function Tg(){var e=Mg();if(fg(","))throw new Error(tz);return e}function Cg(e,t,n){var r=e+":"+n,i=cz[r];return i&&i[0]===t||(cz[r]=i=[t,t(n)]),i[1]}function Ag(e,t){return Cg("format",lT,t)(e)}function Dg(e,t){return Cg("timeFormat",rw,t)(e)}function jg(e,t){return Cg("utcFormat",aw,t)(e)}function Rg(e,t){return Cg("timeParse",iw,t)(e)}function Ng(e,t){return Cg("utcParse",ow,t)(e)}function Ig(e,t,n){return fz.setMonth(e),fz.setDate(t),Dg(fz,n)}function zg(e){return Ig(e,1,"%B")}function Fg(e){return Ig(e,1,"%b")}function $g(e){return Ig(0,2+e,"%A")}function Lg(e){return Ig(0,2+e,"%a")}function Ug(e){return 1+~~(new Date(e).getMonth()/3)}function Bg(e){return 1+~~(new Date(e).getUTCMonth()/3)}function qg(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Wg(){return qg(this.context.dataflow,"warn",arguments)}function Vg(){return qg(this.context.dataflow,"info",arguments)}function Hg(){return qg(this.context.dataflow,"debug",arguments)}function Gg(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function Yg(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}function Xg(){return hz?hz.screen:{}}function Kg(){return hz?[hz.innerWidth,hz.innerHeight]:[void 0,void 0]}function Qg(){var e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Jg(e,t){var n;return b_(e)?e:t_(e)?(n=t.scales[e])&&n.value:void 0}function Zg(e,t,n){var r=_z+n;if(!t.hasOwnProperty(r))try{t[r]=e.scaleRef(n)}catch(i){}}function ey(e,t,n,r){if(t[0].type===yz)Zg(n,r,t[0].value);else if(t[0].type===vz)for(e in n.scales)Zg(n,r,e)}function ty(e,t){var n=Jg(e,(t||this).context);return n&&n.range?n.range():[]}function ny(e,t){var n=Jg(e,(t||this).context);return n?n.domain():[]}function ry(e,t){var n=Jg(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function iy(e,t,n){return EE(e||0,t||0,n||0)}function ay(e,t){var n=Jg(e,(t||this).context);return n?n.copy():void 0}function oy(e,t,n){var r=Jg(e,(n||this).context);return r?r(t):void 0}function sy(e,t,n){var r=Jg(e,(n||this).context);return r?Zb(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function ly(e){return function(t,n,r){var i=Jg(t,(r||this).context);return i&&i.path[e](n)}}function uy(e){var t=this.context.data[e];return t?t.values.value:[]}function cy(e,t,n,r){t[0].type!==yz&&Qb("First argument to data functions must be a string literal.");var i=t[0].value,a=xz+i;r.hasOwnProperty(a)||(r[a]=n.getData(i).tuplesRef())}function fy(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function dy(e,t,n,r){t[0].type!==yz&&Qb("First argument to indata must be a string literal."),t[1].type!==yz&&Qb("Second argument to indata must be a string literal.");var i=t[0].value,a=t[1].value,o=bz+a;r.hasOwnProperty(o)||(r[o]=n.getData(i).indataRef(n,a))}function py(e,t){var n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(l_).insert(t)),1}function hy(e){return e.data}function my(e,t){var n=uy.call(t,e);return n.root&&n.root.lookup||Pz}function gy(e,t,n){var r=my(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(hy):void 0}function yy(e,t){var n=my(e,this)[t];return n?n.ancestors().map(hy):void 0}function vy(e,t){return e===t||e!==e&&t!==t||!(!Zb(e)||!Zb(t)||e.length!==t.length)&&by(e,t)}function by(e,t){for(var n=0,r=e.length;n<r;++n)if(!vy(e[n],t[n]))return!1;return!0}function _y(e){return function(t){for(var n in e)if(!vy(t[n],e[n]))return!1;return!0}}function xy(e,t){for(var n,r=t.fields,i=t.values,a=t.getter||(t.getter=[]),o=r.length,s=0;s<o;++s)if(a[s]=a[s]||n_(r[s]),n=a[s](e),T_(n)&&(n=y_(n)),T_(i[s])&&(i[s]=y_(i[s])),t[Cz+r[s]]){if(T_(i[s][0])&&(i[s]=i[s].map(y_)),!Ez(n,i[s],!0,!1))return!1}else if(n!==i[s])return!1;return!0}function wy(e,t){for(var n,r,i,a=t.intervals,o=a.length,s=0;s<o;++s){if(r=a[s].extent,n=a[s].getter||(a[s].getter=n_(a[s].field)),i=n(e),!r||r[0]===r[1])return!1;if(T_(i)&&(i=y_(i)),T_(r[0])&&(r=a[s].extent=r.map(y_)),C_(r[0])&&!Ez(i,r))return!1;if(t_(r[0])&&r.indexOf(i)<0)return!1}return!0}function Oy(e,t,n,r){for(var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=u?u[jz]&&u[jz].value:void 0,d=n===Az,p=c.length,h=0;h<p;++h)if(i=c[h],f&&d){if(a=a||{},o=a[s=i.unit]||0,o===-1)continue;if(l=r(t,i),a[s]=l?-1:++o,l&&1===f.size)return!0;if(!l&&o===f.get(s).count)return!1}else if(l=r(t,i),d^l)return l;return p&&d}function Sy(e,t,n){return Oy.call(this,e,t,n,xy)}function ky(e,t,n){return Oy.call(this,e,t,n,wy)}function Py(e,t,n,r){t[0].type!==yz&&Qb("First argument to indata must be a string literal.");var i=t[0].value,a=t.length>=2&&t[t.length-1].value,o="unit",s=bz+o;a!==Az||r.hasOwnProperty(s)||(r[s]=n.getData(i).indataRef(n,o)),cy(e,t,n,r)}function Ey(e,t,n,r){var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=u?u[jz]&&u[jz].value:void 0,d=c[0],p=0;if(d){for(i=t?d.encodings.length:d.fields.length;p<i;++p)if(t&&d.encodings[p]===t||n&&d.fields[p]===n){a=p,s=d[Cz+d.fields[p]];break}return f&&1===f.size&&(r=Dz),f&&r===Az?(l=c.reduce(function(e,t){var n=e[t.unit]||(e[t.unit]=[]);return n.push({unit:t.unit,value:t.values[a]}),e},{}),o=Object.keys(l).map(function(e){return{unit:e,value:s?Cy(l[e],Dz):Ty(l[e],Dz)}})):o=c.map(function(e){return{unit:e.unit,value:e.values[a]}}),s?Cy(o,r):Ty(o,r)}}function My(e,t,n,r){var i,a,o,s,l,u=this.context.data[e],c=u?u.values.value:[],f=c[0],d=0;if(f){for(i=f.intervals.length;d<i;++d)if(a=f.intervals[d],t&&a.encoding===t||n&&a.field===n){if(!a.extent)return;o=d,l=a.extent.length>2;break}return s=c.reduce(function(e,t){var n=t.intervals[o].extent,r=l?n.map(function(e){return{unit:t.unit,value:e}}):{unit:t.unit,value:n};return l?e.push.apply(e,r):e.push(r),e},[]),l?Ty(s,r):Cy(s,r)}}function Ty(e,t){for(var n,r,i,a,o={},s=0,l={},u=[],c=0,f=e.length;c<f;++c)n=e[c],r=n.unit,a=n.value,o[r]||(o[r]=++s),(i=l[a])||(l[a]=i={value:a,units:{},count:0}),i.units[r]||(i.units[r]=++i.count);for(a in l)i=l[a],t===Az&&i.count!==s||u.push(i.value);return u.length?u:void 0}function Cy(e,t){for(var n,r,i,a,o=t===Az?Dy:Ay,s=0,l=e.length;s<l;++s)n=e[s].value,T_(n[0])&&(n=n.map(y_)),i=n[0],a=n[1],i>a&&(a=n[0],i=n[1]),r=r?o(r,i,a):[i,a];return r&&r.length&&+r[0]!==+r[1]?r:void 0}function Ay(e,t,n){return e[0]>t&&(e[0]=t),e[1]<n&&(e[1]=n),e}function Dy(e,t,n){return n<e[0]||e[1]<t?[]:(e[0]<t&&(e[0]=t),e[1]>n&&(e[1]=n),e)}function jy(e,t,n){return 1===arguments.length?Rz[e]:(Rz[e]=t,n&&(Fz[e]=n),Bz&&(Bz.functions[e]=zz+e),this)}function Ry(e){var t=lz(e);Nz.forEach(function(e){t[e]=Iz+e});for(var n in Rz)t[n]=zz+n;return t}function Ny(e){return e===Hz?Vz:e||Vz}function Iy(e,t){var n=e.merge?zy:e.stream?Fy:e.type?$y:Qb("Invalid stream specification: "+i(e));return n(e,t)}function zy(e,t){var n=e.merge.map(function(e){return Iy(e,t)}),r=Ly({merge:n},e,t);return t.addStream(r).id}function Fy(e,t){var n=Iy(e.stream,t),r=Ly({stream:n},e,t);return t.addStream(r).id}function $y(e,t){var n=t.event(Ny(e.source),e.type),r=Ly({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function Ly(e,t,n){var r=t.between;return r&&(2!==r.length&&Qb('Stream "between" parameter must have 2 entries: '+i(t)),e.between=[Iy(r[0],n),Iy(r[1],n)]),r=t.filter?v_(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Uy(t.marktype,t.markname,t.markrole)),t.source===Hz&&r.push("inScope(event.item)"),r.length&&(e.filter=Wz("("+r.join(")&&(")+")").$expr),null!=(r=t.throttle)&&(e.throttle=+r),null!=(r=t.debounce)&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Uy(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}function By(e){return Lz.hasOwnProperty(e)}function qy(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function Wy(e){for(var t=[],n=0,r=e.length,i=0;i<r;)i=qy(e,i,tF,Kz+Jz,Qz+Zz),t.push(e.substring(n,i).trim()),n=++i;if(0===t.length)throw"Empty event selector: "+e;return t}function Vy(e){return"["===e[0]?Hy(e):Gy(e)}function Hy(e){var t,n,r=e.length,i=1;if(i=qy(e,i,Qz,Kz,Qz),i===r)throw"Empty between selector: "+e;if(t=Wy(e.substring(1,i)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(i+1).trim(),e[0]!==rF)throw"Expected '>' after between selector: "+e;return t=t.map(Vy),n=Vy(e.slice(1).trim()),n.between?{between:t,stream:n}:(n.between=t,n)}function Gy(e){var t,n,r={source:$z},i=[],a=[0,0],o=0,s=0,l=e.length,u=0;if(e[l-1]===Zz){if(u=e.lastIndexOf(Jz),!(u>=0))throw"Unmatched right brace: "+e;try{a=Yy(e.substring(u+1,l-1))}catch(c){throw"Invalid throttle specification: "+e}e=e.slice(0,u).trim(),l=e.length,u=0}if(!l)throw e;if(e[0]===nF&&(o=++u),t=qy(e,u,eF),t<l&&(i.push(e.substring(s,t).trim()),s=u=++t),u=qy(e,u,Kz),u===l)i.push(e.substring(s,l).trim());else if(i.push(e.substring(s,u).trim()),n=[],s=++u,s===l)throw"Unmatched left bracket: "+e;for(;u<l;){if(u=qy(e,u,Qz),u===l)throw"Unmatched left bracket: "+e;if(n.push(e.substring(s,u).trim()),u<l-1&&e[++u]!==Kz)throw"Expected left bracket: "+e;s=++u}if(!(l=i.length)||iF.test(i[l-1]))throw"Invalid event selector: "+e;return l>1?(r.type=i[1],o?r.markname=i[0].slice(1):By(i[0])?r.marktype=i[0]:r.source=i[0]):r.type=i[0],"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1)),null!=n&&(r.filter=n),a[0]&&(r.throttle=a[0]),a[1]&&(r.debounce=a[1]),r}function Yy(e){var t=e.split(tF);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}function Xy(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function Ky(e,t,n,r){return new Xy(e,t,n,r)}function Qy(e,t){return Ky("operator",e,t)}function Jy(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Zy(e,t){return t?{$field:e,$name:t}:{$field:e}}function ev(e,t){return{$compare:e,$order:t}}function tv(e,t){var n={$key:e};return t&&(n.$flat=!0),n}function nv(e){return e_(e)?(e.order===dF?"-":"+")+rv(e.op,e.field):""}function rv(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function iv(e){return e&&e.signal}function av(e,t){return null!=e?e:t}function ov(e){return function(t,n,r){return Ky(e,n,t||void 0,r)}}function sv(e){return BF.hasOwnProperty(e)}function lv(e){return"quantile"===e}function uv(e,t){var n=e.type||"linear";UF.hasOwnProperty(n)||Qb("Unrecognized scale type: "+i(n)),t.addScale(e.name,{type:n,domain:void 0})}function cv(e,t){var n,r=t.getScale(e.name).params;r.domain=hv(e.domain,e,t),null!=e.range&&(r.range=kv(e,t,r)),null!=e.interpolate&&Sv(e.interpolate,r),null!=e.nice&&Ov(e.nice,r);for(n in e)r.hasOwnProperty(n)||"name"===n||(r[n]=fv(e[n],t))}function fv(e,t){return e_(e)?e.signal?t.signalRef(e.signal):Qb("Unsupported object: "+i(e)):e}function dv(e,t){return e.signal?t.signalRef(e.signal):e.map(function(e){return fv(e,t)})}function pv(e){Qb("Can not find data set: "+i(e))}function hv(e,t,n){return e?e.signal?n.signalRef(e.signal):(Zb(e)?mv:e.fields?yv:gv)(e,t,n):void(null==t.domainMin&&null==t.domainMax||Qb("No scale domain defined for domainMin/domainMax to override."))}function mv(e,t,n){return e.map(function(e){return fv(e,n)})}function gv(e,t,n){var r=n.getData(e.data);return r||pv(e.data),sv(t.type)?r.valuesRef(n,e.field,_v(e.sort,!1)):lv(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function yv(e,t,n){var r=e.data,i=e.fields.reduce(function(e,t){return t=t_(t)?{data:r,field:t}:Zb(t)||t.signal?vv(t,n):t,e.push(t),e},[]);return(sv(t.type)?bv:lv(t.type)?xv:wv)(e,n,i)}function vv(e,t){var n="_:vega:_"+$F++,r=gF({});if(Zb(e))r.value={$ingest:e};else if(e.signal){var a="setdata("+i(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,NF({})]),{data:n,field:"data"}}function bv(e,t,n){var r,i,a,o;return r=n.map(function(e){var n=t.getData(e.data);return n||pv(e.data),n.countsRef(t,e.field)}),i=t.add(pF({groupby:cF,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:r})),a=t.add(gF({pulse:Jy(i)})),o=t.add(FF({field:cF,sort:t.sortRef(_v(e.sort,!0)),pulse:Jy(a)})),Jy(o)}function _v(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field?Qb("Multiple domain scales can not sort by field."):t&&e.op&&"count"!==e.op&&Qb("Multiple domain scales support op count only."):Qb("No field provided for sort aggregate op: "+e.op):e_(e)?e.field="key":e={field:"key"}),e}function xv(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||pv(e.data),n.domainRef(t,e.field)});return Jy(t.add(PF({values:r})))}function wv(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||pv(e.data),n.extentRef(t,e.field)});return Jy(t.add(kF({extents:r})))}function Ov(e,t){t.nice=e_(e)?{interval:fv(e.interval),step:fv(e.step)}:fv(e)}function Sv(e,t){t.interpolate=fv(e.type||e),null!=e.gamma&&(t.interpolateGamma=fv(e.gamma))}function kv(e,t,n){var r=e.range,a=t.config.range;if(r.signal)return t.signalRef(r.signal);if(t_(r)){if(a&&a.hasOwnProperty(r))return e=O_({},e,{range:a[r]}),kv(e,t,n);"width"===r?r=[0,{signal:"width"}]:"height"===r?r=sv(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:Qb("Unrecognized scale range value: "+i(r))}else{if(r.scheme)return n.scheme=fv(r.scheme,t),r.extent&&(n.schemeExtent=dv(r.extent,t)),void(r.count&&(n.schemeCount=fv(r.count,t)));if(r.step)return void(n.rangeStep=fv(r.step,t));if(sv(e.type)&&!Zb(r))return hv(r,e,t);Zb(r)||Qb("Unsupported range type: "+i(r))}return r.map(function(e){return fv(e,t)})}function Pv(e,t){return Zb(e)?e.map(function(e){return Pv(e,t)}):e_(e)?e.signal?t.signalRef(e.signal):Qb("Unsupported parameter object: "+i(e)):e}function Ev(e,t,n,r){var a,o,s;if(e.signal)a="datum",s=c$(e.signal,t,n,r);else if(e.group||e.parent){for(o=Math.max(1,e.level||1),a="item";o-- >0;)a+=".mark.group";e.parent?(s=e.parent,a+=".datum"):s=e.group}else e.datum?(a="datum",s=e.datum):Qb("Invalid field reference: "+i(e));return e.signal||(t_(s)?(r[s]=1,s=Jb(s).map(i).join("][")):s=Ev(s,t,n,r)),a+"["+s+"]"}function Mv(e,t){if(!t_(e))return-1;var n=t.scaleType(e);return"band"===n||"point"===n?1:0}function Tv(e,t,n,r){var a;if(t_(e))a=_z+e,n.hasOwnProperty(a)||(n[a]=t.scaleRef(e)),a=i(a);else{for(a in t.scales)n[_z+a]=t.scaleRef(a);a=i(_z)+"+"+(e.signal?"("+c$(e.signal,t,n,r)+")":f$(e,t,n,r))}return"_["+a+"]"}function Cv(e,t,n,r){var i,a,o,s={},l="var o=item,datum=o.datum,$;";for(i in e)a=e[i],Zb(a)?l+=y$(i,a,r,n,s):(o=m$(i,a,r,n,s),l+=g$("o",i,o));return l+=l$(e,t),l+="return 1;",{$expr:l,$fields:Object.keys(s),$output:Object.keys(e)}}function Av(e){return e_(e)?e:{value:e}}function Dv(e,t,n){return null!=n?(e[t]=e_(n)&&!Zb(n)?n:{value:n},1):0}function jv(e,t,n){for(var r in t)n&&n.hasOwnProperty(r)||(e[r]=O_(e[r]||{},t[r]));return e}function Rv(e,t,n,r,i,a){var o,s;a=a||{},a.encoders={$encode:o={}},e=Nv(e,t,n,r,i.config);for(s in e)o[s]=Cv(e[s],t,a,i);return a}function Nv(e,t,n,r,i){var a,o,s,l={};"legend"!=n&&0!==String(n).indexOf("axis")||(n=null),s=n===b$?i.group:n===v$?O_({},i.mark,i[t]):null;for(a in s)o=Iv(a,e)||("fill"===a||"stroke"===a)&&(Iv("fill",e)||Iv("stroke",e)),o||(l[a]={value:s[a]});return v_(r).forEach(function(t){var n=i.style&&i.style[t];for(var r in n)Iv(r,e)||(l[r]={value:n[r]})}),e=O_({},e),e.enter=O_(l,e.enter),e}function Iv(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}function zv(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)r=e.params[i],o[r.name]=Fv(r,t,n);return o}function Fv(e,t,n){var r=e.type,a=t[e.name];return"index"===r?Lv(e,t,n):void 0===a?void(e.required&&Qb("Missing required "+i(t.type)+" parameter: "+i(e.name))):"param"===r?Uv(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!iv(a)?a.map(function(t){return $v(e,t,n)}):$v(e,a,n)}function $v(e,t,n){var r=e.type;if(iv(t))return Hv(r)?Qb("Expression references can not be signals."):Gv(r)?n.fieldRef(t):Yv(r)?n.compareRef(t):n.signalRef(t.signal);var i=e.expr||Gv(r);return i&&qv(t)?Wz(t.expr,n):i&&Wv(t)?Zy(t.field):Hv(r)?Wz(t,n):Vv(r)?Jy(n.getData(t).values):Gv(r)?Zy(t):Yv(r)?n.compareRef(t):t}function Lv(e,t,n){return t_(t.from)||Qb('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function Uv(e,t,n){var r=t[e.name];return e.array?(Zb(r)||Qb("Expected an array of sub-parameters. Instead: "+i(r)),r.map(function(t){return Bv(e,t,n)})):Bv(e,r,n)}function Bv(e,t,n){var r,a,o,s,l;for(s=0,l=e.params.length;s<l;++s){a=e.params[s];for(o in a.key)if(a.key[o]!==t[o]){a=null;break}if(a)break}return a||Qb("Unsupported parameter: "+i(t)),r=O_(zv(a,t,n),a.key),Jy(n.add(MF(r)))}function qv(e){return e&&e.expr}function Wv(e){return e&&e.field}function Vv(e){return"data"===e}function Hv(e){return"expr"===e}function Gv(e){return"field"===e}function Yv(e){return"compare"===e}function Xv(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function Kv(e){return t_(e)?e:null}function Qv(e,t,n){var r,i=rv(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Jv(e,t,n,r,i,a,o){var s,l,u=t[n]||(t[n]={}),c=nv(a),f=Kv(i);if(null!=f&&(e=t.scope,f+=c?"|"+c:"",s=u[f]),!s){var d=a?{field:cF,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:Jy(t.output)};c&&(d.sort=e.sortRef(a)),l=e.add(Ky(r,void 0,d)),o&&(t.index[i]=l),s=Jy(l),null!=f&&(u[f]=s)}return s}function Zv(e,t,n){var r=tb(t,n[1].encode,"fontSize",t$);if(e.size)return{$expr:"Math.max(Math.ceil(Math.sqrt(_.scale(datum))),"+r+")"};var i=tb(t,n[0].encode,"size");return Math.max(Math.ceil(Math.sqrt(i)),r)}function eb(e){var t={},n=Dv(t,"fill",e.fillColor)+Dv(t,"stroke",e.strokeColor)+Dv(t,"strokeWidth",e.strokeWidth)+Dv(t,"strokeDash",e.strokeDash)+Dv(t,"cornerRadius",e.cornerRadius);return n?t:void 0}function tb(e,t,n,r){var i=t&&(t.update&&t.update[n]||t.enter&&t.enter[n]);return+(i?i.value:r&&(i=e.config.style[r])&&i[n])}function nb(e,t,n,r){var i,a,o,s,l,u,c=e.text,f=e.orient||t.orient,d=e.anchor||t.anchor,p=f===VF||f===WF?-1:1,h=f===WF||f===GF,m={group:h?"width":"height"},g={};return g.enter=i={opacity:{value:0}},Dv(i,"fill",t.color),Dv(i,"font",t.font),Dv(i,"fontSize",t.fontSize),Dv(i,"fontWeight",t.fontWeight),g.exit={opacity:{value:0}},g.update=a={opacity:{value:1},text:e_(c)?c:{value:c+""},offset:Av((null!=e.offset?e.offset:t.offset)||0)},"start"===d?(l=0,u="left"):"end"===d?(l=1,u="right"):(l=.5,u="center"),o={field:m,mult:l},s=p<0?{value:0}:h?{field:{group:"height"}}:{field:{group:"width"}},h?(a.x=o,a.y=s,a.angle={value:0},a.baseline={value:f===WF?"bottom":"top"}):(a.x=s,a.y=o,a.angle={value:90*p},a.baseline={value:"bottom"}),a.align={value:u},a.limit={field:m},Dv(a,"angle",t.angle),Dv(a,"baseline",t.baseline),Dv(a,"limit",t.limit),R$($$,j$,e.style||r$,null,r,g,n)}function rb(e,t){var n=[];e.transform&&e.transform.forEach(function(e){n.push(X$(e,t))}),e.on&&e.on.forEach(function(n){eL(n,t,e.name)}),t.addDataPipeline(e.name,ib(e,t,n))}function ib(e,t,n){var r,i,a,o,s,l=[],u=null,c=!1,f=!1;for(e.values?l.push(u=ab({$ingest:e.values,$format:e.format})):e.url?l.push(u=ab({$request:e.url,$format:e.format})):e.source&&(u=r=v_(e.source).map(function(e){return Jy(t.getData(e).output)}),l.push(null)),i=0,a=n.length;i<a;++i)o=n[i],s=o.metadata,u||s.source||l.push(u=ab()),l.push(o),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?u=o:s.changes&&(u=null);return r&&(a=r.length-1,l[0]=DF({derive:c,pulse:a?r:r[0]}),(c||a)&&l.splice(1,0,ab())),u||l.push(ab()),l.push(NF({})),l}function ab(e){var t=gF({},e);return t.metadata={source:!0},t}function ob(e,t){return{scale:e.scale,range:t}}function sb(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function lb(e,t){var n,r,i,a,o,s=t.config;return t.background=e.background||s.background,t.eventConfig=s.events,o=Jy(t.root=t.add(Qy())),t.addSignal("width",e.width||0),t.addSignal("height",e.height||0),t.addSignal("padding",yI(e.padding,s)),t.addSignal("autosize",gI(e.autosize,s)),v_(e.signals).forEach(function(e){dL[e.name]||_I(e,t)}),r=t.add(gF()),i=jv({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),i=t.add(bF(Rv(i,N$,b$,e.style,t,{pulse:Jy(r)}))),a=t.add(zF({layout:t.objectProperty(e.layout),legendMargin:s.legendMargin,autosize:t.signalRef("autosize"),mark:o,pulse:Jy(i)})),t.operators.pop(),t.pushState(Jy(i),Jy(a),null),fL(e,t,!0),t.operators.push(a),n=t.add(mF({mark:o,pulse:Jy(a)})),n=t.add(jF({pulse:Jy(n)})),n=t.add(NF({pulse:Jy(n)})),t.addData("root",new Xv(t,r,r,n)),t}function ub(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this.eventConfig=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function cb(e){this.config=e.config,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function fb(e){return(Zb(e)?db:pb)(e)}function db(e){for(var t,n="[",r=0,a=e.length;r<a;++r)t=e[r],n+=(r>0?",":"")+(e_(t)?t.signal||fb(t):i(t));return n+"]"}function pb(e){var t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+i(t)+":"+(e_(n)?n.signal||fb(n):i(n));return r+"}"}function hb(){return{padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:vL},area:{fill:vL},image:null,line:{stroke:vL,strokeWidth:yL},path:{stroke:vL},rect:{fill:vL},rule:{stroke:bL},shape:{stroke:vL},symbol:{fill:vL,size:64},text:{fill:bL,font:mL,fontSize:11},style:{"guide-label":{fill:bL,font:mL,fontSize:10},"guide-title":{fill:bL,font:mL,fontSize:11,fontWeight:"bold"},"group-title":{fill:bL,font:mL,fontSize:13,fontWeight:"bold"},point:{size:gL,strokeWidth:yL,shape:"circle"},circle:{size:gL,strokeWidth:yL},square:{size:gL,strokeWidth:yL,shape:"square"},cell:{fill:"transparent",stroke:xL}},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:_L,grid:!1,gridWidth:1,gridColor:xL,gridOpacity:1,labels:!0,labelAngle:0,labelLimit:180,labelPadding:2,ticks:!0,tickColor:_L,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titleAlign:"center",titlePadding:4},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,entryPadding:5,titlePadding:5,gradientWidth:100,gradientHeight:20,gradientStrokeColor:xL,gradientStrokeWidth:0,gradientLabelBaseline:"top",gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelOffset:8,labelLimit:160,symbolType:"circle",symbolSize:100,symbolFillColor:"transparent",symbolStrokeColor:_L,symbolStrokeWidth:1.5,titleAlign:"left",titleBaseline:"top",titleLimit:180},title:{orient:"top",anchor:"middle",offset:4},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues",extent:[.2,1]},heatmap:{scheme:"viridis"},ramp:{scheme:"blues",extent:[.2,1]},diverging:{scheme:"blueorange"},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function mb(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function gb(e,t){return mb(["_"],e,t)}function yb(e,t){return mb(["datum","_"],e,t)}function vb(e,t){return mb(["event"],e,t)}function bb(e,t){return mb(["_","event"],e,t)}function _b(e,t){return mb(["item","_"],e,t)}function xb(e,t,n){n=n||{};var r,i;for(r in e)i=e[r],i&&i.$expr&&i.$params&&xb(i.$params,t,n),n[r]=Zb(i)?i.map(function(e){return wb(e,t)}):wb(i,t);return n}function wb(e,t){if(!e||!e_(e))return e;for(var n,r=0,i=OL.length;r<i;++r)if(n=OL[r],e.hasOwnProperty(n.key))return n.parse(e,t);return e}function Ob(e,t){return t.get(e.$ref)||Qb("Operator not defined: "+e.$ref)}function Sb(e,t){var n="e:"+e.$expr;return t.fn[n]||(t.fn[n]=Kb(yb(e.$expr,t),e.$fields,e.$name))}function kb(e,t){var n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=D_(e.$key,e.$flat))}function Pb(e,t){if(!e.$field)return null;var n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=n_(e.$field,e.$name))}function Eb(e,t){var n="c:"+e.$compare+"_"+e.$order,r=v_(e.$compare).map(function(e){return e&&e.$tupleid?w:e});return t.fn[n]||(t.fn[n]=__(r,e.$order))}function Mb(e,t){var n,r,i=e.$encode,a={};for(n in i)r=i[n],a[n]=Kb(_b(r.$expr,t),r.$fields),a[n].output=r.$output;return a}function Tb(e,t){return t}function Cb(e,t){var n=e.$subflow;return function(e,r,i){var a=EL(n,t.fork()),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(i),o}}function Ab(){return w}function Db(e){return(e+"").toLowerCase()}function jb(e){return"operator"===Db(e)}function Rb(e){return"collect"===Db(e)}function Nb(e,t){var n,r;e.params&&((n=t.get(e.id))||Qb("Invalid operator id: "+e.id),r=xb(e.params,t),t.dataflow.connect(n,n.parameters(r)))}function Ib(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(function(t){return t.getState(e)})),n}function zb(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(function(e){n.update(t.signals[e],i[e],ML)}),Object.keys(r||{}).forEach(function(e){n.pulse(t.data[e].input,n.changeset().remove(l_).insert(r[e]))}),(e.subcontext||[]).forEach(function(e,n){var r=t.subcontext[n];r&&r.setState(e)})}function Fb(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function $b(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}function Lb(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===AL?r.left+r.right:0)}function Ub(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===AL?r.top+r.bottom:0)}function Bb(e){function t(){e._autosize=e._resize=1}var n=e._signals,r=n.width,i=n.height,a=n.padding;e._resizeWidth=e.add(null,function(n){e._width=n.size,e._viewWidth=Lb(e,n.size),t()},{size:r}),e._resizeHeight=e.add(null,function(n){e._height=n.size,e._viewHeight=Ub(e,n.size),t()},{size:i});var o=e.add(null,t,{pad:a});e._resizeWidth.rank=r.rank+1,e._resizeHeight.rank=i.rank+1,o.rank=a.rank+1}function qb(e,t,n,r,i,a){this.runAfter(function(o){var s=0;o._autosize=0,o.width()!==n&&(s=1,o.width(n),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.height(r),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(function(){o.resize()})})}function Wb(e){return this._runtime.getState(e||{data:Vb,signals:Hb,recurse:!0})}function Vb(e,t){return t.modified&&Zb(t.input.value)&&e.indexOf("_:vega:_")}function Hb(e,t){return!("parent"===e||t instanceof Dw.proxy)}function Gb(e){var t=this;return t._trigger=!1,t._runtime.setState(e),t.run().runAfter(function(){t._trigger=!0}),this}function Yb(e,t){var n=this;t=t||{},ln.call(n),n.loader(t.loader||n._loader),n.logLevel(t.logLevel||0),n._el=null,n._renderType=t.renderer||SP.Canvas,n._scenegraph=new uo;var r=n._scenegraph.root;n._renderer=null,n._redraw=!0,n._handler=(new bo).scene(r),
n._eventListeners=[],n._preventDefault=!1;var i=CL(n,e,t.functions);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(function(e){return{state:null,param:O_({},e)}}),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._background=i.background||null,n._eventConfig=am(i.eventConfig),n._width=n.width(),n._height=n.height(),n._viewWidth=Lb(n,n._width),n._viewHeight=Ub(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,Bb(n),QN(n)}function Xb(e,t){return e._signals.hasOwnProperty(t)?e._signals[t]:Qb("Unrecognized signal name: "+i(t))}var Kb=function(e,t,n){return e.fields=t||[],e.fname=n,e},Qb=function(e){throw Error(e)},Jb=function(e){function t(){a.push(u+e.substring(n,r)),u="",n=r+1}var n,r,i,a=[],o=null,s=0,l=e.length,u="";for(e+="",n=r=0;r<l;++r)if(i=e[r],"\\"===i)u+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,s=-1;else{if(o)continue;n===s&&'"'===i?(n=r+1,o=i):n===s&&"'"===i?(n=r+1,o=i):"."!==i||s?"["===i?(r>n&&t(),s=n=r+1):"]"===i&&(s||Qb("Access path missing open bracket: "+e),s>0&&t(),s=0,n=r+1):r>n?t():n=r+1}return s&&Qb("Access path missing closing bracket: "+e),o&&Qb("Access path missing closing quote: "+e),r>n&&(r++,t()),a},Zb=Array.isArray,e_=function(e){return e===Object(e)},t_=function(e){return"string"==typeof e},n_=function(e,t){var n=Jb(e),r="return _["+n.map(i).join("][")+"];";return Kb(Function("_",r),[e=1===n.length?n[0]:e],t||e)},r_=[],i_=n_("id"),a_=Kb(function(e){return e},r_,"identity"),o_=Kb(function(){return 0},r_,"zero"),s_=Kb(function(){return 1},r_,"one"),l_=Kb(function(){return!0},r_,"true"),u_=Kb(function(){return!1},r_,"false"),c_=0,f_=1,d_=2,p_=3,h_=4,m_=function(e){var t=e||c_;return{level:function(e){return arguments.length?(t=+e,this):t},error:function(){return t>=f_&&a("error","ERROR",arguments),this},warn:function(){return t>=d_&&a("warn","WARN",arguments),this},info:function(){return t>=p_&&a("log","INFO",arguments),this},debug:function(){return t>=h_&&a("log","DEBUG",arguments),this}}},g_=function(e){return e[e.length-1]},y_=function(e){return null==e||""===e?null:+e},v_=function(e){return null!=e?Zb(e)?e:[e]:[]},b_=function(e){return"function"==typeof e},__=function(e,t){var n,a,o,s,l,u,c,f,d,p=[],h=(e=v_(e)).map(function(e,t){return null==e?null:(p.push(t),b_(e)?e:Jb(e).map(i).join("]["))}),m=p.length-1,g=v_(t),y="var u,v;return ";if(m<0)return null;for(a=0;a<=m;++a)n=p[a],o=h[n],b_(o)?(u="f"+n,s="(u=this."+u+"(a))",l="(v=this."+u+"(b))",(c=c||{})[u]=o):(s="(u=a["+o+"])",l="(v=b["+o+"])"),u="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[n]?(d=1,f=-1):(d=-1,f=1),y+="("+s+"<"+l+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+d+":"+u+"!==u&&v===v?"+f+":v!==v&&u===u?"+d+(n<m?":":":0");return o=Function("a","b",y+";"),c&&(o=o.bind(c)),e=e.reduce(function(e,t){return b_(t)?(r(t)||[]).forEach(function(t){e[t]=1}):null!=t&&(e[t+""]=1),e},{}),Kb(o,Object.keys(e))},x_=function(e){return b_(e)?e:function(){return e}},w_=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},O_=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},S_=function(e,t){var n,r,i,a,o,s=-1,l=e.length;if(null==t){for(;++s<l;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<l;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<l;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},k_={},P_=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==k_}var n,r,i={};return n={size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===k_&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=k_),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===k_||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},E_=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},M_=function(e){return"boolean"==typeof e},T_=function(e){return"[object Date]"===Object.prototype.toString.call(e)},C_=function(e){return"number"==typeof e},A_=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},D_=function(e,t){e&&(e=t?v_(e).map(function(e){return e.replace(/\\(.)/g,"$1")}):v_(e));var n=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+(t?i(e):Jb(e).map(i).join("]["))+"]"}).join("+'|'+")+";"):function(){return""};return Kb(n,e,"key")},j_=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,l=0,u=0;s<i&&l<a;++u)o[u]=e(t[s],n[l])>0?n[l++]:t[s++];for(;s<i;++s,++u)o[u]=t[s];for(;l<a;++l,++u)o[u]=n[l];return o},R_=function(e,t){for(var n="";--t>=0;)n+=e;return n},N_=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?R_(i,o)+a:"center"===r?R_(i,~~(o/2))+a+R_(i,Math.ceil(o/2)):a+R_(i,o)},I_=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},z_=function(e,t){return t=t||b,null==e||""===e?null:t(e)},F_=function(e){return null==e||""===e?null:e+""},$_=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t},L_=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},U_=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}},B_=Symbol("vega_id"),q_=1,W_="_:mod:_",V_=C.prototype;V_.set=function(e,t,n,r){var i=this,a=i[e],o=i[W_];return null!=t&&t>=0?(a[t]!==n||r)&&(a[t]=n,o[t+":"+e]=-1,o[e]=-1):(a!==n||r)&&(i[e]=n,o[e]=Zb(n)?1+n.length:-1),i},V_.modified=function(e,t){var n,r=this[W_];if(!arguments.length){for(n in r)if(r[n])return!0;return!1}if(Zb(e)){for(n=0;n<e.length;++n)if(r[e[n]])return!0;return!1}return null!=t&&t>=0?t+1<r[e]||!!r[t+":"+e]:!!r[e]},V_.clear=function(){return this[W_]={},this};var H_=0,G_="pulse",Y_=new C,X_=1,K_=2,Q_=A.prototype;Q_.targets=function(){return this._targets||(this._targets=_(i_))},Q_.set=function(e){return this.value!==e?(this.value=e,1):0},Q_.skip=D(X_),Q_.modified=D(K_),Q_.parameters=function(e,t){function n(e,n,r){r instanceof A?(r!==s&&(t&&r.targets().add(s),c.push(r)),u.push({op:r,name:e,index:n})):l.set(e,n,r)}t=t!==!1;var r,i,a,o,s=this,l=s._argval=s._argval||new C,u=s._argops=s._argops||[],c=[];for(r in e)if(i=e[r],r===G_)v_(i).forEach(function(e){e instanceof A?e!==s&&(e.targets().add(s),c.push(e)):Qb("Pulse parameters must be operator instances.")}),s.source=i;else if(Zb(i))for(l.set(r,-1,Array(a=i.length)),o=0;o<a;++o)n(r,o,i[o]);else n(r,-1,i);return this.marshall().clear(),c},Q_.marshall=function(e){var t,n,r,i,a,o=this._argval||Y_,s=this._argops;if(s&&(r=s.length))for(n=0;n<r;++n)t=s[n],i=t.op,a=i.modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);return o},Q_.evaluate=function(e){if(this._update){var t=this.marshall(e.stamp),n=this._update(t,e);if(t.clear(),n!==this.value)this.value=n;else if(!this.modified())return e.StopPropagation}},Q_.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.stamp=e.stamp,this.pulse=t,t||e};var J_=function(e,t,n,r){var i,a=1;return e instanceof A?i=e:e&&e.prototype instanceof A?i=new e:b_(e)?i=new A(null,e):(a=0,i=new A(e,t)),this.rank(i),a&&(r=n,n=t),n&&this.connect(i,i.parameters(n,r)),this.touch(i),i},Z_=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},ex=0,tx=j.prototype;tx._filter=l_,tx._apply=a_,tx.targets=function(){return this._targets||(this._targets=_(i_))},tx.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},tx.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},tx.filter=function(e){var t=R(e);return this.targets().add(t),t},tx.apply=function(e){var t=R(null,e);return this.targets().add(t),t},tx.merge=function(){var e=R();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},tx.throttle=function(e){var t=-1;return this.filter(function(){var n=Date.now();return n-t>e?(t=n,1):0})},tx.debounce=function(e){var t=R();return this.targets().add(R(null,null,w_(e,function(e){var n=e.dataflow;t.receive(e),n&&n.run&&n.run()}))),t},tx.between=function(e,t){var n=!1;return e.targets().add(R(null,null,function(){n=!0})),t.targets().add(R(null,null,function(){n=!1})),this.filter(function(){return n})};var nx=function(e,t,n,r){var i,a=this,o=R(n,r),s=function(e){e.dataflow=a;try{o.receive(e)}catch(t){a.error(t)}finally{a.run()}};i="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):v_(e);for(var l=0,u=i.length;l<u;++l)i[l].addEventListener(t,s);return o},rx="$";N.prototype=I.prototype={constructor:N,has:function(e){return rx+e in this},get:function(e){return this[rx+e]},set:function(e,t){return this[rx+e]=t,this},remove:function(e){var t=rx+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===rx&&delete this[e]},keys:function e(){var e=[];for(var t in this)t[0]===rx&&e.push(t.slice(1));return e},values:function e(){var e=[];for(var t in this)t[0]===rx&&e.push(this[t]);return e},entries:function e(){var e=[];for(var t in this)t[0]===rx&&e.push({key:t.slice(1),value:this[t]});return e},size:function e(){var e=0;for(var t in this)t[0]===rx&&++e;return e},empty:function(){for(var e in this)if(e[0]===rx)return!1;return!0},each:function(e){for(var t in this)t[0]===rx&&e(this[t],t.slice(1),this)}};var ix=function e(){function t(e,n,o,s){if(n>=a.length)return null!=r&&e.sort(r),null!=i?i(e):e;for(var l,u,c,f=-1,d=e.length,p=a[n++],h=I(),m=o();++f<d;)(c=h.get(l=p(u=e[f])+""))?c.push(u):h.set(l,[u]);return h.each(function(e,r){s(m,r,t(e,n,o,s))}),m}function n(e,t){if(++t>a.length)return e;var r,s=o[t-1];return null!=i&&t>=a.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:n(e,t)})})),null!=s?r.sort(function(e,t){return s(e.key,t.key)}):r}var r,i,e,a=[],o=[];return e={object:function(e){return t(e,0,z,F)},map:function(e){return t(e,0,$,L)},entries:function(e){return n(t(e,0,$,L),0)},key:function(t){return a.push(t),e},sortKeys:function(t){return o[a.length-1]=t,e},sortValues:function(t){return r=t,e},rollup:function(t){return i=t,e}}},ax=I.prototype;U.prototype=B.prototype={constructor:U,has:ax.has,add:function(e){return e+="",this[rx+e]=e,this},remove:ax.remove,clear:ax.clear,values:ax.keys,size:ax.size,empty:ax.empty,each:ax.each};var ox={value:function(){}};W.prototype=q.prototype={constructor:W,on:function(e,t){var n,r=this._,i=V(e+"",r),a=-1,o=i.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=G(r[n],e.name,t);else if(null==t)for(n in r)r[n]=G(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=H(r[n],e.name)))return n}},copy:function e(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new W(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var sx=function(e,t){function n(e){var t,n=u.status;if(!n&&X(u)||n>=200&&n<300||304===n){if(a)try{t=a.call(r,u)}catch(i){return void s.call("error",r,i)}else t=u;s.call("load",r,t)}else s.call("error",r,e)}var r,i,a,o,s=q("beforesend","progress","load","error"),l=I(),u=new XMLHttpRequest,c=null,f=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(e)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=n:u.onreadystatechange=function(e){u.readyState>3&&n(e)},u.onprogress=function(e){s.call("progress",r,e)},r={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l.get(e):(null==t?l.remove(e):l.set(e,t+""),r)},mimeType:function(e){return arguments.length?(i=null==e?null:e+"",r):i},responseType:function(e){return arguments.length?(o=e,r):o},timeout:function(e){return arguments.length?(d=+e,r):d},user:function(e){return arguments.length<1?c:(c=null==e?null:e+"",r)},password:function(e){return arguments.length<1?f:(f=null==e?null:e+"",r)},response:function(e){return a=e,r},get:function(e,t){return r.send("GET",e,t)},post:function(e,t){return r.send("POST",e,t)},send:function(t,n,a){return u.open(t,e,!0,c,f),null==i||l.has("accept")||l.set("accept",i+",*/*"),u.setRequestHeader&&l.each(function(e,t){u.setRequestHeader(t,e)}),null!=i&&u.overrideMimeType&&u.overrideMimeType(i),null!=o&&(u.responseType=o),d>0&&(u.timeout=d),null==a&&"function"==typeof n&&(a=n,n=null),null!=a&&1===a.length&&(a=Y(a)),null!=a&&r.on("error",a).on("load",function(e){a(null,e)}),s.call("beforesend",r,u),u.send(null==n?null:n),r},abort:function(){return u.abort(),r},on:function(){var e=s.on.apply(s,arguments);return e===s?r:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return r.get(t)}return r},lx={},ux={},cx=34,fx=10,dx=13,px=function(e){function t(e,t){var r,i,a=n(e,function(e,n){return r?r(e,n-1):(i=e,void(r=t?Q(e,t):K(e)))});return a.columns=i||[],a}function n(e,t){function n(){if(u)return ux;if(c)return c=!1,lx;var t,n,r=o;if(e.charCodeAt(r)===cx){for(;o++<a&&e.charCodeAt(o)!==cx||e.charCodeAt(++o)===cx;);return(t=o)>=a?u=!0:(n=e.charCodeAt(o++))===fx?c=!0:n===dx&&(c=!0,e.charCodeAt(o)===fx&&++o),e.slice(r+1,t-1).replace(/""/g,'"')}for(;o<a;){if((n=e.charCodeAt(t=o++))===fx)c=!0;else if(n===dx)c=!0,e.charCodeAt(o)===fx&&++o;else if(n!==l)continue;return e.slice(r,t)}return u=!0,e.slice(r,a)}var r,i=[],a=e.length,o=0,s=0,u=a<=0,c=!1;for(e.charCodeAt(a-1)===fx&&--a,e.charCodeAt(a-1)===dx&&--a;(r=n())!==ux;){for(var f=[];r!==lx&&r!==ux;)f.push(r),r=n();t&&null==(f=t(f,s++))||i.push(f)}return i}function r(t,n){return null==n&&(n=J(t)),[n.map(o).join(e)].concat(t.map(function(t){return n.map(function(e){return o(t[e])}).join(e)})).join("\n")}function i(e){return e.map(a).join("\n")}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":s.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var s=new RegExp('["'+e+"\n\r]"),l=e.charCodeAt(0);return{parse:t,parseRows:n,format:r,formatRows:i}},hx=(px(","),px("\t"),/^([A-Za-z]+:)?\/\//),mx="file://",gx=["mimeType","responseType","user","password"],yx=function(e){return{options:e||{},sanitize:te,load:ee,file:re,http:ne}},vx={boolean:I_,integer:y_,number:y_,date:z_,string:F_,unknown:a_},bx=[ue,de,fe,ce],_x=["boolean","integer","number","date"],xx=function(e,t){var n=t&&t.property?n_(t.property):a_;return e_(e)&&!me(e)?ge(n(e)):n(JSON.parse(e))},wx=function(e){return e},Ox=function(e){if(null==e)return wx;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],o=e.translate[1];return function(e,s){s||(t=n=0);var l=2,u=e.length,c=new Array(u);for(c[0]=(t+=e[0])*r+a,c[1]=(n+=e[1])*i+o;l<u;)c[l]=e[l],++l;return c}},Sx=function(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n},kx=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return ye(e,t)})}:ye(e,t)},Px=function(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),s.push(r)}}var i={},a={},o={},s=[],l=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++l],t[l]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),s=i[0],l=i[1];if(t=o[s])if(delete o[t.end],t.push(e),t.end=l,r=a[l]){delete a[r.start];var u=r===t?t:t.concat(r);a[u.start=t.start]=o[u.end=r.end]=u}else a[t.start]=o[t.end]=t;else if(t=a[l])if(delete a[t.start],t.unshift(e),t.start=s,r=o[s]){delete o[r.end];var c=r===t?t:r.concat(t);a[c.start=r.start]=o[c.end=t.end]=c}else a[t.start]=o[t.end]=t;else t=[e],a[t.start=s]=o[t.end=l]=t}),r(o,a),r(a,o),t.forEach(function(e){i[e<0?~e:e]||s.push([e])}),s},Ex=function(e){return ve(e,be.apply(this,arguments))},Mx=function(e,t){var n,r;return e=xx(e,t),t&&(r=t.feature)?(n=e.objects[r])?kx(e,n).features:Qb("Invalid TopoJSON object: "+r):t&&(r=t.mesh)?(n=e.objects[r])?[Ex(e,n)]:Qb("Invalid TopoJSON object: "+r):void Qb("Missing TopoJSON feature or mesh parameter.")},Tx={dsv:he,csv:pe(","),tsv:pe("\t"),json:xx,topojson:Mx},Cx=function(e,t){return arguments.length>1?(Tx[e]=t,this):Tx.hasOwnProperty(e)?Tx[e]:null},Ax=new Date,Dx=new Date,jx=xe(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});jx.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?xe(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):jx:null};var Rx=1e3,Nx=6e4,Ix=36e5,zx=864e5,Fx=6048e5,$x=xe(function(e){e.setTime(Math.floor(e/Rx)*Rx)},function(e,t){e.setTime(+e+t*Rx)},function(e,t){return(t-e)/Rx},function(e){return e.getUTCSeconds()}),Lx=xe(function(e){e.setTime(Math.floor(e/Nx)*Nx)},function(e,t){e.setTime(+e+t*Nx)},function(e,t){return(t-e)/Nx},function(e){return e.getMinutes()}),Ux=xe(function(e){var t=e.getTimezoneOffset()*Nx%Ix;t<0&&(t+=Ix),e.setTime(Math.floor((+e-t)/Ix)*Ix+t)},function(e,t){e.setTime(+e+t*Ix)},function(e,t){return(t-e)/Ix},function(e){return e.getHours()}),Bx=xe(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nx)/zx},function(e){return e.getDate()-1}),qx=we(0),Wx=we(1),Vx=(we(2),we(3),we(4)),Hx=(we(5),we(6),xe(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()})),Gx=xe(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});Gx.every=function(e){return isFinite(e=Math.floor(e))&&e>0?xe(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var Yx=xe(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Nx)},function(e,t){return(t-e)/Nx},function(e){return e.getUTCMinutes()}),Xx=xe(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*Ix)},function(e,t){return(t-e)/Ix},function(e){return e.getUTCHours()}),Kx=xe(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/zx},function(e){return e.getUTCDate()-1}),Qx=Oe(0),Jx=Oe(1),Zx=(Oe(2),Oe(3),Oe(4)),ew=(Oe(5),Oe(6),xe(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()})),tw=xe(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});tw.every=function(e){return isFinite(e=Math.floor(e))&&e>0?xe(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var nw,rw,iw,aw,ow,sw={"-":"",_:" ",0:"0"},lw=/^\s*\d+/,uw=/^%/,cw=/[\\^$*+?|[\]().{}]/g;Rt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var fw="%Y-%m-%dT%H:%M:%S.%LZ",dw=(Date.prototype.toISOString?Nt:aw(fw),+new Date("2000-01-01T00:00:00.000Z")?It:ow(fw),function(e,t,n){t=t||{};var r=Cx(t.type||"json");return r||Qb("Unknown data format type: "+t.type),e=r(e,t),t.parse&&zt(e,t.parse,n),e.hasOwnProperty("columns")&&delete e.columns,e}),pw={skip:!0},hw=function(e,t,n,r,i){var a=e instanceof A?Bt:Ut;return a(this,e,t,n,r,i),this},mw={},gw=1,yw=2,vw=4,bw=gw|yw,_w=gw|vw,xw=gw|yw|vw,ww=8,Ow=16,Sw=32,kw=64,Pw=Vt.prototype;Pw.StopPropagation=mw,Pw.ADD=gw,Pw.REM=yw,Pw.MOD=vw,Pw.ADD_REM=bw,Pw.ADD_MOD=_w,Pw.ALL=xw,Pw.REFLOW=ww,Pw.SOURCE=Ow,Pw.NO_SOURCE=Sw,Pw.NO_FIELDS=kw,Pw.fork=function(e){return new Vt(this.dataflow).init(this,e)},Pw.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?(e=new Vt(this.dataflow).init(this),e.add=e.source,e):e},Pw.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||t&kw||(n.fields=e.fields),t&gw?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&yw?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&vw?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Sw?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},Pw.runAfter=function(e){this.dataflow.runAfter(e)},Pw.changed=function(e){var t=e||xw;return t&gw&&this.add.length||t&yw&&this.rem.length||t&vw&&this.mod.length},Pw.reflow=function(e){if(e)return this.fork(xw).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(vw,Yt(this,gw))),this},Pw.modifies=function(e){var t=v_(e),n=this.fields||(this.fields={});return t.forEach(function(e){n[e]=!0}),this},Pw.modified=function(e){var t=this.fields;return!(!this.mod.length||!t)&&(arguments.length?Zb(e)?e.some(function(e){return t[e]}):t[e]:!!t)},Pw.filter=function(e,t){var n=this;return e&gw&&(n.addF=Ht(n.addF,t)),e&yw&&(n.remF=Ht(n.remF,t)),e&vw&&(n.modF=Ht(n.modF,t)),e&Ow&&(n.srcF=Ht(n.srcF,t)),n},Pw.materialize=function(e){e=e||xw;var t=this;return e&gw&&t.addF&&(t.add=Gt(t.add,t.addF),t.addF=null),e&yw&&t.remF&&(t.rem=Gt(t.rem,t.remF),t.remF=null),e&vw&&t.modF&&(t.mod=Gt(t.mod,t.modF),t.modF=null),e&Ow&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},Pw.visit=function(e,t){var n,r,i=this,a=t;return e&Ow?(U_(i.source,i.srcF,a),i):(e&gw&&U_(i.add,i.addF,a),e&yw&&U_(i.rem,i.remF,a),e&vw&&U_(i.mod,i.modF,a),e&ww&&(n=i.source)&&(r=i.add.length+i.mod.length,r===n.length||(r?U_(n,Yt(i,_w),a):U_(n,i.srcF,a))),i)};var Ew=E_(Xt,Vt);Ew.fork=function(e){var t=new Vt(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,function(e){return t.add.push(e)}),e&t.REM&&this.visit(t.REM,function(e){return t.rem.push(e)}),e&t.MOD&&this.visit(t.MOD,function(e){return t.mod.push(e)})),t},Ew.changed=function(e){return this.changes&e},Ew.modified=function(e){var t=this,n=t.fields;return n&&t.changes&t.MOD?Zb(e)?e.some(function(e){return n[e]}):n[e]:0},Ew.filter=function(){Qb("MultiPulse does not support filtering.")},Ew.materialize=function(){Qb("MultiPulse does not support materialization.")},Ew.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n};var Mw={skip:!1,force:!1},Tw=an.prototype;Tw.size=function(){return this.nodes.length},Tw.clear=function(){return this.nodes=[],this},Tw.peek=function(){return this.nodes[0]},Tw.push=function(e){var t=this.nodes;return t.push(e),on(t,0,t.length-1,this.cmp)},Tw.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,sn(t,0,this.cmp)):e=n,e},Tw.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,sn(t,0,this.cmp),n},Tw.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,sn(t,0,this.cmp)),e};var Cw=ln.prototype;Cw.stamp=function(){return this._clock},Cw.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},Cw.cleanThreshold=1e4,Cw.add=J_,Cw.connect=Z_,Cw.rank=qt,Cw.rerank=Wt,Cw.pulse=rn,Cw.touch=tn,Cw.update=nn,Cw.changeset=T,Cw.ingest=Ft,Cw.request=Lt,Cw.events=nx,Cw.on=hw,Cw.run=Kt,Cw.runAsync=Qt,Cw.runAfter=Jt,Cw._enqueue=Zt,Cw._getPulse=en,Cw.error=un("error"),Cw.warn=un("warn"),Cw.info=un("info"),Cw.debug=un("debug"),Cw.logLevel=un("level");var Aw=E_(cn,A);Aw.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t!==e.StopPropagation&&(this.pulse=t),this.stamp=e.stamp,t},Aw.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},Aw.transform=function(){};var Dw={},jw={values:yn({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:yn({name:"count",set:"cell.num"}),missing:yn({name:"missing",set:"this.missing"}),valid:yn({name:"valid",set:"this.valid"}),sum:yn({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:yn({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:yn({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:yn({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:yn({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:yn({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:yn({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:yn({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),distinct:yn({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:yn({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:yn({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:yn({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:yn({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:yn({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:yn({name:"argmin",init:"this.argmin = null;",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:yn({name:"argmax",init:"this.argmax = null;",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:yn({name:"min",init:"this.min = null;",add:"if (v < this.min || this.min === null) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:yn({name:"max",init:"this.max = null;",add:"if (v > this.max || this.max === null) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Rw=Object.keys(jw),Nw=function(e){var t,n,r,i,a,o,s,l,u=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],p=e.extent[0],h=e.extent[1],m=h-p;if(e.step)t=e.step;else if(e.steps){for(a=m/u,o=0,s=e.steps.length;o<s&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(u)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>u;)t*=c;for(o=0,s=d.length;o<s;++o)a=t/d[o],a>=r&&m/a<=u&&(t=a)}return a=Math.log(t),i=a>=0?0:~~(-a/f)+1,l=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(a=Math.floor(p/t+l)*t,p=p<a?a-t:a,h=Math.ceil(h/t)*t),{start:p,stop:h,step:t}},Iw=function e(t,n){var r,e=[],i=t.length,a=-1;if(null==n)for(;++a<i;)isNaN(r=xn(t[a]))||e.push(r);else for(;++a<i;)isNaN(r=xn(n(t[a],a,t)))||e.push(r);return e};e.random=Math.random;var zw=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},Fw=function(e){return 1===e.length&&(e=On(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}},$w=Fw(zw),Lw=$w.right,Uw=$w.left,Bw=function(e){return null===e?NaN:+e},qw=function(e,t){var n,r,i=e.length,a=0,o=-1,s=0,l=0;if(null==t)for(;++o<i;)isNaN(n=Bw(e[o]))||(r=n-s,s+=r/++a,l+=r*(n-s));else for(;++o<i;)isNaN(n=Bw(t(e[o],o,e)))||(r=n-s,s+=r/++a,l+=r*(n-s));if(a>1)return l/(a-1)},Ww=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){for(;++o<a;)if(null!=(n=e[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=i=n;++o<a;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},Vw=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a},Hw=Math.sqrt(50),Gw=Math.sqrt(10),Yw=Math.sqrt(2),Xw=function e(t,n,r){var i,a,e,o,s=-1;if(n=+n,t=+t,r=+r,t===n&&r>0)return[t];if((i=n<t)&&(a=t,t=n,n=a),0===(o=Sn(t,n,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),e=new Array(a=Math.ceil(n-t+1));++s<a;)e[s]=(t+s)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),e=new Array(a=Math.ceil(t-n+1));++s<a;)e[s]=(t-s)/o;return i&&e.reverse(),e},Kw=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},Qw=function(e,t,n){if(null==n&&(n=Bw),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}},Jw=function e(t,n){var r,e,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(r=t[a])&&r>=r)for(e=r;++a<i;)null!=(r=t[a])&&r>e&&(e=r)}else for(;++a<i;)if(null!=(r=n(t[a],a,t))&&r>=r)for(e=r;++a<i;)null!=(r=n(t[a],a,t))&&r>e&&(e=r);return e},Zw=function(e,t){var n,r=e.length,i=r,a=-1,o=0;if(null==t)for(;++a<r;)isNaN(n=Bw(e[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=Bw(t(e[a],a,e)))?--i:o+=n;if(i)return o/i},eO=function(e,t){var n,r=e.length,i=-1,a=[];if(null==t)for(;++i<r;)isNaN(n=Bw(e[i]))||a.push(n);else for(;++i<r;)isNaN(n=Bw(t(e[i],i,e)))||a.push(n);return Qw(a.sort(zw),.5)},tO=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n},nO=function e(t,n){var r,e,i=t.length,a=-1;if(null==n){for(;++a<i;)if(null!=(r=t[a])&&r>=r)for(e=r;++a<i;)null!=(r=t[a])&&e>r&&(e=r)}else for(;++a<i;)if(null!=(r=n(t[a],a,t))&&r>=r)for(e=r;++a<i;)null!=(r=n(t[a],a,t))&&e>r&&(e=r);return e},rO=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},iO=function e(t,n){var r,i=t.length,a=-1,e=0;if(null==n)for(;++a<i;)(r=+t[a])&&(e+=r);else for(;++a<i;)(r=+n(t[a],a,t))&&(e+=r);return e},aO=function(t,n,r,i){var a,o,s,l,u=Iw(t,i),c=u.length,f=n;for(s=0,l=Array(f);s<f;++s){for(a=0,o=0;o<c;++o)a+=u[~~(e.random()*c)];l[s]=a/c}return[Qw(l.sort(zw),r/2),Qw(l,1-r/2)]},oO=function(e,t){var n=Iw(e,t);return[Qw(n.sort(zw),.25),Qw(n,.5),Qw(n,.75)]},sO=function(t,n){null==n&&(n=t,t=0);var r,i,a,o={};return o.min=function(e){return arguments.length?(r=e||0,a=i-r,o):r},o.max=function(e){return arguments.length?(i=e||0,a=i-r,o):i},o.sample=function(){return r+Math.floor(a*e.random())},o.pdf=function(e){
return e===Math.floor(e)&&e>=r&&e<i?1/a:0},o.cdf=function(e){var t=Math.floor(e);return t<r?0:t>=i?1:(t-r+1)/a},o.icdf=function(e){return e>=0&&e<=1?r-1+Math.floor(e*a):NaN},o.min(t).max(n)},lO=function(t,n){var r,i,a=NaN,o={};return o.mean=function(e){return arguments.length?(r=e||0,a=NaN,o):r},o.stdev=function(e){return arguments.length?(i=null==e?1:e,a=NaN,o):i},o.sample=function(){var t,n,o=0,s=0;if(a===a)return o=a,a=NaN,o;do o=2*e.random()-1,s=2*e.random()-1,t=o*o+s*s;while(0===t||t>1);return n=Math.sqrt(-2*Math.log(t)/t),a=r+s*n*i,r+o*n*i},o.pdf=function(e){var t=Math.exp(Math.pow(e-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*t},o.cdf=function(e){var t,n=(e-r)/i,a=Math.abs(n);if(a>37)t=0;else{var o,s=Math.exp(-a*a/2);a<7.07106781186547?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,t=s*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,t/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,t=s/o/2.506628274631)}return n>0?1-t:t},o.icdf=function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,n=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*n)+Math.log(1-Math.pow(t,2))/2,o=Math.log(1-t*t)/n,s=(t>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return r+i*Math.SQRT2*s},o.mean(t).stdev(n)},uO=function(t,n){var r=lO(),i={},a=0;return i.data=function(e){return arguments.length?(t=e,a=e?e.length:0,i.bandwidth(n)):t},i.bandwidth=function(e){return arguments.length?(n=e,!n&&t&&(n=Pn(t)),i):n},i.sample=function(){return t[~~(e.random()*a)]+n*r.sample()},i.pdf=function(e){for(var i=0,o=0;o<a;++o)i+=r.pdf((e-t[o])/n);return i/n/a},i.cdf=function(e){for(var i=0,o=0;o<a;++o)i+=r.cdf((e-t[o])/n);return i/a},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(t)},cO=function(t,n){function r(e){var t,n=[],r=0;for(t=0;t<o;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<o;++t)n[t]/=r;return n}var i,a={},o=0;return a.weights=function(e){return arguments.length?(i=r(n=e||[]),a):n},a.distributions=function(e){return arguments.length?(e?(o=e.length,t=e):(o=0,t=[]),a.weights(n)):t},a.sample=function(){for(var n=e.random(),r=t[o-1],a=i[0],s=0;s<o-1;a+=i[++s])if(n<a){r=t[s];break}return r.sample()},a.pdf=function(e){for(var n=0,r=0;r<o;++r)n+=i[r]*t[r].pdf(e);return n},a.cdf=function(e){for(var n=0,r=0;r<o;++r)n+=i[r]*t[r].cdf(e);return n},a.icdf=function(){throw Error("Mixture icdf not supported.")},a.distributions(t).weights(n)},fO=function(t,n){null==n&&(n=null==t?1:t,t=0);var r,i,a,o={};return o.min=function(e){return arguments.length?(r=e||0,a=i-r,o):r},o.max=function(e){return arguments.length?(i=e||0,a=i-r,o):i},o.sample=function(){return r+a*e.random()},o.pdf=function(e){return e>=r&&e<=i?1/a:0},o.cdf=function(e){return e<r?0:e>i?1:(e-r)/a},o.icdf=function(e){return e>=0&&e<=1?r+e*a:NaN},o.min(t).max(n)},dO=En.prototype;dO.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},dO.add=function(e){this._add.push(e)},dO.rem=function(e){this._rem.push(e)},dO.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,s=i.length,l=Array(o-s),u={};for(e=0;e<s;++e)u[a(i[e])]=1;for(e=0,t=0;e<o;++e)u[a(n=r[e])]?u[a(n)]=0:l[t++]=n;return this._rem=[],this._add=l},dO.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",i.hasOwnProperty(t)||(i[t]=1,++a);return a},dO.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),n=S_(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},dO.argmin=function(e){return this.extent(e)[0]||{}},dO.argmax=function(e){return this.extent(e)[1]||{}},dO.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):+(1/0)},dO.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-(1/0)},dO.quartile=function(e){return this._get===e&&this._q||(this._q=oO(this.values(),e),this._get=e),this._q},dO.q1=function(e){return this.quartile(e)[0]},dO.q2=function(e){return this.quartile(e)[1]},dO.q3=function(e){return this.quartile(e)[2]},dO.ci=function(e){return this._get===e&&this._ci||(this._ci=aO(this.values(),1e3,.05,e),this._get=e),this._ci},dO.ci0=function(e){return this.ci(e)[0]},dO.ci1=function(e){return this.ci(e)[1]},Mn.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Rw},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};var pO=E_(Mn,cn);pO.transform=function(e,t){var n,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=e.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(this.value=this.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),i.modifies(this._outputs),r._drop=e.drop!==!1,e.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},pO.cross=function(){function e(e){var t,n,r,s;for(t in e)for(r=e[t].tuple,n=0;n<o;++n)a[n][s=r[i[n]]]=s}function t(e,s,l){var u,c,f=i[l],d=a[l++];for(u in d)s[f]=d[u],c=e?e+"|"+u:u,l<o?t(c,s,l):r[c]||n.cell(c,s)}var n=this,r=n.value,i=n._dnames,a=i.map(function(){return{}}),o=i.length;e(n._prev),e(r),t("",{},0)},pO.init=function(e){function n(e){for(var t,n=v_(r(e)),a=0,s=n.length;a<s;++a)o[t=n[a]]||(o[t]=1,i.push(t))}var i=this._inputs=[],a=this._outputs=[],o={};this._dims=v_(e.groupby),this._dnames=this._dims.map(function(e){var r=t(e);return n(e),a.push(r),r}),this.cellkey=e.key?e.key:hn(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];var s,l,u,c,f,d,p=e.fields||[null],h=e.ops||["count"],m=e.as||[],g=p.length,y={};for(g!==h.length&&Qb("Unmatched number of fields and aggregate ops."),d=0;d<g;++d)s=p[d],l=h[d],null==s&&"count"!==l&&Qb("Null aggregate field specified."),c=t(s),f=mn(l,c,m[d]),a.push(f),"count"!==l?(u=y[c],u||(n(s),u=y[c]=[],u.field=s,this._measures.push(u)),"count"!==l&&(this._countOnly=!1),u.push(gn(l,f))):this._counts.push(f);return this._measures=this._measures.map(function(e){return _n(e,e.field)}),{}},pO.cellkey=hn(),pO.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},pO.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n)}return n.store&&(n.data=new En),n},pO.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?E(t.tuple,o):S(o)},pO.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].add(t[n].get(e),e)},pO.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].rem(t[n].get(e),e)},pO.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(t=e.agg,n=0,r=t.length;n<r;++n)t[n].set(i);return i},pO.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,s=this._prev,l=this._drop,u=e.add,c=e.rem,f=e.mod;if(s)for(n in s)t=s[n],l&&!t.num||c.push(t.tuple);for(r=0,i=this._alen;r<i;++r)u.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)t=o[r],(0===t.num&&l?c:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e},Tn.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};var hO=E_(Tn,cn);hO.transform=function(e,t){var n,i=this._bins(e),a=i.start,o=i.step,s=e.as||["bin0","bin1"],l=s[0],u=s[1];return e.modified()?(t=t.reflow(!0),n=t.SOURCE):n=t.modified(r(e.field))?t.ADD_MOD:t.ADD,t.visit(n,function(e){var t=i(e);e[l]=t,e[u]=null==t?null:a+o*(1+(t-a)/o)}),t.modifies(s)},hO._bins=function(e){if(this.value&&!e.modified())return this.value;var n,i,a=e.field,o=Nw(e),s=o.start,l=o.stop,u=o.step;null!=(n=e.anchor)&&(i=n-(s+u*Math.floor((n-s)/u)),s+=i,l+=i);var c=function(e){var t=a(e);return null==t?null:(t=Math.max(s,Math.min(+t,l-u)),s+u*Math.floor((t-s)/u))};return c.start=s,c.stop=l,c.step=u,this.value=Kb(c,r(a),e.name||"bin_"+t(a))};var mO=function(e,t,n){var r=e,i=t||[],a=n||[],o={},s=0;return{add:function(e){a.push(e)},remove:function(e){o[r(e)]=++s},size:function(){return i.length},data:function(e,t){return s&&(i=i.filter(function(e){return!o[r(e)]}),o={},s=0),t&&e&&i.sort(e),a.length&&(i=e?j_(e,i,a.sort(e)):i.concat(a),a=[]),i}}};Cn.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};var gO=E_(Cn,cn);gO.transform=function(e,t){var n=t.fork(t.ALL),r=mO(w,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(i,a),n},E_(An,A),jn.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};var yO=E_(jn,cn);yO.transform=function(e,t){function n(t){return function(n){for(var r,i=Rn(s(n),e.case,a)||[],l=0,u=i.length;l<u;++l)o.test(r=i[l])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,l=e.as||["text","count"],u=n(function(e){i[e]=1+(i[e]||0)}),c=n(function(e){i[e]-=1});return r?t.visit(t.SOURCE,u):(t.visit(t.ADD,u),t.visit(t.REM,c)),this._finish(t,l)},yO._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},yO._finish=function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),s=t[0],l=t[1],u=e.fork();for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=S({}),r[s]=n,r[l]=i,u.add.push(r)):0===i?(r&&u.rem.push(r),a[n]=null,o[n]=null):r[l]!==i&&(r[l]=i,u.mod.push(r));return u.modifies(t)},Nn.Definition={type:"Cross",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};var vO=E_(Nn,cn);vO.transform=function(e,t){var n=t.fork(t.NO_SOURCE),r=this.value,i=e.as||["a","b"],a=i[0],o=i[1],s=!r||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");return s?(r&&(n.rem=r),n.add=this.value=In(t.source,a,o,e.filter||l_)):n.mod=r,n.source=this.value,n.modifies(i)};var bO={kde:uO,mixture:cO,normal:lO,uniform:fO},_O="distributions",xO="function",wO="field",OO=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],SO={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:OO},{name:"weights",type:"number",array:!0}]};Fn.Definition={type:"Density",metadata:{generates:!0,source:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:OO.concat(SO)},{name:"as",type:"string",array:!0,default:["value","density"]}]};var kO=E_(Fn,cn);kO.transform=function(e,t){var n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){var r=zn(e.distribution,$n(t)),i=e.method||"pdf";"pdf"!==i&&"cdf"!==i&&Qb("Invalid density method: "+i),e.extent||r.data||Qb("Missing density extent parameter."),i=r[i];var a=e.as||["value","density"],o=e.extent||Ww(r.data()),s=(o[1]-o[0])/(e.steps||100),l=Vw(o[0],o[1]+s/2,s).map(function(e){var t={};return t[a[0]]=e,t[a[1]]=i(e),S(t)});this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n},Ln.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};var PO=E_(Ln,cn);PO.transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1],s=t.ADD;n=t.changed()||t.modified(i.fields)||e.modified("field"),n&&(s=t.SOURCE,a=+(1/0),o=-(1/0)),t.visit(s,function(e){var t=i(e);null!=t&&(t<a&&(a=t),t>o&&(o=t))}),this.value=[a,o]};var EO=E_(Un,A);EO.connect=function(e){return this.targets().add(e),e.source=this},EO.add=function(e){this.value.add.push(e)},EO.rem=function(e){this.value.rem.push(e)},EO.mod=function(e){this.value.mod.push(e)},EO.init=function(e){this.value.init(e,e.NO_SOURCE)},EO.evaluate=function(){return this.value};var MO=E_(Bn,cn);MO.activate=function(e){this._targets[this._targets.active++]=e},MO.subflow=function(e,t,n,r){var i,a,o=this.value,s=o.hasOwnProperty(e)&&o[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,s=i.add(new Un(n.fork(n.NO_SOURCE),this)).connect(t(i,e,a)),o[e]=s,this.activate(s)),s},MO.transform=function(e,t){function n(e){return i.subflow(e,o,t)}var r=t.dataflow,i=this,a=e.key,o=e.subflow,s=this._keys,l=e.modified("key");return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,function(e){var t=w(e),r=s.get(t);void 0!==r&&(s.delete(t),n(r).rem(e))}),t.visit(t.ADD,function(e){var t=a(e);s.set(w(e),t),n(t).add(e)}),l||t.modified(a.fields)?t.visit(t.MOD,function(e){var t=w(e),r=s.get(t),i=a(e);r===i?n(i).mod(e):(s.set(t,i),n(r).rem(e),n(i).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,function(e){n(s.get(w(e))).mod(e)}),l&&t.visit(t.REFLOW,function(e){var t=w(e),r=s.get(t),i=a(e);r!==i&&(s.set(t,i),n(r).rem(e),n(i).add(e))}),s.empty>r.cleanThreshold&&r.runAfter(s.clean),t},E_(qn,A),Vn.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};var TO=E_(Vn,cn);TO.transform=function(e,t){function n(t){var n=w(t),r=u(t,e),a=i.get(n);r&&a?(i.delete(n),o.push(t)):r||a?c&&r&&!a&&l.push(t):(i.set(n,1),s.push(t))}var r=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,l=a.mod,u=e.expr,c=!0;return t.visit(t.REM,function(e){var t=w(e);i.has(t)?i.delete(t):s.push(e)}),t.visit(t.ADD,function(t){u(t,e)?o.push(t):i.set(w(t),1)}),t.visit(t.MOD,n),e.modified()&&(c=!1,t.visit(t.REFLOW,n)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),a},Hn.Definition={type:"Fold",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};var CO=E_(Hn,cn);CO.transform=function(e,t){function n(e){for(var t,n=a[w(e)]=Array(d),r=0;r<d;++r)t=n[r]=k(e),t[u]=f[r],t[c]=s[r](e),h.add.push(t)}function r(e){for(var t,n=a[w(e)],r=0;r<d;++r)g&1<<r&&(t=P(e,n[r],p),t[u]=f[r],t[c]=s[r](e),h.mod.push(t))}var i,a=this.value,o=e.modified("fields"),s=e.fields,l=e.as||["key","value"],u=l[0],c=l[1],f=s.map(Gn),d=s.length,p=t.stamp,h=t.fork(t.NO_SOURCE),m=0,g=0;if(o){for(i in a)h.rem.push.apply(h.rem,a[i]);a=this.value={},t.visit(t.SOURCE,n)}else{for(t.visit(t.ADD,n);m<d;++m)t.modified(s[m].fields)&&(g|=1<<m);g&&t.visit(t.MOD,r),t.visit(t.REM,function(e){var t=w(e);h.rem.push.apply(h.rem,a[t]),a[t]=null})}return h.modifies(l)},Yn.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};var AO=E_(Yn,cn);AO.transform=function(e,t){function n(t){t[i]=r(t,e)}var r=e.expr,i=e.as,a=e.modified(),o=e.initonly?t.ADD:a?t.SOURCE:t.modified(r.fields)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,n)};var DO=E_(Xn,cn);DO.transform=function(e,t){var n,r,i,a=this.value,o=t.fork(t.ALL),s=e.size-a.length,l=e.generator;if(s>0){for(n=[];--s>=0;)n.push(i=S(l(e))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=a.slice(0,-s),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-s);return o.source=this.value=a,o};var jO={value:"value",median:eO,mean:Zw,min:nO,max:Jw},RO=[];Kn.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};var NO=E_(Kn,cn);NO.transform=function(e,n){var r,i,a,o,s,l,u,c,f,d,p=n.fork(n.ALL),h=Qn(e),m=Jn(e),g=t(e.field),y=t(e.key),v=(e.groupby||[]).map(t),b=Zn(n.source,e.groupby,e.key,e.keyvals),_=[],x=this.value,w=b.domain.length;for(s=0,c=b.length;s<c;++s)for(r=b[s],a=r.values,i=NaN,u=0;u<w;++u)if(null==r[u]){for(o=b.domain[u],d={_impute:!0},l=0,f=a.length;l<f;++l)d[v[l]]=a[l];d[y]=o,d[g]=isNaN(i)?i=h(r,m):i,_.push(S(d))}return _.length&&(p.add=p.materialize(p.ADD).add.concat(_)),x.length&&(p.rem=p.materialize(p.REM).rem.concat(x)),this.value=_,p},er.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:Rw},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};var IO=E_(er,Mn);IO.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(n=r.value=r.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),r.changes(),t.visit(t.SOURCE,function(e){O_(e,n[r.cellkey(e)].tuple)}),t.reflow(i).modifies(this._outputs)},IO.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},E_(tr,A),rr.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};var zO=E_(rr,cn);zO.transform=function(e,n){var r,i,a,o=n,s=e.as,l=e.fields,u=e.index,c=e.values,f=null==e.default?null:e.default,d=e.modified(),p=d?n.SOURCE:n.ADD,h=l.length;return c?(i=c.length,h>1&&!s&&Qb('Multi-field lookup requires explicit "as" parameter.'),s&&s.length!==h*i&&Qb('The "as" parameter has too few output field names.'),s=s||c.map(t),r=function(e){for(var t,n,r=0,a=0;r<h;++r)if(n=u.get(l[r](e)),null==n)for(t=0;t<i;++t,++a)e[s[a]]=f;else for(t=0;t<i;++t,++a)e[s[a]]=c[t](n)}):(s||Qb("Missing output field names."),r=function(e){for(var t,n=0;n<h;++n)t=u.get(l[n](e)),e[s[n]]=null==t?f:t}),d?o=n.reflow(!0):(a=l.some(function(e){return n.modified(e.fields)}),p|=a?n.MOD:0),n.visit(p,r),o.modifies(s)},E_(ir,A),E_(or,A),E_(lr,cn),lr.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)};var FO=E_(ur,Bn);FO.transform=function(e,t){var n=this,i=e.subflow,a=e.field;return(e.modified("field")||a&&t.modified(r(a)))&&Qb("PreFacet does not support field modification."),this._targets.active=0,t.visit(t.MOD,function(e){var r=n.subflow(w(e),i,t,e);a?a(e).forEach(function(e){r.mod(e)}):r.mod(e)}),t.visit(t.ADD,function(e){var r=n.subflow(w(e),i,t,e);a?a(e).forEach(function(e){r.add(S(e))}):r.add(e)}),t.visit(t.REM,function(e){var r=n.subflow(w(e),i,t,e);a?a(e).forEach(function(e){r.rem(e)}):r.rem(e)}),t},cr.Definition={type:"Project",metadata:{generates:!0,changes:!0,modifies:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};var $O=E_(cr,cn);$O.transform=function(e,t){var n,r,i=e.fields,a=fr(e.fields,e.as||[]),o=i?function(e,t){return dr(e,t,i,a)}:P;return this.value?r=this.value:(t=t.addAll(),r=this.value={}),n=t.fork(),t.visit(t.REM,function(e){var t=w(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,function(e){var t=o(e,S({}));r[w(e)]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(o(e,r[w(e)]))}),n};var LO=E_(pr,cn);LO.transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var UO=E_(hr,cn);UO.transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(),t.visit(t.REM,function(e){var t=w(e);n.rem.push(r[t]),r[t]=null}),t.visit(t.ADD,function(e){var t=k(e);r[w(e)]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(P(e,r[w(e)]))})),n},mr.Definition={type:"Sample",metadata:{source:!0,changes:!0},params:[{name:"size",type:"number",default:1e3}]};var BO=E_(mr,cn);BO.transform=function(t,n){function r(t){var n,r;s.length<o?s.push(t):(r=~~((l+1)*e.random()),r<s.length&&r>=u&&(n=s[r],c[w(n)]&&i.rem.push(n),s[r]=t)),++l}var i=n.fork(),a=t.modified("size"),o=t.size,s=this.value,l=this.count,u=0,c=s.reduce(function(e,t){return e[w(t)]=1,e},{});if(n.rem.length&&(n.visit(n.REM,function(e){var t=w(e);c[t]&&(c[t]=-1,i.rem.push(e)),--l}),s=s.filter(function(e){return c[w(e)]!==-1})),(n.rem.length||a)&&s.length<o&&n.source&&(u=l=s.length,n.visit(n.SOURCE,function(e){c[w(e)]||r(e)}),u=-1),a&&s.length>o){for(var f=0,d=s.length-o;f<d;++f)c[w(s[f])]=-1,i.rem.push(s[f]);s=s.slice(d)}return n.mod.length&&n.visit(n.MOD,function(e){c[w(e)]&&i.mod.push(e)}),n.add.length&&n.visit(n.ADD,r),(n.add.length||u<0)&&(i.add=s.filter(function(e){return!c[w(e)]})),this.count=l,this.value=i.source=s,i},gr.Definition={type:"Sequence",metadata:{generates:!0,source:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1}],output:["value"]};var qO=E_(gr,cn);qO.transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD);return n.rem=this.value?t.rem.concat(this.value):t.rem,n.source=this.value=Vw(e.start,e.stop,e.step||1).map(S),n.add=t.add.concat(this.value),n}};var WO=E_(yr,cn);WO.transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var VO=E_(vr,cn);VO.transform=function(e,t){function n(e){a.set(i(e),e)}var r=t.dataflow,i=e.field,a=this.value,o=!0;return e.modified("field")||t.modified(i.fields)?(a.clear(),t.visit(t.SOURCE,n)):t.changed()?(t.visit(t.REM,function(e){a.delete(i(e))}),t.visit(t.ADD,n)):o=!1,this.modified(o),a.empty>r.cleanThreshold&&r.runAfter(a.clean),t.fork()};var HO=E_(br,cn);HO.transform=function(e,t){var n=!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields);n&&(this.value=(e.sort?t.source.slice().sort(e.sort):t.source).map(e.field))};var GO={row_number:function(){return{next:function(e){return e.index+1}}},rank:function e(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){var e;return{init:function(){e=1},next:function(t){var n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){var e=GO.rank(),t=e.next;return{init:e.init,next:function(e){return(t(e)-1)/(e.data.length-1)}}},cume_dist:function(){var e;return{init:function(){e=0},next:function(t){var n=t.index,r=t.data,i=t.compare;if(e<n){for(;n+1<r.length&&!i(r[n],r[n+1]);)++n;e=n}return(1+e)/r.length}}},ntile:function(e,t){t=+t,t>0||Qb("ntile num must be greater than zero.");var n=GO.cume_dist(),r=n.next;return{init:n.init,next:function(e){return Math.ceil(t*r(e))}}},lag:function(e,t){return t=+t||1,{next:function(n){var r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:function(n){var r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:function(t){return e(t.data[t.i0])}}},last_value:function(e){return{next:function(t){return e(t.data[t.i1-1])}}},nth_value:function(e,t){return t=+t,t>0||Qb("nth_value nth must be greater than zero."),{next:function(n){var r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}}},YO=Object.keys(GO),XO=xr.prototype;XO.init=function(){this.windows.forEach(function(e){e.init()}),this.cell&&this.cell.init()},XO.update=function(e,t){var n,r=this,i=r.cell,a=r.windows,o=e.data,s=a&&a.length;if(i){for(n=e.p0;n<e.i0;++n)i.rem(o[n]);for(n=e.p1;n<e.i1;++n)i.add(o[n]);i.set(t)}for(n=0;n<s;++n)a[n].update(e,t)},Or.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:YO.concat(Rw)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};var KO=E_(Or,cn);KO.transform=function(e,t){function n(e){return a.group(l(e))}var r,i,a=this,o=a.state,s=e.modified();this.stamp=t.stamp,o&&!s||(o=a.state=new xr(e));var l=hn(e.groupby);for(s||t.modified(o.inputs)?(a.value={},t.visit(t.SOURCE,function(e){n(e).add(e)})):(t.visit(t.REM,function(e){n(e).remove(e)}),t.visit(t.ADD,function(e){n(e).add(e)})),r=0,i=a._mlen;r<i;++r)Sr(a._mods[r],o,e);return a._mlen=0,a._mods=[],t.reflow(s).modifies(o.outputs)},KO.group=function(e){var t=this,n=t.value[e];return n||(n=t.value[e]=mO(w),n.stamp=-1),n.stamp<t.stamp&&(n.stamp=t.stamp,t._mods[t._mlen++]=n),n};var QO=Object.freeze({aggregate:Mn,bin:Tn,collect:Cn,compare:An,countpattern:jn,cross:Nn,density:Fn,extent:Ln,facet:Bn,field:qn,filter:Vn,fold:Hn,formula:Yn,generate:Xn,impute:Kn,joinaggregate:er,key:tr,lookup:rr,multiextent:ir,multivalues:or,params:lr,prefacet:ur,project:cr,proxy:pr,relay:hr,sample:mr,sequence:gr,sieve:yr,subflow:Un,tupleindex:vr,values:br,window:Or}),JO=Er.prototype;JO.clone=function(){return new Er(this)},JO.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},JO.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},JO.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},JO.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},JO.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},JO.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},JO.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},JO.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,o=n-t*i-n*r,s=this.x1,l=this.x2,u=this.y1,c=this.y2;return this.clear().add(r*s-i*u+a,i*s+r*u+o).add(r*s-i*c+a,i*s+r*c+o).add(r*l-i*u+a,i*l+r*u+o).add(r*l-i*c+a,i*l+r*c+o)},JO.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},JO.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},JO.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},JO.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},JO.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},JO.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},JO.width=function(){return this.x2-this.x1},JO.height=function(){return this.y2-this.y1};var ZO=0,eS=function(e,t){var n,r=[];return n={id:"gradient_"+ZO++,x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};E_(Tr,Mr);var tS;try{if(tS=n(543),!tS)throw 1}catch(nS){try{tS=n(544)}catch(rS){tS=null}}var iS=Ir.prototype;iS.pending=function(){return this._pending},iS.sanitizeURL=function(e){var t=this;return zr(t),t._loader.sanitize(e,{context:"href"}).then(function(e){return Fr(t),e}).catch(function(){return Fr(t),null})},iS.loadImage=function(e){var t=this,n=Nr();return zr(t),t._loader.sanitize(e,{context:"image"}).then(function(e){var r=e.href;if(!r||!n)throw{url:r};var i=new n;return i.onload=function(){Fr(t),i.loaded=!0},i.onerror=function(){Fr(t),i.loaded=!1},i.src=r,i}).catch(function(e){return Fr(t),{loaded:!1,width:0,height:0,src:e&&e.url||""}})},iS.ready=function(){var e=this;return new Promise(function(t){function n(r){e.pending()?setTimeout(function(){n(!0)},10):t(r)}n(!1)})};var aS=Math.PI,oS=2*aS,sS=1e-6,lS=oS-sS;$r.prototype=Lr.prototype={constructor:$r,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-e,l=r-t,u=a-e,c=o-t,f=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>sS)if(Math.abs(c*s-l*u)>sS&&i){var d=n-a,p=r-o,h=s*s+l*l,m=d*d+p*p,g=Math.sqrt(h),y=Math.sqrt(f),v=i*Math.tan((aS-Math.acos((h+f-m)/(2*g*y)))/2),b=v/y,_=v/g;Math.abs(b-1)>sS&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*p)+","+(this._x1=e+_*s)+","+(this._y1=t+_*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,n=+n;var o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,u=t+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>sS||Math.abs(this._y1-u)>sS)&&(this._+="L"+l+","+u),n&&(f<0&&(f=f%oS+oS),f>lS?this._+="A"+n+","+n+",0,1,"+c+","+(e-o)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):f>sS&&(this._+="A"+n+","+n+",0,"+ +(f>=aS)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var uS=function(e){return function(){return e}},cS=Math.abs,fS=Math.atan2,dS=Math.cos,pS=Math.max,hS=Math.min,mS=Math.sin,gS=Math.sqrt,yS=1e-12,vS=Math.PI,bS=vS/2,_S=2*vS,xS=function(){function e(){var e,u,c=+t.apply(this,arguments),f=+n.apply(this,arguments),d=a.apply(this,arguments)-bS,p=o.apply(this,arguments)-bS,h=cS(p-d),m=p>d;if(l||(l=e=Lr()),f<c&&(u=f,f=c,c=u),f>yS)if(h>_S-yS)l.moveTo(f*dS(d),f*mS(d)),
l.arc(0,0,f,d,p,!m),c>yS&&(l.moveTo(c*dS(p),c*mS(p)),l.arc(0,0,c,p,d,m));else{var g,y,v=d,b=p,_=d,x=p,w=h,O=h,S=s.apply(this,arguments)/2,k=S>yS&&(i?+i.apply(this,arguments):gS(c*c+f*f)),P=hS(cS(f-c)/2,+r.apply(this,arguments)),E=P,M=P;if(k>yS){var T=Br(k/c*mS(S)),C=Br(k/f*mS(S));(w-=2*T)>yS?(T*=m?1:-1,_+=T,x-=T):(w=0,_=x=(d+p)/2),(O-=2*C)>yS?(C*=m?1:-1,v+=C,b-=C):(O=0,v=b=(d+p)/2)}var A=f*dS(v),D=f*mS(v),j=c*dS(x),R=c*mS(x);if(P>yS){var N=f*dS(b),I=f*mS(b),z=c*dS(_),F=c*mS(_);if(h<vS){var $=w>yS?Yr(A,D,z,F,N,I,j,R):[j,R],L=A-$[0],U=D-$[1],B=N-$[0],q=I-$[1],W=1/mS(Ur((L*B+U*q)/(gS(L*L+U*U)*gS(B*B+q*q)))/2),V=gS($[0]*$[0]+$[1]*$[1]);E=hS(P,(c-V)/(W-1)),M=hS(P,(f-V)/(W+1))}}O>yS?M>yS?(g=Xr(z,F,A,D,f,M,m),y=Xr(N,I,j,R,f,M,m),l.moveTo(g.cx+g.x01,g.cy+g.y01),M<P?l.arc(g.cx,g.cy,M,fS(g.y01,g.x01),fS(y.y01,y.x01),!m):(l.arc(g.cx,g.cy,M,fS(g.y01,g.x01),fS(g.y11,g.x11),!m),l.arc(0,0,f,fS(g.cy+g.y11,g.cx+g.x11),fS(y.cy+y.y11,y.cx+y.x11),!m),l.arc(y.cx,y.cy,M,fS(y.y11,y.x11),fS(y.y01,y.x01),!m))):(l.moveTo(A,D),l.arc(0,0,f,v,b,!m)):l.moveTo(A,D),c>yS&&w>yS?E>yS?(g=Xr(j,R,N,I,c,-E,m),y=Xr(A,D,z,F,c,-E,m),l.lineTo(g.cx+g.x01,g.cy+g.y01),E<P?l.arc(g.cx,g.cy,E,fS(g.y01,g.x01),fS(y.y01,y.x01),!m):(l.arc(g.cx,g.cy,E,fS(g.y01,g.x01),fS(g.y11,g.x11),!m),l.arc(0,0,c,fS(g.cy+g.y11,g.cx+g.x11),fS(y.cy+y.y11,y.cx+y.x11),m),l.arc(y.cx,y.cy,E,fS(y.y11,y.x11),fS(y.y01,y.x01),!m))):l.arc(0,0,c,x,_,m):l.lineTo(j,R)}else l.moveTo(0,0);if(l.closePath(),e)return l=null,e+""||null}var t=qr,n=Wr,r=uS(0),i=null,a=Vr,o=Hr,s=Gr,l=null;return e.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-vS/2;return[dS(r)*e,mS(r)*e]},e.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:uS(+n),e):t},e.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:uS(+t),e):n},e.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:uS(+t),e):r},e.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:uS(+t),e):i},e.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:uS(+t),e):a},e.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:uS(+t),e):o},e.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:uS(+t),e):s},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e};Kr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var wS=function(e){return new Kr(e)},OS=function(){function e(e){var s,l,u,c=e.length,f=!1;for(null==i&&(o=a(u=Lr())),s=0;s<=c;++s)!(s<c&&r(l=e[s],s,e))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(l,s,e),+n(l,s,e));if(u)return o=null,u+""||null}var t=Qr,n=Jr,r=uS(!0),i=null,a=wS,o=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:uS(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:uS(+t),e):n},e.defined=function(t){return arguments.length?(r="function"==typeof t?t:uS(!!t),e):r},e.curve=function(t){return arguments.length?(a=t,null!=i&&(o=a(i)),e):a},e.context=function(t){return arguments.length?(null==t?i=o=null:o=a(i=t),e):i},e},SS=function(){function e(e){var t,c,f,d,p,h=e.length,m=!1,g=new Array(h),y=new Array(h);for(null==s&&(u=l(p=Lr())),t=0;t<=h;++t){if(!(t<h&&o(d=e[t],t,e))===m)if(m=!m)c=t,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=t-1;f>=c;--f)u.point(g[f],y[f]);u.lineEnd(),u.areaEnd()}m&&(g[t]=+n(d,t,e),y[t]=+i(d,t,e),u.point(r?+r(d,t,e):g[t],a?+a(d,t,e):y[t]))}if(p)return u=null,p+""||null}function t(){return OS().defined(o).curve(l).context(s)}var n=Qr,r=null,i=uS(0),a=Jr,o=uS(!0),s=null,l=wS,u=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:uS(+t),r=null,e):n},e.x0=function(t){return arguments.length?(n="function"==typeof t?t:uS(+t),e):n},e.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:uS(+t),e):r},e.y=function(t){return arguments.length?(i="function"==typeof t?t:uS(+t),a=null,e):i},e.y0=function(t){return arguments.length?(i="function"==typeof t?t:uS(+t),e):i},e.y1=function(t){return arguments.length?(a=null==t?null:"function"==typeof t?t:uS(+t),e):a},e.lineX0=e.lineY0=function(){return t().x(n).y(i)},e.lineY1=function(){return t().x(n).y(a)},e.lineX1=function(){return t().x(r).y(i)},e.defined=function(t){return arguments.length?(o="function"==typeof t?t:uS(!!t),e):o},e.curve=function(t){return arguments.length?(l=t,null!=s&&(u=l(s)),e):l},e.context=function(t){return arguments.length?(null==t?s=u=null:u=l(s=t),e):s},e},kS={draw:function(e,t){var n=Math.sqrt(t/vS);e.moveTo(n,0),e.arc(0,0,n,0,_S)}},PS=function(){function e(){var e;if(r||(r=e=Lr()),t.apply(this,arguments).draw(r,+n.apply(this,arguments)),e)return r=null,e+""||null}var t=uS(kS),n=uS(64),r=null;return e.type=function(n){return arguments.length?(t="function"==typeof n?n:uS(n),e):t},e.size=function(t){return arguments.length?(n="function"==typeof t?t:uS(+t),e):n},e.context=function(t){return arguments.length?(r=null==t?null:t,e):r},e},ES=function(){};ei.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zr(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var MS=function(e){return new ei(e)};ti.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var TS=function(e){return new ti(e)};ni.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zr(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var CS=function(e){return new ni(e)};ri.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+r*o),this._beta*t[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var AS=function e(t){function n(e){return 1===t?new ei(e):new ri(e,t)}return n.beta=function(t){return e(+t)},n}(.85);ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ii(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ii(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var DS=function e(t){function n(e){return new ai(e,t)}return n.tension=function(t){return e(+t)},n}(0);oi.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ii(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var jS=function e(t){function n(e){return new oi(e,t)}return n.tension=function(t){return e(+t)},n}(0);si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ii(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var RS=function e(t){function n(e){return new si(e,t)}return n.tension=function(t){return e(+t)},n}(0);ui.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:li(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var NS=function e(t){function n(e){return t?new ui(e,t):new ai(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);ci.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:li(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var IS=function e(t){function n(e){return t?new ci(e,t):new oi(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);fi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:li(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var zS=function e(t){function n(e){return t?new fi(e,t):new si(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);di.prototype={areaStart:ES,areaEnd:ES,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var FS=function(e){return new di(e)};yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gi(this,this._t0,mi(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gi(this,mi(this,n=hi(this,e,t)),n);break;default:gi(this,this._t0,n=hi(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(vi.prototype=Object.create(yi.prototype)).point=function(e,t){yi.prototype.point.call(this,t,e)},bi.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},wi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Oi(e),i=Oi(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var $S=function(e){return new wi(e)};Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var LS,US=function(e){return new Si(e,.5)},BS={basis:{curve:MS},"basis-closed":{curve:TS},"basis-open":{curve:CS},bundle:{curve:AS,tension:"beta",value:.85},cardinal:{curve:DS,tension:"tension",value:0},"cardinal-open":{curve:RS,tension:"tension",value:0},"cardinal-closed":{curve:jS,tension:"tension",value:0},"catmull-rom":{curve:NS,tension:"alpha",value:.5},"catmull-rom-closed":{curve:IS,tension:"alpha",value:.5},"catmull-rom-open":{curve:zS,tension:"alpha",value:.5},linear:{curve:wS},"linear-closed":{curve:FS},monotone:{horizontal:xi,vertical:_i},natural:{curve:$S},step:{curve:US},"step-after":{curve:Pi},"step-before":{curve:ki}},qS={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},WS=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],VS=function(e){var t,n,r,i,a,o,s,l,u,c,f,d=[];for(t=e.slice().replace(WS[0],"###$1").split(WS[1]).slice(1),l=0,c=t.length;l<c;++l){for(n=t[l],r=n.slice(1).trim().replace(WS[2],"$1###$2").split(WS[3]),o=n.charAt(0),i=[o],u=0,f=r.length;u<f;++u)(a=+r[u])===a&&i.push(a);if(s=qS[o.toLowerCase()],i.length-1>s)for(u=1,f=i.length;u<f;u+=s)d.push([o].concat(i.slice(u,u+s)));else d.push(i)}return d},HS={},GS={},YS=[].join,XS=["l",0,0,0,0,0,0,0],KS=function(e,t,n,r,i){var a,o,s,l,u,c=null,f=0,d=0,p=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(a=t[m],1!==i&&(a=Ci(a,i)),a[0]){case"l":f+=a[1],d+=a[2],e.lineTo(f+n,d+r);break;case"L":f=a[1],d=a[2],e.lineTo(f+n,d+r);break;case"h":f+=a[1],e.lineTo(f+n,d+r);break;case"H":f=a[1],e.lineTo(f+n,d+r);break;case"v":d+=a[1],e.lineTo(f+n,d+r);break;case"V":d=a[1],e.lineTo(f+n,d+r);break;case"m":f+=a[1],d+=a[2],e.moveTo(f+n,d+r);break;case"M":f=a[1],d=a[2],e.moveTo(f+n,d+r);break;case"c":o=f+a[5],s=d+a[6],p=f+a[3],h=d+a[4],e.bezierCurveTo(f+a[1]+n,d+a[2]+r,p+n,h+r,o+n,s+r),f=o,d=s;break;case"C":f=a[5],d=a[6],p=a[3],h=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,h+r,f+n,d+r);break;case"s":o=f+a[3],s=d+a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,f+a[1]+n,d+a[2]+r,o+n,s+r),p=f+a[1],h=d+a[2],f=o,d=s;break;case"S":o=a[3],s=a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"q":o=f+a[3],s=d+a[4],p=f+a[1],h=d+a[2],e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"Q":o=a[3],s=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"t":o=f+a[1],s=d+a[2],null===c[0].match(/[QqTt]/)?(p=f,h=d):"t"===c[0]?(p=2*f-l,h=2*d-u):"q"===c[0]&&(p=2*f-p,h=2*d-h),l=p,u=h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s,p=f+a[1],h=d+a[2];break;case"T":o=a[1],s=a[2],p=2*f-p,h=2*d-h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"a":Ai(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+d+r]),f+=a[6],d+=a[7];break;case"A":Ai(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),f=a[6],d=a[7];break;case"z":case"Z":e.closePath()}c=a}},QS=2*Math.PI,JS=Math.sqrt(3)/2,ZS={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,QS)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=JS*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=JS*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=JS*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=JS*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}}},ek={},tk=function(){function e(e,s,l){var u,c=null!=s?s:+t.call(this,e),f=null!=l?l:+n.call(this,e),d=+r.call(this,e),p=+i.call(this,e),h=+a.call(this,e);if(o||(o=u=Lr()),h<=0)o.rect(c,f,d,p);else{var m=c+d,g=f+p;o.moveTo(c+h,f),o.lineTo(m-h,f),o.quadraticCurveTo(m,f,m,f+h),o.lineTo(m,g-h),o.quadraticCurveTo(m,g,m-h,g),o.lineTo(c+h,g),o.quadraticCurveTo(c,g,c,g-h),o.lineTo(c,f+h),o.quadraticCurveTo(c,f,c+h,f),o.closePath()}if(u)return o=null,u+""||null}var t=Ri,n=Ni,r=Ii,i=zi,a=Fi(0),o=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:Fi(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:Fi(+t),e):n},e.width=function(t){return arguments.length?(r="function"==typeof t?t:Fi(+t),e):r},e.height=function(t){return arguments.length?(i="function"==typeof t?t:Fi(+t),e):i},e.cornerRadius=function(t){return arguments.length?(a="function"==typeof t?t:Fi(+t),e):a},e.context=function(t){return arguments.length?(o=null==t?null:t,e):o},e},nk=Math.PI,rk=function(){function e(e,t,n){var r=n/2;if(o){var i=l-t,a=e-s;if(i||a){var f=Math.sqrt(i*i+a*a),d=(i/=f)*u,p=(a/=f)*u,h=Math.atan2(a,i);c.moveTo(s-d,l-p),c.lineTo(e-i*r,t-a*r),c.arc(e,t,r,h-nk,h),c.lineTo(s+d,l+p),c.arc(s,l,u,h,h+nk)}else c.arc(e,t,r,0,2*nk);c.closePath()}else o=1;s=e,l=t,u=r}function t(t){var s,l,u,f=t.length,d=!1;for(null==c&&(c=u=Lr()),s=0;s<=f;++s)!(s<f&&a(l=t[s],s,t))===d&&(d=!d)&&(o=0),d&&e(+n(l,s,t),+r(l,s,t),+i(l,s,t));if(u)return c=null,u+""||null}var n,r,i,a,o,s,l,u,c=null;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(a=e,t):a},t.context=function(e){return arguments.length?(c=null==e?null:e,t):c},t},ik=xS().startAngle(Hi).endAngle(Gi).padAngle(Yi).innerRadius(Xi).outerRadius(Ki).cornerRadius(Qi),ak=SS().x($i).y1(Li).y0(Vi).defined(Ji),ok=SS().y(Li).x1($i).x0(Wi).defined(Ji),sk=OS().x($i).y(Li).defined(Ji),lk=tk().x($i).y(Li).width(Ui).height(qi).cornerRadius(Qi),uk=PS().type(ea).size(Zi),ck=rk().x($i).y(Li).defined(Ji).size(Bi),fk=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e},dk=2*Math.PI,pk=dk/4,hk=dk-1e-8;la.beginPath=ua,la.closePath=ua,la.moveTo=ca,la.lineTo=ca,la.rect=function(e,t,n,r){ca(e,t),ca(e+n,t+r)},la.quadraticCurveTo=function(e,t,n,r){ca(e,t),ca(n,r)},la.bezierCurveTo=function(e,t,n,r,i,a){ca(e,t),ca(n,r),ca(i,a)},la.arc=function(e,t,n,r,i,a){function o(e){u=n*Math.cos(e),c=n*Math.sin(e),u<f&&(f=u),u>d&&(d=u),c<p&&(p=c),c>h&&(h=c)}if(Math.abs(i-r)>hk)return ca(e-n,t-n),void ca(e+n,t+n);var s,l,u,c,f=1/0,d=-(1/0),p=1/0,h=-(1/0);if(o(r),o(i),i!==r)if(r%=dk,r<0&&(r+=dk),i%=dk,i<0&&(i+=dk),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=dk,s=r-r%pk,l=0;l<3&&s>i;++l,s-=pk)o(s);else for(s=r-r%pk+pk,l=0;l<3&&s<i;++l,s+=pk)o(s);ca(e+f,t+p),ca(e+d,t+h)};var mk,gk,yk=function(e,t,n){for(var r=n.width(),i=n.height(),a=n.x1+t.x1*r,o=n.y1+t.y1*i,s=n.x1+t.x2*r,l=n.y1+t.y2*i,u=t.stops,c=0,f=u.length,d=e.createLinearGradient(a,o,s,l);c<f;++c)d.addColorStop(u[c].offset,u[c].color);return d},vk=function(e,t,n){return n.id?yk(e,n,t.bounds):n},bk=function(e,t,n){return n*=null==t.fillOpacity?1:t.fillOpacity,n>0&&(e.globalAlpha=n,e.fillStyle=vk(e,t,t.fill),!0)},_k=[],xk=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity,n>0&&(e.globalAlpha=n,e.strokeStyle=vk(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||_k),e.lineDashOffset=t.strokeDashOffset||0),!0))},wk=function(){return!0},Ok=function(e,t){return"translate("+e+","+t+")"},Sk=function(e){return Ok(e.x||0,e.y||0)},kk=function(e,t){function n(e,n){e("transform",Sk(n)),e("d",t(null,n))}function r(e,n){return t(la(e),n),fk(e,n).translate(n.x||0,n.y||0)}function i(e,n){var r=n.x||0,i=n.y||0;e.translate(r,i),e.beginPath(),t(e,n),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:n,bound:r,draw:ma(i),pick:_a(i)}},Pk=kk("arc",ta),Ek=function(e,t){function n(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))}function r(e,n){var r=n.items;return 0===r.length?e:(t(la(e),r),fk(e,r[0]))}function i(e,n){e.beginPath(),t(e,n)}function a(e,t,n,r,i,a){var s=t.items,l=t.bounds;return!s||!s.length||l&&!l.contains(i,a)?null:(e.pixelRatio>1&&(n*=e.pixelRatio,r*=e.pixelRatio),o(e,s,n,r)?s[0]:null)}var o=ba(i);return{type:e,tag:"path",nested:!0,attr:n,bound:r,draw:ga(i),pick:a}},Mk=Ek("area",na),Tk=1,Ck=function(e,t,n){var r=e._defs,i=t.clip_id||(t.clip_id="clip"+Tk++),a=r.clipping[i]||(r.clipping[i]={id:i});return a.width=n.width||0,a.height=n.height||0,"url(#"+i+")"},Ak=.5,Dk={type:"group",tag:"g",nested:!1,attr:wa,bound:ka,draw:Pa,pick:Ea,background:Oa,foreground:Sa},jk={type:"image",tag:"image",nested:!1,attr:Da,bound:ja,draw:Ra,pick:va(),get:Ta,xOffset:Ca,yOffset:Aa},Rk=Ek("line",ra),Nk={type:"path",tag:"path",nested:!1,attr:Na,bound:za,draw:ma(Ia),pick:_a(Ia)},Ik={type:"rect",tag:"path",nested:!1,attr:Fa,bound:$a,draw:ma(La),pick:_a(La)},zk={type:"rule",tag:"line",nested:!1,attr:Ua,bound:Ba,draw:Wa,pick:va(Va)},Fk=kk("shape",aa),$k=kk("symbol",oa),Lk={height:Ka,measureWidth:Ya,estimateWidth:Ha,width:Ha,canvas:Qa};Qa(!0);var Uk={left:"start",center:"middle",right:"end"},Bk=new Er,qk={type:"text",tag:"text",nested:!1,attr:no,bound:ro,draw:io,pick:va(ao)},Wk=Ek("trail",sa),Vk={arc:Pk,area:Mk,group:Dk,image:jk,line:Rk,path:Nk,rect:Ik,rule:zk,shape:Fk,symbol:$k,text:qk,trail:Wk},Hk=function(e,t,n){var r=Vk[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new Er),e,n)},Gk={mark:null},Yk=function(e,t,n){var r,i,a,o,s=Vk[e.marktype],l=s.bound,u=e.items,c=u&&u.length;if(s.nested)return c?a=u[0]:(Gk.mark=e,a=Gk),o=Hk(a,l,n),t=t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new Er,c)for(r=0,i=u.length;r<i;++r)t.union(Hk(u[r],l,n));return e.bounds=t},Xk=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"],Kk=uo.prototype;Kk.toJSON=function(e){return oo(this.root,e||0)},Kk.mark=function(e,t,n){t=t||this.root.items[0];var r=co(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Qk=yo.prototype;Qk.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},Qk.element=function(){return this._el},Qk.origin=function(e){return this._origin=e||[0,0],this},Qk.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},Qk.on=function(){},Qk.off=function(){},Qk.handlers=function(){var e,t=this._handlers,n=[];for(e in t)n.push.apply(n,t[e]);return n},Qk.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},Qk.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then(function(t){var n=new MouseEvent(e.type,e),r=fo(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)}).catch(function(){})},Qk.handleTooltip=function(e,t,n){this._el.setAttribute("title",n||"")};var Jk=vo.prototype;Jk.initialize=function(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},Jk.element=function(){return this._el},Jk.scene=function(){return this._el&&this._el.firstChild},Jk.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},Jk.resize=function(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},Jk.dirty=function(){},Jk.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},Jk._render=function(){},Jk.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then(function(){return t}):Promise.resolve(t)},Jk._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(e){e&&i(),n._ready=null})}return r},Jk.sanitizeURL=function(e){return this._load("sanitizeURL",e)},Jk.loadImage=function(e){return this._load("loadImage",e)};var Zk=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]},eP=E_(bo,yo);eP.initialize=function(e,t,n){var r=this._canvas=e&&po(e,"canvas");if(r){var i=this;this.events.forEach(function(e){r.addEventListener(e,function(t){eP[e]?eP[e].call(i,t):i.fire(e,t)})})}return yo.prototype.initialize.call(this,e,t,n)},eP.canvas=function(){return this._canvas},eP.context=function(){return this._canvas.getContext("2d")},eP.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],eP.DOMMouseScroll=function(e){this.fire("mousewheel",e)},eP.mousemove=_o("mousemove","mouseover","mouseout"),eP.dragover=_o("dragover","dragenter","dragleave"),eP.mouseout=xo("mouseout"),eP.dragleave=xo("dragleave"),eP.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},eP.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},eP.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},eP.touchmove=function(e){this.fire("touchmove",e,!0)},eP.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},eP.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,o=this._handlers[e];if("click"===e&&a&&a.href?this.handleHref(t,a,a.href):("mouseover"===e||"mouseout"===e)&&a&&a.tooltip&&this.handleTooltip(t,a,"mouseover"===e?a.tooltip:null),o)for(t.vegaType=e,r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,a)},eP.on=function(e,t){var n=this.eventName(e),r=this._handlers;return(r[n]||(r[n]=[])).push({type:e,handler:t}),this},eP.off=function(e,t){var n,r=this.eventName(e),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===e&&(t&&i[n].handler!==t||i.splice(n,1));return this}},eP.pickEvent=function(e){var t=Zk(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},eP.pick=function(e,t,n,r,i){var a=this.context(),o=Vk[e.marktype];return o.pick.call(this,a,e,t,n,r,i)};var tP=function(e,t){var n=t.group;e.save(),e.beginPath(),e.rect(0,0,n.width||0,n.height||0),e.clip()},nP="undefined"!=typeof window?window.devicePixelRatio||1:1,rP=function(e,t,n,r,i){var a="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,o=e.getContext("2d"),s=a?nP:i;return e.width=t*s,e.height=n*s,a&&1!==s&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=s,o.setTransform(s,0,0,s,s*r[0],s*r[1]),e},iP=E_(wo,vo),aP=vo.prototype,oP=new Er;iP.initialize=function(e,t,n,r,i){
return this._canvas=Rr(1,1),e&&(mo(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),aP.initialize.call(this,e,t,n,r,i)},iP.resize=function(e,t,n,r){return aP.resize.call(this,e,t,n,r),rP(this._canvas,this._width,this._height,this._origin,this._scale),this._redraw=!0,this},iP.canvas=function(){return this._canvas},iP.context=function(){return this._canvas?this._canvas.getContext("2d"):null},iP.dirty=function(e){var t=So(e.bounds,e.mark.group);this._dirty.union(t)},iP._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=Oo(t,a,n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},iP.draw=function(e,t,n){var r=Vk[t.marktype];t.clip&&tP(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},iP.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var sP=E_(ko,yo);sP.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mouseover",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&po(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mouseover",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),yo.prototype.initialize.call(this,e,t,n)},sP.svg=function(){return this._svg},sP.on=function(e,t){var n=this.eventName(e),r=this._handlers,i={type:e,handler:t,listener:Po(this,t)};return(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener),this},sP.off=function(e,t){var n,r=this.eventName(e),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===e&&!t||a[n].handler===t)&&(this._svg&&i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}};var lP={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},uP={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},cP=Object.keys(uP),fP=lP.xmlns,dP=E_(To,vo),pP=vo.prototype;dP.initialize=function(e,t,n,r){return e&&(this._svg=ho(e,0,"svg",fP),this._svg.setAttribute("class","marks"),mo(e,1),this._root=ho(this._svg,0,"g",fP),mo(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),pP.initialize.call(this,e,t,n,r)},dP.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),pP.background.apply(this,arguments)},dP.resize=function(e,t,n,r){return pP.resize.call(this,e,t,n,r),this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},dP.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var t in lP)e[t]=lP[t];var n=this._bgcolor?Eo("rect",{width:this._width,height:this._height,style:"fill: "+this._bgcolor+";"})+Mo("rect"):"";return Eo("svg",e)+n+this._svg.innerHTML+Mo("svg")},dP._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),mo(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},dP.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=ho(t,0,"defs",fP)),Co(r,n.gradient[e],i++);for(e in n.clipping)r||(n.el=r=ho(t,0,"defs",fP)),Ao(r,n.clipping[e],i++);r&&(0===i?(t.removeChild(r),n.el=null):mo(r,i))},dP._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},dP.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},dP.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},dP._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,a,o,s,l=++this._dirtyID;for(a=0,o=e.length;a<o;++a)t=e[a],n=t.mark,n.marktype!==r&&(r=n.marktype,i=Vk[r]),n.zdirty&&n.dirty!==l&&(this._dirtyAll=!1,n.dirty=l,Do(n.group,l)),t.exit?(i.nested&&n.items.length?(s=n.items[0],s._svg&&this._update(i,s._svg,s)):t._svg&&(s=t._svg.parentNode,s&&s.removeChild(t._svg)),t._svg=null):(t=i.nested?n.items[0]:t,t._update!==l&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,Do(t,l)),t._update=l));return!this._dirtyAll},dP.draw=function(e,t,n){function r(e){var t=a.isDirty(e),n=Ro(e,i,u,o.tag);t&&(a._update(o,n,e),l&&jo(a,n,e)),u=n,++c}if(!this.isDirty(t))return t._svg;var i,a=this,o=Vk[t.marktype],s=t.interactive===!1?"none":null,l="g"===o.tag,u=null,c=0;return i=Ro(t,e,n,"g"),i.setAttribute("class",go(t)),!l&&s&&i.style.setProperty("pointer-events",s),t.clip&&i.setAttribute("clip-path",Ck(a,t,t.group)),o.nested?t.items.length&&r(t.items[0]):pa(t,r),mo(i,c),i};var hP=null,mP=null,gP={group:function(e,t,n){mP=t.__values__,hP=t.childNodes[1],e.foreground(No,n,this),hP=t.childNodes[0],e.background(No,n,this);var r=n.mark.interactive===!1?"none":null;r!==mP.events&&(hP.style.setProperty("pointer-events",r),mP.events=r)},text:function(e,t,n){var r=Ja(n);r!==mP.text&&(t.textContent=r,mP.text=r),r=eo(n),r!==mP.font&&(t.style.setProperty("font",r),mP.font=r)}};dP._update=function(e,t,n){hP=t,mP=t.__values__,e.attr(No,n,this);var r=gP[e.type];r&&r.call(this,e,t,n),this.style(hP,n)},dP.style=function(e,t){if(null!=t){var n,r,i,a,o;for(n=0,r=cP.length;n<r;++n)i=cP[n],o=t[i],o!==mP[i]&&(a=uP[i],null==o?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+Io()+"#"+o.id+")"),e.style.setProperty(a,o+"")),mP[i]=o)}};var yP=E_(zo,vo),vP=vo.prototype;yP.resize=function(e,t,n,r){vP.resize.call(this,e,t,n,r);var i=this._origin,a=this._text,o={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var s in lP)o[s]=lP[s];a.head=Eo("svg",o);var l=this._bgcolor;return"transparent"!==l&&"none"!==l||(l=null),l?a.bg=Eo("rect",{width:this._width,height:this._height,style:"fill: "+l+";"})+Mo("rect"):a.bg="",a.root=Eo("g",{transform:"translate("+i+")"}),a.foot=Mo("g")+Mo("svg"),this},yP.background=function(){var e=vP.background.apply(this,arguments);return arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale),e},yP.svg=function(){var e=this._text;return e.head+e.bg+e.defs+e.root+e.body+e.foot},yP._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},yP.buildDefs=function(){var e,t,n,r,i=this._defs,a="";for(t in i.gradient){for(n=i.gradient[t],r=n.stops,a+=Eo("linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<r.length;++e)a+=Eo("stop",{offset:r[e].offset,"stop-color":r[e].color})+Mo("stop");a+=Mo("linearGradient")}for(t in i.clipping)n=i.clipping[t],a+=Eo("clipPath",{id:t}),a+=Eo("rect",{x:0,y:0,width:n.width,height:n.height})+Mo("rect"),a+=Mo("clipPath");return a.length>0?Eo("defs")+a+Mo("defs"):""};var bP;yP.attributes=function(e,t){return bP={},e(Fo,t,this),bP},yP.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},yP.mark=function(e){function t(t){var l=r.href(t);l&&(s+=Eo("a",l)),n="g"!==a?$o(t,e,a,o):null,s+=Eo(a,r.attributes(i.attr,t),n),"text"===a?s+=Lo(Ja(t)):"g"===a&&(s+=Eo("path",r.attributes(i.background,t),$o(t,e,"bgrect",o))+Mo("path"),s+=Eo("g",r.attributes(i.foreground,t))+r.markGroup(t)+Mo("g")),s+=Mo(a),l&&(s+=Mo("a"))}var n,r=this,i=Vk[e.marktype],a=i.tag,o=this._defs,s="";return"g"!==a&&e.interactive===!1&&(n='style="pointer-events: none;"'),s+=Eo("g",{class:go(e),"clip-path":e.clip?Ck(r,e,e.group):null},n),i.nested?e.items&&e.items.length&&t(e.items[0]):pa(e,t),s+Mo("g")},yP.markGroup=function(e){var t=this,n="";return pa(e,function(e){n+=t.mark(e)}),n};var _P="canvas",xP="png",wP="svg",OP="none",SP={Canvas:_P,PNG:xP,SVG:wP,None:OP},kP={};kP[_P]=kP[xP]={renderer:wo,headless:wo,handler:bo},kP[wP]={renderer:To,headless:zo,handler:ko},kP[OP]={};var PP=1e-9,EP=E_(Vo,cn),MP=new Er;EP.transform=function(e,t){var n,r=t.dataflow,i=e.mark,a=i.marktype,o=Vk[a],s=o.bound,l=i.clip,u=i.bounds;return o.nested?(i.items.length&&r.dirty(i.items[0]),u=Ho(i,s),i.items.forEach(function(e){e.bounds.clear().union(u)})):"group"===a||e.modified()?(t.visit(t.MOD,function(e){r.dirty(e)}),u.clear(),i.items.forEach(function(e){u.union(Ho(e,s))})):(n=t.changed(t.REM),t.visit(t.ADD,function(e){u.union(Ho(e,s))}),t.visit(t.MOD,function(e){n=n||u.alignsWith(e.bounds),r.dirty(e),u.union(Ho(e,s))}),n&&!l&&(u.clear(),i.items.forEach(function(e){u.union(e.bounds)}))),l&&u.intersect(MP.set(0,0,i.group.width,i.group.height)),t.modifies("bounds")};var TP=":vega_identifier:";Go.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};var CP=E_(Go,cn);CP.transform=function(e,t){var n=Yo(t.dataflow),r=n.value,i=e.as;return t.visit(t.ADD,function(e){e[i]||(e[i]=++r)}),n.set(this.value=r),t};var AP=E_(Xo,cn);AP.transform=function(e,t){var n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,Ko(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this,this.value=n);var r="group"===n.marktype?Tr:Mr;return t.visit(t.ADD,function(e){r.call(e,n)}),n.items=t.source,t};var DP="top",jP="left",RP="right",NP="bottom",IP=E_(Qo,cn),zP={parity:function(e){return e.filter(function(e,t){return t%2?e.opacity=0:1})},greedy:function(e){var t;return e.filter(function(e,n){return n&&Jo(t.bounds,e.bounds)?e.opacity=0:(t=e,1)})}};IP.transform=function(e,t){var n=zP[e.method]||zP.parity,r=t.materialize(t.SOURCE).source;if(r){e.sort&&(r=r.slice().sort(e.sort)),"greedy"===e.method&&(r=r.filter(es)),r.forEach(function(e){e.opacity=1});var i=r;if(i.length>=3&&Zo(i)){t=t.reflow(e.modified()).modifies("opacity");do i=n(i);while(i.length>=3&&Zo(i));i.length<3&&!g_(r).opacity&&(i.length>1&&(g_(i).opacity=0),g_(r).opacity=1)}if(e.boundScale){var a=ts(e.boundScale,e.boundOrient,e.boundTolerance);r.forEach(function(e){a(e)||(e.opacity=0)})}return t}};var FP=E_(ns,cn);FP.transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,function(e){n.dirty(e)}),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var $P="axis",LP="legend",UP="row-header",BP="row-footer",qP="row-title",WP="column-header",VP="column-footer",HP="column-title",GP="fit",YP="pad",XP="none",KP="padding",QP="axis",JP="title",ZP="frame",eE="legend",tE="scope",nE="row-header",rE="row-footer",iE="column-header",aE="column-footer",oE=.5,sE=new Er,lE=E_(hs,cn);lE.transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(function(t){e.layout&&fs(n,t,e.layout),ms(n,t,e)}),t};var uE=Object.freeze({bound:Vo,identifier:Go,mark:Xo,overlap:Qo,render:ns,viewlayout:hs}),cE="log",fE="pow",dE="utc",pE="sqrt",hE="band",mE="time",gE="point",yE="linear",vE="ordinal",bE="quantile",_E="quantize",xE="threshold",wE="bin-linear",OE="bin-ordinal",SE="sequential",kE=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},PE=function(e){return function(t){var n,r,i,a,o=e.range(),s=t[0],l=t[1],u=-1;for(l<s&&(r=s,s=l,l=r),i=0,a=o.length;i<a;++i)o[i]>=s&&o[i]<=l&&(u<0&&(u=i),n=i);if(!(u<0))return s=e.invertExtent(o[u]),l=e.invertExtent(o[n]),[void 0===s[0]?s[1]:s[0],void 0===l[1]?l[0]:l[1]]}},EE=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},ME=Array.prototype,TE=ME.map,CE=ME.slice,AE={name:"implicit"},DE=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},jE=.7,RE=1/jE,NE="\\s*([+-]?\\d+)\\s*",IE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FE=/^#([0-9a-f]{3})$/,$E=/^#([0-9a-f]{6})$/,LE=new RegExp("^rgb\\("+[NE,NE,NE]+"\\)$"),UE=new RegExp("^rgb\\("+[zE,zE,zE]+"\\)$"),BE=new RegExp("^rgba\\("+[NE,NE,NE,IE]+"\\)$"),qE=new RegExp("^rgba\\("+[zE,zE,zE,IE]+"\\)$"),WE=new RegExp("^hsl\\("+[IE,zE,zE]+"\\)$"),VE=new RegExp("^hsla\\("+[IE,zE,zE,IE]+"\\)$"),HE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DE(ks,Ps,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),DE(As,Cs,Ss(ks,{brighter:function(e){return e=null==e?RE:Math.pow(RE,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?jE:Math.pow(jE,e),new As(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),DE(Ns,Rs,Ss(ks,{brighter:function(e){return e=null==e?RE:Math.pow(RE,e),new Ns(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?jE:Math.pow(jE,e),new Ns(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new As(Is(e>=240?e-240:e+120,i,r),Is(e,i,r),Is(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var GE=Math.PI/180,YE=180/Math.PI,XE=18,KE=.95047,QE=1,JE=1.08883,ZE=4/29,eM=6/29,tM=3*eM*eM,nM=eM*eM*eM;DE($s,Fs,Ss(ks,{brighter:function(e){return new $s(this.l+XE*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new $s(this.l-XE*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=QE*Us(e),t=KE*Us(t),n=JE*Us(n),new As(Bs(3.2404542*t-1.5371385*e-.4985314*n),Bs(-.969266*t+1.8760108*e+.041556*n),Bs(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),DE(Hs,Vs,Ss(ks,{brighter:function(e){return new Hs(this.h,this.c,this.l+XE*(null==e?1:e),this.opacity)},darker:function(e){return new Hs(this.h,this.c,this.l-XE*(null==e?1:e),this.opacity)},rgb:function(){return zs(this).rgb()}}));var rM=-.14861,iM=1.78277,aM=-.29227,oM=-.90649,sM=1.97294,lM=sM*oM,uM=sM*iM,cM=iM*aM-oM*rM;DE(Xs,Ys,Ss(ks,{brighter:function(e){return e=null==e?RE:Math.pow(RE,e),new Xs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?jE:Math.pow(jE,e),new Xs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*GE,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new As(255*(t+n*(rM*r+iM*i)),255*(t+n*(aM*r+oM*i)),255*(t+n*(sM*r)),this.opacity)}}));var fM,dM,pM,hM,mM,gM=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return Ks((n-r/t)*t,o,i,a,s)}},yM=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return Ks((n-r/t)*t,i,a,o,s)}},vM=function(e){return function(){return e}},bM=function e(t){function n(e,t){var n=r((e=Cs(e)).r,(t=Cs(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=tl(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}var r=el(t);return n.gamma=e,n}(1),_M=nl(gM),xM=nl(yM),wM=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=TM(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}},OM=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}},SM=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},kM=function(e,t){var n,r={},i={};null!==e&&"object"===("undefined"==typeof e?"undefined":s(e))||(e={}),null!==t&&"object"===("undefined"==typeof t?"undefined":s(t))||(t={});for(n in t)n in e?r[n]=TM(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},PM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,EM=new RegExp(PM.source,"g"),MM=function(e,t){var n,r,i,a=PM.lastIndex=EM.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=PM.exec(e))&&(r=EM.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:SM(n,r)})),a=EM.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?il(l[0].x):rl(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})},TM=function(e,t){var n,r="undefined"==typeof t?"undefined":s(t);return null==t||"boolean"===r?vM(t):("number"===r?SM:"string"===r?(n=Ps(t))?(t=n,bM):MM:t instanceof Ps?bM:t instanceof Date?OM:Array.isArray(t)?wM:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?kM:SM)(e,t)},CM=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},AM=180/Math.PI,DM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},jM=function(e,t,n,r,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*AM,skewX:Math.atan(l)*AM,scaleX:o,scaleY:s}},RM=sl(al,"px, ","px)","deg)"),NM=sl(ol,", ",")",")"),IM=Math.SQRT2,zM=2,FM=4,$M=1e-12,LM=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,f=l-a,d=c*c+f*f;if(d<$M)r=Math.log(u/o)/IM,n=function(e){return[i+e*c,a+e*f,o*Math.exp(IM*e*r)]};else{var p=Math.sqrt(d),h=(u*u-o*o+FM*d)/(2*o*zM*p),m=(u*u-o*o-FM*d)/(2*u*zM*p),g=Math.log(Math.sqrt(h*h+1)-h),y=Math.log(Math.sqrt(m*m+1)-m);r=(y-g)/IM,n=function(e){var t=e*r,n=ll(g),s=o/(zM*p)*(n*cl(IM*t+g)-ul(g));return[i+s*c,a+s*f,o*n/ll(IM*t+g)]}}return n.duration=1e3*r,n},UM=fl(Zs),BM=fl(tl),qM=pl(Zs),WM=pl(tl),VM=hl(Zs),HM=hl(tl),GM=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},YM=Object.freeze({interpolate:TM,interpolateArray:wM,interpolateBasis:gM,interpolateBasisClosed:yM,interpolateDate:OM,interpolateNumber:SM,interpolateObject:kM,interpolateRound:CM,interpolateString:MM,interpolateTransformCss:RM,interpolateTransformSvg:NM,interpolateZoom:LM,interpolateRgb:bM,interpolateRgbBasis:_M,interpolateRgbBasisClosed:xM,interpolateHsl:UM,interpolateHslLong:BM,interpolateLab:dl,interpolateHcl:qM,interpolateHclLong:WM,interpolateCubehelix:VM,interpolateCubehelixLong:HM,quantize:GM}),XM=function(e){return function(){return e}},KM=function(e){return+e},QM=[0,1],JM=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},ZM=function(e){return e=JM(Math.abs(e)),e?e[1]:NaN},eT=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}},tT=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},nT=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},rT=function(e,t){var n=JM(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(mM=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+JM(e,Math.max(0,t+a-1))[0]},iT=function(e,t){var n=JM(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},aT={"":nT,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return iT(100*e,t)},r:iT,s:rT,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},oT=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;wl.prototype=Ol.prototype,Ol.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var sT,lT,uT,cT=function(e){return e},fT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],dT=function(e){function t(e){function t(e){var t,i,s,c=g,_=y;if("c"===m)_=v(e)+_,e="";else{e=+e;var x=e<0;if(e=v(Math.abs(e),h),x&&0===+e&&(x=!1),c=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+c,_=("s"===m?fT[8+mM/3]:"")+_+(x&&"("===u?")":""),b)for(t=-1,i=e.length;++t<i;)if(s=e.charCodeAt(t),48>s||s>57){_=(46===s?a+e.slice(t+1):e.slice(t))+_,e=e.slice(0,t);break}}p&&!f&&(e=r(e,1/0));var w=c.length+e.length+_.length,O=w<d?new Array(d-w+1).join(n):"";switch(p&&f&&(e=r(O+e,O.length?d-_.length:1/0),O=""),l){case"<":e=c+e+_+O;break;case"=":e=c+O+e+_;break;case"^":e=O.slice(0,w=O.length>>1)+c+e+_+O.slice(w);break;default:e=O+c+e+_}return o(e)}e=wl(e);var n=e.fill,l=e.align,u=e.sign,c=e.symbol,f=e.zero,d=e.width,p=e.comma,h=e.precision,m=e.type,g="$"===c?i[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===c?i[1]:/[%p]/.test(m)?s:"",v=aT[m],b=!m||/[defgprs%]/.test(m);return h=null==h?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),t.toString=function(){return e+""},t}function n(e,n){var r=t((e=wl(e),e.type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(ZM(n)/3))),a=Math.pow(10,-i),o=fT[8+i/3];return function(e){return r(a*e)+o}}var r=e.grouping&&e.thousands?eT(e.grouping,e.thousands):cT,i=e.currency,a=e.decimal,o=e.numerals?tT(e.numerals):cT,s=e.percent||"%";return{format:t,formatPrefix:n}};Sl({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var pT=function(e){return Math.max(0,-ZM(Math.abs(e)))},hT=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ZM(t)/3)))-ZM(Math.abs(e)))},mT=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ZM(t)-ZM(e))+1},gT=function(e,t,n){var r,i=e[0],a=e[e.length-1],o=kn(i,a,null==t?10:t);switch(n=wl(null==n?",f":n),n.type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=hT(o,s))||(n.precision=r),uT(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=mT(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=pT(o))||(n.precision=r-2*("%"===n.type))}return lT(n)},yT=function(e,t){e=e.slice();var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e},vT=1e3,bT=60*vT,_T=60*bT,xT=24*_T,wT=7*xT,OT=30*xT,ST=365*xT,kT=function(){return ql(Gx,Hx,qx,Bx,Ux,Lx,$x,jx,rw).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},PT=function(){return ql(tw,ew,Qx,Kx,Xx,Yx,$x,jx,aw).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},ET=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},MT=ET("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),TT=ET("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),CT=ET("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),AT=ET("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");HM(Ys(300,.5,0),Ys(-240,.5,1));var DT=(HM(Ys(-100,.75,.35),Ys(80,1.5,.8)),HM(Ys(260,.75,.35),Ys(80,1.5,.8)),Ys(),Wl(ET("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"))),jT=Wl(ET("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),RT=Wl(ET("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),NT=Wl(ET("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),IT=Array.prototype.map,zT=Array.prototype.slice,FT={
identity:El,linear:Pl,log:Rl,ordinal:Os,pow:Il,sqrt:zl,quantile:Fl,quantize:$l,threshold:Ll,time:kT,utc:PT,band:Vl,point:Gl,sequential:Ql,"bin-linear":Xl,"bin-ordinal":Kl};for(var $T in FT)Zl($T,FT[$T]);var LT=eu("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),UT=eu("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),BT=new Array(3).concat("67a9cff7f7f7f1a340","0571b092c5defdb863e66101","0571b092c5def7f7f7fdb863e66101","2166ac67a9cfd1e5f0fee0b6f1a340b35806","2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806","2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806","2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806","0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08","0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(eu),qT=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n},WT=qT("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),VT=qT("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),HT=qT("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),GT=qT("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),YT=qT("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),XT=qT("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),KT=qT("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),QT=qT("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),JT=function(e){return _M(e[e.length-1])},ZT=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(qT),eC=JT(ZT),tC=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(qT),nC=JT(tC),rC=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(qT),iC=JT(rC),aC=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(qT),oC=JT(aC),sC=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(qT),lC=JT(sC),uC=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(qT),cC=JT(uC),fC=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(qT),dC=JT(fC),pC=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(qT),hC=JT(pC),mC=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(qT),gC=JT(mC),yC=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(qT),vC=JT(yC),bC=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(qT),_C=JT(bC),xC=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(qT),wC=JT(xC),OC=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(qT),SC=JT(OC),kC=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(qT),PC=JT(kC),EC=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(qT),MC=JT(EC),TC=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(qT),CC=JT(TC),AC=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(qT),DC=JT(AC),jC=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(qT),RC=JT(jC),NC=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(qT),IC=JT(NC),zC=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(qT),FC=JT(zC),$C=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(qT),LC=JT($C),UC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(qT),BC=JT(UC),qC=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(qT),WC=JT(qC),VC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(qT),HC=JT(VC),GC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(qT),YC=JT(GC),XC=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(qT),KC=JT(XC),QC=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(qT),JC=JT(QC),ZC=Object.freeze({schemeAccent:WT,schemeDark2:VT,schemePaired:HT,schemePastel1:GT,schemePastel2:YT,schemeSet1:XT,schemeSet2:KT,schemeSet3:QT,interpolateBrBG:eC,schemeBrBG:ZT,interpolatePRGn:nC,schemePRGn:tC,interpolatePiYG:iC,schemePiYG:rC,interpolatePuOr:oC,schemePuOr:aC,interpolateRdBu:lC,schemeRdBu:sC,interpolateRdGy:cC,schemeRdGy:uC,interpolateRdYlBu:dC,schemeRdYlBu:fC,interpolateRdYlGn:hC,schemeRdYlGn:pC,interpolateSpectral:gC,schemeSpectral:mC,interpolateBuGn:vC,schemeBuGn:yC,interpolateBuPu:_C,schemeBuPu:bC,interpolateGnBu:wC,schemeGnBu:xC,interpolateOrRd:SC,schemeOrRd:OC,interpolatePuBuGn:PC,schemePuBuGn:kC,interpolatePuBu:MC,schemePuBu:EC,interpolatePuRd:CC,schemePuRd:TC,interpolateRdPu:DC,schemeRdPu:AC,interpolateYlGnBu:RC,schemeYlGnBu:jC,interpolateYlGn:IC,schemeYlGn:NC,interpolateYlOrBr:FC,schemeYlOrBr:zC,interpolateYlOrRd:LC,schemeYlOrRd:$C,interpolateBlues:BC,schemeBlues:UC,interpolateGreens:WC,schemeGreens:qC,interpolateGreys:HC,schemeGreys:VC,interpolatePurples:YC,schemePurples:GC,interpolateReds:KC,schemeReds:XC,interpolateOranges:JC,schemeOranges:QC}),eA={blueorange:BT},tA={category10:MT,category20:AT,category20b:TT,category20c:CT,accent:WT,dark2:VT,paired:HT,pastel1:GT,pastel2:YT,set1:XT,set2:KT,set3:QT,tableau10:LT,tableau20:UT,viridis:DT,magma:jT,inferno:RT,plasma:NT,blueorange:_M(g_(BT))};tu("blues","Blues"),tu("greens","Greens"),tu("greys","Greys"),tu("purples","Purples"),tu("reds","Reds"),tu("oranges","Oranges"),tu("brownbluegreen","BrBG"),tu("purplegreen","PRGn"),tu("pinkyellowgreen","PiYG"),tu("purpleorange","PuOr"),tu("redblue","RdBu"),tu("redgrey","RdGy"),tu("redyellowblue","RdYlBu"),tu("redyellowgreen","RdYlGn"),tu("spectral","Spectral"),tu("bluegreen","BuGn"),tu("bluepurple","BuPu"),tu("greenblue","GnBu"),tu("orangered","OrRd"),tu("purplebluegreen","PuBuGn"),tu("purpleblue","PuBu"),tu("purplered","PuRd"),tu("redpurple","RdPu"),tu("yellowgreenblue","YlGnBu"),tu("yellowgreen","YlGn"),tu("yelloworangebrown","YlOrBr"),tu("yelloworangered","YlOrRd");var nA=function(e,t){if(arguments.length>1)return tA[e]=t,this;var n=e.split("-");return e=n[0],n=+n[1]+1,n&&eA.hasOwnProperty(e)?eA[e][n-1]:!n&&tA.hasOwnProperty(e)?tA[e]:void 0},rA={millisecond:jx,second:$x,minute:Lx,hour:Ux,day:Bx,week:qx,month:Hx,year:Gx},iA={millisecond:jx,second:$x,minute:Yx,hour:Xx,day:Kx,week:Qx,month:ew,year:tw},aA=E_(yu,cn);aA.transform=function(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=this.value,i=e.scale,a=null==e.count?e.values?e.values.length:10:uu(i,e.count),o=e.format||du(i,a,e.formatSpecifier),s=e.values?cu(i,e.values,a):fu(i,a);return r&&(n.rem=r),r=s.map(function(e,t){return S({index:t/(s.length-1),value:e,label:o(e)})}),e.extra&&r.push(S({index:-1,extra:{value:r[0].value},label:""})),n.source=r,n.add=r,this.value=r,n};var oA=E_(vu,cn);oA.transform=function(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||bu,a=e.key||w,o=this.value;return Zb(r.encode)&&(r.encode=null),o&&(e.modified("key")||t.modified(a))&&Qb("DataJoin does not support modified key function or fields."),o||(t=t.addAll(),this.value=o=P_().test(_u),o.lookup=function(e){return o.get(a(e))}),t.visit(t.ADD,function(e){var t=a(e),n=o.get(t);n?n.exit?(o.empty--,r.add.push(n)):r.mod.push(n):(o.set(t,n=i(e)),r.add.push(n)),n.datum=e,n.exit=!1}),t.visit(t.MOD,function(e){var t=a(e),n=o.get(t);n&&(n.datum=e,r.mod.push(n))}),t.visit(t.REM,function(e){var t=a(e),n=o.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++o.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),e.clean&&o.empty>n.cleanThreshold&&n.runAfter(o.clean),r};var sA=E_(xu,cn);sA.transform=function(e,t){var n=t.fork(t.ADD_REM),r=e.encoders,i=t.encode;if(Zb(i)){if(!n.changed()&&!i.every(function(e){return r[e]}))return t.StopPropagation;i=i[0]}var a="enter"===i,o=r.update||u_,s=r.enter||u_,l=r.exit||u_,u=(i&&!a?r[i]:o)||u_;if(t.changed(t.ADD)&&(t.visit(t.ADD,function(t){s(t,e),o(t,e),u!==u_&&u!==o&&u(t,e)}),n.modifies(s.output),n.modifies(o.output),u!==u_&&u!==o&&n.modifies(u.output)),t.changed(t.REM)&&l!==u_&&(t.visit(t.REM,function(t){l(t,e)}),n.modifies(l.output)),a||u!==u_){var c=t.MOD|(e.modified()?t.REFLOW:0);a?(t.visit(c,function(t){var r=s(t,e);(u(t,e)||r)&&n.mod.push(t)}),n.mod.length&&n.modifies(s.output)):t.visit(c,function(t){u(t,e)&&n.mod.push(t)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation};var lA={};lA[bE]=Su,lA[_E]=Ou,lA[xE]=ku,lA[wE]=Pu,lA[OE]=Pu;var uA=E_(Au,cn);uA.transform=function(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=0,i=this.value,a="gradient"===e.type,o=e.scale,s=null==e.count?5:uu(o,e.count),l=e.format||du(o,s,e.formatSpecifier),u=e.values||wu(o,s,a);if(l=Eu(o,l),i&&(n.rem=i),a)var c=e.values?o.domain():u,f=ru(o,c[0],g_(c));else{var d,p=e.size;b_(p)?(e.values||0!==o(u[0])||(u=u.slice(1)),d=u.reduce(function(t,n){return Math.max(t,p(n,e))},0)):p=x_(d=p||8)}return i=u.map(function(t,n){var i=S({index:n,label:l(t,n,u),value:t});return a?i.perc=f(t):(i.offset=d,i.size=p(t,e),i.total=Math.round(r),r+=i.size),i}),n.source=i,n.add=i,this.value=i,n};var cA=P_({line:zu,"line-radial":Fu,arc:$u,"arc-radial":Lu,curve:Uu,"curve-radial":Bu,"orthogonal-horizontal":qu,"orthogonal-vertical":Wu,"orthogonal-radial":Vu,"diagonal-horizontal":Hu,"diagonal-vertical":Gu,"diagonal-radial":Yu});Iu.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"as",type:"string",default:"path"}]};var fA=E_(Iu,cn);fA.transform=function(e,t){var n=e.sourceX||Du,r=e.sourceY||ju,i=e.targetX||Ru,a=e.targetY||Nu,o=e.as||"path",s=e.orient||"vertical",l=e.shape||"line",u=cA.get(l+"-"+s)||cA.get(l);return u||Qb("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,function(e){e[o]=u(n(e),r(e),i(e),a(e))}),t.reflow(e.modified()).modifies(o)},Xu.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};var dA=E_(Xu,cn);dA.transform=function(e,t){var n,r,i,a=e.as||["startAngle","endAngle"],o=a[0],s=a[1],l=e.field||s_,u=e.startAngle||0,c=null!=e.endAngle?e.endAngle:2*Math.PI,f=t.source,d=f.map(l),p=d.length,h=u,m=(c-u)/iO(d),g=Vw(p);for(e.sort&&g.sort(function(e,t){return d[e]-d[t]}),n=0;n<p;++n)i=d[g[n]],r=f[g[n]],r[o]=h,r[s]=h+=i*m;return this.value=d,t.reflow(e.modified()).modifies(a)};var pA=5,hA=$_([yE,fE,pE]),mA=$_([yE,cE,fE,pE,mE,dE]),gA=$_(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","nice","zero","range","rangeStep","round","reverse","interpolate","interpolateGamma"]),yA=E_(Ku,cn);yA.transform=function(e,t){var n,r=t.dataflow,i=this.value;i&&!e.modified("type")||(this.value=i=Zl((e.type||yE).toLowerCase())());for(n in e)if(!gA[n]){if("padding"===n&&mA[i.type])continue;b_(i[n])?i[n](e[n]):r.warn("Unsupported scale property: "+n)}return ec(i,e,Qu(i,e,r)),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var vA=E_(oc,cn);vA.transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(e.sort),this.modified(n),t};var bA="center",_A="normalize";sc.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:["y0","y1"]}]};var xA=E_(sc,cn);xA.transform=function(e,t){var n,r,i,a,o=e.as||["y0","y1"],s=o[0],l=o[1],u=e.field||s_,c=e.offset===bA?lc:e.offset===_A?uc:cc;for(n=fc(t.source,e.groupby,e.sort,u),r=0,i=n.length,a=n.max;r<i;++r)c(n[r],a,u,s,l);return t.reflow(e.modified()).modifies(o)};var wA=Object.freeze({axisticks:yu,datajoin:vu,encode:xu,legendentries:Au,linkpath:Iu,pie:Xu,scale:Ku,sortitems:oc,stack:sc,validTicks:cu}),OA=Array.prototype,SA=OA.slice,kA=function(e,t){return e-t},PA=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},EA=function(e){return function(){return e}},MA=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=dc(e,t[r]))return n;return 0},TA=function(){},CA=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],AA=function e(){function e(e){var n=o(e);if(Array.isArray(n))n=n.slice().sort(kA);else{var r=Ww(e),i=r[0],a=r[1];n=kn(i,a,n),n=Vw(Math.floor(i/n)*n,Math.floor(a/n)*n,n)}var l=n.map(function(n){var r=[],i=[];return t(e,n,function(t){s(t,e,n),PA(t)>0?r.push([t]):i.push(t)}),i.forEach(function(e){for(var t,n=0,i=r.length;n<i;++n)if(MA((t=r[n])[0],e)!==-1)return void t.push(e)}),r});return l.map(function(e,t){return{type:"MultiPolygon",value:n[t],coordinates:e}})}function t(e,t,r){function o(e){var t,i,a=[e[0][0]+s,e[0][1]+l],o=[e[1][0]+s,e[1][1]+l],u=n(a),c=n(o);(t=h[u])?(i=p[c])?(delete h[t.end],delete p[i.start],t===i?(t.ring.push(o),r(t.ring)):p[t.start]=h[i.end]={start:t.start,end:i.end,ring:t.ring.concat(i.ring)}):(delete h[t.end],t.ring.push(o),h[t.end=c]=t):(t=p[c])?(i=h[u])?(delete p[t.start],delete h[i.end],t===i?(t.ring.push(o),r(t.ring)):p[i.start]=h[t.end]={start:i.start,end:t.end,ring:i.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(a),p[t.start=u]=t):p[u]=h[c]={start:u,end:c,ring:[a,o]}}var s,l,u,c,f,d,p=new Array,h=new Array;for(s=l=-1,c=e[0]>=t,CA[c<<1].forEach(o);++s<i-1;)u=c,c=e[s+1]>=t,CA[u|c<<1].forEach(o);for(CA[c<<0].forEach(o);++l<a-1;){for(s=-1,c=e[l*i+i]>=t,f=e[l*i]>=t,CA[c<<1|f<<2].forEach(o);++s<i-1;)u=c,c=e[l*i+i+s+1]>=t,d=f,f=e[l*i+s+1]>=t,CA[u|c<<1|f<<2|d<<3].forEach(o);CA[c|f<<3].forEach(o)}for(s=-1,f=e[l*i]>=t,CA[f<<2].forEach(o);++s<i-1;)d=f,f=e[l*i+s+1]>=t,CA[f<<2|d<<3].forEach(o);CA[f<<3].forEach(o)}function n(e){return 2*e[0]+e[1]*(i+1)*4}function r(e,t,n){e.forEach(function(e){var r,o=e[0],s=e[1],l=0|o,u=0|s,c=t[u*i+l];o>0&&o<i&&l===o&&(r=t[u*i+l-1],e[0]=o+(n-r)/(c-r)-.5),s>0&&s<a&&u===s&&(r=t[(u-1)*i+l],e[1]=s+(n-r)/(c-r)-.5)})}var i=1,a=1,o=Kw,s=r;return e.size=function(t){if(!arguments.length)return[i,a];var n=Math.ceil(t[0]),r=Math.ceil(t[1]);if(!(n>0&&r>0))throw new Error("invalid size");return i=n,a=r,e},e.thresholds=function(t){return arguments.length?(o="function"==typeof t?t:EA(Array.isArray(t)?SA.call(t):t),e):o},e.smooth=function(t){return arguments.length?(s=t?r:TA,e):s===r},e},DA=function(){function e(e){var n=new Float32Array(p*h),r=new Float32Array(p*h);e.forEach(function(e,t,r){var i=o(e,t,r)+d>>f,a=s(e,t,r)+d>>f;i>=0&&i<p&&a>=0&&a<h&&++n[i+a*p]}),gc({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),yc({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f),gc({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),yc({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f),gc({width:p,height:h,data:n},{width:p,height:h,data:r},c>>f),yc({width:p,height:h,data:r},{width:p,height:h,data:n},c>>f);var i=m(n);if(!Array.isArray(i)){var a=Jw(n);i=kn(0,a,i),i=Vw(0,Math.floor(a/i)*i,i),i.shift()}return AA().thresholds(i).size([p,h])(n).map(t)}function t(e){return e.value*=Math.pow(2,-2*f),e.coordinates.forEach(n),e}function n(e){e.forEach(r)}function r(e){e.forEach(i)}function i(e){e[0]=e[0]*Math.pow(2,f)-d,e[1]=e[1]*Math.pow(2,f)-d}function a(){return d=3*c,p=l+2*d>>f,h=u+2*d>>f,e}var o=vc,s=bc,l=960,u=500,c=20,f=2,d=3*c,p=l+2*d>>f,h=u+2*d>>f,m=EA(20);return e.x=function(t){return arguments.length?(o="function"==typeof t?t:EA(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:EA(+t),e):s},e.size=function(e){if(!arguments.length)return[l,u];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return l=t,u=n,a()},e.cellSize=function(e){if(!arguments.length)return 1<<f;if(!((e=+e)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(e)/Math.LN2),a()},e.thresholds=function(t){return arguments.length?(m="function"==typeof t?t:EA(Array.isArray(t)?SA.call(t):t),e):m},e.bandwidth=function(e){if(!arguments.length)return Math.sqrt(c*(c+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return c=Math.round((Math.sqrt(4*e*e+1)-1)/2),a()},e},jA=["values","size"],RA=["x","y","size","cellSize","bandwidth"];_c.Definition={type:"Contour",metadata:{generates:!0,source:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"number",default:!1},{name:"thresholds",type:"number",array:!0}]};var NA=E_(_c,cn);NA.transform=function(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,r,i,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.count||10;return e.values?(n=AA(),r=jA,i=e.values):(n=DA(),r=RA,i=t.materialize(t.SOURCE).source),n.thresholds(e.thresholds||(e.nice?o:xc(o))),r.forEach(function(t){null!=e[t]&&n[t](e[t])}),this.value&&(a.rem=this.value),this.value=a.source=a.add=n(i).map(S),a};var IA="Feature",zA="FeatureCollection",FA="MultiPoint";wc.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};var $A=E_(wc,cn);$A.transform=function(e,t){var n,i=this._features,a=this._points,o=e.fields,s=o&&o[0],l=o&&o[1],u=e.geojson,c=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified(r(u))||s&&t.modified(r(s))||l&&t.modified(r(l)),this.value&&!n||(c=t.SOURCE,this._features=i=[],this._points=a=[]),u&&t.visit(c,function(e){i.push(u(e))}),s&&l&&(t.visit(c,function(e){var t=s(e),n=l(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])}),i=i.concat({type:IA,geometry:{type:FA,coordinates:a}})),this.value={type:zA,features:i}};var LA=function(){return new Oc};Oc.prototype={constructor:Oc,reset:function(){this.s=this.t=0},add:function(e){Sc(UA,e,this.t),Sc(this,UA.s,this.s),this.s?this.t+=UA.t:this.s=UA.t},valueOf:function(){return this.s}};var UA=new Oc,BA=1e-6,qA=Math.PI,WA=qA/2,VA=qA/4,HA=2*qA,GA=180/qA,YA=qA/180,XA=Math.abs,KA=Math.atan,QA=Math.atan2,JA=Math.cos,ZA=Math.ceil,eD=Math.exp,tD=Math.log,nD=Math.pow,rD=Math.sin,iD=Math.sign||function(e){return e>0?1:e<0?-1:0},aD=Math.sqrt,oD=Math.tan,sD={Feature:function(e,t){Mc(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Mc(n[r].geometry,t)}},lD={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Tc(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Tc(n[r],t,0)},Polygon:function(e,t){Cc(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Cc(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Mc(n[r],t)}},uD=function(e,t){e&&sD.hasOwnProperty(e.type)?sD[e.type](e,t):Mc(e,t)},cD=(LA(),LA(),LA(),function e(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e});Fc.invert=Fc;var fD,dD,pD,hD,mD,gD,yD,vD,bD,_D,xD,wD=function(e){function t(t){return t=e(t[0]*YA,t[1]*YA),t[0]*=GA,t[1]*=GA,t}return e=$c(e[0]*YA,e[1]*YA,e.length>2?e[2]*YA:0),t.invert=function(t){return t=e.invert(t[0]*YA,t[1]*YA),t[0]*=GA,t[1]*=GA,t},t},OD=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Ec,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function n(){var n=t;return t=[],e=null,n}}},SD=function(e,t){return XA(e[0]-t[0])<BA&&XA(e[1]-t[1])<BA},kD=function(e,t,n,r,i){var a,o,s=[],l=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(SD(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s.push(n=new Vc(r,e,null,(!0))),l.push(n.o=new Vc(r,null,n,(!1))),s.push(n=new Vc(o,e,null,(!1))),l.push(n.o=new Vc(o,null,n,(!0)))}}),s.length){for(l.sort(t),Hc(s),Hc(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var u,c,f=s[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(a=0,o=u.length;a<o;++a)i.point((c=u[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((c=u[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,p=!p}while(!d.v);i.lineEnd()}}},PD=LA(),ED=function(e,t){var n=t[0],r=t[1],i=[rD(n),-JA(n),0],a=0,o=0;PD.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,f=u[c-1],d=f[0],p=f[1]/2+VA,h=rD(p),m=JA(p),g=0;g<c;++g,d=v,h=_,m=x,f=y){var y=u[g],v=y[0],b=y[1]/2+VA,_=rD(b),x=JA(b),w=v-d,O=w>=0?1:-1,S=O*w,k=S>qA,P=h*_;if(PD.add(QA(P*O*rD(S),m*x+P*JA(S))),a+=k?w+O*HA:w,k^d>=n^v>=n){var E=Rc(Dc(f),Dc(y));zc(E);var M=Rc(i,E);zc(M);var T=(k^w>=0?-1:1)*Pc(M[2]);(r>T||r===T&&(E[0]||E[1]))&&(o+=k^w>=0?1:-1)}}return(a<-BA||a<BA&&PD<-BA)^1&o},MD=function(e,t,n,r){return function(i){function a(t,n){e(t,n)&&i.point(t,n)}function o(e,t){m.point(e,t)}function s(){b.point=o,m.lineStart()}function l(){b.point=a,m.lineEnd()}function u(e,t){h.push([e,t]),y.point(e,t)}function c(){y.lineStart(),h=[]}function f(){u(h[0][0],h[0][1]),y.lineEnd();var e,t,n,r,a=y.clean(),o=g.result(),s=o.length;if(h.pop(),d.push(h),h=null,s)if(1&a){if(n=o[0],(t=n.length-1)>0){for(v||(i.polygonStart(),v=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else s>1&&2&a&&o.push(o.pop().concat(o.shift())),p.push(o.filter(Gc))}var d,p,h,m=t(i),g=OD(),y=t(g),v=!1,b={point:a,lineStart:s,lineEnd:l,polygonStart:function(){b.point=u,b.lineStart=c,b.lineEnd=f,p=[],d=[]},polygonEnd:function(){b.point=a,b.lineStart=s,b.lineEnd=l,p=tO(p);var e=ED(d,r);p.length?(v||(i.polygonStart(),v=!0),kD(p,Yc,e,n,i)):e&&(v||(i.polygonStart(),v=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),v&&(i.polygonEnd(),v=!1),p=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}},TD=MD(function(){return!0},Xc,Qc,[-qA,-WA]),CD=function(e){function t(t,n,r,i){qc(i,e,s,r,t,n)}function n(e,t){return JA(e)*JA(t)>o}function r(e){var t,r,o,s,c;return{lineStart:function(){s=o=!1,c=1},point:function(f,d){var p,h=[f,d],m=n(f,d),g=l?m?0:a(f,d):m?a(f+(f<0?qA:-qA),d):0;if(!t&&(s=o=m)&&e.lineStart(),m!==o&&(p=i(t,h),(!p||SD(t,p)||SD(h,p))&&(h[0]+=BA,h[1]+=BA,m=n(h[0],h[1]))),m!==o)c=0,m?(e.lineStart(),p=i(h,t),e.point(p[0],p[1])):(p=i(t,h),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(u&&t&&l^m){var y;g&r||!(y=i(h,t,!0))||(c=0,l?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!m||t&&SD(t,h)||e.point(h[0],h[1]),t=h,o=m,r=g},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return c|(s&&o)<<1}}}function i(e,t,n){var r=Dc(e),i=Dc(t),a=[1,0,0],s=Rc(r,i),l=jc(s,s),u=s[0],c=l-u*u;if(!c)return!n&&e;var f=o*l/c,d=-o*u/c,p=Rc(a,s),h=Ic(a,f),m=Ic(s,d);Nc(h,m);var g=p,y=jc(h,g),v=jc(g,g),b=y*y-v*(jc(h,h)-1);if(!(b<0)){var _=aD(b),x=Ic(g,(-y-_)/v);if(Nc(x,h),x=Ac(x),!n)return x;var w,O=e[0],S=t[0],k=e[1],P=t[1];S<O&&(w=O,O=S,S=w);var E=S-O,M=XA(E-qA)<BA,T=M||E<BA;if(!M&&P<k&&(w=k,k=P,P=w),T?M?k+P>0^x[1]<(XA(x[0]-O)<BA?k:P):k<=x[1]&&x[1]<=P:E>qA^(O<=x[0]&&x[0]<=S)){var C=Ic(g,(-y+_)/v);return Nc(C,h),[x,Ac(C)]}}}function a(t,n){var r=l?e:qA-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=JA(e),s=6*YA,l=o>0,u=XA(o)>BA;return MD(n,r,t,l?[0,-e]:[-qA,e-qA])},AD=function(e,t,n,r,i,a){var o,s=e[0],l=e[1],u=t[0],c=t[1],f=0,d=1,p=u-s,h=c-l;if(o=n-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>f&&(f=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;
o>f&&(f=o)}else if(h>0){if(o<f)return;o<d&&(d=o)}return f>0&&(e[0]=s+f*p,e[1]=l+f*h),d<1&&(t[0]=s+d*p,t[1]=l+d*h),!0}}}}},DD=1e9,jD=-DD,RD=LA(),ND={sphere:Ec,point:Ec,lineStart:Zc,lineEnd:Ec,polygonStart:Ec,polygonEnd:Ec},ID=function(e){return RD.reset(),uD(e,ND),+RD},zD=[null,null],FD={type:"LineString",coordinates:zD},$D=function(e){return e},LD=LA(),UD=LA(),BD={point:Ec,lineStart:Ec,lineEnd:Ec,polygonStart:function(){BD.lineStart=sf,BD.lineEnd=cf},polygonEnd:function(){BD.lineStart=BD.lineEnd=BD.point=Ec,LD.add(XA(UD)),UD.reset()},result:function(){var e=LD/2;return LD.reset(),e}},qD=1/0,WD=qD,VD=-qD,HD=VD,GD={point:ff,lineStart:Ec,lineEnd:Ec,polygonStart:Ec,polygonEnd:Ec,result:function(){var e=[[qD,WD],[VD,HD]];return VD=HD=-(WD=qD=1/0),e}},YD=0,XD=0,KD=0,QD=0,JD=0,ZD=0,ej=0,tj=0,nj=0,rj={point:df,lineStart:pf,lineEnd:gf,polygonStart:function(){rj.lineStart=yf,rj.lineEnd=vf},polygonEnd:function(){rj.point=df,rj.lineStart=pf,rj.lineEnd=gf},result:function(){var e=nj?[ej/nj,tj/nj]:ZD?[QD/ZD,JD/ZD]:KD?[YD/KD,XD/KD]:[NaN,NaN];return YD=XD=KD=QD=JD=ZD=ej=tj=nj=0,e}};xf.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,HA)}},result:Ec};var ij,aj,oj,sj,lj,uj=LA(),cj={point:Ec,lineStart:function(){cj.point=wf},lineEnd:function(){ij&&Of(aj,oj),cj.point=Ec},polygonStart:function(){ij=!0},polygonEnd:function(){ij=null},result:function(){var e=+uj;return uj.reset(),e}};Sf.prototype={_radius:4.5,_circle:kf(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=kf(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function e(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var fj=function(e,t){function n(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),uD(e,r(i))),i.result()}var r,i,a=4.5;return n.area=function(e){return uD(e,r(BD)),BD.result()},n.measure=function(e){return uD(e,r(cj)),cj.result()},n.bounds=function(e){return uD(e,r(GD)),GD.result()},n.centroid=function(e){return uD(e,r(rj)),rj.result()},n.projection=function(t){return arguments.length?(r=null==t?(e=null,$D):(e=t).stream,n):e},n.context=function(e){return arguments.length?(i=null==e?(t=null,new Sf):new xf(t=e),"function"!=typeof a&&i.pointRadius(a),n):t},n.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),n):a},n.projection(e).context(t)};Ef.prototype={constructor:Ef,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dj=16,pj=JA(30*YA),hj=function(e,t){return+t?Rf(e,t):jf(e)},mj=Pf({point:function(e,t){this.stream.point(e*YA,t*YA)}}),gj=function(){return Ff(Lf).scale(155.424).center([0,33.6442])},yj=function(){return gj().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},vj=function(){function e(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)||(o.point(t,n),s)}function t(){return n=r=null,e}var n,r,i,a,o,s,l=yj(),u=gj().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gj().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){s=[e,t]}};return e.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:l).invert(e)},e.stream=function(e){return n&&r===e?n:n=Uf([l.stream(r=e),u.stream(e),c.stream(e)])},e.precision=function(e){return arguments.length?(l.precision(e),u.precision(e),c.precision(e),t()):l.precision()},e.scale=function(t){return arguments.length?(l.scale(t),u.scale(.35*t),c.scale(t),e.translate(l.translate())):l.scale()},e.translate=function(e){if(!arguments.length)return l.translate();var n=l.scale(),r=+e[0],s=+e[1];return i=l.translate(e).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(f),a=u.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+BA,s+.12*n+BA],[r-.214*n-BA,s+.234*n-BA]]).stream(f),o=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+BA,s+.166*n+BA],[r-.115*n-BA,s+.234*n-BA]]).stream(f),t()},e.fitExtent=function(t,n){return Tf(e,t,n)},e.fitSize=function(t,n){return Cf(e,t,n)},e.fitWidth=function(t,n){return Af(e,t,n)},e.fitHeight=function(t,n){return Df(e,t,n)},e.scale(1070)},bj=Bf(function(e){return aD(2/(1+e))});bj.invert=qf(function(e){return 2*Pc(e/2)});var _j=function(){return If(bj).scale(124.75).clipAngle(179.999)},xj=Bf(function(e){return(e=kc(e))&&e/rD(e)});xj.invert=qf(function(e){return e});var wj=function(){return If(xj).scale(79.4188).clipAngle(179.999)};Wf.invert=function(e,t){return[e,2*KA(eD(t))-WA]};var Oj=function(){return Vf(Wf).scale(961/HA)},Sj=function(){return Ff(Gf).scale(109.5).parallels([30,30])};Yf.invert=Yf;var kj=function(){return If(Yf).scale(152.63)},Pj=function(){return Ff(Xf).scale(131.154).center([0,13.9389])};Kf.invert=qf(KA);var Ej=function(){return If(Kf).scale(144.049).clipAngle(60)};Qf.invert=qf(Pc);var Mj=function(){return If(Qf).scale(249.5).clipAngle(90+BA)};Jf.invert=qf(function(e){return 2*KA(e)});var Tj=function(){return If(Jf).scale(250).clipAngle(142)};Zf.invert=function(e,t){return[-t,2*KA(eD(e))-WA]};var Cj=function(){var e=Vf(Zf),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)},Aj=fj(),Dj=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],jj={albers:yj,albersusa:vj,azimuthalequalarea:_j,azimuthalequidistant:wj,conicconformal:Sj,conicequalarea:gj,conicequidistant:Pj,equirectangular:kj,gnomonic:Ej,mercator:Oj,orthographic:Mj,stereographic:Tj,transversemercator:Cj};for(var Rj in jj)td(Rj,jj[Rj]);rd.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"as",type:"string",default:"path"}]};var Nj=E_(rd,cn);Nj.transform=function(e,t){function n(e){e[s]=a(o(e))}var r,i=t.fork(t.ALL),a=this.value,o=e.field||a_,s=e.as||"path";return!a||e.modified()?(this.value=a=nd(e.projection).context(null),i.materialize().reflow().visit(i.SOURCE,n)):(a.context(null),r=o===a_||t.modified(o.fields),i.visit(r?i.ADD_MOD:i.ADD,n)),i.modifies(s)},id.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};var Ij=E_(id,cn);Ij.transform=function(e,t){function n(e){var t=i([a(e),o(e)]);t?(e[l]=t[0],e[u]=t[1]):(e[l]=void 0,e[u]=void 0)}var r,i=e.projection,a=e.fields[0],o=e.fields[1],s=e.as||["x","y"],l=s[0],u=s[1];return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,n):(r=t.modified(a.fields)||t.modified(o.fields),t.visit(r?t.ADD_MOD:t.ADD,n)),t.modifies(s)},ad.Definition={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"as",type:"string",default:"shape"}]};var zj=E_(ad,cn);zj.transform=function(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||n_("datum"),a=e.as||"shape",o=n.ADD_MOD;return r&&!e.modified()||(this.value=r=od(nd(e.projection),i),n.materialize().reflow(),o=n.SOURCE),n.visit(o,function(e){e[a]=r}),n.modifies(a)},sd.Definition={type:"Graticule",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};var Fj=E_(sd,cn);Fj.transform=function(e,t){var n,r=t.fork(),i=this.value,a=this.generator;if(!i.length||e.modified())for(var o in e)b_(a[o])&&a[o](e[o]);return n=a(),i.length?r.mod.push(E(i[0],n)):r.add.push(S(n)),i[0]=n,r.source=i,r};var $j=E_(ld,cn);$j.transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=cd(e.type),Dj.forEach(function(t){null!=e[t]&&fd(n,t,e[t])})):Dj.forEach(function(t){e.modified(t)&&fd(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&ud(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var Lj=Object.freeze({contour:_c,geojson:wc,geopath:rd,geopoint:id,geoshape:ad,graticule:sd,projection:ld}),Uj=function(e,t){function n(){var n,i,a=r.length,o=0,s=0;for(n=0;n<a;++n)i=r[n],o+=i.x,s+=i.y;for(o=o/a-e,s=s/a-t,n=0;n<a;++n)i=r[n],i.x-=o,i.y-=s}var r;return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){r=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n},Bj=function(e){return function(){return e}},qj=function(){return 1e-6*(Math.random()-.5)},Wj=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return pd(this.cover(t,n),t,n,e)},Vj=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>a))return this;var o,s,l=i-n,u=this._root;switch(s=(t<(r+a)/2)<<1|e<(n+i)/2){case 0:do o=new Array(4),o[s]=u,u=o;while(l*=2,i=n+l,a=r+l,e>i||t>a);break;case 1:do o=new Array(4),o[s]=u,u=o;while(l*=2,n=i-l,a=r+l,n>e||t>a);break;case 2:do o=new Array(4),o[s]=u,u=o;while(l*=2,i=n+l,r=a-l,e>i||r>t);break;case 3:do o=new Array(4),o[s]=u,u=o;while(l*=2,n=i-l,r=a-l,n>e||r>t)}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Hj=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},Gj=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Yj=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},Xj=function(e,t,n){var r,i,a,o,s,l,u,c=this._x0,f=this._y0,d=this._x1,p=this._y1,h=[],m=this._root;for(m&&h.push(new Yj(m,c,f,d,p)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,p=t+n,n*=n);l=h.pop();)if(!(!(m=l.node)||(i=l.x0)>d||(a=l.y0)>p||(o=l.x1)<c||(s=l.y1)<f))if(m.length){var g=(i+o)/2,y=(a+s)/2;h.push(new Yj(m[3],g,y,o,s),new Yj(m[2],i,y,g,s),new Yj(m[1],g,a,o,y),new Yj(m[0],i,a,g,y)),(u=(t>=y)<<1|e>=g)&&(l=h[h.length-1],h[h.length-1]=h[h.length-1-u],h[h.length-1-u]=l)}else{var v=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),_=v*v+b*b;if(_<n){var x=Math.sqrt(n=_);c=e-x,f=t-x,d=e+x,p=t+x,r=m.data}}return r},Kj=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,l,u,c,f,d,p=this._root,h=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((u=a>=(s=(h+g)/2))?h=s:g=s,(c=o>=(l=(m+y)/2))?m=l:y=l,t=p,!(p=p[f=c<<1|u]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},Qj=function(){return this._root},Jj=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},Zj=function(e){var t,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new Yj(l,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new Yj(n,u,c,a,o)),(n=l[2])&&s.push(new Yj(n,r,c,u,o)),(n=l[1])&&s.push(new Yj(n,u,i,a,c)),(n=l[0])&&s.push(new Yj(n,r,i,u,c))}return this},eR=function(e){var t,n=[],r=[];for(this._root&&n.push(new Yj(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,l=t.x1,u=t.y1,c=(o+l)/2,f=(s+u)/2;(a=i[0])&&n.push(new Yj(a,o,s,c,f)),(a=i[1])&&n.push(new Yj(a,c,s,l,f)),(a=i[2])&&n.push(new Yj(a,o,f,c,u)),(a=i[3])&&n.push(new Yj(a,c,f,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},tR=function(e){return arguments.length?(this._x=e,this):this._x},nR=function(e){return arguments.length?(this._y=e,this):this._y},rR=vd.prototype=bd.prototype;rR.copy=function(){var e,t,n=new bd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=_d(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=_d(t));return n},rR.add=Wj,rR.addAll=hd,rR.cover=Vj,rR.data=Hj,rR.extent=Gj,rR.find=Xj,rR.remove=Kj,rR.removeAll=md,rR.root=Qj,rR.size=Jj,rR.visit=Zj,rR.visitAfter=eR,rR.x=tR,rR.y=nR;var iR,aR,oR=function(e){function t(){function e(e,t,n,r,i){var a=e.data,s=e.r,p=f+s;{if(!a)return t>u+p||r<u-p||n>c+p||i<c-p;if(a.index>l.index){var h=u-a.x-a.vx,m=c-a.y-a.vy,g=h*h+m*m;g<p*p&&(0===h&&(h=qj(),g+=h*h),0===m&&(m=qj(),g+=m*m),g=(p-(g=Math.sqrt(g)))/g*o,l.vx+=(h*=g)*(p=(s*=s)/(d+s)),l.vy+=(m*=g)*p,a.vx-=h*(p=1-p),a.vy-=m*p)}}}for(var t,r,l,u,c,f,d,p=i.length,h=0;h<s;++h)for(r=vd(i,xd,wd).visitAfter(n),t=0;t<p;++t)l=i[t],f=a[l.index],d=f*f,u=l.x+l.vx,c=l.y+l.vy,r.visit(e)}function n(e){if(e.data)return e.r=a[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function r(){if(i){var t,n,r=i.length;for(a=new Array(r),t=0;t<r;++t)n=i[t],a[n.index]=+e(n,t,i)}}var i,a,o=1,s=1;return"function"!=typeof e&&(e=Bj(null==e?1:+e)),t.initialize=function(e){i=e,r()},t.iterations=function(e){return arguments.length?(s=+e,t):s},t.strength=function(e){return arguments.length?(o=+e,t):o},t.radius=function(n){return arguments.length?(e="function"==typeof n?n:Bj(+n),r(),t):e},t},sR=function(e){function t(e){return 1/Math.min(c[e.source.index],c[e.target.index])}function n(t){for(var n=0,r=e.length;n<m;++n)for(var i,a,s,u,c,d,p,h=0;h<r;++h)i=e[h],a=i.source,s=i.target,u=s.x+s.vx-a.x-a.vx||qj(),c=s.y+s.vy-a.y-a.vy||qj(),d=Math.sqrt(u*u+c*c),d=(d-l[h])/d*t*o[h],u*=d,c*=d,s.vx-=u*(p=f[h]),s.vy-=c*p,a.vx+=u*(p=1-p),a.vy+=c*p}function r(){if(u){var t,n,r=u.length,p=e.length,h=I(u,d);for(t=0,c=new Array(r);t<p;++t)n=e[t],n.index=t,"object"!==s(n.source)&&(n.source=Sd(h,n.source)),"object"!==s(n.target)&&(n.target=Sd(h,n.target)),c[n.source.index]=(c[n.source.index]||0)+1,c[n.target.index]=(c[n.target.index]||0)+1;for(t=0,f=new Array(p);t<p;++t)n=e[t],f[t]=c[n.source.index]/(c[n.source.index]+c[n.target.index]);o=new Array(p),i(),l=new Array(p),a()}}function i(){if(u)for(var t=0,n=e.length;t<n;++t)o[t]=+p(e[t],t,e)}function a(){if(u)for(var t=0,n=e.length;t<n;++t)l[t]=+h(e[t],t,e)}var o,l,u,c,f,d=Od,p=t,h=Bj(30),m=1;return null==e&&(e=[]),n.initialize=function(e){u=e,r()},n.links=function(t){return arguments.length?(e=t,r(),n):e},n.id=function(e){return arguments.length?(d=e,n):d},n.iterations=function(e){return arguments.length?(m=+e,n):m},n.strength=function(e){return arguments.length?(p="function"==typeof e?e:Bj(+e),i(),n):p},n.distance=function(e){return arguments.length?(h="function"==typeof e?e:Bj(+e),a(),n):h},n},lR=0,uR=0,cR=0,fR=1e3,dR=0,pR=0,hR=0,mR="object"===("undefined"==typeof performance?"undefined":s(performance))&&performance.now?performance:Date,gR="object"===("undefined"==typeof window?"undefined":s(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};Ed.prototype=Md.prototype={constructor:Ed,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?kd():+n)+(null==t?0:+t),this._next||aR===this||(aR?aR._next=this:iR=this,aR=this),this._call=e,this._time=n,jd()},stop:function(){this._call&&(this._call=null,this._time=1/0,jd())}};var yR=10,vR=Math.PI*(3-Math.sqrt(5)),bR=function(e){function t(){n(),p.call("tick",a),o<s&&(d.stop(),p.call("end",a))}function n(){var t,n,r=e.length;for(o+=(u-o)*l,f.each(function(e){e(o)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=c:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=c:(n.y=n.fy,n.vy=0)}function r(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var i=yR*Math.sqrt(n),a=n*vR;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function i(t){return t.initialize&&t.initialize(e),t}var a,o=1,s=.001,l=1-Math.pow(s,1/300),u=0,c=.6,f=I(),d=Md(t),p=q("tick","end");return null==e&&(e=[]),r(),a={tick:n,restart:function(){return d.restart(t),a},stop:function(){return d.stop(),a},nodes:function(t){return arguments.length?(e=t,r(),f.each(i),a):e},alpha:function(e){return arguments.length?(o=+e,a):o},alphaMin:function(e){return arguments.length?(s=+e,a):s},alphaDecay:function(e){return arguments.length?(l=+e,a):+l},alphaTarget:function(e){return arguments.length?(u=+e,a):u},velocityDecay:function(e){return arguments.length?(c=1-e,a):1-c},force:function(e,t){return arguments.length>1?(null==t?f.remove(e):f.set(e,i(t)),a):f.get(e)},find:function(t,n,r){var i,a,o,s,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)s=e[u],i=t-s.x,a=n-s.y,o=i*i+a*a,o<r&&(l=s,r=o);return l},on:function(e,t){return arguments.length>1?(p.on(e,t),a):p.on(e)}}},_R=function(){function e(e){var t,s=i.length,l=vd(i,Rd,Nd).visitAfter(n);for(o=e,t=0;t<s;++t)a=i[t],l.visit(r)}function t(){if(i){var e,t,n=i.length;for(s=new Array(n),e=0;e<n;++e)t=i[e],s[t.index]=+l(t,e,i)}}function n(e){var t,n,r,i,a,o=0,l=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(o+=t.value,l+=n,r+=n*t.x,i+=n*t.y);e.x=r/l,e.y=i/l}else{t=e,t.x=t.data.x,t.y=t.data.y;do o+=s[t.data.index];while(t=t.next)}e.value=o}function r(e,t,n,r){if(!e.value)return!0;var i=e.x-a.x,l=e.y-a.y,d=r-t,p=i*i+l*l;if(d*d/f<p)return p<c&&(0===i&&(i=qj(),p+=i*i),0===l&&(l=qj(),p+=l*l),p<u&&(p=Math.sqrt(u*p)),a.vx+=i*e.value*o/p,a.vy+=l*e.value*o/p),!0;if(!(e.length||p>=c)){(e.data!==a||e.next)&&(0===i&&(i=qj(),p+=i*i),0===l&&(l=qj(),p+=l*l),p<u&&(p=Math.sqrt(u*p)));do e.data!==a&&(d=s[e.data.index]*o/p,a.vx+=i*d,a.vy+=l*d);while(e=e.next)}}var i,a,o,s,l=Bj(-30),u=1,c=1/0,f=.81;return e.initialize=function(e){i=e,t()},e.strength=function(n){return arguments.length?(l="function"==typeof n?n:Bj(+n),t(),e):l},e.distanceMin=function(t){return arguments.length?(u=t*t,e):Math.sqrt(u)},e.distanceMax=function(t){return arguments.length?(c=t*t,e):Math.sqrt(c)},e.theta=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e},xR=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vx+=(a[n]-t.x)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=Bj(.1);return"function"!=typeof e&&(e=Bj(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:Bj(+e),n(),t):o},t.x=function(r){return arguments.length?(e="function"==typeof r?r:Bj(+r),n(),t):e},t},wR=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vy+=(a[n]-t.y)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=Bj(.1);return"function"!=typeof e&&(e=Bj(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:Bj(+e),n(),t):o},t.y=function(r){return arguments.length?(e="function"==typeof r?r:Bj(+r),n(),t):e},t},OR={center:Uj,collide:oR,nbody:_R,link:sR,x:xR,y:wR},SR="forces",kR=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],PR=["static","iterations"],ER=["x","y","vx","vy"];Id.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:ER}]};var MR=E_(Id,cn);MR.transform=function(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(kR),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&$d(n,e,0,t)):(this.value=n=Fd(t.source,e),n.on("tick",zd(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(PR)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation;return this.finish(e,t)},MR.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if(n=i[a],n.name===SR&&"link"===n.op._argval.force)for(var s,l=n.op._argops,u=0,c=l.length;u<c;++u)if("links"===l[u].name&&(s=l[u].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(ER)};var TR=Object.freeze({force:Id}),CR=function e(){function e(e){var a,o=0;e.eachAfter(function(e){var n=e.children;n?(e.x=Wd(n),e.y=Hd(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)});var s=Yd(e),l=Xd(e),u=s.x-t(s,l)/2,c=l.x+t(l,s)/2;return e.eachAfter(i?function(t){t.x=(t.x-e.x)*n,t.y=(e.y-t.y)*r}:function(t){t.x=(t.x-u)/(c-u)*n,t.y=(1-(e.y?t.y/e.y:1))*r})}var t=qd,n=1,r=1,i=!1;return e.separation=function(n){return arguments.length?(t=n,e):t},e.size=function(t){return arguments.length?(i=!1,n=+t[0],r=+t[1],e):i?null:[n,r]},e.nodeSize=function(t){return arguments.length?(i=!0,n=+t[0],r=+t[1],e):i?[n,r]:null},e},AR=function(){return this.eachAfter(Kd)},DR=function(e){var t,n,r,i,a=this,o=[a];do for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);while(o.length);return this},jR=function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},RR=function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},NR=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},IR=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},zR=function(e){for(var t=this,n=Qd(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},FR=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},$R=function(){var e=[];return this.each(function(t){e.push(t)}),e},LR=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},UR=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t};rp.prototype=Jd.prototype={constructor:rp,count:AR,each:DR,eachAfter:RR,eachBefore:jR,sum:NR,sort:IR,path:zR,ancestors:FR,descendants:$R,leaves:LR,links:UR,copy:Zd};var BR=Array.prototype.slice,qR=function(e){for(var t,n,r=0,i=(e=ip(BR.call(e))).length,a=[];r<i;)t=e[r],n&&sp(n,t)?++r:(n=up(a=ap(a,t)),r=0);return n},WR=function(e){return function(){return e}},VR=function(){function e(e){return e.x=n/2,e.y=r/2,t?e.eachBefore(wp(t)).eachAfter(Op(i,.5)).eachBefore(Sp(1)):e.eachBefore(wp(xp)).eachAfter(Op(_p,1)).eachAfter(Op(i,e.r/Math.min(n,r))).eachBefore(Sp(Math.min(n,r)/(2*e.r))),e}var t=null,n=1,r=1,i=_p;return e.radius=function(n){return arguments.length?(t=vp(n),e):t},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i="function"==typeof t?t:WR(+t),e):i},e},HR=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},GR=function(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(r-t)/e.value;++s<l;)a=o[s],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*u},YR=function(){function e(e){var o=e.height+1;return e.x0=e.y0=i,e.x1=n,e.y1=r/o,e.eachBefore(t(r,o)),a&&e.eachBefore(HR),e}function t(e,t){return function(n){n.children&&GR(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var r=n.x0,a=n.y0,o=n.x1-i,s=n.y1-i;o<r&&(r=o=(r+o)/2),s<a&&(a=s=(a+s)/2),n.x0=r,n.y0=a,n.x1=o,n.y1=s}}var n=1,r=1,i=0,a=!1;return e.round=function(t){return arguments.length?(a=!!t,e):a},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i=+t,e):i},e},XR="$",KR={depth:-1},QR={},JR=function e(){function e(e){var r,i,a,o,s,l,u,c=e.length,f=new Array(c),d={};for(i=0;i<c;++i)r=e[i],s=f[i]=new rp(r),null!=(l=t(r,i,e))&&(l+="")&&(u=XR+(s.id=l),d[u]=u in d?QR:s);for(i=0;i<c;++i)if(s=f[i],l=n(e[i],i,e),null!=l&&(l+="")){if(o=d[XR+l],!o)throw new Error("missing: "+l);if(o===QR)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=KR,a.eachBefore(function(e){e.depth=e.parent.depth+1,--c}).eachBefore(np),a.parent=null,c>0)throw new Error("cycle");return a}var t=kp,n=Pp;return e.id=function(n){return arguments.length?(t=bp(n),e):t},e.parentId=function(t){return arguments.length?(n=bp(t),e):n},e};jp.prototype=Object.create(rp.prototype);var ZR=function(){function e(e){var r=Rp(e);if(r.eachAfter(t),r.parent.m=-r.z,r.eachBefore(n),l)e.eachBefore(i);else{var u=e,c=e,f=e;e.eachBefore(function(e){e.x<u.x&&(u=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)});var d=u===c?1:a(u,c)/2,p=d-u.x,h=o/(c.x+d+p),m=s/(f.depth||1);e.eachBefore(function(e){e.x=(e.x+p)*h,e.y=e.depth*m})}return e}function t(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t){Ap(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+a(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+a(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var r,i=e,o=e,s=t,l=i.parent.children[0],u=i.m,c=o.m,f=s.m,d=l.m;s=Tp(s),i=Mp(i),s&&i;)l=Mp(l),o=Tp(o),o.a=e,r=s.z+f-i.z-u+a(s._,i._),r>0&&(Cp(Dp(s,e,n),e,r),u+=r,c+=r),f+=s.m,u+=i.m,d+=l.m,c+=o.m;s&&!Tp(o)&&(o.t=s,o.m+=f-c),i&&!Mp(l)&&(l.t=i,l.m+=u-d,n=e)}return n}function i(e){e.x*=o,e.y=e.depth*s}var a=Ep,o=1,s=1,l=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(l=!1,o=+t[0],s=+t[1],e):l?null:[o,s]},e.nodeSize=function(t){return arguments.length?(l=!0,o=+t[0],s=+t[1],e):l?[o,s]:null},e},eN=function(e,t,n,r,i){for(var a,o=e.children,s=-1,l=o.length,u=e.value&&(i-n)/e.value;++s<l;)a=o[s],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*u},tN=(1+Math.sqrt(5))/2,nN=function e(t){function n(e,n,r,i,a){Np(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(tN),rN=function e(){function e(e){return e.x0=e.y0=0,e.x1=i,e.y1=a,e.eachBefore(t),o=[0],r&&e.eachBefore(HR),e}function t(e){var t=o[e.depth],r=e.x0+t,i=e.y0+t,a=e.x1-t,d=e.y1-t;a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),e.x0=r,e.y0=i,e.x1=a,e.y1=d,e.children&&(t=o[e.depth+1]=s(e)/2,r+=f(e)-t,i+=l(e)-t,a-=u(e)-t,d-=c(e)-t,a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),n(e,r,i,a,d))}var n=nN,r=!1,i=1,a=1,o=[0],s=_p,l=_p,u=_p,c=_p,f=_p;return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(i=+t[0],a=+t[1],e):[i,a]},e.tile=function(t){return arguments.length?(n=bp(t),e):n},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:WR(+t),e):s},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:WR(+t),e):l},e.paddingRight=function(t){return arguments.length?(u="function"==typeof t?t:WR(+t),e):u},e.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:WR(+t),e):c},e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:WR(+t),e):f},e},iN=function(e,t,n,r,i){function a(e,t,n,r,i,o,s){if(e>=t-1){var u=l[e];return u.x0=r,u.y0=i,u.x1=o,u.y1=s,void 0}for(var f=c[e],d=n/2+f,p=e+1,h=t-1;p<h;){var m=p+h>>>1;c[m]<d?p=m+1:h=m}d-c[p-1]<c[p]-d&&e+1<p&&--p;var g=c[p]-f,y=n-g;if(o-r>s-i){var v=(r*y+o*g)/n;a(e,p,g,r,i,v,s),a(p,t,y,v,i,o,s)}else{var b=(i*y+s*g)/n;a(e,p,g,r,i,o,b),a(p,t,y,r,b,o,s)}}var o,s,l=e.children,u=l.length,c=new Array(u+1);for(c[0]=s=o=0;o<u;++o)c[o+1]=s+=l[o].value;a(0,u,e.value,t,n,r,i)},aN=function(e,t,n,r,i){(1&e.depth?eN:GR)(e,t,n,r,i)},oN=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,l,u,c,f=-1,d=o.length,p=e.value;++f<d;){for(s=o[f],l=s.children,u=s.value=0,c=l.length;u<c;++u)s.value+=l[u].value;s.dice?GR(s,n,r,i,r+=(a-r)*s.value/p):eN(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else e._squarify=o=Np(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(tN);Ip.Definition={type:"Nest",metadata:{treesource:!0,source:!0,generates:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"key",type:"field"},{name:"generate",type:"boolean"}]};var sN=E_(Ip,cn);sN.transform=function(e,t){t.source||Qb("Nest transform requires an upstream data source.");var n,r,i,a=e.key||w,o=e.generate,s=e.modified(),l=o||s?t.fork(t.ALL):t;return(!this.value||s||t.changed())&&(o&&this.value&&(l.materialize(l.REM),this.value.each(function(e){e.children&&l.rem.push(e)})),n=v_(e.keys).reduce(function(e,t){return e.key(t),e},ix()).entries(t.source),this.value=r=Jd({values:n},zp),o&&(l.materialize(l.ADD),l.source=l.source.slice(),r.each(function(e){e.children&&(e=S(e.data),l.add.push(e),l.source.push(e))})),i=r.lookup={},r.each(function(e){null!=w(e.data)&&(i[a(e.data)]=e)})),l.source.root=this.value,l};var lN=E_(Fp,cn);lN.transform=function(e,t){t.source&&t.source.root||Qb(this.constructor.name+" transform requires a backing tree data source.");var n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;
e.field&&i.sum(e.field),e.sort&&i.sort(e.sort),$p(n,this.params,e);try{this.value=n(i)}catch(o){Qb(o)}return i.each(function(e){Lp(e,r,a)}),t.reflow(e.modified()).modifies(a).modifies("leaf")};var uN=["x","y","r","depth","children"];Up.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:3,default:uN}]};var cN=E_(Up,Fp);cN.layout=VR,cN.params=["size","padding"],cN.fields=uN;var fN=["x0","y0","x1","y1","depth","children"];Bp.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:fN}]};var dN=E_(Bp,Fp);dN.layout=YR,dN.params=["size","round","padding"],dN.fields=fN,qp.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};var pN=E_(qp,cn);pN.transform=function(e,t){t.source||Qb("Stratify transform requires an upstream data source.");var n,r,i=e.modified(),a=!this.value||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a&&(n=JR().id(e.key).parentId(e.parentKey)(t.source),r=n.lookup={},n.each(function(t){r[e.key(t.data)]=t}),this.value=n),t.source.root=this.value,i?t.fork(t.ALL):t};var hN={tidy:ZR,cluster:CR},mN=["x","y","depth","children"];Wp.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:mN}]};var gN=E_(Wp,Fp);gN.layout=function(e){var t=e||"tidy";return hN.hasOwnProperty(t)?hN[t]():void Qb("Unrecognized Tree layout method: "+t)},gN.params=["size","nodeSize","separation"],gN.fields=mN,Vp.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[{name:"key",type:"field"}]};var yN=E_(Vp,cn);yN.transform=function(e,t){function n(e){var t=a[e];t&&(s[e]=1,l.mod.push(t))}t.source&&t.source.root||Qb("TreeLinks transform requires a backing tree data source.");var r=t.source.root,i=r.lookup,a=this.value,o=e.key||w,s={},l=t.fork();return t.visit(t.REM,function(e){var t=o(e),n=a[t];n&&(delete a[t],l.rem.push(n))}),t.visit(t.ADD,function(e){var t,n=o(e);(t=Hp(i[n]))&&(l.add.push(a[n]=S({source:t,target:e})),s[n]=1)}),t.visit(t.MOD,function(e){var t=o(e),r=i[t],a=r.children;if(n(t),a)for(var l=0,u=a.length;l<u;++l)s[t=o(a[l].data)]||n(t)}),l};var vN={binary:iN,dice:GR,slice:eN,slicedice:aN,squarify:nN,resquarify:oN},bN=["x0","y0","x1","y1","depth","children"];Gp.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:bN}]};var _N=E_(Gp,Fp);_N.layout=function(){var e=rN();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){vN.hasOwnProperty(t)?e.tile(vN[t]):Qb("Unrecognized Treemap layout method: "+t)},e},_N.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],_N.fields=bN;var xN=Object.freeze({nest:Ip,pack:Up,partition:Bp,stratify:qp,tree:Wp,treelinks:Vp,treemap:Gp}),wN=function(e){return function(){return e}};Kp.prototype={constructor:Kp,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=eh(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Jp(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Zp(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Zp(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Jp(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?eh(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Jp(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Zp(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Jp(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,Zp(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Jp(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,Zp(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var ON,SN,kN,PN,EN,MN=[],TN=[],CN=1e-6,AN=1e-12;kh.prototype={constructor:kh,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return uh(t,e[n])});return n.data=t.site.data,n})},triangles:function e(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,l=-1,u=t[i[a-1]],c=u.left===s?u.right:u.left;++l<a;)o=c,u=t[i[l]],c=u.left===s?u.right:u.left,o&&c&&r<o.index&&r<c.index&&Oh(s,o,c)<0&&e.push([s.data,o.data,c.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],f=l*l+u*u;f<c&&(c=f,o=s.index)}});while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var DN=function(){function e(e){return new kh(e.map(function(r,i){var a=[Math.round(t(r,i,e)/CN)*CN,Math.round(n(r,i,e)/CN)*CN];return a.index=i,a.data=r,a}),r)}var t=Yp,n=Xp,r=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(n){return arguments.length?(t="function"==typeof n?n:wN(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:wN(+t),e):n},e.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},e.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],e):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},e};Ph.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};var jN=E_(Ph,cn),RN=[[-1e5,-1e5],[1e5,1e5]];jN.transform=function(e,t){var n,r,i,a,o=e.as||"path",s=t.source;for(n=DN().x(e.x).y(e.y),e.size?n.size(e.size):n.extent(e.extent||RN),this.value=n=n(s),r=n.polygons(),i=0,a=s.length;i<a;++i)s[i][o]=r[i]?"M"+r[i].join("L")+"Z":null;return t.reflow(e.modified()).modifies(o)};var NN=Object.freeze({voronoi:Ph}),IN=Math.PI/180,zN=64,FN=2048,$N=function e(){function t(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(zN<<5)/t,e.height=FN/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function n(e,t,n){for(var r,i,a,o=t.x,s=t.y,l=Math.sqrt(c[0]*c[0]+c[1]*c[1]),u=f(c),d=p()<.5?1:-1,h=-d;(r=u(h+=d))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=l));)if(t.x=o+i,t.y=s+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>c[0]||t.y+t.y1>c[1])&&(!n||!Mh(t,e,c[0]))&&(!n||Ch(t,n))){for(var m,g=t.sprite,y=t.width>>5,v=c[0]>>5,b=t.x-(y<<4),_=127&b,x=32-_,w=t.y1-t.y0,O=(t.y+t.y0)*v+(b>>5),S=0;S<w;S++){m=0;for(var k=0;k<=y;k++)e[O+k]|=m<<x|(k<y?(m=g[S*y+k])>>>_:0);O+=v}return t.sprite=null,!0}return!1}var r,i,a,o,s,l,u,c=[256,256],f=Ah,d=[],p=Math.random,e={};return e.layout=function(){for(var e=t(Rr()),f=jh((c[0]>>5)*c[1]),h=null,m=d.length,g=-1,y=[],v=d.map(function(e){return{text:r(e),font:i(e),style:o(e),weight:s(e),rotate:l(e),size:~~a(e),padding:u(e),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:e}}).sort(function(e,t){return t.size-e.size});++g<m;){var b=v[g];b.x=c[0]*(p()+.5)>>1,b.y=c[1]*(p()+.5)>>1,Eh(e,b,v,g),b.hasText&&n(f,b,h)&&(y.push(b),h?Th(h,b):h=[{x:b.x+b.x0,y:b.y+b.y0},{x:b.x+b.x1,y:b.y+b.y1}],b.x-=c[0]>>1,b.y-=c[1]>>1)}return y},e.words=function(t){return arguments.length?(d=t,e):d},e.size=function(t){return arguments.length?(c=[+t[0],+t[1]],e):c},e.font=function(t){return arguments.length?(i=Rh(t),e):i},e.fontStyle=function(t){return arguments.length?(o=Rh(t),e):o},e.fontWeight=function(t){return arguments.length?(s=Rh(t),e):s},e.rotate=function(t){return arguments.length?(l=Rh(t),e):l},e.text=function(t){return arguments.length?(r=Rh(t),e):r},e.spiral=function(t){return arguments.length?(f=LN[t]||t,e):f},e.fontSize=function(t){return arguments.length?(a=Rh(t),e):a},e.padding=function(t){return arguments.length?(u=Rh(t),e):u},e.random=function(t){return arguments.length?(p=t,e):p},e},LN={archimedean:Ah,rectangular:Dh},UN=["x","y","font","fontSize","fontStyle","fontWeight","angle"],BN=["text","font","rotate","fontSize","fontStyle","fontWeight"];Nh.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:UN}]};var qN=E_(Nh,cn);qN.transform=function(t,n){function r(e){var r=t[e];return b_(r)&&n.modified(r.fields)}var i=t.modified();if(i||n.changed(n.ADD_REM)||BN.some(r)){var a,o=n.materialize(n.SOURCE).source,s=this.value,l=t.as||UN,u=t.fontSize||14;if(b_(u)?a=t.fontSizeRange:u=x_(u),a){var c=u,f=Zl("sqrt")().domain(Ih(c,o)).range(a);u=function(e){return f(c(e))}}o.forEach(function(e){e[l[0]]=NaN,e[l[1]]=NaN,e[l[3]]=0});for(var d,p,h=s.words(o).text(t.text).size(t.size||[500,500]).padding(t.padding||1).spiral(t.spiral||"archimedean").rotate(t.rotate||0).font(t.font||"sans-serif").fontStyle(t.fontStyle||"normal").fontWeight(t.fontWeight||"normal").fontSize(u).random(e.random).layout(),m=s.size(),g=m[0]>>1,y=m[1]>>1,v=0,b=h.length;v<b;++v)d=h[v],p=d.datum,p[l[0]]=d.x+g,p[l[1]]=d.y+y,p[l[2]]=d.font,p[l[3]]=d.size,p[l[4]]=d.style,p[l[5]]=d.weight,p[l[6]]=d.rotate;return n.reflow(i).modifies(l)}};var WN=Object.freeze({wordcloud:Nh}),VN=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,s=a[0],l=a[1],u=o.length;for(n=0;n<s;++n)t[o[n]]|=r;for(n=l;n<u;++n)t[o[n]]|=r;return i}}};Hh.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var HN=E_(Hh,cn);HN.transform=function(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(function(e){return t.modified(e.fields)});return n?this.reinit(e,t):this.eval(e,t)}return this.init(e,t)},HN.init=function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},s=this._dims=[],l=a.length,u=0;u<l;++u)n=i[u].fname,r=o[n]||(o[n]=qh()),s.push(VN(r,u,a[u]));return this.eval(e,t)},HN.reinit=function(e,t){var n,r,i,a,o,s,l,u,c,f=t.materialize().fork(),d=e.fields,p=e.query,h=this._indices,m=this._dims,g=this.value,y=g.curr(),v=g.prev(),b=g.all(),_=f.rem=f.add,x=f.mod,w=p.length,O={};if(v.set(y),t.rem.length&&(o=this.remove(e,t,f)),t.add.length&&g.add(t.add),t.mod.length)for(s={},a=t.mod,l=0,u=a.length;l<u;++l)s[a[l]._index]=1;for(l=0;l<w;++l)c=d[l],(!m[l]||e.modified("fields",l)||t.modified(c.fields))&&(i=c.fname,(n=O[i])||(h[i]=r=qh(),O[i]=n=r.insert(c,t.source,0)),m[l]=VN(r,l,p[l]).onAdd(n,y));for(l=0,u=g.data().length;l<u;++l)o[l]||(v[l]!==y[l]?_.push(l):s[l]&&y[l]!==b&&x.push(l));return g.mask=(1<<w)-1,f},HN.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},HN.insert=function(e,t,n){var r,i,a,o=t.add,s=this.value,l=this._dims,u=this._indices,c=e.fields,f={},d=n.add,p=s.size(),h=p+o.length,m=l.length;s.resize(h,m),s.add(o);var g=s.curr(),y=s.prev(),v=s.all();for(r=0;r<m;++r)i=c[r].fname,a=f[i]||(f[i]=u[i].insert(c[r],o,p)),l[r].onAdd(a,g);for(;p<h;++p)y[p]=v,g[p]!==v&&d.push(p)},HN.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,s=o.curr(),l=o.all(),u=e.mod;for(n=0,r=u.length;n<r;++n)i=u[n]._index,s[i]!==l&&a.push(i)},HN.remove=function(e,t,n){var r,i,a,o,s=this._indices,l=this.value,u=l.curr(),c=l.prev(),f=l.all(),d={},p=n.rem,h=t.rem;for(r=0,i=h.length;r<i;++r)a=h[r]._index,d[a]=1,c[a]=o=u[a],u[a]=f,o!==f&&p.push(a);for(a in s)s[a].remove(i,d);return this.reindex(t,i,d),d},HN.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter(function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)})},HN.update=function(e,t,n){var r,i,a=this._dims,o=e.query,s=t.stamp,l=a.length,u=0;for(n.filters=0,i=0;i<l;++i)e.modified("query",i)&&(r=i,++u);if(1===u)u=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,u=0;i<l;++i)e.modified("query",i)&&(u|=a[i].one,this.incrementAll(a[i],o[i],s,n.add),n.rem=n.add);return u},HN.incrementAll=function(e,t,n,r){var i,a,o,s=this.value,l=s.seen(),u=s.curr(),c=s.prev(),f=e.index(),d=e.bisect(e.range),p=e.bisect(t),h=p[0],m=p[1],g=d[0],y=d[1],v=e.one;if(h<g)for(i=h,a=Math.min(g,m);i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;else if(h>g)for(i=g,a=Math.min(h,y);i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;if(m>y)for(i=Math.max(h,y),a=m;i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;else if(m<y)for(i=Math.max(g,m),a=y;i<a;++i)o=f[i],l[o]!==n&&(c[o]=u[o],l[o]=n,r.push(o)),u[o]^=v;e.range=t.slice()},HN.incrementOne=function(e,t,n,r){var i,a,o,s=this.value,l=s.curr(),u=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],p=f[1],h=c[0],m=c[1],g=e.one;if(d<h)for(i=d,a=Math.min(h,p);i<a;++i)o=u[i],l[o]^=g,n.push(o);else if(d>h)for(i=h,a=Math.min(d,m);i<a;++i)o=u[i],l[o]^=g,r.push(o);if(p>m)for(i=Math.max(d,m),a=p;i<a;++i)o=u[i],l[o]^=g,n.push(o);else if(p<m)for(i=Math.max(h,p),a=m;i<a;++i)o=u[i],l[o]^=g,r.push(o);e.range=t.slice()},Gh.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};var GN=E_(Gh,cn);GN.transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),s=r.curr(),l=r.prev(),u=function(e){return s[e]&n?null:o[e]};return a.filter(a.MOD,u),i&i-1?(a.filter(a.ADD,function(e){var t=s[e]&n,r=!t&&t^l[e]&n;return r?o[e]:null}),a.filter(a.REM,function(e){var t=s[e]&n,r=t&&!(t^(t^l[e]&n));return r?o[e]:null})):(a.filter(a.ADD,u),a.filter(a.REM,function(e){return(s[e]&n)===i?o[e]:null})),a.filter(a.SOURCE,function(e){return u(e._index)})};var YN=Object.freeze({crossfilter:Hh,resolvefilter:Gh}),XN="3.0.10",KN="default",QN=function e(t){var e=t._signals.cursor;e||(t._signals.cursor=e=t.add({user:KN,item:null})),t.on(t.events("view","mousemove"),e,function(t,n){var r=e.value,i=r?t_(r)?r:r.user:KN,a=n.item&&n.item.cursor||null;return r&&i===r.user&&a==r.item?r:{user:i,item:a}}),t.add(null,function(e){var t=e.cursor,n=this.value;return t_(t)||(n=t.item,t=t.user),Yh(t&&t!==KN?t:n||t),n},{cursor:e})},JN=function(e,t,n){var r,i,a,o=e._renderer.scene();return o&&(a=nm(e),i=t.changedTouches?t.changedTouches[0]:t,r=Zk(i,o),r[0]-=a[0],r[1]-=a[1]),t.dataflow=e,t.vega=im(e,n,r),t.item=n,t},ZN="view",eI="window",tI=function(e,t){return e=[e||"hover"],t=[t||"update",e],this.on(this.events("view","mouseover",lm),um,cm(e)),this.on(this.events("view","mouseout",lm),um,cm(t)),this},nI=function(){for(var e,t,n=this._eventListeners,r=n.length;--r>=0;)for(t=n[r],e=t.sources.length;--e>=0;)t.sources[e].removeEventListener(t.type,t.handler)},rI=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},iI="vega-bind",aI="vega-bind-name",oI="vega-bind-radio",sI="vega-option-",lI=function(e,t,n){if(t){var r=n.param,i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:function(t){i.source=!0,e.signal(r.signal,t).run()}},r.debounce&&(i.update=w_(r.debounce,i.update))),fm(i,t,r,e.signal(r.signal)),i.active||(e.on(e._signals[r.signal],null,function(){i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}},uI=function(e,t,n,r,i){return t=t||new r(e.loader()),t.initialize(n,em(e),tm(e),nm(e),i).background(e._background)},cI=function(e,t,n,r){var i=(new r).scene(e.scenegraph().root).initialize(n,nm(e),e);return t&&(i.handleTooltip=t.handleTooltip,t.handlers().forEach(function(e){i.on(e.type,e.handler)})),i},fI=function(e,t){var n,r,i=this,a=i._renderType,o=Uo(a);return e=i._el=e?vm(i,e):null,o||i.error("Unrecognized renderer type: "+a),n=o.handler||bo,r=e?o.renderer:o.headless,i._renderer=r?uI(i,i._renderer,e,r):null,i._handler=cI(i,i._handler,e,n),i._redraw=!0,e&&(t=t?vm(i,t):e.appendChild(rI("div",{class:"vega-bindings"})),i._bind.forEach(function(e){e.param.element&&(e.element=vm(i,e.param.element))}),i._bind.forEach(function(e){lI(i,e.element||t,e)})),i},dI=function(e,t,n){var r=Uo(t),i=r&&r.headless;return i?e.runAsync().then(function(){return uI(e,null,null,i,n).renderAsync(e._scenegraph.root)}):Promise.reject("Unrecognized renderer type: "+t)},pI=function(e,t){return e!==SP.Canvas&&e!==SP.SVG&&e!==SP.PNG?Promise.reject("Unrecognized image type: "+e):dI(this,e,t).then(function(t){return e===SP.SVG?bm(t.svg(),"image/svg+xml"):t.canvas().toDataURL("image/png")})},hI=function(e){return dI(this,SP.Canvas,e).then(function(e){return e.canvas()})},mI=function(e){return dI(this,SP.SVG,e).then(function(e){return e.svg()})},gI=function(e,t){return e=e||t.autosize,e_(e)?e:(e=e||"pad",{type:e})},yI=function(e,t){return e=e||t.padding,e_(e)?{top:_m(e.top),bottom:_m(e.bottom),left:_m(e.left),right:_m(e.right)}:xm(_m(e))},vI="outer",bI=["value","update","react","bind"],_I=function(e,t){var n=e.name;if(e.push===vI)t.signals[n]||wm("No prior signal definition",n),bI.forEach(function(t){void 0!==e[t]&&wm("Invalid property ",t)});else{var r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}};Om.prototype.visit=function(e){var t,n,r,i=this;if(e(i))return 1;for(t=Sm(i),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};var xI,wI,OI,SI,kI=1,PI=2,EI=3,MI=4,TI=5,CI=6,AI=7,DI=8,jI="ArrayExpression",RI="BinaryExpression",NI="CallExpression",II="ConditionalExpression",zI="Identifier",FI="Literal",$I="LogicalExpression",LI="MemberExpression",UI="ObjectExpression",BI="Property",qI="UnaryExpression",WI="Unexpected token %0",VI="Unexpected number",HI="Unexpected string",GI="Unexpected identifier",YI="Unexpected reserved word",XI="Unexpected end of input",KI="Invalid regular expression",QI="Invalid regular expression: missing /",JI="Octal literals are not allowed in strict mode.",ZI="Duplicate data property in object literal not allowed in strict mode",ez="ILLEGAL",tz="Disabled.",nz=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),rz=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),iz={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},az={if:1,this:1},oz=function(e){xI=e,wI=0,OI=xI.length,SI=null,Qm();var t=Tg();if(SI.type!==PI)throw new Error("Unexpect token after expression.");return t},sz={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},lz=function(e){function t(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}function n(e,n,r){return function(i){return t(e,i,n,r)}}var r="new Date",i="String",a="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&Qb("Missing arguments to clamp function."),t.length>3&&Qb("Too many arguments to clamp function.");var n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),indexof:n("indexOf",null),lastindexof:n("lastIndexOf",null),slice:n("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),replace:n("replace",i),regexp:a,test:n("test",a),if:function(t){t.length<3&&Qb("Missing arguments to if function."),t.length>3&&Qb("Too many arguments to if function.");var n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}},uz=function e(t){function n(e){if(t_(e))return e;var t=p[e.type];return null==t&&Qb("Unsupported type: "+e.type),t(e)}function e(e){var t={code:n(e),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},t}t=t||{};var r=t.whitelist?$_(t.whitelist):{},i=t.blacklist?$_(t.blacklist):{},a=t.constants||sz,o=(t.functions||lz)(n),s=t.globalvar,l=t.fieldvar,u={},c={},f=0,d=b_(s)?s:function(e){return s+'["'+e+'"]'},p={Literal:function(e){return e.raw},Identifier:function(e){var t=e.name;return f>0?t:i.hasOwnProperty(t)?Qb("Illegal identifier: "+t):a.hasOwnProperty(t)?a[t]:r.hasOwnProperty(t)?t:(u[t]=1,d(t))},MemberExpression:function(e){var t=!e.computed,r=n(e.object);t&&(f+=1);var i=n(e.property);return r===l&&(c[i]=1),t&&(f-=1),r+(t?"."+i:"["+i+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&Qb("Illegal callee type: "+e.callee.type);var t=e.callee.name,r=e.arguments,i=o.hasOwnProperty(t)&&o[t];return i||Qb("Unrecognized function: "+t),b_(i)?i(r):i+"("+r.map(n).join(",")+")"},ArrayExpression:function(e){return"["+e.elements.map(n).join(",")+"]"},BinaryExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+n(e.argument)+")"},ConditionalExpression:function(e){return"("+n(e.test)+"?"+n(e.consequent)+":"+n(e.alternate)+")"},LogicalExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(n).join(",")+"}"},Property:function(e){f+=1;var t=n(e.key);return f-=1,t+":"+n(e.value)}};return e.functions=o,e.constants=a,e},cz={},fz=new Date(2e3,0,1),dz=function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},pz=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),r=a-i,r>=n-t?[t,n]:[Math.min(Math.max(i,t),n-r),Math.min(Math.max(a,r),n)]},hz="undefined"!=typeof window&&window||null,mz=function(e,t,n,r,i,a){var o=Math.abs(t-e[0]),s=Math.abs(g_(e)-t);return o<s&&o<=n?r:s<=n?i:a},gz=function(e){return e[e.length-1]-e[0]||0},yz="Literal",vz="Identifier",bz="@",_z="%",xz=":",wz=function(e,t,n,r){var i=eS(t,n),a=e.domain(),o=a[0],s=a[a.length-1],l=ru(e,o,s);e.ticks&&(a=e.ticks(+r||15),o!==a[0]&&a.unshift(o),s!==a[a.length-1]&&a.push(s));for(var u=0,c=a.length;u<c;++u)i.stop(l(a[u]),e(a[u]));return i},Oz=ly("area"),Sz=ly("bounds"),kz=ly("centroid"),Pz={},Ez=function(e,t,n,r){var i,a=t[0],o=t[t.length-1];return a>o&&(i=a,a=o,o=i),n=void 0===n||n,r=void 0===r||r,(n?a<=e:a<e)&&(r?e<=o:e<o)},Mz=function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},Tz=function(e,t,n,r,i,a){var o,s,l=this.context.dataflow,u=this.context.data[e],c=u.input,f=u.changes,d=l.stamp();if(l._trigger===!1||!(c.value.length||t||r))return 0;if((!f||f.stamp<d)&&(u.changes=f=l.changeset(),f.stamp=d,l.runAfter(function(){u.modified=!0,l.pulse(c,f).run()},!0)),n&&(o=n===!0?l_:Zb(n)||x(n)?n:_y(n),f.remove(o)),t&&f.insert(t),r&&(o=_y(r),c.value.some(o)?f.remove(o):f.insert(r)),i)for(s in a)f.modify(i,s,a[s]);return 1},Cz="bin_",Az="intersect",Dz="union",jz="index:unit",Rz={random:function(){return e.random()},isArray:Zb,isBoolean:M_,isDate:T_,isNumber:C_,isObject:e_,isRegExp:A_,isString:t_,isTuple:x,toBoolean:I_,toDate:z_,toNumber:y_,toString:F_,pad:N_,peek:g_,truncate:L_,rgb:Cs,lab:Fs,hcl:Vs,hsl:Rs,sequence:Vw,format:Ag,utcFormat:jg,utcParse:Ng,timeFormat:Dg,timeParse:Rg,monthFormat:zg,monthAbbrevFormat:Fg,dayFormat:$g,dayAbbrevFormat:Lg,quarter:Ug,utcquarter:Bg,warn:Wg,info:Vg,debug:Hg,inScope:dz,clampRange:pz,pinchDistance:Gg,pinchAngle:Yg,screen:Xg,containerSize:Qg,windowSize:Kg,span:gz,flush:mz,bandspace:iy,inrange:Ez,setdata:py,panLinear:d,panLog:p,panPow:h,zoomLinear:g,zoomLog:y,zoomPow:v,encode:Mz,modify:Tz},Nz=["view","item","group","xy","x","y"],Iz="event.vega.",zz="this.",Fz={};jy("bandwidth",ry,ey),jy("copy",ay,ey),jy("domain",ny,ey),jy("range",ty,ey),jy("invert",sy,ey),jy("scale",oy,ey),jy("gradient",wz,ey),jy("geoArea",Oz,ey),jy("geoBounds",Sz,ey),jy("geoCentroid",kz,ey),jy("indata",fy,dy),jy("data",uy,cy),jy("vlSingle",Sy,cy),jy("vlSingleDomain",Ey,cy),jy("vlMulti",Sy,Py),jy("vlMultiDomain",Ey,Py),jy("vlInterval",ky,cy),jy("vlIntervalDomain",My,cy),jy("treePath",gy,cy),jy("treeAncestors",yy,cy);var $z,Lz,Uz={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+i("$"+e)+"]"},functions:Ry,constants:sz,visitors:Fz},Bz=uz(Uz),qz="$",Wz=function(e,t,n){var r,a,o={};try{r=oz(e)}catch(s){Qb("Expression parse error: "+i(e))}return r.visit(function(e){if("CallExpression"===e.type){var n=e.callee.name,r=Uz.visitors[n];r&&r(n,e.arguments,t,o)}}),a=Bz(r),a.globals.forEach(function(e){var n=qz+e;!o.hasOwnProperty(n)&&t.getSignal(e)&&(o[n]=t.signalRef(e))}),{$expr:n?n+"return("+a.code+");":a.code,$fields:a.fields,$params:o}},Vz="view",Hz="scope",Gz=function(e,t){return e.signal?t.getSignal(e.signal).id:e.scale?t.getScale(e.scale).id:Iy(e,t)},Yz=function(e,t,n){return $z=t||Xz,Lz=n||aF,Wy(e.trim()).map(Vy)},Xz="view",Kz="[",Qz="]",Jz="{",Zz="}",eF=":",tF=",",nF="@",rF=">",iF=/[[\]{}]/,aF={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},oF="var datum=event.item&&event.item.datum;",sF=function(e,t,n){var r,a=e.events,o=e.update,s=e.encode,l=[],u="";a||Qb("Signal update missing events specification."),t_(a)&&(a=Yz(a)),a=v_(a).filter(function(e){return e.signal||e.scale?(l.push(e),0):1}),a.length&&l.push(a.length>1?{merge:a}:a[0]),null!=s&&(o&&Qb("Signal encode and update are mutually exclusive."),o="encode(item(),"+i(s)+")"),u=t_(o)?Wz(o,t,oF):null!=o.expr?Wz(o.expr,t,oF):null!=o.value?o.value:null!=o.signal?{$expr:"_.value",$params:{value:t.signalRef(o.signal)}}:Qb("Invalid signal update specification."),r={target:n,update:u},e.force&&(r.options={force:!0}),l.forEach(function(e){e={source:Gz(e,t)},t.addUpdate(O_(e,r))})},lF=function(e,t){var n=t.getSignal(e.name);if(e.update){var r=Wz(e.update,t);n.update=r.$expr,n.params=r.$params}e.on&&e.on.forEach(function(e){sF(e,t,n.id)})},uF={$tupleid:1,toString:function(){return":_tupleid_:"}},cF=Zy("key"),fF="ascending",dF="descending",pF=ov("aggregate"),hF=ov("axisticks"),mF=ov("bound"),gF=ov("collect"),yF=ov("compare"),vF=ov("datajoin"),bF=ov("encode"),_F=ov("facet"),xF=ov("field"),wF=ov("key"),OF=ov("legendentries"),SF=ov("mark"),kF=ov("multiextent"),PF=ov("multivalues"),EF=ov("overlap"),MF=ov("params"),TF=ov("prefacet"),CF=ov("projection"),AF=ov("proxy"),DF=ov("relay"),jF=ov("render"),RF=ov("scale"),NF=ov("sieve"),IF=ov("sortitems"),zF=ov("viewlayout"),FF=ov("values"),$F=0,LF=["identity","ordinal","band","point","bin-linear","bin-ordinal","linear","pow","sqrt","log","sequential","time","utc","quantize","quantile","threshold"],UF=$_(LF),BF=$_(LF.slice(1,6)),qF=function(e,t){
var n={};for(var r in e)"name"!==r&&(n[r]=Pv(e[r],t));t.addProjection(e.name,n)},WF="top",VF="left",HF="right",GF="bottom",YF="index",XF="label",KF="offset",QF="perc",JF="size",ZF="total",e$="value",t$="guide-label",n$="guide-title",r$="group-title",i$=["shape","size","fill","stroke","strokeDash","opacity"],a$={name:1,interactive:1},o$=$_(["rule"]),s$=$_(["group","image","rect"]),l$=function(e,t){var n="";return o$[t]?n:(e.x2&&(e.x?(s$[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(s$[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},u$=function(e,t,n,r){function i(e,i,a,o){var s=m$(null,i,t,n,r),l=m$(null,a,t,n,r),u=m$(null,o,t,n,r);return"this."+e+"("+[s,l,u].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null},c$=function(e,t,n,r){var i=Wz(e,t);return i.$fields.forEach(function(e){r[e]=1}),O_(n,i.$params),i.$expr},f$=function(e,t,n,r){return Ev(e_(e)?e:{datum:e},t,n,r)},d$=function(e,t,n,r,i){var a,o,s,l=Tv(e.scale,n,r,i);return null!=e.range?(a=+e.range,o=l+".range()",t=0===a?o+"[0]":"($="+o+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=l+"("+t+")"),e.band&&(s=Mv(e.scale,n))&&(o=l+".bandwidth",a=+e.band,a=o+"()"+(1===a?"":"*"+a),s<0&&(a="("+o+"?"+a+":0)"),t=(t?t+"+":"")+a,e.extra&&(t="(datum.extra?"+l+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t},p$=function(e,t,n,r){return"this.gradient("+Tv(e.gradient,t,n,r)+","+i(e.start)+","+i(e.stop)+","+i(e.count)+")"},h$=function(e,t,n,r){return e_(e)?"("+m$(null,e,t,n,r)+")":e},m$=function(e,t,n,r,a){if(null!=t.gradient)return p$(t,n,r,a);var o=t.signal?c$(t.signal,n,r,a):t.color?u$(t.color,n,r,a):null!=t.field?f$(t.field,n,r,a):void 0!==t.value?i(t.value):void 0;return null!=t.scale&&(o=d$(t,o,n,r,a)),void 0===o&&(o=null),null!=t.exponent&&(o="Math.pow("+o+","+h$(t.exponent,n,r,a)+")"),null!=t.mult&&(o+="*"+h$(t.mult,n,r,a)),null!=t.offset&&(o+="+"+h$(t.offset,n,r,a)),t.round&&(o="Math.round("+o+")"),o},g$=function(e,t,n){return e+"["+i(t)+"]="+n+";"},y$=function(e,t,n,r,i){var a="";return t.forEach(function(t){var o=m$(e,t,n,r,i);a+=t.test?c$(t.test,n,r,i)+"?"+o+":":o}),g$("o",e,a)},v$="mark",b$="frame",_$="scope",x$="axis",w$="axis-domain",O$="axis-grid",S$="axis-label",k$="axis-tick",P$="axis-title",E$="legend",M$="legend-entry",T$="legend-gradient",C$="legend-label",A$="legend-symbol",D$="legend-title",j$="title",R$=function(e,t,n,r,i,a,o){return{type:e,name:o?o.name:void 0,role:t,style:o&&o.style||n,key:r,from:i,interactive:!(!o||!o.interactive),encode:jv(a,o,a$)}},N$="group",I$="rect",z$="rule",F$="symbol",$$="text",L$=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o,x:o,y:o},Dv(i,"width",n.gradientWidth),Dv(i,"height",n.gradientHeight),Dv(i,"stroke",n.gradientStrokeColor),Dv(i,"strokeWidth",n.gradientStrokeWidth),s.exit={opacity:o},s.update=a={x:o,y:o,fill:{gradient:t},opacity:{value:1}},Dv(a,"width",n.gradientWidth),Dv(a,"height",n.gradientHeight),R$(I$,T$,null,void 0,void 0,s,r)},U$="datum."+QF+'<=0?"left":datum.'+QF+'>=1?"right":"center"',B$=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},Dv(i,"fill",t.labelColor),Dv(i,"font",t.labelFont),Dv(i,"fontSize",t.labelFontSize),Dv(i,"fontWeight",t.labelFontWeight),Dv(i,"baseline",t.gradientLabelBaseline),Dv(i,"limit",t.gradientLabelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1},text:{field:XF}},i.x=a.x={field:QF,mult:t.gradientWidth},i.y=a.y={value:t.gradientHeight,offset:t.gradientLabelOffset},i.align=a.align={signal:U$},R$($$,C$,t$,QF,r,s,n)},q$=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},Dv(i,"align",t.labelAlign),Dv(i,"baseline",t.labelBaseline),Dv(i,"fill",t.labelColor),Dv(i,"font",t.labelFont),Dv(i,"fontSize",t.labelFontSize),Dv(i,"fontWeight",t.labelFontWeight),Dv(i,"limit",t.labelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1},text:{field:XF}},i.x=a.x={field:KF,offset:t.labelOffset},i.y=a.y={field:JF,mult:.5,offset:{field:ZF,offset:{field:{group:"entryPadding"},mult:{field:YF}}}},R$($$,C$,t$,e$,r,s,n)},W$=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},Dv(i,"shape",t.symbolType),Dv(i,"size",t.symbolSize),Dv(i,"strokeWidth",t.symbolStrokeWidth),e.fill||(Dv(i,"fill",t.symbolFillColor),Dv(i,"stroke",t.symbolStrokeColor)),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:KF,mult:.5},i.y=a.y={field:JF,mult:.5,offset:{field:ZF,offset:{field:{group:"entryPadding"},mult:{field:YF}}}},i$.forEach(function(t){e[t]&&(a[t]=i[t]={scale:e[t],field:e$})}),R$(F$,A$,null,e$,r,s,n)},V$=function(e,t,n,r){var i,a={value:0},o=e.title,s={};return s.enter=i={x:{field:{group:"padding"}},y:{field:{group:"padding"}},opacity:a},Dv(i,"align",t.titleAlign),Dv(i,"baseline",t.titleBaseline),Dv(i,"fill",t.titleColor),Dv(i,"font",t.titleFont),Dv(i,"fontSize",t.titleFontSize),Dv(i,"fontWeight",t.titleFontWeight),Dv(i,"limit",t.titleLimit),s.exit={opacity:a},s.update={opacity:{value:1},text:o&&o.signal?{signal:o.signal}:{value:o+""}},R$($$,D$,n$,null,r,s,n)},H$=function(e,t,n,r,i,a,o){return{type:N$,name:n,role:e,style:t,from:r,interactive:i,encode:a,marks:o}},G$=function e(t){var e=t.role||"";return e.indexOf("axis")&&e.indexOf("legend")?t.type===N$?_$:e||v$:e},Y$=function(e){return{clip:e.clip||!1,interactive:e.interactive!==!1,marktype:e.type,name:e.name||void 0,role:e.role||G$(e),zindex:+e.zindex||void 0}},X$=function(e,t){var n=fn(e.type);n||Qb("Unrecognized transform type: "+i(e.type));var r=Ky(n.type.toLowerCase(),null,zv(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r},K$=function(e,t,n){var r,i,a,o,s;return e?(r=e.facet)&&(t||Qb("Only group marks can be faceted."),null!=r.field?o=s=Jy(n.getData(r.data).output):(e.data?s=Jy(n.getData(e.data).aggregate):(a=X$(O_({type:"aggregate",groupby:v_(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=Jy(n.getData(r.data).output),o=s=Jy(n.add(a))),i=n.keyRef(r.groupby,!0))):o=Jy(n.add(gF(null,[{}]))),o||(o=e.$ref?e:Jy(n.getData(e.data).output)),{key:i,pulse:o,parent:s}};Xv.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],a=t[n-1],o=t[n-2],s=null;for(e.add(t[0]);r<n;++r)t[r].params.pulse=Jy(t[r-1]),e.add(t[r]),"aggregate"===t[r].type&&(s=t[r]);return new Xv(e,i,o,a,s)};var Q$=Xv.prototype;Q$.countsRef=function(e,t,n){var r,i,a,o=this,s=o.counts||(o.counts={}),l=Kv(t);return null!=l&&(e=o.scope,r=s[l]),r?n&&n.field&&Qv(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:Jy(o.output)},n&&n.field&&Qv(e,a,n),i=e.add(pF(a)),r=e.add(gF({pulse:Jy(i)})),r={agg:i,ref:Jy(r)},null!=l&&(s[l]=r)),r.ref},Q$.tuplesRef=function(){return Jy(this.values)},Q$.extentRef=function(e,t){return Jv(e,this,"extent","extent",t,!1)},Q$.domainRef=function(e,t){return Jv(e,this,"domain","values",t,!1)},Q$.valuesRef=function(e,t,n){return Jv(e,this,"vals","values",t,n||!0)},Q$.lookupRef=function(e,t){return Jv(e,this,"lookup","tupleindex",t,!1)},Q$.indataRef=function(e,t){return Jv(e,this,"indata","tupleindex",t,!0,!0)};var J$=function(e,t,n){var r,a,o,s,l=e.from.facet,u=l.name,c=Jy(t.getData(l.data).output);l.name||Qb("Facet must have a name: "+i(l)),l.data||Qb("Facet must reference a data set: "+i(l)),l.field?s=t.add(TF({field:t.fieldRef(l.field),pulse:c})):l.groupby?s=t.add(_F({key:t.keyRef(l.groupby),group:Jy(t.proxy(n.parent)),pulse:c})):Qb("Facet must specify groupby or field: "+i(l)),r=t.fork(),a=r.add(gF()),o=r.add(NF({pulse:Jy(a)})),r.addData(u,new Xv(r,a,a,o)),r.addSignal("parent",null),s.params.subflow={$subflow:fL(e,r).toRuntime()}},Z$=function(e,t,n){var r=t.add(TF({pulse:n.pulse})),i=t.fork();i.add(NF()),i.addSignal("parent",null),r.params.subflow={$subflow:fL(e,i).toRuntime()}},eL=function(e,t,n){var r,i,a=e.remove,o=e.insert,s=e.toggle,l=e.modify,u=e.values,c=t.add(Qy());r="if("+e.trigger+',modify("'+n+'",'+[o,a,s,l,u].map(function(e){return null==e?"null":e}).join(",")+"),0)",i=Wz(r,t),c.update=i.$expr,c.params=i.$params},tL=function(e,t){var n,r,i,a,o,s,l,u,c,f,d,p,h,m=G$(e),g=e.type===N$,y=e.from&&e.from.facet,v=e.layout||m===_$||m===b$,b=m===v$||v||y,_=e.overlap;i=K$(e.from,g,t),r=t.add(vF({key:i.key||(e.key?Zy(e.key):void 0),pulse:i.pulse,clean:!g})),c=Jy(r),r=a=t.add(gF({pulse:c})),r=t.add(SF({markdef:Y$(e),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Jy(r)})),f=Jy(r),r=t.add(bF(Rv(e.encode,e.type,m,e.style,t,{pulse:f}))),r.params.parent=t.encode(),e.transform&&e.transform.forEach(function(e){var n=X$(e,t);(n.metadata.generates||n.metadata.changes)&&Qb("Mark transforms should not generate new data."),n.params.pulse=Jy(r),t.add(r=n)}),e.sort&&(r=t.add(IF({sort:t.compareRef(e.sort),pulse:Jy(r)}))),d=Jy(r),(y||v)&&(v=t.add(zF({layout:t.objectProperty(e.layout),legendMargin:t.config.legendMargin,mark:f,pulse:d})),p=Jy(v)),o=t.add(mF({mark:f,pulse:p||d})),h=Jy(o),g&&(b&&(n=t.operators,n.pop(),v&&n.pop()),t.pushState(d,p||h,c),y?J$(e,t,i):b?Z$(e,t,i):fL(e,t),t.popState(),b&&(v&&n.push(v),n.push(o))),_&&(r={method:_.method===!0?"parity":_.method,pulse:h},_.order&&(r.sort=t.compareRef({field:_.order})),_.bound&&(r.boundScale=t.scaleRef(_.bound.scale),r.boundOrient=_.bound.orient,r.boundTolerance=_.bound.tolerance),h=Jy(t.add(EF(r)))),s=t.add(jF({pulse:h})),l=t.add(NF({pulse:Jy(s)},void 0,t.parent())),null!=e.name&&(u=e.name,t.addData(u,new Xv(t,a,s,l)),e.on&&e.on.forEach(function(e){(e.insert||e.remove||e.toggle)&&Qb("Marks only support modify triggers."),eL(e,t,u)}))},nL=function(e,t){var n,r,i,a,o,s,l,u,c=e.type||"symbol",f=t.config.legend,d=e.encode||{},p=d.legend||{},h=p.name||void 0,m=!!p.interactive,g=p.style,y=e.size||e.shape||e.fill||e.stroke||e.strokeDash||e.opacity;return y||Qb("Missing valid scale for legend."),n={orient:av(e.orient,f.orient),title:null!=e.title},r=Jy(t.add(gF(null,[n]))),p=jv({enter:eb(f),update:{offset:Av(av(e.offset,f.offset)),padding:Av(av(e.padding,f.padding)),titlePadding:Av(av(e.titlePadding,f.titlePadding))}},p,a$),s={update:{x:{field:{group:"padding"}},y:{field:{group:"padding"}},entryPadding:Av(av(e.entryPadding,f.entryPadding))}},"gradient"===c?(i=Jy(t.add(OF({type:"gradient",scale:t.scaleRef(y),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),u=[L$(e,y,f,d.gradient),B$(e,f,d.labels,i)]):(i=Jy(t.add(OF(l={scale:t.scaleRef(y),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),u=[W$(e,f,d.symbols,i),q$(e,f,d.labels,i)],l.size=Zv(e,t,u)),u=[H$(M$,null,null,r,m,s,u)],n.title&&(o=V$(e,f,d.title,r),s.update.y.offset={field:{group:"titlePadding"},offset:tb(t,o.encode,"fontSize",n$)},u.push(o)),a=H$(E$,g,h,r,m,p,u),e.zindex&&(a.zindex=e.zindex),tL(a,t)},rL=function(e,t){e=t_(e)?{text:e}:e;var n,r,i,a=t.config.title,o=O_({},e.encode);return n={orient:null!=e.orient?e.orient:a.orient},r=Jy(t.add(gF(null,[n]))),o.name=e.name,o.interactive=e.interactive,i=nb(e,a,o,r),e.zindex&&(i.zindex=e.zindex),tL(i,t)},iL=function(e,t){var n=t.config,r=e.orient,i=r===WF||r===GF?n.axisX:n.axisY,a=n["axis"+r[0].toUpperCase()+r.slice(1)],o="band"===t.scaleType(e.scale)&&n.axisBand;return i||a||o?O_({},n.axis,i,a,o):n.axis},aL=function(e,t,n,r){var i,a,o,s,l,u=e.orient,c={value:0},f={};return f.enter=i={opacity:c},Dv(i,"stroke",t.domainColor),Dv(i,"strokeWidth",t.domainWidth),f.exit={opacity:c},f.update=a={opacity:{value:1}},u===WF||u===GF?(o="x",l="y"):(o="y",l="x"),s=o+"2",i[l]=c,a[o]=i[o]=ob(e,0),a[s]=i[s]=ob(e,1),R$(z$,w$,null,null,r,f,n)},oL=function(e,t,n,r){var i,a,o,s,l,u,c,f,d=e.orient,p=e.gridScale,h=d===VF||d===WF?1:-1,m=h*e.offset||0,g={value:0},y={};return y.enter=i={opacity:g},Dv(i,"stroke",t.gridColor),Dv(i,"strokeWidth",t.gridWidth),Dv(i,"strokeDash",t.gridDash),y.exit=a={opacity:g},y.update=o={},Dv(o,"opacity",t.gridOpacity),s={scale:e.scale,field:e$,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},d===WF||d===GF?(l="x",u="y",f="height"):(l="y",u="x",f="width"),c=u+"2",o[l]=i[l]=a[l]=s,p?(i[u]={scale:p,range:0,mult:h,offset:m},o[c]=i[c]={scale:p,range:1,mult:h,offset:m}):(i[u]={value:m},o[c]=i[c]={signal:f,mult:h,offset:m}),R$(z$,O$,null,e$,r,y,n)},sL=function(e,t,n,r,i){var a,o,s,l,u,c=e.orient,f=c===VF||c===WF?-1:1,d={value:0},p={};return p.enter=a={opacity:d},Dv(a,"stroke",t.tickColor),Dv(a,"strokeWidth",t.tickWidth),p.exit=o={opacity:d},p.update=s={opacity:{value:1}},l=Av(i),l.mult=f,u={scale:e.scale,field:e$,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},c===WF||c===GF?(s.y=a.y=d,s.y2=a.y2=l,s.x=a.x=o.x=u):(s.x=a.x=d,s.x2=a.x2=l,s.y=a.y=o.y=u),R$(z$,k$,null,e$,r,p,n)},lL=function(e,t,n,r,i){var a,o,s,l,u,c=e.orient,f=c===VF||c===WF?-1:1,d=e.scale,p=av(e.labelPadding,t.labelPadding),h=av(e.labelBound,t.labelBound),m=av(e.labelFlush,t.labelFlush),g=null!=m&&m!==!1&&(m=+m)===m,y=+av(e.labelFlushOffset,t.labelFlushOffset),v=av(e.labelOverlap,t.labelOverlap),b={value:0},_={};return _.enter=a={opacity:b},Dv(a,"angle",t.labelAngle),Dv(a,"fill",t.labelColor),Dv(a,"font",t.labelFont),Dv(a,"fontSize",t.labelFontSize),Dv(a,"fontWeight",t.labelFontWeight),Dv(a,"limit",t.labelLimit),_.exit=o={opacity:b},_.update=s={opacity:{value:1},text:{field:XF}},l=Av(i),l.mult=f,l.offset=Av(p),l.offset.mult=f,u={scale:d,field:e$,band:.5,offset:t.tickOffset},c===WF||c===GF?(s.y=a.y=l,s.x=a.x=o.x=u,Dv(s,"align",g?sb(d,m,'"left"','"right"','"center"'):"center"),g&&y&&Dv(s,"dx",sb(d,m,-y,y,0)),Dv(s,"baseline",c===WF?"bottom":"top")):(s.x=a.x=l,s.y=a.y=o.y=u,Dv(s,"align",c===HF?"left":"right"),Dv(s,"baseline",g?sb(d,m,'"bottom"','"top"','"middle"'):"middle"),g&&y&&Dv(s,"dy",sb(d,m,y,-y,0))),e=R$($$,S$,t$,e$,r,_,n),(v||h)&&(e.overlap={method:v,order:"datum.index",bound:h?{scale:d,orient:c,tolerance:+h}:null}),e},uL=function(e,t,n,r){var i,a,o,s=e.orient,l=e.title,u=s===VF||s===WF?-1:1,c=s===WF||s===GF,f={};return f.enter=i={opacity:{value:0}},Dv(i,"align",t.titleAlign),Dv(i,"fill",t.titleColor),Dv(i,"font",t.titleFont),Dv(i,"fontSize",t.titleFontSize),Dv(i,"fontWeight",t.titleFontWeight),Dv(i,"limit",t.titleLimit),f.exit={opacity:{value:0}},f.update=a={opacity:{value:1},text:l&&l.signal?{signal:l.signal}:{value:l+""}},o={scale:e.scale,range:.5},c?(a.x=o,a.angle={value:0},a.baseline={value:s===WF?"bottom":"top"}):(a.y=o,a.angle={value:90*u},a.baseline={value:"bottom"}),Dv(a,"angle",t.titleAngle),Dv(a,"baseline",t.titleBaseline),!Dv(a,"x",t.titleX)&&c&&!Iv("x",n)&&(f.enter.auto={value:!0}),!Dv(a,"y",t.titleY)&&!c&&!Iv("y",n)&&(f.enter.auto={value:!0}),R$($$,P$,n$,null,r,f,n)},cL=function(e,t){var n,r,i,a,o,s,l=iL(e,t),u=e.encode||{},c=u.axis||{},f=c.name||void 0,d=!!c.interactive,p=c.style;return n={orient:e.orient,ticks:!!av(e.ticks,l.ticks),labels:!!av(e.labels,l.labels),grid:!!av(e.grid,l.grid),domain:!!av(e.domain,l.domain),title:!!av(e.title,!1)},r=Jy(t.add(gF({},[n]))),c=jv({update:{range:{signal:'abs(span(range("'+e.scale+'")))'},offset:Av(av(e.offset,0)),position:Av(av(e.position,0)),titlePadding:Av(av(e.titlePadding,l.titlePadding)),minExtent:Av(av(e.minExtent,l.minExtent)),maxExtent:Av(av(e.maxExtent,l.maxExtent))}},u.axis,a$),i=Jy(t.add(hF({scale:t.scaleRef(e.scale),extra:l.tickExtra,count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),s=[],n.grid&&s.push(oL(e,l,u.grid,i)),n.ticks&&(a=av(e.tickSize,l.tickSize),s.push(sL(e,l,u.ticks,i,a))),n.labels&&(a=n.ticks?a:0,s.push(lL(e,l,u.labels,i,a))),n.domain&&s.push(aL(e,l,u.domain,r)),n.title&&s.push(uL(e,l,u.title,r)),o=H$(x$,p,f,r,d,c,s),e.zindex&&(o.zindex=e.zindex),tL(o,t)},fL=function(e,t,n){var r=v_(e.signals),i=v_(e.scales);return n||r.forEach(function(e){_I(e,t)}),v_(e.projections).forEach(function(e){qF(e,t)}),i.forEach(function(e){uv(e,t)}),v_(e.data).forEach(function(e){rb(e,t)}),i.forEach(function(e){cv(e,t)}),r.forEach(function(e){lF(e,t)}),v_(e.axes).forEach(function(e){cL(e,t)}),v_(e.marks).forEach(function(e){tL(e,t)}),v_(e.legends).forEach(function(e){nL(e,t)}),e.title&&rL(e.title,t),t.parseLambdas(),t},dL=$_(["width","height","padding","autosize"]),pL=ub.prototype=cb.prototype;pL.fork=function(){return new cb(this)},pL.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig}},pL.id=function(){return(this._subid?this._subid+":":0)+this._id++},pL.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(function(t){t.$ref=e.id}),e.refs=null),e},pL.proxy=function(e){var t=e instanceof Xy?Jy(e):e;return this.add(AF({value:t}))},pL.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},pL.addUpdate=function(e){return this.updates.push(e),e},pL.finish=function(){function e(e,t,n){var r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}var t,n;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;for(t in this.data){n=this.data[t],e(n.input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values");for(var r in n.index)e(n.index[r],t,"index:"+r)}return this},pL.pushState=function(e,t,n){this._encode.push(Jy(this.add(NF({pulse:e})))),this._parent.push(t),this._lookup.push(n?Jy(this.proxy(n)):null),this._markpath.push(-1)},pL.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},pL.parent=function(){return g_(this._parent)},pL.encode=function(){return g_(this._encode)},pL.lookup=function(){return g_(this._lookup)},pL.markpath=function(){var e=this._markpath;return++e[e.length-1]},pL.fieldRef=function(e,t){if(t_(e))return Zy(e,t);e.signal||Qb("Unsupported field reference: "+i(e));var n,r=e.signal,a=this.field[r];return a||(n={name:this.signalRef(r)},t&&(n.as=t),this.field[r]=a=Jy(this.add(xF(n)))),a},pL.compareRef=function(e){function t(e){return iv(e)?(r=!0,Jy(n[e.signal])):e}var n=this.signals,r=!1,i=v_(e.field).map(t),a=v_(e.order).map(t);return r?Jy(this.add(yF({fields:i,orders:a}))):ev(i,a)},pL.keyRef=function(e,t){function n(e){return iv(e)?(i=!0,Jy(r[e.signal])):e}var r=this.signals,i=!1;return e=v_(e).map(n),i?Jy(this.add(wF({fields:e,flat:t}))):tv(e,t)},pL.sortRef=function(e){if(!e)return e;var t=[rv(e.op,e.field),uF],n=e.order||fF;return n.signal?Jy(this.add(yF({fields:t,orders:[n=this.signalRef(n.signal),n]}))):ev(t,[n,n])},pL.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},pL.addSignal=function(e,t){this.signals.hasOwnProperty(e)&&Qb("Duplicate signal name: "+i(e));var n=t instanceof Xy?t:this.add(Qy(t));return this.signals[e]=n},pL.getSignal=function(e){return this.signals[e]||Qb("Unrecognized signal name: "+i(e)),this.signals[e]},pL.signalRef=function(e){return this.signals[e]?Jy(this.signals[e]):(this.lambdas.hasOwnProperty(e)||(this.lambdas[e]=this.add(Qy(null))),Jy(this.lambdas[e]))},pL.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Wz(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},pL.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},pL.objectProperty=function(e){return e&&e_(e)?this.signalRef(e.signal||fb(e)):e},pL.addBinding=function(e,t){this.bindings||Qb("Nested signals do not support binding: "+i(e)),this.bindings.push(O_({signal:e},t))},pL.addScaleProj=function(e,t){this.scales.hasOwnProperty(e)&&Qb("Duplicate scale or projection name: "+i(e)),this.scales[e]=this.add(t)},pL.addScale=function(e,t){this.addScaleProj(e,RF(t))},pL.addProjection=function(e,t){this.addScaleProj(e,CF(t))},pL.getScale=function(e){return this.scales[e]||Qb("Unrecognized scale name: "+i(e)),this.scales[e]},pL.projectionRef=pL.scaleRef=function(e){return Jy(this.getScale(e))},pL.projectionType=pL.scaleType=function(e){return this.getScale(e).params.type},pL.addData=function(e,t){return this.data.hasOwnProperty(e)&&Qb("Duplicate data set name: "+i(e)),this.data[e]=t},pL.getData=function(e){return this.data[e]||Qb("Undefined data set name: "+i(e)),this.data[e]},pL.addDataPipeline=function(e,t){return this.data.hasOwnProperty(e)&&Qb("Duplicate data set name: "+i(e)),this.addData(e,Xv.fromEntries(this,t))};var hL=function(e){var t=hb();return(e||[]).forEach(function(e){var n,r,i;if(e)for(n in e)if("style"===n){i=t.style||(t.style={});for(n in e.style)i[n]=O_(i[n]||{},e.style[n])}else r=e[n],t[n]=e_(r)&&!Zb(r)?O_(e_(t[n])?t[n]:{},r):r}),t},mL="sans-serif",gL=30,yL=2,vL="#4c78a8",bL="#000",_L="#888",xL="#ddd",wL=function(e,t){return e_(e)||Qb("Input Vega specification must be an object."),lb(e,new ub(hL([t,e.config]))).toRuntime()},OL=[{key:"$ref",parse:Ob},{key:"$key",parse:kb},{key:"$expr",parse:Sb},{key:"$field",parse:Pb},{key:"$encode",parse:Mb},{key:"$compare",parse:Eb},{key:"$context",parse:Tb},{key:"$subflow",parse:Cb},{key:"$tupleid",parse:Ab}],SL=function(e,t){jb(e.type)||!e.type?t.operator(e,e.update?gb(e.update,t):null):t.transform(e,e.type)},kL=function(e,t){var n,r=null!=e.filter?vb(e.filter,t):void 0,i=null!=e.stream?t.get(e.stream):void 0;e.source?i=t.events(e.source,e.type,r):e.merge&&(n=e.merge.map(t.get.bind(t)),i=n[0].merge.apply(n[0],n.slice(1))),e.between&&(n=e.between.map(t.get.bind(t)),i=i.between(n[0],n[1])),e.filter&&(i=i.filter(r)),null!=e.throttle&&(i=i.throttle(+e.throttle)),null!=e.debounce&&(i=i.debounce(+e.debounce)),null==i&&Qb("Invalid stream definition: "+JSON.stringify(e)),e.consume&&i.consume(!0),t.stream(e,i)},PL=function(e,t){var n=t.get(e.source),r=null,i=e.update,a=void 0;n||Qb("Source not defined: "+e.source),r=e.target&&e.target.$expr?vb(e.target.$expr,t):t.get(e.target),i&&i.$expr&&(i.$params&&(a=xb(i.$params,t)),i=bb(i.$expr,t)),t.update(e,n,r,i,a)},EL=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),n.forEach(function(e){SL(e,t)}),n.forEach(function(e){Nb(e,t)}),(e.streams||[]).forEach(function(e){kL(e,t)}),(e.updates||[]).forEach(function(e){PL(e,t)}),t.resolve()},ML={skip:!0},TL=function(e,t,n){return new Fb(e,t,n)};Fb.prototype=$b.prototype={fork:function(){var e=new $b(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),Rb(e.type)&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.request(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var a=r.get(e.parent.$ref);a?(i.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(e.parent.$ref),i.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach(function(e){n[e]=t})},resolve:function(){return(this.unresolved||[]).forEach(function(e){e()}),delete this.unresolved,this},operator:function(e,t,n){this.add(e,this.dataflow.add(e.value,t,n,e.react))},transform:function(e,t,n){this.add(e,this.dataflow.add(this.transforms[Db(t)],n))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:Ib,setState:zb};var CL=function(e,t,n){var r=n||Rz;return EL(t,TL(e,Dw,r))},AL="padding",DL=E_(Yb,ln);DL.run=function(e){if(ln.prototype.run.call(this,e),this._redraw||this._resize)try{this.render()}catch(t){this.error(t)}return this},DL.render=function(){return this._renderer&&(this._resize&&(this._resize=0,rm(this)),this._renderer.render(this._scenegraph.root)),this._redraw=!1,this},DL.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},DL.container=function(){return this._el},DL.scenegraph=function(){return this._scenegraph},DL.signal=function(e,t,n){var r=Xb(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},DL.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},DL.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},DL.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},DL.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},DL.autosize=function(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},DL.renderer=function(e){return arguments.length?(Uo(e)||Qb("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._renderType},DL.loader=function(e){return arguments.length?(e!==this._loader&&(ln.prototype.loader.call(this,e),this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._loader},DL.resize=function(){return this._autosize=1,this},DL._resizeView=qb,DL.addEventListener=function(e,t){return this._handler.on(e,t),this},DL.removeEventListener=function(e,t){return this._handler.off(e,t),this},DL.addSignalListener=function(e,t){var n=Xb(this,e),r=function(){t(e,n.value)};return r.handler=t,this.on(n,null,r),this},DL.removeSignalListener=function(e,t){var n=Xb(this,e),r=n._targets||[],i=r.filter(function(e){var n=e._update;return n&&n.handler===t});return i.length&&r.remove(i[0]),this},DL.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},DL.tooltipHandler=function(e){var t=this._handler;return arguments.length?(t.handleTooltip=e||yo.prototype.handleTooltip,this):t.handleTooltip},DL.events=sm,DL.finalize=nI,DL.hover=tI,DL.data=Kh,DL.change=Qh,DL.insert=Jh,DL.remove=Zh,DL.initialize=fI,DL.toImageURL=pI,DL.toCanvas=hI,DL.toSVG=mI,DL.getState=Wb,DL.setState=Gb,O_(Dw,QO,uE,wA,Lj,TR,xN,NN,WN,YN),e.version=XN,e.Dataflow=ln,e.EventStream=j,e.Parameters=C,e.Pulse=Vt,e.MultiPulse=Xt,e.Operator=A,e.Transform=cn,e.changeset=T,e.ingest=S,e.isTuple=x,e.definition=fn,e.transform=dn,e.transforms=Dw,e.tupleid=w,e.scale=Zl,e.scheme=nA,e.interpolate=au,e.interpolateRange=nu,e.timeInterval=su,e.utcInterval=lu,e.projection=td,e.View=Yb,e.parse=wL,e.expressionFunction=jy,e.formatLocale=Sl,e.timeFormatLocale=Rt,e.runtime=EL,e.runtimeContext=TL,e.bin=Nw,e.bootstrapCI=aO,e.quartiles=oO,e.setRandom=wn,e.randomInteger=sO,e.randomKDE=uO,e.randomMixture=cO,e.randomNormal=lO,e.randomUniform=fO,e.accessor=Kb,e.accessorName=t,e.accessorFields=r,e.id=i_,e.identity=a_,e.zero=o_,e.one=s_,e.truthy=l_,e.falsy=u_,e.logger=m_,e.None=c_,e.Error=f_,e.Warn=d_,e.Info=p_,e.Debug=h_,e.panLinear=d,e.panLog=p,e.panPow=h,e.zoomLinear=g,e.zoomLog=y,e.zoomPow=v,e.array=v_,e.compare=__,e.constant=x_,e.debounce=w_,e.error=Qb,e.extend=O_,e.extentIndex=S_,e.fastmap=P_,e.field=n_,e.inherits=E_,e.isArray=Zb,e.isBoolean=M_,e.isDate=T_,e.isFunction=b_,e.isNumber=C_,e.isObject=e_,e.isRegExp=A_,e.isString=t_,e.key=D_,e.merge=j_,e.pad=N_,e.peek=g_,e.repeat=R_,e.splitAccessPath=Jb,e.stringValue=i,e.toBoolean=I_,e.toDate=z_,e.toNumber=y_,e.toString=F_,e.toSet=$_,e.truncate=L_,e.visitArray=U_,e.loader=yx,e.read=dw,e.inferType=oe,e.inferTypes=se,e.typeParsers=vx,e.formats=Cx,e.Bounds=Er,e.Gradient=eS,e.GroupItem=Tr,e.ResourceLoader=Ir,e.Item=Mr,e.Scenegraph=uo,e.Handler=yo,e.Renderer=vo,e.CanvasHandler=bo,e.CanvasRenderer=wo,e.SVGHandler=ko,e.SVGRenderer=To,e.SVGStringRenderer=zo,e.RenderType=SP,e.renderModule=Uo,e.Marks=Vk,e.boundContext=la,e.boundStroke=fk,e.boundItem=Hk,e.boundMark=Yk,e.pathCurves=Ei,e.pathSymbols=Di,e.pathRectangle=tk,e.pathTrail=rk,e.pathParse=VS,e.pathRender=KS,e.point=Zk,e.domCreate=fo,e.domFind=po,e.domChild=ho,e.domClear=mo,e.openTag=Eo,e.closeTag=Mo,e.font=eo,e.textMetrics=Lk,e.resetSVGClipId=xa,e.sceneEqual=Bo,e.pathEqual=qo,e.sceneToJSON=oo,e.sceneFromJSON=so,e.sceneZOrder=da,e.sceneVisit=pa,e.scenePickVisit=ha,Object.defineProperty(e,"__esModule",{value:!0})})}).call(t,n(152).Buffer)},function(e,t){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),a=Array.isArray(n);if(i&&a){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=a)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;var s=t instanceof Date,l=n instanceof Date;if(s&&l)return t.getTime()==n.getTime();if(s!=l)return!1;var u=t instanceof RegExp,c=n instanceof RegExp;if(u&&c)return t.toString()==n.toString();if(u!=c)return!1;for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(51),i=n(74),a=n(158),o=n(40),s=n(106),l="popstate",u="hashchange",c=s.canUseDOM&&!(0,i.supportsPopstateOnHashchange)(),f=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,a.readState)(t):void 0},void 0,t)},d=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return f(e)},p=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,i.isExtraneousPopstateEvent)(t)||e(f(t.state))};(0,i.addEventListener)(window,l,t);var n=function(){return e(d())};return c&&(0,i.addEventListener)(window,u,n),function(){(0,i.removeEventListener)(window,l,t),c&&(0,i.removeEventListener)(window,u,n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,a.saveState)(r,n),t({key:r},(0,o.createPath)(e))});t.pushLocation=function(e){return p(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return p(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(316),a=n(40),o=n(108),s=r(o),l=n(73),u=n(51),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,r=e.pushLocation,o=e.replaceLocation,c=e.go,f=e.keyLength,d=void 0,p=void 0,h=[],m=[],g=[],y=function(){return p&&p.action===l.POP?g.indexOf(p.key):d?g.indexOf(d.key):-1},v=function(e){var t=y();d=e,d.action===l.PUSH?g=[].concat(g.slice(0,t+1),[d.key]):d.action===l.REPLACE&&(g[t]=d.key),m.forEach(function(e){return e(d)})},b=function(e){return h.push(e),function(){return h=h.filter(function(t){return t!==e})}},_=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},x=function(e,t){(0,i.loopAsync)(h.length,function(t,n,r){(0,s.default)(h[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(e!==!1)}):t(e!==!1)})},w=function(e){d&&(0,u.locationsAreEqual)(d,e)||p&&(0,u.locationsAreEqual)(p,e)||(p=e,x(e,function(t){if(p===e)if(p=null,t){if(e.action===l.PUSH){var n=(0,a.createPath)(d),i=(0,a.createPath)(e);i===n&&(0,u.statesAreEqual)(d.state,e.state)&&(e.action=l.REPLACE)}e.action===l.POP?v(e):e.action===l.PUSH?r(e)!==!1&&v(e):e.action===l.REPLACE&&o(e)!==!1&&v(e)}else if(d&&e.action===l.POP){var s=g.indexOf(d.key),f=g.indexOf(e.key);s!==-1&&f!==-1&&c(s-f)}}))},O=function(e){return w(T(e,l.PUSH))},S=function(e){return w(T(e,l.REPLACE))},k=function(){return c(-1)},P=function(){return c(1)},E=function(){return Math.random().toString(36).substr(2,f||6);
},M=function(e){return(0,a.createPath)(e)},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E();return(0,u.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:_,transitionTo:w,push:O,replace:S,go:c,goBack:k,goForward:P,createKey:E,createPath:a.createPath,createHref:M,createLocation:T}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(44),a=(r(i),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(325),a=r(i),o=n(328),s=r(o),l=n(327),u=r(l),c=n(329),f=r(c),d=n(330),p=r(d),h=n(331),m=r(h),g=n(332),y=r(g),v=n(333),b=r(v),_=n(334),x=r(_),w=n(335),O=r(w),S=n(336),k=r(S),P=n(338),E=r(P),M=n(326),T=r(M),C=[u.default,s.default,f.default,m.default,y.default,b.default,x.default,O.default,k.default,p.default],A=(0,a.default)({prefixMap:T.default.prefixMap,plugins:C},E.default);t.default=A,e.exports=t.default},function(e,t){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(365),a=n(367),o=n(372),s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){"use strict";function r(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(382)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t,n){function r(){return o=!0,s?void(u=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!o&&(l=!0,!s)){for(s=!0;!o&&a<e&&l;)l=!1,t.call(this,a++,i,r);return s=!1,o?void n.apply(this,u):void(a>=e&&l&&(o=!0,n()))}}var a=0,o=!1,s=!1,l=!1,u=void 0;i()}function r(e,t,n){function r(e,t,r){o||(t?(o=!0,n(t)):(a[e]=r,o=++s===i,o&&n(null,a)))}var i=e.length,a=[];if(0===i)return n(null,a);var o=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"@@contextSubscriber/"+e}function a(e){var t,n,r=i(e),a=r+"/listeners",o=r+"/eventIndex",s=r+"/subscribe";return n={childContextTypes:(t={},t[r]=u.isRequired,t),getChildContext:function(){var e;return e={},e[r]={eventIndex:this[o],subscribe:this[s]},e},componentWillMount:function(){this[a]=[],this[o]=0},componentWillReceiveProps:function(){this[o]++},componentDidUpdate:function(){var e=this;this[a].forEach(function(t){return t(e[o])})}},n[s]=function(e){var t=this;return this[a].push(e),function(){t[a]=t[a].filter(function(t){return t!==e})}},n}function o(e){var t,n,r=i(e),a=r+"/lastRenderedEventIndex",o=r+"/handleContextUpdate",s=r+"/unsubscribe";return n={contextTypes:(t={},t[r]=u,t),getInitialState:function(){var e;return this.context[r]?(e={},e[a]=this.context[r].eventIndex,e):{}},componentDidMount:function(){this.context[r]&&(this[s]=this.context[r].subscribe(this[o]))},componentWillReceiveProps:function(){var e;this.context[r]&&this.setState((e={},e[a]=this.context[r].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[o]=function(e){if(e!==this.state[a]){var t;this.setState((t={},t[a]=e,t))}},n}t.__esModule=!0,t.ContextProvider=a,t.ContextSubscriber=o;var s=n(10),l=r(s),u=l.default.shape({subscribe:l.default.func.isRequired,eventIndex:l.default.number.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(10);t.routerShape=(0,r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired}),t.locationShape=(0,r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(20),s=r(o),l=n(9),u=r(l),c=n(37),f=r(c),d=n(10),p=n(410),h=r(p),m=n(115),g=n(41),y=(0,f.default)({displayName:"RouterContext",mixins:[(0,m.ContextProvider)("router")],propTypes:{router:d.object.isRequired,location:d.object.isRequired,routes:d.array.isRequired,params:d.object.isRequired,components:d.array.isRequired,createElement:d.func.isRequired},getDefaultProps:function(){return{createElement:u.default.createElement}},childContextTypes:{router:d.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,o=t.params,l=t.components,c=t.router,f=null;return l&&(f=l.reduceRight(function(t,s,l){if(null==s)return t;var u=r[l],f=(0,h.default)(u,o),d={location:n,params:o,route:u,router:c,routeParams:f,routes:r};if((0,g.isReactChildren)(t))d.children=t;else if(t)for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(d[p]=t[p]);if("object"===("undefined"==typeof s?"undefined":a(s))){var m={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(m[y]=e.createElement(s[y],i({key:y},d)));return m}return e.createElement(s,d)},f)),null===f||f===!1||u.default.isValidElement(f)?void 0:(0,s.default)(!1),f}});t.default=y,e.exports=t.default},function(e,t,n){var r=n(418);e.exports=r},function(e,t,n){var r=n(419),i=n(10);e.exports=function(e,t,n){var i=e[t];if(i){var a=[];if(Object.keys(i).forEach(function(e){r.indexOf(e)===-1&&a.push(e)}),a.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+a.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},[556,5,7,3,1,21,13],[562,5,7,11,1,13],function(e,t,n){"use strict";function r(e,t){var n="datum"+d.accessPath(e);if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return l.warn(l.message.unrecognizedParse(t)),null}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(60),s=n(7),l=n(3),u=n(128),c=n(64),f=n(88),d=n(1),p=n(14),h=n(13),m=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i(t,e),t.prototype.clone=function(){return new t(d.duplicate(this.parse))},t.make=function(e){var n={},r={};(e.transforms||[]).forEach(function(e){f.isCalculate(e)?r[e.as]=!0:f.isFilter(e)&&u.forEachLeave(e.filter,function(e){c.isFieldPredicate(e)&&e.timeUnit&&(n[e.field]="date")})},{}),(p.isUnitModel(e)||p.isFacetModel(e))&&e.forEachFieldDef(function(e){if(s.isTimeFieldDef(e))n[e.field]="date";else if(s.isNumberFieldDef(e)){if(r[e.field]||o.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var a=i.format.parse;d.keys(a).forEach(function(e){n[e]=a[e]})}var h=e.component.data.ancestorParse;return d.keys(h).forEach(function(e){n[e]!==h[e]?l.warn(l.message.differentParse(e,n[e],h[e])):delete n[e]}),0===d.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=a({},this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.dependentFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return d.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(h.DataFlowNode);t.ParseNode=m},[569,26,7,1,21,13],[606,5,3,11,1,17,85],[611,3,17],[621,60,187,61,5,86,442,208,42,46,28,479,7,127,22,11,87,55,130,65,88,23,1,483,357],[622,1],function(e,t){"use strict";function n(e){return!!e.or}function r(e){return!!e.and}function i(e){return!!e.not}function a(e,t){if(i(e))a(e.not,t);else if(r(e))for(var o=0,s=e.and;o<s.length;o++){var l=s[o];a(l,t)}else if(n(e))for(var u=0,c=e.or;u<c.length;u++){var l=c[u];a(l,t)}else t(e)}function o(e,t){return i(e)?{not:o(e.not,t)}:r(e)?{and:e.and.map(function(e){return o(e,t)})}:n(e)?{or:e.or.map(function(e){return o(e,t)})}:t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicalOr=n,t.isLogicalAnd=r,t.isLogicalNot=i,t.forEachLeave=a,t.normalizeLogicalOperand=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECTION_ID="_vgsid_",t.defaultConfig={single:{on:"click",fields:[t.SELECTION_ID],resolve:"global",empty:"all"},multi:{on:"click",fields:[t.SELECTION_ID],toggle:"event.shiftKey",resolve:"global",empty:"all"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global"}}},[624,60,5,28,7,3,22,11,1],[556,6,8,4,2,24,15],[562,6,8,12,2,15],function(e,t,n){"use strict";function r(e,t){var n="datum"+d.accessPath(e);if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return l.warn(l.message.unrecognizedParse(t)),null}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(66),s=n(8),l=n(4),u=n(138),c=n(70),f=n(99),d=n(2),p=n(16),h=n(15),m=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i(t,e),t.prototype.clone=function(){return new t(d.duplicate(this.parse))},t.make=function(e){var n={},r={};(e.transforms||[]).forEach(function(e){f.isCalculate(e)?r[e.as]=!0:f.isFilter(e)&&u.forEachLeave(e.filter,function(e){c.isFieldPredicate(e)&&e.timeUnit&&(n[e.field]="date")})},{}),(p.isUnitModel(e)||p.isFacetModel(e))&&e.forEachFieldDef(function(e){if(s.isTimeFieldDef(e))n[e.field]="date";else if(s.isNumberFieldDef(e)){if(r[e.field]||o.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var a=i.format.parse;d.keys(a).forEach(function(e){n[e]=a[e]})}var h=e.component.data.ancestorParse;return d.keys(h).forEach(function(e){n[e]!==h[e]?l.warn(l.message.differentParse(e,n[e],h[e])):delete n[e]}),0===d.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=a({},this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.dependentFields=function(){return d.toSet(d.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return d.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(h.DataFlowNode);t.ParseNode=m},[569,27,8,2,24,15],[606,6,4,12,2,18,96],[611,4,18],[622,2],128,129,[624,66,6,30,8,4,25,12,2],function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){i.copy(e,this)}var i=n(49);e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maximum"==t,m=h?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[m],y=e.opts.$data&&g&&g.$data,v=h?"<":">",b=h?">":"<",r=void 0;if(y){var _=e.util.getData(g.$data,s,e.dataPathArr),x="exclusive"+o,w="exclType"+o,O="exclIsNumber"+o,S="op"+o,k="' + "+S+" + '";a+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,a+=" var "+x+"; var "+w+" = typeof "+_+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ";var r=m,P=P||[];P.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var E=a;a=P.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+w+" == 'number' ? ( ("+x+" = "+i+" === undefined || "+_+" "+v+"= "+i+") ? "+d+" "+b+"= "+_+" : "+d+" "+b+" "+i+" ) : ( ("+x+" = "+_+" === true) ? "+d+" "+b+"= "+i+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { var op"+o+" = "+x+" ? '"+v+"' : '"+v+"=';"}else{var O="number"==typeof g,k=v;if(O&&p){var S="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" ( "+i+" === undefined || "+g+" "+v+"= "+i+" ? "+d+" "+b+"= "+g+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { "}else{O&&void 0===l?(x=!0,r=m,c=e.errSchemaPath+"/"+m,i=g,b+="="):(O&&(i=Math[h?"min":"max"](g,l)),g===(!O||i)?(x=!0,r=m,c=e.errSchemaPath+"/"+m,b+="="):(x=!1,k+="="));var S="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+" "+b+" "+i+" || "+d+" !== "+d+") { "}}r=r||t;var P=P||[];P.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+S+", limit: "+i+", exclusive: "+x+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+k+" ",a+=p?"' + "+i:""+i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var E=a;return a=P.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxItems"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+".length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxLength"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=e.opts.unicode===!1?" "+d+".length ":" ucs2length("+d+") ",a+=" "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&l&&l.$data;p?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var h="maxProperties"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" Object.keys("+d+").length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+l,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+u:""+l,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){function r(e){for(var t=e.rules,n=0;n<t.length;n++)if(i(t[n]))return!0}function i(t){return void 0!==e.schema[t.keyword]||t.implements&&a(t)}function a(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}var o="",s=e.schema.$async===!0,l=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),u=e.self._getId(e.schema);if(e.isTop&&(o+=" var validate = ",s&&(e.async=!0,o+="async "),o+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",u&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" "+("/*# sourceURL="+u+" */")+" ")),"boolean"==typeof e.schema||!l&&!e.schema.$ref){var c,t="false schema",f=e.level,d=e.dataLevel,p=e.schema[t],h=e.schemaPath+e.util.getProperty(t),m=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,y="data"+(d||""),v="valid"+f;if(e.schema===!1){e.isTop?g=!0:o+=" var "+v+" = false; ";var b=b||[];b.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(c||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),o+=!e.compositeRule&&g?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else o+=e.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+v+" = true; ";return e.isTop&&(o+=" }; return validate; "),o}if(e.isTop){var x=e.isTop,f=e.level=0,d=e.dataLevel=0,y="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; "}else{var f=e.level,d=e.dataLevel,y="data"+(d||"");if(u&&(e.baseId=e.resolve.url(e.baseId,u)),s&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+f+" = errors;"}var c,v="valid"+f,g=!e.opts.allErrors,w="",O="",S=e.schema.type,k=Array.isArray(S);if(k&&1==S.length&&(S=S[0],k=!1),e.schema.$ref&&l){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(l=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(o+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var P=e.util.coerceToTypes(e.opts.coerceTypes,S);var E=e.RULES.types[S];if(P||k||E===!0||E&&!r(E)){var h=e.schemaPath+".type",m=e.errSchemaPath+"/type",h=e.schemaPath+".type",m=e.errSchemaPath+"/type",M=k?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[M](S,y,!0)+") { ",P){var T="dataType"+f,C="coerced"+f;o+=" var "+T+" = typeof "+y+"; ","array"==e.opts.coerceTypes&&(o+=" if ("+T+" == 'object' && Array.isArray("+y+")) "+T+" = 'array'; "),o+=" var "+C+" = undefined; ";var A="",D=P;if(D)for(var j,R=-1,N=D.length-1;R<N;)j=D[R+=1],R&&(o+=" if ("+C+" === undefined) { ",A+="}"),"array"==e.opts.coerceTypes&&"array"!=j&&(o+=" if ("+T+" == 'array' && "+y+".length == 1) { "+C+" = "+y+" = "+y+"[0]; "+T+" = typeof "+y+";  } "),"string"==j?o+=" if ("+T+" == 'number' || "+T+" == 'boolean') "+C+" = '' + "+y+"; else if ("+y+" === null) "+C+" = ''; ":"number"==j||"integer"==j?(o+=" if ("+T+" == 'boolean' || "+y+" === null || ("+T+" == 'string' && "+y+" && "+y+" == +"+y+" ","integer"==j&&(o+=" && !("+y+" % 1)"),o+=")) "+C+" = +"+y+"; "):"boolean"==j?o+=" if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+C+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+C+" = true; ":"null"==j?o+=" if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==j&&(o+=" if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+y+" == null) "+C+" = ["+y+"]; ");o+=" "+A+" if ("+C+" === undefined) {   ";var b=b||[];b.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",o+=k?""+S.join(","):""+S,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=k?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),o+=!e.compositeRule&&g?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  ";var I=d?"data"+(d-1||""):"parentData",z=d?e.dataPathArr[d]:"parentDataProperty";o+=" "+y+" = "+C+"; ",d||(o+="if ("+I+" !== undefined)"),o+=" "+I+"["+z+"] = "+C+"; } "}else{var b=b||[];b.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",o+=k?""+S.join(","):""+S,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=k?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),o+=!e.compositeRule&&g?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}o+=" } "}}if(e.schema.$ref&&!l)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",g&&(o+=" } if (errors === ",o+=x?"0":"errs_"+f,o+=") { ",O+="}");else{var F=e.RULES;if(F)for(var E,$=-1,L=F.length-1;$<L;)if(E=F[$+=1],r(E)){if(E.type&&(o+=" if ("+e.util.checkDataType(E.type,y)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==E.type&&e.schema.properties){var p=e.schema.properties,U=Object.keys(p),B=U;if(B)for(var q,W=-1,V=B.length-1;W<V;){q=B[W+=1];var H=p[q];if(void 0!==H.default){var G=y+e.util.getProperty(q);o+="  if ("+G+" === undefined) "+G+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",o+="; "}}}else if("array"==E.type&&Array.isArray(e.schema.items)){var Y=e.schema.items;if(Y)for(var H,R=-1,X=Y.length-1;R<X;)if(H=Y[R+=1],void 0!==H.default){var G=y+"["+R+"]";o+="  if ("+G+" === undefined) "+G+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",o+="; "}}var K=E.rules;if(K)for(var Q,J=-1,Z=K.length-1;J<Z;)if(Q=K[J+=1],i(Q)){var ee=Q.code(e,Q.keyword,E.type);ee&&(o+=" "+ee+" ",g&&(w+="}"))}if(g&&(o+=" "+w+" ",w=""),E.type&&(o+=" } ",S&&S===E.type&&!P)){o+=" else { ";var h=e.schemaPath+".type",m=e.errSchemaPath+"/type",b=b||[];b.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(c||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",o+=k?""+S.join(","):""+S,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=k?""+S.join(","):""+S,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),o+=" } "):o+=" {} ";var _=o;o=b.pop(),o+=!e.compositeRule&&g?e.async?" throw new ValidationError(["+_+"]); ":" validate.errors = ["+_+"]; return false; ":" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } "}g&&(o+=" if (errors === ",o+=x?"0":"errs_"+f,o+=") { ",O+="}")}}return g&&(o+=" "+O+" "),x?(s?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }; return validate;"):o+=" var "+v+" = errors === errs_"+f+";",o=e.util.cleanUpCode(o),x&&(o=e.util.finalCleanUpCode(o,s)),o}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return{value:e.vegaSpec,compiledVegaSpec:e.compiledVegaSpec,mode:e.mode}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(9),d=i(f),p=n(32),h=n(39),m=r(h),g={cursor:"pointer"},y={position:"absolute",right:"50%",height:25,width:35},v=u("svg",{style:y},void 0,u("polygon",{points:"5,5 30,5 17.5,20"})),b=u("svg",{style:y},void 0,u("polygon",{points:"5,20 30,20 17.5,5"})),_=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"editVegaSpec",value:function(){this.props.updateVegaSpec(JSON.stringify(this.props.value,null,2))}},{key:"render",value:function(){if(this.props.compiledVegaSpec){var e=Object.assign({},g,{position:"static"});return u("div",{className:"editor-header",style:e,onClick:this.props.showCompiledVegaSpec},void 0,u("span",{style:{marginLeft:10}},void 0,"Compiled Vega"),v,u("button",{onClick:this.editVegaSpec.bind(this),style:{position:"absolute",right:"3%",cursor:"pointer"}},void 0,"Edit Vega spec"))}return u("div",{onClick:this.props.showCompiledVegaSpec,className:"editor-header",style:g},void 0,u("span",{style:{marginLeft:10}},void 0,"Compiled Vega"),b)}}]),t}(d.default.Component),x=function(e){return{updateVegaSpec:function(t){e(m.updateVegaSpec(t))},showCompiledVegaSpec:function(){e(m.showCompiledVegaSpec())}}};t.default=(0,p.connect)(l,x)(_)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="vega",r="vega-lite";t.MODES={Vega:n,VegaLite:r},t.LAYOUT={HeaderHeight:56},t.RENDERERS={SVG:"svg",Canvas:"canvas"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_STATE=void 0;var r=n(149),i=n(151);t.DEFAULT_STATE={editorString:"{}",vegaSpec:{},vegaLiteSpec:null,selectedExample:null,mode:r.MODES.VegaLite,renderer:r.RENDERERS.Canvas,autoParse:!0,parse:!1,compiledVegaSpec:!1,gist:null,error:null,errorPane:!1,warningsLogger:new i.LocalLogger,tooltip:!0
}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.LocalLogger=function(){function e(){n(this,e),this.warns=[],this.infos=[],this.debugs=[]}return r(e,[{key:"level",value:function(){return this}},{key:"warn",value:function(){var e;return(e=this.warns).push.apply(e,arguments),this}},{key:"info",value:function(){var e;return(e=this.infos).push.apply(e,arguments),this}},{key:"debug",value:function(){var e;return(e=this.debugs).push.apply(e,arguments),this}}]),e}()},function(e,t,n){(function(e,r){"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,n){if(a()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,n,r)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):h(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return l(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(t,n){if(l(n),t=o(t,n<0?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function f(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);t=o(t,i);var a=t.write(n,r);return a!==i&&(t=t.slice(0,a)),t}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=d(t,n),t}function h(t,n){if(e.isBuffer(n)){var r=0|m(n.length);return t=o(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||K(n.length)?o(t,0):d(t,n);if("Buffer"===n.type&&Z(n.data))return d(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(t){return+t!=t&&(t=0),e.alloc(+t)}function y(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return V(t).length;n=(""+n).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return M(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(t,n,r,i,a){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:x(t,n,r,i,a);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):x(t,[n],r,i,a);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,l/=2,n/=2}var u;if(i){var c=-1;for(u=n;u<s;u++)if(a(e,u)===a(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===l)return c*o}else c!==-1&&(u-=u-c),c=-1}else for(n+l>s&&(n=s-l),u=n;u>=0;u--){for(var f=!0,d=0;d<l;d++)if(a(e,u+d)!==a(t,d)){f=!1;break}if(f)return u}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function O(e,t,n,r){return X(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return X(H(t),e,n,r)}function k(e,t,n,r){return S(e,t,n,r)}function P(e,t,n,r){return X(Y(t),e,n,r)}function E(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function M(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var l,u,c,f;switch(s){case 1:a<128&&(o=a);break;case 2:l=e[i+1],128===(192&l)&&(f=(31&a)<<6|63&l,f>127&&(o=f));break;case 3:l=e[i+1],u=e[i+2],128===(192&l)&&128===(192&u)&&(f=(15&a)<<12|(63&l)<<6|63&u,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(f=(15&a)<<18|(63&l)<<12|(63&u)<<6|63&c,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return C(r)}function C(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=W(e[a]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,n,r,i,a,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function z(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function F(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function $(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||$(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||$(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function B(e){if(e=q(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function Y(e){return Q.toByteArray(B(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e){return e!==e}var Q=n(288),J=n(324),Z=n(353);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=a(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return s(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return u(null,e,t,n)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,a=0,o=Math.min(r,i);a<o;++a)if(t[a]!==n[a]){r=t[a],i=n[a];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){var o=t[r];if(!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):v.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,a){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),n<0||r>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,s=r-n,l=Math.min(o,s),u=this.slice(i,a),c=t.slice(n,r),f=0;f<l;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var a=n-t;i=new e(a,(void 0));for(var o=0;o<a;++o)i[o]=this[o+t]}return i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||N(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),J.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),J.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;I(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):z(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):z(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):F(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):F(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);I(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):z(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):z(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):F(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||I(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):F(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var a,o=i-r;if(this===t&&r<n&&n<i)for(a=o-1;a>=0;--a)t[a+n]=this[a+r];else if(o<1e3||!e.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var o;if("number"==typeof t)for(o=n;o<r;++o)this[o]=t;else{var s=e.isBuffer(t)?t:V(new e(t,i).toString()),l=s.length;for(o=0;o<r-n;++o)this[o+n]=s[o%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(152).Buffer,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,o.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(323),o=r(a);e.exports=t.default},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Z&&t.documentElement.namespaceURI===Z?t.createElement(e):t.createElementNS(n,e)}}function n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(){return new i}function i(){this._="@"+(++re).toString(36)}function a(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(t,n,r){return function(i){var a=e.event;e.event=i;try{t.call(this,this.__data__,n,r)}finally{e.event=a}}}function s(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function l(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function u(e,t,n){var r=le.hasOwnProperty(e.type)?a:o;return function(i,a,o){var s,l=this.__on,u=r(t,a,o);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=t);this.addEventListener(e.type,u,n),s={type:e.type,name:e.name,value:t,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function c(t,n,r,i){var a=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(r,i)}finally{e.event=a}}function f(){}function d(){return[]}function p(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,r,i,a){for(var o,s=0,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new p(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function m(e,t,n,r,i,a,o){var s,l,u,c={},f=t.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(l=t[s])&&(h[s]=u=we+o.call(l,l.__data__,s,t),u in c?i[s]=l:c[u]=l);for(s=0;s<d;++s)u=we+o.call(e,a[s],s,a),(l=c[u])?(r[s]=l,l.__data__=a[s],c[u]=null):n[s]=new p(e,a[s]);for(s=0;s<f;++s)(l=t[s])&&c[h[s]]===l&&(i[s]=l)}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function b(e,t){return function(){this.setAttribute(e,t)}}function _(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function w(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function O(e){return function(){this.style.removeProperty(e)}}function S(e,t,n){return function(){this.style.setProperty(e,t,n)}}function k(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function P(e,t){return e.style.getPropertyValue(t)||Ne(e).getComputedStyle(e,null).getPropertyValue(t)}function E(e){return function(){delete this[e]}}function M(e,t){return function(){this[e]=t}}function T(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function C(e){return e.trim().split(/^|\s+/)}function A(e){return e.classList||new D(e)}function D(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function j(e,t){for(var n=A(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function R(e,t){for(var n=A(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function N(e){return function(){j(this,e)}}function I(e){return function(){R(this,e)}}function z(e,t){return function(){(t.apply(this,arguments)?j:R)(this,e)}}function F(){this.textContent=""}function $(e){return function(){this.textContent=e}}function L(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function U(){this.innerHTML=""}function B(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function V(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function G(){var e=this.parentNode;e&&e.removeChild(this)}function Y(e,t,n){var r=Ne(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function X(e,t){return function(){return Y(this,e,t)}}function K(e,t){return function(){return Y(this,e,t.apply(this,arguments))}}function Q(e,t){this._groups=e,this._parents=t}function J(){return new Q([[document.documentElement]],Ye)}var Z="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},te=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ee.hasOwnProperty(t)?{space:ee[t],local:e}:e},ne=function(e){var r=te(e);return(r.local?n:t)(r)},re=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ie=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var ae=document.documentElement;if(!ae.matches){var oe=ae.webkitMatchesSelector||ae.msMatchesSelector||ae.mozMatchesSelector||ae.oMatchesSelector;ie=function(e){return function(){return oe.call(this,e)}}}}var se=ie,le={};if(e.event=null,"undefined"!=typeof document){var ue=document.documentElement;"onmouseenter"in ue||(le={mouseenter:"mouseover",mouseleave:"mouseout"})}var ce=function(e,t,n){var r,i,a=s(e+""),o=a.length;{if(!(arguments.length<2)){for(c=t?u:l,null==n&&(n=!1),r=0;r<o;++r)this.each(c(a[r],t,n));return this}var c=this.node().__on;if(c)for(var f,d=0,p=c.length;d<p;++d)for(r=0,f=c[d];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value}},fe=function(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n},de=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},pe=function(e){var t=fe();return t.changedTouches&&(t=t.changedTouches[0]),de(e,t)},he=function(e){return null==e?f:function(){return this.querySelector(e)}},me=function(e){"function"!=typeof e&&(e=he(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Q(r,this._parents)},ge=function(e){return null==e?d:function(){return this.querySelectorAll(e)}},ye=function(e){"function"!=typeof e&&(e=ge(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(e.call(o,o.__data__,u,s)),i.push(o));return new Q(r,i)},ve=function(e){"function"!=typeof e&&(e=se(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Q(r,this._parents)},be=function(e){return new Array(e.length)},_e=function(){return new Q(this._enter||this._groups.map(be),this._parents)};p.prototype={constructor:p,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var xe=function(e){return function(){return e}},we="$",Oe=function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each(function(e){p[++u]=e}),p;var n=t?m:h,r=this._parents,i=this._groups;"function"!=typeof e&&(e=xe(e));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],d=f.length,p=e.call(c,c&&c.__data__,u,r),g=p.length,y=s[u]=new Array(g),v=o[u]=new Array(g),b=l[u]=new Array(d);n(c,f,y,v,b,p,t);for(var _,x,w=0,O=0;w<g;++w)if(_=y[w]){for(w>=O&&(O=w+1);!(x=v[O])&&++O<g;);_._next=x||null}}return o=new Q(o,r),o._enter=s,o._exit=l,o},Se=function(){return new Q(this._exit||this._groups.map(be),this._parents)},ke=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=t[s],c=n[s],f=u.length,d=o[s]=new Array(f),p=0;p<f;++p)(l=u[p]||c[p])&&(d[p]=l);for(;s<r;++s)o[s]=t[s];return new Q(o,this._parents)},Pe=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},Ee=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new Q(i,this._parents).order()},Me=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},Te=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},Ce=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},Ae=function(){var e=0;return this.each(function(){++e}),e},De=function(){return!this.node()},je=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},Re=function(e,t){var n=te(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?v:y:"function"==typeof t?n.local?w:x:n.local?_:b)(n,t))},Ne=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView},Ie=function(e,t,n){return arguments.length>1?this.each((null==t?O:"function"==typeof t?k:S)(e,t,null==n?"":n)):P(this.node(),e)},ze=function(e,t){return arguments.length>1?this.each((null==t?E:"function"==typeof t?T:M)(e,t)):this.node()[e]};D.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Fe=function(e,t){var n=C(e+"");if(arguments.length<2){for(var r=A(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;
return!0}return this.each(("function"==typeof t?z:t?N:I)(n,t))},$e=function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?L:$)(e)):this.node().textContent},Le=function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?q:B)(e)):this.node().innerHTML},Ue=function(){return this.each(W)},Be=function(){return this.each(V)},qe=function(e){var t="function"==typeof e?e:ne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},We=function(e,t){var n="function"==typeof e?e:ne(e),r=null==t?H:"function"==typeof t?t:he(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Ve=function(){return this.each(G)},He=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},Ge=function(e,t){return this.each(("function"==typeof t?K:X)(e,t))},Ye=[null];Q.prototype=J.prototype={constructor:Q,select:me,selectAll:ye,filter:ve,data:Oe,enter:_e,exit:Se,merge:ke,order:Pe,sort:Ee,call:Me,nodes:Te,node:Ce,size:Ae,empty:De,each:je,attr:Re,style:Ie,property:ze,classed:Fe,text:$e,html:Le,raise:Ue,lower:Be,append:qe,insert:We,remove:Ve,datum:He,on:ce,dispatch:Ge};var Xe=function(e){return"string"==typeof e?new Q([[document.querySelector(e)]],[document.documentElement]):new Q([[e]],Ye)},Ke=function(e){return"string"==typeof e?new Q([document.querySelectorAll(e)],[document.documentElement]):new Q([null==e?[]:e],Ye)},Qe=function(e,t,n){arguments.length<3&&(n=t,t=fe().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return de(e,r);return null},Je=function(e,t){null==t&&(t=fe().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=de(e,t[n]);return i};e.creator=ne,e.local=r,e.matcher=se,e.mouse=pe,e.namespace=te,e.namespaces=ee,e.clientPoint=de,e.select=Xe,e.selectAll=Ke,e.selection=J,e.selector=he,e.selectorAll=ge,e.style=P,e.touch=Qe,e.touches=Je,e.window=Ne,e.customEvent=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,n,r,o){function s(t){return e(t=new Date((+t))),t}return s.floor=s,s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return n(e=new Date((+e)),null==t?1:Math.floor(t)),e},s.range=function(t,r,i){var a=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return a;do a.push(new Date((+t)));while(n(t,i),e(t),t<r);return a},s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){if(e>=e)if(t<0)for(;++t<=0;)for(;n(e,-1),!r(e););else for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(s.count=function(t,n){return i.setTime(+t),a.setTime(+n),e(i),e(a),Math.floor(r(i,a))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}function n(e){return t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/d})}function r(e){return t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/d})}var i=new Date,a=new Date,o=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null};var s=o.range,l=1e3,u=6e4,c=36e5,f=864e5,d=6048e5,p=t(function(e){e.setTime(Math.floor(e/l)*l)},function(e,t){e.setTime(+e+t*l)},function(e,t){return(t-e)/l},function(e){return e.getUTCSeconds()}),h=p.range,m=t(function(e){e.setTime(Math.floor(e/u)*u)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getMinutes()}),g=m.range,y=t(function(e){var t=e.getTimezoneOffset()*u%c;t<0&&(t+=c),e.setTime(Math.floor((+e-t)/c)*c+t)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getHours()}),v=y.range,b=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*u)/f},function(e){return e.getDate()-1}),_=b.range,x=n(0),w=n(1),O=n(2),S=n(3),k=n(4),P=n(5),E=n(6),M=x.range,T=w.range,C=O.range,A=S.range,D=k.range,j=P.range,R=E.range,N=t(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),I=N.range,z=t(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});z.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var F=z.range,$=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getUTCMinutes()}),L=$.range,U=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getUTCHours()}),B=U.range,q=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/f},function(e){return e.getUTCDate()-1}),W=q.range,V=r(0),H=r(1),G=r(2),Y=r(3),X=r(4),K=r(5),Q=r(6),J=V.range,Z=H.range,ee=G.range,te=Y.range,ne=X.range,re=K.range,ie=Q.range,ae=t(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),oe=ae.range,se=t(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var le=se.range;e.timeInterval=t,e.timeMillisecond=o,e.timeMilliseconds=s,e.utcMillisecond=o,e.utcMilliseconds=s,e.timeSecond=p,e.timeSeconds=h,e.utcSecond=p,e.utcSeconds=h,e.timeMinute=m,e.timeMinutes=g,e.timeHour=y,e.timeHours=v,e.timeDay=b,e.timeDays=_,e.timeWeek=x,e.timeWeeks=M,e.timeSunday=x,e.timeSundays=M,e.timeMonday=w,e.timeMondays=T,e.timeTuesday=O,e.timeTuesdays=C,e.timeWednesday=S,e.timeWednesdays=A,e.timeThursday=k,e.timeThursdays=D,e.timeFriday=P,e.timeFridays=j,e.timeSaturday=E,e.timeSaturdays=R,e.timeMonth=N,e.timeMonths=I,e.timeYear=z,e.timeYears=F,e.utcMinute=$,e.utcMinutes=L,e.utcHour=U,e.utcHours=B,e.utcDay=q,e.utcDays=W,e.utcWeek=V,e.utcWeeks=J,e.utcSunday=V,e.utcSundays=J,e.utcMonday=H,e.utcMondays=Z,e.utcTuesday=G,e.utcTuesdays=ee,e.utcWednesday=Y,e.utcWednesdays=te,e.utcThursday=X,e.utcThursdays=ne,e.utcFriday=K,e.utcFridays=re,e.utcSaturday=Q,e.utcSaturdays=ie,e.utcMonth=ae,e.utcMonths=oe,e.utcYear=se,e.utcYears=le,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),i=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var a,o;if(Array.isArray(t)){for(o="[",a=0;a<t.length;a++)a&&(o+=","),o+=e(t[a])||"null";return o+"]"}if(null===t)return"null";if(i.indexOf(t)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=i.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(o="",a=0;a<l.length;a++){var u=l[a],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return i.splice(s,1),"{"+o+"}"}}(e)}},function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,l){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,l],f=0;u=new Error(t.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.readState=t.saveState=void 0;var i=n(44),a=(r(i),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),o={SecurityError:!0},s="@@History/",l=function(e){return s+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(l(e)):window.sessionStorage.setItem(l(e),JSON.stringify(t))}catch(n){if(o[n.name])return;if(a[n.name]&&0===window.sessionStorage.length)return;throw n}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(l(e))}catch(n){if(o[n.name])return}if(t)try{return JSON.parse(t)}catch(n){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(108),o=r(a),s=n(40),l=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.basename,a=function(e){return e?(r&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(r.toLowerCase())?(e.pathname=e.pathname.substring(r.length),e.basename=r,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},l=function(e){if(!r)return e;var t="string"==typeof e?(0,s.parsePath)(e):e,n=t.pathname,a="/"===r.slice(-1)?r:r+"/",o="/"===n.charAt(0)?n.slice(1):n,l=a+o;return i({},t,{pathname:l})},u=function(){return a(n.getCurrentLocation())},c=function(e){return n.listenBefore(function(t,n){return(0,o.default)(e,a(t),n)})},f=function(e){return n.listen(function(t){return e(a(t))})},d=function(e){return n.push(l(e))},p=function(e){return n.replace(l(e))},h=function(e){return n.createPath(l(e))},m=function(e){return n.createHref(l(e))},g=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return a(n.createLocation.apply(n,[l(e)].concat(r)))};return i({},n,{getCurrentLocation:u,listenBefore:c,listen:f,push:d,replace:p,createPath:h,createHref:m,createLocation:g})}};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(378),o=n(108),s=r(o),l=n(51),u=n(40),c=function(e){return(0,a.stringify)(e).replace(/%20/g,"+")},f=a.parse,d=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.stringifyQuery,a=t.parseQueryString;"function"!=typeof r&&(r=c),"function"!=typeof a&&(a=f);var o=function(e){return e?(null==e.query&&(e.query=a(e.search.substring(1))),e):e},d=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,u.parsePath)(e):e,a=r(t),o=a?"?"+a:"";return i({},n,{search:o})},p=function(){return o(n.getCurrentLocation())},h=function(e){return n.listenBefore(function(t,n){return(0,s.default)(e,o(t),n)})},m=function(e){return n.listen(function(t){return e(o(t))})},g=function(e){return n.push(d(e,e.query))},y=function(e){return n.replace(d(e,e.query))},v=function(e){return n.createPath(d(e,e.query))},b=function(e){return n.createHref(d(e,e.query))},_=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=n.createLocation.apply(n,[d(e,e.query)].concat(r));return e.query&&(a.query=(0,l.createQuery)(e.query)),o(a)};return i({},n,{getCurrentLocation:p,listenBefore:h,listen:m,push:g,replace:y,createPath:v,createHref:b,createLocation:_})}};t.default=d},function(e,t){"use strict";function n(e,t){e.indexOf(t)===-1&&e.push(t)}function r(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){return e instanceof Object&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega 3.0 Visualization Specification Language",defs:{autosize:{oneOf:[{enum:["pad","fit","none"]},{type:"object",properties:{type:{enum:["pad","fit","none"]},resize:{type:"boolean"},contains:{enum:["content","padding"]}},required:["type"],additionalProperties:!1}],default:"pad"},axis:{type:"object",properties:{orient:{enum:["top","bottom","left","right"]},scale:{type:"string"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},ticks:{type:"boolean"},labels:{type:"boolean"},domain:{type:"boolean"},grid:{type:"boolean"},gridScale:{type:"string"},tickSize:{type:"number"},labelPadding:{type:"number"},labelFlush:{oneOf:[{type:"boolean"},{type:"number"}]},labelFlushOffset:{type:"number"},labelOverlap:{oneOf:[{type:"boolean"},{enum:["parity","greedy"],type:"string"}]},labelBound:{oneOf:[{type:"boolean"},{type:"number"}]},tickCount:{$ref:"#/refs/tickCount"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},position:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},minExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},maxExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{type:"object",properties:{axis:{$ref:"#/defs/guideEncode"},ticks:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},title:{$ref:"#/defs/guideEncode"},grid:{$ref:"#/defs/guideEncode"},domain:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,required:["orient","scale"]},background:{type:"string"},bind:{oneOf:[{type:"object",properties:{input:{enum:["checkbox"]},element:{$ref:"#/refs/element"},debounce:{type:"number"}},required:["input"]},{type:"object",properties:{input:{enum:["radio","select"]},element:{$ref:"#/refs/element"},options:{type:"array"},debounce:{type:"number"}},additionalProperties:!1,required:["input","options"]},{type:"object",properties:{input:{enum:["range"]},element:{$ref:"#/refs/element"},min:{type:"number"},max:{type:"number"},step:{type:"number"},debounce:{type:"number"}},additionalProperties:!1,required:["input"]},{type:"object",properties:{input:{not:{enum:["checkbox","radio","range","select"]}},element:{$ref:"#/refs/element"},debounce:{type:"number"}},additionalProperties:!0}]},data:{title:"Input data set definition",type:"object",allOf:[{properties:{name:{type:"string"},transform:{type:"array",items:{$ref:"#/defs/transform"}},on:{$ref:"#/defs/onTrigger"},format:{type:"object",anyOf:[{properties:{type:{enum:["json"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]},property:{type:"string"},copy:{type:"boolean"}},additionalProperties:!1},{properties:{type:{enum:["csv","tsv"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{properties:{type:{enum:["dsv"]},delimiter:{type:"string"},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{oneOf:[{properties:{type:{enum:["topojson"]},feature:{type:"string"},property:{type:"string"}},additionalProperties:!1},{properties:{type:{enum:["topojson"]},mesh:{type:"string"},property:{type:"string"}},additionalProperties:!1}]}]}},required:["name"]},{anyOf:[{required:["name"]},{oneOf:[{properties:{source:{oneOf:[{type:"string"},{type:"array",items:{type:"string"},minItems:1}]}},required:["source"]},{properties:{values:{type:"array"}},required:["values"]},{properties:{url:{type:"string"}},required:["url"]}]}]}]},rule:{type:"object",properties:{test:{type:"string"}}},encodeEntry:{title:"Mark encode property set",type:"object",properties:{x:{$ref:"#/refs/numberValue"},x2:{$ref:"#/refs/numberValue"},xc:{$ref:"#/refs/numberValue"},width:{$ref:"#/refs/numberValue"},y:{$ref:"#/refs/numberValue"},y2:{$ref:"#/refs/numberValue"},yc:{$ref:"#/refs/numberValue"},height:{$ref:"#/refs/numberValue"},opacity:{$ref:"#/refs/numberValue"},fill:{$ref:"#/refs/colorValue"},fillOpacity:{$ref:"#/refs/numberValue"},stroke:{$ref:"#/refs/colorValue"},strokeWidth:{$ref:"#/refs/numberValue"},strokeOpacity:{$ref:"#/refs/numberValue"},strokeDash:{$ref:"#/refs/arrayValue"},strokeDashOffset:{$ref:"#/refs/numberValue"},cursor:{$ref:"#/refs/stringValue"},clip:{$ref:"#/refs/booleanValue"},size:{$ref:"#/refs/numberValue"},shape:{anyOf:[{type:"string"},{$ref:"#/refs/stringValue"}]},path:{$ref:"#/refs/stringValue"},innerRadius:{$ref:"#/refs/numberValue"},outerRadius:{$ref:"#/refs/numberValue"},startAngle:{$ref:"#/refs/numberValue"},endAngle:{$ref:"#/refs/numberValue"},interpolate:{$ref:"#/refs/stringValue"},tension:{$ref:"#/refs/numberValue"},orient:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},url:{$ref:"#/refs/stringValue"},align:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},baseline:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},text:{$ref:"#/refs/stringValue"},dir:{$ref:"#/refs/stringValue"},ellipsis:{$ref:"#/refs/stringValue"},limit:{$ref:"#/refs/numberValue"},dx:{$ref:"#/refs/numberValue"},dy:{$ref:"#/refs/numberValue"},radius:{$ref:"#/refs/numberValue"},theta:{$ref:"#/refs/numberValue"},angle:{$ref:"#/refs/numberValue"},font:{$ref:"#/refs/stringValue"},fontSize:{$ref:"#/refs/numberValue"},fontWeight:{$ref:"#/refs/nullableStringValue"},fontStyle:{$ref:"#/refs/stringValue"}},additionalProperties:!0},encode:{type:"object",patternProperties:{"^.+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},layout:{oneOf:[{type:"object",properties:{align:{oneOf:[{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},{type:"object",properties:{row:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},column:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]}},additionalProperties:!1}]},bounds:{oneOf:[{enum:["full","flush"]},{$ref:"#/refs/signal"}]},columns:{$ref:"#/refs/numberOrSignal"},padding:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},offset:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{rowHeader:{$ref:"#/refs/numberOrSignal"},rowFooter:{$ref:"#/refs/numberOrSignal"},rowTitle:{$ref:"#/refs/numberOrSignal"},columnHeader:{$ref:"#/refs/numberOrSignal"},columnFooter:{$ref:"#/refs/numberOrSignal"},columnTitle:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},headerBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},footerBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},titleBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"null"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]}}},{$ref:"#/refs/signal"}]},guideEncode:{type:"object",properties:{name:{type:"string"},interactive:{type:"boolean",default:!1},style:{$ref:"#/refs/style"}},patternProperties:{"^(?!interactive|name|style).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},legend:{type:"object",properties:{size:{type:"string"},shape:{type:"string"},fill:{type:"string"},stroke:{type:"string"},opacity:{type:"string"},strokeDash:{type:"string"},type:{enum:["gradient","symbol"],default:"symbol"},orient:{enum:["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"right"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},padding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},entryPadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},tickCount:{$ref:"#/refs/tickCount"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},encode:{type:"object",properties:{title:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},legend:{$ref:"#/defs/guideEncode"},symbols:{$ref:"#/defs/guideEncode"},gradient:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,anyOf:[{required:["size"]},{required:["shape"]},{required:["fill"]},{required:["stroke"]},{required:["opacity"]},{required:["strokeDash"]}]},mark:{type:"object",properties:{type:{$ref:"#/refs/marktype"},role:{type:"string"},name:{type:"string"},style:{$ref:"#/refs/style"},key:{type:"string"},clip:{type:"boolean"},sort:{$ref:"#/refs/compare"},interactive:{type:"boolean"},encode:{$ref:"#/defs/encode"},transform:{type:"array",items:{$ref:"#/defs/transformMark"}},on:{$ref:"#/defs/onMarkTrigger"}},required:["type"]},markGroup:{allOf:[{properties:{type:{enum:["group"]}},required:["type"]},{$ref:"#/defs/mark"},{$ref:"#/defs/scope"},{type:"object",properties:{from:{oneOf:[{$ref:"#/refs/from"},{$ref:"#/refs/facet"}]}}}]},markVisual:{allOf:[{not:{properties:{type:{enum:["group"]}}}},{$ref:"#/defs/mark"},{type:"object",properties:{from:{$ref:"#/refs/from"}}}]},listener:{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{scale:{type:"string"}},required:["scale"]},{$ref:"#/defs/stream"}]},onEvents:{type:"array",items:{allOf:[{type:"object",properties:{events:{oneOf:[{$ref:"#/refs/selector"},{$ref:"#/defs/listener"},{type:"array",minItems:1,items:{$ref:"#/defs/listener"}}]},force:{type:"boolean"}},required:["events"]},{oneOf:[{type:"object",properties:{encode:{type:"string"}},required:["encode"]},{type:"object",properties:{update:{oneOf:[{$ref:"#/refs/exprString"},{$ref:"#/refs/expr"},{$ref:"#/refs/signal"},{type:"object",properties:{value:{}},required:["value"]}]}},required:["update"]}]}]}},onTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},insert:{$ref:"#/refs/exprString"},remove:{oneOf:[{type:"boolean"},{$ref:"#/refs/exprString"}]},toggle:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},onMarkTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},padding:{oneOf:[{type:"number"},{type:"object",properties:{top:{type:"number"},bottom:{type:"number"},left:{type:"number"},right:{type:"number"}},additionalProperties:!1}]},projection:{type:"object",properties:{name:{type:"string"},type:{$ref:"#/refs/stringOrSignal"},clipAngle:{$ref:"#/refs/numberOrSignal"},clipExtent:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}}]},scale:{$ref:"#/refs/numberOrSignal"},translate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},center:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},rotate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:3}]},parallels:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},precision:{$ref:"#/refs/numberOrSignal"},pointRadius:{$ref:"#/refs/numberOrSignal"},fit:{oneOf:[{type:"object"},{type:"array"}]},extent:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},minItems:2,maxItems:2}]},size:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}},additionalProperties:!0,required:["name","type"]},scale:{title:"Scale mapping",type:"object",allOf:[{properties:{name:{type:"string"},type:{type:"string",default:"linear"},domain:{oneOf:[{type:"array",items:{oneOf:[{type:"null"},{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/scaleData"},{$ref:"#/refs/signal"}]},domainMin:{$ref:"#/refs/numberOrSignal"},domainMax:{$ref:"#/refs/numberOrSignal"},domainMid:{$ref:"#/refs/numberOrSignal"},domainRaw:{oneOf:[{type:"null"},{type:"array"},{$ref:"#/refs/signal"}]},reverse:{$ref:"#/refs/booleanOrSignal"},round:{$ref:"#/refs/booleanOrSignal"}},required:["name"]},{oneOf:[{properties:{type:{enum:["ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1},{$ref:"#/refs/scaleData"}]}},required:["type"]},{properties:{type:{enum:["band"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingInner:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["point"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["sequential"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"}},required:["type","range"]},{properties:{type:{enum:["time","utc"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"},padding:{type:"number"},nice:{oneOf:[{type:"boolean"},{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{type:"object",properties:{interval:{oneOf:[{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{$ref:"#/refs/signal"}]},step:{$ref:"#/refs/numberOrSignal"}},required:["interval"]},{$ref:"#/refs/signal"}]}},required:["type"]},{properties:{type:{enum:["identity"]},nice:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Discretizing scales",properties:{type:{enum:["quantile","quantize","threshold","bin-ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},nice:{oneOf:[{type:"boolean"},{type:"number"
},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Default numeric scale",not:{properties:{type:{enum:["ordinal","band","point","quantile","quantize","threshold","sequential","pow","log","time","utc","identity","bin-ordinal","bin-linear"]}},required:["type"]},properties:{range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},padding:{type:"number"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}}},{properties:{type:{enum:["log"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},base:{$ref:"#/refs/numberOrSignal"},clamp:{$ref:"#/refs/booleanOrSignal"},padding:{type:"number"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["pow"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},exponent:{$ref:"#/refs/numberOrSignal"},padding:{type:"number"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["bin-linear"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"}},required:["type"]}]}]},scope:{type:"object",properties:{encode:{$ref:"#/defs/encode"},layout:{$ref:"#/defs/layout"},signals:{type:"array",items:{$ref:"#/defs/signal"}},data:{type:"array",items:{$ref:"#/defs/data"}},scales:{type:"array",items:{$ref:"#/defs/scale"}},projections:{type:"array",items:{$ref:"#/defs/projection"}},axes:{type:"array",items:{$ref:"#/defs/axis"}},legends:{type:"array",items:{$ref:"#/defs/legend"}},title:{$ref:"#/defs/title"},marks:{type:"array",items:{oneOf:[{$ref:"#/defs/markGroup"},{$ref:"#/defs/markVisual"}]}}}},signal:{oneOf:[{$ref:"#/defs/signalPush"},{$ref:"#/defs/signalNew"}]},signalName:{type:"string",not:{enum:["parent","datum","event","item"]}},signalNew:{type:"object",properties:{name:{$ref:"#/defs/signalName"},description:{type:"string"},value:{},react:{type:"boolean",default:!0},update:{$ref:"#/refs/exprString"},on:{$ref:"#/defs/onEvents"},bind:{$ref:"#/defs/bind"}},additionalProperties:!1,required:["name"]},signalPush:{type:"object",properties:{name:{$ref:"#/defs/signalName"},push:{enum:["outer"]},description:{type:"string"},on:{$ref:"#/defs/onEvents"}},additionalProperties:!1,required:["name","push"]},streamParams:{properties:{between:{type:"array",minItems:2,maxItems:2,items:{$ref:"#/defs/stream"}},marktype:{type:"string"},markname:{type:"string"},filter:{oneOf:[{$ref:"#/refs/exprString"},{type:"array",minItems:1,items:{$ref:"#/refs/exprString"}}]},throttle:{type:"number"},debounce:{type:"number"},consume:{type:"boolean"}}},streamEvents:{properties:{source:{type:"string"},type:{type:"string"}},required:["type"]},stream:{title:"Input event stream definition",type:"object",allOf:[{$ref:"#/defs/streamParams"},{oneOf:[{$ref:"#/defs/streamEvents"},{type:"object",properties:{stream:{$ref:"#/defs/stream"}},required:["stream"]},{type:"object",properties:{merge:{type:"array",minItems:1,items:{$ref:"#/defs/stream"}}},required:["merge"]}]}]},titleEncode:{type:"object",patternProperties:{"^(?!interactive|name|style).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},title:{oneOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},orient:{enum:["none","left","right","top","bottom"],default:"top"},anchor:{enum:["start","middle","end"],default:"middle"},style:{$ref:"#/refs/style"},text:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},interactive:{type:"boolean"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{$ref:"#/defs/titleEncode"}},required:["text"],additionalProperties:!1}]},transform:{oneOf:[{$ref:"#/defs/aggregateTransform"},{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/countpatternTransform"},{$ref:"#/defs/crossTransform"},{$ref:"#/defs/densityTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/filterTransform"},{$ref:"#/defs/foldTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/imputeTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/projectTransform"},{$ref:"#/defs/sampleTransform"},{$ref:"#/defs/sequenceTransform"},{$ref:"#/defs/windowTransform"},{$ref:"#/defs/identifierTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/contourTransform"},{$ref:"#/defs/geojsonTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/graticuleTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/nestTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treelinksTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},transformMark:{oneOf:[{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/windowTransform"},{$ref:"#/defs/identifierTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/geojsonTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},aggregateTransform:{type:"object",properties:{type:{enum:["aggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},drop:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},cross:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},binTransform:{type:"object",properties:{type:{enum:["bin"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},anchor:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},maxbins:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:20},base:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:10},divide:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:[5,2]},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},steps:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},minstep:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},nice:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},name:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["bin0","bin1"]}},additionalProperties:!1,required:["type","field","extent"]},collectTransform:{type:"object",properties:{type:{enum:["collect"]},signal:{type:"string"},sort:{$ref:"#/refs/compare"}},additionalProperties:!1,required:["type"]},countpatternTransform:{type:"object",properties:{type:{enum:["countpattern"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},case:{anyOf:[{enum:["upper","lower","mixed"]},{$ref:"#/refs/signal"}],default:"mixed"},pattern:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:'[\\w"]+'},stopwords:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["text","count"]}},additionalProperties:!1,required:["type","field"]},crossTransform:{type:"object",properties:{type:{enum:["cross"]},signal:{type:"string"},filter:{$ref:"#/refs/exprString"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["a","b"]}},additionalProperties:!1,required:["type"]},densityTransform:{type:"object",properties:{type:{enum:["density"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},steps:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:100},method:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"pdf"},distribution:{oneOf:[{type:"object",properties:{function:{enum:["normal"]},mean:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stdev:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["uniform"]},min:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},max:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["kde"]},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},from:{type:"string"},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function","field"]},{type:"object",properties:{function:{enum:["mixture"]},distributions:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]},weights:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function"]}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["value","density"]}},additionalProperties:!1,required:["type"]},extentTransform:{type:"object",properties:{type:{enum:["extent"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","field"]},filterTransform:{type:"object",properties:{type:{enum:["filter"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"}},additionalProperties:!1,required:["type","expr"]},foldTransform:{type:"object",properties:{type:{enum:["fold"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["key","value"]}},additionalProperties:!1,required:["type","fields"]},formulaTransform:{type:"object",properties:{type:{enum:["formula"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},initonly:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","expr","as"]},imputeTransform:{type:"object",properties:{type:{enum:["impute"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},keyvals:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},method:{anyOf:[{enum:["value","mean","median","max","min"]},{$ref:"#/refs/signal"}],default:"value"},value:{}},additionalProperties:!1,required:["type","field","key"]},joinaggregateTransform:{type:"object",properties:{type:{enum:["joinaggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},lookupTransform:{type:"object",properties:{type:{enum:["lookup"]},signal:{type:"string"},from:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},values:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},default:{}},additionalProperties:!1,required:["type","from","key","fields"]},projectTransform:{type:"object",properties:{type:{enum:["project"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type"]},sampleTransform:{type:"object",properties:{type:{enum:["sample"]},signal:{type:"string"},size:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1e3}},additionalProperties:!1,required:["type"]},sequenceTransform:{type:"object",properties:{type:{enum:["sequence"]},signal:{type:"string"},start:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["type","start","stop"]},windowTransform:{type:"object",properties:{type:{enum:["window"]},signal:{type:"string"},sort:{$ref:"#/refs/compare"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","values","count","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},params:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"},{type:"null"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}]},frame:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{type:"null"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[null,0]},ignorePeers:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type"]},identifierTransform:{type:"object",properties:{type:{enum:["identifier"]},signal:{type:"string"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","as"]},linkpathTransform:{type:"object",properties:{type:{enum:["linkpath"]},signal:{type:"string"},sourceX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.x"},sourceY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.y"},targetX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.x"},targetY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.y"},orient:{anyOf:[{enum:["horizontal","vertical","radial"]},{$ref:"#/refs/signal"}],default:"vertical"},shape:{anyOf:[{enum:["line","arc","curve","diagonal","orthogonal"]},{$ref:"#/refs/signal"}],default:"line"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},pieTransform:{type:"object",properties:{type:{enum:["pie"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},startAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},endAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:6.283185307179586},sort:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["startAngle","endAngle"]}},additionalProperties:!1,required:["type"]},stackTransform:{type:"object",properties:{type:{enum:["stack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},sort:{$ref:"#/refs/compare"},offset:{anyOf:[{enum:["zero","center","normalize"]},{$ref:"#/refs/signal"}],default:"zero"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["y0","y1"]}},additionalProperties:!1,required:["type"]},contourTransform:{type:"object",properties:{type:{enum:["contour"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},values:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},cellSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},count:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},nice:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},thresholds:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","size"]},geojsonTransform:{type:"object",properties:{type:{enum:["geojson"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},geojson:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},geopathTransform:{type:"object",properties:{type:{enum:["geopath"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},geopointTransform:{type:"object",properties:{type:{enum:["geopoint"]},signal:{type:"string"},projection:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["x","y"]}},additionalProperties:!1,required:["type","projection","fields"]},geoshapeTransform:{type:"object",properties:{type:{enum:["geoshape"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"datum"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"shape"}},additionalProperties:!1,required:["type"]},graticuleTransform:{type:"object",properties:{type:{enum:["graticule"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMajor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMinor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},stepMajor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[90,360]},stepMinor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[10,10]},precision:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:2.5}},additionalProperties:!1,required:["type"]},forceTransform:{type:"object",properties:{type:{enum:["force"]},signal:{type:"string"},static:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},restart:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:300},alpha:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},alphaMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.001},alphaTarget:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},velocityDecay:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.4},forces:{type:"array",items:{oneOf:[{type:"object",properties:{force:{enum:["center"]},x:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},y:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["collide"]},radius:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.7},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["nbody"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:-30},theta:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.9},distanceMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},distanceMax:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["link"]},links:{type:"string"},id:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},distance:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:30},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["x"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["y"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]}]}},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["x","y","vx","vy"]}},additionalProperties:!1,required:["type"]},nestTransform:{type:"object",properties:{type:{enum:["nest"]},signal:{type:"string"},keys:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},generate:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type"]},packTransform:{type:"object",properties:{type:{enum:["pack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},radius:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:3,minItems:3,default:["x","y","r","depth","children"]}},additionalProperties:!1,required:["type"]},partitionTransform:{type:"object",properties:{type:{enum:["partition"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},stratifyTransform:{type:"object",properties:{type:{enum:["stratify"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},parentKey:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","key","parentKey"]},treeTransform:{type:"object",properties:{type:{enum:["tree"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["tidy","cluster"]},{$ref:"#/refs/signal"}],default:"tidy"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},nodeSize:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x","y","depth","children"]}},additionalProperties:!1,required:["type"]},treelinksTransform:{type:"object",properties:{type:{enum:["treelinks"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},treemapTransform:{type:"object",properties:{type:{enum:["treemap"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["squarify","resquarify","binary","dice","slice","slicedice"]},{$ref:"#/refs/signal"}],default:"squarify"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingInner:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingOuter:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingTop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingRight:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingBottom:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingLeft:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},ratio:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1.618033988749895},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},voronoiTransform:{type:"object",properties:{type:{enum:["voronoi"]},signal:{type:"string"},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[[-1e5,-1e5],[1e5,1e5]]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type","x","y"]},wordcloudTransform:{type:"object",properties:{type:{enum:["wordcloud"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},font:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"
},{$ref:"#/refs/paramField"}],default:"sans-serif"},fontStyle:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontWeight:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:14},fontSizeRange:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"null"}],default:[10,50]},rotate:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},text:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},spiral:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:7,minItems:7,default:["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},additionalProperties:!1,required:["type"]},crossfilterTransform:{type:"object",properties:{type:{enum:["crossfilter"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},query:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","fields","query"]},resolvefilterTransform:{type:"object",properties:{type:{enum:["resolvefilter"]},signal:{type:"string"},ignore:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},filter:{}},additionalProperties:!1,required:["type","ignore","filter"]}},refs:{tickCount:{oneOf:[{type:"number"},{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{type:"object",properties:{interval:{oneOf:[{type:"string",enum:["millisecond","second","minute","hour","day","week","month","year"]},{$ref:"#/refs/signal"}]},step:{$ref:"#/refs/numberOrSignal"}},required:["interval"]},{$ref:"#/refs/signal"}]},element:{type:"string"},paramField:{type:"object",properties:{field:{type:"string"}},additionalProperties:!1,required:["field"]},field:{title:"FieldRef",oneOf:[{type:"string"},{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{datum:{$ref:"#/refs/field"}},required:["datum"],additionalProperties:!1},{type:"object",properties:{group:{$ref:"#/refs/field"},level:{type:"number"}},required:["group"],additionalProperties:!1},{type:"object",properties:{parent:{$ref:"#/refs/field"},level:{type:"number"}},required:["parent"],additionalProperties:!1}]}]},scale:{$ref:"#/refs/field"},stringModifiers:{properties:{scale:{$ref:"#/refs/scale"}}},numberModifiers:{properties:{exponent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},mult:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},round:{type:"boolean",default:!1},scale:{$ref:"#/refs/scale"},band:{type:["number","boolean"]},extra:{type:"boolean"}}},value:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},numberValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},stringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},booleanValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},arrayValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},nullableStringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},colorRGB:{type:"object",properties:{r:{$ref:"#/refs/numberValue"},g:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["r","g","b"]},colorHSL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},s:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","s","l"]},colorLAB:{type:"object",properties:{l:{$ref:"#/refs/numberValue"},a:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["l","a","b"]},colorHCL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},c:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","c","l"]},colorValue:{title:"ColorRef",oneOf:[{$ref:"#/refs/nullableStringValue"},{type:"object",properties:{gradient:{$ref:"#/refs/scale"}},additionalProperties:!1,required:["gradient"]},{type:"object",properties:{color:{oneOf:[{$ref:"#/refs/colorRGB"},{$ref:"#/refs/colorHSL"},{$ref:"#/refs/colorLAB"},{$ref:"#/refs/colorHCL"}]}},additionalProperties:!1,required:["color"]}]},expr:{title:"ExpressionRef",type:"object",properties:{expr:{type:"string"}},required:["expr"]},exprString:{title:"Expression String",type:"string"},compare:{oneOf:[{type:"object",properties:{field:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]},order:{$ref:"#/refs/sortOrder"}}},{type:"object",properties:{field:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},order:{type:"array",items:{$ref:"#/refs/sortOrder"}}}}]},from:{type:"object",properties:{data:{type:"string"}},additionalProperties:!1},facet:{type:"object",properties:{data:{type:"string"},facet:{oneOf:[{type:"object",properties:{name:{type:"string"},data:{type:"string"},field:{type:"string"}},additionalProperties:!1,required:["name","data","field"]},{type:"object",properties:{name:{type:"string"},data:{type:"string"},groupby:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},aggregate:{type:"object",properties:{cross:{type:"boolean"},fields:{type:"array",items:{type:"string"}},ops:{type:"array",items:{type:"string"}},as:{type:"array",items:{type:"string"}}}}},additionalProperties:!1,required:["name","data","groupby"]}]}},additionalProperties:!1,required:["facet"]},style:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},marktype:{title:"Mark Type definition",type:"string"},sortOrder:{oneOf:[{enum:["ascending","descending"]},{$ref:"#/refs/signal"}]},scaleField:{$ref:"#/refs/stringOrSignal"},scaleInterpolate:{oneOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"object",properties:{type:{$ref:"#/refs/stringOrSignal"},gamma:{$ref:"#/refs/numberOrSignal"}},required:["type"]}]},scaleData:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{field:{$ref:"#/refs/scaleField"},op:{$ref:"#/refs/scaleField"},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","field"],additionalProperties:!1},{type:"object",properties:{data:{type:"string"},fields:{type:"array",items:{$ref:"#/refs/scaleField"},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","fields"],additionalProperties:!1},{type:"object",properties:{fields:{type:"array",items:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"}},required:["data","field"],additionalProperties:!1},{type:"array",items:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},{$ref:"#/refs/signal"}]},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["fields"],additionalProperties:!1}]},selector:{title:"Event Selector String",type:"string"},signal:{title:"SignalRef",type:"object",properties:{signal:{type:"string"}},required:["signal"]},booleanOrSignal:{oneOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},numberOrSignal:{oneOf:[{type:"number"},{$ref:"#/refs/signal"}]},stringOrSignal:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]}},type:"object",allOf:[{$ref:"#/defs/scope"},{properties:{$schema:{type:"string",format:"uri"},usermeta:{type:"object"},config:{type:"object"},description:{type:"string"},width:{type:"number"},height:{type:"number"},padding:{$ref:"#/defs/padding"},autosize:{$ref:"#/defs/autosize"},background:{$ref:"#/defs/background"}}}]}},function(e,t){e.exports={$ref:"#/definitions/TopLevelExtendedSpec",$schema:"http://json-schema.org/draft-04/schema#",definitions:{Aggregate:{$ref:"#/definitions/AggregateOp"},AggregateOp:{enum:["argmax","argmin","average","count","distinct","max","mean","median","min","missing","q1","q3","ci0","ci1","stdev","stdevp","sum","valid","values","variance","variancep"],type:"string"},AggregateTransform:{additionalProperties:!1,properties:{aggregate:{description:"Array of objects that define fields to aggregate.",items:{$ref:"#/definitions/AggregatedFieldDef"},type:"array"},groupby:{description:"The data fields to group by. If not specified, a single group containing all data objects will be used.",items:{type:"string"},type:"array"}},required:["aggregate"],type:"object"},AggregatedFieldDef:{additionalProperties:!1,properties:{as:{description:"The output field names to use for each aggregated field.",type:"string"},field:{description:"The data field for which to compute aggregate function.",type:"string"},op:{$ref:"#/definitions/AggregateOp",description:"The aggregation operations to apply to the fields, such as sum, average or count.\nSee the [full list of supported aggregation operations](https://vega.github.io/vega-lite/docs/aggregate.html#ops)\nfor more information."}},required:["op","field","as"],type:"object"},Anchor:{enum:["start","middle","end"],type:"string"},AnyMark:{anyOf:[{$ref:"#/definitions/Mark"},{$ref:"#/definitions/MarkDef"}]},AutoSizeParams:{additionalProperties:!1,properties:{contains:{description:'Determines how size calculation should be performed, one of `"content"` or `"padding"`. The default setting (`"content"`) interprets the width and height settings as the data rectangle (plotting) dimensions, to which padding is then added. In contrast, the `"padding"` setting includes the padding within the view size calculations, such that the width and height settings indicate the **total** intended size of the view.\n\n__Default value__: `"content"`',enum:["content","padding"],type:"string"},resize:{description:"A boolean flag indicating if autosize layout should be re-calculated on every view update.\n\n__Default value__: `false`",type:"boolean"},type:{$ref:"#/definitions/AutosizeType",description:'The sizing format type. One of `"pad"`, `"fit"` or `"none"`. See the [autosize type](https://vega.github.io/vega-lite/docs/size.html#autosize) documentation for descriptions of each.\n\n__Default value__: `"pad"`'}},type:"object"},AutosizeType:{enum:["pad","fit","none"],type:"string"},Axis:{additionalProperties:!1,properties:{domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis.\n\n__Default value:__ `true`",type:"boolean"},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/d3/d3-format#locale_format) for quantitative fields and D3's [time format pattern](https://github.com/d3/d3-time-format#locale_format) for time field.\n\nSee the [format documentation](format.html) for more information.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},grid:{description:"A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for [continuous scales](scale.html#continuous) that are not binned; otherwise, `false`.",type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-90` for nominal and ordinal fields; `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelBound:{description:"Indicates if labels should be hidden if they exceed the axis range. If `false `(the default) no bounds overlap analysis is performed. If `true`, labels will be hidden if they exceed the axis range by more than 1 pixel. If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n\n__Default value:__ `false`.",type:["boolean","number"]},labelFlush:{description:"Indicates if the first and last axis labels should be aligned flush with the scale range. Flush alignment for a horizontal axis will left-align the first label and right-align the last label. For vertical axes, bottom and top text baselines are applied instead. If this property is a number, it also indicates the number of pixels by which to offset the first and last labels; for example, a value of 2 will flush-align the first and last labels and also push them 2 pixels outward from the center of the axis. The additional adjustment can sometimes help the labels better visually group with corresponding axis ticks.\n\n__Default value:__ `true` for axis of a continuous x-scale. Otherwise, `false`.",type:["boolean","number"]},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for non-nominal fields with non-log scales; `"greedy"` for log scales; otherwise `false`.'},labelPadding:{description:"The padding, in pixels, between axis and text labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis.\n\n__Default value:__  `true`.",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30` for y-axis; `undefined` for x-axis.",type:"number"},offset:{description:"The offset, in pixels, by which to displace the axis from the edge of the enclosing group or data rectangle.\n\n__Default value:__ derived from the [axis config](config.html#facet-scale-config)'s `offset` (`0` by default)",type:"number"},orient:{$ref:"#/definitions/AxisOrient",description:'The orientation of the axis. One of `"top"`, `"bottom"`, `"left"` or `"right"`. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart).\n\n__Default value:__ `"bottom"` for x-axes and `"left"` for y-axes.'},position:{description:"The anchor position of the axis in pixels. For x-axis with top or bottom orientation, this sets the axis group x coordinate. For y-axis with left or right orientation, this sets the axis group y coordinate.\n\n__Default value__: `0`",type:"number"},tickCount:{description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.',type:"number"},tickSize:{description:"The size in pixels of axis ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},title:{description:'A title for the field. If `null`, the title will be removed.\n\n__Default value:__  derived from the field\'s name and transformation function (`aggregate`, `bin` and `timeUnit`).  If the field has an aggregate function, the function is displayed as a part of the title (e.g., `"Sum of Profit"`). If the field is binned or has a time unit applied, the applied function will be denoted in parentheses (e.g., `"Profit (binned)"`, `"Transaction Date (year-month)"`).  Otherwise, the title is simply the field name.\n\n__Note__: You can customize the default field title format by providing the [`fieldTitle` property in the [config](config.html) or [`fieldTitle` function via the `compile` function\'s options](compile.html#field-title).',type:["string","null"]},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible axis tick values."},zindex:{description:'A non-positive integer indicating z-index of the axis.\nIf zindex is 0, axes should be drawn behind all chart elements.\nTo put them in front, use `"zindex = 1"`.\n\n__Default value:__ `1` (in front of the marks) for actual axis and `0` (behind the marks) for grids.',minimum:0,type:"number"}},type:"object"},AxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis.\n\n__Default value:__ `true`",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:"A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for [continuous scales](scale.html#continuous) that are not binned; otherwise, `false`.",type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-90` for nominal and ordinal fields; `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelBound:{description:"Indicates if labels should be hidden if they exceed the axis range. If `false `(the default) no bounds overlap analysis is performed. If `true`, labels will be hidden if they exceed the axis range by more than 1 pixel. If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n\n__Default value:__ `false`.",type:["boolean","number"]},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFlush:{description:"Indicates if the first and last axis labels should be aligned flush with the scale range. Flush alignment for a horizontal axis will left-align the first label and right-align the last label. For vertical axes, bottom and top text baselines are applied instead. If this property is a number, it also indicates the number of pixels by which to offset the first and last labels; for example, a value of 2 will flush-align the first and last labels and also push them 2 pixels outward from the center of the axis. The additional adjustment can sometimes help the labels better visually group with corresponding axis ticks.\n\n__Default value:__ `true` for axis of a continuous x-scale. Otherwise, `false`.",type:["boolean","number"]},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for non-nominal fields with non-log scales; `"greedy"` for log scales; otherwise `false`.'},labelPadding:{description:"The padding, in pixels, between axis and text labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis.\n\n__Default value:__  `true`.",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30` for y-axis; `undefined` for x-axis.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size in pixels of axis ticks.",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},AxisOrient:{enum:["top","right","left","bottom"],type:"string"},AxisResolveMap:{additionalProperties:!1,properties:{x:{$ref:"#/definitions/ResolveMode"},y:{$ref:"#/definitions/ResolveMode"}},type:"object"},BarConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},binSpacing:{description:"Offset between bar for binned field.  Ideal value for this is either 0 (Preferred by statisticians) or 1 (Vega-Lite Default, D3 example style).\n\n__Default value:__ `1`",minimum:0,type:"number"},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).',type:"string"},continuousBandSize:{description:"The default size of the bars on continuous scales.\n\n__Default value:__ `5`",minimum:0,type:"number"},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},discreteBandSize:{description:"The size of the bars.  If unspecified, the default size is  `bandSize-1`,\nwhich provides 1 pixel offset between bars.",minimum:0,type:"number"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'
},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},BasicType:{enum:["quantitative","ordinal","temporal","nominal"],type:"string"},BinParams:{additionalProperties:!1,description:"Binning properties or boolean flag for determining whether to bin data or not.",properties:{base:{description:"The number base to use for automatic bin determination (default is base 10).\n\n__Default value:__ `10`",type:"number"},divide:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n\n__Default value:__ `[5, 2]`",items:{type:"number"},minItems:1,type:"array"},extent:{description:"A two-element (`[min, max]`) array indicating the range of desired bin values.",items:{type:"number"},maxItems:2,minItems:2,type:"array"},maxbins:{description:"Maximum number of bins.\n\n__Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels",minimum:2,type:"number"},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},nice:{description:"If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.",type:"boolean"},step:{description:"An exact step size to use between bins.\n\n__Note:__ If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",items:{type:"number"},minItems:1,type:"array"}},type:"object"},BinTransform:{additionalProperties:!1,properties:{as:{description:"The output fields at which to write the start and end bin values.",type:"string"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"An object indicating bin properties, or simply `true` for using default bin parameters."},field:{description:"The data field to bin.",type:"string"}},required:["bin","field","as"],type:"object"},BrushConfig:{additionalProperties:!1,properties:{fill:{description:"The fill color of the interval mark.\n\n__Default value:__ `#333333`",type:"string"},fillOpacity:{description:"The fill opacity of the interval mark (a value between 0 and 1).\n\n__Default value:__ `0.125`",type:"number"},stroke:{description:"The stroke color of the interval mark.\n\n__Default value:__ `#ffffff`",type:"string"},strokeDash:{description:"An array of alternating stroke and space lengths,\nfor creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) with which to begin drawing the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity of the interval mark (a value between 0 and 1).",type:"number"},strokeWidth:{description:"The stroke width of the interval mark.",type:"number"}},type:"object"},CalculateTransform:{additionalProperties:!1,properties:{as:{description:"The field for storing the computed formula value.",type:"string"},calculate:{description:"A [expression](https://vega.github.io/vega-lite/docs/types.html#expression) string. Use the variable `datum` to refer to the current data object.",type:"string"}},required:["calculate","as"],type:"object"},CompositeUnitSpec:{$ref:"#/definitions/CompositeUnitSpecAlias",description:"Unit spec that can have a composite mark."},"Conditional<FieldDef>":{anyOf:[{$ref:"#/definitions/ConditionalPredicate<FieldDef>"},{$ref:"#/definitions/ConditionalSelection<FieldDef>"}]},"Conditional<MarkPropFieldDef>":{anyOf:[{$ref:"#/definitions/ConditionalPredicate<MarkPropFieldDef>"},{$ref:"#/definitions/ConditionalSelection<MarkPropFieldDef>"}]},"Conditional<TextFieldDef>":{anyOf:[{$ref:"#/definitions/ConditionalPredicate<TextFieldDef>"},{$ref:"#/definitions/ConditionalSelection<TextFieldDef>"}]},"Conditional<ValueDef>":{anyOf:[{$ref:"#/definitions/ConditionalPredicate<ValueDef>"},{$ref:"#/definitions/ConditionalSelection<ValueDef>"}]},"ConditionalPredicate<FieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},test:{$ref:"#/definitions/LogicalOperand<Predicate>"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["test","type"],type:"object"},"ConditionalPredicate<MarkPropFieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](https://vega.github.io/vega-lite/docs/legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](https://vega.github.io/vega-lite/docs/scale.html) are applied."},sort:{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](https://vega.github.io/vega-lite/docs/sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},test:{$ref:"#/definitions/LogicalOperand<Predicate>"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["test","type"],type:"object"},"ConditionalPredicate<TextFieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},format:{description:"The [formatting pattern](https://vega.github.io/vega-lite/docs/format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},test:{$ref:"#/definitions/LogicalOperand<Predicate>"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["test","type"],type:"object"},"ConditionalPredicate<ValueDef>":{additionalProperties:!1,properties:{test:{$ref:"#/definitions/LogicalOperand<Predicate>"},value:{description:'A constant value in visual domain (e.g., `"red"` / "#0099ff" for color, values between `0` to `1` for opacity).',type:["number","string","boolean"]}},required:["test","value"],type:"object"},"ConditionalSelection<FieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},selection:{$ref:"#/definitions/SelectionOperand",description:"A [selection name](https://vega.github.io/vega-lite/docs/selection.html), or a series of [composed selections](https://vega.github.io/vega-lite/docs/selection.html#compose)."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["selection","type"],type:"object"},"ConditionalSelection<MarkPropFieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](https://vega.github.io/vega-lite/docs/legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](https://vega.github.io/vega-lite/docs/scale.html) are applied."},selection:{$ref:"#/definitions/SelectionOperand",description:"A [selection name](https://vega.github.io/vega-lite/docs/selection.html), or a series of [composed selections](https://vega.github.io/vega-lite/docs/selection.html#compose)."},sort:{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](https://vega.github.io/vega-lite/docs/sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["selection","type"],type:"object"},"ConditionalSelection<TextFieldDef>":{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},format:{description:"The [formatting pattern](https://vega.github.io/vega-lite/docs/format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},selection:{$ref:"#/definitions/SelectionOperand",description:"A [selection name](https://vega.github.io/vega-lite/docs/selection.html), or a series of [composed selections](https://vega.github.io/vega-lite/docs/selection.html#compose)."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["selection","type"],type:"object"},"ConditionalSelection<ValueDef>":{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand",description:"A [selection name](https://vega.github.io/vega-lite/docs/selection.html), or a series of [composed selections](https://vega.github.io/vega-lite/docs/selection.html#compose)."},value:{description:'A constant value in visual domain (e.g., `"red"` / "#0099ff" for color, values between `0` to `1` for opacity).',type:["number","string","boolean"]}},required:["selection","value"],type:"object"},Config:{additionalProperties:!1,properties:{area:{$ref:"#/definitions/MarkConfig",description:"Area-Specific Config "},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},axis:{$ref:"#/definitions/AxisConfig",description:"Axis configuration, which determines default properties for all `x` and `y` [axes](axis.html). For a full list of axis configuration options, please see the [corresponding section of the axis documentation](axis.html#config)."},axisBand:{$ref:"#/definitions/VgAxisConfig",description:'Specific axis config for axes with "band" scales.'},axisBottom:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the bottom edge of the chart."},axisLeft:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the left edge of the chart."},axisRight:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the right edge of the chart."},axisTop:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the top edge of the chart."},axisX:{$ref:"#/definitions/VgAxisConfig",description:"X-axis specific config."},axisY:{$ref:"#/definitions/VgAxisConfig",description:"Y-axis specific config."},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},bar:{$ref:"#/definitions/BarConfig",description:"Bar-Specific Config "},circle:{$ref:"#/definitions/MarkConfig",description:"Circle-Specific Config "},countTitle:{description:"Default axis and legend title for count fields.\n\n__Default value:__ `'Number of Records'`.",type:"string"},fieldTitle:{description:'Defines how Vega-Lite generates title for fields.  There are three possible styles:\n- `"verbal"` (Default) - displays function in a verbal style (e.g., "Sum of field", "Year-month of date", "field (binned)").\n- `"function"` - displays function using parentheses and capitalized texts (e.g., "SUM(field)", "YEARMONTH(date)", "BIN(field)").\n- `"plain"` - displays only the field name without functions (e.g., "field", "date", "field").',enum:["verbal","functional","plain"],type:"string"},geoshape:{$ref:"#/definitions/MarkConfig",description:"Geoshape-Specific Config "},invalidValues:{description:'Defines how Vega-Lite should handle invalid values (`null` and `NaN`).\n- If set to `"filter"` (default), all data items with null values are filtered.\n- If `null`, all data items are included. In this case, invalid values will be interpreted as zeroes.',enum:["filter",null],type:["string","null"]},legend:{$ref:"#/definitions/LegendConfig",description:"Legend configuration, which determines default properties for all [legends](legend.html). For a full list of legend configuration options, please see the [corresponding section of in the legend documentation](legend.html#config)."},line:{$ref:"#/definitions/MarkConfig",description:"Line-Specific Config "},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config "},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units. Use [D3\'s number format pattern](https://github.com/d3/d3-format#locale_format).',type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},point:{$ref:"#/definitions/MarkConfig",description:"Point-Specific Config "},projection:{$ref:"#/definitions/ProjectionConfig",description:"Projection configuration, which determines default properties for all [projections](projection.html). For a full list of projection configuration options, please see the [corresponding section of the projection documentation](projection.html#config)."},range:{$ref:"#/definitions/RangeConfig",description:"An object hash that defines default range arrays or schemes for using with scales.\nFor a full list of scale range configuration options, please see the [corresponding section of the scale documentation](scale.html#config)."},rect:{$ref:"#/definitions/MarkConfig",description:"Rect-Specific Config "},rule:{$ref:"#/definitions/MarkConfig",description:"Rule-Specific Config "},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale configuration determines default properties for all [scales](scale.html). For a full list of scale configuration options, please see the [corresponding section of the scale documentation](scale.html#config)."},selection:{$ref:"#/definitions/SelectionConfig",description:"An object hash for defining default properties for each type of selections. "},square:{$ref:"#/definitions/MarkConfig",description:"Square-Specific Config "},stack:{$ref:"#/definitions/StackOffset",description:"Default stack offset for stackable mark. "},style:{$ref:"#/definitions/StyleConfigIndex",description:"An object hash that defines key-value mappings to determine default properties for marks with a given [style](mark.html#mark-def).  The keys represent styles names; the value are valid [mark configuration objects](mark.html#config).  "},text:{$ref:"#/definitions/TextConfig",description:"Text-Specific Config "},tick:{$ref:"#/definitions/TickConfig",description:"Tick-Specific Config "},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend. Use [D3's time format pattern](https://github.com/d3/d3-time-format#locale_format).\n\n__Default value:__ `'%b %d, %Y'`.",type:"string"},title:{$ref:"#/definitions/VgTitleConfig",description:"Title configuration, which determines default properties for all [titles](title.html). For a full list of title configuration options, please see the [corresponding section of the title documentation](title.html#config)."},view:{$ref:"#/definitions/ViewConfig",description:"Default properties for [single view plots](spec.html#single). "}},type:"object"},CsvDataFormat:{additionalProperties:!1,properties:{parse:{anyOf:[{enum:["auto"],type:"string"},{type:"object"}],description:'If set to auto (the default), perform automatic type inference to determine the desired data types.\nAlternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `"number"`, `"boolean"` or `"date"`).\nFor example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value.\n\nFor `"date"`, we parse data based using Javascript\'s [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\nFor Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},type:{description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\nThe default format type is determined by the extension of the file URL.\nIf no extension is detected, `"json"` will be used by default.',enum:["csv","tsv"],type:"string"}},type:"object"},Data:{anyOf:[{$ref:"#/definitions/UrlData"},{$ref:"#/definitions/InlineData"},{$ref:"#/definitions/NamedData"}]},DataFormat:{anyOf:[{$ref:"#/definitions/CsvDataFormat"},{$ref:"#/definitions/JsonDataFormat"},{$ref:"#/definitions/TopoDataFormat"}]},DateTime:{additionalProperties:!1,description:"Object for defining datetime in Vega-Lite Filter.\nIf both month and quarter are provided, month has higher precedence.\n`day` cannot be combined with other date.\nWe accept string for month and day names.",properties:{date:{description:"Integer value representing the date from 1-31.",maximum:31,minimum:1,type:"number"},day:{anyOf:[{$ref:"#/definitions/Day"},{type:"string"}],description:'Value representing the day of a week.  This can be one of: (1) integer value -- `1` represents Monday; (2) case-insensitive day name (e.g., `"Monday"`);  (3) case-insensitive, 3-character short day name (e.g., `"Mon"`).   <br/> **Warning:** A DateTime definition object with `day`** should not be combined with `year`, `quarter`, `month`, or `date`.'
},hours:{description:"Integer value representing the hour of a day from 0-23.",maximum:23,minimum:0,type:"number"},milliseconds:{description:"Integer value representing the millisecond segment of time.",maximum:999,minimum:0,type:"number"},minutes:{description:"Integer value representing the minute segment of time from 0-59.",maximum:59,minimum:0,type:"number"},month:{anyOf:[{$ref:"#/definitions/Month"},{type:"string"}],description:'One of: (1) integer value representing the month from `1`-`12`. `1` represents January;  (2) case-insensitive month name (e.g., `"January"`);  (3) case-insensitive, 3-character short month name (e.g., `"Jan"`). '},quarter:{description:"Integer value representing the quarter of the year (from 1-4).",maximum:4,minimum:1,type:"number"},seconds:{description:"Integer value representing the second segment (0-59) of a time value",maximum:59,minimum:0,type:"number"},utc:{description:"A boolean flag indicating if date time is in utc time. If false, the date time is in local time",type:"boolean"},year:{description:"Integer value representing the year.",type:"number"}},type:"object"},Day:{maximum:7,minimum:1,type:"number"},Encoding:{additionalProperties:!1,properties:{color:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'Color of the marks – either fill or stroke color based on mark type.\nBy default, `color` represents fill color for `"area"`, `"bar"`, `"tick"`,\n`"text"`, `"circle"`, and `"square"` / stroke color for `"line"` and `"point"`.\n\n__Default value:__ If undefined, the default color depends on [mark config](config.html#mark)\'s `color` property.\n\n_Note:_ See the scale documentation for more information about customizing [color scheme](scale.html#scheme).'},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},href:{anyOf:[{$ref:"#/definitions/FieldDefWithCondition"},{$ref:"#/definitions/ValueDefWithCondition"}],description:"A URL to load upon mouse click."},opacity:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:"Opacity of the marks – either can be a value or a range.\n\n__Default value:__ If undefined, the default opacity depends on [mark config](config.html#mark)'s `opacity` property."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"Stack order for stacked marks or order of data points in line marks for connected scatter plots.\n\n__Note__: In aggregate plots, `order` field should be `aggregate`d to avoid creating additional aggregation grouping."},shape:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'For `point` marks the supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.\nFor `geoshape` marks it should be a field definition of the geojson data\n\n__Default value:__ If undefined, the default shape depends on [mark config](config.html#point-config)\'s `shape` property.'},size:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'Size of the mark.\n- For `"point"`, `"square"` and `"circle"`, – the symbol size, or pixel area of the mark.\n- For `"bar"` and `"tick"` – the bar and tick\'s size.\n- For `"text"` – the text\'s font size.\n- Size is currently unsupported for `"line"`, `"area"`, and `"rect"`.'},text:{anyOf:[{$ref:"#/definitions/TextFieldDefWithCondition"},{$ref:"#/definitions/TextValueDefWithCondition"}],description:"Text of the `text` mark."},tooltip:{anyOf:[{$ref:"#/definitions/TextFieldDefWithCondition"},{$ref:"#/definitions/TextValueDefWithCondition"}],description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X coordinates of the marks, or width of horizontal `"bar"` and `"area"`.'},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y coordinates of the marks, or height of vertical `"bar"` and `"area"`.'},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'}},type:"object"},EncodingWithFacet:{additionalProperties:!1,properties:{color:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'Color of the marks – either fill or stroke color based on mark type.\nBy default, `color` represents fill color for `"area"`, `"bar"`, `"tick"`,\n`"text"`, `"circle"`, and `"square"` / stroke color for `"line"` and `"point"`.\n\n__Default value:__ If undefined, the default color depends on [mark config](config.html#mark)\'s `color` property.\n\n_Note:_ See the scale documentation for more information about customizing [color scheme](scale.html#scheme).'},column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},href:{anyOf:[{$ref:"#/definitions/FieldDefWithCondition"},{$ref:"#/definitions/ValueDefWithCondition"}],description:"A URL to load upon mouse click."},opacity:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:"Opacity of the marks – either can be a value or a range.\n\n__Default value:__ If undefined, the default opacity depends on [mark config](config.html#mark)'s `opacity` property."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"Stack order for stacked marks or order of data points in line marks for connected scatter plots.\n\n__Note__: In aggregate plots, `order` field should be `aggregate`d to avoid creating additional aggregation grouping."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."},shape:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'For `point` marks the supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.\nFor `geoshape` marks it should be a field definition of the geojson data\n\n__Default value:__ If undefined, the default shape depends on [mark config](config.html#point-config)\'s `shape` property.'},size:{anyOf:[{$ref:"#/definitions/MarkPropFieldDefWithCondition"},{$ref:"#/definitions/MarkPropValueDefWithCondition"}],description:'Size of the mark.\n- For `"point"`, `"square"` and `"circle"`, – the symbol size, or pixel area of the mark.\n- For `"bar"` and `"tick"` – the bar and tick\'s size.\n- For `"text"` – the text\'s font size.\n- Size is currently unsupported for `"line"`, `"area"`, and `"rect"`.'},text:{anyOf:[{$ref:"#/definitions/TextFieldDefWithCondition"},{$ref:"#/definitions/TextValueDefWithCondition"}],description:"Text of the `text` mark."},tooltip:{anyOf:[{$ref:"#/definitions/TextFieldDefWithCondition"},{$ref:"#/definitions/TextValueDefWithCondition"}],description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X coordinates of the marks, or width of horizontal `"bar"` and `"area"`.'},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'X2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y coordinates of the marks, or height of vertical `"bar"` and `"area"`.'},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/ValueDef"}],description:'Y2 coordinates for ranged  `"area"`, `"bar"`, `"rect"`, and  `"rule"`.'}},type:"object"},FacetFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},header:{$ref:"#/definitions/Header",description:"An object defining properties of a facet's header."},sort:{$ref:"#/definitions/SortOrder",description:'Sort order for a facet field.\nThis can be `"ascending"`, `"descending"`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},FacetMapping:{additionalProperties:!1,properties:{column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."}},type:"object"},FieldDef:{additionalProperties:!1,description:"Definition object for a data field, its type and transformation of an encoding channel.",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},FieldDefWithCondition:{additionalProperties:!1,description:"A FieldDef with Condition<ValueDef>\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},condition:{anyOf:[{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"One or more value definition(s) with a selection predicate.\n\n__Note:__ A field definition's `condition` property can only contain [value definitions](https://vega.github.io/vega-lite/docs/encoding.html#value-def)\nsince Vega-Lite only allows at most one encoded field per encoding channel."},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},MarkPropFieldDefWithCondition:{additionalProperties:!1,description:"A FieldDef with Condition<ValueDef>\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},condition:{anyOf:[{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"One or more value definition(s) with a selection predicate.\n\n__Note:__ A field definition's `condition` property can only contain [value definitions](https://vega.github.io/vega-lite/docs/encoding.html#value-def)\nsince Vega-Lite only allows at most one encoded field per encoding channel."},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}],description:"An object defining properties of the legend.\nIf `null`, the legend for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [legend properties](https://vega.github.io/vega-lite/docs/legend.html) are applied."},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](https://vega.github.io/vega-lite/docs/scale.html) are applied."},sort:{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](https://vega.github.io/vega-lite/docs/sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},TextFieldDefWithCondition:{additionalProperties:!1,description:"A FieldDef with Condition<ValueDef>\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},condition:{anyOf:[{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"One or more value definition(s) with a selection predicate.\n\n__Note:__ A field definition's `condition` property can only contain [value definitions](https://vega.github.io/vega-lite/docs/encoding.html#value-def)\nsince Vega-Lite only allows at most one encoded field per encoding channel."},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},format:{description:"The [formatting pattern](https://vega.github.io/vega-lite/docs/format.html) for a text field. If not defined, this will be determined automatically.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},FieldEqualPredicate:{additionalProperties:!1,properties:{equal:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/definitions/DateTime"}],description:"The value that the field should be equal to."},field:{description:"Field to be filtered.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for the field to be filtered."}},required:["field","equal"],type:"object"},FieldOneOfPredicate:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},oneOf:{anyOf:[{items:{type:"string"},type:"array"},{items:{type:"number"},type:"array"},{items:{type:"boolean"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"A set of values that the `field`'s value should be a member of,\nfor a data item included in the filtered data."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","oneOf"],type:"object"},FieldRangePredicate:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},range:{description:"An array of inclusive minimum and maximum values\nfor a field value of a data item to be included in the filtered data.",items:{anyOf:[{type:"number"},{$ref:"#/definitions/DateTime"},{type:"null"}]},maxItems:2,minItems:2,type:"array"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","range"],type:"object"},FilterTransform:{additionalProperties:!1,properties:{filter:{$ref:"#/definitions/LogicalOperand<Predicate>",description:"The `filter` property must be one of the predicate definitions:\n(1) an [expression](https://vega.github.io/vega-lite/docs/types.html#expression) string,\nwhere `datum` can be used to refer to the current data object;\n(2) one of the field predicates: [equal predicate](https://vega.github.io/vega-lite/docs/filter.html#equal-predicate);\n[range predicate](filter.html#range-predicate), [one-of predicate](https://vega.github.io/vega-lite/docs/filter.html#one-of-predicate);\n(3) a [selection predicate](https://vega.github.io/vega-lite/docs/filter.html#selection-predicate);\nor (4) a logical operand that combines (1), (2), or (3)."}},required:["filter"],type:"object"},FontStyle:{enum:["normal","italic"],type:"string"},FontWeight:{enum:["normal","bold"],type:"string"},FontWeightNumber:{maximum:900,minimum:100,type:"number"},FacetSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/FacetMapping",description:"An object that describes mappings between `row` and `column` channels and their field definitions."},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for facets."},spec:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}],description:"A specification of the view that gets faceted."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},HConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},hconcat:{description:"A list of views that should be concatenated and put into a row.",items:{$ref:"#/definitions/Spec"},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for horizontally concatenated charts."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},LayerSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},height:{description:'The height of a visualization.\n\n__Default value:__\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its y-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For y-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the height is [determined by the range step, paddings, and the cardinality of the field mapped to y-channel](https://vega.github.io/vega-lite/docs/scale.html#band). Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `y` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the height of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"},layer:{description:"Layer or single view specifications to be layered.\n\n__Note__: Specifications inside `layer` cannot use `row` and `column` channels as layering facet specifications is not allowed.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for layers."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its x-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For x-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the width is [determined by the range step, paddings, and the cardinality of the field mapped to x-channel](https://vega.github.io/vega-lite/docs/scale.html#band).   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](https://vega.github.io/vega-lite/docs/size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"}},required:["layer"],type:"object"},RepeatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},repeat:{$ref:"#/definitions/Repeat",description:"An object that describes what fields should be repeated into views that are laid out as a `row` or `column`."},resolve:{$ref:"#/definitions/Resolve",description:"Scale and legend resolutions for repeated charts."},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},Spec:{anyOf:[{$ref:"#/definitions/CompositeUnitSpec"},{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/FacetSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/VConcatSpec"},{$ref:"#/definitions/HConcatSpec"}]},CompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/Encoding",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its y-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For y-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the height is [determined by the range step, paddings, and the cardinality of the field mapped to y-channel](https://vega.github.io/vega-lite/docs/scale.html#band). Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `y` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the height of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',
type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n* `"area"`, `"point"`, `"rule"`, `"geoshape"`, and `"text"`) or a [mark definition object](https://vega.github.io/vega-lite/docs/mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},projection:{$ref:"#/definitions/Projection",description:'An object defining properties of geographic projection.\n\nWorks with `"geoshape"` marks and `"point"` or `"line"` marks that have a channel (one or more of `"X"`, `"X2"`, `"Y"`, `"Y2"`) with type `"latitude"`, or `"longitude"`.'},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its x-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For x-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the width is [determined by the range step, paddings, and the cardinality of the field mapped to x-channel](https://vega.github.io/vega-lite/docs/scale.html#band).   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](https://vega.github.io/vega-lite/docs/size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"}},required:["mark"],type:"object"},FacetedCompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its y-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For y-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the height is [determined by the range step, paddings, and the cardinality of the field mapped to y-channel](https://vega.github.io/vega-lite/docs/scale.html#band). Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `y` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the height of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n* `"area"`, `"point"`, `"rule"`, `"geoshape"`, and `"text"`) or a [mark definition object](https://vega.github.io/vega-lite/docs/mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},projection:{$ref:"#/definitions/Projection",description:'An object defining properties of geographic projection.\n\nWorks with `"geoshape"` marks and `"point"` or `"line"` marks that have a channel (one or more of `"X"`, `"X2"`, `"Y"`, `"Y2"`) with type `"latitude"`, or `"longitude"`.'},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its x-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For x-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the width is [determined by the range step, paddings, and the cardinality of the field mapped to x-channel](https://vega.github.io/vega-lite/docs/scale.html#band).   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](https://vega.github.io/vega-lite/docs/size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"}},required:["mark"],type:"object"},VConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for vertically concatenated charts."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{description:"A list of views that should be concatenated and put into a column.",items:{$ref:"#/definitions/Spec"},type:"array"}},required:["vconcat"],type:"object"},GeoType:{enum:["latitude","longitude","geojson"],type:"string"},Header:{additionalProperties:!1,description:"Headers of row / column channels for faceted plots.",properties:{format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/d3/d3-format#locale_format) for quantitative fields and D3's [time format pattern](https://github.com/d3/d3-time-format#locale_format) for time field.\n\nSee the [format documentation](format.html) for more information.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},labelAngle:{description:"The rotation angle of the header labels.\n\n__Default value:__ `0`.",maximum:360,minimum:-360,type:"number"},title:{description:'A title for the field. If `null`, the title will be removed.\n\n__Default value:__  derived from the field\'s name and transformation function (`aggregate`, `bin` and `timeUnit`).  If the field has an aggregate function, the function is displayed as a part of the title (e.g., `"Sum of Profit"`). If the field is binned or has a time unit applied, the applied function will be denoted in parentheses (e.g., `"Profit (binned)"`, `"Transaction Date (year-month)"`).  Otherwise, the title is simply the field name.\n\n__Note__: You can customize the default field title format by providing the [`fieldTitle` property in the [config](config.html) or [`fieldTitle` function via the `compile` function\'s options](compile.html#field-title).',type:["string","null"]}},type:"object"},HorizontalAlign:{enum:["left","right","center"],type:"string"},InlineData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for parsing the data values."},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{type:"boolean"},type:"array"},{items:{type:"object"},type:"array"},{type:"string"},{type:"object"}],description:"The full data set, included inline. This can be an array of objects or primitive values or a string.\nArrays of primitive values are ingested as objects with a `data` property. Strings are parsed according to the specified format type."}},required:["values"],type:"object"},Interpolate:{enum:["linear","linear-closed","step","step-before","step-after","basis","basis-open","basis-closed","cardinal","cardinal-open","cardinal-closed","bundle","monotone"],type:"string"},IntervalSelection:{additionalProperties:!1,properties:{bind:{description:"Establishes a two-way binding between the interval selection and the scales\nused within the same view. This allows a user to interactively pan and\nzoom the view.",enum:["scales"],type:"string"},empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},mark:{$ref:"#/definitions/BrushConfig",description:"An interval selection also adds a rectangle mark to depict the\nextents of the interval. The `mark` property can be used to customize the\nappearance of the mark."},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."},translate:{description:"When truthy, allows a user to interactively move an interval selection\nback-and-forth. Can be `true`, `false` (to disable panning), or a\n[Vega event stream definition](https://vega.github.io/vega/docs/event-streams/)\nwhich must include a start and end event to trigger continuous panning.\n\n__Default value:__ `true`, which corresponds to\n`[mousedown, window:mouseup] > window:mousemove!` which corresponds to\nclicks and dragging within an interval selection to reposition it.",type:["string","boolean"]},type:{enum:["interval"],type:"string"},zoom:{description:"When truthy, allows a user to interactively resize an interval selection.\nCan be `true`, `false` (to disable zooming), or a [Vega event stream\ndefinition](https://vega.github.io/vega/docs/event-streams/). Currently,\nonly `wheel` events are supported.\n\n\n__Default value:__ `true`, which corresponds to `wheel!`.",type:["string","boolean"]}},required:["type"],type:"object"},IntervalSelectionConfig:{additionalProperties:!1,properties:{bind:{description:"Establishes a two-way binding between the interval selection and the scales\nused within the same view. This allows a user to interactively pan and\nzoom the view.",enum:["scales"],type:"string"},empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},mark:{$ref:"#/definitions/BrushConfig",description:"An interval selection also adds a rectangle mark to depict the\nextents of the interval. The `mark` property can be used to customize the\nappearance of the mark."},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."},translate:{description:"When truthy, allows a user to interactively move an interval selection\nback-and-forth. Can be `true`, `false` (to disable panning), or a\n[Vega event stream definition](https://vega.github.io/vega/docs/event-streams/)\nwhich must include a start and end event to trigger continuous panning.\n\n__Default value:__ `true`, which corresponds to\n`[mousedown, window:mouseup] > window:mousemove!` which corresponds to\nclicks and dragging within an interval selection to reposition it.",type:["string","boolean"]},zoom:{description:"When truthy, allows a user to interactively resize an interval selection.\nCan be `true`, `false` (to disable zooming), or a [Vega event stream\ndefinition](https://vega.github.io/vega/docs/event-streams/). Currently,\nonly `wheel` events are supported.\n\n\n__Default value:__ `true`, which corresponds to `wheel!`.",type:["string","boolean"]}},type:"object"},JsonDataFormat:{additionalProperties:!1,properties:{parse:{anyOf:[{enum:["auto"],type:"string"},{type:"object"}],description:'If set to auto (the default), perform automatic type inference to determine the desired data types.\nAlternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `"number"`, `"boolean"` or `"date"`).\nFor example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value.\n\nFor `"date"`, we parse data based using Javascript\'s [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\nFor Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},property:{description:'The JSON property containing the desired data.\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\nfrom the loaded JSON object.',type:"string"},type:{description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\nThe default format type is determined by the extension of the file URL.\nIf no extension is detected, `"json"` will be used by default.',enum:["json"],type:"string"}},type:"object"},Legend:{additionalProperties:!1,description:"Properties of a legend or boolean flag for determining whether to show it.",properties:{entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/d3/d3-format#locale_format) for quantitative fields and D3's [time format pattern](https://github.com/d3/d3-time-format#locale_format) for time field.\n\nSee the [format documentation](format.html) for more information.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend, which determines how the legend is positioned within the scene. One of "left", "right", "top-left", "top-right", "bottom-left", "bottom-right", "none".\n\n__Default value:__ `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},tickCount:{description:"The desired number of tick values for quantitative legends.",type:"number"},title:{description:'A title for the field. If `null`, the title will be removed.\n\n__Default value:__  derived from the field\'s name and transformation function (`aggregate`, `bin` and `timeUnit`).  If the field has an aggregate function, the function is displayed as a part of the title (e.g., `"Sum of Profit"`). If the field is binned or has a time unit applied, the applied function will be denoted in parentheses (e.g., `"Profit (binned)"`, `"Transaction Date (year-month)"`).  Otherwise, the title is simply the field name.\n\n__Note__: You can customize the default field title format by providing the [`fieldTitle` property in the [config](config.html) or [`fieldTitle` function via the `compile` function\'s options](compile.html#field-title).',type:["string","null"]},type:{description:'The type of the legend. Use `"symbol"` to create a discrete legend and `"gradient"` for a continuous color gradient.\n\n__Default value:__ `"gradient"` for non-binned quantitative fields and temporal fields; `"symbol"` otherwise.',enum:["symbol","gradient"],type:"string"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible legend values."},zindex:{description:"A non-positive integer indicating z-index of the legend.\nIf zindex is 0, legend should be drawn behind all chart elements.\nTo put them in front, use zindex = 1.",minimum:0,type:"number"}},type:"object"},LegendConfig:{additionalProperties:!1,properties:{cornerRadius:{description:"Corner radius for the full legend.",type:"number"},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},gradientHeight:{description:"The height of the gradient, in pixels.",minimum:0,type:"number"},gradientLabelBaseline:{description:"Text baseline for color ramp gradient labels.",type:"string"},gradientLabelLimit:{description:"The maximum allowed length in pixels of color ramp gradient labels.",type:"number"},gradientLabelOffset:{description:"Vertical offset in pixels for color ramp gradient labels.",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",minimum:0,type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",minimum:0,type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the legend label.",type:"string"},labelFontSize:{description:"The font size of legend label.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOffset:{description:"The offset of the legend label.",minimum:0,type:"number"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{$ref:"#/definitions/LegendOrient",description:'The orientation of the legend, which determines how the legend is positioned within the scene. One of "left", "right", "top-left", "top-right", "bottom-left", "bottom-right", "none".\n\n__Default value:__ `"right"`'},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},strokeColor:{description:"Border stroke color for the full legend.",type:"string"},strokeDash:{description:"Border stroke dash pattern for the full legend.",items:{type:"number"},type:"array"},strokeWidth:{description:"Border stroke width for the full legend.",type:"number"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolSize:{description:"The size of the legend symbol, in pixels.",minimum:0,type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",minimum:0,type:"number"},symbolType:{description:'Default shape type (such as "circle") for legend symbols.',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},titleBaseline:{description:"Vertical text baseline for legend titles.",type:"string"},titleColor:{description:"The color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and legend.",type:"number"}},type:"object"},LegendOrient:{enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},LegendResolveMap:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ResolveMode"},opacity:{$ref:"#/definitions/ResolveMode"},shape:{$ref:"#/definitions/ResolveMode"},size:{$ref:"#/definitions/ResolveMode"}},type:"object"},LocalMultiTimeUnit:{enum:["yearquarter","yearquartermonth","yearmonth","yearmonthdate","yearmonthdatehours","yearmonthdatehoursminutes","yearmonthdatehoursminutesseconds","quartermonth","monthdate","hoursminutes","hoursminutesseconds","minutesseconds","secondsmilliseconds"],type:"string"},LocalSingleTimeUnit:{enum:["year","quarter","month","day","date","hours","minutes","seconds","milliseconds"],type:"string"},"LogicalAnd<Predicate>":{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/LogicalOperand<Predicate>"},type:"array"}},required:["and"],type:"object"},SelectionAnd:{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["and"],type:"object"},"LogicalNot<Predicate>":{additionalProperties:!1,properties:{not:{$ref:"#/definitions/LogicalOperand<Predicate>"}},required:["not"],type:"object"},SelectionNot:{additionalProperties:!1,properties:{not:{$ref:"#/definitions/SelectionOperand"}},required:["not"],type:"object"},"LogicalOperand<Predicate>":{anyOf:[{$ref:"#/definitions/LogicalNot<Predicate>"},{$ref:"#/definitions/LogicalAnd<Predicate>"},{$ref:"#/definitions/LogicalOr<Predicate>"},{$ref:"#/definitions/Predicate"}]},SelectionOperand:{anyOf:[{$ref:"#/definitions/SelectionNot"},{$ref:"#/definitions/SelectionAnd"},{$ref:"#/definitions/SelectionOr"},{type:"string"}]},"LogicalOr<Predicate>":{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/LogicalOperand<Predicate>"},type:"array"}},required:["or"],type:"object"},SelectionOr:{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["or"],type:"object"},LookupData:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"Secondary data source to lookup in."},fields:{description:"Fields in foreign data to lookup.\nIf not specified, the entire object is queried.",items:{type:"string"},type:"array"},key:{description:"Key in data to lookup.",type:"string"}},required:["data","key"],type:"object"},LookupTransform:{additionalProperties:!1,properties:{as:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:"The field or fields for storing the computed formula value.\nIf `from.fields` is specified, the transform will use the same names for `as`.\nIf `from.fields` is not specified, `as` has to be a string and we put the whole object into the data under the specified name."},default:{description:"The default value to use if lookup fails.\n\n__Default value:__ `null`",type:"string"},from:{$ref:"#/definitions/LookupData",description:"Secondary data reference."},lookup:{description:"Key in primary data source.",type:"string"}},required:["lookup","from"],type:"object"},Mark:{description:"All types of primitive marks.",enum:["area","bar","line","point","text","tick","rect","rule","circle","square","geoshape"],type:"string"},MarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).',type:"string"},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",
minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},MarkDef:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},clip:{description:"Whether a mark be clipped to the enclosing group’s width and height.",type:"boolean"},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).',type:"string"},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},style:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:'A string or array of strings indicating the name of custom styles to apply to the mark. A style is a named collection of mark property defaults defined within the [style configuration](mark.html#style-config). If style is an array, later styles will override earlier styles. Any [mark properties](encoding.html#mark-prop) explicitly defined within the `encoding` will override a style default.\n\n__Default value:__ The mark\'s name.  For example, a bar mark will have style `"bar"` by default.\n__Note:__ Any specified style will augment the default style. For example, a bar mark with `"style": "foo"` will receive from `config.style.bar` and `config.style.foo` (the specified style `"foo"` has higher precedence).'},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"},type:{$ref:"#/definitions/Mark",description:'The mark type.\nOne of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"geoshape"`, `"rule"`, and `"text"`.'}},required:["type"],type:"object"},Month:{maximum:12,minimum:1,type:"number"},MultiSelection:{additionalProperties:!1,properties:{empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.\n\nSee the [nearest transform](nearest.html) documentation for more information.",type:"boolean"},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."},toggle:{description:"Controls whether data values should be toggled or only ever inserted into\nmulti selections. Can be `true`, `false` (for insertion only), or a\n[Vega expression](https://vega.github.io/vega/docs/expressions/).\n\n__Default value:__ `true`, which corresponds to `event.shiftKey` (i.e.,\ndata values are toggled when a user interacts with the shift-key pressed).\n\nSee the [toggle transform](toggle.html) documentation for more information.",type:["string","boolean"]},type:{enum:["multi"],type:"string"}},required:["type"],type:"object"},MultiSelectionConfig:{additionalProperties:!1,properties:{empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.\n\nSee the [nearest transform](nearest.html) documentation for more information.",type:"boolean"},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."},toggle:{description:"Controls whether data values should be toggled or only ever inserted into\nmulti selections. Can be `true`, `false` (for insertion only), or a\n[Vega expression](https://vega.github.io/vega/docs/expressions/).\n\n__Default value:__ `true`, which corresponds to `event.shiftKey` (i.e.,\ndata values are toggled when a user interacts with the shift-key pressed).\n\nSee the [toggle transform](toggle.html) documentation for more information.",type:["string","boolean"]}},type:"object"},MultiTimeUnit:{anyOf:[{$ref:"#/definitions/LocalMultiTimeUnit"},{$ref:"#/definitions/UtcMultiTimeUnit"}]},NamedData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for parsing the data."},name:{description:"Provide a placeholder name and bind data at runtime.",type:"string"}},required:["name"],type:"object"},NiceTime:{enum:["second","minute","hour","day","week","month","year"],type:"string"},OrderFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},sort:{$ref:"#/definitions/SortOrder",description:'The sort order. One of `"ascending"` (default) or `"descending"`.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},Orient:{enum:["horizontal","vertical"],type:"string"},Padding:{anyOf:[{type:"number"},{additionalProperties:!1,properties:{bottom:{type:"number"},left:{type:"number"},right:{type:"number"},top:{type:"number"}},type:"object"}],minimum:0},PositionFieldDef:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/Aggregate",description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},axis:{anyOf:[{$ref:"#/definitions/Axis"},{type:"null"}],description:"An object defining properties of axis's gridlines, ticks and labels.\nIf `null`, the axis for the encoding channel will be removed.\n\n__Default value:__ If undefined, default [axis properties](https://vega.github.io/vega-lite/docs/axis.html) are applied."},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/BinParams"}],description:"A flag for binning a `quantitative` field, or [an object defining binning parameters](https://vega.github.io/vega-lite/docs/bin.html#params).\nIf `true`, default [binning parameters](https://vega.github.io/vega-lite/docs/bin.html) will be applied.\n\n__Default value:__ `false`"},field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:'__Required.__ A string defining the name of the field from which to pull a data value\nor an object defining iterated values from the [`repeat`](https://vega.github.io/vega-lite/docs/repeat.html) operator.\n\n__Note:__ Dots (`.`) and brackets (`[` and `]`) can be used to access nested objects (e.g., `"field": "foo.bar"` and `"field": "foo[\'bar\']"`).\nIf field names contain dots or brackets but are not nested, you can use `\\\\` to escape dots and brackets (e.g., `"a\\\\.b"` and `"a\\\\[0\\\\]"`).\nSee more details about escaping in the [field documentation](https://vega.github.io/vega-lite/docs/field.html).\n\n__Note:__ `field` is not required if `aggregate` is `count`.'},scale:{$ref:"#/definitions/Scale",description:"An object defining properties of the channel's scale, which is the function that transforms values in the data domain (numbers, dates, strings, etc) to visual values (pixels, colors, sizes) of the encoding channels.\n\n__Default value:__ If undefined, default [scale properties](https://vega.github.io/vega-lite/docs/scale.html) are applied."},sort:{anyOf:[{$ref:"#/definitions/SortOrder"},{$ref:"#/definitions/SortField"},{type:"null"}],description:'Sort order for the encoded field.\nSupported `sort` values include `"ascending"`, `"descending"` and `null` (no sorting).\nFor fields with discrete domains, `sort` can also be a [sort field definition object](https://vega.github.io/vega-lite/docs/sort.html#sort-field).\n\n__Default value:__ `"ascending"`'},stack:{anyOf:[{$ref:"#/definitions/StackOffset"},{type:"null"}],description:'Type of stacking offset if the field should be stacked.\n`stack` is only applicable for `x` and `y` channels with continuous domains.\nFor example, `stack` of `y` can be used to customize stacking for a vertical bar chart.\n\n`stack` can be one of the following values:\n- `"zero"`: stacking with baseline offset at zero value of the scale (for creating typical stacked [bar](https://vega.github.io/vega-lite/docs/stack.html#bar) and [area](https://vega.github.io/vega-lite/docs/stack.html#area) chart).\n- `"normalize"` - stacking with normalized domain (for creating [normalized stacked bar and area charts](https://vega.github.io/vega-lite/docs/stack.html#normalized). <br/>\n-`"center"` - stacking with center baseline (for [streamgraph](https://vega.github.io/vega-lite/docs/stack.html#streamgraph)).\n- `null` - No-stacking. This will produce layered [bar](https://vega.github.io/vega-lite/docs/stack.html#layered-bar-chart) and area chart.\n\n__Default value:__ `zero` for plots with all of the following conditions are true:\n(1) the mark is `bar` or `area`;\n(2) the stacked measure channel (x or y) has a linear scale;\n(3) At least one of non-position channels mapped to an unaggregated field that is different from x and y.  Otherwise, `null` by default.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit (e.g., `year`, `yearmonth`, `month`, `hours`) for a temporal field.\nor [a temporal field that gets casted as ordinal](https://vega.github.io/vega-lite/docs/type.html#cast).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement (`"quantitative"`, `"temporal"`, `"ordinal"`, or `"nominal"`).\nIt can also be a geo type (`"latitude"`, `"longitude"`, and `"geojson"`) when a [geographic projection](https://vega.github.io/vega-lite/docs/projection.html) is applied.'}},required:["type"],type:"object"},Predicate:{anyOf:[{$ref:"#/definitions/FieldEqualPredicate"},{$ref:"#/definitions/FieldRangePredicate"},{$ref:"#/definitions/FieldOneOfPredicate"},{$ref:"#/definitions/SelectionPredicate"},{type:"string"}]},Projection:{additionalProperties:!1,properties:{center:{description:"Sets the projection’s center to the specified center, a two-element array of longitude and latitude in degrees.\n\n__Default value:__ `[0, 0]`",items:{type:"number"},type:"array"},clipAngle:{description:"Sets the projection’s clipping circle radius to the specified angle in degrees. If `null`, switches to [antimeridian](http://bl.ocks.org/mbostock/3788999) cutting rather than small-circle clipping.",type:"number"},clipExtent:{description:"Sets the projection’s viewport clip extent to the specified bounds in pixels. The extent bounds are specified as an array `[[x0, y0], [x1, y1]]`, where `x0` is the left-side of the viewport, `y0` is the top, `x1` is the right and `y1` is the bottom. If `null`, no viewport clipping is performed.",items:{items:{type:"number"},type:"array"},type:"array"},coefficient:{type:"number"},distance:{type:"number"},fraction:{type:"number"},lobes:{type:"number"},parallel:{type:"number"},precision:{additionalProperties:{type:"string"},description:"Sets the threshold for the projection’s [adaptive resampling](http://bl.ocks.org/mbostock/3795544) to the specified value in pixels. This value corresponds to the [Douglas–Peucker distance](http://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm). If precision is not specified, returns the projection’s current resampling precision which defaults to `√0.5 ≅ 0.70710…`.",properties:{length:{description:"Returns the length of a String object. ",type:"number"}},required:["length"],type:"object"},radius:{type:"number"},ratio:{type:"number"},rotate:{description:"Sets the projection’s three-axis rotation to the specified angles, which must be a two- or three-element array of numbers [`lambda`, `phi`, `gamma`] specifying the rotation angles in degrees about each spherical axis. (These correspond to yaw, pitch and roll.)\n\n__Default value:__ `[0, 0, 0]`",items:{type:"number"},type:"array"},spacing:{type:"number"},tilt:{type:"number"},type:{$ref:"#/definitions/ProjectionType",description:'The cartographic projection to use. This value is case-insensitive, for example `"albers"` and `"Albers"` indicate the same projection type. You can find all valid projection types [in the documentation](https://vega.github.io/vega-lite/docs/projection.html#projection-types).\n\n__Default value:__ `mercator`'}},type:"object"},ProjectionConfig:{additionalProperties:!1,description:"Any property of Projection can be in config",properties:{center:{description:"Sets the projection’s center to the specified center, a two-element array of longitude and latitude in degrees.\n\n__Default value:__ `[0, 0]`",items:{type:"number"},type:"array"},clipAngle:{description:"Sets the projection’s clipping circle radius to the specified angle in degrees. If `null`, switches to [antimeridian](http://bl.ocks.org/mbostock/3788999) cutting rather than small-circle clipping.",type:"number"},clipExtent:{description:"Sets the projection’s viewport clip extent to the specified bounds in pixels. The extent bounds are specified as an array `[[x0, y0], [x1, y1]]`, where `x0` is the left-side of the viewport, `y0` is the top, `x1` is the right and `y1` is the bottom. If `null`, no viewport clipping is performed.",items:{items:{type:"number"},type:"array"},type:"array"},coefficient:{type:"number"},distance:{type:"number"},fraction:{type:"number"},lobes:{type:"number"},parallel:{type:"number"},precision:{additionalProperties:{type:"string"},description:"Sets the threshold for the projection’s [adaptive resampling](http://bl.ocks.org/mbostock/3795544) to the specified value in pixels. This value corresponds to the [Douglas–Peucker distance](http://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm). If precision is not specified, returns the projection’s current resampling precision which defaults to `√0.5 ≅ 0.70710…`.",properties:{length:{description:"Returns the length of a String object. ",type:"number"}},required:["length"],type:"object"},radius:{type:"number"},ratio:{type:"number"},rotate:{description:"Sets the projection’s three-axis rotation to the specified angles, which must be a two- or three-element array of numbers [`lambda`, `phi`, `gamma`] specifying the rotation angles in degrees about each spherical axis. (These correspond to yaw, pitch and roll.)\n\n__Default value:__ `[0, 0, 0]`",items:{type:"number"},type:"array"},spacing:{type:"number"},tilt:{type:"number"},type:{$ref:"#/definitions/ProjectionType",description:'The cartographic projection to use. This value is case-insensitive, for example `"albers"` and `"Albers"` indicate the same projection type. You can find all valid projection types [in the documentation](https://vega.github.io/vega-lite/docs/projection.html#projection-types).\n\n__Default value:__ `mercator`'}},type:"object"},ProjectionType:{$ref:"#/definitions/VgProjectionType"},RangeConfig:{additionalProperties:{$ref:"#/definitions/RangeConfigValue"},properties:{category:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _nominal_ (categorical) fields."},diverging:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for diverging _quantitative_ fields."},heatmap:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _quantitative_ heatmaps."},ordinal:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _ordinal_ fields."},ramp:{anyOf:[{items:{type:"string"},type:"array"},{$ref:"#/definitions/VgScheme"}],description:"Default range for _quantitative_ and _temporal_ fields."},symbol:{description:"Default range palette for the `shape` channel.",items:{type:"string"},type:"array"}},type:"object"},RangeConfigValue:{anyOf:[{items:{type:["number","string"]},type:"array"},{$ref:"#/definitions/VgScheme"},{additionalProperties:!1,properties:{step:{type:"number"}},required:["step"],type:"object"}]},Repeat:{additionalProperties:!1,properties:{column:{description:"Horizontal repeated views.",items:{type:"string"},type:"array"},row:{description:"Vertical repeated views.",items:{type:"string"},type:"array"}},type:"object"},RepeatRef:{additionalProperties:!1,description:"Reference to a repeated value.",properties:{repeat:{enum:["row","column"],type:"string"}},required:["repeat"],type:"object"},Resolve:{additionalProperties:!1,description:"Defines how scales, axes, and legends from different specs should be combined. Resolve is a mapping from `scale`, `axis`, and `legend` to a mapping from channels to resolutions.",properties:{axis:{$ref:"#/definitions/AxisResolveMap"},legend:{$ref:"#/definitions/LegendResolveMap"},scale:{$ref:"#/definitions/ScaleResolveMap"}},type:"object"},ResolveMode:{enum:["independent","shared"],type:"string"},Scale:{additionalProperties:!1,properties:{base:{description:"The logarithm base of the `log` scale (default `10`).",type:"number"},clamp:{description:"If `true`, values that exceed the data domain are clamped to either the minimum or maximum range value\n\n__Default value:__ derived from the [scale config](config.html#scale-config)'s `clamp` (`true` by default).",type:"boolean"},domain:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{type:"boolean"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"},{enum:["unaggregated"],type:"string"},{$ref:"#/definitions/SelectionDomain"}],description:'Customized domain values.\n\nFor _quantitative_ fields, `domain` can take the form of a two-element array with minimum and maximum values.  [Piecewise scales](scale.html#piecewise) can be created by providing a `domain` with more than two entries.\nIf the input field is aggregated, `domain` can also be a string value `"unaggregated"`, indicating that the domain should include the raw data values prior to the aggregation.\n\nFor _temporal_ fields, `domain` can be a two-element array minimum and maximum values, in the form of either timestamps or the [DateTime definition objects](types.html#datetime).\n\nFor _ordinal_ and _nominal_ fields, `domain` can be an array that lists valid input values.\n\nThe `selection` property can be used to [interactively determine](selection.html#scale-domains) the scale domain.'},exponent:{description:"The exponent of the `pow` scale.",type:"number"},interpolate:{anyOf:[{$ref:"#/definitions/ScaleInterpolate"},{$ref:"#/definitions/ScaleInterpolateParams"}],description:"The interpolation method for range values. By default, a general interpolator for numbers, dates, strings and colors (in RGB space) is used. For color ranges, this property allows interpolation in alternative color spaces. Legal values include `rgb`, `hsl`, `hsl-long`, `lab`, `hcl`, `hcl-long`, `cubehelix` and `cubehelix-long` ('-long' variants use longer paths in polar coordinate spaces). If object-valued, this property accepts an object with a string-valued _type_ property and an optional numeric _gamma_ property applicable to rgb and cubehelix interpolators. For more, see the [d3-interpolate documentation](https://github.com/d3/d3-interpolate).\n\n__Note:__ Sequential scales do not support `interpolate` as they have a fixed interpolator.  Since Vega-Lite uses sequential scales for quantitative fields by default, you have to set the scale `type` to other quantitative scale type such as `\"linear\"` to customize `interpolate`."},nice:{anyOf:[{type:"boolean"},{type:"number"},{$ref:"#/definitions/NiceTime"},{additionalProperties:!1,properties:{interval:{type:"string"},step:{type:"number"}},required:["interval","step"],type:"object"}],description:'Extending the domain so that it starts and ends on nice round values. This method typically modifies the scale’s domain, and may only extend the bounds to the nearest round value. Nicing is useful if the domain is computed from data and may be irregular. For example, for a domain of _[0.201479…, 0.996679…]_, a nice domain might be _[0.2, 1.0]_.\n\nFor quantitative scales such as linear, `nice` can be either a boolean flag or a number. If `nice` is a number, it will represent a desired tick count. This allows greater control over the step size used to extend the bounds, guaranteeing that the returned ticks will exactly cover the domain.\n\nFor temporal fields with time and utc scales, the `nice` value can be a string indicating the desired time interval. Legal values are `"millisecond"`, `"second"`, `"minute"`, `"hour"`, `"day"`, `"week"`, `"month"`, and `"year"`. Alternatively, `time` and `utc` scales can accept an object-valued interval specifier of the form `{"interval": "month", "step": 3}`, which includes a desired number of interval steps. Here, the domain would snap to quarter (Jan, Apr, Jul, Oct) boundaries.\n\n__Default value:__ `true` for unbinned _quantitative_ fields; `false` otherwise.'
},padding:{description:"For _[continuous](scale.html#continuous)_ scales, expands the scale domain to accommodate the specified number of pixels on each of the scale range. The scale range must represent pixels for this parameter to function as intended. Padding adjustment is performed prior to all other adjustments, including the effects of the zero, nice, domainMin, and domainMax properties.\n\nFor _[band](scale.html#band)_ scales, shortcut for setting `paddingInner` and `paddingOuter` to the same value.\n\nFor _[point](scale.html#point)_ scales, alias for `paddingOuter`.\n\n__Default value:__ For _continuous_ scales, derived from the [scale config](scale.html#config)'s `continuousPadding`.\nFor _band and point_ scales, see `paddingInner` and `paddingOuter`.",minimum:0,type:"number"},paddingInner:{description:"The inner padding (spacing) within each band step of band scales, as a fraction of the step size. This value must lie in the range [0,1].\n\nFor point scale, this property is invalid as point scales do not have internal band widths (only step sizes between bands).\n\n__Default value:__ derived from the [scale config](scale.html#config)'s `bandPaddingInner`.",maximum:1,minimum:0,type:"number"},paddingOuter:{description:"The outer padding (spacing) at the ends of the range of band and point scales,\nas a fraction of the step size. This value must lie in the range [0,1].\n\n__Default value:__ derived from the [scale config](scale.html#config)'s `bandPaddingOuter` for band scales and `pointPadding` for point scales.",maximum:1,minimum:0,type:"number"},range:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{type:"string"}],description:'The range of the scale. One of:\n\n- A string indicating a [pre-defined named scale range](scale.html#range-config) (e.g., example, `"symbol"`, or `"diverging"`).\n\n- For [continuous scales](scale.html#continuous), two-element array indicating  minimum and maximum values, or an array with more than two entries for specifying a [piecewise scale](scale.html#piecewise).\n\n- For [discrete](scale.html#discrete) and [discretizing](scale.html#discretizing) scales, an array of desired output values.\n\n__Notes:__\n\n1) For [sequential](scale.html#sequential), [ordinal](scale.html#ordinal), and discretizing color scales, you can also specify a color [`scheme`](scale.html#scheme) instead of `range`.\n\n2) Any directly specified `range` for `x` and `y` channels will be ignored. Range can be customized via the view\'s corresponding [size](size.html) (`width` and `height`) or via [range steps and paddings properties](#range-step) for [band](#band) and [point](#point) scales.'},rangeStep:{description:"The distance between the starts of adjacent bands or points in [band](scale.html#band) and [point](scale.html#point) scales.\n\nIf `rangeStep` is `null` or if the view contains the scale's corresponding [size](size.html) (`width` for `x` scales and `height` for `y` scales), `rangeStep` will be automatically determined to fit the size of the view.\n\n__Default value:__  derived the [scale config](config.html#scale-config)'s `textXRangeStep` (`90` by default) for x-scales of `text` marks and `rangeStep` (`21` by default) for x-scales of other marks and y-scales.\n\n__Warning__: If `rangeStep` is `null` and the cardinality of the scale's domain is higher than `width` or `height`, the rangeStep might become less than one pixel and the mark might not appear correctly.",minimum:0,type:["number","null"]},round:{description:"If `true`, rounds numeric output values to integers. This can be helpful for snapping to the pixel grid.\n\n__Default value:__ `false`.",type:"boolean"},scheme:{anyOf:[{type:"string"},{$ref:"#/definitions/SchemeParams"}],description:'A string indicating a color [scheme](scale.html#scheme) name (e.g., `"category10"` or `"viridis"`) or a [scheme parameter object](scale.html#scheme-params).\n\nDiscrete color schemes may be used with [discrete](scale.html#discrete) or [discretizing](scale.html#discretizing) scales. Continuous color schemes are intended for use with [sequential](scales.html#sequential) scales.\n\nFor the full list of supported scheme, please refer to the [Vega Scheme](https://vega.github.io/vega/docs/schemes/#reference) reference.'},type:{$ref:"#/definitions/ScaleType",description:'The type of scale.  Vega-Lite supports the following categories of scale types:\n\n1) [**Continuous Scales**](scale.html#continuous) -- mapping continuous domains to continuous output ranges ([`"linear"`](scale.html#linear), [`"pow"`](scale.html#pow), [`"sqrt"`](scale.html#sqrt), [`"log"`](scale.html#log), [`"time"`](scale.html#time), [`"utc"`](scale.html#utc), [`"sequential"`](scale.html#sequential)).\n\n2) [**Discrete Scales**](scale.html#discrete) -- mapping discrete domains to discrete ([`"ordinal"`](scale.html#ordinal)) or continuous ([`"band"`](scale.html#band) and [`"point"`](scale.html#point)) output ranges.\n\n3) [**Discretizing Scales**](scale.html#discretizing) -- mapping continuous domains to discrete output ranges ([`"bin-linear"`](scale.html#bin-linear) and [`"bin-ordinal"`](scale.html#bin-ordinal)).\n\n__Default value:__ please see the [scale type table](scale.html#type).'},zero:{description:"If `true`, ensures that a zero baseline value is included in the scale domain.\n\n__Default value:__ `true` for x and y channels if the quantitative field is not binned and no custom `domain` is provided; `false` otherwise.\n\n__Note:__ Log, time, and utc scales do not support `zero`.",type:"boolean"}},type:"object"},ScaleConfig:{additionalProperties:!1,properties:{bandPaddingInner:{description:"Default inner padding for `x` and `y` band-ordinal scales.\n\n__Default value:__ `0.1`",maximum:1,minimum:0,type:"number"},bandPaddingOuter:{description:"Default outer padding for `x` and `y` band-ordinal scales.\nIf not specified, by default, band scale's paddingOuter is paddingInner/2.",maximum:1,minimum:0,type:"number"},clamp:{description:"If true, values that exceed the data domain are clamped to either the minimum or maximum range value",type:"boolean"},continuousPadding:{description:"Default padding for continuous scales.\n\n__Default:__ `5` for continuous x-scale of a vertical bar and continuous y-scale of a horizontal bar.; `0` otherwise.",minimum:0,type:"number"},maxBandSize:{description:"The default max value for mapping quantitative fields to bar's size/bandSize.\n\nIf undefined (default), we will use the scale's `rangeStep` - 1.",minimum:0,type:"number"},maxFontSize:{description:"The default max value for mapping quantitative fields to text's size/fontSize.\n\n__Default value:__ `40`",minimum:0,type:"number"},maxOpacity:{description:"Default max opacity for mapping a field to opacity.\n\n__Default value:__ `0.8`",maximum:1,minimum:0,type:"number"},maxSize:{description:"Default max value for point size scale.",minimum:0,type:"number"},maxStrokeWidth:{description:"Default max strokeWidth for strokeWidth  (or rule/line's size) scale.\n\n__Default value:__ `4`",minimum:0,type:"number"},minBandSize:{description:"The default min value for mapping quantitative fields to bar and tick's size/bandSize scale with zero=false.\n\n__Default value:__ `2`",minimum:0,type:"number"},minFontSize:{description:"The default min value for mapping quantitative fields to tick's size/fontSize scale with zero=false\n\n__Default value:__ `8`",minimum:0,type:"number"},minOpacity:{description:"Default minimum opacity for mapping a field to opacity.\n\n__Default value:__ `0.3`",maximum:1,minimum:0,type:"number"},minSize:{description:"Default minimum value for point size scale with zero=false.\n\n__Default value:__ `9`",minimum:0,type:"number"},minStrokeWidth:{description:"Default minimum strokeWidth for strokeWidth (or rule/line's size) scale with zero=false.\n\n__Default value:__ `1`",minimum:0,type:"number"},pointPadding:{description:"Default outer padding for `x` and `y` point-ordinal scales.\n\n__Default value:__ `0.5`",maximum:1,minimum:0,type:"number"},rangeStep:{description:"Default range step for band and point scales of (1) the `y` channel\nand (2) the `x` channel when the mark is not `text`.\n\n__Default value:__ `21`",minimum:0,type:["number","null"]},round:{description:"If true, rounds numeric output values to integers.\nThis can be helpful for snapping to the pixel grid.\n(Only available for `x`, `y`, and `size` scales.)",type:"boolean"},textXRangeStep:{description:"Default range step for `x` band and point scales of text marks.\n\n__Default value:__ `90`",minimum:0,type:"number"},useUnaggregatedDomain:{description:'Use the source data range before aggregation as scale domain instead of aggregated data for aggregate axis.\n\nThis is equivalent to setting `domain` to `"unaggregate"` for aggregated _quantitative_ fields by default.\n\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.\n\n__Default value:__ `false`',type:"boolean"}},type:"object"},ScaleInterpolate:{enum:["rgb","lab","hcl","hsl","hsl-long","hcl-long","cubehelix","cubehelix-long"],type:"string"},ScaleInterpolateParams:{additionalProperties:!1,properties:{gamma:{type:"number"},type:{enum:["rgb","cubehelix","cubehelix-long"],type:"string"}},required:["type"],type:"object"},ScaleResolveMap:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ResolveMode"},opacity:{$ref:"#/definitions/ResolveMode"},shape:{$ref:"#/definitions/ResolveMode"},size:{$ref:"#/definitions/ResolveMode"},x:{$ref:"#/definitions/ResolveMode"},y:{$ref:"#/definitions/ResolveMode"}},type:"object"},ScaleType:{enum:["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"],type:"string"},SchemeParams:{additionalProperties:!1,properties:{extent:{description:"For sequential and diverging schemes only, determines the extent of the color range to use. For example `[0.2, 1]` will rescale the color scheme such that color values in the range _[0, 0.2)_ are excluded from the scheme.",items:{type:"number"},type:"array"},name:{description:'A color scheme name for sequential/ordinal scales (e.g., `"category10"` or `"viridis"`).\n\nFor the full list of supported scheme, please refer to the [Vega Scheme](https://vega.github.io/vega/docs/schemes/#reference) reference.',type:"string"}},required:["name"],type:"object"},SelectionConfig:{additionalProperties:!1,properties:{interval:{$ref:"#/definitions/IntervalSelectionConfig",description:'The default definition for an [`interval`](selection.html#type) selection. All properties and transformations\nfor an interval selection definition (except `type`) may be specified here.\n\nFor instance, setting `interval` to `{"translate": false}` disables the ability to move\ninterval selections by default.'},multi:{$ref:"#/definitions/MultiSelectionConfig",description:'The default definition for a [`multi`](selection.html#type) selection. All properties and transformations\nfor a multi selection definition (except `type`) may be specified here.\n\nFor instance, setting `multi` to `{"toggle": "event.altKey"}` adds additional values to\nmulti selections when clicking with the alt-key pressed by default.'},single:{$ref:"#/definitions/SingleSelectionConfig",description:'The default definition for a [`single`](selection.html#type) selection. All properties and transformations\n  for a single selection definition (except `type`) may be specified here.\n\nFor instance, setting `single` to `{"on": "dblclick"}` populates single selections on double-click by default.'}},type:"object"},SelectionDef:{anyOf:[{$ref:"#/definitions/SingleSelection"},{$ref:"#/definitions/MultiSelection"},{$ref:"#/definitions/IntervalSelection"}]},SelectionDomain:{anyOf:[{additionalProperties:!1,properties:{field:{description:"The field name to extract selected values for, when a selection is [projected](project.html)\nover multiple fields or encodings.",type:"string"},selection:{description:"The name of a selection.",type:"string"}},required:["selection"],type:"object"},{additionalProperties:!1,properties:{encoding:{description:"The encoding channel to extract selected values for, when a selection is [projected](project.html)\nover multiple fields or encodings.",type:"string"},selection:{description:"The name of a selection.",type:"string"}},required:["selection"],type:"object"}]},SelectionPredicate:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand",description:"Filter using a selection name."}},required:["selection"],type:"object"},SelectionResolution:{enum:["global","union","intersect"],type:"string"},SingleDefChannel:{enum:["x","y","x2","y2","row","column","size","shape","color","opacity","text","tooltip","href"],type:"string"},SingleSelection:{additionalProperties:!1,properties:{bind:{anyOf:[{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}],description:"Establish a two-way binding between a single selection and input elements\n(also known as dynamic query widgets). A binding takes the form of\nVega's [input element binding definition](https://vega.github.io/vega/docs/signals/#bind)\nor can be a mapping between projected field/encodings and binding definitions.\n\nSee the [bind transform](bind.html) documentation for more information."},empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.\n\nSee the [nearest transform](nearest.html) documentation for more information.",type:"boolean"},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."},type:{enum:["single"],type:"string"}},required:["type"],type:"object"},SingleSelectionConfig:{additionalProperties:!1,properties:{bind:{anyOf:[{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}],description:"Establish a two-way binding between a single selection and input elements\n(also known as dynamic query widgets). A binding takes the form of\nVega's [input element binding definition](https://vega.github.io/vega/docs/signals/#bind)\nor can be a mapping between projected field/encodings and binding definitions.\n\nSee the [bind transform](bind.html) documentation for more information."},empty:{description:"By default, all data values are considered to lie within an empty selection.\nWhen set to `none`, empty selections contain no data values.",enum:["all","none"],type:"string"},encodings:{description:"An array of encoding channels. The corresponding data field values\nmust match for a data tuple to fall within the selection.",items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{description:"An array of field names whose values must match for a data tuple to\nfall within the selection.",items:{type:"string"},type:"array"},nearest:{description:"When true, an invisible voronoi diagram is computed to accelerate discrete\nselection. The data value _nearest_ the mouse cursor is added to the selection.\n\nSee the [nearest transform](nearest.html) documentation for more information.",type:"boolean"},on:{$ref:"#/definitions/VgEventStream",description:"A [Vega event stream](https://vega.github.io/vega/docs/event-streams/) (object or selector) that triggers the selection.\nFor interval selections, the event stream must specify a [start and end](https://vega.github.io/vega/docs/event-streams/#between-filters)."},resolve:{$ref:"#/definitions/SelectionResolution",description:"With layered and multi-view displays, a strategy that determines how\nselections' data queries are resolved when applied in a filter transform,\nconditional encoding rule, or scale domain."}},type:"object"},SingleTimeUnit:{anyOf:[{$ref:"#/definitions/LocalSingleTimeUnit"},{$ref:"#/definitions/UtcSingleTimeUnit"}]},SortField:{additionalProperties:!1,properties:{field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}],description:"The data [field](field.html) to sort by.\n\n__Default value:__ If unspecified, defaults to the field specified in the outer data reference."},op:{$ref:"#/definitions/AggregateOp",description:'An [aggregate operation](aggregate.html#ops) to perform on the field prior to sorting (e.g., `"count"`, `"mean"` and `"median"`).\nThis property is required in cases where the sort field and the data reference field do not match.\nThe input data objects will be aggregated, grouped by the encoded data field.\n\nFor a full list of operations, please see the documentation for [aggregate](aggregate.html#ops).'},order:{$ref:"#/definitions/SortOrder",description:'The sort order. One of `"ascending"` (default) or `"descending"`.'}},required:["op"],type:"object"},SortOrder:{enum:["ascending","descending",null],type:["string","null"]},StackOffset:{enum:["zero","center","normalize"],type:"string"},StyleConfigIndex:{additionalProperties:{$ref:"#/definitions/VgMarkConfig"},type:"object"},TextConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).',type:"string"},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},TickConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},bandSize:{description:"The width of the ticks.\n\n__Default value:__  2/3 of rangeStep.",minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.  Note that `fill` and `stroke` have higher precedence than `color` and will override `color`.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).',type:"string"},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.\n\n__Note:__ This property cannot be used in a [style config](mark.html#style-config).",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',
type:"number"},thickness:{description:"Thickness of the tick mark.\n\n__Default value:__  `1`",minimum:0,type:"number"}},type:"object"},TimeUnit:{anyOf:[{$ref:"#/definitions/SingleTimeUnit"},{$ref:"#/definitions/MultiTimeUnit"}]},TimeUnitTransform:{additionalProperties:!1,properties:{as:{description:"The output field to write the timeUnit value.",type:"string"},field:{description:"The data field to apply time unit.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"The timeUnit."}},required:["timeUnit","field","as"],type:"object"},TitleOrient:{enum:["top","bottom","left","right"],type:"string"},TitleParams:{additionalProperties:!1,properties:{anchor:{$ref:"#/definitions/Anchor",description:'The anchor position for placing the title. One of `"start"`, `"middle"`, or `"end"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n\n__Default value:__ `"middle"` for [single](spec.html) and [layered](layer.html) views.\n`"start"` for other composite views.\n\n__Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](spec.html) and [layered](layer.html) views.  For other composite views, `anchor` is always `"start"`.'},offset:{description:"The orthogonal offset in pixels by which to displace the title from its position along the edge of the chart.",type:"number"},orient:{$ref:"#/definitions/TitleOrient",description:'The orientation of the title relative to the chart. One of `"top"` (the default), `"bottom"`, `"left"`, or `"right"`.'},style:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:'A [mark style property](config.html#style) to apply to the title text mark.\n\n__Default value:__ `"group-title"`.'},text:{description:"The title text.",type:"string"}},required:["text"],type:"object"},"TopLevel<FacetedUnitSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its y-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For y-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the height is [determined by the range step, paddings, and the cardinality of the field mapped to y-channel](https://vega.github.io/vega-lite/docs/scale.html#band). Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `y` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the height of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n* `"area"`, `"point"`, `"rule"`, `"geoshape"`, and `"text"`) or a [mark definition object](https://vega.github.io/vega-lite/docs/mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},projection:{$ref:"#/definitions/Projection",description:'An object defining properties of geographic projection.\n\nWorks with `"geoshape"` marks and `"point"` or `"line"` marks that have a channel (one or more of `"X"`, `"X2"`, `"Y"`, `"Y2"`) with type `"latitude"`, or `"longitude"`.'},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its x-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For x-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the width is [determined by the range step, paddings, and the cardinality of the field mapped to x-channel](https://vega.github.io/vega-lite/docs/scale.html#band).   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](https://vega.github.io/vega-lite/docs/size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"}},required:["mark"],type:"object"},"TopLevel<FacetSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/FacetMapping",description:"An object that describes mappings between `row` and `column` channels and their field definitions."},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for facets."},spec:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}],description:"A specification of the view that gets faceted."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},"TopLevel<HConcatSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},hconcat:{description:"A list of views that should be concatenated and put into a row.",items:{$ref:"#/definitions/Spec"},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for horizontally concatenated charts."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},"TopLevel<LayerSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},height:{description:'The height of a visualization.\n\n__Default value:__\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its y-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For y-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the height is [determined by the range step, paddings, and the cardinality of the field mapped to y-channel](https://vega.github.io/vega-lite/docs/scale.html#band). Otherwise, if the `rangeStep` is `null`, the height will be the value of [`config.view.height`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `y` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the height of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"},layer:{description:"Layer or single view specifications to be layered.\n\n__Note__: Specifications inside `layer` cannot use `row` and `column` channels as layering facet specifications is not allowed.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for layers."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- If a view\'s [`autosize`](https://vega.github.io/vega-lite/docs/size.html#autosize) type is `"fit"` or its x-channel has a [continuous scale](https://vega.github.io/vega-lite/docs/scale.html#continuous), the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- For x-axis with a band or point scale: if [`rangeStep`](https://vega.github.io/vega-lite/docs/scale.html#band) is a numeric value or unspecified, the width is [determined by the range step, paddings, and the cardinality of the field mapped to x-channel](https://vega.github.io/vega-lite/docs/scale.html#band).   Otherwise, if the `rangeStep` is `null`, the width will be the value of [`config.view.width`](https://vega.github.io/vega-lite/docs/spec.html#config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](https://vega.github.io/vega-lite/docs/size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note:__ For plots with [`row` and `column` channels](https://vega.github.io/vega-lite/docs/encoding.html#facet), this represents the width of a single view.\n\n__See also:__ The documentation for [width and height](https://vega.github.io/vega-lite/docs/size.html) contains more examples.',type:"number"}},required:["layer"],type:"object"},"TopLevel<RepeatSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},repeat:{$ref:"#/definitions/Repeat",description:"An object that describes what fields should be repeated into views that are laid out as a `row` or `column`."},resolve:{$ref:"#/definitions/Resolve",description:"Scale and legend resolutions for repeated charts."},spec:{$ref:"#/definitions/Spec"},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},"TopLevel<VConcatSpec>":{additionalProperties:!1,properties:{$schema:{description:"URL to [JSON schema](http://json-schema.org/) for a Vega-Lite specification. Unless you have a reason to change this, use `https://vega.github.io/schema/vega-lite/v2.json`. Setting the `$schema` property allows automatic validation and autocomplete in editors that support JSON schema.",format:"uri",type:"string"},autosize:{anyOf:[{$ref:"#/definitions/AutosizeType"},{$ref:"#/definitions/AutoSizeParams"}],description:'Sets how the visualization size should be determined. If a string, should be one of `"pad"`, `"fit"` or `"none"`.\nObject values can additionally specify parameters for content sizing and automatic resizing.\n`"fit"` is only supported for single and layered views that don\'t use `rangeStep`.\n\n__Default value__: `pad`'},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config",description:"Vega-Lite configuration object.  This property can only be defined at the top-level of a specification."},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"Description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle.  If a number, specifies padding for all sides.\nIf an object, the value should have the format `{"left": 5, "top": 5, "right": 5, "bottom": 5}` to specify padding for each side of the visualization.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/Resolve",description:"Scale, axis, and legend resolutions for vertically concatenated charts."},title:{anyOf:[{type:"string"},{$ref:"#/definitions/TitleParams"}],description:"Title for the plot."},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{description:"A list of views that should be concatenated and put into a column.",items:{$ref:"#/definitions/Spec"},type:"array"}},required:["vconcat"],type:"object"},TopLevelExtendedSpec:{anyOf:[{$ref:"#/definitions/TopLevel<FacetedUnitSpec>"},{$ref:"#/definitions/TopLevel<LayerSpec>"},{$ref:"#/definitions/TopLevel<FacetSpec>"},{$ref:"#/definitions/TopLevel<RepeatSpec>"},{$ref:"#/definitions/TopLevel<VConcatSpec>"},{$ref:"#/definitions/TopLevel<HConcatSpec>"}]},TopoDataFormat:{additionalProperties:!1,properties:{feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\nFor example, in a map of the world, there may be an object set named `"countries"`.\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to mesh.\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"},parse:{anyOf:[{enum:["auto"],type:"string"},{type:"object"}],description:'If set to auto (the default), perform automatic type inference to determine the desired data types.\nAlternatively, a parsing directive object can be provided for explicit data types. Each property of the object corresponds to a field name, and the value to the desired data type (one of `"number"`, `"boolean"` or `"date"`).\nFor example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value.\n\nFor `"date"`, we parse data based using Javascript\'s [`Date.parse()`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse).\nFor Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},type:{description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\nThe default format type is determined by the extension of the file URL.\nIf no extension is detected, `"json"` will be used by default.',enum:["topojson"],type:"string"}},type:"object"},Transform:{anyOf:[{$ref:"#/definitions/FilterTransform"},{$ref:"#/definitions/CalculateTransform"},{$ref:"#/definitions/LookupTransform"},{$ref:"#/definitions/BinTransform"},{$ref:"#/definitions/TimeUnitTransform"},{$ref:"#/definitions/AggregateTransform"}]},Type:{anyOf:[{$ref:"#/definitions/BasicType"},{$ref:"#/definitions/GeoType"}],description:"Constants and utilities for data type  \n Data type based on level of measurement "},UrlData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"An object that specifies the format for parsing the data file."},url:{description:"An URL from which to load the data set. Use the `format.type` property\nto ensure the loaded data is correctly parsed.",type:"string"}},required:["url"],type:"object"},UtcMultiTimeUnit:{enum:["utcyearquarter","utcyearquartermonth","utcyearmonth","utcyearmonthdate","utcyearmonthdatehours","utcyearmonthdatehoursminutes","utcyearmonthdatehoursminutesseconds","utcquartermonth","utcmonthdate","utchoursminutes","utchoursminutesseconds","utcminutesseconds","utcsecondsmilliseconds"],type:"string"},UtcSingleTimeUnit:{enum:["utcyear","utcquarter","utcmonth","utcday","utcdate","utchours","utcminutes","utcseconds","utcmilliseconds"],type:"string"},ValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:'A constant value in visual domain (e.g., `"red"` / "#0099ff" for color, values between `0` to `1` for opacity).',type:["number","string","boolean"]}},required:["value"],type:"object"},ValueDefWithCondition:{additionalProperties:!1,description:"A ValueDef with Condition<ValueDef | FieldDef>\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/Conditional<FieldDef>"},{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"A field definition or one or more value definition(s) with a selection predicate."},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},type:"object"},MarkPropValueDefWithCondition:{additionalProperties:!1,description:"A ValueDef with Condition<ValueDef | FieldDef>\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/Conditional<MarkPropFieldDef>"},{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"A field definition or one or more value definition(s) with a selection predicate."},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},type:"object"},TextValueDefWithCondition:{additionalProperties:!1,description:"A ValueDef with Condition<ValueDef | FieldDef>\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/Conditional<TextFieldDef>"},{$ref:"#/definitions/Conditional<ValueDef>"},{items:{$ref:"#/definitions/Conditional<ValueDef>"},type:"array"}],description:"A field definition or one or more value definition(s) with a selection predicate."},value:{description:"A constant value in visual domain.",type:["number","string","boolean"]}},type:"object"},VerticalAlign:{enum:["top","middle","bottom"],type:"string"},VgAxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis.\n\n__Default value:__ `true`",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:"A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for [continuous scales](scale.html#continuous) that are not binned; otherwise, `false`.",type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-90` for nominal and ordinal fields; `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelBound:{description:"Indicates if labels should be hidden if they exceed the axis range. If `false `(the default) no bounds overlap analysis is performed. If `true`, labels will be hidden if they exceed the axis range by more than 1 pixel. If this property is a number, it specifies the pixel tolerance: the maximum amount by which a label bounding box may exceed the axis range.\n\n__Default value:__ `false`.",type:["boolean","number"]},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFlush:{description:"Indicates if the first and last axis labels should be aligned flush with the scale range. Flush alignment for a horizontal axis will left-align the first label and right-align the last label. For vertical axes, bottom and top text baselines are applied instead. If this property is a number, it also indicates the number of pixels by which to offset the first and last labels; for example, a value of 2 will flush-align the first and last labels and also push them 2 pixels outward from the center of the axis. The additional adjustment can sometimes help the labels better visually group with corresponding axis ticks.\n\n__Default value:__ `true` for axis of a continuous x-scale. Otherwise, `false`.",type:["boolean","number"]},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOverlap:{anyOf:[{type:"boolean"},{enum:["parity"],type:"string"},{enum:["greedy"],type:"string"}],description:'The strategy to use for resolving overlap of axis labels. If `false` (the default), no overlap reduction is attempted. If set to `true` or `"parity"`, a strategy of removing every other label is used (this works well for standard linear axes). If set to `"greedy"`, a linear scan of the labels is performed, removing any labels that overlaps with the last visible label (this often works better for log-scaled axes).\n\n__Default value:__ `true` for non-nominal fields with non-log scales; `"greedy"` for log scales; otherwise `false`.'},labelPadding:{description:"The padding, in pixels, between axis and text labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis.\n\n__Default value:__  `true`.",type:"boolean"},maxExtent:{
description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.\n\n__Default value:__ `undefined`.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.\n\n__Default value:__ `30` for y-axis; `undefined` for x-axis.",type:"number"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size in pixels of axis ticks.",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},VgBinding:{anyOf:[{$ref:"#/definitions/VgCheckboxBinding"},{$ref:"#/definitions/VgRadioBinding"},{$ref:"#/definitions/VgSelectBinding"},{$ref:"#/definitions/VgRangeBinding"},{$ref:"#/definitions/VgGenericBinding"}]},VgCheckboxBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["checkbox"],type:"string"}},required:["input"],type:"object"},VgEventStream:{},VgGenericBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{type:"string"}},required:["input"],type:"object"},VgMarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},cursor:{description:"The mouse cursor used over the mark. Any valid [CSS cursor type](https://developer.mozilla.org/en-US/docs/Web/CSS/cursor#Values) can be used.",enum:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},href:{description:"A URL to load upon mouse click. If defined, the mark acts as a hyperlink.",format:"uri",type:"string"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},limit:{description:"The maximum length of the text mark in pixels (default 0, indicating no limit). The text value will be automatically truncated if the rendered size exceeds the limit.",type:"number"},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},VgProjectionType:{enum:["albers","albersUsa","azimuthalEqualArea","azimuthalEquidistant","conicConformal","conicEqualArea","conicEquidistant","equirectangular","gnomonic","mercator","orthographic","stereographic","transverseMercator"],type:"string"},VgRadioBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["radio"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgRangeBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["range"],type:"string"},max:{type:"number"},min:{type:"number"},step:{type:"number"}},required:["input"],type:"object"},VgScheme:{additionalProperties:!1,properties:{count:{type:"number"},extent:{items:{type:"number"},type:"array"},scheme:{type:"string"}},required:["scheme"],type:"object"},VgSelectBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["select"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgTitleConfig:{additionalProperties:!1,properties:{anchor:{$ref:"#/definitions/Anchor",description:'The anchor position for placing the title. One of `"start"`, `"middle"`, or `"end"`. For example, with an orientation of top these anchor positions map to a left-, center-, or right-aligned title.\n\n__Default value:__ `"middle"` for [single](spec.html) and [layered](layer.html) views.\n`"start"` for other composite views.\n\n__Note:__ [For now](https://github.com/vega/vega-lite/issues/2875), `anchor` is only customizable only for [single](spec.html) and [layered](layer.html) views.  For other composite views, `anchor` is always `"start"`.'},angle:{description:"Angle in degrees of title text.",type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:"Vertical text baseline for title text."},color:{description:"Text color for title text.",type:"string"},font:{description:"Font name for title text.",type:"string"},fontSize:{description:"Font size in pixels for title text.\n\n__Default value:__ `10`.",minimum:0,type:"number"},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:"Font weight for title text."},limit:{description:"The maximum allowed length in pixels of legend labels.",minimum:0,type:"number"},offset:{description:"Offset in pixels of the title from the chart body and axes.",type:"number"},orient:{$ref:"#/definitions/TitleOrient",description:'Default title orientation ("top", "bottom", "left", or "right")'}},type:"object"},ViewConfig:{additionalProperties:!1,properties:{clip:{description:"Whether the view should be clipped.",type:"boolean"},fill:{description:"The fill color.\n\n__Default value:__ (none)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},height:{description:"The default height of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) y-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"},stroke:{description:"The stroke color.\n\n__Default value:__ (none)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.\n\n__Default value:__ (none)",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.\n\n__Default value:__ (none)",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},strokeWidth:{description:"The stroke width, in pixels.\n\n__Default value:__ (none)",type:"number"},width:{description:"The default width of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) x-scale or ordinal x-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"}},type:"object"}}}},function(e,t,n){var r=n(371),i=r.Symbol;e.exports=i},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return y=t,v}}function a(e,t){try{return e(t)}catch(n){return y=n,v}}function o(e,t,n){try{e(t,n)}catch(r){return y=r,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&m(e,this)}function l(e,t,n){return new e.constructor(function(i,a){var o=new s(r);o.then(i,a),u(e,new h(t,n,o))})}function u(e,t){for(;3===e._83;)e=e._18;return s._47&&s._47(e),0===e._83?0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t):void c(e,t)}function c(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=a(n,e._18);r===v?d(t.promise,y):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===v)return d(e,y);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"==typeof n)return void m(n.bind(t),e)}e._83=1,e._18=t,p(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=o(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==v||(n=!0,d(t,y))}var g=n(265),y=null,v={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return l(this,e,t);var n=new s(r);return u(this,new h(e,t,n)),n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoDiffEditor=t.default=void 0;var i=n(385),a=r(i),o=n(384),s=r(o);t.default=a.default,t.MonacoDiffEditor=s.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(){}function u(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(a){n.shouldComponentUpdate=!0,n.error=a}}};return n}function c(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.getDisplayName,d=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,h=r.methodName,y=void 0===h?"connectAdvanced":h,w=r.renderCountProp,O=void 0===w?void 0:w,S=r.shouldHandleStateChanges,k=void 0===S||S,P=r.storeKey,E=void 0===P?"store":P,M=r.withRef,T=void 0!==M&&M,C=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),A=E+"Subscription",D=_++,j=(t={},t[E]=b.storeShape,t[A]=b.subscriptionShape,t),R=(n={},n[A]=b.subscriptionShape,n);return function(t){(0,m.default)("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=d(n),s=f({},C,{getDisplayName:d,methodName:y,renderCountProp:O,shouldHandleStateChanges:k,storeKey:E,withRef:T,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){i(this,c);var o=a(this,n.call(this,e,t));return o.version=D,o.state={},o.renderCount=0,o.store=e[E]||t[E],o.propsMode=Boolean(e[E]),o.setWrappedInstance=o.setWrappedInstance.bind(o),(0,m.default)(o.store,'Could not find "'+E+'" in either the context or props of '+('"'+r+'". Either wrap the root component in a <Provider>, ')+('or explicitly pass "'+E+'" as a prop to "'+r+'".')),o.initSelector(),o.initSubscription(),o}return o(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[A]=t||this.context[A],e},c.prototype.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=l,this.store=null,this.selector.run=l,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,m.default)(T,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+y+"() call.")),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=u(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[A];this.subscription=new v.default(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(T||O||this.propsMode&&this.subscription))return e;var t=f({},e);return T&&(t.ref=this.setWrappedInstance),O&&(t[O]=this.renderCount++),this.propsMode&&this.subscription&&(t[A]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,g.createElement)(t,this.addExtraProps(e.props))},c}(g.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=R,c.contextTypes=j,c.propTypes=j,(0,p.default)(c,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var d=n(396),p=r(d),h=n(20),m=r(h),g=n(9),y=n(394),v=r(y),b=n(171),_=0,x={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function a(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=a(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=a(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=a,t.wrapMapToPropsFunc=o;var s=n(172);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=void 0;var i=n(10),a=r(i);t.subscriptionShape=a.default.shape({trySubscribe:a.default.func.isRequired,tryUnsubscribe:a.default.func.isRequired,notifyNestedSubs:a.default.func.isRequired,isSubscribed:a.default.func.isRequired}),t.storeShape=a.default.shape({subscribe:a.default.func.isRequired,dispatch:a.default.func.isRequired,getState:a.default.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,o.default)(e)||(0,l.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=i;var a=n(111),o=r(a),s=n(113),l=r(s)},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return{type:r,payload:{method:e,args:n}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=t.push=n("push"),a=t.replace=n("replace"),o=t.go=n("go"),s=t.goBack=n("goBack"),l=t.goForward=n("goForward");t.routerActions={push:i,replace:a,go:o,goBack:s,goForward:l}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;return n===i?r({},e,{locationBeforeTransitions:o}):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.routerReducer=n;var i=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return 0===e.button}function o(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function l(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(9),f=r(c),d=n(37),p=r(d),h=n(10),m=n(20),g=r(m),y=n(116),v=n(115),b=(0,p.default)({displayName:"Link",mixins:[(0,v.ContextSubscriber)("router")],contextTypes:{router:y.routerShape},propTypes:{to:(0,h.oneOfType)([h.string,h.object,h.func]),activeStyle:h.object,activeClassName:h.string,onlyActiveOnIndex:h.bool.isRequired,onClick:h.func,target:h.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,g.default)(!1),!o(e)&&a(e)&&(this.props.target||(e.preventDefault(),t.push(l(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,a=e.onlyActiveOnIndex,o=i(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),c=this.context.router;if(c){if(!t)return f.default.createElement("a",o);var d=l(t,c);o.href=c.createHref(d),(n||null!=r&&!s(r))&&c.isActive(d,a)&&(n&&(o.className?o.className+=" "+n:o.className=n),r&&(o.style=u({},o.style,r)))}return f.default.createElement("a",u({},o,{onClick:this.handleClick}))}});t.default=b,e.exports=t.default},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(37),a=r(i),o=n(10),s=n(20),l=r(s),u=n(41),c=n(52),f=n(59),d=(0,a.default)({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,u.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,i=e.params,a=void 0;if("/"===t.to.charAt(0))a=(0,c.formatPattern)(t.to,i);else if(t.to){var o=e.routes.indexOf(t),s=d.getRoutePattern(e.routes,o-1),l=s.replace(/\/*$/,"/")+t.to;a=(0,c.formatPattern)(l,i)}else a=r.pathname;n({pathname:a,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],a=i.path||"";if(n=a.replace(/\/*$/,"/")+n,0===a.indexOf("/"))break}return"/"+n}},propTypes:{path:o.string,from:o.string,to:o.string.isRequired,query:o.object,state:o.object,onEnter:f.falsy,children:f.falsy},render:function(){(0,l.default)(!1)}});t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var a=i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return r(a,n)}function r(e,t){var n=t.location,r=t.params,i=t.routes;return e.location=n,e.params=r,e.routes=i,e}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=n,t.assignRouterState=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,c.default)(e),n=function(){return t},r=(0,o.default)((0,l.default)(n))(e);return r}t.__esModule=!0,t.default=i;var a=n(160),o=r(a),s=n(159),l=r(s),u=n(321),c=r(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return s&&(t=(0,o.default)(e)()),t}t.__esModule=!0,t.default=i;var a=n(182),o=r(a),s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e,t){function n(t,n){return t=e.createLocation(t),(0,p.default)(t,n,b.location,b.routes,b.params)}function r(e,n){S&&S.location===e?a(S,n):(0,y.default)(t,e,function(t,r){t?n(t):r?a(o({},r,{location:e}),n):n()})}function a(e,t){function n(n,i){return n||i?r(n,i):void(0,m.default)(e,function(n,r){n?t(n):t(null,null,b=o({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var i=(0,u.default)(b,e),a=i.leaveRoutes,s=i.changeRoutes,l=i.enterRoutes;O(a,b),a.filter(function(e){return l.indexOf(e)===-1}).forEach(h),w(s,b,e,function(t,i){return t||i?r(t,i):void x(l,e,n)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=k++)}function l(e){return e.map(function(e){return P[s(e)]}).filter(function(e){return e})}function c(e,n){(0,y.default)(t,e,function(t,r){if(null==r)return void n();S=o({},r,{location:e});for(var i=l((0,u.default)(b,S).leaveRoutes),a=void 0,s=0,c=i.length;null==a&&s<c;++s)a=i[s](e);n(a)})}function d(){if(b.routes){for(var e=l(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function h(e){var t=s(e);t&&(delete P[t],i(P)||(E&&(E(),E=null),M&&(M(),M=null)))}function g(t,n){var r=!i(P),a=s(t,!0);return P[a]=n,r&&(E=e.listenBefore(c),e.listenBeforeUnload&&(M=e.listenBeforeUnload(d))),function(){h(t)}}function v(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})}var i=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),i}var b={},_=(0,f.default)(),x=_.runEnterHooks,w=_.runChangeHooks,O=_.runLeaveHooks,S=void 0,k=1,P=Object.create(null),E=void 0,M=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:g,listen:v}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(53),l=(r(s),n(408)),u=r(l),c=n(405),f=r(c),d=n(412),p=r(d),h=n(409),m=r(h),g=n(414),y=r(g);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=(0,o.default)((0,l.default)(e))(t);return n}}t.__esModule=!0,t.default=i;var a=n(160),o=r(a),s=n(159),l=r(s);e.exports=t.default},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){y===g&&(y=g.slice())}function a(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),y.push(e),function(){if(t){t=!1,r();var n=y.indexOf(e);y.splice(n,1)}}}function c(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=h(m,e)}finally{v=!1}for(var t=g=y,n=0;n<t.length;n++){var r=t[n];r()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:u.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[l.default]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,g=[],y=g,v=!1;return c({type:u.INIT}),p={dispatch:c,subscribe:s,getState:a,replaceReducer:f},p[l.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var a=n(111),o=r(a),s=n(431),l=r(s),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(184),a=r(i),o=n(429),s=r(o),l=n(428),u=r(l),c=n(427),f=r(c),d=n(183),p=r(d),h=n(186);r(h);t.createStore=a.default,t.combineReducers=s.default,t.bindActionCreators=u.default,t.applyMiddleware=f.default,t.compose=p.default},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},[547,1],function(e,t){"use strict";function n(e,t,n,r,i){void 0===r&&(r="");for(var a=("band"===i?["axisBand"]:[]).concat(["x"===n?"axisX":"axisY","axis"+r.substr(0,1).toUpperCase()+r.substr(1),"axis"]),o=0,s=a;o<s.length;o++){var l=s[o];if(t[l]&&void 0!==t[l][e])return t[l][e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAxisConfig=n},function(e,t,n){"use strict";function r(e){return g.POSITION_SCALE_CHANNELS.reduce(function(t,n){if(e.component.scales[n]&&e.axis(n)){var r={},i=f(n,e);i&&l(i)&&(r.main=i);var a=c(n,e);a&&l(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},o=0,s=e.children;o<s.length;o++){
var l=s[o];l.parseAxisAndHeader();for(var u=0,c=y.keys(l.component.axes);u<c.length;u++){var f=c[u];r.axis[f]=b.parseGuideResolve(e.component.resolve,f),"shared"===r.axis[f]&&(n[f]=a(n[f],l.component.axes[f]),n[f]||(r.axis[f]="independent",delete n[f]))}}for(var d=0,p=["x","y"];d<p.length;d++)for(var f=p[d],h=0,m=e.children;h<m.length;h++){var l=m[h];if(l.component.axes[f]){if("independent"===r.axis[f]){n[f]=(n[f]||[]).concat(l.component.axes[f]);for(var g=0,v=l.component.axes[f];g<v.length;g++){var _=v[g],x=_.main.getWithExplicit("orient"),w=x.value,O=x.explicit;if(i[w]>0&&!O){var S=P[w];i[w]>i[S]&&_.main.set("orient",S,!1)}i[w]++}}delete l.component.axes[f]}}}function a(e,t){if(!e)return t.map(function(e){return h({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var s=i.getWithExplicit("orient"),l=a.getWithExplicit("orient");if(s.explicit&&l.explicit&&s.value!==l.value)return;e[r].main=o(i,a)}var u=e[r].grid,c=t[r].grid;if(!!u!=!!c)return;u&&c&&(e[r].grid=o(u,c))}return e}}function o(e,t){for(var n=function(n){var r=_.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return v.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return _.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=m.VG_AXIS_PROPERTIES;r<i.length;r++){var a=i[r];n(a)}return e}function s(e){return e===!1||null===e}function l(e){return y.some(k,function(t){return u(e,t)})}function u(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!s(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new x.AxisComponentPart;m.VG_AXIS_PROPERTIES.forEach(function(a){var o=p(a,r,e,t,n);if(void 0!==o){var s="values"===a?!!r.values:"encode"===a?!!r.encoding||!!r.labelAngle:o===r[a],l=w.getAxisConfig(a,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));(s||void 0===l||n)&&i.set(a,o,s)}});var a=r.encoding||{},o=k.reduce(function(n,r){if(!u(i,r))return n;var o="labels"===r?O.labels(t,e,a.labels||{},i.get("orient")):a[r]||{};return void 0!==o&&y.keys(o).length>0&&(n[r]={update:o}),n},{});return y.keys(o).length>0&&i.set("encode",o,!!r.encoding||!!r.labelAngle),i}function p(e,t,n,r,i){var a=r.fieldDef(n);if(!(i&&"main"===m.AXIS_PROPERTY_TYPE[e]||!i&&"grid"===m.AXIS_PROPERTY_TYPE[e])){switch(e){case"scale":return r.scaleName(n);case"gridScale":return S.gridScale(r,n,i);case"domain":return S.domain("domain",t,i,n);case"format":return v.numberFormat(a,t.format,r.config);case"grid":var o=r.getScaleComponent(n).get("type");return v.getSpecifiedOrDefaultValue(t.grid,S.grid(o,a));case"labels":return!i&&t.labels;case"labelFlush":return S.labelFlush(a,n,t,i);case"labelOverlap":var o=r.getScaleComponent(n).get("type");return S.labelOverlap(a,t,n,o);case"minExtent":return S.minMaxExtent(t.minExtent,i);case"maxExtent":return S.minMaxExtent(t.maxExtent,i);case"orient":return v.getSpecifiedOrDefaultValue(t.orient,S.orient(n));case"tickCount":var o=r.getScaleComponent(n).get("type"),s="x"===n?"width":"y"===n?"height":void 0,l=s?r.getSizeSignalRef(s):void 0;return v.getSpecifiedOrDefaultValue(t.tickCount,S.tickCount(n,a,o,l));case"ticks":return S.ticks("ticks",t,i,n);case"title":return v.getSpecifiedOrDefaultValue(t.title,S.title(t.titleMaxLength,a,r.config));case"values":return S.values(t,r,a);case"zindex":return v.getSpecifiedOrDefaultValue(t.zindex,S.zindex(i))}return m.isAxisProperty(e)?t[e]:void 0}}var h=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m=n(187),g=n(5),y=n(1),v=n(21),b=n(84),_=n(33),x=n(439),w=n(188),O=n(440),S=n(441),k=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var P={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},[552,1,80,83,14],[557,42,1,120,192,193,13,79,194,121,122,195,196,197,198,81,123,82],[558,61,7,1,21,14,13],[559,1,13],[561,64,1,13],[563,5,23,1,13],function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),a=n(23),o=n(1),s=n(13),l=function(e){function t(t,n,r){var i=e.call(this)||this;return i.projection=t,i.fields=n,i.as=r,i}return r(t,e),t.prototype.clone=function(){return new t(this.projection,o.duplicate(this.fields),o.duplicate(this.as))},t.makeAll=function(e){var n=[];if(!e.projectionName())return n;for(var r=0,s=[[i.X,i.Y],[i.X2,i.Y2]];r<s.length;r++){for(var l=s[r],u={},c=0,f=l;c<f.length;c++){var d=f[c];if(e.channelHasField(d)){var p=e.fieldDef(d);o.contains([a.LATITUDE,a.LONGITUDE],p.type)&&(u[p.type]=p.field)}}(a.LONGITUDE in u||a.LATITUDE in u)&&n.push(new t(e.projectionName(),[u[a.LONGITUDE],u[a.LATITUDE]],[u[a.LONGITUDE]+"_geo",u[a.LATITUDE]+"_geo"]))}return n},t.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}},t}(s.DataFlowNode);t.GeoPointNode=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(129),a=n(13),o=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.clone=function(){return new t},t.prototype.producedFields=function(){return e={},e[i.SELECTION_ID]=!0,e;var e},t.prototype.assemble=function(){return{type:"identifier",as:i.SELECTION_ID}},t}(a.DataFlowNode);t.IdentifierNode=o},[564,26,3,13,81],[565,42,1,120,13,79,121,444,123],[573,7,1,21],[576,1,202],function(e,t,n){"use strict";function r(e){g.isUnitModel(e)?e.component.legends=i(e):e.component.legends=l(e)}function i(e){var t=e.encoding;return[c.COLOR,c.SIZE,c.SHAPE,c.OPACITY].reduce(function(n,r){var i=t[r];return!e.legend(r)||!e.getScaleComponent(r)||f.isFieldDef(i)&&r===c.SHAPE&&i.type===p.GEOJSON||(n[r]=o(e,r)),n},{})}function a(e,t){switch(t){case c.COLOR:var n=e.scaleName(c.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case c.SIZE:return{size:e.scaleName(c.SIZE)};case c.SHAPE:return{shape:e.scaleName(c.SHAPE)};case c.OPACITY:return{opacity:e.scaleName(c.OPACITY)}}return null}function o(e,t){var n=e.fieldDef(t),r=e.legend(t),i=new _.LegendComponent({},a(e,t));d.LEGEND_PROPERTIES.forEach(function(n){var a=s(n,r,t,e);if(void 0!==a){var o="values"===n?!!r.values:a===r[n];(o||void 0===e.config.legend[n])&&i.set(n,a,o)}});var o=r.encoding||{},l=["labels","legend","title","symbols","gradient"].reduce(function(r,a){var s=x[a]?x[a](n,o[a],e,t,i.get("type")):o[a];return void 0!==s&&h.keys(s).length>0&&(r[a]={update:s}),r},{});return h.keys(l).length>0&&i.set("encode",l,!!r.encoding),i}function s(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return m.numberFormat(i,t.format,r.config);case"title":return m.getSpecifiedOrDefaultValue(t.title,f.title(i,r.config));case"values":return w.values(t);case"type":return m.getSpecifiedOrDefaultValue(t.type,w.type(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}function l(e){for(var t=e.component,n=t.legends,i=t.resolve,a=function(t){r(t),h.keys(t.component.legends).forEach(function(r){i.legend[r]=y.parseGuideResolve(e.component.resolve,r),"shared"===i.legend[r]&&(n[r]=u(n[r],t.component.legends[r]),n[r]||(i.legend[r]="independent",delete n[r]))})},o=0,s=e.children;o<s.length;o++){var l=s[o];a(l)}return h.keys(n).forEach(function(t){for(var n=0,r=e.children;n<r.length;n++){var a=r[n];a.component.legends[t]&&"shared"===i.legend[t]&&delete a.component.legends[t]}}),n}function u(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=!1,a=function(n){var r=b.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return m.titleMerger(e,t);case"type":return i=!0,v.makeImplicit("symbol")}return b.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)},o=0,s=d.VG_LEGEND_PROPERTIES;o<s.length;o++){var l=s[o];a(l)}return i&&(((e.implicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.explicit,["encode","gradient"])),e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),f=n(7),d=n(127),p=n(23),h=n(1),m=n(21),g=n(14),y=n(84),v=n(33),b=n(33),_=n(447),x=n(448),w=n(449);t.parseLegend=r,t.parseLegendForChannel=o,t.mergeLegendComponent=u},[597,7,3,87,1],[603,5,3,11,1,1,14,33,205],[604,26,5,3,11,11,1,29,14,33,204],[607,1,17,125],[618,5,28,28,7,22,130,1,189,80,83,62,453,455,14,203,17],function(e,t,n){"use strict";function r(e){return g.mergeDeep(g.duplicate(t.defaultConfig),e)}function i(e){e=g.duplicate(e);for(var t=0,n=v;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,o=u.VL_ONLY_GUIDE_CONFIG;i<o.length;i++){var r=o[i];delete e.axis[r]}if(e.legend)for(var s=0,l=u.VL_ONLY_GUIDE_CONFIG;s<l.length;s++){var r=l[s];delete e.legend[r]}if(e.mark)for(var c=0,d=f.VL_ONLY_MARK_CONFIG_PROPERTIES;c<d.length;c++){var r=d[c];delete e.mark[r]}for(var p=0,h=y;p<h.length;p++){for(var m=h[p],_=0,x=f.VL_ONLY_MARK_CONFIG_PROPERTIES;_<x.length;_++){var r=x[_];delete e[m][r]}var w=b[m];if(w)for(var O=0,S=w;O<S.length;O++){var r=S[O];delete e[m][r]}a(e,m)}a(e,"title","group-title");for(var r in e)g.isObject(e[r])&&0===g.keys(e[r]).length&&delete e[r];return g.keys(e).length>0?e:void 0}function a(e,t,n){var r="title"===t?m.extractTitleConfig(e.title).mark:e[t];"view"===t&&(n="cell");var i=o({},r,e.style[t]);g.keys(i).length>0&&(e.style[n||t]=i),delete e[t]}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(86),l=n(86),u=n(480),c=n(127),f=n(22),d=n(22),p=n(11),h=n(129),m=n(209),g=n(1);t.defaultViewConfig={width:200,height:200},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",view:t.defaultViewConfig,mark:d.defaultMarkConfig,area:{},bar:d.defaultBarConfig,circle:{},geoshape:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:d.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:p.defaultScaleConfig,projection:{},axis:{},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:c.defaultLegendConfig,selection:h.defaultConfig,style:{},title:{}},t.initConfig=r;var y=["view"].concat(f.PRIMITIVE_MARKS,s.COMPOSITE_MARK_STYLES),v=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],b=o({view:["width","height"]},f.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,l.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripAndRedirectConfig=i},function(e,t){"use strict";function n(e){var t=e.anchor,n=e.offset,a=e.orient,o=e.color,s=i(e,["anchor","offset","orient","color"]),l=r({},s,o?{fill:o}:{}),u=r({},t?{anchor:t}:{},n?{offset:n}:{},a?{orient:a}:{});return{mark:l,nonMark:u}}var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.extractTitleConfig=n},[547,2],188,function(e,t,n){"use strict";function r(e){return g.POSITION_SCALE_CHANNELS.reduce(function(t,n){if(e.component.scales[n]&&e.axis(n)){var r={},i=f(n,e);i&&l(i)&&(r.main=i);var a=c(n,e);a&&l(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component,n=t.axes,r=t.resolve,i={top:0,bottom:0,right:0,left:0},o=0,s=e.children;o<s.length;o++){var l=s[o];l.parseAxisAndHeader();for(var u=0,c=y.keys(l.component.axes);u<c.length;u++){var f=c[u];r.axis[f]=b.parseGuideResolve(e.component.resolve,f),"shared"===r.axis[f]&&(n[f]=a(n[f],l.component.axes[f]),n[f]||(r.axis[f]="independent",delete n[f]))}}for(var d=0,p=["x","y"];d<p.length;d++)for(var f=p[d],h=0,m=e.children;h<m.length;h++){var l=m[h];if(l.component.axes[f]){if("independent"===r.axis[f]){n[f]=(n[f]||[]).concat(l.component.axes[f]);for(var g=0,v=l.component.axes[f];g<v.length;g++){var _=v[g],x=_.main.getWithExplicit("orient"),w=x.value,O=x.explicit;if(i[w]>0&&!O){var S=P[w];i[w]>i[S]&&_.main.set("orient",S,!1)}i[w]++}}delete l.component.axes[f]}}}function a(e,t){if(!e)return t.map(function(e){return h({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var s=i.getWithExplicit("orient"),l=a.getWithExplicit("orient");if(s.explicit&&l.explicit&&s.value!==l.value)return;e[r].main=o(i,a)}var u=e[r].grid,c=t[r].grid;if(!!u!=!!c)return;u&&c&&(e[r].grid=o(u,c))}return e}}function o(e,t){for(var n=function(n){var r=_.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return v.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return _.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=m.VG_AXIS_PROPERTIES;r<i.length;r++){var a=i[r];n(a)}return e}function s(e){return e===!1||null===e}function l(e){return y.some(k,function(t){return u(e,t)})}function u(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!s(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new x.AxisComponentPart;m.VG_AXIS_PROPERTIES.forEach(function(a){var o=p(a,r,e,t,n);if(void 0!==o){var s="values"===a?!!r.values:"encode"===a?!!r.encoding||!!r.labelAngle:o===r[a],l=w.getAxisConfig(a,t.config,e,i.get("orient"),t.getScaleComponent(e).get("type"));(s||void 0===l||n)&&i.set(a,o,s)}});var a=r.encoding||{},o=k.reduce(function(n,r){if(!u(i,r))return n;var o="labels"===r?O.labels(t,e,a.labels||{},i.get("orient")):a[r]||{};return void 0!==o&&y.keys(o).length>0&&(n[r]={update:o}),n},{});return y.keys(o).length>0&&i.set("encode",o,!!r.encoding||!!r.labelAngle),i}function p(e,t,n,r,i){var a=r.fieldDef(n);if(!(i&&"main"===m.AXIS_PROPERTY_TYPE[e]||!i&&"grid"===m.AXIS_PROPERTY_TYPE[e])){switch(e){case"scale":return r.scaleName(n);case"gridScale":return S.gridScale(r,n,i);case"domain":return S.domain(e,t,i,n);case"format":return v.numberFormat(a,t.format,r.config);case"grid":var o=r.getScaleComponent(n).get("type");return v.getSpecifiedOrDefaultValue(t.grid,S.grid(o,a));case"labels":return!i&&t.labels;case"labelFlush":return S.labelFlush(a,n,t,i);case"labelOverlap":var o=r.getScaleComponent(n).get("type");return S.labelOverlap(a,t,n,o);case"minExtent":return S.minMaxExtent(t.minExtent,i);case"maxExtent":return S.minMaxExtent(t.maxExtent,i);case"orient":return v.getSpecifiedOrDefaultValue(t.orient,S.orient(n));case"tickCount":var o=r.getScaleComponent(n).get("type"),s="x"===n?"width":"y"===n?"height":void 0,l=s?r.getSizeSignalRef(s):void 0;return v.getSpecifiedOrDefaultValue(t.tickCount,S.tickCount(n,a,o,l));case"ticks":return S.ticks(e,t,i,n);case"title":return v.getSpecifiedOrDefaultValue(t.title,S.title(t.titleMaxLength,a,r.config));case"values":return S.values(t,r,a);case"zindex":return v.getSpecifiedOrDefaultValue(t.zindex,S.zindex(i))}return m.isAxisProperty(e)?t[e]:void 0}}var h=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m=n(210),g=n(6),y=n(2),v=n(24),b=n(95),_=n(34),x=n(494),w=n(211),O=n(495),S=n(496),k=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var P={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},[552,2,91,94,16],[557,43,2,131,215,216,15,90,217,132,133,218,219,220,221,92,134,93],[558,67,8,2,24,16,15],[559,2,15],[561,70,2,15],[563,6,19,2,15],function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),a=n(19),o=n(2),s=n(15),l=function(e){function t(t,n,r){var i=e.call(this)||this;return i.projection=t,i.fields=n,i.as=r,i}return r(t,e),t.prototype.clone=function(){return new t(this.projection,o.duplicate(this.fields),o.duplicate(this.as))},t.makeAll=function(e){var n=[];if(!e.projectionName())return n;for(var r=0,s=[[i.X,i.Y],[i.X2,i.Y2]];r<s.length;r++){for(var l=s[r],u={},c=0,f=l;c<f.length;c++){var d=f[c];if(e.channelHasField(d)){var p=e.fieldDef(d);o.contains([a.LATITUDE,a.LONGITUDE],p.type)&&(u[p.type]=p.field)}}(a.LONGITUDE in u||a.LATITUDE in u)&&n.push(new t(e.projectionName(),[u[a.LONGITUDE],u[a.LATITUDE]],[u[a.LONGITUDE]+"_geo",u[a.LATITUDE]+"_geo"]))}return n},t.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}},t}(s.DataFlowNode);t.GeoPointNode=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(139),a=n(15),o=function(e){function t(){return e.call(this)||this}return r(t,e),t.prototype.clone=function(){return new t},t.prototype.producedFields=function(){return e={},e[i.SELECTION_ID]=!0,e;var e},t.prototype.assemble=function(){return{type:"identifier",as:i.SELECTION_ID}},t}(a.DataFlowNode);t.IdentifierNode=o},[564,27,4,15,92],[565,43,2,131,15,90,132,499,134],[573,8,2,24],[576,2,225],function(e,t,n){"use strict";function r(e){g.isUnitModel(e)?e.component.legends=i(e):e.component.legends=l(e)}function i(e){var t=e.encoding;return[c.COLOR,c.SIZE,c.SHAPE,c.OPACITY].reduce(function(n,r){var i=t[r];return!e.legend(r)||!e.getScaleComponent(r)||f.isFieldDef(i)&&r===c.SHAPE&&i.type===p.GEOJSON||(n[r]=o(e,r)),n},{})}function a(e,t){switch(t){case c.COLOR:var n=e.scaleName(c.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case c.SIZE:return{size:e.scaleName(c.SIZE)};case c.SHAPE:return{shape:e.scaleName(c.SHAPE)};case c.OPACITY:return{opacity:e.scaleName(c.OPACITY)}}return null}function o(e,t){var n=e.fieldDef(t),r=e.legend(t),i=new _.LegendComponent({},a(e,t));d.LEGEND_PROPERTIES.forEach(function(n){var a=s(n,r,t,e);if(void 0!==a){var o="values"===n?!!r.values:a===r[n];(o||void 0===e.config.legend[n])&&i.set(n,a,o)}});var o=r.encoding||{},l=["labels","legend","title","symbols","gradient"].reduce(function(r,a){var s=x[a]?x[a](n,o[a],e,t,i.get("type")):o[a];return void 0!==s&&h.keys(s).length>0&&(r[a]={update:s}),r},{});return h.keys(l).length>0&&i.set("encode",l,!!r.encoding),i}function s(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return m.numberFormat(i,t.format,r.config);case"title":return m.getSpecifiedOrDefaultValue(t.title,f.title(i,r.config));case"values":return w.values(t);case"type":return m.getSpecifiedOrDefaultValue(t.type,w.type(i.type,n,r.getScaleComponent(n).get("type")))}return t[e]}function l(e){for(var t=e.component,n=t.legends,i=t.resolve,a=function(t){r(t),h.keys(t.component.legends).forEach(function(r){i.legend[r]=y.parseGuideResolve(e.component.resolve,r),"shared"===i.legend[r]&&(n[r]=u(n[r],t.component.legends[r]),n[r]||(i.legend[r]="independent",delete n[r]))})},o=0,s=e.children;o<s.length;o++){var l=s[o];a(l)}return h.keys(n).forEach(function(t){for(var n=0,r=e.children;n<r.length;n++){var a=r[n];a.component.legends[t]&&"shared"===i.legend[t]&&delete a.component.legends[t]}}),n}function u(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=!1,a=function(n){var r=b.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return m.titleMerger(e,t);case"type":return i=!0,v.makeImplicit("symbol")}return b.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)},o=0,s=d.VG_LEGEND_PROPERTIES;o<s.length;o++){var l=s[o];a(l)}return i&&(((e.implicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.implicit,["encode","gradient"]),((e.explicit||{}).encode||{}).gradient&&h.deleteNestedProperty(e.explicit,["encode","gradient"])),e}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(6),f=n(8),d=n(137),p=n(19),h=n(2),m=n(24),g=n(16),y=n(95),v=n(34),b=n(34),_=n(502),x=n(503),w=n(504);t.parseLegend=r,t.parseLegendForChannel=o,t.mergeLegendComponent=u},[597,8,4,98,2],[603,6,4,12,2,2,16,34,228],[604,27,6,4,12,12,2,31,16,34,227],[607,2,18,136],[618,6,30,30,8,25,140,2,212,91,94,68,508,510,16,226,18],function(e,t,n){"use strict";function r(e){return g.mergeDeep(g.duplicate(t.defaultConfig),e)}function i(e){e=g.duplicate(e);for(var t=0,n=v;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,o=u.VL_ONLY_GUIDE_CONFIG;i<o.length;i++){var r=o[i];delete e.axis[r]}if(e.legend)for(var s=0,l=u.VL_ONLY_GUIDE_CONFIG;s<l.length;s++){var r=l[s];delete e.legend[r]}if(e.mark)for(var c=0,d=f.VL_ONLY_MARK_CONFIG_PROPERTIES;c<d.length;c++){var r=d[c];delete e.mark[r]}for(var p=0,h=y;p<h.length;p++){for(var m=h[p],_=0,x=f.VL_ONLY_MARK_CONFIG_PROPERTIES;_<x.length;_++){var r=x[_];delete e[m][r]}var w=b[m];if(w)for(var O=0,S=w;O<S.length;O++){var r=S[O];delete e[m][r]}a(e,m)}a(e,"title","group-title");for(var r in e)g.isObject(e[r])&&0===g.keys(e[r]).length&&delete e[r];return g.keys(e).length>0?e:void 0}function a(e,t,n){var r="title"===t?m.extractTitleConfig(e.title).mark:e[t];"view"===t&&(n="cell");var i=o({},r,e.style[t]);g.keys(i).length>0&&(e.style[n||t]=i),delete e[t]}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(97),l=n(97),u=n(535),c=n(137),f=n(25),d=n(25),p=n(12),h=n(139),m=n(232),g=n(2);t.defaultViewConfig={width:200,height:200},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",view:t.defaultViewConfig,mark:d.defaultMarkConfig,area:{},bar:d.defaultBarConfig,circle:{},geoshape:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:d.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:p.defaultScaleConfig,projection:{},axis:{},axisX:{},axisY:{minExtent:30},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:c.defaultLegendConfig,selection:h.defaultConfig,style:{},title:{}},t.initConfig=r;var y=["view"].concat(f.PRIMITIVE_MARKS,s.COMPOSITE_MARK_STYLES),v=["padding","numberFormat","timeFormat","countTitle","stack","scale","selection","invalidValues","overlay"],b=o({view:["width","height"]},f.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,l.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripAndRedirectConfig=i},209,function(e,t,n){"undefined"==typeof Promise&&(n(375).enable(),window.Promise=n(374)),n(542),Object.assign=n(58)},function(e,t,n){var r;(function(e,i){(function(){function a(e,t){function n(e){if(n[e]!==g)return n[e];var a;if("bug-string-char-index"==e)a="a"!="a"[0];else if("json"==e)a=n("json-stringify")&&n("json-parse");else{var o,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=t.stringify,c="function"==typeof u&&b;if(c){(o=function(){return 1}).toJSON=o;try{c="0"===u(0)&&"0"===u(new r)&&'""'==u(new i)&&u(v)===g&&u(g)===g&&u()===g&&"1"===u(o)&&"[1]"==u([o])&&"[null]"==u([g])&&"null"==u(null)&&"[null,null,null]"==u([g,v,null])&&u({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,o)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==u(new l((-1)))}catch(f){c=!1}}a=c}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){o=d(s);var p=5==o.a.length&&1===o.a[0];if(p){try{p=!d('"\t"')}catch(f){}if(p)try{p=1!==d("01")}catch(f){}if(p)try{p=1!==d("1.")}catch(f){}}}}catch(f){p=!1}a=p}}return n[e]=!!a}e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,i=e.String||u.String,o=e.Object||u.Object,l=e.Date||u.Date,c=e.SyntaxError||u.SyntaxError,f=e.TypeError||u.TypeError,d=e.Math||u.Math,p=e.JSON||u.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,m,g,y=o.prototype,v=y.toString,b=new l((-0xc782b5b800cec));try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(_){}var x="[object Function]",w="[object Date]",O="[object Number]",S="[object String]",k="[object Array]",P="[object Boolean]",E=n("bug-string-char-index");if(!b)var M=d.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return T[t]+365*(e-1970)+M((e-1969+(t=+(t>1)))/4)-M((e-1901+t)/100)+M((e-1601+t)/400)};(h=y.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&a++;return n=r=null,a?m=2==a?function(e,t){var n,r={},i=v.call(e)==x;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=v.call(e)==x;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,a=v.call(e)==x,o=!a&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(i=r.length;n=r[--i];o.call(e,n)&&t(n));}),m(e,t)};var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",j=function(e,t){return(D+(t||0)).slice(-e)},R="\\u00",N=function(e){for(var t='"',n=0,r=e.length,i=!E||r>10,a=i&&(E?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=A[o];break;default:if(o<32){t+=R+j(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},I=function(e,t,n,r,i,a,o,s){var l,u,c,d,p,y,b,_,x,E,T,A,D,R,z,F;s=s||0;try{l=t[e]}catch($){}if("object"==typeof l&&l)if(u=v.call(l),u!=w||h.call(l,"toJSON"))"function"==typeof l.toJSON&&(u!=O&&u!=S&&u!=k||h.call(l,"toJSON"))&&(l=l.toJSON(e));else if(l>-1/0&&l<1/0){if(C){for(p=M(l/864e5),c=M(p/365.2425)+1970-1;C(c+1,0)<=p;c++);for(d=M((p-C(c,0))/30.42);C(c,d+1)<=p;d++);p=1+p-C(c,d),y=(l%864e5+864e5)%864e5,b=M(y/36e5)%24,_=M(y/6e4)%60,x=M(y/1e3)%60,E=y%1e3}else c=l.getUTCFullYear(),d=l.getUTCMonth(),p=l.getUTCDate(),b=l.getUTCHours(),_=l.getUTCMinutes(),x=l.getUTCSeconds(),E=l.getUTCMilliseconds();l=(c<=0||c>=1e4?(c<0?"-":"+")+j(6,c<0?-c:c):j(4,c))+"-"+j(2,d+1)+"-"+j(2,p)+"T"+j(2,b)+":"+j(2,_)+":"+j(2,x)+"."+j(3,E)+"Z"}else l=null;if(n&&(l=n.call(t,e,l)),null===l)return"null";if(u=v.call(l),u==P)return""+l;if(u==O)return l>-1/0&&l<1/0?""+l:"null";if(u==S)return N(""+l);if("object"==typeof l){for(R=o.length;R--;)if(o[R]===l)throw f();if(o.push(l),T=[],z=a,a+=i,u==k){var F,L=a.length;for(D=0,R=l.length;D<R;D++)A=I(D,l,n,r,i,a,o,s),F=A===g?"null":A,L+=F.length+(D>0?1:0),T.push(F);F=T.length?i&&L>s?"[\n"+a+T.join(",\n"+a)+"\n"+z+"]":"["+T.join(",")+"]":"[]"}else{var L=a.length,D=0;m(r||l,function(e){var t,u=I(e,l,n,r,i,a,o,s);u!==g&&(t=N(e)+":"+(i?" ":"")+u,L+=t.length+(D++>0?1:0),T.push(t))}),F=T.length?i&&L>s?"{\n"+a+T.join(",\n"+a)+"\n"+z+"}":"{"+T.join(",")+"}":"{}"}return o.pop(),F}};if(t.stringify=function(e,t,n,r){var i,a,o,l;if(s[typeof t]&&t)if((l=v.call(t))==x)a=t;else if(l==k){o={};for(var u,c=0,f=t.length;c<f;u=t[c++],l=v.call(u),(l==S||l==O)&&(o[u]=1));}if(n)if((l=v.call(n))==O){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else l==S&&(i=n.length<=10?n:n.slice(0,10));return I("",(u={},u[""]=e,u),a,o,i,"",[],r)},t.compactStringify=function(e,n,r){return t.stringify(e,n,r,60)},!n("json-parse")){var z,F,$=i.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw z=F=null,c()},B=function(){for(var e,t,n,r,i,a=F,o=a.length;z<o;)switch(i=a.charCodeAt(z)){case 9:case 10:case 13:case 32:z++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?a.charAt(z):a[z],z++,e;case 34:for(e="@",z++;z<o;)if(i=a.charCodeAt(z),i<32)U();else if(92==i)switch(i=a.charCodeAt(++z)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[i],z++;break;case 117:for(t=++z,n=z+4;z<n;z++)i=a.charCodeAt(z),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||U();e+=$("0x"+a.slice(t,z));break;default:U()}else{if(34==i)break;for(i=a.charCodeAt(z),t=z;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++z);e+=a.slice(t,z)}if(34==a.charCodeAt(z))return z++,e;U();default:if(t=z,45==i&&(r=!0,i=a.charCodeAt(++z)),i>=48&&i<=57){for(48==i&&(i=a.charCodeAt(z+1),i>=48&&i<=57)&&U(),r=!1;z<o&&(i=a.charCodeAt(z),i>=48&&i<=57);z++);if(46==a.charCodeAt(z)){for(n=++z;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==z&&U(),z=n}if(i=a.charCodeAt(z),101==i||69==i){for(i=a.charCodeAt(++z),43!=i&&45!=i||z++,n=z;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==z&&U(),z=n}return+a.slice(t,z)}if(r&&U(),"true"==a.slice(z,z+4))return z+=4,!0;if("false"==a.slice(z,z+5))return z+=5,!1;if("null"==a.slice(z,z+4))return z+=4,null;U()}return"$"},q=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=B(),"]"!=e;n||(n=!0))n&&(","==e?(e=B(),"]"==e&&U()):U()),","==e&&U(),t.push(q(e));return t}if("{"==e){for(t={};e=B(),"}"!=e;n||(n=!0))n&&(","==e?(e=B(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(E?e.charAt(0):e[0])&&":"==B()||U(),t[e.slice(1)]=q(B());return t}U()}return e},W=function(e,t,n){var r=V(e,t,n);r===g?delete e[t]:e[t]=r},V=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(v.call(i)==k)for(r=i.length;r--;)W(i,r,n);else m(i,function(e){W(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return z=0,F=""+e,n=q(B()),"$"!=B()&&U(),z=F=null,t&&v.call(t)==x?V((r={},r[""]=n,r),"",t):n}}return t.runInContext=a,
t}var o=n(541),s={function:!0,object:!0},l=s[typeof t]&&t&&!t.nodeType&&t,u=s[typeof window]&&window||this,c=l&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),l&&!o)a(u,l);else{var f=u.JSON,d=u.JSON3,p=!1,h=a(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=f,u.JSON3=d,f=d=null),h}});u.JSON={parse:h.parse,stringify:h.stringify}}o&&(r=function(){return h}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(141)(e),function(){return this}())},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=this._opts=F.copy(e)||{},M(this),this._schemas={},this._refs={},this._fragments={},this._formats=N(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new D,this._loadingSchemas={},this._compilations=[],this.RULES=I(),this._getId=y(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=R),this._metaOpts=E(this),e.formats&&k(this),O(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S(this)}function i(e,t){var n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return n.$async!==!0&&(this.errors=n.errors),i}function a(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function o(e,t,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return t=A.normalizeId(t||a),P(this,t),this._schemas[t]=this._addSchema(e,n,r,!0),this}function s(e,t,n){return this.addSchema(e,t,n,!0),this}function l(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||u(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this._formats.uri;this._formats.uri="function"==typeof r?this._schemaUriFormatFunc:this._schemaUriFormat;var i;try{i=this.validate(n,e)}finally{this._formats.uri=r}if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);this.logger.error(a)}return i}function u(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(U)?U:void 0,e._opts.defaultMeta}function c(e){var t=d(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return f(this,e)}}function f(e,t){var n=A.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,a=n.baseId,o=C.call(e,r,i,void 0,a);return e._fragments[t]=new j({ref:t,fragment:!0,schema:r,root:i,baseId:a,validate:o}),o}}function d(e,t){return t=A.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function p(e){if(e instanceof RegExp)return h(this,this._schemas,e),h(this,this._refs,e),this;switch(typeof e){case"undefined":return h(this,this._schemas),h(this,this._refs),this._cache.clear(),this;case"string":var t=d(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=A.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this}function h(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function m(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,a=i?i(e):e,o=this._cache.get(a);if(o)return o;r=r||this._opts.addUsedSchema!==!1;var s=A.normalizeId(this._getId(e));s&&r&&P(this,s);var l,u=this._opts.validateSchema!==!1&&!t;u&&!(l=s&&s==A.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=A.ids.call(this,e),f=new j({id:s,schema:e,localRefs:c,cacheKey:a,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=f),this._cache.put(a,f),u&&l&&this.validateSchema(e,!0),f}function g(e,t){function n(){var t=e.validate,r=t.apply(null,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t?t:n,e.schema.$async===!0&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=C.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function y(e){switch(e.schemaId){case"auto":return _;case"id":return v;default:return b}}function v(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function b(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)}function w(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function O(e){var t;if(e._opts.$data&&(t=n(354),e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=n(356);e._opts.$data&&(r=z(r,q)),e.addMetaSchema(r,U,!0),e._refs["http://json-schema.org/schema"]=U}}function S(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function k(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function P(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function E(e){for(var t=F.copy(e._opts),n=0;n<B.length;n++)delete t[B[n]];return t}function M(e){var t=e._opts.logger;if(t===!1)e.logger={log:T,warn:T,error:T};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function T(){}var C=n(239),A=n(101),D=n(236),j=n(142),R=n(156),N=n(238),I=n(240),z=n(242),F=n(49);e.exports=r,r.prototype.validate=i,r.prototype.compile=a,r.prototype.addSchema=o,r.prototype.addMetaSchema=s,r.prototype.validateSchema=l,r.prototype.getSchema=c,r.prototype.removeSchema=p,r.prototype.addFormat=w,r.prototype.errorsText=x,r.prototype._addSchema=m,r.prototype._compile=g,r.prototype.compileAsync=n(237);var $=n(264);r.prototype.addKeyword=$.add,r.prototype.getKeyword=$.get,r.prototype.removeKeyword=$.remove;var L=n(100);r.ValidationError=L.Validation,r.MissingRefError=L.MissingRef,r.$dataMetaSchema=z;var U="http://json-schema.org/draft-07/schema",B=["removeAdditional","useDefaults","coerceTypes"],q=["/properties"]},function(e,t){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";function r(e,t,n){function a(e){var t=e.$schema;return t&&!s.getSchema(t)?r.call(s,{$ref:t},!0):Promise.resolve()}function o(e){function n(n){function r(){delete s._loadingSchemas[l]}function i(e){return s._refs[e]||s._schemas[e]}var l=n.missingSchema;if(i(l))throw new Error("Schema "+l+" is loaded but "+n.missingRef+" cannot be resolved");var u=s._loadingSchemas[l];return u||(u=s._loadingSchemas[l]=s._opts.loadSchema(l),u.then(r,r)),u.then(function(e){if(!i(l))return a(e).then(function(){i(l)||s.addSchema(e,l,void 0,t)})}).then(function(){return o(e)})}try{return s._compile(e)}catch(r){if(r instanceof i)return n(r);throw r}}var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var l=a(e).then(function(){var n=s._addSchema(e,void 0,t);return n.validate||o(n)});return n&&l.then(function(e){n(null,e)},n),l}var i=n(100).MissingRef;e.exports=r},function(e,t,n){"use strict";function r(e){return e="full"==e?"full":"fast",f.copy(r[e])}function i(e){return e%4===0&&(e%100!==0||e%400===0)}function a(e){var t=e.match(d);if(!t)return!1;var n=+t[1],r=+t[2],a=+t[3];return r>=1&&r<=12&&a>=1&&a<=(2==r&&i(n)?29:p[r])}function o(e,t){var n=e.match(h);if(!n)return!1;var r=n[1],i=n[2],a=n[3],o=n[5];return(r<=23&&i<=59&&a<=59||23==r&&59==i&&60==a)&&(!t||o)}function s(e){var t=e.split(S);return 2==t.length&&a(t[0])&&o(t[1],!0)}function l(e){return e.length<=255&&m.test(e)}function u(e){return k.test(e)&&g.test(e)}function c(e){if(P.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}var f=n(49),d=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,p=[0,31,28,31,30,31,30,31,31,30,31,30,31],h=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,m=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,y=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,v=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,b=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,_=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,x=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,w=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,O=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;e.exports=r,r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":v,url:b,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:m,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:_,"json-pointer":x,"json-pointer-uri-fragment":w,"relative-json-pointer":O},r.full={date:a,time:o,"date-time":s,uri:u,"uri-reference":y,"uri-template":v,url:b,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:l,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:c,uuid:_,"json-pointer":x,"json-pointer-uri-fragment":w,"relative-json-pointer":O};var S=/t|\s/i,k=/\/|:/,P=/[^\\]\\Z/},function(e,t,n){"use strict";function r(e,t,n,o){function _(){var e=L.validate,t=e.apply(null,arguments);return _.errors=e.errors,t}function x(e,n,i,a){var o=!n||n&&n.schema==e;if(n.schema!=t.schema)return r.call(C,e,n,i,a);var m=e.$async===!0,_=g({isTop:!0,schema:e,isRoot:o,baseId:a,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:h.MissingRef,RULES:B,validate:g,util:p,resolve:d,resolveRef:w,usePattern:E,useDefault:M,useCustomRule:T,opts:A,formats:U,logger:C.logger,self:C});_=f(D,u)+f(R,s)+f(I,l)+f(F,c)+_,A.processCode&&(_=A.processCode(_));var x;try{var O=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",_);x=O(C,B,U,t,D,I,F,v,y,b),D[0]=x}catch(S){throw C.logger.error("Error compiling schema, function code:",_),S}return x.schema=e,x.errors=null,x.refs=j,x.refVal=D,x.root=o?x:n,m&&(x.$async=!0),A.sourceCode===!0&&(x.source={code:_,patterns:R,defaults:I}),x}function w(e,i,a){i=d.url(e,i);var o,s,l=j[i];if(void 0!==l)return o=D[l],s="refVal["+l+"]",P(o,s);if(!a&&t.refs){var u=t.refs[i];if(void 0!==u)return o=t.refVal[u],s=O(i,o),P(o,s)}s=O(i);var c=d.call(C,x,t,i);if(void 0===c){var f=n&&n[i];f&&(c=d.inlineRef(f,A.inlineRefs)?f:r.call(C,f,t,n,e))}return void 0!==c?(k(i,c),P(c,s)):void S(i)}function O(e,t){var n=D.length;return D[n]=t,j[e]=n,"refVal"+n}function S(e){delete j[e]}function k(e,t){var n=j[e];D[n]=t}function P(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function E(e){var t=N[e];return void 0===t&&(t=N[e]=R.length,R[t]=e),"pattern"+t}function M(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return p.toQuotedString(e);case"object":if(null===e)return"null";var t=m(e),n=z[t];return void 0===n&&(n=z[t]=I.length,I[n]=e),"default"+n}}function T(e,t,n,r){var i=e.definition.validateSchema;if(i&&C._opts.validateSchema!==!1){var a=i(t);if(!a){var o="keyword schema is invalid: "+C.errorsText(i.errors);if("log"!=C._opts.validateSchema)throw new Error(o);C.logger.error(o)}}var s,l=e.definition.compile,u=e.definition.inline,c=e.definition.macro;if(l)s=l.call(C,t,n,r);else if(c)s=c.call(C,t,n,r),A.validateSchema!==!1&&C.validateSchema(s,!0);else if(u)s=u.call(C,r,e.keyword,t,n);else if(s=e.definition.validate,!s)return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=F.length;return F[f]=s,{code:"customRule"+f,validate:s}}var C=this,A=this._opts,D=[void 0],j={},R=[],N={},I=[],z={},F=[];t=t||{schema:e,refVal:D,refs:j};var $=i.call(this,e,t,o),L=this._compilations[$.index];if($.compiling)return L.callValidate=_;var U=this._formats,B=this.RULES;try{var q=x(e,t,n,o);L.validate=q;var W=L.callValidate;return W&&(W.schema=q.schema,W.errors=null,W.refs=q.refs,W.refVal=q.refVal,W.root=q.root,W.$async=q.$async,A.sourceCode&&(W.source=q.source)),q}finally{a.call(this,e,t,o)}}function i(e,t,n){var r=o.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function a(e,t,n){var r=o.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function o(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function s(e,t){return"var pattern"+e+" = new RegExp("+p.toQuotedString(t[e])+");"}function l(e){return"var default"+e+" = defaults["+e+"];"}function u(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function c(e){return"var customRule"+e+" = customRules["+e+"];"}function f(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var d=n(101),p=n(49),h=n(100),m=n(156),g=n(147),y=p.ucs2length,v=n(103),b=h.Validation;e.exports=r},function(e,t,n){"use strict";var r=n(253),i=n(49).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],n=["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],a=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(a),e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var a=Object.keys(n)[0];i=n[a],n=a,i.forEach(function(n){t.push(n),e.all[n]=!0})}t.push(n);var o=e.all[n]={keyword:n,code:r[n],implements:i};return o}),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)}),e.keywords=i(t.concat(n)),e.custom={},e}},function(e,t){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}},function(e,t){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,a=t[r].split("/"),o=e;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<n.length;i++){var s=n[i],l=o[s];l&&(o[s]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,f=l.baseId,d=!0,p=i;if(p)for(var h,m=-1,g=p.length-1;m<g;)h=p[m+=1],e.util.schemaHasRules(h,e.RULES.all)&&(d=!1,l.schema=h,l.schemaPath=a+"["+m+"]",l.errSchemaPath=o+"/"+m,r+="  "+e.validate(l)+" ",l.baseId=f,s&&(r+=" if ("+c+") { ",u+="}"));return s&&(r+=d?" if (true) { ":" "+u.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g=o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)});if(g){var y=p.baseId;r+=" var "+d+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=o;if(b)for(var _,x=-1,w=b.length-1;x<w;)_=b[x+=1],p.schema=_,p.schemaPath=s+"["+x+"]",p.errSchemaPath=l+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=v,r+=" "+h+" if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=(!e.opts.allErrors,e.util.toQuotedString(i));return e.opts.$comment===!0?r+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,p||(i+=" var schema"+a+" = validate.schema"+l+";"),i+="var "+d+" = equal("+f+", schema"+a+"); if (!"+d+") {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId,_=e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+f+";",_){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+m+" = false; for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var w=c+"["+g+"]";p.dataPathArr[y]=g;var O=e.validate(p);p.baseId=b,r+=e.util.varOccurences(O,v)<2?" "+e.util.varReplace(O,v,w)+" ":" var "+v+" = "+w+"; "+O+" ",r+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=x,r+=" "+h+" if (!"+m+") {"}else r+=" if ("+c+".length == 0) {";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;return r=S.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,h="errs__"+o,m=e.opts.$data&&l&&l.$data;m?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=l;var g,y,v,b,_,x=this,w="definition"+o,O=x.definition,S="";if(m&&O.$data){_="keywordValidate"+o;var k=O.validateSchema;a+=" var "+w+" = RULES.custom['"+t+"'].definition; var "+_+" = "+w+".validate;"}else{if(b=e.useCustomRule(x,l,e.schema,e),!b)return;i="validate.schema"+u,_=b.code,g=O.compile,y=O.inline,v=O.macro}var P=_+".errors",E="i"+o,M="ruleErr"+o,T=O.async;if(T&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(a+=""+P+" = null;"),a+="var "+h+" = errors;var "+p+";",m&&O.$data&&(S+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",k&&(S+="}",a+=" "+p+" = "+w+".validateSchema("+i+"); if ("+p+") { ")),y)a+=O.statements?" "+b.validate+" ":" "+p+" = "+b.validate+"; ";else if(v){var C=e.util.copy(e),S="";C.level++;var A="valid"+C.level;C.schema=b.validate,C.schemaPath="";var D=e.compositeRule;e.compositeRule=C.compositeRule=!0;var j=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=D,a+=" "+j}else{var R=R||[];R.push(a),a="",a+="  "+_+".call( ",a+=e.opts.passContext?"this":"self",a+=g||O.schema===!1?" , "+d+" ":" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var N=s?"data"+(s-1||""):"parentData",I=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+N+" , "+I+" , rootData )  ";var z=a;a=R.pop(),O.errors===!1?(a+=" "+p+" = ",T&&(a+="await "),a+=""+z+"; "):T?(P="customErrors"+o,a+=" var "+P+" = null; try { "+p+" = await "+z+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+P+" = e.errors; else throw e; } "):a+=" "+P+" = null; "+p+" = "+z+"; "}if(O.modifying&&(a+=" if ("+N+") "+d+" = "+N+"["+I+"];"),a+=""+S,O.valid)f&&(a+=" if (true) { ");else{a+=" if ( ",void 0===O.valid?(a+=" !",a+=v?""+A:""+p):a+=" "+!O.valid+" ",a+=") { ",r=x.keyword;var R=R||[];R.push(a),a="";var R=R||[];R.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var F=a;a=R.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var $=a;a=R.pop(),y?O.errors?"full"!=O.errors&&(a+="  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+M+" = vErrors["+E+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+M+".schema = "+i+"; "+M+".data = "+d+"; "),a+=" } "):O.errors===!1?a+=" "+$+" ":(a+=" if ("+h+" == errors) { "+$+" } else {  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+M+" = vErrors["+E+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+M+".schemaPath === undefined) { "+M+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+M+".schema = "+i+"; "+M+".data = "+d+"; "),a+=" } } "):v?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",
a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):O.errors===!1?a+=" "+$+" ":(a+=" if (Array.isArray("+P+")) { if (vErrors === null) vErrors = "+P+"; else vErrors = vErrors.concat("+P+"); errors = vErrors.length;  for (var "+E+"="+h+"; "+E+"<errors; "+E+"++) { var "+M+" = vErrors["+E+"]; if ("+M+".dataPath === undefined) "+M+".dataPath = (dataPath || '') + "+e.errorPath+";  "+M+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+M+".schema = "+i+"; "+M+".data = "+d+"; "),a+=" } } else { "+$+" } "),a+=" } ",f&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m={},g={},y=e.opts.ownProperties;for(x in o){var v=o[x],b=Array.isArray(v)?g:m;b[x]=v}r+="var "+f+" = errors;";var _=e.errorPath;r+="var missing"+i+";";for(var x in g)if(b=g[x],b.length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),u){r+=" && ( ";var w=b;if(w)for(var O,S=-1,k=w.length-1;S<k;){O=w[S+=1],S&&(r+=" || ");var P=e.util.getProperty(O),E=c+P;r+=" ( ( "+E+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:P)+") ) "}r+=")) {  ";var M="missing"+i,T="' + "+M+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,M,!0):_+" + "+M);var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=C.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var D=b;if(D)for(var O,j=-1,R=D.length-1;j<R;){O=D[j+=1];var P=e.util.getProperty(O),T=e.util.escapeQuotes(O),E=c+P;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,O,e.opts.jsonPointers)),r+=" if ( "+E+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(O)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+T+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",u&&(p+="}",r+=" else { ")}e.errorPath=_;var N=d.baseId;for(var x in m){var v=m[x];e.util.schemaHasRules(v,e.RULES.all)&&(r+=" "+h+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(x),d.errSchemaPath=l+"/"+e.util.escapeFragment(x),r+="  "+e.validate(d)+" ",d.baseId=N,r+=" }  ",u&&(r+=" if ("+h+") { ",p+="}"))}return u&&(r+="   "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="i"+a,m="schema"+a;p||(i+=" var "+m+" = validate.schema"+l+";"),i+="var "+d+";",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=""+d+" = false;for (var "+h+"=0; "+h+"<"+m+".length; "+h+"++) if (equal("+f+", "+m+"["+h+"])) { "+d+" = true; break; }",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+a+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=g.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||"");if(e.opts.format===!1)return u&&(r+=" if (true) { "),r;var f,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){var m="format"+i,g="isObject"+i,y="formatType"+i;r+=" var "+m+" = formats["+f+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+y+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+f+" && !"+m+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+y+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",r+=e.async?" (async"+i+" ? await "+m+"("+c+") : "+m+"("+c+")) ":" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m=e.formats[o];if(!m){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(r+=" if (true) { "),r;if(h&&p.indexOf(o)>=0)return u&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,y=g&&m.type||"string";if(g){var v=m.async===!0;m=m.validate}if(y!=n)return u&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+b+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",r+=d?""+f:""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=" , message: 'should match format \"",r+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,m=e.schema.then,g=e.schema.else,y=void 0!==m&&e.util.schemaHasRules(m,e.RULES.all),v=void 0!==g&&e.util.schemaHasRules(g,e.RULES.all),b=p.baseId;if(y||v){var _;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+=" var "+d+" = errors; var "+f+" = true;  ";var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=x,y?(r+=" if ("+h+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+f+" = "+h+"; ",y&&v?(_="ifClause"+i,r+=" var "+_+" = 'then'; "):_="'then'",r+=" } ",v&&(r+=" else { ")):r+=" if (!"+h+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+f+" = "+h+"; ",y&&v?(_="ifClause"+i,r+=" var "+_+" = 'else'; "):_="'else'",r+=" } "),r+=" if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+_+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" }   ",u&&(r+=" else { "),r=e.util.cleanUpCode(r)}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports={$ref:n(261),allOf:n(243),anyOf:n(244),$comment:n(245),const:n(246),contains:n(247),dependencies:n(249),enum:n(250),format:n(251),if:n(252),items:n(254),maximum:n(143),minimum:n(143),maxItems:n(144),minItems:n(144),maxLength:n(145),minLength:n(145),maxProperties:n(146),minProperties:n(146),multipleOf:n(255),not:n(256),oneOf:n(257),pattern:n(258),properties:n(259),propertyNames:n(260),required:n(262),uniqueItems:n(263),validate:n(147)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId;if(r+="var "+d+" = errors;var "+f+";",Array.isArray(o)){var _=e.schema.additionalItems;if(_===!1){r+=" "+f+" = "+c+".length <= "+o.length+"; ";var x=l;l=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var w=w||[];w.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var O=r;r=w.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+O+"]); ":" validate.errors = ["+O+"]; return false; ":" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l=x,u&&(h+="}",r+=" else { ")}var S=o;if(S)for(var k,P=-1,E=S.length-1;P<E;)if(k=S[P+=1],e.util.schemaHasRules(k,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+P+") { ";var M=c+"["+P+"]";p.schema=k,p.schemaPath=s+"["+P+"]",p.errSchemaPath=l+"/"+P,p.errorPath=e.util.getPathExpr(e.errorPath,P,e.opts.jsonPointers,!0),p.dataPathArr[y]=P;var T=e.validate(p);p.baseId=b,r+=e.util.varOccurences(T,v)<2?" "+e.util.varReplace(T,v,M)+" ":" var "+v+" = "+M+"; "+T+" ",r+=" }  ",u&&(r+=" if ("+m+") { ",h+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var M=c+"["+g+"]";p.dataPathArr[y]=g;var T=e.validate(p);p.baseId=b,r+=e.util.varOccurences(T,v)<2?" "+e.util.varReplace(T,v,M)+" ":" var "+v+" = "+M+"; "+T+" ",u&&(r+=" if (!"+m+") break; "),r+=" } }  ",u&&(r+=" if ("+m+") { ",h+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=l,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var M=c+"["+g+"]";p.dataPathArr[y]=g;var T=e.validate(p);p.baseId=b,r+=e.util.varOccurences(T,v)<2?" "+e.util.varReplace(T,v,M)+" ":" var "+v+" = "+M+"; "+T+" ",u&&(r+=" if (!"+m+") break; "),r+=" }"}return u&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,i+="var division"+a+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+r+", ",i+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+r+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:""+r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l,r+=" var "+f+" = errors;  ";var h=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var m;d.opts.allErrors&&(m=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,m&&(d.opts.allErrors=m),e.compositeRule=d.compositeRule=h,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;r=g.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(r+=" if (false) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g=p.baseId,y="prevValid"+i,v="passingSchemas"+i;r+="var "+d+" = errors , "+y+" = false , "+f+" = false , "+v+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=o;if(_)for(var x,w=-1,O=_.length-1;w<O;)x=_[w+=1],e.util.schemaHasRules(x,e.RULES.all)?(p.schema=x,p.schemaPath=s+"["+w+"]",p.errSchemaPath=l+"/"+w,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",w&&(r+=" if ("+m+" && "+y+") { "+f+" = false; "+v+" = ["+v+", "+w+"]; } else { ",h+="}"),r+=" if ("+m+") { "+f+" = "+y+" = true; "+v+" = "+w+"; }";return e.compositeRule=p.compositeRule=b,r+=""+h+"if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p=d?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+p+".test("+f+") ) {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",e.opts.messages!==!1&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+l:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m="key"+i,g="idx"+i,y=d.dataLevel=e.dataLevel+1,v="data"+y,b="dataProperties"+i,_=Object.keys(o||{}),x=e.schema.patternProperties||{},w=Object.keys(x),O=e.schema.additionalProperties,S=_.length||w.length,k=O===!1,P="object"==typeof O&&Object.keys(O).length,E=e.opts.removeAdditional,M=k||P||E,T=e.opts.ownProperties,C=e.baseId,A=e.schema.required;if(A&&(!e.opts.v5||!A.$data)&&A.length<e.opts.loopRequired)var D=e.util.toHash(A);if(r+="var "+f+" = errors;var "+h+" = true;",T&&(r+=" var "+b+" = undefined;"),M){if(r+=T?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",S){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>5)r+=" || validate.schema"+s+"["+m+"] ";else{var j=_;if(j)for(var R,N=-1,I=j.length-1;N<I;)R=j[N+=1],r+=" || "+m+" == "+e.util.toQuotedString(R)+" "}if(w.length){var z=w;if(z)for(var F,$=-1,L=z.length-1;$<L;)F=z[$+=1],r+=" || "+e.usePattern(F)+".test("+m+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==E)r+=" delete "+c+"["+m+"]; ";else{var U=e.errorPath,B="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),k)if(E)r+=" delete "+c+"["+m+"]; ";else{r+=" "+h+" = false; ";var q=l;l=e.errSchemaPath+"/additionalProperties";var W=W||[];W.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+B+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var V=r;r=W.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=q,u&&(r+=" break; ")}else if(P)if("failing"==E){r+=" var "+f+" = errors;  ";var H=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=O,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";d.dataPathArr[y]=m;var Y=e.validate(d);d.baseId=C,r+=e.util.varOccurences(Y,v)<2?" "+e.util.varReplace(Y,v,G)+" ":" var "+v+" = "+G+"; "+Y+" ",r+=" if (!"+h+") { errors = "+f+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+m+"]; }  ",e.compositeRule=d.compositeRule=H}else{d.schema=O,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";d.dataPathArr[y]=m;var Y=e.validate(d);d.baseId=C,r+=e.util.varOccurences(Y,v)<2?" "+e.util.varReplace(Y,v,G)+" ":" var "+v+" = "+G+"; "+Y+" ",u&&(r+=" if (!"+h+") break; ")}e.errorPath=U}S&&(r+=" } "),r+=" }  ",u&&(r+=" if ("+h+") { ",p+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(_.length){var K=_;if(K)for(var R,Q=-1,J=K.length-1;Q<J;){R=K[Q+=1];var Z=o[R];if(e.util.schemaHasRules(Z,e.RULES.all)){var ee=e.util.getProperty(R),G=c+ee,te=X&&void 0!==Z.default;d.schema=Z,d.schemaPath=s+ee,d.errSchemaPath=l+"/"+e.util.escapeFragment(R),d.errorPath=e.util.getPath(e.errorPath,R,e.opts.jsonPointers),d.dataPathArr[y]=e.util.toQuotedString(R);var Y=e.validate(d);if(d.baseId=C,e.util.varOccurences(Y,v)<2){Y=e.util.varReplace(Y,v,G);var ne=G}else{var ne=v;r+=" var "+v+" = "+G+"; "}if(te)r+=" "+Y+" ";else{if(D&&D[R]){r+=" if ( "+ne+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+h+" = false; ";var U=e.errorPath,q=l,re=e.util.escapeQuotes(R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(U,R,e.opts.jsonPointers)),l=e.errSchemaPath+"/required";var W=W||[];W.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+re+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var V=r;r=W.pop(),r+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+V+"]); ":" validate.errors = ["+V+"]; return false; ":" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=q,e.errorPath=U,r+=" } else { "}else u?(r+=" if ( "+ne+" === undefined ",T&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(R)+"') "),r+=") { "+h+" = true; } else { "):(r+=" if ("+ne+" !== undefined ",T&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(R)+"') "),r+=" ) { ");r+=" "+Y+" } "}}u&&(r+=" if ("+h+") { ",p+="}")}}if(w.length){var ie=w;if(ie)for(var F,ae=-1,oe=ie.length-1;ae<oe;){F=ie[ae+=1];var Z=x[F];if(e.util.schemaHasRules(Z,e.RULES.all)){d.schema=Z,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(F),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(F),r+=T?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+m+" = "+b+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" if ("+e.usePattern(F)+".test("+m+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var G=c+"["+m+"]";d.dataPathArr[y]=m;var Y=e.validate(d);d.baseId=C,r+=e.util.varOccurences(Y,v)<2?" "+e.util.varReplace(Y,v,G)+" ":" var "+v+" = "+G+"; "+Y+" ",u&&(r+=" if (!"+h+") break; "),r+=" } ",u&&(r+=" else "+h+" = true; "),r+=" }  ",u&&(r+=" if ("+h+") { ",p+="}")}}}return u&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=l;var m="key"+i,g="idx"+i,y="i"+i,v="' + "+m+" + '",b=d.dataLevel=e.dataLevel+1,_="data"+b,x="dataProperties"+i,w=e.opts.ownProperties,O=e.baseId;r+=" var "+f+" = errors; ",w&&(r+=" var "+x+" = undefined; "),r+=w?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+m+" = "+x+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var S=m,k=e.compositeRule;e.compositeRule=d.compositeRule=!0;var P=e.validate(d);d.baseId=O,r+=e.util.varOccurences(P,_)<2?" "+e.util.varReplace(P,_,S)+" ":" var "+_+" = "+S+"; "+P+" ",e.compositeRule=d.compositeRule=k,r+=" if (!"+h+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+m+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),u&&(r+=" break; "),r+=" } }"}return u&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),d="valid"+o;if("#"==l||"#/"==l)e.isRoot?(r=e.async,i="validate"):(r=e.root.schema.$async===!0,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(h);var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=m.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,h);e.logger.warn(h),c&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var v="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=l;var b=e.validate(y).replace(/validate\.schema/g,p.code);a+=" "+b+" ",c&&(a+=" if ("+v+") { ")}else r=p.$async===!0||e.async&&p.$async!==!1,i=p.code}if(i){var m=m||[];m.push(a),a="",a+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var _=s?"data"+(s-1||""):"parentData",x=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+_+" , "+x+", rootData)  ";var w=a;if(a=m.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(a+=" var "+d+"; "),a+=" try { await "+w+"; ",c&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+d+" = false; "),a+=" } ",c&&(a+=" if ("+d+") { ")}else a+=" if (!"+w+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="schema"+a;if(!p)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],g=s;if(g)for(var y,v=-1,b=g.length-1;v<b;){y=g[v+=1];var _=e.schema.properties[y];_&&e.util.schemaHasRules(_,e.RULES.all)||(m[m.length]=y)}}else var m=s;if(p||m.length){var x=e.errorPath,w=p||m.length>=e.opts.loopRequired,O=e.opts.ownProperties;if(c)if(i+=" var missing"+a+"; ",w){p||(i+=" var "+h+" = validate.schema"+l+"; ");var S="i"+a,k="schema"+a+"["+S+"]",P="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),i+=" var "+d+" = true; ",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=" for (var "+S+" = 0; "+S+" < "+h+".length; "+S+"++) { "+d+" = "+f+"["+h+"["+S+"]] !== undefined ",O&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+h+"["+S+"]) "),i+="; if (!"+d+") break; } ",p&&(i+="  }  "),i+="  if (!"+d+") {   ";var E=E||[];E.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+P+"' } ",
e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var M=i;i=E.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var T=m;if(T)for(var C,S=-1,A=T.length-1;S<A;){C=T[S+=1],S&&(i+=" || ");var D=e.util.getProperty(C),j=f+D;i+=" ( ( "+j+" === undefined ",O&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:D)+") ) "}i+=") {  ";var k="missing"+a,P="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,k,!0):x+" + "+k);var E=E||[];E.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var M=i;i=E.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(w){p||(i+=" var "+h+" = validate.schema"+l+"; ");var S="i"+a,k="schema"+a+"["+S+"]",P="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),p&&(i+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),i+=" for (var "+S+" = 0; "+S+" < "+h+".length; "+S+"++) { if ("+f+"["+h+"["+S+"]] === undefined ",O&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+h+"["+S+"]) "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(i+="  }  ")}else{var R=m;if(R)for(var C,N=-1,I=R.length-1;N<I;){C=R[N+=1];var D=e.util.getProperty(C),P=e.util.escapeQuotes(C),j=f+D;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,C,e.opts.jsonPointers)),i+=" if ( "+j+" === undefined ",O&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+P+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+P+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else c&&(i+=" if (true) {");return i}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&e.opts.uniqueItems!==!1){p&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type;i+=h&&"object"!=h&&"array"!=h?" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; if (typeof item != '"+h+"') continue; if (itemIndices[item] !== undefined) { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ":" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ",i+=" } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var m=m||[];m.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+l:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=m.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){for(var r,a=0;a<i.length;a++){var o=i[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},i.push(r));var l={keyword:e,definition:n,custom:!0,code:s,implements:n.implements};r.rules.push(l),i.custom[e]=l}function r(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!o.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=t.type;if(Array.isArray(a)){var l,u=a.length;for(l=0;l<u;l++)r(a[l]);for(l=0;l<u;l++)n(e,a[l],t)}else a&&r(a),n(e,a,t);var c=t.$data===!0&&this._opts.$data;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var f=t.metaSchema;f&&(c&&(f={anyOf:[f,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(f,!0))}return i.keywords[e]=i.all[e]=!0,this}function i(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function a(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this}var o=/^[a-z_$][a-z0-9_$-]*$/i,s=n(248);e.exports={add:r,get:i,remove:a}},function(e,t){(function(t){"use strict";function n(e){s.length||(o(),l=!0),s[s.length]=e}function r(){for(;u<s.length;){var e=u;if(u+=1,s[e].call(),u>c){for(var t=0,n=s.length-u;t<n;t++)s[t]=s[t+u];s.length-=u,u=0}}s.length=0,u=0,l=!1}function i(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function a(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,s=[],l=!1,u=0,c=1024,f="undefined"!=typeof t?t:self,d=f.MutationObserver||f.WebKitMutationObserver;o="function"==typeof d?i(r):a(r),n.requestFlush=o,n.makeRequestCallFromTimer=a}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(299);var c=n(294),f=n(295),d=i(f),p=n(9),h=i(p),m=n(32),g=n(76),y=n(118),v=i(y),b=n(39),_=r(b),x=n(50),w=n(271),O=i(w),S=n(274),k=i(S),P=n(281),E=i(P),M=l(O.default,{}),T=l(k.default,{}),C=l(E.default,{}),A=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(n.spec){console.info("[Vega-Editor] Received Message",t.origin,n);var r=JSON.parse(n.spec);n.spec=JSON.stringify(r,null,2),(n.spec||n.file)&&t.source.postMessage(!0,"*"),n.spec&&("VEGA"===n.mode.toUpperCase()?e.props.updateVegaSpec(n.spec):"VEGA-LITE"===n.mode.toUpperCase()&&e.props.updateVegaLiteSpec(n.spec))}},!1);var t=this.props.params;this.setSpecInUrl(t)}},{key:"componentWillReceiveProps",value:function(e){(0,d.default)(this.props.params,e.params)||this.setSpecInUrl(e.params)}},{key:"setSpecInUrl",value:function(e){e&&e.mode&&g.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&(e.example_name?this.setExample(e):e.username&&e.id?this.setGist(e):this.props.setMode(e.mode))}},{key:"setGist",value:function(e){var t=this,n="https://hook.io/tianyiii/vegaeditor",r=e.mode,i=n+"/"+r+"/"+e.username+"/"+e.id;fetch(i,{method:"get",mode:"cors"}).then(function(e){return 200===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))}).then(function(e){return e.json()}).then(function(e){"Not Found"!==e.message?"vega"===r?t.props.setGistVegaSpec(i,JSON.stringify(e,null,2)):"vega-lite"===r&&t.props.setGistVegaLiteSpec(i,JSON.stringify(e,null,2)):console.warn("invalid url")}).catch(function(e){console.error(e)})}},{key:"setExample",value:function(e){var t=this,n=e.example_name;"vega"===e.mode?(0,c.text)("./spec/vega/"+n+".vg.json",function(e){t.props.setVegaExample(n,e)}):"vega-lite"===e.mode&&(0,c.text)("./spec/vega-lite/"+n+".vl.json",function(e){t.props.setVegaLiteExample(n,e)})}},{key:"setEmptySpec",value:function(e){e.mode===x.MODES.Vega?this.props.updateVegaSpec("{}"):e.mode===x.MODES.VegaLite&&this.props.updateVegaLiteSpec("{}")}},{key:"render",value:function(){var e=window.innerWidth;return l("div",{className:"app-container"},void 0,M,l("div",{style:{position:"relative",height:"calc(100vh - "+x.LAYOUT.HeaderHeight+"px)"}},void 0,l(v.default,{split:"vertical",minSize:300,defaultSize:.4*e,pane1Style:{display:"flex"},className:"main-pane",pane2Style:{overflow:"scroll"}},void 0,T,C)))}}]),t}(h.default.Component),D=function(e){return{setMode:function(t){e(_.setMode(t))},updateVegaSpec:function(t){e(_.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(_.updateVegaLiteSpec(t))},setVegaExample:function(t,n){e(_.setVegaExample(t,n))},setVegaLiteExample:function(t,n){e(_.setVegaLiteExample(t,n))},setGistVegaSpec:function(t,n){e(_.setGistVegaSpec(t,n))},setGistVegaLiteSpec:function(t,n){e(_.setGistVegaLiteSpec(t,n))}}};t.default=(0,m.connect)(null,D)(A)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.error}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),s=n(268),l=i(s),u=n(39),c=r(u),f=function(e){return{logError:function(t){e(c.logError(t))},showErrorPane:function(){e(c.showErrorPane())}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(300);var u=n(9),c=r(u),f=n(10),d=(r(f),function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentDidCatch",value:function(e,t){this.props.logError(e.toString())}},{key:"render",value:function(){var e=this;return this.props.error?s("div",{id:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},void 0,this.props.error):this.props.children}}]),t}(c.default.Component));t.default=d},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.error,warningsLogger:e.warningsLogger,errorPane:e.errorPane}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),s=n(270),l=i(s),u=n(39),c=r(u),f=function(e){return{showErrorPane:function(){e(c.showErrorPane())}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=[];return e.error&&t.push(a("li",{},0,s,e.error)),e.warningsLogger.warns.forEach(function(e,n){t.push(a("li",{},n+1,l,e))}),0===t.length&&t.push(u),a("div",{className:"error-pane"},void 0,a("span",{onClick:function(t){return e.showErrorPane()},className:"close"},void 0,"✖"),a("ul",{},void 0,t))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),o=n(9);r(o);n(301);var s=a("span",{className:"error"},void 0,"[Error] "),l=a("span",{className:"warning"},void 0,"[Warning] "),u=a("li",{},"no error",a("span",{className:"info"},void 0,"[Info] "),"No error or warnings");t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(32),a=n(272),o=r(a),s=function(e,t){return{mode:e.mode}};t.default=(0,i.connect)(s,null)(o.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),c=r(u),f=n(386),d=r(f),p=n(50);n(302);var h=n(76),m=function(e){return e.split(/[_\-]/).map(function(e){return e[0].toUpperCase()+e.substring(1)}).join(" ")},g=s("header",{},void 0,"Enter Gist URL: "),y=s("div",{className:"gist-text"},void 0,"For example"),v=s("div",{className:"gist-url"},void 0,"https://gist.github.com/mathisonian/542616c4af5606784e97e59e3c65b7e5"),b=s("a",{className:"idl-logo",href:"https://idl.cs.washington.edu/",target:"_blank"},void 0,s("img",{height:37,alt:"IDL Logo",src:"https://vega.github.io/images/idl-logo.png"})),_=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showVega:e.mode===p.MODES.Vega,url:""},n.onSelectVega=n.onSelectVega.bind(n),n}return o(t,e),l(t,[{key:"handleChange",value:function(e){this.setState({url:e.target.value})}},{key:"onSelectVega",value:function(e){this.setState({exampleIsOpened:!1}),h.hashHistory.push("/examples/vega/"+e)}},{key:"onSelectNewVega",value:function(){h.hashHistory.push("/custom/vega")}},{key:"onSelectVegaLite",value:function(e){this.setState({exampleIsOpened:!1}),h.hashHistory.push("/examples/vega-lite/"+e)}},{key:"onSelectNewVegaLite",value:function(){h.hashHistory.push("/custom/vega-lite")}},{key:"onSelectVegaGist",value:function(e){this.setState({gistIsOpened:!1,url:""});var t=this.getGistNameAndId(e)[0],n=this.getGistNameAndId(e)[1];h.hashHistory.push("/gist/vega/"+t+"/"+n)}},{key:"onSelectVegaLiteGist",value:function(e){this.setState({gistIsOpened:!1,url:""});var t=this.getGistNameAndId(e)[0],n=this.getGistNameAndId(e)[1];h.hashHistory.push("/gist/vega-lite/"+t+"/"+n)}},{key:"getGistNameAndId",value:function(e){var t=e.substring(e.indexOf(".com/")+"./com".length),n=t.split("/");return n.length<2?void console.warn("invalid url"):n}},{key:"render",value:function(){var e=this,t=s("div",{className:"button",onClick:function(t){e.setState({exampleIsOpened:!0})}},void 0,"Examples"),n=s("div",{className:"button",onClick:function(t){e.setState({gistIsOpened:!0})}},void 0,"Gist"),r=s("a",{className:"button right",href:this.props.mode===p.MODES.Vega?"https://vega.github.io/vega/docs/":"https://vega.github.io/vega-lite/docs/",target:"_blank"},void 0,this.props.mode===p.MODES.Vega?"Vega":"Vega-Lite"," Docs"),i=s("div",{onMouseOver:function(t){var n=t.target.getBoundingClientRect();e.setState({customIsOpened:!0,left:n.left})}},void 0,"New"),a=s("div",{className:"vega"},void 0,Object.keys(p.SPECS.Vega).map(function(t,n){var r=p.SPECS.Vega[t];return s("div",{className:"itemGroup"},n,s("div",{className:"specType"},void 0,t),s("div",{className:"items"},void 0,r.map(function(t,n){return s("div",{onClick:function(){return e.onSelectVega(t.name)},className:"item"},n,s("div",{style:{backgroundImage:"url(images/examples/vg/"+t.name+".vg.png)"},className:"img"}),s("div",{className:"name"},void 0,m(t.name)))})))})),o=s("div",{className:"vega-Lite"},void 0,Object.keys(p.SPECS.VegaLite).map(function(t,n){var r=p.SPECS.VegaLite[t];return s("div",{className:"itemGroup"},n,s("div",{className:"specType"},void 0,t),s("div",{className:"items"},void 0,r.map(function(t,n){return s("div",{onClick:function(){return e.onSelectVegaLite(t.name)},className:"item"},n,s("div",{style:{backgroundImage:"url(images/examples/vl/"+t.name+".vl.png)"},className:"img"}),s("div",{className:"name"},void 0,t.title))})))})),l=s("div",{},void 0,g,s("div",{className:"gist-content"},void 0,y,v,s("input",{className:"gist-input",type:"text",placeholder:"enter gist url here",value:this.state.url,onChange:this.handleChange.bind(this)}),s("button",{className:"gist-button",onClick:this.onSelectVegaGist.bind(this,this.state.url)},void 0,"Vega"),s("button",{className:"gist-button",onClick:this.onSelectVegaLiteGist.bind(this,this.state.url)},void 0,"Vega-Lite")));return s("div",{className:"header"},void 0,b,t,n,r,i,s(d.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.customIsOpened,onClose:function(){e.setState({customIsOpened:!1})}},void 0,s("div",{className:"customSubmenuGroup",onMouseOver:function(){e.setState({customIsOpened:!0})},onMouseLeave:function(){e.setState({customIsOpened:!1})},onClick:function(){e.setState({customIsOpened:!1})},style:{left:this.state.left,width:this.state.width,position:"absolute",cursor:"pointer",zIndex:1e9,top:0}},void 0,s("div",{id:"emptyButton",style:{height:p.LAYOUT.HeaderHeight}}),s("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVega()}},void 0,"Vega"),s("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVegaLite()}},void 0,"Vega-Lite"))),s(d.default,{closeOnEsc:!0,isOpened:this.state.exampleIsOpened,onClose:function(){e.setState({exampleIsOpened:!1})}},void 0,s("div",{className:"modal-background"},void 0,s("div",{className:"modal-header"},void 0,s("div",{className:"button-groups"},void 0,s("button",{className:this.state.showVega?"selected":"",onClick:function(){e.setState({showVega:!0})}},void 0,"Vega"),s("button",{className:this.state.showVega?"":"selected",onClick:function(){e.setState({showVega:!1})}},void 0,"Vega-Lite")),s("button",{className:"close-button",onClick:function(){e.setState({exampleIsOpened:!1})}},void 0,"✖")),s("div",{className:"modal-area"},void 0,s("div",{className:"modal"},void 0,this.state.showVega?a:o)))),s(d.default,{closeOnEsc:!0,isOpened:this.state.gistIsOpened,onClose:function(){e.setState({gistIsOpened:!1})}},void 0,s("div",{className:"modal-background"},void 0,s("div",{className:"modal-header"},void 0,s("button",{className:"close-button",onClick:function(){e.setState({gistIsOpened:!1})}},void 0,"✖")),s("div",{className:"modal-area"},void 0,s("div",{className:"modal"},void 0,l)))))}}]),t}(c.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return{value:e.vegaSpec,compiledVegaSpec:e.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(9),d=i(f),p=n(168),h=i(p),m=n(32),g=n(39),y=r(g),v=n(148),b=i(v),_=n(234),x=u(b.default,{}),w=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){return u("div",{className:"sizeFixEditorParent full-height-wrapper"},void 0,x,u(h.default,{options:{readOnly:!0,folding:!0,scrollBeyondLastLine:!0,wordWrap:!0,automaticLayout:!0},language:"json",value:_.stringify(this.props.value,null,2,60)},JSON.stringify(this.state)))}}]),t}(d.default.Component),O=function(e){return{showCompiledVegaSpec:function(){e(y.showCompiledVegaSpec())}}};t.default=(0,m.connect)(l,O)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{mode:e.mode,compiledVegaSpec:e.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(303);var c=n(10),f=(r(c),n(9)),d=r(f),p=n(32),h=n(118),m=r(h),g=n(50),y=n(273),v=r(y),b=n(148),_=r(b),x=n(275),w=r(x),O=l(w.default,{},"editor"),S=l(v.default,{},"compiled"),k=l(_.default,{},"compiledSpecHeader"),P=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getInnerPanes",value:function(){var e=[O];return this.props.mode===g.MODES.VegaLite&&(this.props.compiledVegaSpec?e.push(S):e.push(k)),e}},{key:"render",value:function(){var e=this.getInnerPanes();return this.props.mode===g.MODES.VegaLite&&this.props.compiledVegaSpec?l(m.default,{split:"horizontal",defaultSize:(window.innerHeight-g.LAYOUT.HeaderHeight)/e.length,pane2Style:{display:"flex"}},void 0,e):l("div",{className:"full-height-wrapper"},void 0,e)}}]),t}(d.default.Component);t.default=(0,p.connect)(s)(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),o=n(39),s=i(o),l=n(276),u=r(l),c=function(e,t){return{value:e.editorString,mode:e.mode,selectedExample:e.selectedExample,gist:e.gist,autoParse:e.autoParse,parse:e.parse}},f=function(e){return{updateVegaSpec:function(t){e(s.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(s.updateVegaLiteSpec(t))},parseSpec:function(t){e(s.parseSpec(t))},updateEditorString:function(t){e(s.updateEditorString(t))}}};t.default=(0,a.connect)(c,f)(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n){var r=void 0;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}Object.defineProperty(t,"__esModule",{value:!0});var u,c=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(9),p=r(d),h=n(10),m=(r(h),n(50)),g=n(168),y=r(g),v=n(76),b=n(484),_=r(b);n(304);var x=n(164),w=n(165),O=(u={},s(u,m.MODES.Vega,{uri:"https://vega.github.io/schema/vega/v3.0.json",schema:x,fileMatch:["*"]}),s(u,m.MODES.VegaLite,{uri:"https://vega.github.io/schema/vega-lite/v2.json",schema:w,fileMatch:["*"]}),u),S=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={code:n.props.value},n}return o(t,e),f(t,[{key:"editorDidMount",value:function(e){e.focus()}},{key:"handleEditorChange",value:function(e){this.props.autoParse?this.updateSpec(e):this.props.updateEditorString(e),v.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&v.hashHistory.push("/edited")}},{key:"editorWillMount",value:function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,
allowComments:!0,schemas:[O[this.props.mode]]})}},{key:"componentWillReceiveProps",value:function(e){this.setState({code:e.value}),!e.autoParse&&e.parse&&(this.updateSpec(e.value),this.props.parseSpec(!1))}},{key:"manualParseSpec",value:function(){var e=this;if(!this.props.autoParse)return c("div",{className:"editor-header"},void 0,c("button",{id:"parse-button",onClick:function(){return e.props.parseSpec(!0)}},void 0,"Parse"))}},{key:"updateSpec",value:function(e){var t=this.props.mode;try{var n=JSON.parse(e).$schema;t=(0,_.default)(n).library}catch(r){console.warn("Error parsing JSON string",r)}switch(t){case m.MODES.Vega:this.props.updateVegaSpec(e);break;case m.MODES.VegaLite:this.props.updateVegaLiteSpec(e);break;default:console.error("Unknown mode:  "+t)}}},{key:"render",value:function(){var e=this.state.code;return c("div",{className:"full-height-wrapper"},void 0,this.manualParseSpec(),c(y.default,{language:"json",options:{folding:!0,scrollBeyondLastLine:!0,wordWrap:!0,wrappingIndent:"same",automaticLayout:!0,autoIndent:!0,cursorBlinking:"smooth",lineNumbersMinChars:4},value:e,onChange:l(this.handleEditorChange,700).bind(this),editorWillMount:this.editorWillMount.bind(this),editorDidMount:this.editorDidMount}))}}]),t}(p.default.Component);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{vegaSpec:e.vegaSpec,vegaLiteSpec:e.vegaLiteSpec,renderer:e.renderer,mode:e.mode,tooltip:e.tooltip}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),o=n(278),s=r(o);t.default=(0,a.connect)(i)(s.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(305),n(298);var c=n(10),f=(i(c),n(9)),d=i(f),p=n(102),h=r(p),m=n(486),g=r(m),y=n(50),v=l("div",{id:"vis-tooltip",className:"vg-tooltip"}),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"renderVega",value:function(e){this.refs.chart.style.width=this.refs.chart.getBoundingClientRect().width+"px";var t=void 0,n=void 0;t=h.parse(e.vegaSpec),n=new h.View(t).logLevel(h.Warn).initialize(this.refs.chart).renderer(e.renderer),e.mode===y.MODES.Vega&&n.hover(),n.run(),this.refs.chart.style.width="auto",this.props.tooltip&&(e.mode===y.MODES.VegaLite?g.vegaLite(n,e.vegaLiteSpec):g.vega(n)),window.VEGA_DEBUG.view=n}},{key:"componentDidMount",value:function(){this.renderVega(this.props)}},{key:"componentDidUpdate",value:function(){this.renderVega(this.props)}},{key:"render",value:function(){return l("div",{className:"chart"},void 0,d.default.createElement("div",{ref:"chart"}),this.props.tooltip?v:null)}}]),t}(d.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{renderer:e.renderer,error:e.error,mode:e.mode,autoParse:e.autoParse,warningsLogger:e.warningsLogger,tooltip:e.tooltip}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),s=n(280),l=i(s),u=n(39),c=r(u),f=function(e){return{toggleAutoParse:function(){e(c.toggleAutoParse())},cycleRenderer:function(){e(c.cycleRenderer())},showErrorPane:function(){e(c.showErrorPane())},showTooltip:function(){e(c.showTooltip())}}};t.default=(0,o.connect)(a,f)(l.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(9),f=i(c),d=n(10);i(d);n(306);var p=n(102),h=r(p),m=n(126),g=r(m),y=function(e){return"vega"===e?h.version:g.version},v=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"showErrorAndWarnings",value:function(){var e=this;return this.props.error?l("div",{className:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},void 0,"Error"):this.props.warningsLogger.warns.length>0?l("div",{className:"warning-indicator",onClick:function(t){return e.props.showErrorPane()}},void 0,"Warning"):void 0}},{key:"render",value:function(){return l("div",{className:"toolbar"},void 0,this.showErrorAndWarnings(),l("div",{className:"status"},void 0,this.props.mode+" version "+y(this.props.mode)),l("div",{className:"autoParse",onClick:this.props.toggleAutoParse},void 0,this.props.autoParse?"Parse: auto":"Parse: manual"),l("div",{className:"tooltip-toggle",onClick:this.props.showTooltip},void 0,this.props.tooltip?"Tooltips":"No Tooltips"),l("div",{className:"renderer-toggle",onClick:this.props.cycleRenderer},void 0,"Renderer: "+this.props.renderer))}}]),t}(f.default.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return{errorPane:e.errorPane}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),o=n(282),s=r(o);t.default=(0,a.connect)(i)(s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=v;return e.errorPane?a(u.default,{split:"horizontal",defaultSize:.6*window.innerHeight,paneStyle:{display:"flex"}},void 0,t,b):t}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}();n(307);var o=n(10),s=(r(o),n(9)),l=(r(s),n(118)),u=r(l),c=n(267),f=r(c),d=n(269),p=r(d),h=n(277),m=r(h),g=n(279),y=r(g),v=a("div",{className:"chart-container"},void 0,a(f.default,{},void 0,a(m.default,{})),a(y.default,{})),b=a(p.default,{});t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(360),i=n(359);t.Vega=r,t.VegaLite=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(){f.set({page:window.location.pathname+window.location.search}),f.pageview(window.location.pathname+window.location.search)}var o=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,i){var a=t&&t.defaultProps,o=arguments.length-3;if(n||0===o||(n={}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=i;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),s=n(9),l=(i(s),n(112)),u=i(l),c=n(383),f=r(c),d=n(32),p=n(76),h=n(102),m=r(h),g=n(126),y=r(g),v=n(266),b=i(v),_=n(286),x=i(_);window.VEGA_DEBUG=window.VEGA_DEBUG||{},window.VEGA_DEBUG.vega=m,window.VEGA_DEBUG.vl=y,window.VEGA_DEBUG.VEGA_VERSION=m.version,window.VEGA_DEBUG.VEGA_LITE_VERSION=y.version;var w=(0,x.default)(p.hashHistory);f.initialize("UA-44428446-7"),u.default.render(o(d.Provider,{store:w},void 0,o(p.Router,{history:p.hashHistory,onUpdate:a},void 0,o(p.Route,{path:"/",component:b.default}),o(p.Route,{path:"/edited",component:b.default}),o(p.Route,{path:"/gist/:mode/:username/:id",component:b.default}),o(p.Route,{path:"/examples/:mode/:example_name",component:b.default}),o(p.Route,{path:"/custom/:mode",component:b.default}))),document.getElementById("root")),console.log("%cWelcome to the Vega-Editor!","font-size: 16px; font-weight: bold;"),console.log("You can access the Vega view with VEGA_DEBUG. Learn more at https://vega.github.io/vega/docs/api/debugging/.")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new d.LocalLogger;try{var i=JSON.parse(t.spec);(0,f.validateVega)(i,r),n=o({},n,{vegaSpec:i})}catch(a){console.warn(a),n=o({},n,{error:a.message})}return o({},e,{selectedExample:null,gist:null,error:null,mode:c.MODES.Vega,editorString:t.spec,warningsLogger:r},n)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new d.LocalLogger;try{var i=JSON.parse(t.spec);(0,f.validateVegaLite)(i,r);var a="{}"!==t.spec?l.compile(i,{logger:r}).spec:{};n=o({},n,{vegaLiteSpec:i,vegaSpec:a})}catch(s){console.warn(s),n=o({},n,{error:s.message})}return o({},e,{selectedExample:null,gist:null,error:null,mode:c.MODES.VegaLite,editorString:t.spec,warningsLogger:r},n)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(126),l=r(s),u=n(39),c=n(50),f=n(287),d=n(151);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.DEFAULT_STATE,t=arguments[1];switch(t.type){case u.SET_MODE:return o({},e,{mode:t.mode,vegaSpec:{},vegaLiteSpec:{},selectedExample:null,editorString:"{}",compiledVegaSpec:!1,gist:null,parse:!1,warningsLogger:new d.LocalLogger,tooltip:!0});case u.PARSE_SPEC:return o({},e,{parse:t.parse});case u.SET_VEGA_EXAMPLE:return i(e,t,{selectedExample:t.example});case u.UPDATE_VEGA_SPEC:return i(e,t);case u.SET_GIST_VEGA_SPEC:return i(e,t,{gist:t.gist});case u.SET_VEGA_LITE_EXAMPLE:return a(e,t,{selectedExample:t.example});case u.UPDATE_VEGA_LITE_SPEC:return a(e,t);case u.SET_GIST_VEGA_LITE_SPEC:return a(e,t,{gist:t.gist});case u.TOGGLE_AUTO_PARSE:return o({},e,{autoParse:!e.autoParse,parse:!e.autoParse});case u.CYCLE_RENDERER:var n=Object.values(c.RENDERERS),r=n.indexOf(e.renderer),s=n[(r+1)%n.length];return o({},e,{renderer:s});case u.SHOW_COMPILED_VEGA_SPEC:return o({},e,{compiledVegaSpec:!e.compiledVegaSpec});case u.SHOW_ERROR_PANE:return o({},e,{errorPane:!e.errorPane});case u.LOG_ERROR:return o({},e,{error:t.error});case u.UPDATE_EDITOR_STRING:return o({},e,{editorString:t.editorString});case u.SHOW_TOOLTIP:return o({},e,{tooltip:!e.tooltip});default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.DEFAULT_STATE,n=(0,a.applyMiddleware)(l.default);n=(0,a.compose)(n,(0,a.applyMiddleware)((0,o.routerMiddleware)(e)));var r=(0,a.compose)(n,(0,p.default)()),i=(0,a.createStore)(c.default,t,r);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(185),o=n(397),s=n(426),l=r(s),u=n(285),c=r(u),f=n(150),d=n(423),p=r(d)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=c(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=c.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t.warn("Validation: "+l.dataPath+" "+l.message)}}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}function a(e,t){var n=u(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=u.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;t.warn("Validation: "+l.dataPath+" "+l.message)}}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateVegaLite=i,t.validateVega=a;var o=n(235),s=r(o),l=new s.default({jsonPointers:!0,allErrors:!1,schemaId:"id"});l.addMetaSchema(n(355));var u=l.compile(n(164)),c=l.compile(n(165))},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,a,o,s=e.length;a=n(e),o=new c(3*s/4-a),r=a>0?s-4:s;var l=0;for(t=0;t<r;t+=4)i=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],o[l++]=i>>16&255,o[l++]=i>>8&255,o[l++]=255&i;return 2===a?(i=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,o[l++]=255&i):1===a&&(i=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,o[l++]=i>>8&255,o[l++]=255&i),o}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function o(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",a=[],s=16383,u=0,c=n-r;u<c;u+=s)a.push(o(e,u,u+s>c?c:u+s));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var l=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)l[d]=f[d],u[f.charCodeAt(d)]=d;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t,n){!function(t,r,i){"undefined"!=typeof e&&e.exports?e.exports=i():n(540)(r,i)}(this,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}function r(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var i,a=t(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(e),l=!s&&/android/i.test(e),u=/nexus\s*[0-6]\s*/i.test(e),c=!u&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),h=/tizen/i.test(e),m=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),v=!a&&!d&&/macintosh/i.test(e),b=!l&&!p&&!h&&!m&&/linux/i.test(e),_=t(/edge\/(\d+(\.\d+)?)/i),x=t(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(e)&&!/tablet pc/i.test(e),O=!w&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:o,version:x||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?i={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:o,version:x||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:o,version:x||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:o,version:x||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:o},_?(i.msedge=o,i.version=_):(i.msie=o,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",osname:"Chrome OS",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:o,version:_}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||x}:p?i={name:"Sailfish",osname:"Sailfish OS",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=o,i.osname="Firefox OS")):d?i={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:o,version:x||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(i={name:"WebOS",osname:"WebOS",webos:o,version:x||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=o)):/bada/i.test(e)?i={name:"Bada",osname:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?i={name:"Tizen",osname:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?i={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:l?i={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:o},x&&(i.version=x)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},x&&(i.version=x)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||x}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=o):(i.name=i.name||"Webkit",i.webkit=o),!i.version&&x&&(i.version=x)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=o,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!l&&!i.silk?i.windowsphone||i.msedge||!a?v?(i.mac=o,i.osname="macOS"):S?(i.xbox=o,i.osname="Xbox"):y?(i.windows=o,i.osname="Windows"):b&&(i.linux=o,i.osname="Linux"):(i[a]=o,i.ios=o,i.osname="iOS"):(i.android=o,i.osname="Android");var k="";i.windows?k=r(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?k=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(k=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),k=k.replace(/[_\s]/g,".")):a?(k=t(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):l?k=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?k=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?k=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?k=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(k=t(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(i.osversion=k);var P=!i.windows&&k.split(".")[0];return w||c||"ipad"==a||l&&(3==P||P>=4&&!O)||i.silk?i.tablet=o:(O||"iphone"==a||"ipod"==a||l||u||i.blackberry||i.webos||i.bada)&&(i.mobile=o),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o,i}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var l in t)if(t.hasOwnProperty(l)&&a[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return r([o,t[l]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s})},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=v.hasOwnProperty(t)?v[t]:null;w.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function a(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;n.hasOwnProperty(u)&&b.mixins(e,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==u){var s=n[o],c=r.hasOwnProperty(o);if(i(c,o),b.hasOwnProperty(o))b[o](e,s);else{var f=v.hasOwnProperty(o),h="function"==typeof s,m=h&&!f&&!c&&n.autobind!==!1;if(m)a.push(o,s),r[o]=s;else if(c){var g=v[o];l(f&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,o),"DEFINE_MANY_MERGED"===g?r[o]=d(r[o],s):"DEFINE_MANY"===g&&(r[o]=p(r[o],s))}else r[o]=s}}}else;}function c(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;l(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;l(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function f(e,t){l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=h(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=s,this.updater=i||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;l("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=a});t.prototype=new O,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(a.bind(null,t)),a(t,_),a(t,e),a(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in v)t.prototype[i]||(t.prototype[i]=null);return t}var y=[],v={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},_={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},O=function(){};return o(O.prototype,e.prototype,w),g}var a,o=n(58),s=n(104),l=n(157),u="mixins";a={},e.exports=i},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){}function n(e,n){var r=new t;if(e instanceof t)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var i,a=-1,o=e.length;if(null==n)for(;++a<o;)r.set(a,e[a]);else for(;++a<o;)r.set(n(i=e[a],a,e),i)}else if(e)for(var s in e)r.set(s,e[s]);return r}function r(){return{}}function i(e,t,n){e[t]=n}function a(){return n()}function o(e,t,n){e.set(t,n)}function s(){}function l(e,t){var n=new s;if(e instanceof s)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}var u="$";t.prototype=n.prototype={constructor:t,has:function(e){return u+e in this},get:function(e){return this[u+e]},set:function(e,t){return this[u+e]=t,this},remove:function(e){var t=u+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===u&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===u&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===u&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===u&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===u&&++e;return e},empty:function(){for(var e in this)if(e[0]===u)return!1;return!0},each:function(e){for(var t in this)t[0]===u&&e(this[t],t.slice(1),this)}};var c=function(){function e(t,r,i,a){if(r>=c.length)return null!=s&&t.sort(s),null!=l?l(t):t;for(var o,u,f,d=-1,p=t.length,h=c[r++],m=n(),g=i();++d<p;)(f=m.get(o=h(u=t[d])+""))?f.push(u):m.set(o,[u]);return m.each(function(t,n){a(g,n,e(t,r,i,a))}),g}function t(e,n){if(++n>c.length)return e;var r,i=f[n-1];return null!=l&&n>=c.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=i?r.sort(function(e,t){return i(e.key,t.key)}):r}var s,l,u,c=[],f=[];return u={object:function(t){return e(t,0,r,i)},map:function(t){return e(t,0,a,o)},entries:function(n){return t(e(n,0,a,o),0)},key:function(e){return c.push(e),u},sortKeys:function(e){return f[c.length-1]=e,u},sortValues:function(e){return s=e,u},rollup:function(e){return l=e,u}}},f=n.prototype;s.prototype=l.prototype={constructor:s,has:f.has,add:function(e){return e+="",this[u+e]=e,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var d=function(e){var t=[];for(var n in e)t.push(n);return t},p=function(e){var t=[];for(var n in e)t.push(e[n]);return t},h=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.nest=c,e.set=l,e.map=n,e.keys=d,e.values=p,e.entries=h,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){for(var e,t=0,r=arguments.length,i={};t<r;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new n(i)}function n(e){this._=e}function r(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function i(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=o,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var o={value:function(){}};n.prototype=t.prototype={constructor:n,on:function(e,t){var n,o=this._,s=r(e+"",o),l=-1,u=s.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<u;)if(n=(e=s[l]).type)o[n]=a(o[n],e.name,t);else if(null==t)for(n in o)o[n]=a(o[n],e.name,null);return this}for(;++l<u;)if((n=(e=s[l]).type)&&(n=i(o[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new n(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i);
},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},e.dispatch=t,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function n(e,n){var r=t(e);return function(t,i){return n(r(t),i,e)}}function r(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var i={},a={},o=34,s=10,l=13,u=function(e){function u(e,r){var i,a,o=c(e,function(e,o){return i?i(e,o-1):(a=e,void(i=r?n(e,r):t(e)))});return o.columns=a,o}function c(e,t){function n(){if(p)return a;if(h)return h=!1,i;var t,n,r=f;if(e.charCodeAt(r)===o){for(;f++<c&&e.charCodeAt(f)!==o||e.charCodeAt(++f)===o;);return(t=f)>=c?p=!0:(n=e.charCodeAt(f++))===s?h=!0:n===l&&(h=!0,e.charCodeAt(f)===s&&++f),e.slice(r+1,t-1).replace(/""/g,'"')}for(;f<c;){if((n=e.charCodeAt(t=f++))===s)h=!0;else if(n===l)h=!0,e.charCodeAt(f)===s&&++f;else if(n!==g)continue;return e.slice(r,t)}return p=!0,e.slice(r,c)}var r,u=[],c=e.length,f=0,d=0,p=c<=0,h=!1;for(e.charCodeAt(c-1)===s&&--c,e.charCodeAt(c-1)===l&&--c;(r=n())!==a;){for(var m=[];r!==i&&r!==a;)m.push(r),r=n();t&&null==(m=t(m,d++))||u.push(m)}return u}function f(t,n){return null==n&&(n=r(t)),[n.map(h).join(e)].concat(t.map(function(t){return n.map(function(e){return h(t[e])}).join(e)})).join("\n")}function d(e){return e.map(p).join("\n")}function p(t){return t.map(h).join(e)}function h(e){return null==e?"":m.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}var m=new RegExp('["'+e+"\n\r]"),g=e.charCodeAt(0);return{parse:u,parseRows:c,format:f,formatRows:d}},c=u(","),f=c.parse,d=c.parseRows,p=c.format,h=c.formatRows,m=u("\t"),g=m.parse,y=m.parseRows,v=m.format,b=m.formatRows;e.dsvFormat=u,e.csvParse=f,e.csvParseRows=d,e.csvFormat=p,e.csvFormatRows=h,e.tsvParse=g,e.tsvParseRows=y,e.tsvFormat=v,e.tsvFormatRows=b,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(291),n(292),n(293))}(this,function(e,t,n,r){"use strict";function i(e){return function(t,n){e(null==t?n:null)}}function a(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){return function(n){return e(n.responseText,t)}}var s=function(e,r){function o(e){var t,n=p.status;if(!n&&a(p)||n>=200&&n<300||304===n){if(u)try{t=u.call(s,p)}catch(r){return void f.call("error",s,r)}else t=p;f.call("load",s,t)}else f.call("error",s,e)}var s,l,u,c,f=n.dispatch("beforesend","progress","load","error"),d=t.map(),p=new XMLHttpRequest,h=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=o:p.onreadystatechange=function(e){p.readyState>3&&o(e)},p.onprogress=function(e){f.call("progress",s,e)},s={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?d.get(e):(null==t?d.remove(e):d.set(e,t+""),s)},mimeType:function(e){return arguments.length?(l=null==e?null:e+"",s):l},responseType:function(e){return arguments.length?(c=e,s):c},timeout:function(e){return arguments.length?(g=+e,s):g},user:function(e){return arguments.length<1?h:(h=null==e?null:e+"",s)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",s)},response:function(e){return u=e,s},get:function(e,t){return s.send("GET",e,t)},post:function(e,t){return s.send("POST",e,t)},send:function(t,n,r){return p.open(t,e,!0,h,m),null==l||d.has("accept")||d.set("accept",l+",*/*"),p.setRequestHeader&&d.each(function(e,t){p.setRequestHeader(t,e)}),null!=l&&p.overrideMimeType&&p.overrideMimeType(l),null!=c&&(p.responseType=c),g>0&&(p.timeout=g),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&s.on("error",r).on("load",function(e){r(null,e)}),f.call("beforesend",s,p),p.send(null==n?null:n),s},abort:function(){return p.abort(),s},on:function(){var e=f.on.apply(f,arguments);return e===f?s:e}},null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return s.get(r)}return s},l=function(e,t){return function(n,r){var i=s(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},u=l("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),c=l("application/json",function(e){return JSON.parse(e.responseText)}),f=l("text/plain",function(e){return e.responseText}),d=l("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),p=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=s(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(o(t,r=e)):r},a.row(r),i?a.get(i):a}},h=p("text/csv",r.csvParse),m=p("text/tab-separated-values",r.tsvParse);e.request=s,e.html=u,e.json=c,e.text=f,e.xml=d,e.csv=h,e.tsv=m,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function a(e,t,n){var a,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(l(e))return!!l(t)&&(e=o.call(e),t=o.call(t),u(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var f=s(e),d=s(t)}catch(p){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),a=f.length-1;a>=0;a--)if(f[a]!=d[a])return!1;for(a=f.length-1;a>=0;a--)if(c=f[a],!u(e[c],t[c],n))return!1;return typeof e==typeof t}var o=Array.prototype.slice,s=n(297),l=n(296),u=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:a(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){},298,298,298,298,298,298,298,298,298,function(e,t,n){"use strict";var r=n(72),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(314);e.exports=r},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(313);e.exports=r},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,i=!1,a=!1,o=!1,s=void 0,l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i=!0,a?void(s=t):void n.apply(void 0,t)},u=function u(){if(!i&&(o=!0,!a)){for(a=!0;!i&&r<e&&o;)o=!1,t(r++,u,l);return a=!1,i?void n.apply(void 0,s):void(r>=e&&o&&(i=!0,n()))}};u()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var i=n(105);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return i.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return i.go}});var a=n(44),o=(r(a),n(51)),s=n(74),l=n(158),u=n(40),c="hashchange",f=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},d=function(e){return window.location.hash=e},p=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},h=t.getCurrentLocation=function(e,t){var n=e.decodePath(f()),r=(0,u.getQueryStringValueFromPath)(n,t),i=void 0;r&&(n=(0,u.stripQueryStringValueFromPath)(n,t),i=(0,l.readState)(r));var a=(0,u.parsePath)(n);return a.state=i,(0,o.createLocation)(a,void 0,r)},m=void 0,g=(t.startListener=function(e,t,n){var r=function(){var r=f(),i=t.encodePath(r);if(r!==i)p(i);else{var a=h(t,n);if(m&&a.key&&m.key===a.key)return;m=a,e(a)}},i=f(),a=t.encodePath(i);return i!==a&&p(a),(0,s.addEventListener)(window,c,r),function(){return(0,s.removeEventListener)(window,c,r)}},function(e,t,n,r){var i=e.state,a=e.key,o=t.encodePath((0,u.createPath)(e));void 0!==i&&(o=(0,u.addQueryStringValueToPath)(o,n,a),(0,l.saveState)(a,i)),m=e,r(o)});t.pushLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&d(e)})},t.replaceLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&p(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(105);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(51),a=n(40);t.getCurrentLocation=function(){return(0,i.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,a.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,a.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(20),s=i(o),l=n(106),u=n(105),c=r(u),f=n(318),d=r(f),p=n(74),h=n(107),m=i(h),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.canUseDOM?void 0:(0,s.default)(!1);var t=e.forceRefresh||!(0,p.supportsHistory)(),n=t?d:c,r=n.getUserConfirmation,i=n.getCurrentLocation,o=n.pushLocation,u=n.replaceLocation,f=n.go,h=(0,m.default)(a({getUserConfirmation:r},e,{getCurrentLocation:i,pushLocation:o,replaceLocation:u,go:f})),g=0,y=void 0,v=function(e,t){1===++g&&(y=c.startListener(h.transitionTo));var n=t?h.listenBefore(e):h.listen(e);return function(){n(),0===--g&&y()}},b=function(e){return v(e,!0)},_=function(e){return v(e,!1)};return a({},h,{listenBefore:b,listen:_})};t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(44),s=(i(o),n(20)),l=i(s),u=n(106),c=n(74),f=n(317),d=r(f),p=n(107),h=i(p),m="_k",g=function(e){return"/"===e.charAt(0)?e:"/"+e},y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:g},slash:{encodePath:g,decodePath:g}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM?void 0:(0,l.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t=m),null==n&&(n="slash"),n in y||(n="slash");var r=y[n],i=d.getUserConfirmation,o=function(){return d.getCurrentLocation(r,t)},s=function(e){return d.pushLocation(e,r,t)},f=function(e){return d.replaceLocation(e,r,t)},p=(0,h.default)(a({getUserConfirmation:i},e,{getCurrentLocation:o,pushLocation:s,replaceLocation:f,go:d.go})),g=0,v=void 0,b=function(e,n){1===++g&&(v=d.startListener(p.transitionTo,r,t));var i=n?p.listenBefore(e):p.listen(e);return function(){i(),0===--g&&v()}},_=function(e){return b(e,!0)},x=function(e){return b(e,!1)},w=((0,c.supportsGoWithoutReloadUsingHash)(),function(e){p.go(e)}),O=function(e){return"#"+r.encodePath(p.createHref(e))};return a({},p,{listenBefore:_,listen:x,go:w,createHref:O})};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(44),o=(r(a),n(20)),s=r(o),l=n(51),u=n(40),c=n(107),f=r(c),d=n(73),p=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[g],t=(0,u.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var a=(0,u.parsePath)(t);return(0,l.createLocation)(i({},a,{state:r}),void 0,n)},n=function(e){var t=g+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){g+=e;var r=t();c.transitionTo(i({},r,{action:d.POP}))}},a=function(e){g+=1,g<m.length&&m.splice(g),m.push(e),v(e.key,e.state)},o=function(e){m[g]=e,v(e.key,e.state)},c=(0,f.default)(i({},e,{getCurrentLocation:t,pushLocation:a,replaceLocation:o,go:r})),h=e,m=h.entries,g=h.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,l.createLocation)(e)}),null==g?g=m.length-1:g>=0&&g<m.length?void 0:(0,s.default)(!1);var y=p(m),v=function(e,t){return y[e]=t},b=function(e){return y[e]};return i({},c,{canGo:n})};t.default=h},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var o=Object.getOwnPropertyNames(t);i&&(o=o.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s)if(!(n[o[s]]||r[o[s]]||a&&a[o[s]]))try{e[o[s]]=t[o[s]]}catch(l){}}return e}},function(e,t){"use strict";function n(e){return e in a?a[e]:a[e]=e.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}var r=/[A-Z]/g,i=/^ms-/,a={};e.exports=n},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-u;else{if(a===l)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,r),a-=u}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,l,u=8*a-i-1,c=(1<<u)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+f>=1?d/l:d*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+p]=255&o,p+=h,o/=256,u-=8);e[n+p-h]|=128*m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.prefixMap,n=e.plugins,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,l.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,c.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(a){this._requiresPrefix={};for(var o in a)a[o]>=this._browserInfo.browserVersion&&(this._requiresPrefix[o]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return o(e,[{key:"prefix",value:function(e){return this._useFallback?r(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,g.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,o=r.length;a<o;++a){var s=(0,v.default)(n,t,r[a],e,this._metaData);(0,h.default)(i,s||r[a])}i.length>0&&(e[t]=i)}else{var l=(0,v.default)(n,t,r,e,this._metaData);l&&(e[t]=l),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,d.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return r(e)}}]),e}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=a;var s=n(350),l=r(s),u=n(351),c=r(u),f=n(110),d=r(f),p=n(161),h=r(p),m=n(162),g=r(m),y=n(163),v=r(y);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&a<10))return(0,o.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;return"cursor"!==e||!s[t]||"firefox"!==i&&"chrome"!==i&&"safari"!==i&&"opera"!==i?"cursor"===e&&l[t]&&("firefox"===i&&a<24||"chrome"===i&&a<37||"safari"===i&&a<9||"opera"===i&&a<24)?(0,o.default)(u+t,t,c):void 0:(0,o.default)(u+t,t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a),s={grab:!0,grabbing:!0},l={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&a<9.1))return(0,o.default)(t.replace(/filter\(/g,s+"filter("),t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("display"===e&&s[t]&&("chrome"===i&&a<29&&a>20||("safari"===i||"ios_saf"===i)&&a<9&&a>6||"opera"===i&&(15===a||16===a)))return(0,o.default)(l+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a),s={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,f=r.keepUnprefixed,d=r.requiresPrefix;if((c.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&a<22||"chrome"===i&&a<21||("safari"===i||"ios_saf"===i)&&a<=6.1||"android"===i&&a<4.4||"and_uc"===i)){if(delete d[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&s.hasOwnProperty(t))return(0,o.default)(u+s[t],t,f);l.hasOwnProperty(e)&&(n[l[e]]=s[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a),s={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},l={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",
flexWrap:"WebkitBoxLines"},u=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],c=Object.keys(l).concat(u);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof t&&s.test(t)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return(0,o.default)(l+t,t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a),s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,o.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,o.default)(a+t,t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed;if(s.hasOwnProperty(e)&&l.hasOwnProperty(t))return(0,o.default)(i+t,t,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(38),o=r(a),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},l={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed,u=r.requiresPrefix;if("string"==typeof t&&s.hasOwnProperty(e)){l||(l=Object.keys(u).map(function(e){return(0,o.default)(e)}));var c=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return l.forEach(function(e){c.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(c[n]=t.replace(e,i+e)+(a?","+t:""))})}),c.join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(153),o=r(a),s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l=void 0;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){for(var i in e){var a=e[i];if((0,d.default)(a))e[i]=t(a);else if(Array.isArray(a)){for(var s=[],u=0,f=a.length;u<f;++u){var p=(0,l.default)(r,i,a[u],e,n);(0,c.default)(s,p||a[u])}s.length>0&&(e[i]=s)}else{var h=(0,l.default)(r,i,a,e,n);h&&(e[i]=h),(0,o.default)(n,i,e)}}return e}var n=e.prefixMap,r=e.plugins;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(352),o=r(a),s=n(163),l=r(s),u=n(161),c=r(u),f=n(162),d=r(f);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(337),a=r(i),o=n(349),s=r(o),l=n(340),u=r(l),c=n(339),f=r(c),d=n(341),p=r(d),h=n(342),m=r(h),g=n(343),y=r(g),v=n(344),b=r(v),_=n(345),x=r(_),w=n(346),O=r(w),S=n(347),k=r(S),P=n(348),E=r(P),M=[f.default,u.default,p.default,y.default,b.default,x.default,O.default,k.default,E.default,m.default];t.default=(0,a.default)({prefixMap:s.default.prefixMap,plugins:M}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return s.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(57),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return s.map(function(e){return t.replace(/filter\(/g,e+"filter(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(57),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&l.test(t))return s.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(57),o=r(a),s=["-webkit-","-moz-",""],l=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return s.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(57),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if((0,u.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var a=n[r],o=[a];for(var l in t){var c=(0,s.default)(l);if(a.indexOf(c)>-1&&"order"!==c)for(var f=t[l],d=0,h=f.length;d<h;++d)o.unshift(a.replace(c,p[f[d]]+c))}n[r]=o.join(",")}return n.join(",")}function a(e,t,n,r){if("string"==typeof t&&d.hasOwnProperty(e)){var a=i(t,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return o;var s=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?s:(n["Webkit"+(0,f.default)(e)]=o,n["Moz"+(0,f.default)(e)]=s,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(153),s=r(o),l=n(57),u=r(l),c=n(110),f=r(c),d={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],a=["Webkit","Moz"],o=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,writingMode:o,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in u)if(e.hasOwnProperty(t))return u[t]}function a(e){var t=s.default._detect(e);t.yandexbrowser&&(t=s.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in l)if(t.hasOwnProperty(n)){var r=l[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}return t.browserName=i(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10),t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr"),"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(289),s=r(o),l={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},u={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var r="keyframes";return"chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e?n+r:r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,a=r.length;i<a;++i)n[r[i]+(0,o.default)(t)]=n[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(110),o=r(a);e.exports=t.default},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.1.3",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/index.js",unpkg:"build/vega-lite.min.js",jsdelivr:"build/vega-lite.min.js",types:"typings/vega-lite.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/test-gallery",build:"npm run build:only","build:only":"npm run tsc && cp package.json build && browserify src/index.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"node node_modules/uglify-js/bin/uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run data && npm run build:only && npm run build:examples-only","build:examples-only":"npm run build:example && npm run build:examples-normalized","build:examples-normalized":"rm -f examples/specs/normalized/*.vl.json && scripts/build-normalized-examples","build:example":"TZ=America/Los_Angeles scripts/build-examples.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts)' -delete && rm -f examples/compiled/*.png && find site/examples ! -name 'index.md' -type f -exec rm -f {} +",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"ts-json-schema-generator --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run prebuild && npm run data && npm run build:site && npm run build:toc && npm run build:versions && scripts/create-example-pages",site:"bundle exec jekyll serve --incremental",lint:"tslint -p .",test:"npm run build:only && npm run test:only && npm run test:runtime && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run test:runtime && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:runtime":"TZ=America/Los_Angeles wdio wdio.conf.js","test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/index.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.1.2","@types/d3":"^4.12.0","@types/highlight.js":"^9.12.2","@types/mkdirp":"^0.5.2","@types/mocha":"^2.2.48","@types/node":"^9.4.0","@types/webdriverio":"^4.8.8",ajv:"^6.1.1","browser-sync":"^2.23.6","browserify-shim":"^3.8.14",browserify:"^15.2.0",chai:"^4.1.2",cheerio:"^1.0.0-rc.2",chromedriver:"^2.35.0",codecov:"^3.0.0",d3:"^4.13.0",exorcist:"^1.0.0","highlight.js":"^9.12.0",mkdirp:"^0.5.1",mocha:"^5.0.0",nodemon:"^1.14.12",nyc:"^11.4.1","source-map-support":"^0.5.3","svg2png-many":"^0.0.7","ts-json-schema-generator":"^0.19.0","ts-node":"^4.1.0",tsify:"^3.0.4","tslint-eslint-rules":"^4.1.1",tslint:"5.9.1",typescript:"^2.7.1","uglify-js":"^3.3.9","vega-datasets":"^1.14.0","vega-embed":"^3.0.0","vega-tooltip":"^0.5.1",vega:"^3.0.10",watchify:"^3.10.0","wdio-chromedriver-service":"^0.1.2","wdio-dot-reporter":"0.0.9","wdio-mocha-framework":"^0.5.12","wdio-static-server-service":"^1.0.1",webdriverio:"^4.10.2","yaml-front-matter":"^3.4.0"},dependencies:{"@types/json-stable-stringify":"^1.0.32","json-stable-stringify":"^1.0.1",tslib:"^1.9.0","vega-event-selector":"^2.0.0","vega-util":"^1.7.0",yargs:"^11.0.0"}}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.1.1",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/index.js",types:"typings/vega-lite.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/test-gallery",build:"npm run build:only","build:only":"npm run tsc && cp package.json build && browserify src/index.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"node node_modules/uglify-js/bin/uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run data && npm run build:only && npm run build:examples-only","build:examples-only":"npm run build:example && npm run build:examples-normalized","build:examples-normalized":"rm -f examples/specs/normalized/*.vl.json && scripts/build-normalized-examples","build:example":"TZ=America/Los_Angeles scripts/build-examples.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts)' -delete && rm -f examples/compiled/*.png && find site/examples ! -name 'index.md' -type f -exec rm -f {} +",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"ts-json-schema-generator --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run prebuild && npm run data && npm run build:site && npm run build:toc && npm run build:versions && scripts/create-example-pages",site:"bundle exec jekyll serve --incremental",lint:"tslint -p .",test:"npm run build:only && npm run test:only && npm run test:runtime && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run test:runtime && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:runtime":"TZ=America/Los_Angeles wdio wdio.conf.js","test:runtime:generate":"rm -Rf test-runtime/resources && VL_GENERATE_TESTS=true npm run test:runtime","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/index.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.1.2","@types/d3":"^4.12.0","@types/highlight.js":"^9.12.2","@types/mkdirp":"^0.5.2","@types/mocha":"^2.2.47","@types/node":"^9.3.0","@types/webdriverio":"^4.8.8",ajv:"^6.0.1","browser-sync":"^2.23.6","browserify-shim":"^3.8.14",browserify:"^15.2.0",chai:"^4.1.2",cheerio:"^1.0.0-rc.2",chromedriver:"^2.35.0",codecov:"^3.0.0",d3:"^4.12.2",exorcist:"^1.0.0","highlight.js":"^9.12.0",mkdirp:"^0.5.1",mocha:"^5.0.0",nodemon:"^1.14.11",nyc:"^11.4.1","source-map-support":"^0.5.3","svg2png-many":"^0.0.7","ts-json-schema-generator":"^0.18.0","ts-node":"^4.1.0",tsify:"^3.0.4","tslint-eslint-rules":"^4.1.1",tslint:"5.9.1",typescript:"^2.6.2","uglify-js":"^3.3.8","vega-datasets":"^1.11.0","vega-embed":"^3.0.0-rc7","vega-tooltip":"^0.4.4",vega:"^3.0.10",watchify:"^3.9.0","wdio-chromedriver-service":"^0.1.2","wdio-dot-reporter":"0.0.9","wdio-mocha-framework":"^0.5.12","wdio-static-server-service":"^1.0.1",webdriverio:"^4.10.1","yaml-front-matter":"^3.4.0"},dependencies:{"@types/json-stable-stringify":"^1.0.32","json-stable-stringify":"^1.0.1",tslib:"^1.9.0","vega-event-selector":"^2.0.0","vega-util":"^1.6.2",yargs:"^11.0.0"}}},function(e,t){e.exports={Basic:[{name:"bar",title:"Simple Bar Chart",description:"A bar chart encodes quantitative values as the extent of rectangular bars.",style:"background-size: auto 110%; background-position: center center !important;"},{name:"bar_aggregate",title:"Aggregate Bar Chart"},{name:"histogram",title:"Histogram"},{name:"bar_gantt",title:"Gantt Chart",style:"background-size: auto 75%; background-position-y: center !important;"},{name:"bar_grouped",title:"Grouped Bar Chart"},{name:"point_2d",title:"Scatterplot"},{name:"circle",title:"Scatterplot with Filled Circles"},{name:"circle_binned",title:"Binned Scatterplot"},{name:"point_color_with_shape",title:"Colored Scatterplot"},{name:"point_invalid_color",title:"Scatterplot with Null Values in Grey"},{name:"point_bubble",title:"Bubble Plot"},{name:"circle_bubble_health_income",title:"Gapminder Bubble Plot"},{name:"tick_strip",title:"Strip Plot",style:"background-size: auto 85%; background-position-y: center !important;"},{name:"line",title:"Line Chart"},{name:"line_color",title:"Multi Series Line Chart"},{name:"line_slope",title:"Slope Graph"},{name:"line_step",title:"Step Chart"},{name:"area",title:"Area Chart"},{name:"rect_heatmap",title:"Table Heatmap",style:"background-size: auto"},{name:"rect_binned_heatmap",title:"Table Binned heatmap"},{name:"circle_github_punchcard",title:"Table Bubble Plot (Github Punch Card)"},{name:"circle_natural_disasters",description:"Visualization of global deaths from natural disasters. Copy of chart from [Our World in Data](https://ourworldindata.org/natural-catastrophes)",title:"Natural Disasters"}],Stack:[{name:"stacked_bar_weather",title:"Stacked Bar Chart"},{name:"stacked_bar_h",title:"Horizontal Stacked Bar Chart"},{name:"stacked_bar_normalize",title:"Normalized Stacked Bar Chart"},{name:"stacked_area",title:"Stacked Area Chart"},{name:"stacked_area_normalize",title:"Normalized Stacked Area Chart"},{name:"stacked_area_stream",title:"Streamgraph"},{name:"bar_layered_transparent",title:"Layered Bar Chart"},{name:"bar_diverging_stacked",title:"Diverging Stacked Bar Chart"}],Trellis:[{name:"trellis_anscombe",title:"Anscombe's Quartet"},{name:"trellis_bar",title:"Trellis Bar Chart"},{name:"trellis_stacked_bar",title:"Trellis Stacked Bar Chart"},{name:"trellis_scatter",title:"Trellis Scatter Plot"},{name:"trellis_bar_histogram",title:"Trellis Histograms"},{name:"trellis_barley",title:"Becker's Barley Trellis Plot"},{name:"trellis_area",title:"Trellis Area"}],Layering:[{name:"layer_bar_labels",title:"Simple Bar Chart with Labels",style:"background-size: auto 70%; background-position-y: center;"},{name:"layer_bar_annotations",title:"Bar chart that highlights values beyond a threshold",description:"To create a bar chart that highlights values beyond a threshold, we use two `layer`s of `bar` marks. The lower layer shows all the bars while the upper layer shows bar with values above the threshold in red (`#e45755`).  We then `layer` a `rule` mark and a `text` mark over the bars to annotate the threshold value."
},{name:"layer_precipitation_mean",title:"Mean overlay over precipitation chart"},{name:"layer_text_heatmap",title:"Layering text over heatmap",style:"background-size: auto 55%; background-position-y: center !important;"},{name:"box-plot_minmax_2D_vertical_normalized",title:"Box Plot with Min/Max Whiskers"},{name:"box-plot_tukey_2D_vertical_normalized",title:"Tukey Box Plot (1.5 IQR)"},{name:"layer_candlestick",title:"Candlestick Chart"},{name:"layer_error_bars",title:"Error Bars showing Confidence Interval"},{name:"layer_error_bars_dev",title:"Error Bars showing Standard Deviation"},{name:"layer_histogram_global_mean",title:"Histogram with a Global Mean Overlay"},{name:"layer_global_mean_dev",title:"Scatterplot with Mean and Standard Deviation Overlay"},{name:"layer_area_ci",title:"Line chart with Confidence Interval Band"},{name:"layer_falkensee",title:"Falkensee",style:"background-size: auto 90%; background-position-y: center !important;"},{name:"layer_ranged_dot",title:"Ranged Dot Plot",style:"background-size: auto 70%; background-position-y: center;"},{name:"layer_bar_dual_axis",title:"Layered Plot with Dual-Axis",style:"background-size: 100% auto; background-position-y: center;"},{name:"area_horizon",title:"Horizon Graph",style:"background-size: auto 70%; background-position-y: center;"},{name:"layer_connected_scatterplot",title:"Connected Scatterplot (Lines with Custom Paths)"}],Composition:[{name:"repeat_layer",title:"Repeat and layer to show different weather measures"}],"Geographical (Maps)":[{name:"geo_choropleth",title:"Choropleth of unemployment rate per county"},{name:"geo_circle",title:"One dot per zipcode in the U.S."},{name:"geo_layer",title:"One dot per airport in the US overlayed on geoshape"},{name:"geo_rule",title:"Rules (line segments) connecting SEA to every airport reachable via direct flight"},{name:"geo_repeat",title:"Three choropleths representing disjoint data from the same table"},{name:"geo_text",title:"U.S. state capitals overlayed on a map of the U.S."},{name:"geo_line",title:"Line drawn between airports in the U.S. simulating a flight itinerary"},{name:"geo_trellis",title:"Income in the U.S. by state, faceted over income brackets"}],Interactive:[{name:"interactive_brush",title:"Rectangular Brush"},{name:"interactive_paintbrush",title:"Paintbrush Highlight"},{name:"selection_translate_scatterplot_drag",title:"Scatterplot Pan & Zoom"},{name:"interactive_query_widgets",title:"Query Widgets"},{name:"selection_layer_bar_month",title:"Interactive Average",description:"The plot below uses an interval selection, which causes the chart to include an interactive brush (shown in grey). The brush selection parameterizes the red guideline, which visualizes the average value within the selected interval."},{name:"interactive_overview_detail",title:"Overview and Detail"},{name:"interactive_layered_crossfilter",title:"Crossfilter"},{name:"interactive_splom",title:"Scatterplot Matrix"},{name:"interactive_concat_layer",title:"Interactive Dashboard with Cross Highlight"}]}},function(e,t){e.exports={"Bar Charts":[{name:"bar-chart"},{name:"stacked-bar-chart"},{name:"grouped-bar-chart"},{name:"nested-bar-chart"},{name:"population-pyramid"}],"Line & Area Charts":[{name:"line-chart"},{name:"area-chart"},{name:"stacked-area-chart"},{name:"horizon-graph"},{name:"job-voyager"}],"Circular Charts":[{name:"pie-chart"},{name:"donut-chart"},{name:"radial-plot"}],"Dot & Scatter Plots":[{name:"scatter-plot"},{name:"scatter-plot-null-values"},{name:"connected-scatter-plot"},{name:"error-bars"},{name:"barley-trellis-plot"}],Distributions:[{name:"histogram"},{name:"histogram-null-values"},{name:"probability-density"},{name:"box-plot"},{name:"violin-plot"},{name:"top-k-plot"},{name:"top-k-plot-with-others"},{name:"binned-scatter-plot"},{name:"contour-plot"},{name:"wheat-plot"}],"Geographic Maps":[{name:"county-unemployment"},{name:"dorling-cartogram"},{name:"world-map"},{name:"zoomable-world-map"},{name:"distortion-comparison"}],"Tree Diagrams":[{name:"tree-layout"},{name:"radial-tree-layout"},{name:"treemap",title:"Treemap"},{name:"circle-packing",title:"Circle-Packing"},{name:"sunburst",title:"Sunburst"}],"Network Diagrams":[{name:"edge-bundling"},{name:"force-directed-layout"},{name:"reorderable-matrix"},{name:"arc-diagram"},{name:"airport-connections"}],"Other Chart Types":[{name:"heatmap"},{name:"parallel-coordinates"},{name:"word-cloud"},{name:"timelines"},{name:"beeswarm-plot"}],"Custom Visual Designs":[{name:"budget-forecasts"},{name:"wheat-and-wages"},{name:"falkensee-population"},{name:"annual-temperature"},{name:"weekly-temperature"},{name:"u-district-cuisine"}],"Interaction Techniques":[{name:"crossfilter-flights"},{name:"overview-plus-detail"},{name:"brushing-scatter-plots"},{name:"zoomable-scatter-plot"},{name:"global-development"},{name:"interactive-legend"},{name:"stock-index-chart"}]}},function(e,t){"use strict";function n(e,t,a,o,s,l,u,c,f){if(a&&"object"==typeof a&&!Array.isArray(a)){t(a,o,s,l,u,c,f);for(var d in a){var p=a[d];if(Array.isArray(p)){if(d in i.arrayKeywords)for(var h=0;h<p.length;h++)n(e,t,p[h],o+"/"+d+"/"+h,s,o,d,a,h)}else if(d in i.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,t,p[m],o+"/"+d+"/"+r(m),s,o,d,a,m)}else(d in i.keywords||e.allKeys&&!(d in i.skipKeywords))&&n(e,t,p,o+"/"+d,s,o,d,a)}}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var i=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,r,e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){t.parse=n(363),t.stringify=n(364)},function(e,t){var n,r,i,a,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},l=function(e){return e&&e!==r&&s("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},u=function(){var e,t="";for("-"===r&&(t="-",l("-"));r>="0"&&r<="9";)t+=r,l();if("."===r)for(t+=".";l()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,l(),"-"!==r&&"+"!==r||(t+=r,l());r>="0"&&r<="9";)t+=r,l();return e=+t,isFinite(e)?e:void s("Bad number")},c=function(){var e,t,n,i="";if('"'===r)for(;l();){if('"'===r)return l(),i;if("\\"===r)if(l(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;i+=o[r]}else i+=r}s("Bad string")},f=function(){for(;r&&r<=" ";)l()},d=function(){switch(r){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}s("Unexpected '"+r+"'")},p=function(){var e=[];if("["===r){if(l("["),f(),"]"===r)return l("]"),e;for(;r;){if(e.push(a()),f(),"]"===r)return l("]"),e;l(","),f()}}s("Bad array")},h=function(){var e,t={};if("{"===r){if(l("{"),f(),"}"===r)return l("}"),t;for(;r;){if(e=c(),f(),l(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=a(),f(),"}"===r)return l("}"),t;l(","),f()}}s("Bad object")};a=function(){switch(f(),r){case"{":return h();case"[":return p();case'"':return c();case"-":return u();default:return r>="0"&&r<="9"?u():d()}},e.exports=function(e,t){var o;return i=e,n=0,r=" ",o=a(),f(),r&&s("Syntax error"),"function"==typeof t?function e(n,r){var i,a,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=e(o,i),void 0!==a?o[i]=a:delete o[i]);return t.call(n,r,o)}({"":o},""):o}},function(e,t){function n(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=l[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var s,l,u,c,f,d=i,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof o&&(p=o.call(t,e,p)),typeof p){case"string":return n(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(i+=a,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,s=0;s<c;s+=1)f[s]=r(s,p)||"null";return u=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+d+"]":"["+f.join(",")+"]",i=d,u}if(o&&"object"==typeof o)for(c=o.length,s=0;s<c;s+=1)l=o[s],"string"==typeof l&&(u=r(l,p),u&&f.push(n(l)+(i?": ":":")+u));else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(u=r(l,p),u&&f.push(n(l)+(i?": ":":")+u));return u=0===f.length?"{}":i?"{\n"+i+f.join(",\n"+i)+"\n"+d+"}":"{"+f.join(",")+"}",i=d,u}}var i,a,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,n){var s;if(i="",a="","number"==typeof n)for(s=0;s<n;s+=1)a+=" ";else"string"==typeof n&&(a=n);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}},function(e,t,n){function r(e){return null==e?void 0===e?l:s:u&&u in Object(e)?a(e):o(e)}var i=n(166),a=n(368),o=n(369),s="[object Null]",l="[object Undefined]",u=i?i.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(370),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(i){}var a=s.call(e);return r&&(t?e[l]=n:delete e[l]),a}var i=n(166),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,l=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(366),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(167);e.exports=i;var a=r(!0),o=r(!1),s=r(null),l=r(void 0),u=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return l;if(e===!0)return a;if(e===!1)return o;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(o,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(o,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(o,e)},n))}var l=s.then;if("function"==typeof l){var u=new i(l.bind(s));return void u.then(function(e){r(o,e)},n)}}t[o]=s,0===--a&&e(t)}if(0===t.length)return e([]);for(var a=t.length,o=0;o<t.length;o++)r(o,t[o])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){u=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||o(f[t].error,e.whitelist||l))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,a(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},u&&r(),u=!0;var i=0,c=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),o(n,l)?100:2e3),logged:!1})}}function a(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function o(e,t){return t.some(function(t){return e instanceof t})}var s=n(167),l=[ReferenceError,TypeError,RangeError],u=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";var r=n(72),i=n(157),a=n(377);e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(430),l=n(58);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=l({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),n(decodeURIComponent(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=l(n,t);var i=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return a(n,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0!==e&&o.push(i(n,e,o.length))}),o.join("&")}return a(n,t)+"="+a(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,f,d,p,h=e[u].replace(o,"%20"),m=h.indexOf(r);m>=0?(c=h.substr(0,m),f=h.substr(m+1)):(c=h,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var a=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(379),t.encode=t.stringify=n(380)},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t){return(e&t)===t}function a(e,t){if(Tn.hasOwnProperty(e)||2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))return!1;if(null===t)return!0;switch(typeof t){case"boolean":return Tn.hasOwnProperty(e)?e=!0:(t=o(e))?e=t.hasBooleanValue||t.hasStringBooleanValue||t.hasOverloadedBooleanValue:(e=e.toLowerCase().slice(0,5),e="data-"===e||"aria-"===e),e;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function o(e){return An.hasOwnProperty(e)?An[e]:null}function s(e){return e[1].toUpperCase()}function l(e,t,n,r,i,a,o,s,l){Wn._hasCaughtError=!1,Wn._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){Wn._caughtError=c,Wn._hasCaughtError=!0}}function u(){if(Wn._hasRethrowError){var e=Wn._rethrowError;throw Wn._rethrowError=null,Wn._hasRethrowError=!1,e}}function c(){if(Vn)for(var e in Hn){var t=Hn[e],n=Vn.indexOf(e);if(-1<n?void 0:r("96",e),!Gn[n]){t.extractEvents?void 0:r("97",e),Gn[n]=t,n=t.eventTypes;for(var i in n){var a=void 0,o=n[i],s=t,l=i;Yn.hasOwnProperty(l)?r("99",l):void 0,Yn[l]=o;var u=o.phasedRegistrationNames;if(u){for(a in u)u.hasOwnProperty(a)&&f(u[a],s,l);a=!0}else o.registrationName?(f(o.registrationName,s,l),a=!0):a=!1;a?void 0:r("98",i,e)}}}}function f(e,t,n){Xn[e]?r("100",e):void 0,Xn[e]=t,Kn[e]=t.eventTypes[n].dependencies}function d(e){Vn?r("101"):void 0,Vn=Array.prototype.slice.call(e),c()}function p(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];Hn.hasOwnProperty(t)&&Hn[t]===i||(Hn[t]?r("102",t):void 0,Hn[t]=i,n=!0)}n&&c()}function h(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=er(r),Wn.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function m(e,t){return null==t?r("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function g(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function y(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)h(e,t,n[i],r[i]);else n&&h(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function v(e){return y(e,!0)}function b(e){return y(e,!1)}function _(e,t){var n=e.stateNode;if(!n)return null;var i=Jn(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n?r("231",t,typeof n):void 0,n)}function x(e,t,n,r){for(var i,a=0;a<Gn.length;a++){var o=Gn[a];o&&(o=o.extractEvents(e,t,n,r))&&(i=m(i,o))}return i}function w(e){e&&(tr=m(tr,e))}function O(e){var t=tr;tr=null,t&&(e?g(t,v):g(t,b),tr?r("95"):void 0,Wn.rethrowCaughtError())}function S(e){if(e[ar])return e[ar];for(var t=[];!e[ar];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}var n=void 0,r=e[ar];if(5===r.tag||6===r.tag)return r;for(;e&&(r=e[ar]);e=t.pop())n=r;return n}function k(e){return 5===e.tag||6===e.tag?e.stateNode:void r("33")}function P(e){return e[or]||null}function E(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function M(e,t,n){for(var r=[];e;)r.push(e),e=E(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function T(e,t,n){(t=_(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function C(e){e&&e.dispatchConfig.phasedRegistrationNames&&M(e._targetInst,T,e)}function A(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;t=t?E(t):null,M(t,T,e)}}function D(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=_(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=m(n._dispatchListeners,t),n._dispatchInstances=m(n._dispatchInstances,e))}function j(e){e&&e.dispatchConfig.registrationName&&D(e._targetInst,null,e)}function R(e){g(e,C)}function N(e,t,n,r){if(n&&r)e:{for(var i=n,a=r,o=0,s=i;s;s=E(s))o++;s=0;for(var l=a;l;l=E(l))s++;for(;0<o-s;)i=E(i),o--;for(;0<s-o;)a=E(a),s--;for(;o--;){if(i===a||i===a.alternate)break e;i=E(i),a=E(a)}i=null}else i=null;for(a=i,i=[];n&&n!==a&&(o=n.alternate,null===o||o!==a);)i.push(n),n=E(n);for(n=[];r&&r!==a&&(o=r.alternate,null===o||o!==a);)n.push(r),r=E(r);for(r=0;r<i.length;r++)D(i[r],"bubbled",e);for(e=n.length;0<e--;)D(n[e],"captured",t)}function I(){return!ur&&_n.canUseDOM&&(ur="textContent"in document.documentElement?"textContent":"innerText"),ur}function z(){if(cr._fallbackText)return cr._fallbackText;var e,t,n=cr._startText,r=n.length,i=F(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return cr._fallbackText=i.slice(e,1<t?1-t:void 0),cr._fallbackText}function F(){return"value"in cr._root?cr._root.value:cr._root[I()]}function $(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface;for(var i in e)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?wn.thatReturnsTrue:wn.thatReturnsFalse,this.isPropagationStopped=wn.thatReturnsFalse,this}function L(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function U(e){e instanceof this?void 0:r("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function B(e){e.eventPool=[],e.getPooled=L,e.release=U}function q(e,t,n,r){return $.call(this,e,t,n,r)}function W(e,t,n,r){return $.call(this,e,t,n,r)}function V(e,t){switch(e){case"topKeyUp":return-1!==pr.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function H(e){return e=e.detail,"object"==typeof e&&"data"in e?e.data:null}function G(e,t){switch(e){case"topCompositionEnd":return H(t);case"topKeyPress":return 32!==t.which?null:(Or=!0,xr);case"topTextInput":return e=t.data,e===xr&&Or?null:e;default:return null}}function Y(e,t){if(Sr)return"topCompositionEnd"===e||!hr&&V(e,t)?(e=z(),cr._root=null,cr._startText=null,cr._fallbackText=null,Sr=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _r?null:t.data;default:return null}}function X(e){if(e=Zn(e)){Pr&&"function"==typeof Pr.restoreControlledState?void 0:r("194");var t=Jn(e.stateNode);Pr.restoreControlledState(e.stateNode,e.type,t)}}function K(e){Er?Mr?Mr.push(e):Mr=[e]:Er=e}function Q(){if(Er){var e=Er,t=Mr;if(Mr=Er=null,X(e),t)for(e=0;e<t.length;e++)X(t[e])}}function J(e,t){return e(t)}function Z(e,t){if(Ar)return J(e,t);Ar=!0;try{return J(e,t)}finally{Ar=!1,Q()}}function ee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dr[e.type]:"textarea"===t}function te(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ne(e,t){if(!_n.canUseDOM||t&&!("addEventListener"in document))return!1;t="on"+e;var n=t in document;return n||(n=document.createElement("div"),n.setAttribute(t,"return;"),n="function"==typeof n[t]),!n&&vr&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}function re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ie(e){var t=re(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}function ae(e){e._valueTracker||(e._valueTracker=ie(e))}function oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=re(e)?e.checked?"true":"false":e.value),e=r,e!==n&&(t.setValue(e),!0)}function se(e,t,n){return e=$.getPooled(jr.change,e,t,n),e.type="change",K(n),R(e),e}function le(e){w(e),O(!1)}function ue(e){var t=k(e);if(oe(t))return e}function ce(e,t){if("topChange"===e)return t}function fe(){Rr&&(Rr.detachEvent("onpropertychange",de),Nr=Rr=null)}function de(e){"value"===e.propertyName&&ue(Nr)&&(e=se(Nr,e,te(e)),Z(le,e))}function pe(e,t,n){"topFocus"===e?(fe(),Rr=t,Nr=n,Rr.attachEvent("onpropertychange",de)):"topBlur"===e&&fe()}function he(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return ue(Nr)}function me(e,t){if("topClick"===e)return ue(t)}function ge(e,t){if("topInput"===e||"topChange"===e)return ue(t)}function ye(e,t,n,r){return $.call(this,e,t,n,r)}function ve(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fr[e])&&!!t[e]}function be(){return ve}function _e(e,t,n,r){return $.call(this,e,t,n,r)}function xe(e){return e=e.type,"string"==typeof e?e:"function"==typeof e?e.displayName||e.name:null}function we(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(t=t.return,0!==(2&t.effectTag))return 1}return 3===t.tag?2:3}function Oe(e){return!!(e=e._reactInternalFiber)&&2===we(e)}function Se(e){2!==we(e)?r("188"):void 0}function ke(e){var t=e.alternate;if(!t)return t=we(e),3===t?r("188"):void 0,1===t?null:e;for(var n=e,i=t;;){var a=n.return,o=a?a.alternate:null;if(!a||!o)break;if(a.child===o.child){for(var s=a.child;s;){if(s===n)return Se(a),e;if(s===i)return Se(a),t;s=s.sibling}r("188")}if(n.return!==i.return)n=a,i=o;else{s=!1;for(var l=a.child;l;){if(l===n){s=!0,n=a,i=o;break}if(l===i){s=!0,i=a,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=a;break}if(l===i){s=!0,i=o,n=a;break}l=l.sibling}s?void 0:r("189")}}n.alternate!==i?r("190"):void 0}return 3!==n.tag?r("188"):void 0,n.stateNode.current===n?e:t}function Pe(e){if(e=ke(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ee(e){if(e=ke(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Me(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(n=3!==n.tag?null:n.stateNode.containerInfo,!n)break;e.ancestors.push(t),t=S(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],Wr(e.topLevelType,t,e.nativeEvent,te(e.nativeEvent))}function Te(e){qr=!!e}function Ce(e,t,n){return n?On.listen(n,t,De.bind(null,e)):null}function Ae(e,t,n){return n?On.capture(n,t,De.bind(null,e)):null}function De(e,t){if(qr){var n=te(t);if(n=S(n),null===n||"number"!=typeof n.tag||2===we(n)||(n=null),Br.length){var r=Br.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Z(Me,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Br.length&&Br.push(e)}}}function je(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function Re(e){if(Gr[e])return Gr[e];if(!Hr[e])return e;var t,n=Hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Yr)return Gr[e]=n[t];return""}function Ne(e){return Object.prototype.hasOwnProperty.call(e,Jr)||(e[Jr]=Qr++,Kr[e[Jr]]={}),Kr[e[Jr]]}function Ie(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ze(e,t){var n=Ie(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ie(n)}}function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}function $e(e,t){if(ii||null==ti||ti!==Sn())return null;var n=ti;return"selectionStart"in n&&Fe(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?(n=window.getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}):n=void 0,ri&&kn(ri,n)?null:(ri=n,e=$.getPooled(ei.select,ni,e,t),e.type="select",e.target=ti,R(e),e)}function Le(e,t,n,r){return $.call(this,e,t,n,r)}function Ue(e,t,n,r){return $.call(this,e,t,n,r)}function Be(e,t,n,r){return $.call(this,e,t,n,r)}function qe(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,0===e&&13===t&&(e=13)):e=t,32<=e||13===e?e:0}function We(e,t,n,r){return $.call(this,e,t,n,r)}function Ve(e,t,n,r){return $.call(this,e,t,n,r)}function He(e,t,n,r){return $.call(this,e,t,n,r)}function Ge(e,t,n,r){
return $.call(this,e,t,n,r)}function Ye(e,t,n,r){return $.call(this,e,t,n,r)}function Xe(e){0>di||(e.current=fi[di],fi[di]=null,di--)}function Ke(e,t){di++,fi[di]=e.current,e.current=t}function Qe(e){return Ze(e)?mi:pi.current}function Je(e,t){var n=e.type.contextTypes;if(!n)return Mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ze(e){return 2===e.tag&&null!=e.type.childContextTypes}function et(e){Ze(e)&&(Xe(hi,e),Xe(pi,e))}function tt(e,t,n){null!=pi.cursor?r("168"):void 0,Ke(pi,t,e),Ke(hi,n,e)}function nt(e,t){var n=e.stateNode,i=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;n=n.getChildContext();for(var a in n)a in i?void 0:r("108",xe(e)||"Unknown",a);return xn({},t,n)}function rt(e){if(!Ze(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Mn,mi=pi.current,Ke(pi,t,e),Ke(hi,hi.current,e),!0}function it(e,t){var n=e.stateNode;if(n?void 0:r("169"),t){var i=nt(e,mi);n.__reactInternalMemoizedMergedChildContext=i,Xe(hi,e),Xe(pi,e),Ke(pi,i,e)}else Xe(hi,e);Ke(hi,t,e)}function at(e,t,n){this.tag=e,this.key=t,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null,this.internalContextTag=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function ot(e,t,n){var r=e.alternate;return null===r?(r=new at(e.tag,e.key,e.internalContextTag),r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.pendingProps=t,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function st(e,t,n){var i=void 0,a=e.type,o=e.key;return"function"==typeof a?(i=a.prototype&&a.prototype.isReactComponent?new at(2,o,t):new at(0,o,t),i.type=a,i.pendingProps=e.props):"string"==typeof a?(i=new at(5,o,t),i.type=a,i.pendingProps=e.props):"object"==typeof a&&null!==a&&"number"==typeof a.tag?(i=a,i.pendingProps=e.props):r("130",null==a?a:typeof a,""),i.expirationTime=n,i}function lt(e,t,n,r){return t=new at(10,r,t),t.pendingProps=e,t.expirationTime=n,t}function ut(e,t,n){return t=new at(6,null,t),t.pendingProps=e,t.expirationTime=n,t}function ct(e,t,n){return t=new at(7,e.key,t),t.type=e.handler,t.pendingProps=e,t.expirationTime=n,t}function ft(e,t,n){return e=new at(9,null,t),e.expirationTime=n,e}function dt(e,t,n){return t=new at(4,e.key,t),t.pendingProps=e.children||[],t.expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pt(e){return function(t){try{return e(t)}catch(n){}}}function ht(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);gi=pt(function(e){return t.onCommitFiberRoot(n,e)}),yi=pt(function(e){return t.onCommitFiberUnmount(n,e)})}catch(r){}return!0}function mt(e){"function"==typeof gi&&gi(e)}function gt(e){"function"==typeof yi&&yi(e)}function yt(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function vt(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}function bt(e,t){var n=e.alternate,r=e.updateQueue;null===r&&(r=e.updateQueue=yt(null)),null!==n?(e=n.updateQueue,null===e&&(e=n.updateQueue=yt(null))):e=null,e=e!==r?e:null,null===e?vt(r,t):null===r.last||null===e.last?(vt(r,t),vt(e,t)):(vt(r,t),e.last=t)}function _t(e,t,n,r){return e=e.partialState,"function"==typeof e?e.call(t,n,r):e}function xt(e,t,n,r,i,a){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var o=!0,s=n.first,l=!1;null!==s;){var u=s.expirationTime;if(u>a){var c=n.expirationTime;(0===c||c>u)&&(n.expirationTime=u),l||(l=!0,n.baseState=e)}else l||(n.first=s.next,null===n.first&&(n.last=null)),s.isReplace?(e=_t(s,r,e,i),o=!0):(u=_t(s,r,e,i))&&(e=o?xn({},e,u):xn(e,u),o=!1),s.isForced&&(n.hasForceUpdate=!0),null!==s.callback&&(u=n.callbackList,null===u&&(u=n.callbackList=[]),u.push(s));s=s.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||(t.updateQueue=null),l||(n.baseState=e),e}function wt(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var i=n[e],a=i.callback;i.callback=null,"function"!=typeof a?r("191",a):void 0,a.call(t)}}function Ot(e,t,n,i){function a(e,t){t.updater=o,e.stateNode=t,t._reactInternalFiber=e}var o={isMounted:Oe,enqueueSetState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=t(n);bt(n,{expirationTime:a,partialState:r,callback:i,isReplace:!1,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueReplaceState:function(n,r,i){n=n._reactInternalFiber,i=void 0===i?null:i;var a=t(n);bt(n,{expirationTime:a,partialState:r,callback:i,isReplace:!0,isForced:!1,nextCallback:null,next:null}),e(n,a)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber,r=void 0===r?null:r;var i=t(n);bt(n,{expirationTime:i,partialState:null,callback:r,isReplace:!1,isForced:!0,nextCallback:null,next:null}),e(n,i)}};return{adoptClassInstance:a,constructClassInstance:function(e,t){var n=e.type,r=Qe(e),i=2===e.tag&&null!=e.type.contextTypes,o=i?Je(e,r):Mn;return t=new n(t,o),a(e,t),i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t},mountClassInstance:function(e,t){var n=e.alternate,i=e.stateNode,a=i.state||null,s=e.pendingProps;s?void 0:r("158");var l=Qe(e);i.props=s,i.state=e.memoizedState=a,i.refs=Mn,i.context=Je(e,l),null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent&&(e.internalContextTag|=1),"function"==typeof i.componentWillMount&&(a=i.state,i.componentWillMount(),a!==i.state&&o.enqueueReplaceState(i,i.state,null),a=e.updateQueue,null!==a&&(i.state=xt(n,e,a,i,s,t))),"function"==typeof i.componentDidMount&&(e.effectTag|=4)},updateClassInstance:function(e,t,a){var s=t.stateNode;s.props=t.memoizedProps,s.state=t.memoizedState;var l=t.memoizedProps,u=t.pendingProps;u||(u=l,null==u?r("159"):void 0);var c=s.context,f=Qe(t);if(f=Je(t,f),"function"!=typeof s.componentWillReceiveProps||l===u&&c===f||(c=s.state,s.componentWillReceiveProps(u,f),s.state!==c&&o.enqueueReplaceState(s,s.state,null)),c=t.memoizedState,a=null!==t.updateQueue?xt(e,t,t.updateQueue,s,u,a):c,!(l!==u||c!==a||hi.current||null!==t.updateQueue&&t.updateQueue.hasForceUpdate))return"function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),!1;var d=u;if(null===l||null!==t.updateQueue&&t.updateQueue.hasForceUpdate)d=!0;else{var p=t.stateNode,h=t.type;d="function"==typeof p.shouldComponentUpdate?p.shouldComponentUpdate(d,a,f):!h.prototype||!h.prototype.isPureReactComponent||(!kn(l,d)||!kn(c,a))}return d?("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(u,a,f),"function"==typeof s.componentDidUpdate&&(t.effectTag|=4)):("function"!=typeof s.componentDidUpdate||l===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),n(t,u),i(t,a)),s.props=u,s.state=a,s.context=f,d}}}function St(e){return null===e||"undefined"==typeof e?null:(e=Si&&e[Si]||e["@@iterator"],"function"==typeof e?e:null)}function kt(e,t){var n=t.ref;if(null!==n&&"function"!=typeof n){if(t._owner){t=t._owner;var i=void 0;t&&(2!==t.tag?r("110"):void 0,i=t.stateNode),i?void 0:r("147",n);var a=""+n;return null!==e&&null!==e.ref&&e.ref._stringRef===a?e.ref:(e=function(e){var t=i.refs===Mn?i.refs={}:i.refs;null===e?delete t[a]:t[a]=e},e._stringRef=a,e)}"string"!=typeof n?r("148"):void 0,t._owner?void 0:r("149",n)}return n}function Pt(e,t){"textarea"!==e.type&&r("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Et(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return e=ot(e,t,n),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,null!==r?(r=r.index,r<n?(t.effectTag=2,n):r):(t.effectTag=2,n)):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?(t=ut(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?(r=a(t,n.props,r),r.ref=kt(t,n),r.return=e,r):(r=st(n,e.internalContextTag,r),r.ref=kt(t,n),r.return=e,r)}function c(e,t,n,r){return null===t||7!==t.tag?(t=ct(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function f(e,t,n,r){return null===t||9!==t.tag?(t=ft(n,e.internalContextTag,r),t.type=n.value,t.return=e,t):(t=a(t,null,r),t.type=n.value,t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=dt(n,e.internalContextTag,r),t.return=e,t):(t=a(t,n.children||[],r),t.return=e,t)}function p(e,t,n,r,i){return null===t||10!==t.tag?(t=lt(n,e.internalContextTag,r,i),t.return=e,t):(t=a(t,n,r),t.return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return t=ut(""+t,e.internalContextTag,n),t.return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case bi:return t.type===Oi?(t=lt(t.props.children,e.internalContextTag,n,t.key),t.return=e,t):(n=st(t,e.internalContextTag,n),n.ref=kt(null,t),n.return=e,n);case _i:return t=ct(t,e.internalContextTag,n),t.return=e,t;case xi:return n=ft(t,e.internalContextTag,n),n.type=t.value,n.return=e,n;case wi:return t=dt(t,e.internalContextTag,n),t.return=e,t}if(ki(t)||St(t))return t=lt(t,e.internalContextTag,n,null),t.return=e,t;Pt(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case bi:return n.key===i?n.type===Oi?p(e,t,n.props.children,r,i):u(e,t,n,r):null;case _i:return n.key===i?c(e,t,n,r):null;case xi:return null===i?f(e,t,n,r):null;case wi:return n.key===i?d(e,t,n,r):null}if(ki(n)||St(n))return null!==i?null:p(e,t,n,r,null);Pt(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return e=e.get(n)||null,l(t,e,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case bi:return e=e.get(null===r.key?n:r.key)||null,r.type===Oi?p(t,e,r.props.children,i,r.key):u(t,e,r,i);case _i:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i);case xi:return e=e.get(n)||null,f(t,e,r,i);case wi:return e=e.get(null===r.key?n:r.key)||null,d(t,e,r,i)}if(ki(r)||St(r))return e=e.get(n)||null,p(t,e,r,i,null);Pt(t,r)}return null}function y(r,a,s,l){for(var u=null,c=null,f=a,d=a=0,p=null;null!==f&&d<s.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var y=m(r,f,s[d],l);if(null===y){null===f&&(f=p);break}e&&f&&null===y.alternate&&t(r,f),a=o(y,a,d),null===c?u=y:c.sibling=y,c=y,f=p}if(d===s.length)return n(r,f),u;if(null===f){for(;d<s.length;d++)(f=h(r,s[d],l))&&(a=o(f,a,d),null===c?u=f:c.sibling=f,c=f);return u}for(f=i(r,f);d<s.length;d++)(p=g(f,r,d,s[d],l))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),a=o(p,a,d),null===c?u=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return t(r,e)}),u}function v(a,s,l,u){var c=St(l);"function"!=typeof c?r("150"):void 0,l=c.call(l),null==l?r("151"):void 0;for(var f=c=null,d=s,p=s=0,y=null,v=l.next();null!==d&&!v.done;p++,v=l.next()){d.index>p?(y=d,d=null):y=d.sibling;var b=m(a,d,v.value,u);if(null===b){d||(d=y);break}e&&d&&null===b.alternate&&t(a,d),s=o(b,s,p),null===f?c=b:f.sibling=b,f=b,d=y}if(v.done)return n(a,d),c;if(null===d){for(;!v.done;p++,v=l.next())v=h(a,v.value,u),null!==v&&(s=o(v,s,p),null===f?c=v:f.sibling=v,f=v);return c}for(d=i(a,d);!v.done;p++,v=l.next())v=g(d,a,p,v.value,u),null!==v&&(e&&null!==v.alternate&&d.delete(null===v.key?p:v.key),s=o(v,s,p),null===f?c=v:f.sibling=v,f=v);return e&&d.forEach(function(e){return t(a,e)}),c}return function(e,i,o,l){"object"==typeof o&&null!==o&&o.type===Oi&&null===o.key&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case bi:e:{var c=o.key;for(u=i;null!==u;){if(u.key===c){if(10===u.tag?o.type===Oi:u.type===o.type){n(e,u.sibling),i=a(u,o.type===Oi?o.props.children:o.props,l),i.ref=kt(u,o),i.return=e,e=i;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Oi?(i=lt(o.props.children,e.internalContextTag,l,o.key),i.return=e,e=i):(l=st(o,e.internalContextTag,l),l.ref=kt(i,o),l.return=e,e=l)}return s(e);case _i:e:{for(u=o.key;null!==i;){if(i.key===u){if(7===i.tag){n(e,i.sibling),i=a(i,o,l),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=ct(o,e.internalContextTag,l),i.return=e,e=i}return s(e);case xi:e:{if(null!==i){if(9===i.tag){n(e,i.sibling),i=a(i,null,l),i.type=o.value,i.return=e,e=i;break e}n(e,i)}i=ft(o,e.internalContextTag,l),i.type=o.value,i.return=e,e=i}return s(e);case wi:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),i=a(i,o.children||[],l),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=dt(o,e.internalContextTag,l),i.return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),i=a(i,o,l)):(n(e,i),i=ut(o,e.internalContextTag,l)),i.return=e,e=i,s(e);if(ki(o))return y(e,i,o,l);if(St(o))return v(e,i,o,l);if(u&&Pt(e,o),"undefined"==typeof o)switch(e.tag){case 2:case 1:l=e.type,r("152",l.displayName||l.name||"Component")}return n(e,i)}}function Mt(e,t,n,i,a){function o(e,t,n){var r=t.expirationTime;t.child=null===e?Ei(t,null,n,r):Pi(t,e.child,n,r)}function s(e,t){var n=t.ref;null===n||e&&e.ref===n||(t.effectTag|=128)}function l(e,t,n,r){if(s(e,t),!n)return r&&it(t,!1),c(e,t);n=t.stateNode,Ur.current=t;var i=n.render();return t.effectTag|=1,o(e,t,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&it(t,!0),t.child}function u(e){var t=e.stateNode;t.pendingContext?tt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tt(e,t.context,!1),g(e,t.containerInfo)}function c(e,t){if(null!==e&&t.child!==e.child?r("153"):void 0,null!==t.child){e=t.child;var n=ot(e,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=ot(e,e.pendingProps,e.expirationTime),n.return=t;n.sibling=null}return t.child}function f(e,t){switch(t.tag){case 3:u(t);break;case 2:rt(t);break;case 4:g(t,t.stateNode.containerInfo)}return null}var d=e.shouldSetTextContent,p=e.useSyncScheduling,h=e.shouldDeprioritizeSubtree,m=t.pushHostContext,g=t.pushHostContainer,y=n.enterHydrationState,v=n.resetHydrationState,b=n.tryToClaimNextHydratableInstance;e=Ot(i,a,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t});var _=e.adoptClassInstance,x=e.constructClassInstance,w=e.mountClassInstance,O=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n)return f(e,t);switch(t.tag){case 0:null!==e?r("155"):void 0;var i=t.type,a=t.pendingProps,S=Qe(t);return S=Je(t,S),i=i(a,S),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render?(t.tag=2,a=rt(t),_(t,i),w(t,n),t=l(e,t,!0,a)):(t.tag=1,o(e,t,i),t.memoizedProps=a,t=t.child),t;case 1:e:{if(a=t.type,n=t.pendingProps,i=t.memoizedProps,hi.current)null===n&&(n=i);else if(null===n||i===n){t=c(e,t);break e}i=Qe(t),i=Je(t,i),a=a(n,i),t.effectTag|=1,o(e,t,a),t.memoizedProps=n,t=t.child}return t;case 2:return a=rt(t),i=void 0,null===e?t.stateNode?r("153"):(x(t,t.pendingProps),w(t,n),i=!0):i=O(e,t,n),l(e,t,i,a);case 3:return u(t),a=t.updateQueue,null!==a?(i=t.memoizedState,a=xt(e,t,a,null,null,n),i===a?(v(),t=c(e,t)):(i=a.element,S=t.stateNode,(null===e||null===e.child)&&S.hydrate&&y(t)?(t.effectTag|=2,t.child=Ei(t,null,i,n)):(v(),o(e,t,i)),t.memoizedState=a,t=t.child)):(v(),t=c(e,t)),t;case 5:m(t),null===e&&b(t),a=t.type;var k=t.memoizedProps;return i=t.pendingProps,null===i&&(i=k,null===i?r("154"):void 0),S=null!==e?e.memoizedProps:null,hi.current||null!==i&&k!==i?(k=i.children,d(a,i)?k=null:S&&d(a,S)&&(t.effectTag|=16),s(e,t),2147483647!==n&&!p&&h(a,i)?(t.expirationTime=2147483647,t=null):(o(e,t,k),t.memoizedProps=i,t=t.child)):t=c(e,t),t;case 6:return null===e&&b(t),e=t.pendingProps,null===e&&(e=t.memoizedProps),t.memoizedProps=e,null;case 8:t.tag=7;case 7:return a=t.pendingProps,hi.current?null===a&&(a=e&&e.memoizedProps,null===a?r("154"):void 0):null!==a&&t.memoizedProps!==a||(a=t.memoizedProps),i=a.children,t.stateNode=null===e?Ei(t,t.stateNode,i,n):Pi(t,t.stateNode,i,n),t.memoizedProps=a,t.stateNode;case 9:return null;case 4:e:{if(g(t,t.stateNode.containerInfo),a=t.pendingProps,hi.current)null===a&&(a=e&&e.memoizedProps,null==a?r("154"):void 0);else if(null===a||t.memoizedProps===a){t=c(e,t);break e}null===e?t.child=Pi(t,null,a,n):o(e,t,a),t.memoizedProps=a,t=t.child}return t;case 10:e:{if(n=t.pendingProps,hi.current)null===n&&(n=t.memoizedProps);else if(null===n||t.memoizedProps===n){t=c(e,t);break e}o(e,t,n),t.memoizedProps=n,t=t.child}return t;default:r("156")}},beginFailedWork:function(e,t,n){switch(t.tag){case 2:rt(t);break;case 3:u(t);break;default:r("157")}return t.effectTag|=64,null===e?t.child=null:t.child!==e.child&&(t.child=e.child),0===t.expirationTime||t.expirationTime>n?f(e,t):(t.firstEffect=null,t.lastEffect=null,t.child=null===e?Ei(t,null,null,n):Pi(t,e.child,null,n),2===t.tag&&(e=t.stateNode,t.memoizedProps=e.props,t.memoizedState=e.state),t.child)}}}function Tt(e,t,n){function i(e){e.effectTag|=4}var a=e.createInstance,o=e.createTextInstance,s=e.appendInitialChild,l=e.finalizeInitialChildren,u=e.prepareUpdate,c=e.persistence,f=t.getRootHostContainer,d=t.popHostContext,p=t.getHostContext,h=t.popHostContainer,m=n.prepareToHydrateHostInstance,g=n.prepareToHydrateHostTextInstance,y=n.popHydrationState,v=void 0,b=void 0,_=void 0;return e.mutation?(v=function(){},b=function(e,t,n){(t.updateQueue=n)&&i(t)},_=function(e,t,n,r){n!==r&&i(t)}):r(c?"235":"236"),{completeWork:function(e,t,n){var c=t.pendingProps;switch(null===c?c=t.memoizedProps:2147483647===t.expirationTime&&2147483647!==n||(t.pendingProps=null),t.tag){case 1:return null;case 2:return et(t),null;case 3:return h(t),Xe(hi,t),Xe(pi,t),c=t.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==e&&null!==e.child||(y(t),t.effectTag&=-3),v(t),null;case 5:d(t),n=f();var x=t.type;if(null!==e&&null!=t.stateNode){var w=e.memoizedProps,O=t.stateNode,S=p();O=u(O,x,w,c,n,S),b(e,t,O,x,w,c,n),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!c)return null===t.stateNode?r("166"):void 0,null;if(e=p(),y(t))m(t,n,e)&&i(t);else{e=a(x,c,n,e,t);e:for(w=t.child;null!==w;){if(5===w.tag||6===w.tag)s(e,w.stateNode);else if(4!==w.tag&&null!==w.child){w.child.return=w,w=w.child;continue}if(w===t)break;for(;null===w.sibling;){if(null===w.return||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l(e,x,c,n)&&i(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)_(e,t,e.memoizedProps,c);else{if("string"!=typeof c)return null===t.stateNode?r("166"):void 0,null;e=f(),n=p(),y(t)?g(t)&&i(t):t.stateNode=o(c,e,n,t)}return null;case 7:(c=t.memoizedProps)?void 0:r("165"),t.tag=8,x=[];e:for((w=t.stateNode)&&(w.return=t);null!==w;){if(5===w.tag||6===w.tag||4===w.tag)r("247");else if(9===w.tag)x.push(w.type);else if(null!==w.child){w.child.return=w,w=w.child;continue}for(;null===w.sibling;){if(null===w.return||w.return===t)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}return w=c.handler,c=w(c.props,x),t.child=Pi(t,null!==e?e.child:null,c,n),t.child;case 8:return t.tag=7,null;case 9:return null;case 10:return null;case 4:return h(t),v(t),null;case 0:r("167");default:r("156")}}}}function Ct(e,t){function n(e){var n=e.ref;if(null!==n)try{n(null)}catch(r){t(e,r)}}function i(e){switch("function"==typeof gt&&gt(e),e.tag){case 2:n(e);var r=e.stateNode;if("function"==typeof r.componentWillUnmount)try{r.props=e.memoizedProps,r.state=e.memoizedState,r.componentWillUnmount()}catch(i){t(e,i)}break;case 5:n(e);break;case 7:a(e.stateNode);break;case 4:u&&s(e)}}function a(e){for(var t=e;;)if(i(t),null===t.child||u&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function o(e){return 5===e.tag||3===e.tag||4===e.tag}function s(e){for(var t=e,n=!1,o=void 0,s=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n?r("160"):void 0,n.tag){case 5:o=n.stateNode,s=!1;break e;case 3:o=n.stateNode.containerInfo,s=!0;break e;case 4:o=n.stateNode.containerInfo,s=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)a(t),s?b(o,t.stateNode):v(o,t.stateNode);else if(4===t.tag?o=t.stateNode.containerInfo:i(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return,4===t.tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var l=e.getPublicInstance,u=e.mutation;e=e.persistence,u||r(e?"235":"236");var c=u.commitMount,f=u.commitUpdate,d=u.resetTextContent,p=u.commitTextUpdate,h=u.appendChild,m=u.appendChildToContainer,g=u.insertBefore,y=u.insertInContainerBefore,v=u.removeChild,b=u.removeChildFromContainer;return{commitResetTextContent:function(e){d(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(o(t)){var n=t;break e}t=t.return}r("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:t=n.stateNode.containerInfo,i=!0;break;case 4:t=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(d(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||o(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)n?i?y(t,a.stateNode,n):g(t,a.stateNode,n):i?m(t,a.stateNode):h(t,a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},commitDeletion:function(e){s(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var a=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&f(n,o,a,e,i,t)}break;case 6:null===t.stateNode?r("162"):void 0,n=t.memoizedProps,p(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:r("163")}},commitLifeCycles:function(e,t){switch(t.tag){case 2:var n=t.stateNode;if(4&t.effectTag)if(null===e)n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidMount();else{var i=e.memoizedProps;e=e.memoizedState,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentDidUpdate(i,e)}t=t.updateQueue,null!==t&&wt(t,n);break;case 3:n=t.updateQueue,null!==n&&wt(n,null!==t.child?t.child.stateNode:null);break;case 5:n=t.stateNode,null===e&&4&t.effectTag&&c(n,t.type,t.memoizedProps,t);break;case 6:break;case 4:break;default:r("163")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:t(l(n));break;default:t(n)}}},commitDetachRef:function(e){e=e.ref,null!==e&&e(null)}}}function At(e){function t(e){return e===Mi?r("174"):void 0,e}var n=e.getChildHostContext,i=e.getRootHostContext,a={current:Mi},o={current:Mi},s={current:Mi};return{getHostContext:function(){return t(a.current)},getRootHostContainer:function(){return t(s.current)},popHostContainer:function(e){Xe(a,e),Xe(o,e),Xe(s,e)},popHostContext:function(e){o.current===e&&(Xe(a,e),Xe(o,e))},pushHostContainer:function(e,t){Ke(s,t,e),t=i(t),Ke(o,e,e),Ke(a,t,e)},pushHostContext:function(e){var r=t(s.current),i=t(a.current);r=n(i,e.type,r),i!==r&&(Ke(o,e,e),Ke(a,r,e))},resetHostContainer:function(){a.current=Mi,s.current=Mi}}}function Dt(e){function t(e,t){var n=new at(5,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return t=o(t,e.type,e.pendingProps),null!==t&&(e.stateNode=t,!0);case 6:return t=s(t,e.pendingProps),null!==t&&(e.stateNode=t,!0);default:return!1}}function i(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;d=e}var a=e.shouldSetTextContent;if(e=e.hydration,!e)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){r("175")},prepareToHydrateHostTextInstance:function(){r("176")},popHydrationState:function(){return!1}};var o=e.canHydrateInstance,s=e.canHydrateTextInstance,l=e.getNextHydratableSibling,u=e.getFirstHydratableChild,c=e.hydrateInstance,f=e.hydrateTextInstance,d=null,p=null,h=!1;return{enterHydrationState:function(e){return p=u(e.stateNode.containerInfo),d=e,h=!0},resetHydrationState:function(){p=d=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=p;if(r){if(!n(e,r)){if(r=l(r),!r||!n(e,r))return e.effectTag|=2,h=!1,void(d=e);t(d,p)}d=e,p=u(r)}else e.effectTag|=2,h=!1,d=e}},prepareToHydrateHostInstance:function(e,t,n){return t=c(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return f(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==d)return!1;if(!h)return i(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!a(n,e.memoizedProps))for(n=p;n;)t(e,n),n=l(n);return i(e),p=d?l(e.stateNode):null,!0}}}function jt(e){function t(e){ae=X=!0;var t=e.stateNode;if(t.current===e?r("177"):void 0,t.isReadyForCommit=!1,Ur.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var n=e.firstEffect}else n=e;else n=e.firstEffect;for(W(),Z=n;null!==Z;){var i=!1,a=void 0;try{for(;null!==Z;){var o=Z.effectTag;if(16&o&&j(Z),128&o){var s=Z.alternate;null!==s&&$(s)}switch(o&-242){case 2:R(Z),Z.effectTag&=-3;break;case 6:R(Z),Z.effectTag&=-3,I(Z.alternate,Z);break;case 4:I(Z.alternate,Z);break;case 8:oe=!0,N(Z),oe=!1}Z=Z.nextEffect}}catch(u){i=!0,a=u}i&&(null===Z?r("178"):void 0,l(Z,a),null!==Z&&(Z=Z.nextEffect))}for(V(),t.current=e,Z=n;null!==Z;){n=!1,i=void 0;try{for(;null!==Z;){var c=Z.effectTag;if(36&c&&z(Z.alternate,Z),128&c&&F(Z),64&c)switch(a=Z,o=void 0,null!==ee&&(o=ee.get(a),ee.delete(a),null==o&&null!==a.alternate&&(a=a.alternate,o=ee.get(a),ee.delete(a))),null==o?r("184"):void 0,a.tag){case 2:a.stateNode.componentDidCatch(o.error,{componentStack:o.componentStack});break;case 3:null===re&&(re=o.error);break;default:r("157")}var f=Z.nextEffect;Z.nextEffect=null,Z=f}}catch(u){n=!0,i=u}n&&(null===Z?r("178"):void 0,l(Z,i),null!==Z&&(Z=Z.nextEffect))}return X=ae=!1,"function"==typeof mt&&mt(e.stateNode),ne&&(ne.forEach(m),ne=null),null!==re&&(e=re,re=null,O(e)),t=t.current.expirationTime,0===t&&(te=ee=null),t}function n(e){for(;;){var t=D(e.alternate,e,J),n=e.return,r=e.sibling,i=e;if(2147483647===J||2147483647!==i.expirationTime){if(2!==i.tag&&3!==i.tag)var a=0;else a=i.updateQueue,a=null===a?0:a.expirationTime;for(var o=i.child;null!==o;)0!==o.expirationTime&&(0===a||a>o.expirationTime)&&(a=o.expirationTime),o=o.sibling;i.expirationTime=a}if(null!==t)return t;if(null!==n&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){e.stateNode.isReadyForCommit=!0;break}e=n}return null}function i(e){var t=C(e.alternate,e,J);return null===t&&(t=n(e)),Ur.current=null,t}function a(e){var t=A(e.alternate,e,J);return null===t&&(t=n(e)),Ur.current=null,t}function o(e){if(null!==ee){if(!(0===J||J>e))if(J<=G)for(;null!==K;)K=u(K)?a(K):i(K);else for(;null!==K&&!w();)K=u(K)?a(K):i(K)}else if(!(0===J||J>e))if(J<=G)for(;null!==K;)K=i(K);else for(;null!==K&&!w();)K=i(K)}function s(e,t){if(X?r("243"):void 0,X=!0,e.isReadyForCommit=!1,e!==Q||t!==J||null===K){for(;-1<di;)fi[di]=null,di--;mi=Mn,pi.current=Mn,hi.current=!1,M(),Q=e,J=t,K=ot(Q.current,null,t)}var n=!1,i=null;try{o(t)}catch(s){n=!0,i=s}for(;n;){if(ie){re=i;break}var u=K;if(null===u)ie=!0;else{var c=l(u,i);if(null===c?r("183"):void 0,!ie){try{for(n=c,i=t,c=n;null!==u;){switch(u.tag){case 2:et(u);break;case 5:E(u);break;case 3:P(u);break;case 4:P(u)}if(u===c||u.alternate===c)break;u=u.return}K=a(n),o(i)}catch(s){n=!0,i=s;continue}break}}}return t=re,ie=X=!1,re=null,null!==t&&O(t),e.isReadyForCommit?e.current.alternate:null}function l(e,t){var n=Ur.current=null,r=!1,i=!1,a=null;if(3===e.tag)n=e,c(e)&&(ie=!0);else for(var o=e.return;null!==o&&null===n;){if(2===o.tag?"function"==typeof o.stateNode.componentDidCatch&&(r=!0,a=xe(o),n=o,i=!0):3===o.tag&&(n=o),c(o)){if(oe||null!==ne&&(ne.has(o)||null!==o.alternate&&ne.has(o.alternate)))return null;n=null,i=!1}o=o.return}if(null!==n){null===te&&(te=new Set),te.add(n);var s="";o=e;do{e:switch(o.tag){case 0:case 1:case 2:case 5:var l=o._debugOwner,u=o._debugSource,f=xe(o),d=null;l&&(d=xe(l)),l=u,f="\n    in "+(f||"Unknown")+(l?" (at "+l.fileName.replace(/^.*[\\\/]/,"")+":"+l.lineNumber+")":d?" (created by "+d+")":"");break e;default:f=""}s+=f,o=o.return}while(o);o=s,e=xe(e),null===ee&&(ee=new Map),t={componentName:e,componentStack:o,error:t,errorBoundary:r?n.stateNode:null,errorBoundaryFound:r,errorBoundaryName:a,willRetry:i},ee.set(n,t);try{var p=t.error;p&&p.suppressReactErrorLogging||console.error(p)}catch(h){h&&h.suppressReactErrorLogging||console.error(h)}return ae?(null===ne&&(ne=new Set),ne.add(n)):m(n),n}return null===re&&(re=t),null}function u(e){return null!==ee&&(ee.has(e)||null!==e.alternate&&ee.has(e.alternate))}function c(e){return null!==te&&(te.has(e)||null!==e.alternate&&te.has(e.alternate))}function f(){return 20*(((g()+100)/20|0)+1)}function d(e){return 0!==Y?Y:X?ae?1:J:!q||1&e.internalContextTag?f():1}function p(e,t){return h(e,t,!1)}function h(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!X&&n===Q&&t<J&&(K=Q=null,J=0);var i=n,a=t;if(we>_e&&r("185"),null===i.nextScheduledRoot)i.remainingExpirationTime=a,null===le?(se=le=i,i.nextScheduledRoot=i):(le=le.nextScheduledRoot=i,le.nextScheduledRoot=se);else{var o=i.remainingExpirationTime;(0===o||a<o)&&(i.remainingExpirationTime=a)}fe||(ve?be&&(de=i,pe=1,x(de,pe)):1===a?_(1,null):y(a)),!X&&n===Q&&t<J&&(K=Q=null,J=0)}e=e.return}}function m(e){h(e,1,!0)}function g(){return G=((L()-H)/10|0)+2}function y(e){if(0!==ue){if(e>ue)return;B(ce)}var t=L()-H;ue=e,ce=U(b,{timeout:10*(e-2)-t})}function v(){var e=0,t=null;if(null!==le)for(var n=le,i=se;null!==i;){var a=i.remainingExpirationTime;
if(0===a){if(null===n||null===le?r("244"):void 0,i===i.nextScheduledRoot){se=le=i.nextScheduledRoot=null;break}if(i===se)se=a=i.nextScheduledRoot,le.nextScheduledRoot=a,i.nextScheduledRoot=null;else{if(i===le){le=n,le.nextScheduledRoot=se,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if((0===e||a<e)&&(e=a,t=i),i===le)break;n=i,i=i.nextScheduledRoot}}n=de,null!==n&&n===t?we++:we=0,de=t,pe=e}function b(e){_(0,e)}function _(e,t){for(ye=t,v();null!==de&&0!==pe&&(0===e||pe<=e)&&!he;)x(de,pe),v();if(null!==ye&&(ue=0,ce=-1),0!==pe&&y(pe),ye=null,he=!1,we=0,me)throw e=ge,ge=null,me=!1,e}function x(e,n){if(fe?r("245"):void 0,fe=!0,n<=g()){var i=e.finishedWork;null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,i=s(e,n),null!==i&&(e.remainingExpirationTime=t(i)))}else i=e.finishedWork,null!==i?(e.finishedWork=null,e.remainingExpirationTime=t(i)):(e.finishedWork=null,i=s(e,n),null!==i&&(w()?e.finishedWork=i:e.remainingExpirationTime=t(i)));fe=!1}function w(){return!(null===ye||ye.timeRemaining()>Oe)&&(he=!0)}function O(e){null===de?r("246"):void 0,de.remainingExpirationTime=0,me||(me=!0,ge=e)}var S=At(e),k=Dt(e),P=S.popHostContainer,E=S.popHostContext,M=S.resetHostContainer,T=Mt(e,S,k,p,d),C=T.beginWork,A=T.beginFailedWork,D=Tt(e,S,k).completeWork;S=Ct(e,l);var j=S.commitResetTextContent,R=S.commitPlacement,N=S.commitDeletion,I=S.commitWork,z=S.commitLifeCycles,F=S.commitAttachRef,$=S.commitDetachRef,L=e.now,U=e.scheduleDeferredCallback,B=e.cancelDeferredCallback,q=e.useSyncScheduling,W=e.prepareForCommit,V=e.resetAfterCommit,H=L(),G=2,Y=0,X=!1,K=null,Q=null,J=0,Z=null,ee=null,te=null,ne=null,re=null,ie=!1,ae=!1,oe=!1,se=null,le=null,ue=0,ce=-1,fe=!1,de=null,pe=0,he=!1,me=!1,ge=null,ye=null,ve=!1,be=!1,_e=1e3,we=0,Oe=1;return{computeAsyncExpiration:f,computeExpirationForFiber:d,scheduleWork:p,batchedUpdates:function(e,t){var n=ve;ve=!0;try{return e(t)}finally{(ve=n)||fe||_(1,null)}},unbatchedUpdates:function(e){if(ve&&!be){be=!0;try{return e()}finally{be=!1}}return e()},flushSync:function(e){var t=ve;ve=!0;try{e:{var n=Y;Y=1;try{var i=e();break e}finally{Y=n}i=void 0}return i}finally{ve=t,fe?r("187"):void 0,_(1,null)}},deferredUpdates:function(e){var t=Y;Y=f();try{return e()}finally{Y=t}}}}function Rt(e){function t(e){return e=Pe(e),null===e?null:e.stateNode}var n=e.getPublicInstance;e=jt(e);var i=e.computeAsyncExpiration,a=e.computeExpirationForFiber,o=e.scheduleWork;return{createContainer:function(e,t){var n=new at(3,null,0);return e={current:n,containerInfo:e,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:t,nextScheduledRoot:null},n.stateNode=e},updateContainer:function(e,t,n,s){var l=t.current;if(n){n=n._reactInternalFiber;var u;e:{for(2===we(n)&&2===n.tag?void 0:r("170"),u=n;3!==u.tag;){if(Ze(u)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}(u=u.return)?void 0:r("171")}u=u.stateNode.context}n=Ze(n)?nt(n,u):u}else n=Mn;null===t.context?t.context=n:t.pendingContext=n,t=s,t=void 0===t?null:t,s=null!=e&&null!=e.type&&null!=e.type.prototype&&!0===e.type.prototype.unstable_isAsyncReactComponent?i():a(l),bt(l,{expirationTime:s,partialState:{element:e},callback:t,isReplace:!1,isForced:!1,nextCallback:null,next:null}),o(l,s)},batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,flushSync:e.flushSync,getPublicRootInstance:function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:t,findHostInstanceWithNoPortals:function(e){return e=Ee(e),null===e?null:e.stateNode},injectIntoDevTools:function(e){var n=e.findFiberByHostInstance;return ht(xn({},e,{findHostInstanceByFiber:function(e){return t(e)},findFiberByHostInstance:function(e){return n?n(e):null}}))}}}function Nt(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wi,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function It(e){return!!Yi.hasOwnProperty(e)||!Gi.hasOwnProperty(e)&&(Hi.test(e)?Yi[e]=!0:(Gi[e]=!0,!1))}function zt(e,t,n){var r=o(t);if(r&&a(t,n)){var i=r.mutationMethod;i?i(e,n):null==n||r.hasBooleanValue&&!n||r.hasNumericValue&&isNaN(n)||r.hasPositiveNumericValue&&1>n||r.hasOverloadedBooleanValue&&!1===n?$t(e,t):r.mustUseProperty?e[r.propertyName]=n:(t=r.attributeName,(i=r.attributeNamespace)?e.setAttributeNS(i,t,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(t,""):e.setAttribute(t,""+n))}else Ft(e,t,a(t,n)?n:null)}function Ft(e,t,n){It(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))}function $t(e,t){var n=o(t);n?(t=n.mutationMethod)?t(e,void 0):n.mustUseProperty?e[n.propertyName]=!n.hasBooleanValue&&"":e.removeAttribute(n.attributeName):e.removeAttribute(t)}function Lt(e,t){var n=t.value,r=t.checked;return xn({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked})}function Ut(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Bt(e,t){t=t.checked,null!=t&&zt(e,"checked",t)}function qt(e,t){Bt(e,t);var n=t.value;null!=n?0===n&&""===e.value?e.value="0":"number"===t.type?(t=parseFloat(e.value)||0,(n!=t||n==t&&e.value!=n)&&(e.value=""+n)):e.value!==""+n&&(e.value=""+n):(null==t.value&&null!=t.defaultValue&&e.defaultValue!==""+t.defaultValue&&(e.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked))}function Wt(e,t){switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":e.value="",e.value=e.defaultValue;break;default:e.value=e.value}t=e.name,""!==t&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Vt(e){var t="";return bn.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}function Ht(e,t){return e=xn({children:void 0},t),(t=Vt(t.children))&&(e.children=t),e}function Gt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Yt(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Xt(e,t){return null!=t.dangerouslySetInnerHTML?r("91"):void 0,xn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kt(e,t){var n=t.value;null==n&&(n=t.defaultValue,t=t.children,null!=t&&(null!=n?r("92"):void 0,Array.isArray(t)&&(1>=t.length?void 0:r("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Qt(e,t){var n=t.value;null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Jt(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function tn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function nn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,a=t[n];i=null==a||"boolean"==typeof a||""===a?"":r||"number"!=typeof a||0===a||Ji.hasOwnProperty(i)&&Ji[i]?(""+a).trim():a+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function rn(e,t,n){t&&(ea[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?r("137",e,n()):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?r("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML?void 0:r("61")),null!=t.style&&"object"!=typeof t.style?r("62",n()):void 0)}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function on(e,t){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var n=Ne(e);t=Kn[t];for(var r=0;r<t.length;r++){var i=t[r];n.hasOwnProperty(i)&&n[i]||("topScroll"===i?Ae("topScroll","scroll",e):"topFocus"===i||"topBlur"===i?(Ae("topFocus","focus",e),Ae("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===i?(ne("cancel",!0)&&Ae("topCancel","cancel",e),n.topCancel=!0):"topClose"===i?(ne("close",!0)&&Ae("topClose","close",e),n.topClose=!0):Xr.hasOwnProperty(i)&&Ce(i,Xr[i],e),n[i]=!0)}}function sn(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===ta&&(r=Zt(e)),r===ta?"script"===e?(e=n.createElement("div"),e.innerHTML="<script></script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function ln(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function un(e,t,n,r){var i=an(t,n);switch(t){case"iframe":case"object":Ce("topLoad","load",e);var a=n;break;case"video":case"audio":for(a in ra)ra.hasOwnProperty(a)&&Ce(a,ra[a],e);a=n;break;case"source":Ce("topError","error",e),a=n;break;case"img":case"image":Ce("topError","error",e),Ce("topLoad","load",e),a=n;break;case"form":Ce("topReset","reset",e),Ce("topSubmit","submit",e),a=n;break;case"details":Ce("topToggle","toggle",e),a=n;break;case"input":Ut(e,n),a=Lt(e,n),Ce("topInvalid","invalid",e),on(r,"onChange");break;case"option":a=Ht(e,n);break;case"select":Yt(e,n),a=xn({},n,{value:void 0}),Ce("topInvalid","invalid",e),on(r,"onChange");break;case"textarea":Kt(e,n),a=Xt(e,n),Ce("topInvalid","invalid",e),on(r,"onChange");break;default:a=n}rn(t,a,na);var o,s=a;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?nn(e,l,na):"dangerouslySetInnerHTML"===o?(l=l?l.__html:void 0,null!=l&&Qi(e,l)):"children"===o?"string"==typeof l?("textarea"!==t||""!==l)&&tn(e,l):"number"==typeof l&&tn(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Xn.hasOwnProperty(o)?null!=l&&on(r,o):i?Ft(e,o,l):null!=l&&zt(e,o,l))}switch(t){case"input":ae(e),Wt(e,n);break;case"textarea":ae(e),Jt(e,n);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,t=n.value,null!=t?Gt(e,!!n.multiple,t,!1):null!=n.defaultValue&&Gt(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=wn)}}function cn(e,t,n,r,i){var a=null;switch(t){case"input":n=Lt(e,n),r=Lt(e,r),a=[];break;case"option":n=Ht(e,n),r=Ht(e,r),a=[];break;case"select":n=xn({},n,{value:void 0}),r=xn({},r,{value:void 0}),a=[];break;case"textarea":n=Xt(e,n),r=Xt(e,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=wn)}rn(t,r,na);var o,s;e=null;for(o in n)if(!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&null!=n[o])if("style"===o)for(s in t=n[o])t.hasOwnProperty(s)&&(e||(e={}),e[s]="");else"dangerouslySetInnerHTML"!==o&&"children"!==o&&"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(Xn.hasOwnProperty(o)?a||(a=[]):(a=a||[]).push(o,null));for(o in r){var l=r[o];if(t=null!=n?n[o]:void 0,r.hasOwnProperty(o)&&l!==t&&(null!=l||null!=t))if("style"===o)if(t){for(s in t)!t.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in l)l.hasOwnProperty(s)&&t[s]!==l[s]&&(e||(e={}),e[s]=l[s])}else e||(a||(a=[]),a.push(o,e)),e=l;else"dangerouslySetInnerHTML"===o?(l=l?l.__html:void 0,t=t?t.__html:void 0,null!=l&&t!==l&&(a=a||[]).push(o,""+l)):"children"===o?t===l||"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(o,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&(Xn.hasOwnProperty(o)?(null!=l&&on(i,o),a||t===l||(a=[])):(a=a||[]).push(o,l))}return e&&(a=a||[]).push("style",e),a}function fn(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Bt(e,i),an(n,r),r=an(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?nn(e,s,na):"dangerouslySetInnerHTML"===o?Qi(e,s):"children"===o?tn(e,s):r?null!=s?Ft(e,o,s):e.removeAttribute(o):null!=s?zt(e,o,s):$t(e,o)}switch(n){case"input":qt(e,i);break;case"textarea":Qt(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,n=i.value,null!=n?Gt(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Gt(e,!!i.multiple,i.defaultValue,!0):Gt(e,!!i.multiple,i.multiple?[]:"",!1))}}function dn(e,t,n,r,i){switch(t){case"iframe":case"object":Ce("topLoad","load",e);break;case"video":case"audio":for(var a in ra)ra.hasOwnProperty(a)&&Ce(a,ra[a],e);break;case"source":Ce("topError","error",e);break;case"img":case"image":Ce("topError","error",e),Ce("topLoad","load",e);break;case"form":Ce("topReset","reset",e),Ce("topSubmit","submit",e);break;case"details":Ce("topToggle","toggle",e);break;case"input":Ut(e,n),Ce("topInvalid","invalid",e),on(i,"onChange");break;case"select":Yt(e,n),Ce("topInvalid","invalid",e),on(i,"onChange");break;case"textarea":Kt(e,n),Ce("topInvalid","invalid",e),on(i,"onChange")}rn(t,n,na),r=null;for(var o in n)n.hasOwnProperty(o)&&(a=n[o],"children"===o?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):Xn.hasOwnProperty(o)&&null!=a&&on(i,o));switch(t){case"input":ae(e),Wt(e,n);break;case"textarea":ae(e),Jt(e,n);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=wn)}return r}function pn(e,t){return e.nodeValue!==t}function hn(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mn(e){return e=e?9===e.nodeType?e.documentElement:e.firstChild:null,!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))}function gn(e,t,n,i,a){hn(n)?void 0:r("200");var o=n._reactRootContainer;if(o)sa.updateContainer(t,o,e,a);else{if(i=i||mn(n),!i)for(o=void 0;o=n.lastChild;)n.removeChild(o);var s=sa.createContainer(n,i);o=n._reactRootContainer=s,sa.unbatchedUpdates(function(){sa.updateContainer(t,s,e,a)})}return sa.getPublicRootInstance(o)}function yn(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return hn(t)?void 0:r("200"),Nt(e,t,null,n)}function vn(e,t){this._reactRootContainer=sa.createContainer(e,t)}var bn=n(9),_n=n(309),xn=n(58),wn=n(72),On=n(308),Sn=n(312),kn=n(315),Pn=n(310),En=n(311),Mn=n(104);bn?void 0:r("227");var Tn={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Cn={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=Cn,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},o=e.DOMAttributeNames||{};e=e.DOMMutationMethods||{};for(var s in n){An.hasOwnProperty(s)?r("48",s):void 0;var l=s.toLowerCase(),u=n[s];l={attributeName:l,attributeNamespace:null,propertyName:s,mutationMethod:null,mustUseProperty:i(u,t.MUST_USE_PROPERTY),hasBooleanValue:i(u,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(u,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(u,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(u,t.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:i(u,t.HAS_STRING_BOOLEAN_VALUE)},1>=l.hasBooleanValue+l.hasNumericValue+l.hasOverloadedBooleanValue?void 0:r("50",s),o.hasOwnProperty(s)&&(l.attributeName=o[s]),a.hasOwnProperty(s)&&(l.attributeNamespace=a[s]),e.hasOwnProperty(s)&&(l.mutationMethod=e[s]),An[s]=l}}},An={},Dn=Cn,jn=Dn.MUST_USE_PROPERTY,Rn=Dn.HAS_BOOLEAN_VALUE,Nn=Dn.HAS_NUMERIC_VALUE,In=Dn.HAS_POSITIVE_NUMERIC_VALUE,zn=Dn.HAS_OVERLOADED_BOOLEAN_VALUE,Fn=Dn.HAS_STRING_BOOLEAN_VALUE,$n={Properties:{allowFullScreen:Rn,async:Rn,autoFocus:Rn,autoPlay:Rn,capture:zn,checked:jn|Rn,cols:In,contentEditable:Fn,controls:Rn,default:Rn,defer:Rn,disabled:Rn,download:zn,draggable:Fn,formNoValidate:Rn,hidden:Rn,loop:Rn,multiple:jn|Rn,muted:jn|Rn,noValidate:Rn,open:Rn,playsInline:Rn,readOnly:Rn,required:Rn,reversed:Rn,rows:In,rowSpan:Nn,scoped:Rn,seamless:Rn,selected:jn|Rn,size:In,start:Nn,span:In,spellCheck:Fn,style:0,tabIndex:0,itemScope:Rn,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Fn},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}},Ln=Dn.HAS_STRING_BOOLEAN_VALUE,Un={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Bn={Properties:{autoReverse:Ln,externalResourcesRequired:Ln,preserveAlpha:Ln},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:Un.xlink,xlinkArcrole:Un.xlink,xlinkHref:Un.xlink,xlinkRole:Un.xlink,xlinkShow:Un.xlink,xlinkTitle:Un.xlink,xlinkType:Un.xlink,xmlBase:Un.xml,xmlLang:Un.xml,xmlSpace:Un.xml}},qn=/[\-\:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(e){var t=e.replace(qn,s);Bn.Properties[t]=0,Bn.DOMAttributeNames[t]=e}),Dn.injectDOMPropertyConfig($n),Dn.injectDOMPropertyConfig(Bn);var Wn={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(e){"function"!=typeof e.invokeGuardedCallback?r("197"):void 0,l=e.invokeGuardedCallback}},invokeGuardedCallback:function(e,t,n,r,i,a,o,s,u){l.apply(Wn,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,a,o,s,l){if(Wn.invokeGuardedCallback.apply(this,arguments),Wn.hasCaughtError()){var u=Wn.clearCaughtError();Wn._hasRethrowError||(Wn._hasRethrowError=!0,Wn._rethrowError=u)}},rethrowCaughtError:function(){return u.apply(Wn,arguments)},hasCaughtError:function(){return Wn._hasCaughtError},clearCaughtError:function(){if(Wn._hasCaughtError){var e=Wn._caughtError;return Wn._caughtError=null,Wn._hasCaughtError=!1,e}r("198")}},Vn=null,Hn={},Gn=[],Yn={},Xn={},Kn={},Qn=Object.freeze({plugins:Gn,eventNameDispatchConfigs:Yn,registrationNameModules:Xn,registrationNameDependencies:Kn,possibleRegistrationNames:null,injectEventPluginOrder:d,injectEventPluginsByName:p}),Jn=null,Zn=null,er=null,tr=null,nr={injectEventPluginOrder:d,injectEventPluginsByName:p},rr=Object.freeze({injection:nr,getListener:_,extractEvents:x,enqueueEvents:w,processEventQueue:O}),ir=Math.random().toString(36).slice(2),ar="__reactInternalInstance$"+ir,or="__reactEventHandlers$"+ir,sr=Object.freeze({precacheFiberNode:function(e,t){t[ar]=e},getClosestInstanceFromNode:S,getInstanceFromNode:function(e){return e=e[ar],!e||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:k,getFiberCurrentPropsFromNode:P,updateFiberProps:function(e,t){e[or]=t}}),lr=Object.freeze({accumulateTwoPhaseDispatches:R,accumulateTwoPhaseDispatchesSkipTarget:function(e){g(e,A)},accumulateEnterLeaveDispatches:N,accumulateDirectDispatches:function(e){g(e,j)}}),ur=null,cr={_root:null,_startText:null,_fallbackText:null},fr="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),dr={type:null,target:null,currentTarget:wn.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};xn($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=wn.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=wn.thatReturnsTrue)},persist:function(){this.isPersistent=wn.thatReturnsTrue},isPersistent:wn.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<fr.length;t++)this[fr[t]]=null}}),$.Interface=dr,$.augmentClass=function(e,t){function n(){}n.prototype=this.prototype;var r=new n;xn(r,e.prototype),e.prototype=r,e.prototype.constructor=e,e.Interface=xn({},this.Interface,t),e.augmentClass=this.augmentClass,B(e)},B($),$.augmentClass(q,{data:null}),$.augmentClass(W,{data:null});var pr=[9,13,27,32],hr=_n.canUseDOM&&"CompositionEvent"in window,mr=null;_n.canUseDOM&&"documentMode"in document&&(mr=document.documentMode);var gr;if(gr=_n.canUseDOM&&"TextEvent"in window&&!mr){var yr=window.opera;gr=!("object"==typeof yr&&"function"==typeof yr.version&&12>=parseInt(yr.version(),10))}var vr,br=gr,_r=_n.canUseDOM&&(!hr||mr&&8<mr&&11>=mr),xr=String.fromCharCode(32),wr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},Or=!1,Sr=!1,kr={eventTypes:wr,extractEvents:function(e,t,n,r){var i;if(hr)e:{switch(e){case"topCompositionStart":var a=wr.compositionStart;break e;case"topCompositionEnd":a=wr.compositionEnd;break e;case"topCompositionUpdate":a=wr.compositionUpdate;break e}a=void 0}else Sr?V(e,n)&&(a=wr.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(a=wr.compositionStart);return a?(_r&&(Sr||a!==wr.compositionStart?a===wr.compositionEnd&&Sr&&(i=z()):(cr._root=r,cr._startText=F(),Sr=!0)),a=q.getPooled(a,t,n,r),i?a.data=i:(i=H(n),null!==i&&(a.data=i)),R(a),i=a):i=null,(e=br?G(e,n):Y(e,n))?(t=W.getPooled(wr.beforeInput,t,n,r),t.data=e,R(t)):t=null,[i,t]}},Pr=null,Er=null,Mr=null,Tr={injectFiberControlledHostComponent:function(e){Pr=e}},Cr=Object.freeze({injection:Tr,enqueueStateRestore:K,restoreStateIfNeeded:Q}),Ar=!1,Dr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};_n.canUseDOM&&(vr=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var jr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Rr=null,Nr=null,Ir=!1;_n.canUseDOM&&(Ir=ne("input")&&(!document.documentMode||9<document.documentMode));var zr={eventTypes:jr,_isInputEventSupported:Ir,extractEvents:function(e,t,n,r){var i=t?k(t):window,a=i.nodeName&&i.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===i.type)var o=ce;else if(ee(i))if(Ir)o=ge;else{o=he;var s=pe}else a=i.nodeName,!a||"input"!==a.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type||(o=me);return o&&(o=o(e,t))?se(o,n,r):(s&&s(e,i,t),void("topBlur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&(e=""+i.value,i.getAttribute("value")!==e&&i.setAttribute("value",e))))}};$.augmentClass(ye,{view:null,detail:null});var Fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};ye.augmentClass(_e,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:be,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}});var $r={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Lr={eventTypes:$r,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?S(t):null):e=null,e===t)return null;var a=null==e?i:k(e);i=null==t?i:k(t);var o=_e.getPooled($r.mouseLeave,e,n,r);return o.type="mouseleave",o.target=a,o.relatedTarget=i,n=_e.getPooled($r.mouseEnter,t,n,r),n.type="mouseenter",n.target=i,n.relatedTarget=a,N(o,n,e,t),[o,n]}},Ur=bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Br=[],qr=!0,Wr=void 0,Vr=Object.freeze({get _enabled(){return qr},get _handleTopLevel(){return Wr},setHandleTopLevel:function(e){Wr=e},setEnabled:Te,isEnabled:function(){return qr},trapBubbledEvent:Ce,trapCapturedEvent:Ae,dispatchEvent:De}),Hr={animationend:je("Animation","AnimationEnd"),animationiteration:je("Animation","AnimationIteration"),animationstart:je("Animation","AnimationStart"),transitionend:je("Transition","TransitionEnd")},Gr={},Yr={};_n.canUseDOM&&(Yr=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);var Xr={topAbort:"abort",topAnimationEnd:Re("animationend")||"animationend",topAnimationIteration:Re("animationiteration")||"animationiteration",topAnimationStart:Re("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Re("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Kr={},Qr=0,Jr="_reactListenersID"+(""+Math.random()).slice(2),Zr=_n.canUseDOM&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},ti=null,ni=null,ri=null,ii=!1,ai={eventTypes:ei,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Ne(a),i=Kn.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?k(t):window,e){case"topFocus":(ee(a)||"true"===a.contentEditable)&&(ti=a,ni=t,ri=null);break;case"topBlur":ri=ni=ti=null;break;case"topMouseDown":ii=!0;break;case"topContextMenu":case"topMouseUp":return ii=!1,$e(n,r);case"topSelectionChange":if(Zr)break;case"topKeyDown":case"topKeyUp":return $e(n,r)}return null}};$.augmentClass(Le,{animationName:null,elapsedTime:null,pseudoElement:null}),$.augmentClass(Ue,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ye.augmentClass(Be,{relatedTarget:null});var oi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};ye.augmentClass(We,{key:function(e){if(e.key){var t=oi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=qe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?si[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:be,charCode:function(e){return"keypress"===e.type?qe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_e.augmentClass(Ve,{dataTransfer:null}),ye.augmentClass(He,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:be}),$.augmentClass(Ge,{propertyName:null,elapsedTime:null,pseudoElement:null}),_e.augmentClass(Ye,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){
return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null});var li={},ui={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t;t="top"+t,n={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[t]},li[e]=n,ui[t]=n});var ci={eventTypes:li,extractEvents:function(e,t,n,r){var i=ui[e];if(!i)return null;switch(e){case"topKeyPress":if(0===qe(n))return null;case"topKeyDown":case"topKeyUp":e=We;break;case"topBlur":case"topFocus":e=Be;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=_e;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=Ve;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=He;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Le;break;case"topTransitionEnd":e=Ge;break;case"topScroll":e=ye;break;case"topWheel":e=Ye;break;case"topCopy":case"topCut":case"topPaste":e=Ue;break;default:e=$}return t=e.getPooled(i,t,n,r),R(t),t}};Wr=function(e,t,n,r){e=x(e,t,n,r),w(e),O(!1)},nr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Jn=sr.getFiberCurrentPropsFromNode,Zn=sr.getInstanceFromNode,er=sr.getNodeFromInstance,nr.injectEventPluginsByName({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:zr,SelectEventPlugin:ai,BeforeInputEventPlugin:kr});var fi=[],di=-1;new Set;var pi={current:Mn},hi={current:!1},mi=Mn,gi=null,yi=null,vi="function"==typeof Symbol&&Symbol.for,bi=vi?Symbol.for("react.element"):60103,_i=vi?Symbol.for("react.call"):60104,xi=vi?Symbol.for("react.return"):60105,wi=vi?Symbol.for("react.portal"):60106,Oi=vi?Symbol.for("react.fragment"):60107,Si="function"==typeof Symbol&&Symbol.iterator,ki=Array.isArray,Pi=Et(!0),Ei=Et(!1),Mi={},Ti=Object.freeze({default:Rt}),Ci=Ti&&Rt||Ti,Ai=Ci.default?Ci.default:Ci,Di="object"==typeof performance&&"function"==typeof performance.now,ji=void 0;ji=Di?function(){return performance.now()}:function(){return Date.now()};var Ri=void 0,Ni=void 0;if(_n.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Ii,zi=null,Fi=!1,$i=-1,Li=!1,Ui=0,Bi=33,qi=33;Ii=Di?{didTimeout:!1,timeRemaining:function(){var e=Ui-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=Ui-Date.now();return 0<e?e:0}};var Wi="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Wi){if(Fi=!1,e=ji(),0>=Ui-e){if(!(-1!==$i&&$i<=e))return void(Li||(Li=!0,requestAnimationFrame(Vi)));Ii.didTimeout=!0}else Ii.didTimeout=!1;$i=-1,e=zi,zi=null,null!==e&&e(Ii)}},!1);var Vi=function(e){Li=!1;var t=e-Ui+qi;t<qi&&Bi<qi?(8>t&&(t=8),qi=t<Bi?Bi:t):Bi=t,Ui=e+qi,Fi||(Fi=!0,window.postMessage(Wi,"*"))};Ri=function(e,t){return zi=e,null!=t&&"number"==typeof t.timeout&&($i=ji()+t.timeout),Li||(Li=!0,requestAnimationFrame(Vi)),0},Ni=function(){zi=null,Fi=!1,$i=-1}}else Ri=window.requestIdleCallback,Ni=window.cancelIdleCallback;else Ri=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0}})})},Ni=function(e){clearTimeout(e)};var Hi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gi={},Yi={},Xi={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Ki=void 0,Qi=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!==Xi.svg||"innerHTML"in e)e.innerHTML=t;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+t+"</svg>",t=Ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Ji={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zi=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(e){Zi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ji[t]=Ji[e]})});var ea=xn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ta=Xi.html,na=wn.thatReturns(""),ra={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ia=Object.freeze({createElement:sn,createTextNode:ln,setInitialProperties:un,diffProperties:cn,updateProperties:fn,diffHydratedProperties:dn,diffHydratedText:pn,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=P(i);a?void 0:r("90"),oe(i),qt(i,a)}}}break;case"textarea":Qt(e,n);break;case"select":t=n.value,null!=t&&Gt(e,!!n.multiple,t,!1)}}});Tr.injectFiberControlledHostComponent(ia);var aa=null,oa=null,sa=Ai({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:en(null,"");break;default:t=8===t?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=en(e,t)}return e},getChildHostContext:function(e,t){return en(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){aa=qr;var e=Sn();if(Fe(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(a){t=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==t||0!==r&&3!==f.nodeType||(s=o+r),f!==i||0!==n&&3!==f.nodeType||(l=o+n),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===t&&++u===r&&(s=o),d===i&&++c===n&&(l=o),null!==(p=f.nextSibling))break;f=d,d=f.parentNode}f=p}t=-1===s||-1===l?null:{start:s,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;oa={focusedElem:e,selectionRange:t},Te(!1)},resetAfterCommit:function(){var e=oa,t=Sn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&Pn(document.documentElement,n)){if(Fe(n))if(t=r.start,e=r.end,void 0===e&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var i=n[I()].length;e=Math.min(r.start,i),r=void 0===r.end?e:Math.min(r.end,i),!t.extend&&e>r&&(i=r,r=e,e=i),i=ze(n,e);var a=ze(n,r);if(i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)){var o=document.createRange();o.setStart(i.node,i.offset),t.removeAllRanges(),e>r?(t.addRange(o),t.extend(a.node,a.offset)):(o.setEnd(a.node,a.offset),t.addRange(o))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(En(n),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}oa=null,Te(aa),aa=null},createInstance:function(e,t,n,r,i){return e=sn(e,t,n,r),e[ar]=i,e[or]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){un(e,t,n,r);e:{switch(t){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e}e=!1}return e},prepareUpdate:function(e,t,n,r,i){return cn(e,t,n,r,i)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return e=ln(e,t),e[ar]=r,e},now:ji,mutation:{commitMount:function(e){e.focus()},commitUpdate:function(e,t,n,r,i){e[or]=i,fn(e,t,n,r,i)},resetTextContent:function(e){e.textContent=""},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,i,a){return e[ar]=a,e[or]=n,dn(e,t,n,i,r)},hydrateTextInstance:function(e,t,n){return e[ar]=n,pn(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Ri,cancelDeferredCallback:Ni,useSyncScheduling:!0});J=sa.batchedUpdates,vn.prototype.render=function(e,t){sa.updateContainer(e,this._reactRootContainer,null,t)},vn.prototype.unmount=function(e){sa.updateContainer(null,this._reactRootContainer,null,e)};var la={createPortal:yn,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return t?sa.findHostInstance(t):void("function"==typeof e.render?r("188"):r("213",Object.keys(e)))},hydrate:function(e,t,n){return gn(null,e,t,!0,n)},render:function(e,t,n){return gn(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return null==e||void 0===e._reactInternalFiber?r("38"):void 0,gn(e,t,n,!1,i)},unmountComponentAtNode:function(e){return hn(e)?void 0:r("40"),!!e._reactRootContainer&&(sa.unbatchedUpdates(function(){gn(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:yn,unstable_batchedUpdates:Z,unstable_deferredUpdates:sa.deferredUpdates,flushSync:sa.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:rr,EventPluginRegistry:Qn,EventPropagators:lr,ReactControlledComponent:Cr,ReactDOMComponentTree:sr,ReactDOMEventListener:Vr}};sa.injectIntoDevTools({findFiberByHostInstance:S,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var ua=Object.freeze({default:la}),ca=ua&&la||ua;e.exports=ca.default?ca.default:ca},function(e,t,n){!function(t,r){e.exports=r(n(9),n(10))}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e){console.warn("[react-ga]",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e.replace(/^\s+|\s+$/g,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return(0,w.default)(e,F)}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];if("function"==typeof L){if("string"!=typeof i)return void(0,C.default)("ga command must be a string");L.apply(void 0,n),Array.isArray(e)&&e.forEach(function(e){L.apply(void 0,a([e+"."+i].concat(n.slice(1))))})}}function l(e,t){return e?(t&&(t.debug&&t.debug===!0&&(z=!0),t.titleCase===!1&&(F=!1)),void(t&&t.gaOptions?L("create",e,t.gaOptions):L("create",e,"auto"))):void(0,C.default)("gaTrackingID is required in initialize()")}function u(e,t){if(t&&t.testMode===!0)$=!0;else{if("undefined"==typeof window)return!1;(0,M.default)(t)}return Array.isArray(e)?e.forEach(function(e){return"object"!==("undefined"==typeof e?"undefined":_(e))?void(0,C.default)("All configs must be an object"):void l(e.trackingId,e)}):l(e,t),!0}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(L.apply(void 0,t),z&&((0,D.default)("called ga('arguments');"),(0,D.default)("with arguments: "+JSON.stringify(t)))),window.ga}function f(e,t){return e?"object"!==("undefined"==typeof e?"undefined":_(e))?void(0,C.default)("Expected `fieldsObject` arg to be an Object"):(0===Object.keys(e).length&&(0,C.default)("empty `fieldsObject` given to .set()"),s(t,"set",e),void(z&&((0,D.default)("called ga('set', fieldsObject);"),(0,D.default)("with fieldsObject: "+JSON.stringify(e))))):void(0,C.default)("`fieldsObject` is required in .set()")}function d(e,t){s(t,"send",e),z&&((0,D.default)("called ga('send', fieldObject);"),(0,D.default)("with fieldObject: "+JSON.stringify(e)),(0,D.default)("with trackers: "+JSON.stringify(t)))}function p(e,t,n){if(!e)return void(0,C.default)("path is required in .pageview()");var r=(0,P.default)(e);if(""===r)return void(0,C.default)("path cannot be an empty string in .pageview()");var i={};if(n&&(i.title=n),"function"==typeof c&&(s(t,"send",b({hitType:"pageview",page:r},i)),z)){(0,D.default)("called ga('send', 'pageview', path);");var a="";n&&(a=" and title: "+n),(0,D.default)("with path: "+r+a)}}function h(e,t){if(!e)return void(0,C.default)("modalName is required in .modalview(modalName)");var n=(0,S.default)((0,P.default)(e));if(""===n)return void(0,C.default)("modalName cannot be an empty string or a single / in .modalview()");if("function"==typeof c){var r="/modal/"+n;s(t,"send","pageview",r),z&&((0,D.default)("called ga('send', 'pageview', path);"),(0,D.default)("with path: "+r))}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,a=arguments[1];if("function"==typeof c){if(!t||!n||!r||"number"!=typeof r)return void(0,C.default)("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");var s={hitType:"timing",timingCategory:o(t),timingVar:o(n),timingValue:r};i&&(s.timingLabel=o(i)),d(s,a)}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=e.category,r=e.action,a=e.label,s=e.value,l=e.nonInteraction,u=e.transport,f=i(e,["category","action","label","value","nonInteraction","transport"]);if("function"==typeof c){if(!n||!r)return void(0,C.default)("args.category AND args.action are required in event()");var p={hitType:"event",eventCategory:o(n),eventAction:o(r)};a&&(p.eventLabel=o(a)),"undefined"!=typeof s&&("number"!=typeof s?(0,C.default)("Expected `args.value` arg to be a Number."):p.eventValue=s),"undefined"!=typeof l&&("boolean"!=typeof l?(0,C.default)("`args.nonInteraction` must be a boolean."):p.nonInteraction=l),"undefined"!=typeof u&&("string"!=typeof u?(0,C.default)("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(u)===-1&&(0,C.default)("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),p.transport=u)),Object.keys(f).filter(function(e){return"dimension"===e.substr(0,"dimension".length)}).forEach(function(e){p[e]=f[e]}),Object.keys(f).filter(function(e){return"metric"===e.substr(0,"metric".length)}).forEach(function(e){p[e]=f[e]}),d(p,t)}}function y(e,t){var n=e.description,r=e.fatal;if("function"==typeof c){var i={hitType:"exception"};n&&(i.exDescription=o(n)),"undefined"!=typeof r&&("boolean"!=typeof r?(0,C.default)("`args.fatal` must be a boolean."):i.exFatal=r),d(i,t)}}function v(e,t,n){if("function"!=typeof t)return void(0,C.default)("hitCallback function is required");if("function"==typeof c){if(!e||!e.label)return void(0,C.default)("args.label is required in outboundLink()");var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:o(e.label)},i=!1,a=function(){i=!0,t()},s=setTimeout(a,250),l=function(){clearTimeout(s),i||t()};r.hitCallback=l,d(r,n)}else setTimeout(t,0)}Object.defineProperty(t,"__esModule",{value:!0}),t.testModeAPI=t.OutboundLink=t.plugin=void 0;var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.initialize=u,t.ga=c,t.set=f,t.send=d,t.pageview=p,t.modalview=h,t.timing=m,t.event=g,t.exception=y,t.outboundLink=v;var x=n(3),w=r(x),O=n(6),S=r(O),k=n(1),P=r(k),E=n(7),M=r(E),T=n(0),C=r(T),A=n(8),D=r(A),j=n(9),R=r(j),N=n(10),I=r(N),z=!1,F=!0,$=!1,L=function(){var e;return $?R.default.ga.apply(R.default,arguments):window.ga?(e=window).ga.apply(e,arguments):(0,C.default)("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually")},U=t.plugin={require:function(e,t){if("function"==typeof c){if(!e)return void(0,C.default)("`name` is required in .require()");var n=(0,P.default)(e);if(""===n)return void(0,C.default)("`name` cannot be an empty string in .require()");if(t){if("object"!==("undefined"==typeof t?"undefined":_(t)))return void(0,C.default)("Expected `options` arg to be an Object");0===Object.keys(t).length&&(0,C.default)("Empty `options` given to .require()"),c("require",n,t),z&&(0,D.default)("called ga('require', '"+n+"', "+JSON.stringify(t))}else c("require",n),z&&(0,D.default)("called ga('require', '"+n+"');")}},execute:function(e,t){var n=void 0,r=void 0;if(1===(arguments.length<=2?0:arguments.length-2)?n=arguments.length<=2?void 0:arguments[2]:(r=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),"function"==typeof c)if("string"!=typeof e)(0,C.default)("Expected `pluginName` arg to be a String.");else if("string"!=typeof t)(0,C.default)("Expected `action` arg to be a String.");else{var i=e+":"+t;n=n||null,r&&n?(c(i,r,n),z&&((0,D.default)("called ga('"+i+"');"),(0,D.default)('actionType: "'+r+'" with payload: '+JSON.stringify(n)))):n?(c(i,n),z&&((0,D.default)("called ga('"+i+"');"),(0,D.default)("with payload: "+JSON.stringify(n)))):(c(i),z&&(0,D.default)("called ga('"+i+"');"))}}};I.default.origTrackLink=I.default.trackLink,I.default.trackLink=v;var B=t.OutboundLink=I.default;t.testModeAPI=R.default;t.default={initialize:u,ga:c,set:f,send:d,pageview:p,modalview:h,timing:m,event:g,exception:y,plugin:U,outboundLink:v,OutboundLink:B,testModeAPI:R.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,o.default)(e)?((0,c.default)("This arg looks like an email address, redacting."),f):t?(0,l.default)(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(4),o=r(a),s=n(5),l=r(s),u=n(0),c=r(u),f="REDACTED (Potential Email Address)"},function(e,t,n){"use strict";function r(e){return/[^@]+@[^@]+/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,o.default)(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(s)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(1),o=r(a),s=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i},function(e,t,n){"use strict";function r(e){return"/"===e.substring(0,1)?e.substring(1):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){!function(e,t,n,r,i,a,o){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(n),o=t.getElementsByTagName(n)[0],a.async=1,a.src=r,o.parentNode.insertBefore(a,o)}(window,document,"script",e&&e.gaAddress?e.gaAddress:"https://www.google-analytics.com/analytics.js","ga")}},function(e,t,n){"use strict";function r(e){console.info("[react-ga]",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.gaCalls=[];t.default={calls:r,ga:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.push([].concat(t))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(11),c=r(u),f=n(12),d=r(f),p=n(0),h=r(p),m="_blank",g=1,y=function(e){function t(){var e,n,r,o;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClick=function(e){var n=r.props,i=n.target,a=n.eventLabel,o=n.to,s=n.onClick,l={label:a},u=i!==m,c=!(e.ctrlKey||e.shiftKey||e.metaKey||e.button===g);u&&c?(e.preventDefault(),t.trackLink(l,function(){window.location.href=o})):t.trackLink(l,function(){}),s&&s(e)},o=n,a(r,o)}return o(t,e),l(t,[{key:"render",value:function(){var e=s({},this.props,{href:this.props.to,onClick:this.handleClick});return delete e.eventLabel,c.default.createElement("a",e)}}]),t}(u.Component);y.propTypes={eventLabel:d.default.string.isRequired,target:d.default.string,to:d.default.string,onClick:d.default.func},y.defaultProps={target:null,to:null,onClick:null},y.trackLink=function(){(0,h.default)("ga tracking not enabled")},t.default=y},function(t,n){t.exports=e},function(e,n){e.exports=t}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),c=r(u),f=n(10),d=r(f),p=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.assignRef=function(e){n.containerElement=e},n.containerElement=void 0,n.__current_value=e.value,n.__current_original=e.original,n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.afterViewInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.context||window;this.props.value===this.__current_value&&this.props.original===this.__current_original||(this.__current_value=this.props.value,this.__current_original=this.props.original,this.editor&&(this.__prevent_trigger_change_event=!0,this.updateModel(this.__current_value,this.__current_original),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&t.monaco.editor.setModelLanguage(this.editor.getModel(),this.props.language)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function e(t){var e=this.props.editorWillMount;e(t)}},{key:"editorDidMount",value:function(e,t){var n=this;this.props.editorDidMount(e,t),e.onDidUpdateDiff(function(t){var r=e.getValue();n.__current_value=r,n.__prevent_trigger_change_event||n.props.onChange(r,t)})}},{key:"afterViewInit",value:function(){var e=this,t=this.props.context||window;if(void 0!==t.monaco)return void this.initMonaco();var n=this.props.requireConfig,r=n.url||"vs/loader.js",i=function(){if(t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__&&n.paths&&n.paths.vs&&t.require.config(n),t.require(["vs/editor/editor.main"],function(){e.initMonaco()}),t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__){t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!1;var r=t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__;if(r&&r.length)for(var i=r.shift();i;)i.fn.call(i.context),i=r.shift()}};if(t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__)t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__=t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__||[],t.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__.push({context:this,fn:i});else if("undefined"==typeof t.require){var a=t.document.createElement("script");a.type="text/javascript",a.src=r,a.addEventListener("load",i),t.document.body.appendChild(a),t.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!0}else i()}},{key:"updateModel",value:function(e,t){var n=this.props.context||window,r=this.props.language,i=n.monaco.editor.createModel(t,r),a=n.monaco.editor.createModel(e,r);this.editor.setModel({original:i,modified:a})}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.original,r=t.theme,i=t.options,a=this.props.context||window;this.containerElement&&"undefined"!=typeof a.monaco&&(this.editorWillMount(a.monaco),this.editor=a.monaco.editor.createDiffEditor(this.containerElement,i),r&&a.monaco.editor.setTheme(r),this.updateModel(e,n),this.editorDidMount(this.editor,a.monaco))}},{key:"destroyMonaco",value:function(){"undefined"!=typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=t.toString().indexOf("%")!==-1?t:t+"px",i=n.toString().indexOf("%")!==-1?n:n+"px",a={width:r,height:i};return c.default.createElement("div",{ref:this.assignRef,style:a,className:"react-monaco-editor-container"})}}]),t}(c.default.Component);p.propTypes={width:d.default.oneOfType([d.default.string,d.default.number]),height:d.default.oneOfType([d.default.string,d.default.number]),original:d.default.string,value:d.default.string,defaultValue:d.default.string,language:d.default.string,theme:d.default.string,options:d.default.object,editorDidMount:d.default.func,editorWillMount:d.default.func,onChange:d.default.func,requireConfig:d.default.object,context:d.default.object},p.defaultProps={width:"100%",height:"100%",original:null,value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:s,editorWillMount:s,onChange:s,requireConfig:{}},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(9),f=r(c),d=n(10),p=r(d),h=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.afterViewInit=function(){var e=n.props.context||window;if(void 0!==e.monaco)return void n.initMonaco();var t=n.props.requireConfig,r=e.process&&"renderer"===e.process.type,i=t.url||"vs/loader.js";
r&&(e.electronNodeRequire=e.require,i=t.url||"../node_modules/monaco-editor/min/vs/loader.js");var a=function(){if(e.__REACT_MONACO_EDITOR_LOADER_ISPENDING__){if(r){var i=t.baseUrl;if(!i){var a=e.electronNodeRequire("path"),o=a.join(e.__dirname,"../node_modules/monaco-editor/min");i=a.resolve(o).replace(/\\/g,"/"),i.length>0&&"/"!==i.charAt(0)&&(i="/"+i),i=encodeURI("file://"+i)}e.require.config({baseUrl:i}),e.window.module=void 0,e.window.process.browser=!0}t.paths&&t.paths.vs&&!r&&e.require.config(t)}if(e.require(["vs/editor/editor.main"],function(){n.initMonaco()}),e.__REACT_MONACO_EDITOR_LOADER_ISPENDING__){e.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!1;var s=e.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__;if(s&&s.length)for(var l=s.shift();l;)l.fn.call(l.context),l=s.shift()}};if(e.__REACT_MONACO_EDITOR_LOADER_ISPENDING__)e.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__=e.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__||[],e.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__.push({context:n,fn:a});else if("undefined"==typeof e.require||r){var o=e.document.createElement("script");o.type="text/javascript",o.src=i,o.addEventListener("load",a),e.document.body.appendChild(o),e.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!0}else a()},n.assignRef=function(e){n.containerElement=e},n.containerElement=void 0,n.__current_value=e.value,n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.afterViewInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.context||window;this.props.value!==this.__current_value&&(this.__current_value=this.props.value,this.editor&&(this.__prevent_trigger_change_event=!0,this.editor.setValue(this.__current_value),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&t.monaco.editor.setModelLanguage(this.editor.getModel(),this.props.language)}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"editorWillMount",value:function e(t){var e=this.props.editorWillMount;e(t)}},{key:"editorDidMount",value:function(e,t){var n=this;this.props.editorDidMount(e,t),e.onDidChangeModelContent(function(t){var r=e.getValue();n.__current_value=r,n.__prevent_trigger_change_event||n.props.onChange(r,t)})}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.language,r=t.theme,i=t.options,a=this.props.context||window;this.containerElement&&"undefined"!=typeof a.monaco&&(this.editorWillMount(a.monaco),this.editor=a.monaco.editor.create(this.containerElement,l({value:e,language:n},i)),r&&a.monaco.editor.setTheme(r),this.editorDidMount(this.editor,a.monaco))}},{key:"destroyMonaco",value:function(){"undefined"!=typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=t.toString().indexOf("%")!==-1?t:t+"px",i=n.toString().indexOf("%")!==-1?n:n+"px",a={width:r,height:i};return f.default.createElement("div",{ref:this.assignRef,style:a,className:"react-monaco-editor-container"})}}]),t}(f.default.Component);h.propTypes={width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),value:p.default.string,defaultValue:p.default.string,language:p.default.string,theme:p.default.string,options:p.default.object,editorDidMount:p.default.func,editorWillMount:p.default.func,onChange:p.default.func,requireConfig:p.default.object,context:p.default.object},h.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:null,options:{},editorDidMount:s,editorWillMount:s,onChange:s,requireConfig:{}},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),u=r(l),c=n(112),f=r(c),d=n(10),p=r(d),h={ESCAPE:27},m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={active:!1},e.handleWrapperClick=e.handleWrapperClick.bind(e),e.closePortal=e.closePortal.bind(e),e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e),e.handleKeydown=e.handleKeydown.bind(e),e.portal=null,e.node=null,e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.addEventListener("mouseup",this.handleOutsideMouseClick),document.addEventListener("touchstart",this.handleOutsideMouseClick)),this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.isOpened&&(e.isOpened&&(this.state.active?this.renderPortal(e):this.openPortal(e)),!e.isOpened&&this.state.active&&this.closePortal()),"undefined"==typeof e.isOpened&&this.state.active&&this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)),this.closePortal(!0)}},{key:"handleWrapperClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.active||this.openPortal()}},{key:"openPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:!0}),this.renderPortal(e),this.props.onOpen(this.node)}},{key:"closePortal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n){e.node&&(f.default.unmountComponentAtNode(e.node),document.body.removeChild(e.node)),e.portal=null,e.node=null;var r=void 0===n?t:n;r!==!0&&e.setState({active:!1})};this.state.active&&(this.props.beforeClose?this.props.beforeClose(this.node,n):n(),this.props.onClose())}},{key:"handleOutsideMouseClick",value:function(e){if(this.state.active){var t=(0,c.findDOMNode)(this.portal);t.contains(e.target)||e.button&&0!==e.button||(e.stopPropagation(),this.closePortal())}}},{key:"handleKeydown",value:function(e){e.keyCode===h.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function(e){this.node||(this.node=document.createElement("div"),document.body.appendChild(this.node));var t=e.children;"function"==typeof e.children.type&&(t=u.default.cloneElement(e.children,{closePortal:this.closePortal})),this.portal=f.default.unstable_renderSubtreeIntoContainer(this,t,this.node,this.props.onUpdate)}},{key:"render",value:function(){return this.props.openByClickOn?u.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick}):null}}]),t}(u.default.Component);t.default=m,m.propTypes={children:p.default.element.isRequired,openByClickOn:p.default.element,closeOnEsc:p.default.bool,closeOnOutsideClick:p.default.bool,isOpened:p.default.bool,onOpen:p.default.func,onClose:p.default.func,beforeClose:p.default.func,onUpdate:p.default.func},m.defaultProps={onOpen:function(){},onClose:function(){},onUpdate:function(){}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",s=function(e){function n(r,o){i(this,n);var s=a(this,e.call(this,r,o));return s[t]=r.store,s}return o(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return l.Children.only(this.props.children)},n}(l.Component);return s.propTypes={store:f.storeShape.isRequired,children:c.default.element.isRequired},s.childContextTypes=(e={},e[t]=f.storeShape.isRequired,e[r]=f.subscriptionShape,e),s}t.__esModule=!0,t.createProvider=s;var l=n(9),u=n(10),c=r(u),f=n(171),d=n(113);r(d);t.default=s()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(e,t){return e===t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?c.default:t,r=e.mapStateToPropsFactories,s=void 0===r?g.default:r,u=e.mapDispatchToPropsFactories,f=void 0===u?h.default:u,p=e.mergePropsFactories,m=void 0===p?v.default:p,y=e.selectorFactory,b=void 0===y?_.default:y;return function(e,t,r){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=u.pure,p=void 0===c||c,h=u.areStatesEqual,g=void 0===h?o:h,y=u.areOwnPropsEqual,v=void 0===y?d.default:y,_=u.areStatePropsEqual,x=void 0===_?d.default:_,w=u.areMergedPropsEqual,O=void 0===w?d.default:w,S=i(u,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=a(e,s,"mapStateToProps"),P=a(t,f,"mapDispatchToProps"),E=a(r,m,"mergeProps");return n(b,l({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:P,initMergeProps:E,pure:p,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:O},S))}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var u=n(169),c=r(u),f=n(395),d=r(f),p=n(389),h=r(p),m=n(390),g=r(m),y=n(391),v=r(y),b=n(392),_=r(b);t.default=s()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function a(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,o.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=a;var o=n(185),s=n(170);t.default=[r,i,a]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var a=n(170);t.default=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return l({},n,e,t)}function a(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,a=!1,o=void 0;return function(t,n,s){var l=e(t,n,s);return a?r&&i(l,o)||(o=l):(a=!0,o=l),o}}}function o(e){return"function"==typeof e?a(e):void 0}function s(e){return e?void 0:function(){return i}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=a,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=s;var u=n(172);r(u);t.default=[o,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function o(e,t,n,r,i){function a(i,a){return h=i,m=a,g=e(h,m),y=t(r,m),v=n(g,y,m),p=!0,v}function o(){return g=e(h,m),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function s(){return e.dependsOnOwnProps&&(g=e(h,m)),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function l(){var t=e(h,m),r=!d(t,g);return g=t,r&&(v=n(g,y,m)),v}function u(e,t){var n=!f(t,m),r=!c(e,h);return h=e,m=t,n&&r?o():n?s():r?l():v}var c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1,h=void 0,m=void 0,g=void 0,y=void 0,v=void 0;return function(e,t){return p?u(e,t):a(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,l=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),u=n(e,l),c=r(e,l),f=s(e,l),d=l.pure?o:a;return d(u,c,f,e,l)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=o,t.default=s;var l=n(393);r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function a(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t.default=a;var o=n(113),s=r(o)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,a={notify:function(){}},o=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}();t.default=o},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}t.__esModule=!0,t.default=r;var i=Object.prototype.hasOwnProperty},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,c,f){if("string"!=typeof c){if(u){var d=l(c);d&&d!==u&&e(t,d,f)}var p=a(c);o&&(p=p.concat(o(c)));for(var h=0;h<p.length;++h){var m=p[h];if(!(n[m]||r[m]||f&&f[m])){var g=s(c,m);try{i(t,m,g)}catch(y){}}}return t}return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.routerMiddleware=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.routerReducer=t.LOCATION_CHANGE=t.syncHistoryWithStore=void 0;var i=n(174);Object.defineProperty(t,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(t,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var a=n(173);Object.defineProperty(t,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return a.CALL_HISTORY_METHOD}}),Object.defineProperty(t,"push",{enumerable:!0,get:function(){return a.push}}),Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return a.replace}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return a.go}}),Object.defineProperty(t,"goBack",{enumerable:!0,get:function(){return a.goBack}}),Object.defineProperty(t,"goForward",{enumerable:!0,get:function(){return a.goForward}}),Object.defineProperty(t,"routerActions",{enumerable:!0,get:function(){return a.routerActions}});var o=n(399),s=r(o),l=n(398),u=r(l);t.syncHistoryWithStore=s.default,t.routerMiddleware=u.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){return function(t){return function(n){if(n.type!==a.CALL_HISTORY_METHOD)return t(n);var i=n.payload,o=i.method,s=i.args;e[o].apply(e,r(s))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(173)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?o:r,l=n.adjustUrlOnReplay,u=void 0===l||l;if("undefined"==typeof s(t.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=function(e){var n=s(t.getState());return n.locationBeforeTransitions||(e?c:void 0)};if(c=m(),u){var g=function(){var t=m(!0);h!==t&&c!==t&&(f=!0,h=t,e.transitionTo(i({},t,{action:"PUSH"})),f=!1)};d=t.subscribe(g),g()}var y=function(e){f||(h=e,!c&&(c=e,m())||t.dispatch({type:a.LOCATION_CHANGE,payload:e}))};return p=e.listen(y),e.getCurrentLocation&&y(e.getCurrentLocation()),i({},e,{listen:function(n){var r=m(!0),i=!1,a=t.subscribe(function(){var e=m(!0);e!==r&&(r=e,i||n(r))});return e.getCurrentLocation||n(r),function(){i=!0,a()}},unsubscribe:function(){u&&d(),p()}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a=n(174),o=function(e){return e.routing}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),o=r(a),s=n(37),l=r(s),u=n(175),c=r(u),f=(0,l.default)({displayName:"IndexLink",render:function(){return o.default.createElement(c.default,i({},this.props,{onlyActiveOnIndex:!0}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(37),a=r(i),o=n(10),s=n(53),l=(r(s),n(20)),u=r(l),c=n(177),f=r(c),d=n(59),p=(0,a.default)({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=f.default.createRouteFromReactElement(e))}},propTypes:{to:o.string.isRequired,query:o.object,state:o.object,onEnter:d.falsy,children:d.falsy},render:function(){(0,u.default)(!1)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(37),a=r(i),o=n(10),s=n(53),l=(r(s),n(20)),u=r(l),c=n(41),f=n(59),d=(0,a.default)({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,c.createRouteFromReactElement)(e))}},propTypes:{path:f.falsy,component:f.component,components:f.components,getComponent:o.func,getComponents:o.func},render:function(){(0,u.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(37),a=r(i),o=n(10),s=n(20),l=r(s),u=n(41),c=n(59),f=(0,a.default)({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:o.string,component:c.component,components:c.components,getComponent:o.func,getComponents:o.func},render:function(){(0,l.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(20),s=r(o),l=n(9),u=r(l),c=n(37),f=r(c),d=n(10),p=n(181),h=r(p),m=n(59),g=n(117),y=r(g),v=n(41),b=n(178),_=n(53),x=(r(_),{history:d.object,children:m.routes,routes:m.routes,render:d.func,createElement:d.func,onError:d.func,onUpdate:d.func,matchContext:d.object}),w=(0,f.default)({displayName:"Router",propTypes:x,getDefaultProps:function(){return{render:function(e){return u.default.createElement(y.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,b.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,i=n.children;return t.getCurrentLocation?void 0:(0,s.default)(!1),(0,h.default)(t,(0,v.createRoutes)(r||i))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,b.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,s=t.components,l=this.props,u=l.createElement,e=l.render,c=i(l,["createElement","render"]);return null==n?null:(Object.keys(x).forEach(function(e){return delete c[e]}),e(a({},c,{router:this.router,location:n,routes:r,params:o,components:s,createElement:u})))}});t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e,t,n,r){var i=e.length<n,a=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(e.apply(t,r),i){var o=r[r.length-1];o()}};return r.add(a),a}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,u)),t},[])}function n(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,c)),t},[])}function r(e,t,n){function r(e){i=e}if(!e)return void n();var i=void 0;(0,a.loopAsync)(e,function(e,n,a){t(e,r,function(e){e||i?a(e,i):n()})},n)}function i(e,n,i){u.clear();var a=t(e);return r(a.length,function(e,t,r){var i=function(){u.has(a[e])&&(r.apply(void 0,arguments),u.remove(a[e]))};a[e](n,t,i)},i)}function s(e,t,i,a){c.clear();var o=n(e);return r(o.length,function(e,n,r){var a=function(){c.has(o[e])&&(r.apply(void 0,arguments),c.remove(o[e]))};o[e](t,i,n,a)},a)}function l(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var u=new o,c=new o;return{runEnterHooks:i,runChangeHooks:s,runLeaveHooks:l}}t.__esModule=!0,t.default=i;var a=n(114),o=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(9),o=r(a),s=n(117),l=r(s),u=n(53);r(u);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.createElement;return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},o.default.createElement(l.default,i({},e,{createElement:u(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(319),a=r(i),o=n(180),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,a.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,a=void 0,o=void 0,s=void 0;if(n){var l=!1;a=n.filter(function(n){if(l)return!0;var a=i.indexOf(n)===-1||r(n,e,t);return a&&(l=!0),a}),a.reverse(),s=[],o=[],i.forEach(function(e){var t=n.indexOf(e)===-1,r=a.indexOf(e)!==-1;t||r?s.push(e):o.push(e)})}else a=[],o=[],s=i;return{leaveRoutes:a,changeRoutes:o,enterRoutes:s}}t.__esModule=!0;var a=n(52);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var i=r.call(t,e,n);(0,o.isPromise)(i)&&i.then(function(e){return n(null,e)},n)}else n()}function i(e,t){(0,a.mapAsync)(e.routes,function(t,n,i){r(e,t,i)},t)}t.__esModule=!0;var a=n(114),o=n(176);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,i.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var i=n(52);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(320),a=r(i),o=n(180),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":l(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function a(e,t,n){for(var r=e,i=[],a=[],o=0,s=t.length;o<s;++o){var l=t[o],c=l.path||"";if("/"===c.charAt(0)&&(r=e,i=[],a=[]),null!==r&&c){var f=(0,u.matchPattern)(c,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),a=[].concat(a,f.paramValues)):r=null,""===r)return i.every(function(e,t){return String(a[t])===String(n[e])})}}return!1}function o(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var l=e.pathname,u=e.query;return null!=n&&("/"!==l.charAt(0)&&(l="/"+l),!!(i(l,n.pathname)||!t&&a(l,r,s))&&o(u,n.query))}t.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var u=n(52);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.history,r=e.routes,a=e.location,l=i(e,["history","routes","location"]);n||a?void 0:(0,u.default)(!1),n=n?n:(0,f.default)(l);var c=(0,p.default)(n,(0,h.createRoutes)(r));a=a?n.createLocation(a):n.getCurrentLocation(),c.match(a,function(e,r,i){var a=void 0;if(i){var l=(0,m.createRouterObject)(n,c,i);a=o({},i,{router:l,matchContext:{transitionManager:c,router:l}})}t(e,r&&n.createLocation(r,s.REPLACE),a)})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(73),l=n(20),u=r(l),c=n(179),f=r(c),d=n(181),p=r(d),h=n(41),m=n(178);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var a=!0,o=void 0,l={location:t,params:s(n,r)},u=e.getChildRoutes(l,function(e,t){return t=!e&&(0,m.createRoutes)(t),a?void(o=[e,t]):void i(e,t)});return(0,d.isPromise)(u)&&u.then(function(e){return i(null,(0,m.createRoutes)(e))},i),a=!1,o}function a(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var l={location:t,params:s(n,r)},u=e.getIndexRoute(l,function(e,t){o(e,!e&&(0,m.createRoutes)(t)[0])});(0,d.isPromise)(u)&&u.then(function(e){return o(null,(0,m.createRoutes)(e)[0])},o)}else if(e.childRoutes||e.getChildRoutes){var c=function(e,i){if(e)return void o(e);var s=i.filter(function(e){return!e.path});(0,f.loopAsync)(s.length,function(e,i,o){a(s[e],t,n,r,function(t,n){if(t||n){var r=[s[e]].concat(Array.isArray(n)?n:[n]);o(t,r)}else i()})},function(e,t){o(null,t)})},p=i(e,t,n,r,c);p&&c.apply(void 0,p)}else o()}function o(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return o({},e,t)}function l(e,t,n,r,o,l){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,r=[],o=[]),null!==n&&c){try{var f=(0,p.matchPattern)(c,n);f?(n=f.remainingPathname,r=[].concat(r,f.paramNames),o=[].concat(o,f.paramValues)):n=null}catch(d){l(d)}if(""===n){var h={routes:[e],params:s(r,o)};return void a(e,t,r,o,function(e,t){if(e)l(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);l(null,h)}})}}if(null!=n||e.childRoutes){var m=function(i,a){i?l(i):a?u(a,t,function(t,n){t?l(t):n?(n.routes.unshift(e),l(null,n)):l()},n,r,o):l()},g=i(e,t,r,o,m);g&&m.apply(void 0,g)}else l()}function u(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,f.loopAsync)(e.length,function(n,o,s){
l(e[n],t,r,i,a,function(e,t){e||t?s(e,t):o()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var f=n(114),d=n(176),p=n(52),h=n(53),m=(r(h),n(41));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function a(e,t){var n=t&&t.withRef,r=(0,d.default)({displayName:"WithRouter",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:g.routerShape},propTypes:{router:g.routerShape},getWrappedInstance:function(){return n?void 0:(0,l.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return c.default.createElement(e,this.props);var i=r.params,a=r.location,s=r.routes,l=o({},this.props,{router:r,params:i,location:a,routes:s});return n&&(l.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,l)}});return r.displayName="withRouter("+i(e)+")",r.WrappedComponent=e,(0,h.default)(r,e)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(20),l=r(s),u=n(9),c=r(u),f=n(37),d=r(f),p=n(322),h=r(p),m=n(115),g=n(116);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),c=r(u),f=n(10),d=r(f),p=n(109),h=r(p),m=n(119),g=r(m),y="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",v="undefined"!=typeof navigator?navigator.userAgent:y,b=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:n.props.size},n}return o(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.prefixer,i=e.split,a=e.style,o=this.state.size,l=["Pane",i,n],u=s({},a||{},{flex:1,position:"relative",outline:"none"});return void 0!==o&&("vertical"===i?u.width=o:(u.height=o,u.display="flex"),u.flex="none"),c.default.createElement("div",{className:l.join(" "),style:r.prefix(u)},t)}}]),t}(c.default.Component);b.propTypes={className:d.default.string.isRequired,children:d.default.node.isRequired,prefixer:d.default.instanceOf(h.default).isRequired,size:d.default.oneOfType([d.default.string,d.default.number]),split:d.default.oneOf(["vertical","horizontal"]),style:g.default},b.defaultProps={prefixer:new h.default({userAgent:v})},t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RESIZER_DEFAULT_CLASSNAME=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),u=r(l),c=n(10),f=r(c),d=n(109),p=r(d),h=n(119),m=r(h),g="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",y="undefined"!=typeof navigator?navigator.userAgent:g,v=t.RESIZER_DEFAULT_CLASSNAME="Resizer",b=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,o=e.onTouchStart,s=e.prefixer,l=e.resizerClassName,c=e.split,f=e.style,d=[l,c,t];return u.default.createElement("span",{className:d.join(" "),style:s.prefix(f)||{},onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),o(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){r&&(e.preventDefault(),r(e))}})}}]),t}(u.default.Component);b.propTypes={className:f.default.string.isRequired,onClick:f.default.func,onDoubleClick:f.default.func,onMouseDown:f.default.func.isRequired,onTouchStart:f.default.func.isRequired,onTouchEnd:f.default.func.isRequired,prefixer:f.default.instanceOf(p.default).isRequired,split:f.default.oneOf(["vertical","horizontal"]),style:m.default,resizerClassName:f.default.string.isRequired},b.defaultProps={prefixer:new p.default({userAgent:y}),resizerClassName:v},t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(n){}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(9),f=r(c),d=n(10),p=r(d),h=n(112),m=r(h),g=n(109),y=r(g),v=n(119),b=r(v),_=n(416),x=r(_),w=n(417),O=r(w),S="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",k="undefined"!=typeof navigator?navigator.userAgent:S,P=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMouseDown=e.onMouseDown.bind(e),e.onTouchStart=e.onTouchStart.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onTouchMove=e.onTouchMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.state={active:!1,resized:!1},e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.setSize(this.props,this.state),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentWillReceiveProps",value:function(e){this.setSize(e,this.state)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=l({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,i=t.split;if(n){s(document,window);var a="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:a})}}},{key:"onMouseMove",value:function(e){var t=l({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,i=t.minSize,a=t.onChange,o=t.split,l=t.step,u=this.state,c=u.active,f=u.position;if(n&&c){s(document,window);var d="first"===this.props.primary,p=d?this.pane1:this.pane2,h=d?this.pane2:this.pane1;if(p){var g=m.default.findDOMNode(p),y=m.default.findDOMNode(h);if(g.getBoundingClientRect){var v=g.getBoundingClientRect().width,b=g.getBoundingClientRect().height,_="vertical"===o?e.touches[0].clientX:e.touches[0].clientY,x="vertical"===o?v:b,w=f-_;if(l){if(Math.abs(w)<l)return;w=~~(w/l)*l}var O=d?w:-w,S=parseInt(window.getComputedStyle(g).order),k=parseInt(window.getComputedStyle(y).order);S>k&&(O=-O);var P=r;if(void 0!==r&&r<=0){var E=this.splitPane;P="vertical"===o?E.getBoundingClientRect().width+r:E.getBoundingClientRect().height+r}var M=x-O,T=f-w;M<i?M=i:void 0!==r&&M>P?M=P:this.setState({position:T,resized:!0}),a&&a(M),this.setState({draggedSize:M}),p.setState({size:M})}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,i=r.active,a=r.draggedSize;t&&i&&("function"==typeof n&&n(a),this.setState({active:!1}))}},{key:"setSize",value:function(e,t){var n=this.props.primary,r="first"===n?this.pane1:this.pane2,i=void 0;r&&(i=e.size||t&&t.draggedSize||e.defaultSize||e.minSize,r.setState({size:i}),e.size!==t.draggedSize&&this.setState({draggedSize:i}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,r=t.children,i=t.className,a=t.defaultSize,o=t.minSize,s=t.onResizerClick,u=t.onResizerDoubleClick,c=t.paneClassName,d=t.pane1ClassName,p=t.pane2ClassName,h=t.paneStyle,m=t.pane1Style,g=t.pane2Style,y=t.primary,v=t.prefixer,b=t.resizerClassName,_=t.resizerStyle,S=t.size,k=t.split,P=t.style,E=n?"":"disabled",M=b?b+" "+w.RESIZER_DEFAULT_CLASSNAME:b,T=l({},{display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"},P||{});"vertical"===k?l(T,{flexDirection:"row",left:0,right:0}):l(T,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var C=["SplitPane",i,k,E],A=v.prefix(l({},h||{},m||{})),D=v.prefix(l({},h||{},g||{})),j=["Pane1",c,d].join(" "),R=["Pane2",c,p].join(" ");return f.default.createElement("div",{className:C.join(" "),ref:function(t){e.splitPane=t},style:v.prefix(T)},f.default.createElement(x.default,{className:j,key:"pane1",ref:function(t){e.pane1=t},size:"first"===y?S||a||o:void 0,split:k,style:A},r[0]),f.default.createElement(O.default,{className:E,onClick:s,onDoubleClick:u,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",ref:function(t){e.resizer=t},resizerClassName:M,split:k,style:_||{}}),f.default.createElement(x.default,{className:R,key:"pane2",ref:function(t){e.pane2=t},size:"second"===y?S||a||o:void 0,split:k,style:D},r[1]))}}]),t}(f.default.Component);P.propTypes={allowResize:p.default.bool,children:p.default.arrayOf(p.default.node).isRequired,className:p.default.string,primary:p.default.oneOf(["first","second"]),minSize:p.default.oneOfType([p.default.string,p.default.number]),maxSize:p.default.oneOfType([p.default.string,p.default.number]),defaultSize:p.default.oneOfType([p.default.string,p.default.number]),size:p.default.oneOfType([p.default.string,p.default.number]),split:p.default.oneOf(["vertical","horizontal"]),onDragStarted:p.default.func,onDragFinished:p.default.func,onChange:p.default.func,onResizerClick:p.default.func,onResizerDoubleClick:p.default.func,prefixer:p.default.instanceOf(y.default).isRequired,style:b.default,resizerStyle:b.default,paneClassName:p.default.string,pane1ClassName:p.default.string,pane2ClassName:p.default.string,paneStyle:b.default,pane1Style:b.default,pane2Style:b.default,resizerClassName:p.default.string,step:p.default.number},P.defaultProps={allowResize:!0,minSize:50,prefixer:new y.default({userAgent:k}),primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},t.default=P,e.exports=t.default},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling"];
},function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."),t.name="Invariant Violation",t.framesToPop=1,t}function i(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||M}function a(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||M}function o(){}function s(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||M}function l(e,t,n){var r,i={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)D.call(t,r)&&!j.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:w,type:e,key:a,ref:o,props:i,_owner:A.current}}function u(e){return"object"==typeof e&&null!==e&&e.$$typeof===w}function c(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function f(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function d(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function p(e,t,n,i){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var o=!1;if(null===e)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case w:case O:case S:case k:o=!0}}if(o)return n(i,e,""===t?"."+h(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){a=e[s];var l=t+h(a,s);o+=p(a,l,n,i)}else if(null===e||"undefined"==typeof e?l=null:(l=E&&e[E]||e["@@iterator"],l="function"==typeof l?l:null),"function"==typeof l)for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=t+h(a,s++),o+=p(a,l,n,i);else"object"===a&&(n=""+e,r("31","[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return o}function h(e,t){return"object"==typeof e&&null!==e&&null!=e.key?c(e.key):t.toString(36)}function m(e,t){e.func.call(e.context,t,e.count++)}function g(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?y(e,r,n,_.thatReturnsArgument):null!=e&&(u(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n,e={$$typeof:w,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function y(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(R,"$&/")+"/"),t=f(t,a,r,i),null==e||p(e,"",g,t),d(t)}var v=n(58),b=n(104),_=n(72),x="function"==typeof Symbol&&Symbol.for,w=x?Symbol.for("react.element"):60103,O=x?Symbol.for("react.call"):60104,S=x?Symbol.for("react.return"):60105,k=x?Symbol.for("react.portal"):60106,P=x?Symbol.for("react.fragment"):60107,E="function"==typeof Symbol&&Symbol.iterator,M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?r("85"):void 0,this.updater.enqueueSetState(this,e,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},o.prototype=i.prototype;var T=a.prototype=new o;T.constructor=a,v(T,i.prototype),T.isPureReactComponent=!0;var C=s.prototype=new o;C.constructor=s,v(C,i.prototype),C.unstable_isAsyncReactComponent=!0,C.render=function(){return this.props.children};var A={current:null},D=Object.prototype.hasOwnProperty,j={key:!0,ref:!0,__self:!0,__source:!0},R=/\/+/g,N=[],I={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return y(e,r,null,t,n),r},forEach:function(e,t,n){return null==e?e:(t=f(null,null,t,n),null==e||p(e,"",m,t),void d(t))},count:function(e){return null==e?0:p(e,"",_.thatReturnsNull,null)},toArray:function(e){var t=[];return y(e,t,null,_.thatReturnsArgument),t},only:function(e){return u(e)?void 0:r("143"),e}},Component:i,PureComponent:a,unstable_AsyncComponent:s,Fragment:P,createElement:l,cloneElement:function(e,t,n){var r=v({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=A.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)D.call(t,l)&&!j.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:w,type:e.type,key:i,ref:a,props:r,_owner:o}},createFactory:function(e){var t=l.bind(null,e);return t.type=e,t},isValidElement:u,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:A,assign:v}},z=Object.freeze({default:I}),F=z&&I||z;e.exports=F.default?F.default:F},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){switch((0,l.default)(e)){case"void":return function(e){return e};case"string":return function(t){return(0,o.default)(t,[e])};case"array":return function(t){return(0,o.default)(t,e)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(422),o=r(a),s=n(425),l=r(s);e.exports=t.default},function(e,t){"use strict";function n(e,t){var n={};return t.forEach(function(t){var r=e[t];r&&(n[t]=r)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=a({key:"redux",merge:u.default,slicer:s.default,serialize:JSON.stringify,deserialize:JSON.parse},t),r=n.key,i=n.merge,o=n.slicer,l=n.serialize,c=n.deserialize;return function(t){return function(n,a,s){"function"==typeof a&&"undefined"==typeof s&&(s=a,a=void 0);var u=void 0,f=void 0;try{u=c(localStorage.getItem(r)),f=i(a,u)}catch(d){console.warn("Failed to retrieve initialize state from localStorage:",d)}var p=t(n,f,s),h=o(e);return p.subscribe(function(){var e=p.getState(),t=h(e);try{localStorage.setItem(r,l(t))}catch(n){console.warn("Unable to persist state to localStorage:",n)}}),p}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(421),s=r(o),l=n(424),u=r(l);e.exports=t.default},function(e,t){"use strict";function n(e,t){return t?r({},e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e?r(e)?e.length?"array":"void":typeof e:"void"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)});e.exports=t.default},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o=e(n,r,i),l=o.dispatch,u=[],c={getState:o.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=s.default.apply(void 0,u)(o.dispatch),a({},o,{dispatch:l})}}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(183),s=r(o)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},a=0;a<r.length;a++){var o=r[a],s=e[o];"function"==typeof s&&(i[o]=n(s,t))}return i}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function o(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),l=void 0;try{a(n)}catch(u){l=u}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,a={},o=0;o<s.length;o++){var u=s[o],c=n[u],f=e[u],d=c(f,t);if("undefined"==typeof d){var p=i(u,t);throw new Error(p)}a[u]=d,r=r||d!==f}return r?a:e}}t.__esModule=!0,t.default=o;var s=n(184),l=n(111),u=(r(l),n(186));r(u)},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){e.exports=n(432)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(433),s=i(o);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=(0,s.default)(a);t.default=l}).call(t,function(){return this}(),n(141)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){var r;(function(e,i){!function(a){function o(e){throw RangeError(D[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function l(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(A,".");var i=e.split("."),a=s(i,t).join(".");return r+a}function u(e){for(var t,n,r=[],i=0,a=e.length;i<a;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=N(e>>>10&1023|55296),e=56320|1023&e),t+=N(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?R(e/k):e>>1,e+=R(e/t);e>j*O>>1;r+=x)e=R(e/j);return R(r+(j+1)*e/(e+S))}function h(e){var t,n,r,i,a,s,l,u,d,h,m=[],g=e.length,y=0,v=E,b=P;for(n=e.lastIndexOf(M),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=y,s=1,l=x;i>=g&&o("invalid-input"),u=f(e.charCodeAt(i++)),(u>=x||u>R((_-y)/s))&&o("overflow"),y+=u*s,d=l<=b?w:l>=b+O?O:l-b,!(u<d);l+=x)h=x-d,s>R(_/h)&&o("overflow"),s*=h;t=m.length+1,b=p(y-a,t,0==a),R(y/t)>_-v&&o("overflow"),v+=R(y/t),y%=t,m.splice(y++,0,v)}return c(m)}function m(e){var t,n,r,i,a,s,l,c,f,h,m,g,y,v,b,S=[];for(e=u(e),g=e.length,t=E,n=0,a=P,s=0;s<g;++s)m=e[s],m<128&&S.push(N(m));for(r=i=S.length,i&&S.push(M);r<g;){for(l=_,s=0;s<g;++s)m=e[s],m>=t&&m<l&&(l=m);for(y=r+1,l-t>R((_-n)/y)&&o("overflow"),n+=(l-t)*y,t=l,s=0;s<g;++s)if(m=e[s],m<t&&++n>_&&o("overflow"),m==t){for(c=n,f=x;h=f<=a?w:f>=a+O?O:f-a,!(c<h);f+=x)b=c-h,v=x-h,S.push(N(d(h+b%v,0))),c=R(b/v);S.push(N(d(c,0))),a=p(n,y,r==i),n=0,++r}++n,++t}return S.join("")}function g(e){return l(e,function(e){return T.test(e)?h(e.slice(4).toLowerCase()):e})}function y(e){return l(e,function(e){return C.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(a=v);var b,_=2147483647,x=36,w=1,O=26,S=38,k=700,P=72,E=128,M="-",T=/^xn--/,C=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=x-w,R=Math.floor,N=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:u,encode:c},decode:h,encode:m,toASCII:y,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(141)(e),function(){return this}())},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&u(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function a(e){return l(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function f(e){return null==e}var d=n(434);t.parse=i,t.resolve=o,t.resolveObject=s,t.format=a,t.Url=r;var p=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(g),v=["%","/","?",";","#"].concat(y),b=["/","?","#"],_=255,x=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=n(381);r.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=p.exec(r);if(i){i=i[0];var a=i.toLowerCase();this.protocol=a,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===r.substr(0,2);!o||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(o||i&&!k[i])){for(var s=-1,u=0;u<b.length;u++){var c=r.indexOf(b[u]);c!==-1&&(s===-1||c<s)&&(s=c)}var f,h;h=s===-1?r.lastIndexOf("@"):r.lastIndexOf("@",s),h!==-1&&(f=r.slice(0,h),r=r.slice(h+1),this.auth=decodeURIComponent(f)),s=-1;for(var u=0;u<v.length;u++){var c=r.indexOf(v[u]);c!==-1&&(s===-1||c<s)&&(s=c)}s===-1&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),u=0,E=g.length;u<E;u++){var M=g[u];if(M&&!M.match(x)){for(var T="",C=0,A=M.length;C<A;C++)T+=M.charCodeAt(C)>127?"x":M[C];if(!T.match(x)){var D=g.slice(0,u),j=g.slice(u+1),R=M.match(w);R&&(D.push(R[1]),j.unshift(R[2])),j.length&&(r="/"+j.join(".")+r),this.hostname=D.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var N=this.hostname.split("."),I=[],u=0;u<N.length;++u){var z=N[u];I.push(z.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(z):z)}this.hostname=I.join(".")}var F=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+F,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!O[a])for(var u=0,E=y.length;u<E;u++){var L=y[u],U=encodeURIComponent(L);U===L&&(U=escape(L)),r=r.split(L).join(U)}var B=r.indexOf("#");B!==-1&&(this.hash=r.substr(B),r=r.slice(0,B));var q=r.indexOf("?");if(q!==-1?(this.search=r.substr(q),this.query=r.substr(q+1),t&&(this.query=P.parse(this.query)),r=r.slice(0,q)):t&&(this.search="",this.query={}),r&&(this.pathname=r),k[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",z=this.search||"";this.path=F+z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(a=P.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+n+o+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||S[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",o=n.search||"";n.path=a+o}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=u||s||n.host&&e.pathname,p=d,h=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!k[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===h[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=i;else if(i.length)h||(h=[]),h.pop(),h=h.concat(i),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(m){n.hostname=n.host=h.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=h.slice(-1)[0],v=(n.host||e.host)&&("."===y||".."===y)||""===y,b=0,_=h.length;_>=0;_--)y=h[_],"."==y?h.splice(_,1):".."===y?(h.splice(_,1),b++):b&&(h.splice(_,1),b--);if(!d&&!p)for(;b--;b)h.unshift("..");!d||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),v&&"/"!==h.join("/").substr(-1)&&h.push("");var x=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(m){n.hostname=n.host=x?"":h.length?h.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&h.length,d&&!x&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"use strict";function n(e){return function(t,n){return n[e]&&t.push(n[e].combine()),t}}function r(e){return[].concat(e.x?[].concat(e.x.reduce(i,[]),e.x.reduce(a,[])):[],e.y?[].concat(e.y.reduce(i,[]),e.y.reduce(a,[])):[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("main"),a=n("grid");t.assembleAxes=r},[549,33],[550,5,7,11,23,1,21,188],[551,61,5,46,7,3,11,23,1],[554,208,7,3,55,482,1,78,191,199],[555,3,55,190,78,62],[566,1,13,79,122,81,82],[571,5,28,7,3,11,1,29,78,191,80,200,62,14,203,84,63],[572,3,55,1,189,80,83,62,201,14,17,207],[577,33],[578,26,5,7,22,11,1,21,35],[579,5,46,11,1],[580,35],[581,26,5,7,3,11,29,35,45],[582,35,7,23],[583,28,7,3,22,23,1,21],[584,35,45],[585,26,42,28,7,22,87,1,21,450,451,452,454,456,457,458,459,460],[586,21,35,45],[587,5,7,3,22,11,35],[588,35,45],[589,5,28,7,23,21,35,45],[590,29,35,45],[593,1,29,14],[594,33],[595,5,42,7,22,481,23,1,14,462],[596,3,190,78,62],[599,26,1,29,14,17,63],[600,33],[602,5,7,22,11,23,1,14,84,33,466,63,204,205,468],[605,5,3,11,11,23,1,1],[609,1,206,17],[610,1,17,125],[612,3,1,82],[614,17],[615,470,125,471,85,472,474,475],[616,5,124,17,85],[617,5,1,124,17,85],function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return u({},e,{encoding:d.reduce(e.encoding,function(e,n,r){return y.indexOf(r)>-1?e[r]=n:m.warn(m.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,e.selection),s=(e.projection,c(e,["mark","encoding","selection","projection"])),d=void 0;r(n)&&n.extent&&f.isNumber(n.extent)&&(d=n.extent);var p=o(e),h=l(e,p,d),m=h.transform,y=h.continuousAxisChannelDef,v=h.continuousAxis,b=h.encodingWithoutContinuousAxis,_=(b.color,b.size),x=c(b,["color","size"]),w=_?{size:_}:g.getMarkSpecificConfigMixins(t.box,"size"),O={};return y.scale&&(O.scale=y.scale),y.axis&&(O.axis=y.axis),u({},s,{transform:m,layer:[{mark:{type:"rule",style:"boxWhisker"},encoding:u((S={},S[v]=u({field:"lower_whisker_"+y.field,type:y.type},O),S[v+"2"]={field:"lower_box_"+y.field,type:y.type},S),x,g.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},{mark:{type:"rule",style:"boxWhisker"},encoding:u((k={},k[v]={field:"upper_box_"+y.field,type:y.type},k[v+"2"]={field:"upper_whisker_"+y.field,type:y.type},k),x,g.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},u({},a?{selection:a}:{},{mark:{type:"bar",style:"box"},encoding:u((P={},P[v]={field:"lower_box_"+y.field,type:y.type},P[v+"2"]={field:"upper_box_"+y.field,type:y.type},P),b,b.color?{}:g.getMarkSpecificConfigMixins(t.box,"color"),w)}),{mark:{type:"tick",style:"boxMid"},encoding:u((E={},E[v]={field:"mid_box_"+y.field,type:y.type},E),x,g.getMarkSpecificConfigMixins(t.boxMid,"color"),w)}]});var S,k,P,E}function o(e){var n=e.mark,i=e.encoding;e.projection,c(e,["mark","encoding","projection"]);if(h.isFieldDef(i.x)&&h.isContinuous(i.x)){if(h.isFieldDef(i.y)&&h.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(h.isFieldDef(i.y)&&h.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function s(e,n){var r,i,a=(e.mark,e.encoding);e.projection,c(e,["mark","encoding","projection"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,s=c(r,["aggregate"]);o!==t.BOXPLOT&&m.warn("Continuous axis should not have customized aggregation function "+o),r=s}return{continuousAxisChannelDef:r,continuousAxis:i}}function l(e,n,r){var i=s(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,l=e.encoding,u=void 0===r,c=[{op:"q1",field:a.field,as:"lower_box_"+a.field},{op:"q3",field:a.field,as:"upper_box_"+a.field},{op:"median",field:a.field,as:"mid_box_"+a.field}],f=[];c.push({op:"min",field:a.field,as:(u?"lower_whisker_":"min_")+a.field}),c.push({op:"max",field:a.field,as:(u?"upper_whisker_":"max_")+a.field}),u||(f=[{calculate:"datum.upper_box_"+a.field+" - datum.lower_box_"+a.field,as:"iqr_"+a.field},{calculate:"min(datum.upper_box_"+a.field+" + datum.iqr_"+a.field+" * "+r+", datum.max_"+a.field+")",as:"upper_whisker_"+a.field},{calculate:"max(datum.lower_box_"+a.field+" - datum.iqr_"+a.field+" * "+r+", datum.min_"+a.field+")",as:"lower_whisker_"+a.field}]);var d=[],m=[],g=[],y={};return p.forEach(l,function(e,n){if(n!==o)if(h.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({op:e.aggregate,field:e.field,as:h.vgField(e)});else if(void 0===e.aggregate){var r=h.vgField(e),i=e.bin;if(i){var a=e.field;m.push({bin:i,field:a,as:r})}else if(e.timeUnit){var s=e.timeUnit,a=e.field;g.push({timeUnit:s,field:a,as:r})}d.push(r)}y[n]={field:h.vgField(e),type:e.type}}else y[n]=l[n]}),{transform:[].concat(m,g,[{aggregate:c,groupby:d}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:y}}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var f=n(26),d=n(28),p=n(28),h=n(7),m=n(3),g=n(477);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_STYLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size","color"],boxWhisker:["color"],boxMid:["color"]};var y=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},function(e,t){"use strict";function n(e,t){var n=e[t];return void 0!==n?(r={},r[t]={value:n},r):{};var r}Object.defineProperty(t,"__esModule",{value:!0}),t.getMarkSpecificConfigMixins=n},function(e,t){"use strict";function n(e){var t=(e.mark,e.selection,e.projection,e.encoding),n=i(e,["mark","selection","projection","encoding"]),a=(t.size,i(t,["size"])),o=(t.x2,t.y2,i(t,["x2","y2"])),s=(o.x,o.y,i(o,["x","y"]));if(!t.x2&&!t.y2)throw new Error("Neither x2 or y2 provided");return r({},n,{layer:[{mark:"rule",encoding:a},{mark:"tick",encoding:o},{mark:"tick",encoding:t.x2?r({x:t.x2,y:t.y},s):r({x:t.x,y:t.y2},s)}]})}var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ERRORBAR="error-bar",t.normalizeErrorBar=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VL_ONLY_GUIDE_CONFIG=["shortTimeLabels"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROJECTION_PROPERTIES=["type","clipAngle","clipExtent","center","rotate","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"]},function(e,t,n){"use strict";function r(e){return s.isString(e)?{type:e}:e||{}}function i(e,t,n){void 0===n&&(n=!0);var i=o({type:"pad"},r(t),r(e));return"fit"===i.type&&(n||(l.warn(l.message.FIT_NON_SINGLE),i.type="pad")),i}function a(e){return u.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(77),l=n(3);t.normalizeAutoSize=i;var u=["background","padding"];t.extractTopLevelProperties=a},[626,22,22,1],function(e,t){"use strict";function n(e){var t=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g,n=t.exec(e).slice(1,3),r=n[0],i=n[1];return{library:r,version:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&null!==e&&t)switch(t){case"time":return n?u.timeFormat(n)(e):o(e);case"number":return n?s.format(n)(e):a(e);case"string":default:return e}}function i(e){return"number"==typeof e?a(e):e instanceof Date?o(e):e}function a(e){return e%1===0?s.format(",")(e):s.format(",.2f")(e)}function o(e){var t=u.timeFormat(".%L"),n=u.timeFormat(":%S"),r=u.timeFormat("%I:%M"),i=u.timeFormat("%I %p"),a=u.timeFormat("%a %d"),o=u.timeFormat("%b %d"),s=u.timeFormat("%B"),c=u.timeFormat("%Y");return(l.timeSecond(e)<e?t:l.timeMinute(e)<e?n:l.timeHour(e)<e?r:l.timeDay(e)<e?i:l.timeMonth(e)<e?l.timeWeek(e)<e?a:o:l.timeYear(e)<e?s:c)(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(491),l=n(155),u=n(492);t.customFormat=r,t.autoFormat=i,t.autoNumberFormat=a,t.autoTimeFormat=o},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={showAllFields:!0}),a(e,f(t)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function i(e,t,n){return void 0===n&&(n={showAllFields:!0}),n=m.supplementOptions(f(n),t),a(e,n),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function a(e,t){e.addEventListener("mouseover.tooltipInit",function(e,n){c(n)&&(o(),y=window.setTimeout(function(){s(e,n,t)},t.delay||p.DELAY))}),e.addEventListener("mousemove.tooltipUpdate",function(e,n){c(n)&&v&&l(e,n,t)}),e.addEventListener("mouseout.tooltipRemove",function(e,n){c(n)&&(o(),v&&u(e,n,t))})}function o(){window.clearTimeout(y),y=void 0}function s(e,t,n){var r=g.getTooltipPlaceholder(),i=h.getTooltipData(t,n);i&&0!==i.length&&(g.bindData(r,i),g.updatePosition(e,n),g.updateColorTheme(n),d.select("#vis-tooltip").style("visibility","visible"),v=!0,n.onAppear&&n.onAppear(e,t))}function l(e,t,n){c(t)&&(g.updatePosition(e,n),n.onMove&&n.onMove(e,t));
}function u(e,t,n){c(t)&&(d.select("#vis-tooltip").style("visibility","hidden"),v=!1,g.clearData(),g.clearColorTheme(),g.clearPosition(),n.onDisappear&&n.onDisappear(e,t))}function c(e){return!(!e||!e.datum)&&!e.datum._facetID}function f(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=n(154),p=n(487),h=n(488),m=n(489),g=n(490),y=void 0,v=!1;t.vega=r,t.vegaLite=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELAY=100},function(e,t,n){"use strict";function r(e,t){if("group"!==e.mark.marktype){var n,r={};for(var a in e.datum)e.datum.hasOwnProperty(a)&&(r[a]=e.datum[a]);var f=["width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"];return s(r,f),l(r,t.fields),u(r,t.fields),c(e.mark.marktype,r),n=t.showAllFields===!0?o(r,t):i(r,t)}}function i(e,t){void 0===t&&(t={});var n=[];return t.fields.forEach(function(t){var r=t.title?t.title:t.field,i=a(e,t.field);if(void 0!==i){var o=f.customFormat(i,t.formatType,t.format)||f.autoFormat(i);n.push({title:r,value:o})}}),n}function a(e,t){var n,r=t.split("."),i=r[0];return r.shift(),e[i]&&(n=e[i],r.forEach(function(e){n=n,n[e]&&(n=n[e])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+t+" in data."):n}function o(e,t){void 0===t&&(t={});var n=[],r={};if(t&&t.fields)for(var i=0,a=t.fields;i<a.length;i++){var o=a[i];r[o.field]=o}for(var s in e)if(e.hasOwnProperty(s)){var l=e[s],u=void 0;u=r[s]&&r[s].title?r[s].title:s;var c=void 0,d=void 0;r[s]&&(c=r[s].formatType,d=r[s].format);var p=f.customFormat(l,c,d)||f.autoFormat(l);n.push({title:u,value:p})}return n}function s(e,t){t.forEach(function(t){delete e[t]})}function l(e,t){t&&t.forEach(function(t){t.removeOriginalTemporalField&&s(e,[t.removeOriginalTemporalField])})}function u(e,t){if(t)return t.forEach(function(t){if(t.bin===!0){var n=t.field,r=n,i=n.concat("_mid"),a=n.concat("_end"),o=e[r],l=e[a];if(void 0!==o&&void 0!==l){var u=o+"-"+l;e[n]=u}var c=[i,a];s(e,c)}}),e}function c(e,t){if("line"===e||"area"===e){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i instanceof Date&&n.push(r)}s(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(485);t.getTooltipData=r,t.prepareCustomFieldsData=i,t.getValue=a,t.prepareAllFieldsData=o,t.removeFields=s,t.removeDuplicateTimeFields=l,t.combineBinFields=u,t.dropFieldsForLineArea=c},function(e,t,n){"use strict";function r(e,t){var n=[];return e.showAllFields!==!1?c.spec.fieldDefs(t).forEach(function(r){var a=i(e.fields,r),s=o(a,r,t);n.push(s)}):e.fields&&e.fields.forEach(function(e){var r=a(c.spec.fieldDefs(t),e),i=o(e,r,t);n.push(i)}),e.fields=n,e}function i(e,t){if(t&&e&&!(e.length<=0))if(t.aggregate){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field&&i.aggregate===t.aggregate)return i}for(var a=0,o=e;a<o.length;a++){var i=o[a];if(i.field===t.field&&!i.aggregate)return i}}else for(var s=0,l=e;s<l.length;s++){var i=l[s];if(i.field===t.field)return i}}function a(e,t){if(t&&t.field&&e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field){if(!i.aggregate)return i;if(i.aggregate===t.aggregate||!t.aggregate)return i}}}function o(e,t,n){var r=u({},n.config);if(!e&&!t)return void console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.");!e&&t&&(e={}),e&&!t&&(t={});var i={};if(t.bin&&(t.bin=c.fieldDef.normalizeBin(t.bin,void 0)),i.field=c.fieldDef.vgField(t)||e.field,t.type===f.TEMPORAL&&t.timeUnit){var a=t.field;i.removeOriginalTemporalField=a;for(var o=c.spec.fieldDefs(n),p=0,h=o;p<h.length;p++){var m=h[p];if(m.field===a&&!m.timeUnit){i.removeOriginalTemporalField=void 0;break}}}r.countTitle||(r.countTitle=c.config.defaultConfig.countTitle);var g=c.fieldDef.title(t,r);if(s(t)&&t.axis&&t.axis.title&&(g=t.axis.title),l(t)&&t.legend&&t.legend.title&&(g=t.legend.title),i.title=e.title||g,i.formatType=e.formatType||d[t.type],e.format)i.format=e.format;else switch(i.formatType){case"time":i.format=t.timeUnit?c.timeUnit.formatExpression(t.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||c.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat;break;case"string":}return t.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}function s(e){return"axis"in e}function l(e){return"legend"in e}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(536),f=n(19),d={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};t.supplementOptions=r,t.getFieldOption=i,t.getFieldDef=a,t.supplementFieldOption=o},function(e,t,n){"use strict";function r(){var e;return e=c.select("#vis-tooltip").empty()?c.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):c.select("#vis-tooltip")}function i(e,t){e.selectAll("table").remove();var n=e.append("table").selectAll(".tooltip-row").data(t);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(e){return e.title+":"}),r.append("td").attr("class","value").text(function(e){return e.value})}function a(){c.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function o(e,t){var n=10,r=10;t&&t.offset&&void 0!==t.offset.x&&null!==t.offset.x&&(n=t.offset.x),t&&t.offset&&void 0!==t.offset.y&&null!==t.offset.y&&(r=t.offset.y),c.select("#vis-tooltip").style("top",function(){var t=this.getBoundingClientRect().height;return e.clientY+t+r<window.innerHeight?""+(e.clientY+r)+"px":""+(e.clientY-t-r)+"px"}).style("left",function(){var t=this.getBoundingClientRect().width;return e.clientX+t+n<window.innerWidth?""+(e.clientX+n)+"px":""+(e.clientX-t-n)+"px"})}function s(){c.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function l(e){u(),e&&"dark"===e.colorTheme?c.select("#vis-tooltip").classed("dark-theme",!0):c.select("#vis-tooltip").classed("light-theme",!0)}function u(){c.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(154);t.getTooltipPlaceholder=r,t.bindData=i,t.clearData=a,t.updatePosition=o,t.clearPosition=s,t.updateColorTheme=l,t.clearColorTheme=u},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new n(e)}function n(e){if(!(t=p.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],l=!!t[7],u=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(l=!0,c="g"):d[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=u,this.type=c}function r(t){return h=y(t),e.format=h.format,e.formatPrefix=h.formatPrefix,h}var i,a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},o=function(e){return e=a(Math.abs(e)),e?e[1]:NaN},s=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}},l=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},u=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},c=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+a(e,Math.max(0,t+s-1))[0]},f=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},d={"":u,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return f(100*e,t)},r:f,s:c,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;t.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,m=function(e){return e},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=function(e){function n(e){function n(e){var t,n,l,u=_,d=x;if("c"===b)d=w(e)+d,e="";else{e=+e;var p=e<0;if(e=w(Math.abs(e),v),p&&0===+e&&(p=!1),u=(p?"("===s?s:"-":"-"===s||"("===s?"":s)+u,d=("s"===b?g[8+i/3]:"")+d+(p&&"("===s?")":""),O)for(t=-1,n=e.length;++t<n;)if(l=e.charCodeAt(t),48>l||l>57){d=(46===l?c+e.slice(t+1):e.slice(t))+d,e=e.slice(0,t);break}}y&&!h&&(e=a(e,1/0));var S=u.length+e.length+d.length,k=S<m?new Array(m-S+1).join(r):"";switch(y&&h&&(e=a(k+e,k.length?m-d.length:1/0),k=""),o){case"<":e=u+e+d+k;break;case"=":e=u+k+e+d;break;case"^":e=k.slice(0,S=k.length>>1)+u+e+d+k.slice(S);break;default:e=k+u+e+d}return f(e)}e=t(e);var r=e.fill,o=e.align,s=e.sign,l=e.symbol,h=e.zero,m=e.width,y=e.comma,v=e.precision,b=e.type,_="$"===l?u[0]:"#"===l&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===l?u[1]:/[%p]/.test(b)?p:"",w=d[b],O=!b||/[defgprs%]/.test(b);return v=null==v?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return e+""},n}function r(e,r){var i=n((e=t(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(o(r)/3))),s=Math.pow(10,-a),l=g[8+a/3];return function(e){return i(s*e)+l}}var a=e.grouping&&e.thousands?s(e.grouping,e.thousands):m,u=e.currency,c=e.decimal,f=e.numerals?l(e.numerals):m,p=e.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(e){return Math.max(0,-o(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(t)/3)))-o(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,o(t)-o(e))+1};e.formatDefaultLocale=r,e.formatLocale=y,e.formatSpecifier=t,e.precisionFixed=v,e.precisionPrefix=b,e.precisionRound=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(155))}(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function a(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date((+n)));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=ge[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function o(e,n){return function(a){var o,l,u=i(1900),c=s(u,e,a+="",0);if(c!=a.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(o=r(i(u.y)),l=o.getUTCDay(),o=l>4||0===l?t.utcMonday.ceil(o):t.utcMonday(o),o=t.utcDay.offset(o,7*(u.V-1)),u.y=o.getUTCFullYear(),u.m=o.getUTCMonth(),u.d=o.getUTCDate()+(u.w+6)%7):(o=n(i(u.y)),l=o.getDay(),o=l>4||0===l?t.timeMonday.ceil(o):t.timeMonday(o),o=t.timeDay.offset(o,7*(u.V-1)),u.y=o.getFullYear(),u.m=o.getMonth(),u.d=o.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),l="Z"in u?r(i(u.y)).getUTCDay():n(i(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(l+5)%7:u.w+7*u.U-(l+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,r(u)):n(u)}}function s(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=Qe[i in ge?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function de(e,t,n){var r=$e.exec(t.slice(n));return r?(e.p=Le[r[0].toLowerCase()],n+r[0].length):-1}function pe(e,t,n){var r=qe.exec(t.slice(n));return r?(e.w=We[r[0].toLowerCase()],n+r[0].length):-1}function he(e,t,n){var r=Ue.exec(t.slice(n));return r?(e.w=Be[r[0].toLowerCase()],n+r[0].length):-1}function me(e,t,n){var r=Ge.exec(t.slice(n));return r?(e.m=Ye[r[0].toLowerCase()],n+r[0].length):-1}function ye(e,t,n){var r=Ve.exec(t.slice(n));return r?(e.m=He[r[0].toLowerCase()],n+r[0].length):-1}function ve(e,t,n){return s(e,Ae,t,n)}function be(e,t,n){return s(e,De,t,n)}function _e(e,t,n){return s(e,je,t,n)}function xe(e){return Ie[e.getDay()]}function we(e){return Ne[e.getDay()]}function Oe(e){return Fe[e.getMonth()]}function Se(e){return ze[e.getMonth()]}function ke(e){return Re[+(e.getHours()>=12)]}function Pe(e){return Ie[e.getUTCDay()]}function Ee(e){return Ne[e.getUTCDay()]}function Me(e){return Fe[e.getUTCMonth()]}function Te(e){return ze[e.getUTCMonth()]}function Ce(e){return Re[+(e.getUTCHours()>=12)]}var Ae=e.dateTime,De=e.date,je=e.time,Re=e.periods,Ne=e.days,Ie=e.shortDays,ze=e.months,Fe=e.shortMonths,$e=l(Re),Le=u(Re),Ue=l(Ne),Be=u(Ne),qe=l(Ie),We=u(Ie),Ve=l(ze),He=u(ze),Ge=l(Fe),Ye=u(Fe),Xe={a:xe,A:we,b:Oe,B:Se,c:null,d:T,e:T,f:R,H:C,I:A,j:D,L:j,m:N,M:I,p:ke,Q:ce,s:fe,S:z,u:F,U:$,V:L,w:U,W:B,x:null,X:null,y:q,Y:W,Z:V,"%":ue},Ke={a:Pe,A:Ee,b:Me,B:Te,c:null,d:H,e:H,f:Q,H:G,I:Y,j:X,L:K,m:J,M:Z,p:Ce,Q:ce,s:fe,S:ee,u:te,U:ne,V:re,w:ie,W:ae,x:null,X:null,y:oe,Y:se,Z:le,"%":ue},Qe={a:pe,A:he,b:me,B:ye,c:ve,d:b,e:b,f:k,H:x,I:x,j:_,L:S,m:v,M:w,p:de,Q:E,s:M,S:O,u:f,U:d,V:p,w:c,W:h,x:be,X:_e,y:g,Y:m,Z:y,"%":P};return Xe.x=a(De,Xe),Xe.X=a(je,Xe),Xe.c=a(Ae,Xe),Ke.x=a(De,Ke),Ke.X=a(je,Ke),Ke.c=a(Ae,Ke),{format:function(e){var t=a(e+="",Xe);return t.toString=function(){return e},t},parse:function(e){var t=o(e+="",n);return t.toString=function(){return e},t},utcFormat:function(e){var t=a(e+="",Ke);return t.toString=function(){return e},t},utcParse:function(e){var t=o(e,r);return t.toString=function(){return e},t}}}function o(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function s(e){return e.replace(be,"\\$&")}function l(e){return new RegExp("^(?:"+e.map(s).join("|")+")","i")}function u(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function c(e,t,n){var r=ye.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function f(e,t,n){var r=ye.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function m(e,t,n){var r=ye.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function g(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function y(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function b(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ye.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function w(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function O(e,t,n){var r=ye.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ye.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k(e,t,n){var r=ye.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function E(e,t,n){var r=ye.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function M(e,t,n){var r=ye.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function T(e,t){return o(e.getDate(),t,2)}function C(e,t){return o(e.getHours(),t,2)}function A(e,t){return o(e.getHours()%12||12,t,2)}function D(e,n){return o(1+t.timeDay.count(t.timeYear(e),e),n,3)}function j(e,t){return o(e.getMilliseconds(),t,3)}function R(e,t){return j(e,t)+"000"}function N(e,t){return o(e.getMonth()+1,t,2)}function I(e,t){return o(e.getMinutes(),t,2)}function z(e,t){return o(e.getSeconds(),t,2)}function F(e){var t=e.getDay();return 0===t?7:t}function $(e,n){return o(t.timeSunday.count(t.timeYear(e),e),n,2)}function L(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),o(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function U(e){return e.getDay()}function B(e,n){return o(t.timeMonday.count(t.timeYear(e),e),n,2)}function q(e,t){return o(e.getFullYear()%100,t,2)}function W(e,t){return o(e.getFullYear()%1e4,t,4)}function V(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+o(t/60|0,"0",2)+o(t%60,"0",2)}function H(e,t){return o(e.getUTCDate(),t,2)}function G(e,t){return o(e.getUTCHours(),t,2)}function Y(e,t){return o(e.getUTCHours()%12||12,t,2)}function X(e,n){return o(1+t.utcDay.count(t.utcYear(e),e),n,3)}function K(e,t){return o(e.getUTCMilliseconds(),t,3)}function Q(e,t){return K(e,t)+"000"}function J(e,t){return o(e.getUTCMonth()+1,t,2)}function Z(e,t){return o(e.getUTCMinutes(),t,2)}function ee(e,t){return o(e.getUTCSeconds(),t,2)}function te(e){var t=e.getUTCDay();return 0===t?7:t}function ne(e,n){return o(t.utcSunday.count(t.utcYear(e),e),n,2)}function re(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),o(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ie(e){return e.getUTCDay()}function ae(e,n){return o(t.utcMonday.count(t.utcYear(e),e),n,2)}function oe(e,t){return o(e.getUTCFullYear()%100,t,2)}function se(e,t){return o(e.getUTCFullYear()%1e4,t,4)}function le(){return"+0000"}function ue(){return"%"}function ce(e){return+e}function fe(e){return Math.floor(+e/1e3)}function de(t){return me=a(t),e.timeFormat=me.format,e.timeParse=me.parse,e.utcFormat=me.utcFormat,e.utcParse=me.utcParse,me}function pe(e){return e.toISOString()}function he(e){var t=new Date(e);return isNaN(t)?null:t}var me,ge={"-":"",_:" ",0:"0"},ye=/^\s*\d+/,ve=/^%/,be=/[\\^$*+?|[\]().{}]/g;de({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _e="%Y-%m-%dT%H:%M:%S.%LZ",xe=Date.prototype.toISOString?pe:e.utcFormat(_e),we=+new Date("2000-01-01T00:00:00.000Z")?he:e.utcParse(_e);e.timeFormatDefaultLocale=de,e.timeFormatLocale=a,e.isoFormat=xe,e.isoParse=we,Object.defineProperty(e,"__esModule",{value:!0})})},438,[549,34],[550,6,8,12,19,2,24,211],[551,67,6,48,8,4,12,19,2],[554,231,8,4,56,538,2,89,214,222],[555,4,56,213,89,68],[566,2,15,90,133,92,93],[571,6,30,8,4,12,2,31,89,214,91,223,68,16,226,95,69],[572,4,56,2,212,91,94,68,224,16,18,230],[577,34],[578,27,6,8,25,12,2,24,36],[579,6,48,12,2],[580,36],[581,27,6,8,4,12,31,36,47],[582,36,8,19],[583,30,8,4,25,19,2,24],[584,36,47],[585,27,43,30,8,25,98,2,24,505,506,507,509,511,512,513,514,515],[586,24,36,47],[587,6,8,4,25,12,36],[588,36,47],[589,6,30,8,19,24,36,47],[590,31,36,47],[593,2,31,16],[594,34],[595,6,43,8,25,537,19,2,16,517],[596,4,213,89,68],[599,27,2,31,16,18,69],[600,34],[602,6,8,25,12,19,2,16,95,34,521,69,227,228,523],[605,6,4,12,12,19,2,2],[609,2,229,18],[610,2,18,136],[612,4,2,93],[614,18],[615,525,136,526,96,527,529,530],[616,6,135,18,96],[617,6,2,135,18,96],function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return u({},e,{encoding:d.reduce(e.encoding,function(e,n,r){return y.indexOf(r)>-1?e[r]=n:m.warn(m.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,e.selection),s=(e.projection,c(e,["mark","encoding","selection","projection"])),d=void 0;r(n)&&n.extent&&f.isNumber(n.extent)&&(d=n.extent);var p=o(e),h=l(e,p,d),m=h.transform,y=h.continuousAxisChannelDef,v=h.continuousAxis,b=h.encodingWithoutContinuousAxis,_=(b.color,b.size),x=c(b,["color","size"]),w=_?{size:_}:g.getMarkSpecificConfigMixins(t.box,"size"),O={};return y.scale&&(O.scale=y.scale),y.axis&&(O.axis=y.axis),u({},s,{transform:m,layer:[{mark:{type:"rule",style:"boxWhisker"},encoding:u((S={},S[v]=u({field:"lower_whisker_"+y.field,type:y.type},O),S[v+"2"]={field:"lower_box_"+y.field,type:y.type},S),x,g.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},{mark:{type:"rule",style:"boxWhisker"},encoding:u((k={},k[v]={field:"upper_box_"+y.field,type:y.type},k[v+"2"]={field:"upper_whisker_"+y.field,type:y.type},k),x,g.getMarkSpecificConfigMixins(t.boxWhisker,"color"))},u({},a?{selection:a}:{},{mark:{type:"bar",style:"box"},encoding:u((P={},P[v]={field:"lower_box_"+y.field,type:y.type},P[v+"2"]={field:"upper_box_"+y.field,type:y.type},P),b,b.color?{}:g.getMarkSpecificConfigMixins(t.box,"color"),w)}),{mark:{type:"tick",style:"boxMid"},encoding:u((E={},E[v]={field:"mid_box_"+y.field,type:y.type},E),x,g.getMarkSpecificConfigMixins(t.boxMid,"color"),w)}]});var S,k,P,E}function o(e){var n=e.mark,i=e.encoding;e.projection,c(e,["mark","encoding","projection"]);if(h.isFieldDef(i.x)&&h.isContinuous(i.x)){if(h.isFieldDef(i.y)&&h.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(h.isFieldDef(i.y)&&h.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function s(e,n){var r,i,a=(e.mark,e.encoding);e.projection,c(e,["mark","encoding","projection"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,s=c(r,["aggregate"]);o!==t.BOXPLOT&&m.warn("Continuous axis should not have customized aggregation function "+o),r=s}return{continuousAxisChannelDef:r,continuousAxis:i}}function l(e,n,r){var i=s(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,l=e.encoding,u=void 0===r,c=[{op:"q1",field:a.field,as:"lower_box_"+a.field},{op:"q3",field:a.field,as:"upper_box_"+a.field},{op:"median",field:a.field,as:"mid_box_"+a.field}],f=[];c.push({op:"min",field:a.field,as:(u?"lower_whisker_":"min_")+a.field}),c.push({op:"max",field:a.field,as:(u?"upper_whisker_":"max_")+a.field}),u||(f=[{calculate:"datum.upper_box_"+a.field+" - datum.lower_box_"+a.field,as:"iqr_"+a.field},{calculate:"min(datum.upper_box_"+a.field+" + datum.iqr_"+a.field+" * "+r+", datum.max_"+a.field+")",as:"upper_whisker_"+a.field},{calculate:"max(datum.lower_box_"+a.field+" - datum.iqr_"+a.field+" * "+r+", datum.min_"+a.field+")",as:"lower_whisker_"+a.field}]);var d=[],m=[],g=[],y={};return p.forEach(l,function(e,n){if(n!==o)if(h.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({op:e.aggregate,field:e.field,as:h.vgField(e)});else if(void 0===e.aggregate){var r=h.vgField(e),i=e.bin;if(i){var a=e.field;m.push({bin:i,field:a,as:r})}else if(e.timeUnit){var s=e.timeUnit,a=e.field;g.push({timeUnit:s,field:a,as:r})}d.push(r)}y[n]={field:h.vgField(e),type:e.type}}else y[n]=l[n]}),{transform:[].concat(m,g,[{aggregate:c,groupby:d}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:y}}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var f=n(27),d=n(30),p=n(30),h=n(8),m=n(4),g=n(532);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_STYLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size","color"],boxWhisker:["color"],boxMid:["color"]};var y=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},477,478,479,480,[621,66,210,67,6,97,497,231,43,48,30,534,8,137,25,12,98,56,140,71,99,19,2,539,358],481,function(e,t,n){"use strict";function r(e){return s.isString(e)?{type:e}:e||{}}function i(e,t,n){void 0===n&&(n=!0);var i=o({type:"pad"},r(t),r(e));return"fit"===i.type&&(n||(l.warn(l.message.FIT_NON_SINGLE),i.type="pad")),i}function a(e){return u.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(77),l=n(4);t.normalizeAutoSize=i;var u=["background","padding"];t.extractTopLevelProperties=a},[626,25,25,2],function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function l(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},u.call(f.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];h.redirect=function(e,t){if(y.indexOf(t)===-1)throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0;
}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:p(o),url:i()},t="response"in o?o.response:o.responseText;n(new h(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){},543,543,function(e,t,n,r){"use strict";function i(e){return!!s[e]}function a(e){return e&&o.contains(t.COUNTING_OPS,e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s={values:1,count:1,valid:1,missing:1,distinct:1,sum:1,mean:1,average:1,variance:1,variancep:1,stdev:1,stdevp:1,median:1,q1:1,q3:1,ci0:1,ci1:1,min:1,max:1,argmin:1,argmax:1};t.AGGREGATE_OPS=o.flagKeys(s),t.isAggregateOp=i,t.COUNTING_OPS=["count","valid","missing","distinct"],t.isCountingAggregateOp=a,t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=o.toSet(t.SHARED_DOMAIN_OPS)},function(e,t,n,r){"use strict";function i(e){return!!l[e]}var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r);t.AXIS_PROPERTY_TYPE={grid:"grid",labelOverlap:"main",offset:"main",title:"main"};var s={orient:1,domain:1,format:1,grid:1,labelBound:1,labelFlush:1,labelPadding:1,labels:1,labelOverlap:1,maxExtent:1,minExtent:1,offset:1,position:1,tickCount:1,ticks:1,tickSize:1,title:1,titlePadding:1,values:1,zindex:1},l=a({},s,{encoding:1,labelAngle:1,titleMaxLength:1}),u=a({scale:1},s,{gridScale:1,encode:1});t.isAxisProperty=i,t.VG_AXIS_PROPERTIES=o.flagKeys(u),t.AXIS_PROPERTIES=o.flagKeys(l)},function(e,t,n,r,i){"use strict";function a(e){return l.isBoolean(e)?"bin":"bin"+l.keys(e).map(function(t){return("_"+t+"_"+e[t]).replace(",","_")}).join("")}function o(e){switch(e){case s.ROW:case s.COLUMN:case s.SIZE:case s.COLOR:case s.OPACITY:case s.SHAPE:return 6;default:return 10}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),l=n(i);t.binToString=a,t.autoMaxBins=o},function(e,t,n,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(r),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.Split);t.AxisComponentPart=o},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t,n,r){var i=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),a=e.axis(t),o=e.config,s={};if(m.isTimeFieldDef(i)){var l=e.getScaleComponent(t).get("type")===g.ScaleType.UTC;s.text={signal:b.timeFormatExpression("datum.value",i.timeUnit,a.format,o.axis.shortTimeLabels,o.timeFormat,l)}}var u=_.getAxisConfig("labelAngle",e.config,t,r,e.getScaleComponent(t).get("type"));if(void 0===u&&(u=f(a,t,i),u&&(s.angle={value:u})),void 0!==u&&"x"===t){var c=d(u,r);c&&(s.align={value:c}),v.contains([90,270],u)&&(s.baseline={value:"middle"})}return s=p({},s,n),0===v.keys(s).length?void 0:s}function f(e,t,n){return void 0!==e.labelAngle?(e.labelAngle%360+360)%360:t===h.X&&v.contains([y.NOMINAL,y.ORDINAL],n.type)?270:void 0}function d(e,t){if(e>0){if(e%360>180)return"top"===t?"left":"right";if(e%360<180)return"top"===t?"right":"left"}else if(e<0)return d(e%360+360,t)}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(l),_=n(u);t.labels=c,t.labelAngle=f,t.labelAlign=d},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e,t,n,r){return!n&&t[e]}function d(e,t){return!E.hasDiscreteDomain(e)&&!t.bin}function p(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function h(e,t,n,r){if(!r)return void 0!==n.labelFlush?n.labelFlush:!("x"!==t||!T.contains(["quantitative","temporal"],e.type))||void 0}function m(e,t,n,r){return void 0!==t.labelOverlap?t.labelOverlap:"nominal"!==e.type?"log"!==r||"greedy":void 0}function g(e,t){return t?0:e}function y(e){switch(e){case O.X:return"bottom";case O.Y:return"left"}throw new Error(P.message.INVALID_CHANNEL_FOR_AXIS)}function v(e,t,n,r){if(!E.hasDiscreteDomain(n)&&"log"!==n&&!T.contains(["month","hours","day","quarter"],t.timeUnit))return t.bin?{signal:"ceil("+r.signal+"/20)"}:{signal:"ceil("+r.signal+"/40)"}}function b(e,t,n){var r=k.title(t,n);return e?T.truncate(r,e):r}function _(e,t,n){var r=e.values;if(e.values&&S.isDateTime(r[0]))return r.map(function(e){return{signal:S.dateTimeExpr(e,!0)}});if(!r&&n.bin&&n.type===M.QUANTITATIVE){var i=t.getName(w.binToString(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+i+".start, "+i+".stop + "+i+".step, "+i+".step)"}}return r}function x(e){return e?0:1}Object.defineProperty(t,"__esModule",{value:!0});var w=n(r),O=n(i),S=n(a),k=n(o),P=n(s),E=n(l),M=n(u),T=n(c);t.domainAndTicks=f,t.domain=f,t.ticks=f,t.grid=d,t.gridScale=p,t.labelFlush=h,t.labelOverlap=m,t.minMaxExtent=g,t.orient=y,t.tickCount=v,t.title=b,t.values=_,t.zindex=x},function(e,t,n,r,i,a,o){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o),p=function(e){function t(t,n,r,i,a){return e.call(this,t,n,r,i,a)||this}return s(t,e),t.prototype.parseData=function(){this.component.data=c.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),u.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},f.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleTitle(),n=e.assembleGroupStyle(),r=e.assembleLayoutSize();return l({type:"group",name:e.getName("group")},t?{title:t}:{},n?{style:n}:{},r?{encode:{update:r}}:{},e.assembleGroup())})},t}(d.Model);t.BaseConcatModel=p},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t,n,r,i,a,o){if(d.isFacetSpec(e))return new h.FacetModel(e,t,n,i,a);if(d.isLayerSpec(e))return new m.LayerModel(e,t,n,r,i,a,o);if(d.isUnitSpec(e))return new y.UnitModel(e,t,n,r,i,a,o);if(d.isRepeatSpec(e))return new g.RepeatModel(e,t,n,i,a);if(d.isConcatSpec(e))return new p.ConcatModel(e,t,n,i,a);throw new Error(f.message.INVALID_SPEC)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a),h=n(o),m=n(s),g=n(l),y=n(u);t.buildModel=c},function(e,t,n,r,i,a,o,s,l,u,c,f){"use strict";function d(e,t){void 0===t&&(t={}),t.logger&&v.set(t.logger),t.fieldTitle&&y.setTitleFormatter(t.fieldTitle);try{var n=g.initConfig(x.mergeDeep({},t.config,e.config)),r=b.normalize(e,n),i=_.normalizeAutoSize(e.autosize,n.autosize,b.isLayerSpec(r)||b.isUnitSpec(r)),a=w.buildModel(r,null,"",void 0,void 0,n,"fit"===i.type);return a.parse(),S.optimizeDataflow(a.component.data),h(a,p(e,n,i))}finally{t.logger&&v.reset(),t.fieldTitle&&y.resetTitleFormatter()}}function p(e,t,n){return m({autosize:1===x.keys(n).length&&n.type?n.type:n},_.extractTopLevelProperties(t),_.extractTopLevelProperties(e))}function h(e,t){var n=e.config?g.stripAndRedirectConfig(e.config):void 0,r=[].concat(e.assembleSelectionData([]),O.assembleRootData(e.component.data)),i=e.assembleProjections(),a=e.assembleTitle(),o=e.assembleGroupStyle(),s=e.assembleLayoutSignals();s=s.filter(function(e){return"width"!==e.name&&"height"!==e.name||void 0===e.value||(t[e.name]=+e.value,!1)});var l=m({$schema:"https://vega.github.io/schema/vega/v3.0.json"},e.description?{description:e.description}:{},t,a?{title:a}:{},o?{style:o}:{},{data:r},i.length>0?{projections:i}:{},e.assembleGroup(s.concat(e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{});return{spec:l}}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(r),y=n(i),v=n(a),b=n(o),_=n(s),x=n(l),w=n(u),O=n(c),S=n(f);t.compile=d},function(e,t,n,r,i,a,o,s){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;return o.type="concat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&c.warn(c.message.CONCAT_CANNOT_SHARE_AXIS),o.isVConcat=f.isVConcatSpec(t),o.children=(f.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return p.buildModel(e,o,o.getName("concat_"+t),void 0,i,a,!1)}),o}return l(t,e),t.prototype.parseLayoutSize=function(){h.parseConcatLayoutSize(this)},t.prototype.parseAxisGroup=function(){return null},t.prototype.assembleLayout=function(){return u({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"each"})},t}(d.BaseConcatModel);t.ConcatModel=m},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,t,n){return n.bin?(e[h.vgField(n,{})]=!0,e[h.vgField(n,{binSuffix:"end"})]=!0,y.binRequiresRange(n,t)&&(e[h.vgField(n,{binSuffix:"range"})]=!0)):e[h.vgField(n)]=!0,e}function c(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}var f=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(r),h=n(i),m=n(a),g=n(o),y=n(s),v=n(l),b=function(e){function t(t,n){var r=e.call(this)||this;return r.dimensions=t,r.measures=n,r}return f(t,e),t.prototype.clone=function(){return new t(d({},this.dimensions),g.duplicate(this.measures))},t.makeFromEncoding=function(e){var n=!1;e.forEachFieldDef(function(e){e.aggregate&&(n=!0)});var r={},i={};return n?(e.forEachFieldDef(function(t,n){t.aggregate?"count"===t.aggregate?(r["*"]=r["*"]||{},r["*"].count=h.vgField(t,{aggregate:"count"})):(r[t.field]=r[t.field]||{},r[t.field][t.aggregate]=h.vgField(t),p.isScaleChannel(n)&&"unaggregated"===e.scaleDomain(n)&&(r[t.field].min=h.vgField(t,{aggregate:"min"}),r[t.field].max=h.vgField(t,{aggregate:"max"}))):u(i,n,t)}),g.keys(i).length+g.keys(r).length===0?null:new t(i,r)):null},t.makeFromTransform=function(e){for(var n={},r={},i=0,a=e.aggregate;i<a.length;i++){var o=a[i];o.op&&("count"===o.op?(r["*"]=r["*"]||{},r["*"].count=o.as||h.vgField(o)):(r[o.field]=r[o.field]||{},r[o.field][o.op]=o.as||h.vgField(o)))}for(var s=0,l=e.groupby;s<l.length;s++){var o=l[s];n[o]=!0}return g.keys(n).length+g.keys(r).length===0?null:new t(n,r)},t.prototype.merge=function(e){g.differ(this.dimensions,e.dimensions)?m.debug("different dimensions, cannot merge"):(c(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return g.keys(this.dimensions).forEach(function(t){return e[t]=!0}),g.keys(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return g.keys(this.measures).forEach(function(n){g.keys(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){for(var e=[],t=[],n=[],r=0,i=g.keys(this.measures);r<i.length;r++)for(var a=i[r],o=0,s=g.keys(this.measures[a]);o<s.length;o++){var l=s[o];n.push(this.measures[a][l]),e.push(l),t.push(a)}var u={type:"aggregate",groupby:g.keys(this.dimensions),ops:e,fields:t,as:n};return u},t}(v.DataFlowNode);t.AggregateNode=b},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b){"use strict";function _(e){function t(r,i){if(r instanceof F.SourceNode&&!S.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof j.ParseNode&&(r.parent instanceof F.SourceNode&&!i.source?i.format=O({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof C.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof A.FilterNode||r instanceof M.CalculateNode||r instanceof N.GeoPointNode||r instanceof R.GeoJSONNode||r instanceof P.AggregateNode||r instanceof z.LookupNode||r instanceof I.IdentifierNode)&&i.transform.push(r.assemble()),(r instanceof D.FilterInvalidNode||r instanceof E.BinNode||r instanceof L.TimeUnitNode||r instanceof $.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof P.AggregateNode&&(i.name||(i.name="data_"+n++)),r instanceof T.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof T.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof T.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source,r.children.forEach(function(e){var n={name:null,source:o,transform:[]};t(e,n)})}}var n=0;return t}function x(e){var t=[],n=_(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function w(e){var t=k.vals(e.sources),n=[],r=_(n),i=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+i++);var t=e.assemble();r(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var a=0,o=n;a<o.length;a++)for(var s=o[a],l=0,u=s.transform||[];l<u.length;l++){var c=u[l];"lookup"===c.type&&(c.from=e.outputNodes[c.from].getSource())}return n}var O=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var S=n(r),k=n(i),P=n(a),E=n(o),M=n(s),T=n(l),C=n(u),A=n(c),D=n(f),j=n(d),R=n(p),N=n(h),I=n(m),z=n(g),F=n(y),$=n(v),L=n(b);t.assembleFacetData=x,t.assembleRootData=w},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,t,n,r){if(_.binRequiresRange(t,n)){var i=x.isUnitModel(e)?e.axis(n)||e.legend(n)||{}:{},a=v.vgField(t,{expr:"datum"}),o=v.vgField(t,{expr:"datum",binSuffix:"end"});return{formulaAs:v.vgField(t,{binSuffix:"range"}),formula:_.binFormatExpression(a,o,i.format,r)}}return{}}function c(e,t){return y.binToString(e)+"_"+t}function f(e){return!!e.model}function d(e,t){if(f(e)){var n=e.model;return{signal:n.getName(t+"_bins"),extentSignal:n.getName(t+"_extent")}}return e}function p(e){return"as"in e}function h(e,t){var n;n=p(e)?[e.as,e.as+"_end"]:[v.vgField(e,{}),v.vgField(e,{binSuffix:"end"})];var r=v.normalizeBin(e.bin,void 0)||{},i=c(r,e.field),a=d(t,i),o=a.signal,s=a.extentSignal,l=g({bin:r,field:e.field,as:n},o?{signal:o}:{},s?{extentSignal:s}:{});return{key:i,binComponent:l}}var m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var y=n(r),v=n(i),b=n(a),_=n(o),x=n(s),w=n(l),O=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return m(t,e),t.prototype.clone=function(){return new t(b.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,r){if(n.bin){var i=h(n,{model:e}),a=i.key,o=i.binComponent;t[a]=g({},o,t[a],u(e,n,r,e.config))}return t},{});return 0===b.keys(n).length?null:new t(n)},t.makeFromTransform=function(e,n){var r=h(e,n),i=r.key,a=r.binComponent;return new t((o={},o[i]=a,o));var o},t.prototype.merge=function(e){this.bins=g({},this.bins,e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return b.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return b.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return b.flatten(b.vals(this.bins).map(function(e){var t=[],n=g({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return!e.bin.extent&&e.extentSignal&&(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(w.DataFlowNode);t.BinNode=O},function(e,t,n,r,i){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=function(e){function t(t){var n=e.call(this)||this;return n.transform=t,n}return a(t,e),t.prototype.clone=function(){return new t(o.duplicate(this.transform))},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(s.DataFlowNode);t.CalculateNode=l},function(e,t,n,r,i,a,o,s,l){"use strict";var u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a),h=n(o),m=n(s),g=n(l),y=function(e){function t(t,n,r){var i=e.call(this)||this;return i.model=t,i.name=n,i.data=r,t.facet.column&&(i.columnFields=[t.vgField(f.COLUMN)],i.columnName=t.getName("column_domain"),t.fieldDef(f.COLUMN).bin&&i.columnFields.push(t.vgField(f.COLUMN,{binSuffix:"end"}))),t.facet.row&&(i.rowFields=[t.vgField(f.ROW)],i.rowName=t.getName("row_domain"),t.fieldDef(f.ROW).bin&&i.rowFields.push(t.vgField(f.ROW,{binSuffix:"end"}))),i.childModel=t.child,i}return u(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){var e=[];return this.columnFields&&(e=e.concat(this.columnFields)),this.rowFields&&(e=e.concat(this.rowFields)),e},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.getChildIndependentFieldsWithStep=function(){for(var e={},t=0,n=["x","y"];t<n.length;t++){var r=n[t],i=this.childModel.component.scales[r];if(i&&!i.merged){var a=i.get("type"),o=i.get("range");if(p.hasDiscreteDomain(a)&&h.isVgRangeStep(o)){var s=m.assembleDomain(this.childModel,r),l=m.getFieldFromDomain(s);l?e[r]=l:d.warn("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e},t.prototype.assembleRowColumnData=function(e,t,n){var r={},i="row"===e?"y":"x";return n[i]&&(r=t?{fields:["distinct_"+n[i]],ops:["max"],as:["distinct_"+n[i]]}:{fields:[n[i]],ops:["distinct"]}),{name:"row"===e?this.rowName:this.columnName,source:t||this.data,transform:[c({type:"aggregate",groupby:"row"===e?this.rowFields:this.columnFields},r)]}},t.prototype.assemble=function(){var e=[],t=null,n=this.getChildIndependentFieldsWithStep();if(this.columnName&&this.rowName&&(n.x||n.y)){t="cross_"+this.columnName+"_"+this.rowName;var r=[].concat(n.x?[n.x]:[],n.y?[n.y]:[]),i=r.map(function(){return"distinct"});e.push({name:t,source:this.data,transform:[{type:"aggregate",groupby:this.columnFields.concat(this.rowFields),fields:r,ops:i}]})}return this.columnName&&e.push(this.assembleRowColumnData("column",t,n)),this.rowName&&e.push(this.assembleRowColumnData("row",t,n)),e},t}(g.DataFlowNode);t.FacetNode=y},function(e,t,n,r,i,a){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),l=n(i),u=n(a),c=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.filter=n,r.expr=s.expression(r.model,r.filter,r),r}return o(t,e),t.prototype.clone=function(){return new t(this.model,l.duplicate(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:this.expr}},t}(u.DataFlowNode);t.FilterNode=c},function(e,t,n,r,i,a,o,s){"use strict";var l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m=function(e){function t(t){var n=e.call(this)||this;return n.fieldDefs=t,n}return l(t,e),t.prototype.clone=function(){return new t(u({},this.fieldDefs))},t.make=function(e){if("filter"!==e.config.invalidValues)return null;var n=e.reduceFieldDef(function(t,n,r){var i=c.isScaleChannel(r)&&e.getScaleComponent(r);if(i){var a=i.get("type");d.hasContinuousDomain(a)&&!n.aggregate&&(t[n.field]=n)}return t},{});return p.keys(n).length?new t(n):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this.fieldDefs},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this,t=p.keys(this.filter).reduce(function(t,n){var r=e.fieldDefs[n],i=f.vgField(r,{expr:"datum"});return null!==r&&(t.push(i+" !== null"),t.push("!isNaN("+i+")")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(h.DataFlowNode);t.FilterInvalidNode=m},function(e,t,n,r,i,a,o){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o),p=function(e){function t(t,n,r){var i=e.call(this)||this;return i.fields=t,i.geojson=n,i.signal=r,i}return s(t,e),t.prototype.clone=function(){return new t(f.duplicate(this.fields),this.geojson,this.signal)},t.makeAll=function(e){for(var n=[],r=0,i=[[u.X,u.Y],[u.X2,u.Y2]];r<i.length;r++){for(var a=i[r],o={},s=0,l=a;s<l.length;s++){var d=l[s];if(e.channelHasField(d)){var p=e.fieldDef(d);f.contains([c.LATITUDE,c.LONGITUDE],p.type)&&(o[p.type]=p.field)}}(c.LONGITUDE in o||c.LATITUDE in o)&&n.push(new t([o[c.LONGITUDE],o[c.LATITUDE]],null,e.getName("geojson_"+n.length)))}if(e.channelHasField(u.SHAPE)){var p=e.fieldDef(u.SHAPE);p.type===c.GEOJSON&&n.push(new t(null,p.field,e.getName("geojson_"+n.length)))}return n},t.prototype.assemble=function(){return l({type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})},t}(d.DataFlowNode);t.GeoJSONNode=p},function(e,t,n,r,i,a,o){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o),p=function(e){function t(t,n){var r=e.call(this)||this;return r.transform=t,r.secondary=n,r}return s(t,e),t.make=function(e,n,r){var i=e.component.data.sources,a=new d.SourceNode(n.from.data),o=i[a.hash()];o||(i[a.hash()]=a,o=a);var s=e.getName("lookup_"+r),l=new f.OutputNode(s,"lookup",e.component.data.outputNodeRefCounts);return l.parent=o,e.component.data.outputNodes[s]=l,new t(n,l.getSource())},t.prototype.producedFields=function(){return u.toSet(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=l({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;u.isString(t)||(c.warn(c.message.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return l({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(f.DataFlowNode);t.LookupNode=p},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e){function n(r){if(!(r instanceof x.FacetNode)){var i=r.clone();if(i instanceof _.OutputNode){var a=t.FACET_SCALE_PREFIX+i.getSource();i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof b.AggregateNode||i instanceof S.StackNode)&&i.addDimensions(e.fields);return v.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return v.flatten(r.children.map(n))}return n}function d(e){if(e instanceof x.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof _.OutputNode){p(e.model.component.data.main);var t=v.flatten(e.children.map(f(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof b.AggregateNode||n instanceof S.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),d(e)}else e.children.forEach(d)}function p(e){if(e instanceof _.OutputNode&&e.type===y.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof x.FacetNode||(t.swapWithParent(),p(e))}}function h(e){e instanceof w.FilterInvalidNode&&v.every(v.vals(e.filter),function(e){return null===e})&&e.remove(),e instanceof _.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(h)}function m(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function g(e){var t=v.vals(e.sources);t.forEach(h),t=t.filter(function(e){return e.numChildren()>0}),m(t).forEach(O.iterateFromLeaves(O.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),m(t).forEach(O.iterateFromLeaves(O.moveParseUp)),m(t).forEach(O.removeDuplicateTimeUnits),t.forEach(d),v.keys(e.sources).forEach(function(t){0===e.sources[t].numChildren()&&delete e.sources[t]})}Object.defineProperty(t,"__esModule",{value:!0});var y=n(r),v=n(i),b=n(a),_=n(o),x=n(s),w=n(l),O=n(u),S=n(c);t.FACET_SCALE_PREFIX="scale_",t.optimizeDataflow=g},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e){function t(n){if(!(n instanceof v.SourceNode)){var r=n.parent;e(n)&&t(r)}}return t}function c(e){var t=e.parent;if(e instanceof y.ParseNode){if(t instanceof v.SourceNode)return!1;if(t.numChildren()>1)return!0;if(t instanceof y.ParseNode)t.merge(e);else{if(h.hasIntersection(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function f(e){return!(e instanceof m.OutputNode||e.numChildren()>0||e instanceof g.FacetNode)&&(e.remove(),!0)}function d(e){var t={};return u(function(e){if(e instanceof b.TimeUnitNode){var n=e.producedFields(),r=h.keys(n).every(function(e){return!!t[e]});r?e.remove():t=p({},t,n)}return!0})(e)}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(l);t.iterateFromLeaves=u,t.moveParseUp=c,t.removeUnusedSubtrees=f,t.removeDuplicateTimeUnits=d},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b,_,x,w,O,S,k,P){"use strict";function E(e,t){if(e.data||!e.parent){var n=new J.SourceNode(e.data),r=n.hash();
return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function M(e){function t(e){i?e.parent?r.insertAsParentOf(e):e.parent=r:i=e.parent||e,r=e}var n,r,i=null,a=0;e.transforms.forEach(function(r){if(I.isCalculate(r))n=new B.CalculateNode(r);else if(I.isFilter(r)){var i={},o=r.filter,s=null;if(N.isFieldEqualPredicate(o)?s=o.equal:N.isFieldRangePredicate(o)?s=o.range[0]:N.isFieldOneOfPredicate(o)&&(s=(o.oneOf||o.in)[0]),s&&(j.isDateTime(s)?i[o.field]="date":A.isNumber(s)?i[o.field]="number":A.isString(s)&&(i[o.field]="string")),z.keys(i).length>0){var l=new G.ParseNode(i);t(l)}n=new V.FilterNode(e,r.filter)}else if(I.isBin(r))n=U.BinNode.makeFromTransform(r,{model:e});else if(I.isTimeUnit(r))n=ee.TimeUnitNode.makeFromTransform(r);else if(I.isAggregate(r))n=L.AggregateNode.makeFromTransform(r),$.requiresSelectionId(e)&&(t(n),n=new K.IdentifierNode);else{if(!I.isLookup(r))return void R.warn(R.message.invalidTransformIgnored(r));n=Q.LookupNode.make(e,r,a++)}t(n)});var o=n;return{first:i,last:o}}function T(e){var t=E(e,e.component.data.sources),n=e.component.data.outputNodes,r=e.component.data.outputNodeRefCounts,i=t;if($.requiresSelectionId(e)&&!e.parent){var a=new K.IdentifierNode;a.parent=i,i=a}var o=e.parent&&F.isLayerModel(e.parent);if((F.isUnitModel(e)||F.isFacetModel(e))&&o){var s=U.BinNode.makeBinFromEncoding(e);s&&(s.parent=i,i=s)}if(e.transforms.length>0){var l=M(e),u=l.first,c=l.last;u.parent=i,i=c}var f=G.ParseNode.make(e);if(f&&(f.parent=i,i=f),F.isUnitModel(e)||F.isFacetModel(e)){if(!o){var s=U.BinNode.makeBinFromEncoding(e);s&&(s.parent=i,i=s)}for(var d=0,p=Y.GeoJSONNode.makeAll(e);d<p.length;d++){var h=p[d];h.parent=i,i=h}for(var m=0,g=X.GeoPointNode.makeAll(e);m<g.length;m++){var y=g[m];y.parent=i,i=y}var v=ee.TimeUnitNode.makeFromEncoding(e);v&&(v.parent=i,i=v)}var b=e.getName(D.RAW),_=new q.OutputNode(b,D.RAW,r);if(n[b]=_,_.parent=i,i=_,F.isUnitModel(e)){var x=L.AggregateNode.makeFromEncoding(e);if(x&&(x.parent=i,i=x,$.requiresSelectionId(e))){var a=new K.IdentifierNode;a.parent=i,i=a}var w=Z.StackNode.make(e);w&&(w.parent=i,i=w)}if(F.isUnitModel(e)){var O=H.FilterInvalidNode.make(e);O&&(O.parent=i,i=O)}var S=e.getName(D.MAIN),k=new q.OutputNode(S,D.MAIN,r);n[S]=k,k.parent=i,i=k;var P=null;if(F.isFacetModel(e)){var T=e.getName("facet");P=new W.FacetNode(e,T,k.getSource()),n[T]=P,P.parent=i,i=P}var A=C({},e.component.data.ancestorParse,f?f.parse:{});return C({},e.component.data,{outputNodes:n,outputNodeRefCounts:r,raw:_,main:k,facetRoot:P,ancestorParse:A})}var C=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var A=n(r),D=n(i),j=n(a),R=n(o),N=n(s),I=n(l),z=n(u),F=n(c),$=n(f),L=n(d),U=n(p),B=n(h),q=n(m),W=n(g),V=n(y),H=n(v),G=n(b),Y=n(_),X=n(x),K=n(w),Q=n(O),J=n(S),Z=n(k),ee=n(P);t.parseTransformArray=M,t.parseData=T},function(e,t,n,r,i,a){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=function(e){function t(t){var n=e.call(this)||this;if(t=t||{name:"source"},u.isInlineData(t))n._data={values:t.values};else if(u.isUrlData(t)){if(n._data={url:t.url},t.format||(t.format={}),!t.format||!t.format.type){var r=/(?:\.([^.]+))?$/.exec(t.url)[1];c.contains(["json","csv","tsv","topojson"],r)||(r="json"),t.format.type=r}}else u.isNamedData(t)&&(n._name=t.name,n._data={});if(!u.isNamedData(t)&&t.format){var i=t.format,a=(i.parse,l(i,["parse"]));n._data.format=a}return n}return o(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return u.isInlineData(this._data)?(this._hash||(this._hash=c.hash(this._data)),this._hash):u.isUrlData(this._data)?c.hash([this._data.url,this._data.format]):this._name},t.prototype.assemble=function(){return s({name:this._name},this._data,{transform:[]})},t}(f.DataFlowNode);t.SourceNode=d},function(e,t,n,r,i,a,o,s){"use strict";function l(e){return e.stack.stackBy.reduce(function(e,t){var n=t.fieldDef,r=f.vgField(n);return r&&e.push(r),e},[])}var u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m=function(e){function t(t){var n=e.call(this)||this;return n._stack=t,n}return u(t,e),t.prototype.clone=function(){return new t(d.duplicate(this._stack))},t.make=function(e){var n=e.stack;if(!n)return null;var r;n.groupbyChannel&&(r=e.fieldDef(n.groupbyChannel));var i,a=l(e),o=e.encoding.order;return i=o?p.sortParams(o):a.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]}),new t({dimensionFieldDef:r,field:e.vgField(n.fieldChannel),facetby:[],stackby:a,sort:i,offset:n.offset,impute:n.impute})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.facetby=this._stack.facetby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.field]=!0,this.getGroupbyFields().forEach(function(t){return e[t]=!0}),this._stack.facetby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return c.isArray(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){var e={};return e[this._stack.field+"_start"]=!0,e[this._stack.field+"_end"]=!0,e},t.prototype.getGroupbyFields=function(){var e=this._stack,t=e.dimensionFieldDef,n=e.impute;return t?t.bin?n?[f.vgField(t,{binSuffix:"mid"})]:[f.vgField(t,{}),f.vgField(t,{binSuffix:"end"})]:[f.vgField(t)]:[]},t.prototype.assemble=function(){var e=[],t=this._stack,n=t.facetby,r=t.field,i=t.dimensionFieldDef,a=t.impute,o=t.offset,s=t.sort,l=t.stackby;if(a&&i){var u=i?f.vgField(i,{binSuffix:"mid"}):void 0;i.bin&&e.push({type:"formula",expr:"("+f.vgField(i,{expr:"datum"})+"+"+f.vgField(i,{expr:"datum",binSuffix:"end"})+")/2",as:u}),e.push({type:"impute",field:r,groupby:l,key:u,method:"value",value:0})}return e.push({type:"stack",groupby:this.getGroupbyFields().concat(n),field:r,sort:s,as:[r+"_start",r+"_end"],offset:o}),e},t}(h.DataFlowNode);t.StackNode=m},function(e,t,n,r,i,a,o){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o),p=function(e){function t(t){var n=e.call(this)||this;return n.formula=t,n}return s(t,e),t.prototype.clone=function(){return new t(f.duplicate(this.formula))},t.makeFromEncoding=function(e){var n=e.reduceFieldDef(function(e,t){if(t.timeUnit){var n=u.vgField(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===f.keys(n).length?null:new t(n)},t.makeFromTransform=function(e){return new t((n={},n[e.field]={as:e.as,timeUnit:e.timeUnit,field:e.field},n));var n},t.prototype.merge=function(e){this.formula=l({},this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return f.vals(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return f.vals(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return f.vals(this.formula).map(function(e){return{type:"formula",as:e.as,expr:c.fieldExpr(e.timeUnit,e.field)}})},t}(d.DataFlowNode);t.TimeUnitNode=p},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v){"use strict";var b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var x=n(r),w=n(i),O=n(a),S=n(o),k=n(s),P=n(l),E=n(u),M=n(c),T=n(f),C=n(d),A=n(p),D=n(h),j=n(m),R=n(g),N=n(y),I=n(v),z=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;o.type="facet",o.child=M.buildModel(t.spec,o,o.getName("child"),void 0,i,a,!1),o.children=[o.child];var s=R.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(s),o}return b(t,e),t.prototype.initFacet=function(e){return w.reduce(e,function(e,t,n){return P.contains([x.ROW,x.COLUMN],n)?void 0===t.field?(S.warn(S.message.emptyFieldDef(t,n)),e):(e[n]=O.normalize(t,n),e):(S.warn(S.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=C.parseData(this),this.child.parseData()},t.prototype.parseLayoutSize=function(){D.parseChildrenLayoutSize(this)},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:O.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,facetFieldDef:t,header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.component.layoutSize.get(n)?this.child.getSizeSignalRef(n):void 0,axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]){var n=this.component,r=n.layoutHeaders,i=n.resolve;if(i.axis[e]=N.parseGuideResolve(i,e),"shared"===i.axis[e])for(var a="x"===e?"column":"row",o=r[a],s=0,l=t.component.axes[e];s<l.length;s++){var u=l[s],c=u.main,f=A.getHeaderType(c.get("orient"));o[f]=o[f]||[this.makeHeaderComponent(a,!1)],o[f][0].axes.push(c.combine()),delete u.main}}},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.getLayoutBandMixins=function(e){for(var t={},n="header"===e?"headerBand":"footerBand",r=0,i=["row","column"];r<i.length;r++){var a=i[r],o=this.component.layoutHeaders[a],s=o[e];if(s&&s[0]){var l="row"===a?"height":"width";this.child.component.layoutSize.get(l)||(t[n]=t[n]||{},t[n][a]=.5)}}return t},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?this.columnDistinctSignal():1;return _({padding:{row:10,column:10}},this.getLayoutBandMixins("header"),this.getLayoutBandMixins("footer"),{offset:10,columns:e,bounds:"full",align:"all"})},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof t)){var e=this.getName("column_domain");return{signal:"length(data('"+e+"'))"}}},t.prototype.assembleGroup=function(n){return this.parent&&this.parent instanceof t?_({},this.channelHasField("column")?{encode:{update:{columns:{field:O.vgField(this.facet.column,{prefix:"distinct"})}}}}:{},e.prototype.assembleGroup.call(this,n)):e.prototype.assembleGroup.call(this,n)},t.prototype.getCardinalityAggregateForChild=function(){var e=[],n=[];if(this.child instanceof t)this.child.channelHasField("column")&&(e.push(O.vgField(this.child.facet.column)),n.push("distinct"));else for(var r=0,i=["x","y"];r<i.length;r++){var a=i[r],o=this.child.component.scales[a];if(o&&!o.merged){var s=o.get("type"),l=o.get("range");if(k.hasDiscreteDomain(s)&&E.isVgRangeStep(l)){var u=I.assembleDomain(this.child,a),c=I.getFieldFromDomain(u);c?(e.push(c),n.push("distinct")):S.warn("Unknown field for ${channel}.  Cannot calculate view size.")}}}return e.length?{fields:e,ops:n}:void 0},t.prototype.assembleMarks=function(){var e=this,t=e.child,n=e.facet,r=this.component.data.facetRoot,i=T.assembleFacetData(r),a=this.channelHasField(x.ROW),o=this.channelHasField(x.COLUMN),s=t.assembleLayoutSize(),l={};a&&o&&(l.aggregate={cross:!0});var u=this.getCardinalityAggregateForChild();u&&(l.aggregate=_({},l.aggregate,u));var c=t.assembleTitle(),f=t.assembleGroupStyle(),d=_({name:this.getName("cell"),type:"group"},c?{title:c}:{},f?{style:f}:{},{from:{facet:_({name:r.name,data:r.data,groupby:[].concat(a?[this.vgField(x.ROW)]:[],o?[this.vgField(x.COLUMN)]:[])},l)},sort:{field:[].concat(a?[this.vgField(x.ROW,{expr:"datum"})]:[],o?[this.vgField(x.COLUMN,{expr:"datum"})]:[]),order:[].concat(a?[n.row.sort||"ascending"]:[],o?[n.column.sort||"ascending"]:[])}},i.length>0?{data:i}:{},s?{encode:{update:s}}:{},t.assembleGroup());return[d]},t.prototype.getMapping=function(){return this.facet},t}(j.ModelWithField);t.FacetModel=z},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p){"use strict";var h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(r),y=n(i),v=n(a),b=n(o),_=n(s),x=n(l),w=n(u),O=n(c),S=n(f),k=n(d),P=n(p),E=function(e){function t(n,r,i,a,o,s,l){var u=e.call(this,n,r,i,s,n.resolve)||this;u.type="layer";var c=m({},a,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return u.initSize(c),u.children=n.layer.map(function(e,n){if(y.isLayerSpec(e))return new t(e,u,u.getName("layer_"+n),c,o,s,l);if(y.isUnitSpec(e))return new P.UnitModel(e,u,u.getName("layer_"+n),c,o,s,l);throw new Error(g.message.INVALID_SPEC)}),u}return h(t,e),t.prototype.parseData=function(){this.component.data=_.parseData(this);for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseData()}},t.prototype.parseLayoutSize=function(){w.parseLayerLayoutSize(this)},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),v.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){b.parseLayerAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},x.assembleLayoutSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleTitle=function(){var t=e.prototype.assembleTitle.call(this);if(t)return t;for(var n=0,r=this.children;n<r.length;n++){var i=r[n];if(t=i.assembleTitle())return t}},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return k.assembleLayerSelectionMarks(this,v.flatten(this.children.map(function(e){return e.assembleMarks()})))},t.prototype.assembleLegends=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLegends())},O.assembleLegends(this))},t}(S.Model);t.LayerModel=E},function(e,t,n,r,i,a){"use strict";function o(e){return"top"===e||"left"===e?"header":"footer"}function s(e,t){var n=e.component.layoutHeaders[t].title,r="row"===t?"vertical":void 0,i=c({align:{value:"center"},text:{value:n}},"vertical"===r?{angle:{value:270}}:{});return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[c({type:"text",role:t+"-title-text",style:"guide-title"},d.keys(i).length>0?{encode:{update:i}}:{})]}}function l(e,n){for(var r=e.component.layoutHeaders[n],i=[],a=0,o=t.HEADER_TYPES;a<o.length;a++){var s=o[a];if(r[s])for(var l=0,c=r[s];l<c.length;l++){var f=c[l];i.push(u(e,n,s,r,f))}}return i}function u(e,t,n,r,i){if(i){var a=null,o=r.facetFieldDef;if(o&&i.labels){var s=o.header,l=void 0===s?{}:s,u=l.format,h=l.labelAngle,m=c({},void 0!==h?{angle:{value:h}}:{});a=c({text:p.formatSignalRef(o,u,"parent",e.config),offset:10,orient:"row"===t?"left":"top",style:"guide-label"},d.keys(m).length>0?{encode:{update:m}}:{})}var g=i.axes,y=g&&g.length>0;if(a||y){var v="row"===t?"height":"width";return c({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.facetFieldDef?{from:{data:e.getName(t+"_domain")},sort:{field:f.vgField(o,{expr:"datum"}),order:o.sort||"ascending"}}:{},a?{title:a}:{},i.sizeSignal?{encode:{update:(b={},b[v]=i.sizeSignal,b)}}:{},y?{axes:g}:{})}}return null;var b}var c=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=o,t.getTitleGroup=s,t.getHeaderGroups=l},function(e,t,n,r,i,a){"use strict";function o(e){return[].concat(s(e,"width"),s(e,"height"))}function s(e,t){var n="width"===t?"x":"y",r=e.component.layoutSize.get(t);if(!r||"merged"===r)return[];var i=e.getSizeSignalRef(t).signal;if("range-step"===r){var a=e.getScaleComponent(n);if(a){var o=a.get("type"),s=a.get("range");if(c.hasDiscreteDomain(o)&&f.isVgRangeStep(s)){var p=e.scaleName(n);if(d.isFacetModel(e.parent)){var h=e.parent.component.resolve;if("independent"===h.scale[n])return[l(p,s)]}return[l(p,s),{name:i,update:u(p,a,"domain('"+p+"').length")}]}}throw new Error("layout size is range step although there is no rangeStep.")}return[{name:i,value:r}]}function l(e,t){return{name:e+"_step",value:t.step}}function u(e,t,n){var r=t.get("type"),i=t.get("padding"),a=t.get("paddingOuter");a=void 0!==a?a:i;var o=t.get("paddingInner");return o="band"===r?void 0!==o?o:i:1,"bandspace("+n+", "+o+", "+a+") * "+e+"_step"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a);t.assembleLayoutSignals=o,t.sizeSignals=s,t.sizeExpr=u},function(e,t,n,r,i,a){"use strict";function o(e){l(e);var t=e.component.layoutSize;t.setWithExplicit("width",u(e,"width")),t.setWithExplicit("height",u(e,"height"))}function s(e){l(e);var t=e.component.layoutSize,n=e.isVConcat?"width":"height";t.setWithExplicit(n,u(e,n))}function l(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];r.parseLayoutSize()}}function u(e,t){for(var n,r="width"===t?"x":"y",i=e.component.resolve,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.layoutSize.getWithExplicit(t),u=i.scale[r];if("independent"===u&&"range-step"===l.value){n=void 0;break}if(n){if("independent"===u&&n.value!==l.value){n=void 0;break}n=h.mergeValuesWithExplicit(n,l,t,"")}else n=l}if(n){for(var c=0,f=e.children;c<f.length;c++){var s=f[c];e.renameLayoutSize(s.getName(t),e.getName(t)),s.component.layoutSize.set(t,"merged",!1)}return n}return{explicit:!1,value:void 0}}function c(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=f(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=f(e,"height");t.set("height",r,!1)}}function f(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");return d.hasDiscreteDomain(a)&&p.isVgRangeStep(o)?"range-step":r.view[t]}return"width"===t&&"text"===e.mark()?r.scale.textXRangeStep:r.scale.rangeStep||d.defaultScaleConfig.rangeStep}Object.defineProperty(t,"__esModule",{value:!0});var d=n(r),p=n(i),h=n(a);t.parseLayerLayoutSize=o,t.parseRepeatLayoutSize=o,t.parseConcatLayoutSize=s,t.parseChildrenLayoutSize=l,t.parseUnitLayoutSize=c},function(e,t,n,r,i){"use strict";function a(e){for(var t=e.component.legends,n={},r=0,i=s.keys(t);r<i.length;r++){var a=i[r],u=e.getScaleComponent(a),c=o(u.domains);if(n[c])for(var f=0,d=n[c];f<d.length;f++){var p=d[f],h=l.mergeLegendComponent(p,t[a]);h||n[c].push(t[a])}else n[c]=[t[a].clone()]}return s.flatten(s.vals(n)).map(function(e){return e.combine()})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(75),s=n(r),l=n(i);t.assembleLegends=a},function(e,t,n,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(r),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(a.Split);t.LegendComponent=o},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e,t,n,r,i){if("gradient"!==i){var a={},o=n.mark();switch(o){case b.BAR:case b.TICK:case b.TEXT:a.shape={value:"square"};break;case b.CIRCLE:case b.SQUARE:a.shape={value:o};break;case b.POINT:case b.LINE:case b.GEOSHAPE:case b.AREA:}var s=n.markDef.filled,l=r===y.COLOR?x.without(b.FILL_STROKE_CONFIG,[s?"fill":"stroke","strokeDash","strokeDashOffset"]):b.FILL_STROKE_CONFIG;if(l=x.without(l,["strokeDash","strokeDashOffset"]),w.applyMarkConfig(a,n,l),r!==y.COLOR){var u=O.color(n);u.fill&&(u.fill.field||"transparent"===u.fill.value)&&delete u.fill,u.stroke&&(u.stroke.field||"transparent"===u.stroke.value)&&delete u.stroke,a=m({},a,u)}if(r!==y.SHAPE){var c=n.encoding.shape;v.isValueDef(c)&&(a.shape={value:c.value})}if(r!==y.OPACITY){var f=h(n.encoding.opacity)||n.markDef.opacity;f&&(a.opacity={value:f})}return a=m({},a,t),x.keys(a).length>0?a:void 0}}function d(e,t,n,r,i){var a={};if("gradient"===i){var o=h(n.encoding.opacity)||n.markDef.opacity;o&&(a.opacity={value:o})}return a=m({},a,t),x.keys(a).length>0?a:void 0}function p(e,t,n,r,i){var a=n.legend(r),o=n.config,s={};if(v.isTimeFieldDef(e)){var l=n.getScaleComponent(r).get("type")===_.ScaleType.UTC;t=m({text:{signal:w.timeFormatExpression("datum.value",e.timeUnit,a.format,o.legend.shortTimeLabels,o.timeFormat,l)}},t)}return s=m({},s,t),x.keys(s).length>0?s:void 0}function h(e){if(v.isValueDef(e)){if(v.hasConditionalValueDef(e)){var t=g.isArray(e.condition)?e.condition.map(function(e){return e.value}):[e.condition.value];return Math.max.apply(null,[e.value].concat(t))}return e.value}}var m=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var g=n(r),y=n(i),v=n(a),b=n(o),_=n(s),x=n(l),w=n(u),O=n(c);t.symbols=f,t.gradient=d,t.labels=p},function(e,t,n,r,i,a,o){"use strict";function s(e){var t=e.values;return t&&c.isDateTime(t[0])?t.map(function(e){return{signal:c.dateTimeExpr(e,!0)}}):t}function l(e,t,n){if(t===u.COLOR&&("quantitative"===e&&!f.isBinScale(n)||"temporal"===e&&d.contains(["time","utc"],n)))return"gradient"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o);t.values=s,t.type=l},function(e,t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r);t.area={vgMark:"area",encodeEntry:function(e){return i({},a.baseEncodeEntry(e,!1),a.pointPosition("x",e,"zeroOrMin"),a.pointPosition("y",e,"zeroOrMin"),a.pointPosition2(e,"zeroOrMin"))}}},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e,t){var n=e.config,r=e.width,i=e.markDef.orient,a=e.encoding.size,o=e.encoding.x,s=e.scaleName(g.X),l=e.getScaleComponent(g.X);if("horizontal"===i)return h({},x.pointPosition("x",e,"zeroOrMin"),x.pointPosition2(e,"zeroOrMin"));if(y.isFieldDef(o)){var u=l.get("type");if(o.bin&&!a&&!b.hasDiscreteDomain(u))return x.binnedPosition(o,"x",e.scaleName("x"),n.bar.binSpacing,l.get("reverse"));if(u===b.ScaleType.BAND)return x.bandPosition(o,"x",e)}return x.centeredBandPosition("x",e,h({},w.mid(r)),p(s,l,n))}function d(e,t){var n=e.config,r=e.encoding,i=e.height,a=e.markDef.orient,o=r.size,s=r.y,l=e.scaleName(g.Y),u=e.getScaleComponent(g.Y);if("vertical"===a)return h({},x.pointPosition("y",e,"zeroOrMin"),x.pointPosition2(e,"zeroOrMin"));if(y.isFieldDef(s)){var c=u.get("type");if(s.bin&&!o&&!b.hasDiscreteDomain(c))return x.binnedPosition(s,"y",e.scaleName("y"),n.bar.binSpacing,u.get("reverse"));if(c===b.ScaleType.BAND)return x.bandPosition(s,"y",e)}return x.centeredBandPosition("y",e,w.mid(i),p(l,u,n))}function p(e,t,n){if(n.bar.discreteBandSize)return{value:n.bar.discreteBandSize};if(t){var r=t.get("type");if(r!==b.ScaleType.POINT)return r===b.ScaleType.BAND?w.bandRef(e):{value:n.bar.continuousBandSize};var i=t.get("range");if(_.isVgRangeStep(i)&&m.isNumber(i.step))return{value:i.step-1};v.warn(v.message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return n.scale.rangeStep&&null!==n.scale.rangeStep?{value:n.scale.rangeStep-1}:{value:20}}var h=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m=n(r),g=n(i),y=n(a),v=n(o),b=n(s),_=n(l),x=n(u),w=n(c);t.bar={vgMark:"rect",encodeEntry:function(e){var t=e.stack;return h({},x.baseEncodeEntry(e,!0),f(e,t),d(e,t))}}},function(e,t,n,r,i,a){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),l=n(i),u=n(a);t.geoshape={vgMark:"shape",encodeEntry:function(e){return o({},s.baseEncodeEntry(e,!0))},postEncodingTransform:function(e){var t=e.encoding,n=t.shape,r=o({type:"geoshape",projection:e.projectionName()},n&&l.isFieldDef(n)&&n.type===u.GEOJSON?{field:l.vgField(n,{expr:"datum"})}:{});return[r]}}},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t,n){var r=v.isMarkDef(e)?h({},e):{type:e},i=r.orient||x.getMarkConfig("orient",r,n);r.orient=p(r.type,t,i),void 0!==i&&i!==r.orient&&y.warn(y.message.orientOverridden(r.orient,i));var a=r.opacity||x.getMarkConfig("opacity",r,n);void 0===a&&(r.opacity=f(r.type,t));var o=r.filled;return void 0===o&&(r.filled=d(r,n)),r}function f(e,t){if(_.contains([v.POINT,v.TICK,v.CIRCLE,v.SQUARE],e)&&!m.isAggregate(t))return.7}function d(e,t){var n=x.getMarkConfig("filled",e,t),r=e.type;return void 0!==n?n:r!==v.POINT&&r!==v.LINE&&r!==v.RULE}function p(e,t,n){switch(e){case v.POINT:case v.CIRCLE:case v.SQUARE:case v.TEXT:case v.RECT:return}var r=t.y2,i=t.x2;switch(e){case v.RULE:if(i&&r)return;case v.BAR:case v.AREA:if(r)return"vertical";if(i)return"horizontal";if(e===v.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case v.LINE:case v.TICK:var a=g.isFieldDef(t.x)&&g.isContinuous(t.x),o=g.isFieldDef(t.y)&&g.isContinuous(t.y);if(a&&!o)return"tick"!==e?"horizontal":"vertical";if(!a&&o)return"tick"!==e?"vertical":"horizontal";if(a&&o){var s=t.x,l=t.y,u=s.type===b.TEMPORAL,c=l.type===b.TEMPORAL;return u&&!c?"tick"!==e?"vertical":"horizontal":!u&&c?"tick"!==e?"horizontal":"vertical":!s.aggregate&&l.aggregate?"tick"!==e?"vertical":"horizontal":s.aggregate&&!l.aggregate?"tick"!==e?"horizontal":"vertical":n?n:(e===v.LINE&&t.order||y.warn(y.message.unclearOrientContinuous(e)),"vertical")}return void y.warn(y.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}var h=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m=n(r),g=n(i),y=n(a),v=n(o),b=n(s),_=n(l),x=n(u);t.normalizeMarkDef=c},function(e,t,n,r,i){"use strict";var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i);t.line={vgMark:"line",encodeEntry:function(e){var t=e.width,n=e.height;return a({},o.baseEncodeEntry(e,!0),o.pointPosition("x",e,s.mid(t)),o.pointPosition("y",e,s.mid(n)),o.nonPosition("size",e,{vgChannel:"strokeWidth"}))}}},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b){"use strict";function _(e){return j.contains([A.LINE,A.AREA],e.mark())?x(e):O(e)}function x(e){var t=e.mark(),n=S(e.encoding),r=W[t].postEncodingTransform?W[t].postEncodingTransform(e):null,i=void 0!==e.markDef.clip?!!e.markDef.clip:k(e),a=R.getStyles(e.markDef),o=w(e),s=[P({name:e.getName("marks"),type:W[t].vgMark},i?{clip:!0}:{},a?{style:a}:{},o?{sort:o}:{},{from:{data:(n.length>0?V:"")+e.requestDataName(M.MAIN)},encode:{update:W[t].encodeEntry(e)}},r?{transform:r}:{})];return n.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:V+e.requestDataName(M.MAIN),data:e.requestDataName(M.MAIN),groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:s}]:s;
}function w(e){if("line"===e.mark()&&e.channelHasField("order"))return R.sortParams(e.encoding.order,{expr:"datum"});var t="horizontal"===e.markDef.orient?"y":"x",n=e.sort(t),r=D.isSortField(n)?C.vgField({aggregate:T.isAggregate(e.encoding)?n.op:void 0,field:n.field},{expr:"datum"}):e.vgField(t,{binSuffix:e.stack&&e.stack.impute?"mid":void 0,expr:"datum"});return r?{field:r,order:"descending"}:void 0}function O(e){var t=e.mark(),n=R.getStyles(e.markDef),r=void 0!==e.markDef.clip?!!e.markDef.clip:k(e),i=W[t].postEncodingTransform?W[t].postEncodingTransform(e):null,a=[];return a.push(P({name:e.getName("marks"),type:W[t].vgMark},r?{clip:!0}:{},n?{style:n}:{},{from:{data:e.requestDataName(M.MAIN)},encode:{update:W[t].encodeEntry(e)}},i?{transform:i}:{})),a}function S(e){return j.keys(e).reduce(function(t,n){switch(n){case"x":case"y":case"order":case"tooltip":case"href":case"x2":case"y2":case"text":case"shape":return t;case"detail":var r=e[n];return r&&(E.isArray(r)?r:[r]).forEach(function(e){e.aggregate||t.push(C.vgField(e,{}))}),t;case"color":case"size":case"opacity":var i=C.getFieldDef(e[n]);return i&&!i.aggregate&&t.push(C.vgField(i,{})),t;default:throw new Error("Bug: Channel "+n+" unimplemented for line mark")}},[])}function k(e){var t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return!!(t&&t.get("domainRaw")||n&&n.get("domainRaw"))}var P=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var E=n(r),M=n(i),T=n(a),C=n(o),A=n(s),D=n(l),j=n(u),R=n(c),N=n(f),I=n(d),z=n(p),F=n(h),$=n(m),L=n(g),U=n(y),B=n(v),q=n(b),W={area:N.area,bar:I.bar,line:F.line,point:$.point,text:B.text,tick:q.tick,rect:L.rect,rule:U.rule,circle:$.circle,square:$.square,geoshape:z.geoshape};t.parseMarkGroup=_;var V="faceted_path_";t.getPathSort=w,t.pathGroupingFields=S},function(e,t,n,r,i,a){"use strict";function o(e,t){var n=e.config,r=e.width,i=e.height;return l({},c.baseEncodeEntry(e,!0),c.pointPosition("x",e,f.mid(r)),c.pointPosition("y",e,f.mid(i)),c.nonPosition("size",e),s(e,n,t))}function s(e,t,n){return n?{shape:{value:n}}:c.nonPosition("shape",e,{defaultValue:u.getMarkConfig("shape",e.markDef,t)})}var l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a);t.shapeMixins=s,t.point={vgMark:"symbol",encodeEntry:function(e){return o(e)}},t.circle={vgMark:"symbol",encodeEntry:function(e){return o(e,"circle")}},t.square={vgMark:"symbol",encodeEntry:function(e){return o(e,"square")}}},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(d.X),i=r?r.get("type"):void 0;if(p.isFieldDef(t)&&t.bin&&!n)return y.binnedPosition(t,"x",e.scaleName("x"),0,r.get("reverse"));if(p.isFieldDef(t)&&r&&g.hasDiscreteDomain(i)){if(i===g.ScaleType.BAND)return y.bandPosition(t,"x",e);throw new Error(h.message.scaleTypeNotWorkWithMark(m.RECT,i))}return f({},y.pointPosition("x",e,"zeroOrMax"),y.pointPosition2(e,"zeroOrMin","x2"))}function c(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(d.Y),i=r?r.get("type"):void 0;if(p.isFieldDef(t)&&t.bin&&!n)return y.binnedPosition(t,"y",e.scaleName("y"),0,r.get("reverse"));if(p.isFieldDef(t)&&r&&g.hasDiscreteDomain(i)){if(i===g.ScaleType.BAND)return y.bandPosition(t,"y",e);throw new Error(h.message.scaleTypeNotWorkWithMark(m.RECT,i))}return f({},y.pointPosition("y",e,"zeroOrMax"),y.pointPosition2(e,"zeroOrMin","y2"))}var f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var d=n(r),p=n(i),h=n(a),m=n(o),g=n(s),y=n(l);t.rect={vgMark:"rect",encodeEntry:function(e){return f({},y.baseEncodeEntry(e,!0),u(e),c(e))}}},function(e,t,n,r,i){"use strict";var a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i);t.rule={vgMark:"rule",encodeEntry:function(e){var t=(e.config,e.markDef),n=e.width,r=e.height,i=t.orient;return e.encoding.x||e.encoding.y?a({},o.baseEncodeEntry(e,!0),o.pointPosition("x",e,"horizontal"===i?"zeroOrMin":s.mid(n)),o.pointPosition("y",e,"vertical"===i?"zeroOrMin":s.mid(r)),"vertical"!==i?o.pointPosition2(e,"zeroOrMax","x2"):{},"horizontal"!==i?o.pointPosition2(e,"zeroOrMax","y2"):{},o.nonPosition("size",e,{vgChannel:"strokeWidth"})):{}}}},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t){return m.isFieldDef(t)&&t.type===g.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function f(e,t,n){var r=e.align||y.getMarkConfig("align",e,n);if(void 0===r)return h.channelHasField(t,p.X)?"center":"right"}var d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var p=n(r),h=n(i),m=n(a),g=n(o),y=n(s),v=n(l),b=n(u);t.text={vgMark:"text",encodeEntry:function(e){var t=e.config,n=e.encoding,r=e.height,i=n.text;return d({},v.baseEncodeEntry(e,!0),v.pointPosition("x",e,c(t,i)),v.pointPosition("y",e,b.mid(r)),v.text(e),v.nonPosition("size",e,{vgChannel:"fontSize"}),v.valueIfDefined("align",f(e.markDef,n,t)))}}},function(e,t,n,r,i,a){"use strict";function o(e){var t=e.config,n=e.markDef.orient,r=e.getScaleComponent("horizontal"===n?"x":"y");if(void 0!==t.tick.bandSize)return t.tick.bandSize;var i=r?r.get("range"):void 0,a=i&&l.isVgRangeStep(i)?i.step:t.scale.rangeStep;if("number"!=typeof a)throw new Error("Function does not handle non-numeric rangeStep");return a/1.5}var s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(r),u=n(i),c=n(a);t.tick={vgMark:"rect",encodeEntry:function(e){var t=e.config,n=e.markDef,r=e.width,i=e.height,a=n.orient,l="horizontal"===a?"width":"height",f="horizontal"===a?"height":"width";return s({},u.baseEncodeEntry(e,!0),u.pointPosition("x",e,c.mid(r),"xc"),u.pointPosition("y",e,c.mid(i),"yc"),u.nonPosition("size",e,{defaultValue:o(e),vgChannel:l}),(d={},d[f]={value:t.tick.thickness},d));var d}}},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,t,n,r,i,a){return S.isFieldDef(t)&&i&&e===i.fieldChannel?d(t,n,{suffix:"end"}):m(e,t,n,r,i,a)}function c(e,t,n,r,i,a,o){return S.isFieldDef(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?d(t,r,{suffix:"start"}):m(e,n,r,i,a,o)}function f(e,t,n,r){var i="start"===n?void 0:"end";return d(e,t,{binSuffix:i},r?{offset:r}:{})}function d(e,t,n,r){var i={scale:t,field:S.vgField(e,n)};return r?w({},i,r):i}function p(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function h(e,t){return{signal:"("+('scale("'+t+'", '+S.vgField(e,{expr:"datum"})+")")+" + "+('scale("'+t+'", '+S.vgField(e,{binSuffix:"end",expr:"datum"})+")")+")/2"}}function m(e,t,n,r,i,a){if(t){if(S.isFieldDef(t)){if(E.contains([O.X,O.Y,O.X2,O.Y2],e)&&E.contains([P.LATITUDE,P.LONGITUDE],t.type))return{field:S.vgField(t,{suffix:"geo"})};if(t.bin)return E.contains([O.X,O.Y],e)&&t.type===P.QUANTITATIVE?i&&i.impute?d(t,n,{binSuffix:"mid"}):h(t,n):d(t,n,M.binRequiresRange(t,e)?{binSuffix:"range"}:{});var o=r.get("type");return k.hasDiscreteDomain(o)?"band"===o?d(t,n,{binSuffix:"range"},{band:.5}):d(t,n,{binSuffix:"range"}):d(t,n,{})}return S.isValueDef(t)?{value:t.value}:void 0}if("zeroOrMin"===a){if(e===O.X||e===O.X2)return v(n,r);if(e===O.Y||e===O.Y2)return _(n,r);throw new Error("Unsupported channel "+e+" for base function")}if("zeroOrMax"===a){if(e===O.X||e===O.X2)return b(n,r);if(e===O.Y||e===O.Y2)return x(n,r);throw new Error("Unsupported channel "+e+" for base function")}return a}function g(e,t){if(e){if(S.isFieldDef(e))return M.formatSignalRef(e,e.format,"datum",t);if(S.isValueDef(e))return{value:e.value}}}function y(e){return w({},e,{mult:.5})}function v(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}function b(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"width"}}}function _(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"height"}}}function x(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}var w=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var O=n(r),S=n(i),k=n(a),P=n(o),E=n(s),M=n(l);t.stackable=u,t.stackable2=c,t.bin=f,t.fieldRef=d,t.bandRef=p,t.midPoint=m,t.text=g,t.mid=y},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b,_,x,w,O,S){"use strict";function k(e){return e&&"unit"===e.type}function P(e){return e&&"facet"===e.type}function E(e){return e&&"repeat"===e.type}function M(e){return e&&"concat"===e.type}function T(e){return e&&"layer"===e.type}var C=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var D=n(r),j=n(i),R=n(a),N=n(o),I=n(s),z=n(l),F=n(u),$=n(c),L=n(f),U=n(d),B=n(p),q=n(h),W=n(m),V=n(g),H=n(y),G=n(v),Y=n(b),X=n(_),K=n(x),Q=n(w),J=n(O),Z=n(S),ee=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e]&&e!==this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=ee,t.isUnitModel=k,t.isFacetModel=P,t.isRepeatModel=E,t.isConcatModel=M,t.isLayerModel=T;var te=function(){function e(e,t,n,r,i){var a=this;this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=a.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=a.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=r,this.name=e.name||n,this.title=D.isString(e.title)?{text:e.title}:e.title,this.scaleNameMap=t?t.scaleNameMap:new ee,this.projectionNameMap=t?t.projectionNameMap:new ee,this.layoutSizeNameMap=t?t.layoutSizeNameMap:new ee,this.data=e.data,this.description=e.description,this.transforms=L.normalizeTransform(e.transform||[]),this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?A({},t.component.data.ancestorParse):{},isFaceted:F.isFacetSpec(e)||t&&t.component.data.isFaceted&&!e.data},layoutSize:new Z.Split,layoutHeaders:{row:{},column:{}},mark:null,resolve:A({scale:{},axis:{},legend:{}},i||{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.getSizeSignalRef("width")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.getSizeSignalRef("height")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSize(),this.parseSelection(),this.parseProjection(),this.parseData(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){J.parseScale(this)},e.prototype.parseProjection=function(){X.parseProjection(this)},e.prototype.renameTopLevelLayoutSize=function(){"width"!==this.getName("width")&&this.renameLayoutSize(this.getName("width"),"width"),"height"!==this.getName("height")&&this.renameLayoutSize(this.getName("height"),"height")},e.prototype.parseLegend=function(){G.parseLegend(this)},e.prototype.assembleGroupStyle=function(){if("unit"===this.type||"layer"===this.type)return"cell"},e.prototype.assembleLayoutSize=function(){if("unit"===this.type||"layer"===this.type)return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=W.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(W.getTitleGroup(this,i))}for(var a=0,o=W.HEADER_CHANNELS;a<o.length;a++){var i=o[a];t=t.concat(W.getHeaderGroups(this,i))}return t},e.prototype.assembleAxes=function(){return q.assembleAxes(this.component.axes)},e.prototype.assembleLegends=function(){return H.assembleLegends(this)},e.prototype.assembleProjections=function(){return Y.assembleProjections(this)},e.prototype.assembleTitle=function(){var e=A({},$.extractTitleConfig(this.config.title).nonMark,this.title);if(e.text)return U.contains(["unit","layer"],this.type)||(e.anchor&&"start"!==e.anchor&&I.warn(I.message.cannotSetTitleAnchor(this.type)),e.anchor="start"),U.keys(e).length>0?e:void 0},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=!this.parent||P(this.parent)?K.assembleScales(this):[];r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var r=n[t];if(k(r)){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return U.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){if(P(this.parent)){var t="width"===e?"x":"y",n=this.component.scales[t];if(n&&!n.merged){var r=n.get("type"),i=n.get("range");if(z.hasDiscreteDomain(r)&&B.isVgRangeStep(i)){var a=n.get("name"),o=Q.assembleDomain(this,t),s=Q.getFieldFromDomain(o);if(s){var l=N.vgField({aggregate:"distinct",field:s},{expr:"datum"});return{signal:V.sizeExpr(a,n,l)}}return I.warn("Unknown field for ${channel}.  Cannot calculate view size."),null}}}return{signal:this.layoutSizeNameMap.get(this.getName(e))}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.getSizeName=function(e){return this.layoutSizeNameMap.get(e)},e.prototype.renameLayoutSize=function(e,t){this.layoutSizeNameMap.rename(e,t)},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.renameProjection=function(e,t){this.projectionNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):j.isChannel(e)&&j.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.projectionName=function(e){return e?this.getName("projection"):this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection"))?this.projectionNameMap.get(this.getName("projection")):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e,t){var n=this.component.selection[e];if(!n&&this.parent&&(n=this.parent.getSelectionComponent(e,t)),!n)throw new Error(I.message.selectionNotFound(t));return n},e}();t.Model=te;var ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.vgField=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return N.vgField(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return R.reduce(this.getMapping(),function(t,n,r){var i=N.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){R.forEach(this.getMapping(),function(t,n){var r=N.getFieldDef(t);r&&e(r,n)},t)},t}(te);t.ModelWithField=ne},function(e,t,n,r,i,a){"use strict";function o(e){return h.isLayerModel(e)||h.isConcatModel(e)||h.isRepeatModel(e)?s(e):l(e)}function s(e){return e.children.reduce(function(e,t){return e.concat(t.assembleProjections())},l(e))}function l(e){var t=e.component.projection;if(!t||t.merged)return[];var n=t.combine(),r=n.name,i=c(n,["name"]),a={signal:"["+t.size.map(function(e){return e.signal}).join(", ")+"]"},o=t.data.reduce(function(t,n){var r=p.isVgSignalRef(n)?n.signal:"data('"+e.lookupDataSource(n)+"')";return d.contains(t,r)||t.push(r),t},[]);return o.length<=0&&f.error("Projection's fit didn't find any data sources"),[u({name:r,size:a,fit:{signal:o.length>1?"["+o.join(", ")+"]":o[0]}},i)]}var u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var f=n(77),d=n(r),p=n(i),h=n(a);t.assembleProjections=o,t.assembleProjectionsForModelAndChildren=s,t.assembleProjectionForModel=l},function(e,t,n,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=function(e){function t(t,n,r,i){var o=e.call(this,a({},n),{name:t})||this;return o.specifiedProjection=n,o.size=r,o.data=i,o.merged=!1,o}return i(t,e),t}(o.Split);t.ProjectionComponent=s},function(e,t,n,r,i,a,o,s,l,u,c,f){"use strict";function d(e){S.isUnitModel(e)?e.component.projection=p(e):e.component.projection=m(e)}function p(e){var t=e.specifiedProjection,n=e.markDef,r=e.config,i=e.encoding,a=n&&n.type===_.GEOSHAPE,o=i&&[y.X,y.Y,y.X2,y.Y2].some(function(e){var t=i[e];return b.isFieldDef(t)&&O.contains([w.LATITUDE,w.LONGITUDE],t.type)});if(a||o){var s=[];return[[y.X,y.Y],[y.X2,y.Y2]].forEach(function(t){(e.channelHasField(t[0])||e.channelHasField(t[1]))&&s.push({signal:e.getName("geojson_"+s.length)})}),e.channelHasField(y.SHAPE)&&e.fieldDef(y.SHAPE).type===w.GEOJSON&&s.push({signal:e.getName("geojson_"+s.length)}),0===s.length&&s.push(e.requestDataName(v.MAIN)),new k.ProjectionComponent(e.projectionName(!0),g({},r.projection||{},t||{}),[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")],s)}}function h(e,t){var n=O.every(x.PROJECTION_PROPERTIES,function(n){return!e.explicit.hasOwnProperty(n)&&!t.explicit.hasOwnProperty(n)||!(!e.explicit.hasOwnProperty(n)||!t.explicit.hasOwnProperty(n)||O.stringify(e.get(n))!==O.stringify(t.get(n)))}),r=O.stringify(e.size)===O.stringify(t.size);if(r){if(n)return e;if(O.stringify(e.explicit)===O.stringify({}))return t;if(O.stringify(t.explicit)===O.stringify({}))return e}return null}function m(e){if(0!==e.children.length){var t,n=O.every(e.children,function(e){d(e);var n=e.component.projection;if(n){if(t){var r=h(t,n);return r&&(t=r),!!r}return t=n,!0}return!0});if(t&&n){var r=e.projectionName(!0),i=new k.ProjectionComponent(r,t.specifiedProjection,t.size,O.duplicate(t.data));return e.children.forEach(function(e){e.component.projection&&(i.data=i.data.concat(e.component.projection.data),e.renameProjection(e.component.projection.get("name"),r),e.component.projection.merged=!0)}),i}}}var g=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var y=n(r),v=n(i),b=n(a),_=n(o),x=n(s),w=n(l),O=n(u),S=n(c),k=n(f);t.parseProjection=d},function(e,t,n,r,i,a,o){"use strict";var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=n(r),u=n(i),c=n(a),f=n(o),d=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,t.resolve)||this;return o.type="repeat",t.resolve&&t.resolve.axis&&("shared"===t.resolve.axis.x||"shared"===t.resolve.axis.y)&&l.warn(l.message.REPEAT_CANNOT_SHARE_AXIS),o.repeat=t.repeat,o.children=o._initChildren(t,o.repeat,i,a),o}return s(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],a=t.row||[n?n.row:null],o=t.column||[n?n.column:null],s=0,l=a;s<l.length;s++)for(var u=l[s],f=0,d=o;f<d.length;f++){var p=d[f],h=(u?"_"+u:"")+(p?"_"+p:""),m={row:u,column:p};i.push(c.buildModel(e.spec,this,this.getName("child"+h),void 0,m,r,!1))}return i},t.prototype.parseLayoutSize=function(){f.parseRepeatLayoutSize(this)},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t}(u.BaseConcatModel);t.RepeatModel=d},function(e,t,n,r,i,a,o){"use strict";function s(e,t){return d(e,t)}function l(e,t){return d(e,t)}function u(e,t){return m.isRepeatRef(e.field)?e.field.repeat in t?p({},e,{field:t[e.field.repeat]}):void g.warn(g.message.noSuchRepeatedValue(e.field.repeat)):e}function c(e,t){if(e=u(e,t),void 0!==e){if(e.sort&&y.isSortField(e.sort)){var n=u(e.sort,t);e=p({},e,n?{sort:n}:{})}return e}}function f(e,t){if(!m.isFieldDef(e)){if(m.hasConditionalFieldDef(e)){var n=c(e.condition,t);if(n)return p({},e,{condition:n});var r=(e.condition,h(e,["condition"]));return r}return e}var n=c(e,t);return n?n:m.isConditionalDef(e)?{condition:e.condition}:void 0}function d(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(v.isArray(i))n[r]=i.map(function(e){return f(e,t)}).filter(function(e){return e});else{var a=f(i,t);a&&(n[r]=a)}}return n}var p=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},h=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var m=n(r),g=n(i),y=n(a),v=n(o);t.replaceRepeaterInFacet=s,t.replaceRepeaterInEncoding=l},function(e,t,n,r,i,a,o){"use strict";function s(e,t){if(d.isLayerModel(t)||d.isFacetModel(t))return"shared";if(d.isConcatModel(t)||d.isRepeatModel(t))return f.contains(u.POSITION_SCALE_CHANNELS,e)?"independent":"shared";throw new Error("invalid model type for resolve")}function l(e,t){var n=e.scale[t],r=f.contains(u.POSITION_SCALE_CHANNELS,t)?"axis":"legend";return"independent"===n?("shared"===e[r][t]&&c.warn(c.message.independentScaleMeansIndependentGuide(t)),"independent"):e[r][t]||"shared"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),c=n(i),f=n(a),d=n(o);t.defaultScaleResolve=s,t.parseGuideResolve=l},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e){return y.isLayerModel(e)||y.isConcatModel(e)||y.isRepeatModel(e)?e.children.reduce(function(e,t){return e.concat(u(t))},c(e)):c(e)}function c(e){return m.keys(e.component.scales).reduce(function(t,n){var r=e.component.scales[n];if(r.merged)return t;var i=r.combine(),a=i.domainRaw,o=i.range,s=i.name,l=i.type,u=(i.domainRaw,i.range,p(i,["name","type","domainRaw","range"]));return o=f(o,s,e,n),a&&v.isRawSelectionDomain(a)&&(a=v.selectionScaleDomain(e,a)),t.push(d({name:s,type:l,domain:b.assembleDomain(e,n)},a?{domainRaw:a}:{},{range:o},u)),t},[])}function f(e,t,n,r){if("x"===r||"y"===r){if(g.isVgRangeStep(e))return{step:{signal:t+"_step"}};if(h.isArray(e)&&2===e.length){var i=e[0],a=e[1];if(0===i&&g.isVgSignalRef(a))return[0,{signal:n.getSizeName(a.signal)}];if(g.isVgSignalRef(i)&&0===a)return[{signal:n.getSizeName(i.signal)},0]}}return e}var d=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},p=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(l);t.assembleScales=u,t.assembleScalesForModel=c,t.assembleScaleRange=f},function(e,t,n,r){"use strict";var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(r),o=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.domains=[],r.setWithExplicit("type",n),r}return i(t,e),t}(a.Split);t.ScaleComponent=o},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v){"use strict";function b(e){H.isUnitModel(e)?_(e):x(e)}function _(e){var t=e.specifiedScales,n=e.component.scales;U.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=O(e,r),s=n[r];if(s.domains=o,F.isSelectionDomain(a)&&s.set("domainRaw",{signal:G.SELECTION_DOMAIN+L.hash(a)},!0),e.component.data.isFaceted){for(var l=e;!H.isFacetModel(l)&&l.parent;)l=l.parent;var u=l.component.resolve.scale[r];if("shared"===u)for(var c=0,f=o;c<f.length;c++){var d=f[c];q.isDataRefDomain(d)&&(d.data=V.FACET_SCALE_PREFIX+d.data.replace(V.FACET_SCALE_PREFIX,""))}}})}function x(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];b(r)}var i=e.component.scales;U.keys(i).forEach(function(t){for(var n,r=0,a=e.children;r<a.length;r++){var o=a[r],s=o.component.scales[t];s&&(n=void 0===n?s.domains:n.concat(s.domains))}i[t].domains=n})}function w(e,t,n,r){if("unaggregated"===e){var i=P(t,n),a=i.valid,o=i.reason;if(!a)return void z.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=P(t,n).valid;if(a)return"unaggregated"}return e}function O(e,t){var n=e.getScaleComponent(t).get("type"),r=w(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=C({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?S(n,r,e,"x").concat(S(n,r,e,"x2")):S(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?S(n,r,e,"y").concat(S(n,r,e,"y2")):S(n,r,e,"y2"):S(n,r,e,t)}function S(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!F.isSelectionDomain(t)){if(!i.bin)return I.isDateTime(t[0])?t.map(function(e){return{signal:"{data: "+I.dateTimeExpr(e,!0)+"}"}}):[t];z.warn(z.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel){if("normalize"===a.offset)return[[0,1]];var o=n.requestDataName(N.MAIN);return[{data:o,field:n.vgField(r,{suffix:"start"})},{data:o,field:n.vgField(r,{suffix:"end"})}]}var s=R.isScaleChannel(r)?k(n,r,e):void 0;if("unaggregated"===t){var o=n.requestDataName(N.MAIN);return[{data:o,field:n.vgField(r,{aggregate:"min"})},{data:o,field:n.vgField(r,{aggregate:"max"})}]}if(i.bin){if(F.isBinScale(e)){var l=n.getName(j.binToString(i.bin)+"_"+i.field+"_bins");return[{signal:"sequence("+l+".start, "+l+".stop + "+l+".step, "+l+".step)"}]}if(F.hasDiscreteDomain(e))return[{data:U.isBoolean(s)?n.requestDataName(N.MAIN):n.requestDataName(N.RAW),field:n.vgField(r,W.binRequiresRange(i,r)?{binSuffix:"range"}:{}),sort:s!==!0&&$.isSortField(s)?s:{field:n.vgField(r,{}),op:"min"}}];if("x"===r||"y"===r){var o=n.requestDataName(N.MAIN);return[{data:o,field:n.vgField(r,{})},{data:o,field:n.vgField(r,{binSuffix:"end"})}]}return[{data:n.requestDataName(N.MAIN),field:n.vgField(r,{})}]}return s?[{data:U.isBoolean(s)?n.requestDataName(N.MAIN):n.requestDataName(N.RAW),field:n.vgField(r),sort:s}]:[{data:n.requestDataName(N.MAIN),field:n.vgField(r)}]}function k(e,t,n){if(F.hasDiscreteDomain(n)){var r=e.sort(t);return $.isSortField(r)?r:"descending"===r?{op:"min",field:e.vgField(t),order:"descending"}:!!U.contains(["ascending",void 0],r)||void 0}}function P(e,t){return e.aggregate?D.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:z.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:z.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:z.message.unaggregateDomainHasNoEffectForRawField(e)}}function E(e){var t=U.unique(e.map(function(e){if(q.isDataRefDomain(e)){var t=(e.sort,A(e,["sort"]));return t}return e}),U.hash),n=U.unique(e.map(function(e){if(q.isDataRefDomain(e)){var t=e.sort;return void 0===t||U.isBoolean(t)||("count"===t.op&&delete t.field,"ascending"===t.order&&delete t.order),t}}).filter(function(e){return void 0!==e}),U.hash);if(1===t.length){var r=e[0];if(q.isDataRefDomain(r)&&n.length>0){var i=n[0];return n.length>1&&(z.warn(z.message.MORE_THAN_ONE_SORT),i=!0),C({},r,{sort:i})}return r}var a=U.unique(n.map(function(e){return e===!0?e:"count"===e.op?e:(z.warn(z.message.domainSortDropped(e)),!0)}),U.hash),o=void 0;1===a.length?o=a[0]:a.length>1&&(z.warn(z.message.MORE_THAN_ONE_SORT),o=!0);var s=U.unique(e.map(function(e){return q.isDataRefDomain(e)?e.data:null}),function(e){return e});if(1===s.length&&null!==s[0]){var r=C({data:s[0],fields:t.map(function(e){return e.field})},o?{sort:o}:{});return r}return C({fields:t},o?{sort:o}:{})}function M(e){if(q.isDataRefDomain(e)&&U.isString(e.field))return e.field;if(B.isDataRefUnionedDomain(e)){for(var t=void 0,n=0,r=e.fields;n<r.length;n++){var i=r[n];if(q.isDataRefDomain(i)&&U.isString(i.field))if(t){if(t!==i.field)return z.warn("Detected faceted independent scales that union domain of multiple fields from different data sources.  We will use the first field.  The result view size may be incorrect."),
t}else t=i.field}return z.warn("Detected faceted independent scales that union domain of identical fields from different source detected.  We will assume that this is the same field from a different fork of the same data source.  However, if this is not case, the result view size maybe incorrect."),t}if(B.isFieldRefUnionDomain(e)){z.warn("Detected faceted independent scales that union domain of multiple fields from the same data source.  We will use the first field.  The result view size may be incorrect.");var t=e.fields[0];return U.isString(t)?t:void 0}}function T(e,t){var n=e.component.scales[t],r=n.domains.map(function(t){return q.isDataRefDomain(t)&&(t.data=e.lookupDataSource(t.data)),t});return E(r)}var C=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},A=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var D=n(r),j=n(i),R=n(a),N=n(o),I=n(s),z=n(l),F=n(u),$=n(c),L=n(f),U=n(d),B=n(p),q=n(h),W=n(m),V=n(g),H=n(y),G=n(v);t.parseScaleDomain=b,t.parseDomainForChannel=O,t.domainSort=k,t.canUseUnaggregatedDomain=P,t.mergeDomains=E,t.getFieldFromDomain=M,t.assembleDomain=T},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g){"use strict";function y(e){v(e),A.parseScaleDomain(e);for(var t=0,n=S.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++){var r=n[t];D.parseScaleProperty(e,r)}j.parseScaleRange(e)}function v(e){E.isUnitModel(e)?e.component.scales=b(e):e.component.scales=_(e)}function b(e){var t=e.encoding,n=e.config,r=e.mark();return x.SCALE_CHANNELS.reduce(function(i,a){var o,s={},l=t[a];if(w.isFieldDef(l)&&(r===O.GEOSHAPE&&w.isFieldDef(l)&&a===x.SHAPE&&l.type===k.GEOJSON||P.contains([x.X,x.Y,x.X2,x.Y2],a)&&P.contains([k.LATITUDE,k.LONGITUDE],l.type)))return i;if(w.isFieldDef(l)?(o=l,s=l.scale||{}):w.hasConditionalFieldDef(l)?(o=l.condition,s=l.condition.scale||{}):a===x.X?o=w.getFieldDef(t.x2):a===x.Y&&(o=w.getFieldDef(t.y2)),o){var u=s.type,c=R.scaleType(s.type,a,o,r,n.scale);i[a]=new C.ScaleComponent(e.scaleName(a+"",!0),{value:c,explicit:u===c})}return i},{})}function _(e){for(var t=e.component.scales={},n={},r=e.component.resolve,i=function(t){v(t),P.keys(t.component.scales).forEach(function(i){if(r.scale[i]=r.scale[i]||M.defaultScaleResolve(i,e),"shared"===r.scale[i]){var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?S.scaleCompatible(a.value,o.value)?n[i]=T.mergeValuesWithExplicit(a,o,"type","scale",N):(r.scale[i]="independent",delete n[i]):n[i]=o}})},a=0,o=e.children;a<o.length;a++){var s=o[a];i(s)}return P.keys(n).forEach(function(r){var i=e.scaleName(r,!0),a=n[r];t[r]=new C.ScaleComponent(i,a);for(var o=0,s=e.children;o<s.length;o++){var l=s[o],u=l.component.scales[r];u&&(l.renameScale(u.get("name"),i),u.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var x=n(r),w=n(i),O=n(a),S=n(o),k=n(s),P=n(l),E=n(u),M=n(c),T=n(f),C=n(d),A=n(p),D=n(h),j=n(m),R=n(g);t.parseScale=y,t.parseScaleCore=v;var N=T.tieBreakByComparing(function(e,t){return S.scaleTypePrecedence(e)-S.scaleTypePrecedence(t)})},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e,t){P.isUnitModel(e)?d(e,t):h(e,t)}function d(e,t){var n=e.component.scales;S.keys(n).forEach(function(r){var i=e.specifiedScales[r],a=n[r],o=e.getScaleComponent(r),s=e.fieldDef(r),l=e.sort(r),u=e.config,c=i[t],f=o.get("type"),d=O.scaleTypeSupportProperty(f,t),h=O.channelScalePropertyIncompatability(r,t);if(void 0!==c&&(d?h&&w.warn(h):w.warn(w.message.scalePropertyNotWorkWithScaleType(f,t,r))),d&&void 0===h)if(void 0!==c)a.copyKeyFromObject(t,i);else{var m=p(t,r,s,l,o.get("type"),o.get("padding"),o.get("paddingInner"),i.domain,e.markDef,u);void 0!==m&&a.set(t,m,!1)}})}function p(e,t,n,r,i,a,o,s,l,u){var c=u.scale;switch(e){case"nice":return m(i,t,n);case"padding":return g(t,i,c,n,l,u.bar);case"paddingInner":return y(a,t,c);case"paddingOuter":return v(a,t,i,o,c);case"reverse":return b(i,r);case"zero":return _(t,n,s)}return c[e]}function h(e,t){for(var n=e.component.scales,r=0,i=e.children;r<i.length;r++){var a=i[r];"range"===t?M.parseScaleRange(a):f(a,t)}S.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var s=o[a],l=s.component.scales[r];if(l){var u=l.getWithExplicit(t);i=E.mergeValuesWithExplicit(i,u,t,"scale",E.tieBreakByComparing(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,i)})}function m(e,t,n){if(!n.bin&&!k.contains([O.ScaleType.TIME,O.ScaleType.UTC],e))return k.contains([x.X,x.Y],t)}function g(e,t,n,r,i,a){if(k.contains([x.X,x.Y],e)){if(O.isContinuousToContinuous(t)){if(void 0!==n.continuousPadding)return n.continuousPadding;var o=i.type,s=i.orient;if("bar"===o&&!r.bin&&("vertical"===s&&"x"===e||"horizontal"===s&&"y"===e))return a.continuousBandSize}if(t===O.ScaleType.POINT)return n.pointPadding}}function y(e,t,n){if(void 0===e)return k.contains([x.X,x.Y],t)?n.bandPaddingInner:void 0}function v(e,t,n,r,i){if(void 0===e)return k.contains([x.X,x.Y],t)&&n===O.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function b(e,t){if(O.hasContinuousDomain(e)&&"descending"===t)return!0}function _(e,t,n){if("size"===e&&"quantitative"===t.type)return!0;var r=!!n&&"unaggregated"!==n;return!(r||t.bin||!k.contains([x.X,x.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var x=n(r),w=n(i),O=n(a),S=n(o),k=n(s),P=n(l),E=n(u),M=n(c);t.parseScaleProperty=f,t.getDefaultValue=p,t.parseNonUnitScaleProperty=h,t.nice=m,t.padding=g,t.paddingInner=y,t.paddingOuter=v,t.reverse=b,t.zero=_},function(e,t,n,r,i,a,o,s,l,u,c,f,d){"use strict";function p(e){T.isUnitModel(e)?h(e):A.parseNonUnitScaleProperty(e,"range")}function h(e){var t=e.component.scales;O.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.getScaleComponent(n),a=e.specifiedScales[n],o=e.fieldDef(n),s="x"===n?"width":"y"===n?"height":void 0,l=s?!!e.component.layoutSize.get(s):void 0,u=i.get("type"),c=E.contains(["point","band"],u)||!!a.rangeStep;s&&e.fit&&!l&&c&&(S.warn(S.message.CANNOT_FIX_RANGE_STEP_WITH_FIT),l=!0);var f=m(e),d=g(n,u,o.type,a,e.config,r.get("zero"),e.mark(),l,e.getName(s),f);r.setWithExplicit("range",d)}})}function m(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&M.isVgRangeStep(r)&&w.isNumber(r.step)&&t.push(r.step);var i=e.getScaleComponent("y"),a=i&&i.get("range");return a&&M.isVgRangeStep(a)&&w.isNumber(a.step)&&t.push(a.step),t}function g(e,n,r,i,a,o,s,l,u,c){for(var f=l||null===i.rangeStep,d=0,p=t.RANGE_PROPERTIES;d<p.length;d++){var h=p[d];if(void 0!==i[h]){var m=k.scaleTypeSupportProperty(n,h),g=k.channelScalePropertyIncompatability(e,h);if(m)if(g)S.warn(g);else switch(h){case"range":return C.makeExplicit(i[h]);case"scheme":return C.makeExplicit(y(i[h]));case"rangeStep":var b=i[h];if(null!==b){if(!l)return C.makeExplicit({step:b});S.warn(S.message.rangeStepDropped(e))}}else S.warn(S.message.scalePropertyNotWorkWithScaleType(n,h,e))}}return C.makeImplicit(v(e,n,r,a,o,s,u,c,f))}function y(e){if(k.isExtendedScheme(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function v(e,t,n,r,i,a,o,s,l){switch(e){case O.X:case O.Y:if(E.contains(["point","band"],t)&&!l)if(e===O.X&&"text"===a){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};return e===O.Y&&P.hasContinuousDomain(t)?[{signal:o},0]:[0,{signal:o}];case O.SIZE:var u=b(a,i,r),c=_(a,s,r);return[u,c];case O.SHAPE:return"symbol";case O.COLOR:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===a||"geoshape"===a?"heatmap":"ramp";case O.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}function b(e,t,n){if(t)return 0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(S.message.incompatibleChannel("size",e))}function _(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:x(t,n.scale)-1;case"line":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=x(t,r);return(i-2)*(i-2)}throw new Error(S.message.incompatibleChannel("size",e))}function x(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}Object.defineProperty(t,"__esModule",{value:!0});var w=n(r),O=n(i),S=n(a),k=n(o),P=n(s),E=n(l),M=n(u),T=n(c),C=n(f),A=n(d);t.RANGE_PROPERTIES=["range","rangeStep","scheme"],t.parseScaleRange=p,t.parseRangeForChannel=g,t.defaultRange=v},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t,n,r,i){var a=f(t,n,r,i);return p.isScaleChannel(t)?void 0!==e?m.channelSupportScaleType(t,e)?d(e,n)?e:(h.warn(h.message.scaleTypeNotWorkWithFieldDef(e,a)),a):(h.warn(h.message.scaleTypeNotWorkWithChannel(t,e,a)),a):a:null}function f(e,t,n,r){switch(t.type){case"nominal":case"ordinal":if("color"===e||"discrete"===p.rangeType(e))return"shape"===e&&"ordinal"===t.type&&h.warn(h.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal";if(v.contains(["x","y"],e)){if("rect"===n)return"band";if("bar"===n)return"band"}return"point";case"temporal":return"color"===e?"sequential":"discrete"===p.rangeType(e)?(h.warn(h.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===p.rangeType(e)?(h.warn(h.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear";case"latitude":case"longitude":case"geojson":return}throw new Error(h.message.invalidFieldType(t.type))}function d(e,t){var n=t.type;return b.contains([y.Type.ORDINAL,y.Type.NOMINAL],n)?void 0===e||g.hasDiscreteDomain(e):n===y.Type.TEMPORAL?b.contains([m.ScaleType.TIME,m.ScaleType.UTC,m.ScaleType.SEQUENTIAL,void 0],e):n!==y.Type.QUANTITATIVE||(t.bin?b.contains([m.ScaleType.BIN_LINEAR,m.ScaleType.BIN_ORDINAL,m.ScaleType.LINEAR],e):b.contains([m.ScaleType.LOG,m.ScaleType.POW,m.ScaleType.SQRT,m.ScaleType.QUANTILE,m.ScaleType.QUANTIZE,m.ScaleType.LINEAR,m.ScaleType.SEQUENTIAL,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(r),h=n(i),m=n(a),g=n(o),y=n(s),v=n(l),b=n(u);t.scaleType=c,t.fieldDefMatchScaleType=d},function(e,t,n,r,i,a,o,s,l){"use strict";function u(e,n,r){var i=y.channelSignalName(n,r,"visual"),a=y.channelSignalName(n,r,"data"),o=v.default.has(n),s=e.scaleName(r),l=g.stringValue(s),u=e.getScaleComponent(r),f=u?u.get("type"):void 0,d=e.getSizeSignalRef(r===p.X?"width":"height").signal,h=r+"(unit)",b=c(n,function(e,t){return e.concat({events:t.between[0],update:"["+h+", "+h+"]"},{events:t,update:"["+i+"[0], clamp("+h+", 0, "+d+")]"})});return b.push({events:{signal:n.name+t.SCALE_TRIGGER},update:m.hasContinuousDomain(f)&&!m.isBinScale(f)?"[scale("+l+", "+a+"[0]), scale("+l+", "+a+"[1])]":"[0, 0]"}),o?[{name:a,on:[]}]:[{name:i,value:[],on:b},{name:a,on:[{events:{signal:i},update:i+"[0] === "+i+"[1] ? null : invert("+l+", "+i+")"}]}]}function c(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(h.warn(n+" is not an ordered event stream for interval selections"),e)},[])}var f=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},d=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(t,"__esModule",{value:!0});var p=n(r),h=n(i),m=n(a),g=n(o),y=n(s),v=n(l);t.BRUSH="_brush",t.SCALE_TRIGGER="_scale_trigger";var b={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var r=n.name,i=v.default.has(n),a=[],o=[],s=[],l=[];if(n.translate&&!i){var f="!event.item || event.item.mark.name !== "+g.stringValue(r+t.BRUSH);c(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(f)<0&&n.push(f)})}return n.project.forEach(function(t){var r=t.channel;if(r!==p.X&&r!==p.Y)return void h.warn("Interval selections only support x and y encoding channels.");var i=u(e,n,r),c=y.channelSignalName(n,r,"data"),f=y.channelSignalName(n,r,"visual"),d=g.stringValue(e.scaleName(r)),v=e.getScaleComponent(r).get("type"),b=m.hasContinuousDomain(v)?"+":"";a.push.apply(a,i),s.push(c),o.push("{encoding: "+g.stringValue(r)+", "+("field: "+g.stringValue(t.field)+", extent: "+c+"}")),l.push({scaleName:e.scaleName(r),expr:"(!isArray("+c+") || "+("("+b+"invert("+d+", "+f+")[0] === "+b+c+"[0] && ")+(b+"invert("+d+", "+f+")[1] === "+b+c+"[1]))")})}),i||a.push({name:r+t.SCALE_TRIGGER,update:l.map(function(e){return e.expr}).join(" && ")+(" ? "+(r+t.SCALE_TRIGGER)+" : {}")}),a.concat({name:r+y.TUPLE,on:[{events:s.map(function(e){return{signal:e}}),update:s.join(" && ")+(" ? {unit: "+y.unitName(e)+", intervals: ["+o.join(", ")+"]} : null")}]})},modifyExpr:function(e,t){var n=t.name+y.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+y.unitName(e)+"}")},marks:function(e,n,r){var i=n.name,a=y.positionalProjections(n),o=a.xi,s=a.yi,l="data("+g.stringValue(n.name+y.STORE)+")";if(v.default.has(n))return r;var u={x:null!==o?{signal:i+"_x[0]"}:{value:0},y:null!==s?{signal:i+"_y[0]"}:{value:0},x2:null!==o?{signal:i+"_x[1]"}:{field:{group:"width"}},y2:null!==s?{signal:i+"_y[1]"}:{field:{group:"height"}}};if("global"===n.resolve)for(var c=0,p=g.keys(u);c<p.length;c++){var h=p[c];u[h]=[f({test:l+".length && "+l+"[0].unit === "+y.unitName(e)},u[h]),{value:0}]}var m=n.mark,b=m.fill,_=m.fillOpacity,x=d(m,["fill","fillOpacity"]),w=g.keys(x).reduce(function(e,t){return e[t]={value:x[t]},e},{});return[{name:i+t.BRUSH+"_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:b},fillOpacity:{value:_}},update:u}}].concat(r,{name:i+t.BRUSH,type:"rect",clip:!0,encode:{enter:f({fill:{value:"transparent"}},w),update:u}})}};t.default=b},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=n(a),u={predicate:"vlMulti",scaleDomain:"vlMultiDomain",signals:function(e,t){var n=t.project,r=l.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",i=[],a=n.map(function(e){return o.stringValue(e.channel)}).filter(function(e){return e}).join(", "),u=n.map(function(e){return o.stringValue(e.field)}).join(", "),c=n.map(function(t){var n=t.channel,a=e.fieldDef(n);return a&&a.bin?(i.push(t.field),"["+r+o.accessPath(e.vgField(n,{}))+", "+(""+r+o.accessPath(e.vgField(n,{binSuffix:"end"}))+"]")):""+r+o.accessPath(t.field)}).join(", ");return[{name:t.name+s.TUPLE,value:{},on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+("{unit: "+s.unitName(e)+", encodings: ["+a+"], ")+("fields: ["+u+"], values: ["+c+"]")+(i.length?", "+i.map(function(e){return o.stringValue("bin_"+e)+": 1"}).join(", "):"")+"} : null",force:!0}]}]},modifyExpr:function(e,t){var n=t.name+s.TUPLE;return n+", "+("global"===t.resolve?"null":"{unit: "+s.unitName(e)+"}")}};t.default=u},function(e,t,n,r,i,a,o,s,l,u,c,f){"use strict";function d(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var s in o)"encodings"===s&&a.fields||"fields"===s&&a.encodings||("mark"===s&&(a[s]=M({},o[s],a[s])),void 0!==a[s]&&a[s]!==!0||(a[s]=o[s]||a[s]));i=j.varName(i);var l=n[i]=M({},a,{name:i,events:j.isString(a.on)?T.selector(a.on,"scope"):a.on});F.forEachTransform(l,function(t){t.parse&&t.parse(e,a,l)})};for(var a in t)i(a);return n}function p(e,n){x(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),F.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+j.stringValue(r.name+t.STORE)+", "+o+")"}]})});var r=O(e);if(n.length&&r){var i=j.stringValue(r.getName("cell"));n.unshift({name:"facet",value:{},on:[{events:T.selector("mousemove","scope"),update:"isTuple(facet) ? facet : group("+i+").datum"}]})}return n}function h(e,t){var n=!1;if(x(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),F.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n){var r=t.filter(function(e){return"unit"===e.name});r.length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]})}return t}function m(e,n){return x(e,function(e){var r=n.filter(function(n){return n.name===e.name+t.STORE});r.length||n.push({name:e.name+t.STORE})}),n}function g(e,t){return x(e,function(n,r){t=r.marks?r.marks(e,n,t):t,F.forEachTransform(n,function(r){r.marks&&(t=r.marks(e,n,t))})}),t}function y(e,t){return e.children.forEach(function(e){R.isUnitModel(e)&&(t=g(e,t))}),t}function v(e,n,r){function i(n){var i=j.varName(n),o=e.getSelectionComponent(i,n),s=j.stringValue(i+t.STORE);if(o.timeUnit){var l=r||e.component.data.raw,u=o.timeUnit.clone();l.parent?u.insertAsParentOf(l):l.parent=u}return"none"!==o.empty&&a.push(s),w(o.type).predicate+("("+s+", datum")+("global"===o.resolve?")":", "+j.stringValue(o.resolve)+")")}var a=[],o=j.logicalExpr(n,i);return(a.length?"!("+a.map(function(e){return"length(data("+e+"))"}).join(" || ")+") || ":"")+("("+o+")")}function b(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function _(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=j.varName(r.selection),a=e.component.selection&&e.component.selection[i];return a?(A.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.'),{signal:"null"}):(a=e.getSelectionComponent(i,r.selection),r.encoding||r.field||(r.field=a.project[0].field,a.project.length>1&&A.warn('A "field" or "encoding" must be specified when using a selection as a scale domain. '+('Using "field": '+j.stringValue(r.field)+"."))),{signal:w(a.type).scaleDomain+("("+j.stringValue(i+t.STORE)+", "+j.stringValue(r.encoding||null)+", ")+j.stringValue(r.field||null)+("global"===a.resolve?")":", "+j.stringValue(a.resolve)+")")})}function x(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,w(i.type))}}function w(e){switch(e){case"single":return z.default;case"multi":return I.default;case"interval":return N.default}return null}function O(e){for(var t=e.parent;t&&!R.isFacetModel(t);)t=t.parent;return t}function S(e){var t=j.stringValue(e.name),n=O(e);return n&&(t+=(n.facet.row?" + '_' + facet"+j.accessPath(n.vgField("row")):"")+(n.facet.column?" + '_' + facet"+j.accessPath(n.vgField("column")):"")),t}function k(e){var t=!1;return x(e,function(e){t=t||e.project.some(function(e){return e.field===D.SELECTION_ID})}),t}function P(e,t,n){return j.varName(e.name+"_"+("visual"===n?t:e.fields[t]))}function E(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.channel===C.X?(t=e,n=a):e.channel===C.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}var M=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var T=n(54),C=n(r),A=n(i),D=n(a),j=n(o),R=n(s),N=n(l),I=n(u),z=n(c),F=n(f);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=d,t.assembleUnitSelectionSignals=p,t.assembleTopLevelSignals=h,t.assembleUnitSelectionData=m,t.assembleUnitSelectionMarks=g,t.assembleLayerSelectionMarks=y,t.selectionPredicate=v,t.isRawSelectionDomain=b,t.selectionScaleDomain=_,t.unitName=S,t.requiresSelectionId=k,t.channelSignalName=P,t.positionalProjections=E},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=n(a),u={predicate:"vlSingle",scaleDomain:"vlSingleDomain",signals:s.default.signals,topLevelSignals:function(e,t,n){var r=n.filter(function(e){return e.name===t.name}),i="data("+o.stringValue(t.name+l.STORE)+")",a=i+"[0].values";return r.length?n:n.concat({name:t.name,update:i+".length && {"+t.project.map(function(e,t){return e.field+": "+a+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){var n=t.name+l.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+l.unitName(e)+"}")}};t.default=u},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=n(a),u={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,s=l.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.forEach(function(e){var i=o.varName(r+"_"+e.field),l=n.filter(function(e){return e.name===i});l.length||n.unshift({name:i,value:"",on:[{events:t.events,update:"datum && item().mark.marktype !== 'group' ? "+s+o.accessPath(e.field)+" : null"}],bind:a[e.field]||a[e.channel]||a})}),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter(function(e){return e.name===r+s.TUPLE})[0],l=i.map(function(e){return o.stringValue(e.field)}).join(", "),u=i.map(function(e){return o.varName(r+"_"+e.field)});return a.update=u.join(" && ")+" ? {fields: ["+l+"], values: ["+u.join(", ")+"]} : null",delete a.value,delete a.on,n}};t.default=u},function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r),o=n(i),s="voronoi",l={has:function(e){return"interval"!==e.type&&e.nearest},marks:function(e,t,n){var r=o.positionalProjections(t),i=r.x,l=r.y,u=e.mark();if("line"===u||"area"===u)return a.warn(a.message.nearestNotSupportForContinuous(u)),n;var c={name:e.getName(s),type:"path",from:{data:e.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:i||!i&&!l?"datum.x":{expr:"0"},y:l||!i&&!l?"datum.y":{expr:"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]},f=0,d=!1;return n.forEach(function(t,n){var r=t.name||"";r===e.component.mark[0].name?f=n:r.indexOf(s)>=0&&(d=!0)}),d||n.splice(f+1,0,c),n}};t.default=l},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),l=n(a),u={has:function(e){var t=e;return void 0!==t.fields||void 0!==t.encodings},parse:function(e,t,n){var r={},i={};(t.fields||[]).forEach(function(e){return r[e]=null}),(t.encodings||[]).forEach(function(t){var n=e.fieldDef(t);if(n)if(n.timeUnit){var a=e.vgField(t);r[a]=t,i[a]={as:a,field:n.field,timeUnit:n.timeUnit}}else r[n.field]=t;else o.warn(o.message.cannotProjectOnChannelWithoutField(t))});var a=n.project||(n.project=[]);for(var u in r)r.hasOwnProperty(u)&&a.push({field:u,channel:r[u]});var c=n.fields||(n.fields={});a.filter(function(e){return e.channel}).forEach(function(e){return c[e.channel]=e.field}),s.keys(i).length&&(n.timeUnit=new l.TimeUnitNode(i))}};t.default=u},function(e,t,n,r,i,a,o){"use strict";function s(e,t){var n=c.stringValue(e.scaleName(t));return"domain("+n+")"}Object.defineProperty(t,"__esModule",{value:!0});var l=n(r),u=n(i),c=n(a),f=n(o),d={has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var i=t.channel,a=e.getScaleComponent(i),o=a?a.get("type"):void 0;return a&&u.hasContinuousDomain(o)&&!u.isBinScale(o)?(a.set("domainRaw",{signal:f.channelSignalName(n,i,"data")},!0),void r.push(i)):void l.warn(l.message.SCALE_BINDINGS_CONTINUOUS)})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===f.channelSignalName(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:f.channelSignalName(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===f.channelSignalName(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};t.default=d,t.domain=s},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(r),a="_toggle",o={has:function(e){return"multi"===e.type&&e.toggle},signals:function(e,t,n){return n.concat({name:t.name+a,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var r=t.name+i.TUPLE,o=t.name+a;return o+" ? null : "+r+", "+("global"===t.resolve?o+" ? null : true, ":o+" ? null : {unit: "+i.unitName(e)+"}, ")+(o+" ? "+r+" : null")}};t.default=o},function(e,t,n,r,i,a,o,s,l,u){"use strict";function c(e,t){for(var n in v)v[n].has(e)&&t(v[n])}Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a),h=n(o),m=n(s),g=n(l),y=n(u),v={project:p.default,toggle:m.default,scales:h.default,translate:g.default,zoom:y.default,inputs:f.default,nearest:d.default};t.forEachTransform=c},function(e,t,n,r,i,a,o){"use strict";function s(e,t,n,r,i){var a=t.name,o=d.default.has(t),s=i.filter(function(e){return e.name===f.channelSignalName(t,n,o?"data":"visual")})[0],l=a+p,c=a+h,m=e.getSizeSignalRef(r).signal,g=e.getScaleComponent(n),y=g.get("type"),v=o&&n===u.X?"-":"",b=l+".extent_"+n,_=""+v+c+"."+n+" / "+(o?""+m:"span("+b+")"),x=o?"log"===y?"panLog":"pow"===y?"panPow":"panLinear":"panLinear",w=x+"("+b+", "+_+(o&&"pow"===y?", "+(g.get("exponent")||1):"")+")";s.on.push({events:{signal:c},update:o?w:"clampRange("+w+", 0, "+m+")"})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(54),u=n(r),c=n(i),f=n(a),d=n(o),p="_translate_anchor",h="_translate_delta",m={has:function(e){return"interval"===e.type&&e.translate},signals:function(e,t,n){var r=t.name,i=d.default.has(t),a=r+p,o=f.positionalProjections(t),m=o.x,g=o.y,y=l.selector(t.translate,"scope");return i||(y=y.map(function(e){return e.between[0].markname=r+c.BRUSH,e})),n.push({name:a,value:{},on:[{events:y.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==m?", extent_x: "+(i?d.domain(e,u.X):"slice("+f.channelSignalName(t,"x","visual")+")"):"")+(null!==g?", extent_y: "+(i?d.domain(e,u.Y):"slice("+f.channelSignalName(t,"y","visual")+")"):"")+"}"}]},{name:r+h,value:{},on:[{events:y,update:"{x: "+a+".x - x(unit), y: "+a+".y - y(unit)}"}]}),null!==m&&s(e,t,u.X,"width",n),null!==g&&s(e,t,u.Y,"height",n),n}};t.default=m},function(e,t,n,r,i,a,o,s){"use strict";function l(e,t,n,r,i){var a=t.name,o=h.default.has(t),s=i.filter(function(e){return e.name===p.channelSignalName(t,n,o?"data":"visual")})[0],l=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(n),c=u.get("type"),f=o?h.domain(e,n):s.name,d=a+g,y=""+a+m+"."+n,v=o?"log"===c?"zoomLog":"pow"===c?"zoomPow":"zoomLinear":"zoomLinear",b=v+"("+f+", "+y+", "+d+(o&&"pow"===c?", "+(u.get("exponent")||1):"")+")";s.on.push({events:{signal:d},update:o?b:"clampRange("+b+", 0, "+l+")"})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(54),c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m="_zoom_anchor",g="_zoom_delta",y={has:function(e){return"interval"===e.type&&e.zoom},signals:function(e,t,n){var r=t.name,i=h.default.has(t),a=r+g,o=p.positionalProjections(t),s=o.x,y=o.y,v=f.stringValue(e.scaleName(c.X)),b=f.stringValue(e.scaleName(c.Y)),_=u.selector(t.zoom,"scope");return i||(_=_.map(function(e){return e.markname=r+d.BRUSH,e})),n.push({name:r+m,on:[{events:_,update:i?"{"+[v?"x: invert("+v+", x(unit))":"",b?"y: invert("+b+", y(unit))":""].filter(function(e){return!!e}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:_,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==s&&l(e,t,"x","width",n),null!==y&&l(e,t,"y","height",n),n}};t.default=y},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v){"use strict";var b=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var x=n(r),w=n(i),O=n(a),S=n(o),k=n(s),P=n(l),E=n(u),M=n(c),T=n(f),C=n(d),A=n(p),D=n(h),j=n(m),R=n(g),N=n(y),I=n(v),z=function(e){function t(t,n,r,i,a,o,s){void 0===i&&(i={});var l=e.call(this,t,n,r,o,void 0)||this;l.fit=s,l.type="unit",l.specifiedScales={},l.specifiedAxes={},l.specifiedLegends={},l.specifiedProjection={},l.selection={},l.children=[],l.initSize(_({},i,t.width?{width:t.width}:{},t.height?{height:t.height}:{}));var u=k.isMarkDef(t.mark)?t.mark.type:t.mark,c=l.encoding=O.normalizeEncoding(N.replaceRepeaterInEncoding(t.encoding||{},a),u);return l.markDef=D.normalizeMarkDef(t.mark,c,o),l.stack=P.stack(u,c,l.config.stack),l.specifiedScales=l.initScales(u,c),l.specifiedAxes=l.initAxes(c),l.specifiedLegends=l.initLegend(c),l.specifiedProjection=t.projection,l.selection=t.selection,l}return b(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initScales=function(e,t){return x.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return S.isFieldDef(a)?(r=a,i=a.scale):S.hasConditionalFieldDef(a)?(r=a.condition,i=a.condition.scale):"x"===n?r=S.getFieldDef(t.x2):"y"===n&&(r=S.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[x.X,x.Y].reduce(function(t,n){var r=e[n];if(S.isFieldDef(r)||n===x.X&&S.isFieldDef(e.x2)||n===x.Y&&S.isFieldDef(e.y2)){var i=S.isFieldDef(r)?r.axis:null;null!==i&&i!==!1&&(t[n]=_({},i))}return t},{})},t.prototype.initLegend=function(e){return x.NONPOSITION_SCALE_CHANNELS.reduce(function(t,n){var r=e[n];if(r){var i=S.isFieldDef(r)?r.legend:S.hasConditionalFieldDef(r)?r.condition.legend:null;null!==i&&i!==!1&&(t[n]=_({},i))}return t},{})},t.prototype.parseData=function(){this.component.data=T.parseData(this)},t.prototype.parseLayoutSize=function(){A.parseUnitLayoutSize(this)},t.prototype.parseSelection=function(){this.component.selection=I.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=j.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=M.parseUnitAxis(this)},t.prototype.assembleSelectionTopLevelSignals=function(e){return I.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return I.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return I.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return C.assembleLayoutSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&R.isLayerModel(this.parent)||(e=I.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleLayoutSize=function(){return{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")}},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=E.duplicate(this.encoding);return n={mark:this.markDef,encoding:r
},e||(n.config=E.duplicate(this.config)),t||(n.data=E.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return w.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return S.getFieldDef(t)},t}(R.ModelWithField);t.UnitModel=z},function(e,t,n,r,i){"use strict";function a(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}function o(e){if(f.isNumber(e))return e>4&&c.warn(c.message.invalidTimeUnit("quarter",e)),e-1+"";throw new Error(c.message.invalidTimeUnit("quarter",e))}function s(e){if(f.isNumber(e))return e-1+"";var n=e.toLowerCase(),r=t.MONTHS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_MONTHS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("month",e))}function l(e){if(f.isNumber(e))return e%7+"";var n=e.toLowerCase(),r=t.DAYS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_DAYS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("day",e))}function u(e,t){void 0===t&&(t=!1);var n=[];if(t&&void 0!==e.day&&f.keys(e).length>1&&(c.warn(c.message.droppedDay(e)),e=f.duplicate(e),delete e.day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(d):n.push(0),void 0!==e.month){var r=t?s(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?o(e.quarter):e.quarter;n.push(i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?l(e.day):e.day;n.push(a+"+1")}else n.push(1);for(var u=0,p=["hours","minutes","seconds","milliseconds"];u<p.length;u++){var h=p[u];void 0!==e[h]?n.push(e[h]):n.push(0)}return e.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=2006;t.isDateTime=a,t.MONTHS=["january","february","march","april","may","june","july","august","september","october","november","december"],t.SHORT_MONTHS=t.MONTHS.map(function(e){return e.substr(0,3)}),t.DAYS=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t.SHORT_DAYS=t.DAYS.map(function(e){return e.substr(0,3)}),t.dateTimeExpr=u},function(e,t,n,r,i,a,o){"use strict";function s(e,t){var n=e&&e[t];return!!n&&(y.isArray(n)?y.some(n,function(e){return!!e.field}):m.isFieldDef(n)||m.hasConditionalFieldDef(n))}function l(e){return y.some(h.CHANNELS,function(t){if(s(e,t)){var n=e[t];if(y.isArray(n))return y.some(n,function(e){return!!e.aggregate});var r=m.getFieldDef(n);return r&&!!r.aggregate}return!1})}function u(e,t){return y.keys(e).reduce(function(n,r){if(!h.supportMark(r,t))return g.warn(g.message.incompatibleChannel(r,t)),n;if("size"===r&&"line"===t){var i=m.getFieldDef(e[r]);if(i&&i.aggregate)return g.warn(g.message.incompatibleChannel(r,t,"when the field is aggregated.")),n}if("detail"===r||"order"===r){var a=e[r];a&&(n[r]=(y.isArray(a)?a:[a]).reduce(function(e,t){return m.isFieldDef(t)?e.push(m.normalizeFieldDef(t,r)):g.warn(g.message.emptyFieldDef(t,r)),e},[]))}else{var a=e[r];if(!m.isFieldDef(a)&&!m.isValueDef(a)&&!m.isConditionalDef(a))return g.warn(g.message.emptyFieldDef(a,r)),n;n[r]=m.normalize(a,r)}return n},{})}function c(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function f(e){var t=[];return h.CHANNELS.forEach(function(n){if(s(e,n)){var r=e[n];(y.isArray(r)?r:[r]).forEach(function(e){m.isFieldDef(e)?t.push(e):m.hasConditionalFieldDef(e)&&t.push(e.condition)})}}),t}function d(e,t,n){if(e)for(var r=function(r){y.isArray(e[r])?e[r].forEach(function(e){t.call(n,e,r)}):t.call(n,e[r],r)},i=0,a=y.keys(e);i<a.length;i++){var o=a[i];r(o)}}function p(e,t,n,r){return e?y.keys(e).reduce(function(n,i){var a=e[i];return y.isArray(a)?a.reduce(function(e,n){return t.call(r,e,n,i)},n):t.call(r,n,a,i)},n):n}Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o);t.channelHasField=s,t.isAggregate=l,t.normalizeEncoding=u,t.isRanged=c,t.fieldDefs=f,t.forEach=d,t.reduce=p},function(e,t,n,r,i,a,o,s,l,u,c,f,d,p,h,m,g,y,v,b,_,x,w,O,S,k,P){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aggregate=n(r),t.axis=n(i),t.bin=n(a),t.channel=n(o),t.compositeMark=n(s);var E=n(l);t.compile=E.compile,t.config=n(u),t.data=n(c),t.datetime=n(f),t.encoding=n(d),t.facet=n(p),t.fieldDef=n(h),t.legend=n(m),t.mark=n(g),t.scale=n(y),t.sort=n(v),t.spec=n(b),t.stack=n(_),t.timeUnit=n(x),t.transform=n(w),t.type=n(O),t.util=n(S),t.validate=n(k),t.version=n(P).version},function(e,t,n,r){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(r);t.defaultLegendConfig={};var o={entryPadding:1,format:1,offset:1,orient:1,padding:1,tickCount:1,title:1,type:1,values:1,zindex:1},s=i({},o,{opacity:1,shape:1,stroke:1,fill:1,size:1,encode:1});t.LEGEND_PROPERTIES=a.flagKeys(o),t.VG_LEGEND_PROPERTIES=a.flagKeys(s)},function(e,t,n,r){"use strict";function i(e){return!!u[e]}function a(e){return e.type}function o(e){var t=a(e)?e.type:e;return t in c}Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(r);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square",e.GEOSHAPE="geoshape"}(s=t.Mark||(t.Mark={})),t.AREA=s.AREA,t.BAR=s.BAR,t.LINE=s.LINE,t.POINT=s.POINT,t.TEXT=s.TEXT,t.TICK=s.TICK,t.RECT=s.RECT,t.RULE=s.RULE,t.GEOSHAPE=s.GEOSHAPE,t.CIRCLE=s.CIRCLE,t.SQUARE=s.SQUARE;var u={area:1,bar:1,line:1,point:1,text:1,tick:1,rect:1,geoshape:1,rule:1,circle:1,square:1};t.isMark=i,t.PRIMITIVE_MARKS=l.flagKeys(u),t.isMarkDef=a;var c=l.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=o,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:5},t.defaultTickConfig={thickness:1}},function(e,t,n,r,i,a,o,s,l,u,c){"use strict";function f(e){return!!w[e]}function d(e){var t=e.x,n=e.y;if(y.isFieldDef(t)&&y.isFieldDef(n))if("quantitative"===t.type&&"quantitative"===n.type){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if("quantitative"===t.type)return"x";if("quantitative"===n.type)return"y"}else{if(y.isFieldDef(t)&&"quantitative"===t.type)return"x";if(y.isFieldDef(n)&&"quantitative"===n.type)return"y"}}function p(e,n,r){var i=b.isMarkDef(e)?e.type:e;if(!x.contains(t.STACKABLE_MARKS,i))return null;var a=d(n);if(!a)return null;var o=n[a],s=y.isStringFieldDef(o)?y.vgField(o,{}):void 0,l="x"===a?"y":"x",u=n[l],c=y.isStringFieldDef(u)?y.vgField(u,{}):void 0,p=m.NONPOSITION_CHANNELS.reduce(function(e,t){if(g.channelHasField(n,t)){var r=n[t];(x.isArray(r)?r:[r]).forEach(function(n){var r=y.getFieldDef(n);if(!r.aggregate){var i=y.isStringFieldDef(r)?y.vgField(r,{}):void 0;(!i||i!==c&&i!==s)&&e.push({channel:t,fieldDef:r})}})}return e},[]);if(0===p.length)return null;var w=void 0;return w=void 0!==o.stack?o.stack:x.contains(t.STACK_BY_DEFAULT_MARKS,i)&&void 0===r?"zero":r,w&&f(w)?o.scale&&o.scale.type&&o.scale.type!==_.ScaleType.LINEAR?(v.warn(v.message.cannotStackNonLinearScale(o.scale.type)),null):g.channelHasField(n,a===m.X?m.X2:m.Y2)?(v.warn(v.message.cannotStackRangedMark(a)),null):(o.aggregate&&!x.contains(h.SUM_OPS,o.aggregate)&&v.warn(v.message.stackNonSummativeAggregate(o.aggregate)),{groupbyChannel:u?l:void 0,fieldChannel:a,impute:x.contains(["area","line"],i),stackBy:p,offset:w}):null}Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(l),_=n(u),x=n(c),w={zero:1,center:1,normalize:1};t.isStackOffset=f,t.STACKABLE_MARKS=[b.BAR,b.AREA,b.RULE,b.POINT,b.CIRCLE,b.SQUARE,b.LINE,b.TEXT,b.TICK],t.STACK_BY_DEFAULT_MARKS=[b.BAR,b.AREA],t.stack=p},function(e,t,n,r,i,a){"use strict";function o(e){return!!O[e]}function s(e){return!!S[e]}function l(e){return!!E[e]}function u(e){return e.substr(3)}function c(e){return!!M[e]}function f(e,n){for(var r=l(e),i=r?new Date(Date.UTC(0,0,1,0,0,0,0)):new Date(0,0,1,0,0,0,0),a=0,o=t.TIMEUNIT_PARTS;a<o.length;a++){var s=o[a];if(h(e,s))switch(s){case b.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case b.QUARTER:var u=d("month",r),c=u.getDateMethod,f=u.setDateMethod;i[f](3*Math.floor(n[c]()/3));break;default:var p=d(s,r),m=p.getDateMethod,g=p.setDateMethod;i[g](n[m]())}}return i}function d(e,t){var n=T[e],r=t?"setUTC"+n.substr(3):n,i="get"+(t?"UTC":"")+n.substr(3);return{setDateMethod:r,getDateMethod:i}}function p(e){return t.TIMEUNIT_PARTS.reduce(function(t,n){return h(e,n)?t.concat(n):t},[])}function h(e,t){var n=e.indexOf(t);return n>-1&&(t!==b.SECONDS||0===n||"i"!==e.charAt(n-1))}function m(e,n){function r(e){return e===b.QUARTER?"("+a+"quarter("+i+")-1)":""+a+e+"("+i+")"}var i="datum"+w.accessPath(n),a=l(e)?"utc":"",o=t.TIMEUNIT_PARTS.reduce(function(t,n){return h(e,n)&&(t[n]=r(n)),t},{});return _.dateTimeExpr(o)}function g(e,t,n,r){if(e){var i=[],a="",o=h(e,b.YEAR);h(e,b.QUARTER)&&(a="'Q' + quarter("+t+")"),h(e,b.MONTH)&&i.push(n!==!1?"%b":"%B"),h(e,b.DAY)?i.push(n?"%a":"%A"):h(e,b.DATE)&&i.push("%d"+(o?",":"")),o&&i.push(n?"%y":"%Y");var s=[];h(e,b.HOURS)&&s.push("%H"),h(e,b.MINUTES)&&s.push("%M"),h(e,b.SECONDS)&&s.push("%S"),h(e,b.MILLISECONDS)&&s.push("%L");var l=[];return i.length>0&&l.push(i.join(" ")),s.length>0&&l.push(s.join(":")),l.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+l.join(" ")+"')":"timeFormat("+t+", '"+l.join(" ")+"')"),a||void 0}}function y(e){return"day"!==e&&e.indexOf("day")>=0?(x.warn(x.message.dayReplacedWithDate(e)),e.replace("day","date")):e}var v=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var b,_=n(r),x=n(i),w=n(a);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(b=t.TimeUnit||(t.TimeUnit={}));var O={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};t.TIMEUNIT_PARTS=w.flagKeys(O),t.isLocalSingleTimeUnit=o;var S={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};t.isUtcSingleTimeUnit=s;var k={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},P={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},E=v({},S,P);t.isUTCTimeUnit=l,t.getLocalTimeUnit=u;var M=v({},O,S,k,P);t.TIMEUNITS=w.flagKeys(M),t.isTimeUnit=c;var T={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};t.convert=f,t.getTimeUnitParts=p,t.containsTimeUnit=h,t.fieldExpr=m,t.formatExpression=g,t.normalizeTimeUnit=y},function(e,t,n,r,i,a){"use strict";function o(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var i=s.isMarkDef(e.mark)?e.mark.type:e.mark,a=e.encoding,o=n[i],u=r[i];for(var c in o)if(!(o[c]in a))return'Missing encoding channel "'+o[c]+'" for mark "'+i+'"';for(var f in a)if(!u[f])return'Encoding channel "'+f+'" is not supported by mark type "'+i+'"';return i!==l.BAR||a.x||a.y?null:"Missing both x and y for bar"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),l=n(i),u=n(a);t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:u.toSet(["row","column","x","y","size","color","detail"]),line:u.toSet(["row","column","x","y","color","detail"]),area:u.toSet(["row","column","x","y","color","detail"]),tick:u.toSet(["row","column","x","y","color","detail"]),circle:u.toSet(["row","column","x","y","color","size","detail"]),square:u.toSet(["row","column","x","y","color","size","detail"]),point:u.toSet(["row","column","x","y","color","size","detail","shape"]),geoshape:u.toSet(["row","column","color","detail","shape"]),text:u.toSet(["row","column","size","color","text"])},t.getEncodingMappingError=o}]));
//# sourceMappingURL=main.41b3b10d.js.map
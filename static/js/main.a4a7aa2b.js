!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/editor/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){n(304),e.exports=n(352)},function(e,t,n){var r,i;(function(n){var a,o,s,u,l,c,f,d,p,h,m,g,y,v,b,_;!function(a){function o(e,t){return function(n,r){return e[n]=t?t(n,r):r}}var s="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};r=[t],i=function(e){a(o(s,o(e)))}.apply(t,r),!(void 0!==i&&(e.exports=i))}(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};a=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n},u=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},l=function(e,t){return function(n,r){t(n,r,e)}},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}u((r=r.apply(e,t||[])).next())})},d=function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,a=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(r){n=[6,r],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},p=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},h=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},m=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e},y=function(e){return this instanceof y?(this.v=e,this):new y(e)},v=function(e,t,n){function r(e){c[e]&&(l[e]=function(t){return new Promise(function(n,r){f.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{a(c[e](t))}catch(n){u(f[0][3],n)}}function a(e){e.value instanceof y?Promise.resolve(e.value.v).then(o,s):u(f[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),f.shift(),f.length&&i(f[0][0],f[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,c=n.apply(e,t||[]),f=[];return l={},r("next"),r("throw"),r("return"),l[Symbol.asyncIterator]=function(){return this},l},b=function(e){function t(t,i){e[t]&&(n[t]=function(n){return(r=!r)?{value:y(e[t](n)),done:"return"===t}:i?i(n):n})}var n,r;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n},_=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof h?h(e):e[Symbol.iterator]()},e("__extends",a),e("__assign",o),e("__rest",s),e("__decorate",u),e("__param",l),e("__metadata",c),e("__awaiter",f),e("__generator",d),e("__exportStar",p),e("__values",h),e("__read",m),e("__spread",g),e("__await",y),e("__asyncGenerator",v),e("__asyncDelegator",b),e("__asyncValues",_)})}).call(t,function(){return this}())},[727,670],[727,625],function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},[686,13,2],[686,15,3],function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return null==e?null:e.fname}function n(e){return null==e?null:e.fields}function r(e){return l(e)?"["+e.map(r)+"]":c(e)||f(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function i(e,t,n){var r=[t].concat([].slice.call(n));console[e].apply(console,r)}function a(e){return L(e)?e:F(e)?e:Date.parse(e)}var o=function(e,t,n){return e.fields=t||[],e.fname=n,e},s=function(e){throw Error(e)},u=function(e){function t(){a.push(c+e.substring(n,r)),c="",n=r+1}var n,r,i,a=[],o=null,u=0,l=e.length,c="";for(e+="",n=r=0;r<l;++r)if(i=e[r],"\\"===i)c+=e.substring(n,r),n=++r;else if(i===o)t(),o=null,u=-1;else{if(o)continue;n===u&&'"'===i?(n=r+1,o=i):n===u&&"'"===i?(n=r+1,o=i):"."!==i||u?"["===i?(r>n&&t(),u=n=r+1):"]"===i&&(u||s("Access path missing open bracket: "+e),u>0&&t(),u=0,n=r+1):r>n?t():n=r+1}return u&&s("Access path missing closing bracket: "+e),o&&s("Access path missing closing quote: "+e),r>n&&(r++,t()),a},l=Array.isArray,c=function(e){return e===Object(e)},f=function(e){return"string"==typeof e},d=function(e,t){var n=u(e),i="return _["+n.map(r).join("][")+"];";return o(Function("_",i),[e=1===n.length?n[0]:e],t||e)},p=[],h=d("id"),m=o(function(e){return e},p,"identity"),g=o(function(){return 0},p,"zero"),y=o(function(){return 1},p,"one"),v=o(function(){return!0},p,"true"),b=o(function(){return!1},p,"false"),_=0,x=1,S=2,w=3,O=function(e){var t=e||_;return{level:function(e){return arguments.length?(t=+e,this):t},warn:function(){return t>=x&&i("warn","WARN",arguments),this},info:function(){return t>=S&&i("log","INFO",arguments),this},debug:function(){return t>=w&&i("log","DEBUG",arguments),this}}},k=function(e){return null!=e?l(e)?e:[e]:[]},E=function(e,t){var n,i,a,s,l,c,f,d,p=[],h=(e=k(e)).map(function(e,t){return null==e?null:(p.push(t),u(e).map(r).join("]["))}),m=p.length-1,g=k(t),y="var u,v;return ";if(m<0)return null;for(i=0;i<=m;++i)n=p[i],a=h[n],s="(u=a["+a+"])",l="(v=b["+a+"])",c="((v=v instanceof Date?+v:v),(u=u instanceof Date?+u:u))","descending"!==g[n]?(d=1,f=-1):(d=-1,f=1),y+="("+s+"<"+l+"||u==null)&&v!=null?"+f+":(u>v||v==null)&&u!=null?"+d+":"+c+"!==u&&v===v?"+f+":v!==v&&u===u?"+d+(n<m?":":":0");return o(Function("a","b",y+";"),e.filter(function(e){return null!=e}))},M=function(e){return"function"==typeof e},T=function(e){return M(e)?e:function(){return e}},P=function(e,t){function n(){t(i),r=i=null}var r,i;return function(t){i=t,r&&clearTimeout(r),r=setTimeout(n,e)}},C=function(e){for(var t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e},A=function(e,t){var n,r,i,a,o,s=-1,u=e.length;if(null==t){for(;++s<u;)if(r=e[s],null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<u;)r=e[s],null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}else{for(;++s<u;)if(r=t(e[s],s,e),null!=r&&r>=r){n=i=r;break}for(a=o=s;++s<u;)r=t(e[s],s,e),null!=r&&(n>r&&(n=r,a=s),i<r&&(i=r,o=s))}return[a,o]},D={},R=function(e){function t(e){return i.hasOwnProperty(e)&&i[e]!==D}var n,r,i={};return n={size:0,empty:0,object:i,has:t,get:function(e){return t(e)?i[e]:void 0},set:function(e,r){return t(e)||(++n.size,i[e]===D&&--n.empty),i[e]=r,this},delete:function(e){return t(e)&&(--n.size,++n.empty,i[e]=D),this},clear:function(){n.size=n.empty=0,n.object=i={}},test:function(e){return arguments.length?(r=e,n):r},clean:function(){var e,t,a={},o=0;for(e in i)t=i[e],t===D||r&&r(t)||(a[e]=t,++o);n.size=o,n.empty=0,n.object=i=a}},e&&Object.keys(e).forEach(function(t){n.set(t,e[t])}),n},N=function(e,t){var n=e.prototype=Object.create(t.prototype);return n.constructor=e,n},I=function(e){return"boolean"==typeof e},F=function(e){return"[object Date]"===Object.prototype.toString.call(e)},L=function(e){return"number"==typeof e},j=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},z=function(e){e=e?k(e):e;var t=e&&e.length?Function("_","return ''+"+e.map(function(e){return"_["+u(e).map(r).join("][")+"]"}).join("+'|'+")+";"):function(){return""};return o(t,e,"key")},$=function(e,t,n,r){var i=t.length,a=n.length;if(!a)return t;if(!i)return n;for(var o=r||new t.constructor(i+a),s=0,u=0,l=0;s<i&&u<a;++l)o[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<i;++s,++l)o[l]=t[s];for(;u<a;++u,++l)o[l]=n[u];return o},U=function(e,t){for(var n="";--t>=0;)n+=e;return n},B=function(e,t,n,r){var i=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===r?U(i,o)+a:"center"===r?U(i,~~(o/2))+a+U(i,Math.ceil(o/2)):a+U(i,o)},q=function(e){return e[e.length-1]},W=function(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e)&&!!e},V=function(e,t){return t=t||a,null==e||""===e?null:t(e)},H=function(e){return null==e||""===e?null:+e},G=function(e){return null==e||""===e?null:e+""},Y=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=1;return t},X=function(e,t,n,r){var i=null!=r?r:"…",a=e+"",o=a.length,s=Math.max(0,t-i.length);return o<=t?a:"left"===n?i+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+i+a.slice(o-~~(s/2)):a.slice(0,s)+i},Q=function(e,t,n){if(e){var r,i=0,a=e.length;if(t)for(;i<a;++i)(r=t(e[i]))&&n(r,i,e);else e.forEach(n)}};e.accessor=o,e.accessorName=t,e.accessorFields=n,e.id=h,e.identity=m,e.zero=g,e.one=y,e.truthy=v,e.falsy=b,e.logger=O,e.None=_,e.Warn=x,e.Info=S,e.Debug=w,e.array=k,e.compare=E,e.constant=T,e.debounce=P,e.error=s,e.extend=C,e.extentIndex=A,e.fastmap=R,e.field=d,e.inherits=N,e.isArray=l,e.isBoolean=I,e.isDate=F,e.isFunction=M,e.isNumber=L,e.isObject=c,e.isRegExp=j,e.isString=f,e.key=z,e.merge=$,e.pad=B,e.peek=q,e.repeat=U,e.splitAccessPath=u,e.stringValue=r,e.toBoolean=W,e.toDate=V,e.toNumber=H,e.toString=G,e.toSet=Y,e.truncate=X,e.visitArray=Q,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e){var t=d=new p;e(t),o()}function i(e){return function(){var t=d=new p;e(t),o()}}function a(e){return d=e}function o(){return d=f}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(7),f=c.logger(c.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.runLocalLogger=r,t.wrap=i,t.set=a,t.reset=o,t.warn=s,t.info=u,t.debug=l;var h;!function(e){function t(e){return"Cannot project a selection on encoding channel "+e+", which has no field."}function n(e){return'Unknown repeated value "'+e+'".'}function r(e){return"Unrecognized parse "+e+"."}function i(e,t,n){return"An ancestor parsed field "+e+" as "+n+" but a child wants to parse the field as "+t+"."}function a(e){return"Ignoring an invalid transform: "+JSON.stringify(e)+"."}function o(e){return'Invalid field type "'+e+'"'}function s(e,t){return'Invalid field type "'+e+'" for aggregate: "'+t+'", using "quantitative" instead.'}function u(e){return'Invalid aggregation operator "'+e+'"'}function l(e,t,n){return"Invalid field type ("+e+") for channel "+t+", using "+n+" instead."}function c(e,t){return"Dropping "+JSON.stringify(e)+" from channel "+t+" since it does not contain data field or value."}function f(e,t,n){return e+" dropped as it is incompatible with "+t+(n?" when "+n:"")+"."}function d(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function p(e,t){return"Using discrete channel "+e+" to encode "+t+" field can be misleading as it does not encode "+("ordinal"===t?"order":"magnitude")+"."}function h(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode continous fields. In this case, we use vertical by default"}function m(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode discrete or empty fields."}function g(e,t){return"Specified orient "+e+" overridden with "+t}function y(e){return"Cannot use "+e+" with non-color channel."}function v(e){return"Using unaggregated domain with raw field has no effect ("+JSON.stringify(e)+")."}function b(e){return"Unaggregated domain not applicable for "+e+" since it produces values outside the origin domain of the source data."}function _(e){return"Unaggregated domain is currently unsupported for log scale ("+JSON.stringify(e)+")."}function x(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function S(e){return"Cannot apply size to non-oriented mark "+e+"."}function w(e){return"rangeStep for "+e+" is dropped as top-level "+("x"===e?"width":"height")+" is provided."}function O(e,t,n){return"Channel "+e+" does not work with "+t+" scale. We are using "+n+" scale instead."}function k(e,t){return"FieldDef does not work with "+e+" scale. We are using "+t+" scale instead."}function E(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function M(e,t){return'Scale type "'+t+'" does not work with mark '+e+"."}function T(e,t,n,r){return"Conflicting "+t+" property "+e+" ("+n+" and "+r+").  Using "+n+"."}function P(e){return"Setting the scale to be independent for "+e+" means we also have to set the guide (axis or legend) to be independent."}function C(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function A(e){return"Cannot stack "+e+" if there is already "+e+"2"}function D(e){return"Cannot stack non-linear scale ("+e+")"}function R(e){return"Cannot stack when the aggregate function is non-summative ("+e+")"}function N(e,t){return"Invalid "+e+": "+t}function I(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function F(e){return"Dropping day from datetime "+JSON.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.cannotProjectOnChannelWithoutField=t,e.noSuchRepeatedValue=n,e.unrecognizedParse=r,e.differentParse=i,e.invalidTransformIgnored=a,e.NO_FIELDS_NEEDS_AS="If `from.fields` is not specified, `as` has to be a string that specifies the key to be used for the the data from the secondary source.",e.invalidFieldType=o,e.invalidFieldTypeForCountAggregate=s,e.invalidAggregate=u,e.emptyOrInvalidFieldType=l,e.emptyFieldDef=c,e.incompatibleChannel=f,e.facetChannelShouldBeDiscrete=d,e.discreteChannelCannotEncode=p,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=h,e.unclearOrientDiscreteOrEmpty=m,e.orientOverridden=g,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=y,e.unaggregateDomainHasNoEffectForRawField=v,e.unaggregateDomainWithNonSharedDomainOp=b,e.unaggregatedDomainWithLogScale=_,e.CANNOT_USE_RANGE_WITH_POSITION="Cannot use custom range with x or y channel.  Please customize width, height, padding, or rangeStep instead.",e.cannotUseSizeFieldWithBandSize=x,e.cannotApplySizeToNonOrientedMark=S,e.rangeStepDropped=w,e.scaleTypeNotWorkWithChannel=O,e.scaleTypeNotWorkWithFieldDef=k,e.scalePropertyNotWorkWithScaleType=E,e.scaleTypeNotWorkWithMark=M,e.mergeConflictingProperty=T,e.independentScaleMeansIndependentGuide=P,e.conflictedDomain=C,e.INVAID_DOMAIN="Invalid scale domain",e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=A,e.cannotStackNonLinearScale=D,e.cannotStackNonSummativeAggregate=R,e.invalidTimeUnit=N,e.dayReplacedWithDate=I,e.droppedDay=F}(h=t.message||(t.message={}))},function(e,t,n){"use strict";var r=n(34),i=r;e.exports=i},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=n},function(e,t,n){"use strict";function r(e){var t=d=new p;e(t),o()}function i(e){return function(){var t=d=new p;e(t),o()}}function a(e){return d=e}function o(){return d=f}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.warn.apply(d,arguments)}function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.info.apply(d,arguments)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.debug.apply(d,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(7),f=c.logger(c.Warn),d=f,p=function(){function e(){this.warns=[],this.infos=[],this.debugs=[]}return e.prototype.level=function(){return this},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.warns).push.apply(n,e),this;var n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.infos).push.apply(n,e),this;var n},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(n=this.debugs).push.apply(n,e),this;var n},e}();t.LocalLogger=p,t.runLocalLogger=r,t.wrap=i,t.set=a,t.reset=o,t.warn=s,t.info=u,t.debug=l;var h;!function(e){function t(e){return"Cannot project a selection on encoding channel "+e+", which has no field."}function n(e){return'Unknown repeated value "'+e+'".'}function r(e){return"Unrecognized parse "+e+"."}function i(e,t,n){return"An ancestor parsed field "+e+" as "+n+" but a child wants to parse the field as "+t+"."}function a(e){return"Ignoring an invalid transform: "+JSON.stringify(e)+"."}function o(e){return'Invalid field type "'+e+'"'}function s(e){return'Invalid aggregation operator "'+e+'"'}function u(e,t,n){return"Invalid field type ("+e+") for channel "+t+", using "+n+" instead."}function l(e,t){return"Dropping "+JSON.stringify(e)+" from channel "+t+" since it does not contain data field or value."}function c(e,t,n){return e+" dropped as it is incompatible with "+t+(n?" when "+n:"")+"."}function f(e){return e+" encoding should be discrete (ordinal / nominal / binned)."}function d(e,t){return"Using discrete channel "+e+" to encode "+t+" field can be misleading as it does not encode "+("ordinal"===t?"order":"magnitude")+"."}function p(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode continous fields. In this case, we use vertical by default"}function h(e){return"Cannot clearly determine orientation for "+e+" since both x and y channel encode discrete or empty fields."}function m(e,t){return"Specified orient "+e+" overridden with "+t}function g(e){return"Cannot use "+e+" with non-color channel."}function y(e){return"Using unaggregated domain with raw field has no effect ("+JSON.stringify(e)+")."}function v(e){return"Unaggregated domain not applicable for "+e+" since it produces values outside the origin domain of the source data."}function b(e){return"Unaggregated domain is currently unsupported for log scale ("+JSON.stringify(e)+")."}function _(e){return"Using size field when "+e+"-channel has a band scale is not supported."}function x(e){return"Cannot apply size to non-oriented mark "+e+"."}function S(e){return"rangeStep for "+e+" is dropped as top-level "+("x"===e?"width":"height")+" is provided."}function w(e,t,n){return"Channel "+e+" does not work with "+t+" scale. We are using "+n+" scale instead."}function O(e,t){return"FieldDef does not work with "+e+" scale. We are using "+t+" scale instead."}function k(e,t,n){return n+"-scale's \""+t+'" is dropped as it does not work with '+e+" scale."}function E(e,t){return'Scale type "'+t+'" does not work with mark '+e+"."}function M(e){return"Setting the scale to be independent for "+e+" means we also have to set the guide (axis or legend) to be independent."}function T(e){return"Cannot set "+e+'-scale\'s "domain" as it is binned. Please use "bin"\'s "extent" instead.'}function P(e){return"Cannot stack "+e+" if there is already "+e+"2"}function C(e){return"Cannot stack non-linear scale ("+e+")"}function A(e){return"Cannot stack when the aggregate function is non-summative ("+e+")"}function D(e,t){return"Invalid "+e+": "+t}function R(e){return'Time unit "'+e+'" is not supported. We are replacing it with '+e.replace("day","date")+"."}function N(e){return"Dropping day from datetime "+JSON.stringify(e)+" as day cannot be combined with other units."}e.INVALID_SPEC="Invalid spec",e.cannotProjectOnChannelWithoutField=t,e.noSuchRepeatedValue=n,e.unrecognizedParse=r,e.differentParse=i,e.invalidTransformIgnored=a,e.NO_FIELDS_NEEDS_AS="If `from.fields` is not specified, `as` has to be a string that specifies the key to be used for the the data from the secondary source.",e.invalidFieldType=o,e.invalidAggregate=s,e.emptyOrInvalidFieldType=u,e.emptyFieldDef=l,e.incompatibleChannel=c,e.facetChannelShouldBeDiscrete=f,e.discreteChannelCannotEncode=d,e.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.",e.unclearOrientContinuous=p,e.unclearOrientDiscreteOrEmpty=h,e.orientOverridden=m,e.CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN="custom domain scale cannot be unioned with default field-based domain",e.cannotUseScalePropertyWithNonColor=g,e.unaggregateDomainHasNoEffectForRawField=y,e.unaggregateDomainWithNonSharedDomainOp=v,e.unaggregatedDomainWithLogScale=b,e.CANNOT_USE_RANGE_WITH_POSITION="Cannot use custom range with x or y channel.  Please customize width, height, padding, or rangeStep instead.",e.cannotUseSizeFieldWithBandSize=_,e.cannotApplySizeToNonOrientedMark=x,e.rangeStepDropped=S,e.scaleTypeNotWorkWithChannel=w,e.scaleTypeNotWorkWithFieldDef=O,e.scalePropertyNotWorkWithScaleType=k,e.scaleTypeNotWorkWithMark=E,e.independentScaleMeansIndependentGuide=M,e.conflictedDomain=T,e.INVAID_DOMAIN="Invalid scale domain",e.UNABLE_TO_MERGE_DOMAINS="Unable to merge domains",e.INVALID_CHANNEL_FOR_AXIS="Invalid channel for axis.",e.cannotStackRangedMark=P,e.cannotStackNonLinearScale=C,e.cannotStackNonSummativeAggregate=A,e.invalidTimeUnit=D,e.dayReplacedWithDate=R,e.droppedDay=N}(h=t.message||(t.message={}))},function(e,t,n){"use strict";function r(e){return e&&!M.isString(e)&&"repeat"in e}function i(e){return!!e&&!!e.condition}function a(e){return!!e&&!!e.condition&&o(e.condition)}function o(e){return!(!e||!e.field&&"count"!==e.aggregate)}function s(e){return e&&"value"in e&&void 0!==e.value}function u(e){return!(!e||!e.scale&&!e.sort)}function l(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(d(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=S.binToString(e.bin),i=t.binSuffix):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=t.expr+"["+M.stringValue(n)+"]"),n}function c(e){switch(e.type){case"nominal":case"ordinal":return!0;case"quantitative":return!!e.bin;case"temporal":return k.isDiscreteByDefault(e.timeUnit)}throw new Error(O.message.invalidFieldType(e.type))}function f(e){return!c(e)}function d(e){return"count"===e.aggregate}function p(e,t){if(d(e))return t.countTitle;var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function h(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(w.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function m(e){return o(e)?e:a(e)?e.condition:void 0}function g(e,t){return o(e)?y(e,t):a(e)?_.__assign({},e,{condition:y(e.condition,t)}):e}function y(e,t){if(e.aggregate&&!x.AGGREGATE_OP_INDEX[e.aggregate]){var n=(e.aggregate,_.__rest(e,["aggregate"]));O.warn(O.message.invalidAggregate(e.aggregate)),e=n}if(e.bin&&(e=_.__assign({},e,{bin:v(e.bin,t)})),e.type){var r=E.getFullName(e.type);e.type!==r&&(e=_.__assign({},e,{type:r}))}else{var i=h(e,t);O.warn(O.message.emptyOrInvalidFieldType(e.type,t,i)),e=_.__assign({},e,{type:i})}var a=b(e,t),o=a.compatible,s=a.warning;return o||O.warn(s),e}function v(e,t){return M.isBoolean(e)?{maxbins:S.autoMaxBins(t)}:e.maxbins||e.step?e:_.__assign({},e,{maxbins:S.autoMaxBins(t)})}function b(e,t){switch(t){case"row":case"column":return f(e)&&!e.timeUnit?{compatible:!1,warning:O.message.facetChannelShouldBeDiscrete(t)}:T;case"x":case"y":case"color":case"text":case"detail":case"tooltip":return T;case"opacity":case"size":case"x2":case"y2":return c(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:T;case"shape":return"nominal"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data only"}:T;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:T}throw new Error("channelCompatability not implemented for channel "+t)}Object.defineProperty(t,"__esModule",{value:!0});var _=n(1),x=n(112),S=n(88),w=n(6),O=n(11),k=n(57),E=n(35),M=n(3);t.isRepeatRef=r,t.isConditionalDef=i,t.hasConditionFieldDef=a,t.isFieldDef=o,t.isValueDef=s,t.isScaleFieldDef=u,t.field=l,t.isDiscrete=c,t.isContinuous=f,t.isCount=d,t.title=p,t.defaultType=h,t.getFieldDef=m,t.normalize=g,t.normalizeFieldDef=y,t.normalizeBin=v;var T={compatible:!0};t.channelCompatibility=b},function(e,t,n){"use strict";function r(e,t){return g[e]===g[t]}function i(e){return y[e]}function a(e){return e in _}function o(e){return e in x}function s(e){return e in b}function u(e){return e in v}function l(e){return e&&!!e.name}function c(e){return e&&e.selection}function f(e,t){switch(t){case"type":case"domain":case"reverse":case"range":case"scheme":return!0;case"interpolate":return m.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return u(e)||"band"===e||"point"===e;case"rangeStep":case"padding":case"paddingOuter":return m.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return u(e)||"sequential"===e;case"nice":return u(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e||"log"===e;case"zero":return"bin-ordinal"===e||!a(e)&&!m.contains(["log","time","utc","bin-linear"],e)}throw new Error("Invalid scale property "+t+".")}function d(e,t){switch(t){case"range":if("x"===e||"y"===e)return h.message.CANNOT_USE_RANGE_WITH_POSITION;return;case"interpolate":case"scheme":if("color"!==e)return h.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"exponent":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}throw new Error('Invalid scale property "${propName}".')}Object.defineProperty(t,"__esModule",{value:!0});var p,h=n(8),m=n(2);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(p=t.ScaleType||(t.ScaleType={})),t.SCALE_TYPES=["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"];var g={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.scaleCompatible=r;var y={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:0,band:1,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=i,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var v=m.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var b=m.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var _=m.toSet(t.DISCRETE_DOMAIN_SCALES),x=m.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=a,t.isBinScale=o,t.hasContinuousDomain=s,t.isContinuousToContinuous=u,t.defaultScaleConfig={round:!0,textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,shapes:["circle","square","cross","diamond","triangle-up","triangle-down"]},t.isExtendedScheme=l,t.isSelectionDomain=c,t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=["reverse","round","clamp","nice","exponent","interpolate","zero","padding","paddingInner","paddingOuter"],t.SCALE_PROPERTIES=[].concat(["type","domain","range","rangeStep","scheme"],t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES),t.scaleTypeSupportProperty=f,t.channelScalePropertyIncompatability=d},function(e,t,n){"use strict";e.exports=n(71)},function(e,t,n){"use strict";function r(e,t){return g[e]===g[t]}function i(e){return y[e]}function a(e){return e in _}function o(e){return e in x}function s(e){return e in b}function u(e){return e in v}function l(e){return e&&!!e.name}function c(e){return e&&e.selection}function f(e,t){switch(t){case"type":case"domain":case"range":case"scheme":return!0;case"interpolate":return m.contains(["linear","bin-linear","pow","log","sqrt","utc","time"],e);case"round":return u(e)||"band"===e||"point"===e;case"rangeStep":case"padding":case"paddingOuter":return m.contains(["point","band"],e);case"paddingInner":return"band"===e;case"clamp":return u(e)||"sequential"===e;case"nice":return u(e)||"sequential"===e||"quantize"===e;case"exponent":return"pow"===e||"log"===e;
case"zero":return"bin-ordinal"===e||!a(e)&&!m.contains(["log","time","utc","bin-linear"],e)}throw new Error("Invalid scale property "+t+".")}function d(e,t){switch(t){case"range":if("x"===e||"y"===e)return h.message.CANNOT_USE_RANGE_WITH_POSITION;return;case"rangeStep":return;case"padding":case"paddingInner":case"paddingOuter":return;case"interpolate":case"scheme":if("color"!==e)return h.message.cannotUseScalePropertyWithNonColor(e);return;case"type":case"domain":case"round":case"clamp":case"exponent":case"nice":case"zero":return}throw new Error('Invalid scale property "${propName}".')}Object.defineProperty(t,"__esModule",{value:!0});var p,h=n(11),m=n(3);!function(e){e.LINEAR="linear",e.BIN_LINEAR="bin-linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.TIME="time",e.UTC="utc",e.SEQUENTIAL="sequential",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.ORDINAL="ordinal",e.BIN_ORDINAL="bin-ordinal",e.POINT="point",e.BAND="band"}(p=t.ScaleType||(t.ScaleType={})),t.SCALE_TYPES=["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"];var g={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric","bin-linear":"bin-linear",time:"time",utc:"time",sequential:"sequential",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position"};t.scaleCompatible=r;var y={linear:0,log:1,pow:1,sqrt:1,time:0,utc:0,point:0,band:1,"bin-linear":0,sequential:0,ordinal:0,"bin-ordinal":0};t.scaleTypePrecedence=i,t.CONTINUOUS_TO_CONTINUOUS_SCALES=["linear","bin-linear","log","pow","sqrt","time","utc"];var v=m.toSet(t.CONTINUOUS_TO_CONTINUOUS_SCALES);t.CONTINUOUS_DOMAIN_SCALES=t.CONTINUOUS_TO_CONTINUOUS_SCALES.concat(["sequential"]);var b=m.toSet(t.CONTINUOUS_DOMAIN_SCALES);t.DISCRETE_DOMAIN_SCALES=["ordinal","bin-ordinal","point","band"];var _=m.toSet(t.DISCRETE_DOMAIN_SCALES),x=m.toSet(["bin-linear","bin-ordinal"]);t.TIME_SCALE_TYPES=["time","utc"],t.hasDiscreteDomain=a,t.isBinScale=o,t.hasContinuousDomain=s,t.isContinuousToContinuous=u,t.defaultScaleConfig={round:!0,textXRangeStep:90,rangeStep:21,pointPadding:.5,bandPaddingInner:.1,facetSpacing:16,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,shapes:["circle","square","cross","diamond","triangle-up","triangle-down"]},t.isExtendedScheme=l,t.isSelectionDomain=c,t.SCALE_PROPERTIES=["type","domain","range","round","rangeStep","scheme","padding","paddingInner","paddingOuter","clamp","nice","exponent","zero","interpolate"],t.scaleTypeSupportProperty=f,t.channelScalePropertyIncompatability=d},function(e,t,n){"use strict";function r(e){return e&&!M.isString(e)&&"repeat"in e}function i(e){return!!e&&!!e.condition}function a(e){return!!e&&!!e.condition&&o(e.condition)}function o(e){return!(!e||!e.field&&"count"!==e.aggregate)}function s(e){return e&&"value"in e&&void 0!==e.value}function u(e){return!(!e||!e.scale&&!e.sort)}function l(e,t){void 0===t&&(t={});var n=e.field,r=t.prefix,i=t.suffix;if(d(e))n="count_*";else{var a=void 0;t.nofn||(e.bin?(a=S.binToString(e.bin),i=t.binSuffix):e.aggregate?a=String(t.aggregate||e.aggregate):e.timeUnit&&(a=String(e.timeUnit))),a&&(n=a+"_"+n)}return i&&(n=n+"_"+i),r&&(n=r+"_"+n),t.expr&&(n=t.expr+"["+M.stringValue(n)+"]"),n}function c(e){switch(e.type){case"nominal":case"ordinal":return!0;case"quantitative":return!!e.bin;case"temporal":return k.isDiscreteByDefault(e.timeUnit)}throw new Error(O.message.invalidFieldType(e.type))}function f(e){return!c(e)}function d(e){return"count"===e.aggregate}function p(e,t){if(d(e))return t.countTitle;var n=e.aggregate||e.timeUnit||e.bin&&"bin";return n?n.toUpperCase()+"("+e.field+")":e.field}function h(e,t){if(e.timeUnit)return"temporal";if(e.bin)return"quantitative";switch(w.rangeType(t)){case"continuous":return"quantitative";case"discrete":return"nominal";case"flexible":return"nominal";default:return"quantitative"}}function m(e){return o(e)?e:a(e)?e.condition:void 0}function g(e,t){return o(e)?y(e,t):a(e)?_.__assign({},e,{condition:y(e.condition,t)}):e}function y(e,t){if(e.aggregate&&!x.AGGREGATE_OP_INDEX[e.aggregate]){var n=(e.aggregate,_.__rest(e,["aggregate"]));O.warn(O.message.invalidAggregate(e.aggregate)),e=n}if(e.bin&&(e=_.__assign({},e,{bin:v(e.bin,t)})),e.type){var r=E.getFullName(e.type);e.type!==r&&(e=_.__assign({},e,{type:r})),x.isCountingAggregateOp(e.aggregate)&&"quantitative"!==e.type&&(O.warn(O.message.invalidFieldTypeForCountAggregate(e.type,e.aggregate)),e=_.__assign({},e,{type:"quantitative"}))}else{var i=h(e,t);O.warn(O.message.emptyOrInvalidFieldType(e.type,t,i)),e=_.__assign({},e,{type:i})}var a=b(e,t),o=a.compatible,s=a.warning;return o||O.warn(s),e}function v(e,t){return M.isBoolean(e)?{maxbins:S.autoMaxBins(t)}:e.maxbins||e.step?e:_.__assign({},e,{maxbins:S.autoMaxBins(t)})}function b(e,t){switch(t){case"row":case"column":return f(e)&&!e.timeUnit?{compatible:!1,warning:O.message.facetChannelShouldBeDiscrete(t)}:T;case"x":case"y":case"color":case"text":case"detail":case"tooltip":return T;case"opacity":case"size":case"x2":case"y2":return c(e)&&!e.bin?{compatible:!1,warning:"Channel "+t+" should not be used with discrete field."}:T;case"shape":return"nominal"!==e.type?{compatible:!1,warning:"Shape channel should be used with nominal data only"}:T;case"order":return"nominal"===e.type?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:T}throw new Error("channelCompatability not implemented for channel "+t)}Object.defineProperty(t,"__esModule",{value:!0});var _=n(1),x=n(94),S=n(95),w=n(5),O=n(8),k=n(61),E=n(33),M=n(2);t.isRepeatRef=r,t.isConditionalDef=i,t.hasConditionFieldDef=a,t.isFieldDef=o,t.isValueDef=s,t.isScaleFieldDef=u,t.field=l,t.isDiscrete=c,t.isContinuous=f,t.isCount=d,t.title=p,t.defaultType=h,t.getFieldDef=m,t.normalize=g,t.normalizeFieldDef=y,t.normalizeBin=v;var T={compatible:!0};t.channelCompatibility=b},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function a(e,t){var n=i(e);n._hostNode=t,t[g]=n}function o(e){var t=e._hostNode;t&&(delete t[g],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=i(u)._domID;if(0!==l){for(;null!==o;o=o.nextSibling)if(r(o,l)){a(u,o);continue e}f("32",l)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[g])return e[g];for(var t=[];!e[g];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[g]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?f("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:f("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var f=n(10),d=n(67),p=n(226),h=(n(4),d.ID_ATTRIBUTE_NAME),m=p,g="__reactInternalInstance$"+Math.random().toString(36).slice(2),y={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:a,uncacheNode:o};e.exports=y},function(e,t,n){"use strict";function r(e,t,n,r,i,a){if(y.isFacetSpec(e))return new S.FacetModel(e,t,n,i,a);if(y.isLayerSpec(e))return new w.LayerModel(e,t,n,r,i,a);if(y.isUnitSpec(e))return new k.UnitModel(e,t,n,r,i,a);if(y.isRepeatSpec(e))return new O.RepeatModel(e,t,n,i,a);if(y.isConcatSpec(e))return new x.ConcatModel(e,t,n,i,a);throw new Error(m.message.INVALID_SPEC)}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function a(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.markDef,t.config);void 0!==s&&(e[a]={value:s})}return e}function o(e,t,n){if(t.role){var r=n[t.role];if(r&&void 0!==r[e])return r[e]}else{var i=n[t.type];if(void 0!==i[e])return i[e]}return n.mark[e]}function s(e,t,n,r,i){if("quantitative"===e.type){var a=u(e,t,r);return e.bin?i?{signal:h.field(e,{expr:n,binSuffix:"range"})}:{signal:l(h.field(e,{expr:n,binSuffix:"start"}),a)+" + '-' + "+l(h.field(e,{expr:n,binSuffix:"end"}),a)}:{signal:""+l(h.field(e,{expr:n}),a)}}if("temporal"===e.type){var o=h.isScaleFieldDef(e)&&e.scale&&e.scale.type===g.ScaleType.UTC;return{signal:f(h.field(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,o)}}return{signal:h.field(e,{expr:n})}}function u(e,t,n){if(e.type===b.QUANTITATIVE)return t?t:n.numberFormat}function l(e,t){return"format("+e+", "+(t?"'"+t+"'":null)+")"}function c(e,t,n){return l(e,t||n.numberFormat)}function f(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return v.formatExpression(t,e,r,a)}function d(e){return(_.isArray(e)?e:[e]).reduce(function(e,t){return e.field.push(h.field(t,{binSuffix:"start"})),e.order.push(t.sort||"ascending"),e},{field:[],order:[]})}function p(e,t){return{explicit:e.explicit,value:e.value===t.value?e.value:e.value+", "+t.value}}Object.defineProperty(t,"__esModule",{value:!0});var h=n(16),m=n(8),g=n(13),y=n(98),v=n(61),b=n(33),_=n(2),x=n(639),S=n(122),w=n(97),O=n(182),k=n(31);t.buildModel=r,t.applyConfig=i,t.applyMarkConfig=a,t.getMarkConfig=o,t.formatSignalRef=s,t.numberFormat=u,t.numberFormatExpr=c,t.timeFormatExpression=f,t.sortParams=d,t.titleMerger=p},function(e,t,n){e.exports=n(455)()},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)a.call(r,c)&&(u[c]=r[c]);if(i){s=i(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t,n){"use strict";function r(e,t,n,r,i,a){if(m.isFacetSpec(e))return new _.FacetModel(e,t,n,i,a);if(m.isLayerSpec(e))return new x.LayerModel(e,t,n,r,i,a);if(m.isUnitSpec(e))return new w.UnitModel(e,t,n,r,i,a);if(m.isRepeatSpec(e))return new S.RepeatModel(e,t,n,i,a);if(m.isConcatSpec(e))return new b.ConcatModel(e,t,n,i,a);throw new Error(p.message.INVALID_SPEC)}function i(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],o=t[a];void 0!==o&&(e[a]={value:o})}return e}function a(e,t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r],s=o(a,t.mark(),t.config);void 0!==s&&(e[a]={value:s})}return e}function o(e,t,n){var r=n[t];return void 0!==r[e]?r[e]:n.mark[e]}function s(e,t,n,r,i){if("quantitative"===e.type){var a=u(e,t,r,"text");return e.bin?i?{signal:d.field(e,{expr:n,binSuffix:"range"})}:{signal:"format("+d.field(e,{expr:n,binSuffix:"start"})+", '"+a+"')+'-'+"+("format("+d.field(e,{expr:n,binSuffix:"end"})+", '"+a+"')")}:{signal:"format("+d.field(e,{expr:n})+", '"+a+"')"}}if("temporal"===e.type){var o=d.isScaleFieldDef(e)&&e.scale&&e.scale.type===h.ScaleType.UTC;return{signal:l(d.field(e,{expr:n}),e.timeUnit,t,r.text.shortTimeLabels,r.timeFormat,o)}}return{signal:d.field(e,{expr:n})}}function u(e,t,n,r){var i=t;if(e.type===y.QUANTITATIVE)return i?i:"count"===e.aggregate&&r===f.TEXT?"d":n.numberFormat}function l(e,t,n,r,i,a){if(!t||n){var o=n||i;return a?"utcFormat("+e+", '"+o+"')":"timeFormat("+e+", '"+o+"')"}return g.formatExpression(t,e,r,a)}function c(e){return(v.isArray(e)?e:[e]).reduce(function(e,t){return e.field.push(d.field(t,{binSuffix:"start"})),e.order.push(t.sort||"ascending"),e},{field:[],order:[]})}Object.defineProperty(t,"__esModule",{value:!0});var f=n(6),d=n(12),p=n(11),h=n(15),m=n(93),g=n(57),y=n(35),v=n(3),b=n(596),_=n(115),x=n(90),S=n(169),w=n(30);t.buildModel=r,t.applyConfig=i,t.applyMarkConfig=a,t.getMarkConfig=o,t.formatSignalRef=s,t.numberFormat=u,t.timeFormatExpression=l,t.sortParams=c},function(e,t,n){"use strict";var r=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";function r(e){return e.type}function i(e){var t=r(e)?e.type:e;return t in s}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(3);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square"}(a=t.Mark||(t.Mark={})),t.AREA=a.AREA,t.BAR=a.BAR,t.LINE=a.LINE,t.POINT=a.POINT,t.TEXT=a.TEXT,t.TICK=a.TICK,t.RECT=a.RECT,t.RULE=a.RULE,t.CIRCLE=a.CIRCLE,t.SQUARE=a.SQUARE,t.PRIMITIVE_MARKS=[t.AREA,t.BAR,t.LINE,t.POINT,t.TEXT,t.TICK,t.RECT,t.RULE,t.CIRCLE,t.SQUARE],t.isMarkDef=r;var s=o.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=i,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:2},t.defaultTextConfig={},t.defaultTickConfig={thickness:1}},function(e,t,n){"use strict";function r(e){return e.type}function i(e){var t=r(e)?e.type:e;return t in s}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(2);!function(e){e.AREA="area",e.BAR="bar",e.LINE="line",e.POINT="point",e.RECT="rect",e.RULE="rule",e.TEXT="text",e.TICK="tick",e.CIRCLE="circle",e.SQUARE="square"}(a=t.Mark||(t.Mark={})),t.AREA=a.AREA,t.BAR=a.BAR,t.LINE=a.LINE,t.POINT=a.POINT,t.TEXT=a.TEXT,t.TICK=a.TICK,t.RECT=a.RECT,t.RULE=a.RULE,t.CIRCLE=a.CIRCLE,t.SQUARE=a.SQUARE,t.PRIMITIVE_MARKS=[t.AREA,t.BAR,t.LINE,t.POINT,t.TEXT,t.TICK,t.RECT,t.RULE,t.CIRCLE,t.SQUARE],t.isMarkDef=r;var s=o.toSet(t.PRIMITIVE_MARKS);t.isPrimitiveMark=i,t.STROKE_CONFIG=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity"],t.FILL_CONFIG=["fill","fillOpacity"],t.FILL_STROKE_CONFIG=[].concat(t.STROKE_CONFIG,t.FILL_CONFIG),t.VL_ONLY_MARK_CONFIG_PROPERTIES=["filled","color"],t.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX={bar:["binSpacing","continuousBandSize","discreteBandSize"],text:["shortTimeLabels"],tick:["bandSize","thickness"]},t.defaultMarkConfig={color:"#4c78a8"},t.defaultBarConfig={binSpacing:1,continuousBandSize:2},t.defaultTickConfig={thickness:1}},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){var n=t[e];n.parent=this._parent}this._parent.removeChild(this)},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){var i=r[n];i.parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=i;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return r.__extends(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e.type=this.type,e.refCounts=this.refCounts,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(i);t.OutputNode=a},function(e,t,n){"use strict";function r(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var s in o)"encodings"===s&&a.fields||"fields"===s&&a.encodings||void 0!==a[s]&&a[s]!==!0||(a[s]=o[s]||a[s]);var u=n[i]=v.extend({},a,{name:i,events:v.isString(a.on)?g.selector(a.on,"scope"):a.on});O.forEachTransform(u,function(t){t.parse&&t.parse(e,a,u)})};for(var a in t)i(a);return n}function i(e,n){return d(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),O.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+v.stringValue(r.name+t.STORE)+", "+o+")"}]})}),n}function a(e,t){var n=!1;if(d(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),O.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n){var r=t.filter(function(e){return"unit"===e.name});r.length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"group()._id ? group() : unit"}]})}return t}function o(e,n){return d(e,function(e){var r=n.filter(function(n){return n.name===e.name+t.STORE});r.length||n.push({name:e.name+t.STORE})}),n}function s(e,t){var n=!1,r=t;return d(e,function(i,a){r=a.marks?a.marks(e,i,r):r,O.forEachTransform(i,function(a){n=n||a.clipGroup,a.marks&&(r=a.marks(e,i,t,r))})}),e.parent&&e.parent instanceof b.LayerModel?[r,m]:n?m(r):r}function u(e,t){var n=!1;return e.children.forEach(function(e){if(e instanceof _.UnitModel){var r=s(e,t);t=r[0],n=n||r[1]}}),n?m(t):t}function l(e,n){function r(n){var r=e.getSelectionComponent(n),i=v.stringValue(n+t.STORE),a=k[r.resolve];return p(r.type).predicate+("("+i+", "+v.stringValue(e.getName(""))+", datum, "+a+")")}return v.logicalExpr(n,r)}function c(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function f(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=r.selection,a=e.component.selection&&e.component.selection[i];if(a)y.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.');else{if(r.encoding||r.field)return a=e.getSelectionComponent(i),{signal:p(a.type).scaleDomain+("("+v.stringValue(i+t.STORE)+", "+v.stringValue(r.encoding||null)+", ")+(v.stringValue(r.field||null)+", "+k[a.resolve]+")")};y.warn('A "field" or "encoding" must be specified when using a selection as a scale domain.')}return{signal:"null"}}function d(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,p(i.type))}}function p(e){switch(e){case"single":return w.default;case"multi":return S.default;case"interval":return x.default}return null}function h(e,t,n){return e.name+"_"+("visual"===n?t:e.fields[t])}function m(e){return e.map(function(e){return e.clip=!0,e})}Object.defineProperty(t,"__esModule",{value:!0});var g=n(54),y=n(11),v=n(3),b=n(90),_=n(30),x=n(170),S=n(281),w=n(613),O=n(617);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=r,t.assembleUnitSelectionSignals=i,t.assembleTopLevelSignals=a,t.assembleUnitSelectionData=o,t.assembleUnitSelectionMarks=s,t.assembleLayerSelectionMarks=u;var k={global:'"union", "all"',independent:'"intersect", "unit"',union:'"union", "all"',union_others:'"union", "others"',intersect:'"intersect", "all"',intersect_others:'"intersect", "others"'};t.predicate=l,t.isRawSelectionDomain=c,t.selectionScaleDomain=f,t.channelSignalName=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.debugName=e,this._children=[],this._parent=null}return e.prototype.clone=function(){throw new Error("Cannot clone node")},e.prototype.producedFields=function(){return{}},e.prototype.dependentFields=function(){return{}},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){this._parent=e,e.addChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return this._children.length},e.prototype.addChild=function(e){this._children.push(e)},e.prototype.removeChild=function(e){this._children.splice(this._children.indexOf(e),1)},e.prototype.remove=function(){for(var e=0,t=this._children;e<t.length;e++){var n=t[e];n.parent=this._parent}this._parent.removeChild(this)},e.prototype.insertAsParentOf=function(e){var t=e.parent;t.removeChild(this),this.parent=t,e.parent=this},e.prototype.swapWithParent=function(){for(var e=this._parent,t=e.parent,n=0,r=this._children;n<r.length;n++){var i=r[n];i.parent=e}this._children=[],e.removeChild(this),e.parent.removeChild(e),this.parent=t,e.parent=this},e}();t.DataFlowNode=i;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.type=n,i.refCounts=r,i._source=i._name=t,!i.refCounts||i._name in i.refCounts||(i.refCounts[i._name]=0),i}return r.__extends(t,e),t.prototype.clone=function(){var e=new this.constructor;return e.debugName="clone_"+this.debugName,e._source=this._source,e.type=this.type,e.refCounts=this.refCounts,e},t.prototype.getSource=function(){return this.refCounts[this._name]++,this._source},t.prototype.isRequired=function(){return!!this.refCounts[this._name]},t.prototype.setSource=function(e){this._source=e},t}(i);t.OutputNode=a},function(e,t,n){"use strict";function r(e,t){var n={},r=e.config.selection,i=function(i){if(!t.hasOwnProperty(i))return"continue";var a=t[i],o=r[a.type];for(var s in o)"encodings"===s&&a.fields||"fields"===s&&a.encodings||void 0!==a[s]&&a[s]!==!0||(a[s]=o[s]||a[s]);i=v.varName(i);var u=n[i]=v.extend({},a,{name:i,events:v.isString(a.on)?g.selector(a.on,"scope"):a.on});O.forEachTransform(u,function(t){t.parse&&t.parse(e,a,u)})};for(var a in t)i(a);return n}function i(e,n){return d(e,function(r,i){var a=r.name,o=i.modifyExpr(e,r);n.push.apply(n,i.signals(e,r)),O.forEachTransform(r,function(t){t.signals&&(n=t.signals(e,r,n)),t.modifyExpr&&(o=t.modifyExpr(e,r,o))}),n.push({name:a+t.MODIFY,on:[{events:{signal:a+t.TUPLE},update:"modify("+v.stringValue(r.name+t.STORE)+", "+o+")"}]})}),n}function a(e,t){var n=!1;if(d(e,function(r,i){i.topLevelSignals&&(t=i.topLevelSignals(e,r,t)),O.forEachTransform(r,function(n){n.topLevelSignals&&(t=n.topLevelSignals(e,r,t))}),n=!0}),n){var r=t.filter(function(e){return"unit"===e.name});r.length||t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"group()._id ? group() : unit"}]})}return t}function o(e,n){return d(e,function(e){var r=n.filter(function(n){return n.name===e.name+t.STORE});r.length||n.push({name:e.name+t.STORE})}),n}function s(e,t){var n=!1,r=t;return d(e,function(i,a){r=a.marks?a.marks(e,i,r):r,O.forEachTransform(i,function(a){n=n||a.clipGroup,a.marks&&(r=a.marks(e,i,t,r))})}),e.parent&&e.parent instanceof b.LayerModel?[r,m]:n?m(r):r}function u(e,t){var n=!1;return e.children.forEach(function(e){if(e instanceof _.UnitModel){var r=s(e,t);t=r[0],n=n||r[1]}}),n?m(t):t}function l(e,n){function r(n){n=v.varName(n);var r=e.getSelectionComponent(n),i=v.stringValue(n+t.STORE),a=k[r.resolve];return p(r.type).predicate+("("+i+", "+v.stringValue(e.getName(""))+", datum, "+a+")")}return v.logicalExpr(n,r)}function c(e){return e.signal.indexOf(t.SELECTION_DOMAIN)>=0}function f(e,n){var r=JSON.parse(n.signal.replace(t.SELECTION_DOMAIN,"")),i=v.varName(r.selection),a=e.component.selection&&e.component.selection[i];if(a)y.warn('Use "bind": "scales" to setup a binding for scales and selections within the same view.');else{if(r.encoding||r.field)return a=e.getSelectionComponent(i),{signal:p(a.type).scaleDomain+("("+v.stringValue(i+t.STORE)+", "+v.stringValue(r.encoding||null)+", ")+(v.stringValue(r.field||null)+", "+k[a.resolve]+")")};y.warn('A "field" or "encoding" must be specified when using a selection as a scale domain.')}return{signal:"null"}}function d(e,t){var n=e.component.selection;for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];t(i,p(i.type))}}function p(e){switch(e){case"single":return w.default;case"multi":return S.default;case"interval":return x.default}return null}function h(e,t,n){return v.varName(e.name+"_"+("visual"===n?t:e.fields[t]))}function m(e){return e.map(function(e){return e.clip=!0,e})}Object.defineProperty(t,"__esModule",{value:!0});var g=n(54),y=n(8),v=n(2),b=n(97),_=n(31),x=n(183),S=n(302),w=n(658),O=n(662);t.STORE="_store",t.TUPLE="_tuple",t.MODIFY="_modify",t.SELECTION_DOMAIN="_selection_domain_",t.parseUnitSelection=r,t.assembleUnitSelectionSignals=i,t.assembleTopLevelSignals=a,t.assembleUnitSelectionData=o,t.assembleUnitSelectionMarks=s,t.assembleLayerSelectionMarks=u;var k={global:'"union", "all"',independent:'"intersect", "unit"',union:'"union", "all"',union_others:'"union", "others"',intersect:'"intersect", "all"',intersect_others:'"intersect", "others"'};t.predicate=l,t.isRawSelectionDomain=c,t.selectionScaleDomain=f,t.channelSignalName=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(38),o=n(38),s=n(12),u=n(23),l=n(15),c=n(174),f=n(3),d=n(593),p=n(21),h=n(73),m=n(89),g=n(115),y=n(90),v=n(275),b=n(91),_=n(277),x=n(278),S=n(55),w=n(169),O=n(27),k=function(e){function t(t,n,i,a,s,l){void 0===a&&(a={});var f=e.call(this,t,n,i,l,{})||this;f.specifiedScales={},f.specifiedAxes={},f.specifiedLegends={},f.selection={},f.children=[],f.initSize(r.__assign({},a,t.width?{width:t.width}:{},t.height?{height:t.height}:{})),f.initFacetCellConfig(),f.markDef=u.isMarkDef(t.mark)?r.__assign({},t.mark):{type:t.mark};var d=f.markDef.type,p=f.encoding=o.normalizeEncoding(w.replaceRepeaterInEncoding(t.encoding||{},s),d);return f.stack=c.stack(d,p,f.config.stack),f.specifiedScales=f.initScales(d,p),f.encoding=_.initEncoding(d,p,f.stack,f.config),f.specifiedAxes=f.initAxes(p),f.specifiedLegends=f.initLegend(p),f.selection=t.selection,f}return r.__extends(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.hasDiscreteDomain=function(e){if(i.isScaleChannel(e)){var t=this.getScaleComponent(e);return t&&l.hasDiscreteDomain(t.get("type"))}return!1},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initFacetCellConfig=function(){for(var e=this.config,t=this.parent,n=!1;null!==t;){if(t instanceof g.FacetModel){n=!0;break}t=t.parent}n&&(e.cell=f.extend({},e.cell,e.facet.cell))},t.prototype.initScales=function(e,t){return i.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return s.isFieldDef(a)?(r=a,i=a.scale):s.isConditionalDef(a)&&s.isFieldDef(a.condition)?(r=a.condition,i=a.condition.scale):"x"===n?r=s.getFieldDef(t.x2):"y"===n&&(r=s.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[i.X,i.Y].reduce(function(t,n){var a=e[n];if(s.isFieldDef(a)||n===i.X&&s.isFieldDef(e.x2)||n===i.Y&&s.isFieldDef(e.y2)){var o=s.isFieldDef(a)?a.axis:null;null!==o&&o!==!1&&(t[n]=r.__assign({},o))}return t},{})},t.prototype.initLegend=function(e){return i.NONSPATIAL_SCALE_CHANNELS.reduce(function(t,n){var i=e[n];if(i){var a=s.isFieldDef(i)?i.legend:i.condition&&s.isFieldDef(i.condition)?i.condition.legend:null;null!==a&&a!==!1&&(t[n]=r.__assign({},a))}return t},{})},t.prototype.parseData=function(){this.component.data=m.parseData(this)},t.prototype.parseSelection=function(){this.component.selection=O.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=x.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=d.parseAxisComponent(this,[i.X,i.Y])},t.prototype.parseLegend=function(){this.component.legends=b.parseLegendComponent(this)},t.prototype.assembleData=function(){return this.parent?[]:h.assembleData(this.component.data)},t.prototype.assembleSelectionTopLevelSignals=function(e){return O.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return O.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return O.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return v.assembleLayoutUnitSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&this.parent instanceof y.LayerModel||(e=O.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},p.applyConfig({},this.config.cell,u.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=f.duplicate(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=f.duplicate(this.config)),t||(n.data=f.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return a.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return s.getFieldDef(t)},t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return n.bin&&(t=f.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),s.field(n,t)},t}(S.ModelWithField);t.UnitModel=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(32),o=n(32),s=n(16),u=n(24),l=n(13),c=n(187),f=n(2),d=n(288),p=n(18),h=n(76),m=n(96),g=n(122),y=n(97),v=n(296),b=n(77),_=n(298),x=n(299),S=n(59),w=n(182),O=n(29),k=function(e){function t(t,n,i,a,s,l){void 0===a&&(a={});var f=e.call(this,t,n,i,l,{})||this;f.specifiedScales={},f.specifiedAxes={},f.specifiedLegends={},f.selection={},f.children=[],f.initSize(r.__assign({},a,t.width?{width:t.width}:{},t.height?{height:t.height}:{})),f.initFacetCellConfig(),f.markDef=u.isMarkDef(t.mark)?r.__assign({},t.mark):{type:t.mark};var d=f.markDef.type,p=f.encoding=o.normalizeEncoding(w.replaceRepeaterInEncoding(t.encoding||{},s),d);return f.stack=c.stack(d,p,f.config.stack),f.specifiedScales=f.initScales(d,p),f.encoding=_.initEncoding(f.markDef,p,f.stack,f.config),f.specifiedAxes=f.initAxes(p),f.specifiedLegends=f.initLegend(p),f.selection=t.selection,f}return r.__extends(t,e),t.prototype.scaleDomain=function(e){var t=this.specifiedScales[e];return t?t.domain:void 0},t.prototype.hasDiscreteDomain=function(e){if(i.isScaleChannel(e)){var t=this.getScaleComponent(e);return t&&l.hasDiscreteDomain(t.get("type"));
}return!1},t.prototype.sort=function(e){return(this.getMapping()[e]||{}).sort},t.prototype.axis=function(e){return this.specifiedAxes[e]},t.prototype.legend=function(e){return this.specifiedLegends[e]},t.prototype.initFacetCellConfig=function(){for(var e=this.config,t=this.parent,n=!1;null!==t;){if(t instanceof g.FacetModel){n=!0;break}t=t.parent}n&&(e.cell=f.extend({},e.cell,e.facet.cell))},t.prototype.initScales=function(e,t){return i.SCALE_CHANNELS.reduce(function(e,n){var r,i,a=t[n];return s.isFieldDef(a)?(r=a,i=a.scale):s.isConditionalDef(a)&&s.isFieldDef(a.condition)?(r=a.condition,i=a.condition.scale):"x"===n?r=s.getFieldDef(t.x2):"y"===n&&(r=s.getFieldDef(t.y2)),r&&(e[n]=i||{}),e},{})},t.prototype.initAxes=function(e){return[i.X,i.Y].reduce(function(t,n){var a=e[n];if(s.isFieldDef(a)||n===i.X&&s.isFieldDef(e.x2)||n===i.Y&&s.isFieldDef(e.y2)){var o=s.isFieldDef(a)?a.axis:null;null!==o&&o!==!1&&(t[n]=r.__assign({},o))}return t},{})},t.prototype.initLegend=function(e){return i.NONSPATIAL_SCALE_CHANNELS.reduce(function(t,n){var i=e[n];if(i){var a=s.isFieldDef(i)?i.legend:i.condition&&s.isFieldDef(i.condition)?i.condition.legend:null;null!==a&&a!==!1&&(t[n]=r.__assign({},a))}return t},{})},t.prototype.parseData=function(){this.component.data=m.parseData(this)},t.prototype.parseSelection=function(){this.component.selection=O.parseUnitSelection(this,this.selection)},t.prototype.parseMarkGroup=function(){this.component.mark=x.parseMarkGroup(this)},t.prototype.parseAxisAndHeader=function(){this.component.axes=d.parseUnitAxis(this)},t.prototype.parseLegend=function(){this.component.legends=b.parseUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:h.assembleData(this.component.data)},t.prototype.assembleSelectionTopLevelSignals=function(e){return O.assembleTopLevelSignals(this,e)},t.prototype.assembleSelectionSignals=function(){return O.assembleUnitSelectionSignals(this,[])},t.prototype.assembleSelectionData=function(e){return O.assembleUnitSelectionData(this,e)},t.prototype.assembleLayout=function(){return null},t.prototype.assembleLayoutSignals=function(){return v.assembleLayoutUnitSignals(this)},t.prototype.assembleMarks=function(){var e=this.component.mark||[];return this.parent&&this.parent instanceof y.LayerModel||(e=O.assembleUnitSelectionMarks(this,e)),e.map(this.correctDataNames)},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},p.applyConfig({},this.config.cell,u.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.getMapping=function(){return this.encoding},t.prototype.toSpec=function(e,t){var n,r=f.duplicate(this.encoding);return n={mark:this.markDef,encoding:r},e||(n.config=f.duplicate(this.config)),t||(n.data=f.duplicate(this.data)),n},t.prototype.mark=function(){return this.markDef.type},t.prototype.channelHasField=function(e){return a.channelHasField(this.encoding,e)},t.prototype.fieldDef=function(e){var t=this.encoding[e];return s.getFieldDef(t)},t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);if(n)return n.bin&&(t=f.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),s.field(n,t)},t}(S.ModelWithField);t.UnitModel=k},[724,5,16,8,2],function(e,t){"use strict";function n(e){if(e)switch(e=e.toLowerCase()){case"q":case t.QUANTITATIVE:return"quantitative";case"t":case t.TEMPORAL:return"temporal";case"o":case t.ORDINAL:return"ordinal";case"n":case t.NOMINAL:return"nominal"}}Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.QUANTITATIVE="quantitative",e.ORDINAL="ordinal",e.TEMPORAL="temporal",e.NOMINAL="nominal"}(r=t.Type||(t.Type={})),t.QUANTITATIVE=r.QUANTITATIVE,t.ORDINAL=r.ORDINAL,t.TEMPORAL=r.TEMPORAL,t.NOMINAL=r.NOMINAL,t.getFullName=n},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},33,function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=void 0;var i=n(526),a=r(i),o=n(245),s=r(o),u=n(527),l=r(u);t.Provider=a.default,t.createProvider=i.createProvider,t.connectAdvanced=s.default,t.connect=l.default},[724,6,12,11,3],function(e,t){"use strict";function n(e){return{type:E,mode:e}}function r(e){return{type:v,parse:e}}function i(e,t){return{type:b,spec:t,example:e}}function a(e,t){return{type:_,spec:t,example:e}}function o(e){return{type:g,spec:e}}function s(e){return{type:y,spec:e}}function u(e,t){return{type:x,gist:e,spec:t}}function l(e,t){return{type:S,gist:e,spec:t}}function c(){return{type:w}}function f(){return{type:O}}function d(){return{type:k}}function p(){return{type:M}}function h(e){return{type:T,error:e}}function m(e){return{type:P,editorString:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setMode=n,t.parseSpec=r,t.setVegaExample=i,t.setVegaLiteExample=a,t.updateVegaSpec=o,t.updateVegaLiteSpec=s,t.setGistVegaSpec=u,t.setGistVegaLiteSpec=l,t.toggleAutoParse=c,t.cycleRenderer=f,t.showCompiledVegaSpec=d,t.showErrorPane=p,t.logError=h,t.updateEditorString=m;var g=t.UPDATE_VEGA_SPEC="UPDATE_VEGA_SPEC",y=t.UPDATE_VEGA_LITE_SPEC="UPDATE_VEGA_LITE_SPEC",v=t.PARSE_SPEC="PARSE_SPEC",b=t.SET_VEGA_EXAMPLE="SET_VEGA_EXAMPLE",_=t.SET_VEGA_LITE_EXAMPLE="SET_VEGA_LITE_EXAMPLE",x=t.SET_GIST_VEGA_SPEC="SET_GIST_VEGA_SPEC",S=t.SET_GIST_VEGA_LITE_SPEC="SET_GIST_VEGA_LITE_SPEC",w=t.TOGGLE_AUTO_PARSE="TOGGLE_AUTO_PARSE",O=t.CYCLE_RENDERER="CYCLE_RENDERER",k=t.SHOW_COMPILED_VEGA_SPEC="SHOW_COMPILED_VEGA_SPEC",E=t.SET_MODE="SET_MODE",M=t.SHOW_ERROR_PANE="SHOW_ERROR_PANE",T=t.LOG_ERROR="LOG_ERROR",P=t.UPDATE_EDITOR_STRING="UPDATE_EDITOR_STRING"},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return function(t,n){return o(e(t),n)}}function n(e,t){return[e,t]}function r(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=O?10:a>=k?5:a>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=O?10:a>=k?5:a>=E?2:1)}function i(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=O?i*=10:a>=k?i*=5:a>=E&&(i*=2),t<e?-i:i}function a(e){return e.length}var o=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},s=function(e){return 1===e.length&&(e=t(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}},u=s(o),l=u.right,c=u.left,f=function(e,t){null==t&&(t=n);for(var r=0,i=e.length-1,a=e[0],o=new Array(i<0?0:i);r<i;)o[r]=t(a,a=e[++r]);return o},d=function(e,t,r){var i,a,o,s,u=e.length,l=t.length,c=new Array(u*l);for(null==r&&(r=n),i=o=0;i<u;++i)for(s=e[i],a=0;a<l;++a,++o)c[o]=r(s,t[a]);return c},p=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},m=function(e,t){var n,r,i=e.length,a=0,o=-1,s=0,u=0;if(null==t)for(;++o<i;)isNaN(n=h(e[o]))||(r=n-s,s+=r/++a,u+=r*(n-s));else for(;++o<i;)isNaN(n=h(t(e[o],o,e)))||(r=n-s,s+=r/++a,u+=r*(n-s));if(a>1)return u/(a-1)},g=function(e,t){var n=m(e,t);return n?Math.sqrt(n):n},y=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){for(;++o<a;)if(null!=(n=e[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=i=n;++o<a;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,b=v.slice,_=v.map,x=function(e){return function(){return e}},S=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a},O=Math.sqrt(50),k=Math.sqrt(10),E=Math.sqrt(2),M=function(e,t,n){var i,a,o,s=t<e,u=-1;if(s&&(i=e,e=t,t=i),0===(o=r(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++u<i;)a[u]=(e+u)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++u<i;)a[u]=(e-u)/o;return s&&a.reverse(),a},T=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},P=function(){function e(e){var a,o,s=e.length,u=new Array(s);for(a=0;a<s;++a)u[a]=t(e[a],a,e);var c=n(u),f=c[0],d=c[1],p=r(u,f,d);Array.isArray(p)||(p=i(f,d,p),p=w(Math.ceil(f/p)*p,Math.floor(d/p)*p,p));for(var h=p.length;p[0]<=f;)p.shift(),--h;for(;p[h-1]>d;)p.pop(),--h;var m,g=new Array(h+1);for(a=0;a<=h;++a)m=g[a]=[],m.x0=a>0?p[a-1]:f,m.x1=a<h?p[a]:d;for(a=0;a<s;++a)o=u[a],f<=o&&o<=d&&g[l(p,o,0,h)].push(e[a]);return g}var t=S,n=y,r=T;return e.value=function(n){return arguments.length?(t="function"==typeof n?n:x(n),e):t},e.domain=function(t){return arguments.length?(n="function"==typeof t?t:x([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"==typeof t?t:x(Array.isArray(t)?b.call(t):t),e):r},e},C=function(e,t,n){if(null==n&&(n=h),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}},A=function(e,t,n){return e=_.call(e,h).sort(o),Math.ceil((n-t)/(2*(C(e,.75)-C(e,.25))*Math.pow(e.length,-1/3)))},D=function(e,t,n){return Math.ceil((n-t)/(3.5*g(e)*Math.pow(e.length,-1/3)))},R=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&n>r&&(r=n);return r},N=function(e,t){var n,r=e.length,i=r,a=-1,o=0;if(null==t)for(;++a<r;)isNaN(n=h(e[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=h(t(e[a],a,e)))?--i:o+=n;if(i)return o/i},I=function(e,t){var n,r=e.length,i=-1,a=[];if(null==t)for(;++i<r;)isNaN(n=h(e[i]))||a.push(n);else for(;++i<r;)isNaN(n=h(t(e[i],i,e)))||a.push(n);return C(a.sort(o),.5)},F=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(r=e[i],t=r.length;--t>=0;)n[--o]=r[t];return n},L=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&r>n&&(r=n);return r},j=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},z=function(e,t){if(n=e.length){var n,r,i=0,a=0,s=e[a];for(null==t&&(t=o);++i<n;)(t(r=e[i],s)<0||0!==t(s,s))&&(s=r,a=i);return 0===t(s,s)?a:void 0}},$=function(e,t,n){for(var r,i,a=(null==n?e.length:n)-(t=null==t?0:+t);a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},U=function(e,t){var n,r=e.length,i=-1,a=0;if(null==t)for(;++i<r;)(n=+e[i])&&(a+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(a+=n);return a},B=function(e){if(!(i=e.length))return[];for(var t=-1,n=L(e,a),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r},q=function(){return B(arguments)};e.bisect=l,e.bisectRight=l,e.bisectLeft=c,e.ascending=o,e.bisector=s,e.cross=d,e.descending=p,e.deviation=g,e.extent=y,e.histogram=P,e.thresholdFreedmanDiaconis=A,e.thresholdScott=D,e.thresholdSturges=T,e.max=R,e.mean=N,e.median=I,e.merge=F,e.min=L,e.pairs=f,e.permute=j,e.quantile=C,e.range=w,e.scan=z,e.shuffle=$,e.sum=U,e.ticks=M,e.tickIncrement=r,e.tickStep=i,e.transpose=B,e.variance=m,e.zip=q,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(){M.ReactReconcileTransaction&&x?void 0:c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(!0)}function a(e,t,n,i,a,o){return r(),x.batchedUpdates(e,t,n,i,a,o)}function o(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==y.length?c("124",t,y.length):void 0,y.sort(o),v++;for(var n=0;n<t;n++){var r=y[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var a;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),a="React update: "+s.getName(),console.time(a)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,v),a&&console.timeEnd(a),i)for(var u=0;u<i.length;u++)e.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(e){return r(),x.isBatchingUpdates?(y.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=v+1))):void x.batchedUpdates(u,e)}function l(e,t){x.isBatchingUpdates?void 0:c("125"),b.enqueue(e,t),_=!0}var c=n(10),f=n(20),d=n(224),p=n(53),h=n(229),m=n(68),g=n(108),y=(n(4),[]),v=0,b=d.getPooled(),_=!1,x=null,S={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),k()):y.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},O=[S,w];f(i.prototype,g,{getTransactionWrappers:function(){return O},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,M.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return g.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),p.addPoolingTo(i);var k=function(){for(;y.length||_;){if(y.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(_){_=!1;var t=b;b=d.getPooled(),t.notifyAll(),d.release(t)}}},E={injectReconcileTransaction:function(e){e?void 0:c("126"),M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,x=e}},M={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:u,flushBatchedUpdates:k,injection:E,asap:l};e.exports=M},function(e,t,n){!function(e,r){r(t,n(7),n(177),n(285),n(40))}(this,function(e,t,n,r,i){"use strict";function a(e){var n=e||t.identity,r=[],i={};return r.add=function(e){var t=n(e);return i[t]||(i[t]=1,r.push(e)),r},r.remove=function(e){var t,a=n(e);return i[a]&&(i[a]=0,(t=r.indexOf(e))>=0&&r.splice(t,1)),r},r}function o(e){return e._id}function s(e){var t=e===Object(e)?e:{data:e};return t._id||(t._id=++We),t}function u(e){return s(l(e,{}))}function l(e,t){for(var n in e)"_id"!==n&&(t[n]=e[n]);return t}function c(e,t){return t._id=e._id,t}function f(e){return e&&e.constructor===d}function d(){var e=[],n=[],r=[],i=[],a=[],o=!1;return{constructor:d,insert:function(n){for(var r=t.array(n),i=0,a=r.length;i<a;++i)e.push(r[i]);return this},remove:function(e){for(var r=t.isFunction(e)?i:n,a=t.array(e),o=0,s=a.length;o<s;++o)r.push(a[o]);return this},modify:function(e,n,i){var o={field:n,value:t.constant(i)};return t.isFunction(e)?(o.filter=e,a.push(o)):(o.tuple=e,r.push(o)),this},encode:function(e,n){return t.isFunction(e)?a.push({filter:e,field:n}):r.push({tuple:e,field:n}),this},reflow:function(){return o=!0,this},pulse:function(t,u){function l(e,n,r){r?e[n]=r(e):t.encode=n,o||(c[e._id]=e)}var c,f,d,p,h,m,g;for(f=0,d=e.length;f<d;++f)t.add.push(s(e[f]));for(c={},f=0,d=n.length;f<d;++f)m=n[f],c[m._id]=m;for(f=0,d=i.length;f<d;++f)h=i[f],u.forEach(function(e){h(e)&&(c[e._id]=e)});for(g in c)t.rem.push(c[g]);for(c={},f=0,d=r.length;f<d;++f)p=r[f],l(p.tuple,p.field,p.value),t.modifies(p.field);for(f=0,d=a.length;f<d;++f)p=a[f],h=p.filter,u.forEach(function(e){h(e)&&l(e,p.field,p.value)}),t.modifies(p.field);if(o)t.mod=n.length||i.length?u.filter(function(e){return c.hasOwnProperty(e._id)}):u.slice();else for(g in c)t.mod.push(c[g]);return t}}}function p(){Object.defineProperty(this,Ve,{writable:!0,value:{}})}function h(e,t,n,r){this.id=++Ge,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function m(e){return function(t){var n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}function g(e,t,n){this.id=++tt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function y(e,t,n){return new g(e,t,n)}function v(e,n,r,i,a,o){var s,u,l=t.extend({},o,it);t.isFunction(r)||(r=t.constant(r)),void 0===i?s=function(t){e.touch(r(t))}:t.isFunction(i)?(u=new h(null,i,a,(!1)),s=function(t){var n,i=r(t);u.evaluate(t),f(n=u.value)?e.pulse(i,n,o):e.update(i,n,l)}):s=function(t){e.update(r(t),i,l)},n.apply(s)}function b(e,n,r,i,a,o){var s,u;void 0===i?u=r:(s=t.isFunction(i)?i:t.constant(i),i=r?function(e,t){var n=s(e,t);return r.skip()?n:r.skip(!0).value=n}:s,u=new h(null,i,a,(!1)),u.modified(o&&o.force),u.rank=0,r&&(u.skip(!0),u.value=r.value,u.targets().add(r))),n.targets().add(u)}function _(e){e.rank=++this._rank}function x(e){for(var t,n,r,i=[e];i.length;)if(this.rank(t=i.pop()),n=t._targets)for(r=n.length;--r>=0;)i.push(t=n[r]),t===e&&this.error("Cycle detected in dataflow graph.")}function S(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function w(e,t){return e?function(n,r){return e(n,r)&&t(n,r)}:t}function O(e,t){var n={};return e.visit(t,function(e){n[e._id]=1}),function(e){return n[e._id]?null:e}}function k(e,t){var n=t||vt;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function E(e,t,n){var r=n||vt;return(e.set(t)||r.force)&&this.touch(e,r),this}function M(e,t,n){this.touch(e,n||vt);var r=new S(this,this._clock+(this._pulse?0:1));return r.target=e,this._pulses[e.id]=t.pulse(r,e.value),this}function T(e,t,r){return this.pulse(e,this.changeset().insert(n.read(t,r)))}function P(e){var t,n,r=new Promise(function(e,r){t=e,n=r});return r.requests=0,r.done=function(){0===--r.requests&&e.runAfter(function(){e._pending=null;try{e.run(),t(e)}catch(r){n(r)}})},e._pending=r}function C(e,t,n){var r=this,i=r._pending||P(r);i.requests+=1,r.loader().load(t,{context:"dataflow"}).then(function(t){r.ingest(e,t,n)},function(e){r.warn("Loading failed: "+t,e),i.done()}).then(i.done).catch(function(e){r.warn(e)})}function A(e,t,n,r){var i,a,o,s,u,l=this,c=0;for(this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n,o=0,s=n.length;o<s;++o)if(i=n[o],i.stamp===t){if(i.fields){a=l.fields||(l.fields={});for(u in i.fields)a[u]=1}i.changed(l.ADD)&&(c|=l.ADD),i.changed(l.REM)&&(c|=l.REM),i.changed(l.MOD)&&(c|=l.MOD)}this.changes=c}function D(e){if(!this._touched.length)return 0;if(this._pending)return this.info("Awaiting requests, delaying dataflow run."),0;var n,r,i,o=this,s=0,u=o.logLevel();o._pulse=new S(o,(++o._clock),e),u>=t.Info&&(i=Date.now(),o.debug("-- START PROPAGATION ("+o._clock+") -----")),o._touched.forEach(function(e){o._enqueue(e,!0)}),o._touched=a(t.id);try{for(;o._heap.size()>0;)n=o._heap.pop(),n.rank===n.qrank?(r=n.run(o._getPulse(n,e)),u>=t.Debug&&o.debug(n.id,r===ot?"STOP":r,n),r!==ot&&(o._pulse=r,n._targets&&n._targets.forEach(function(e){o._enqueue(e)})),++s):o._enqueue(n,!0)}catch(l){o.error(l)}if(o._pulses={},o._pulse=null,u>=t.Info&&(i=Date.now()-i,o.info("> Pulse "+o._clock+": "+s+" operators; "+i+"ms")),o._postrun.length){var c=o._postrun;o._postrun=[],c.forEach(function(e){try{e(o)}catch(t){o.error(t)}})}return s}function R(){return this._pending||Promise.resolve(this.run())}function N(e){if(this._pulse)this._postrun.push(e);else try{e(this)}catch(t){this.error(t)}}function I(e,t){var n=!this._pulses[e.id];n&&(this._pulses[e.id]=this._pulse),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function F(e,n){var r,i=e.source,a=this._clock;return i&&t.isArray(i)?(r=i.map(function(e){return e.pulse}),new A(this,a,r,n)):(i=i&&i.pulse,r=this._pulses[e.id],i&&i!==ot&&(i.stamp===a&&r.target!==e?r=i:r.source=i.source),r)}function L(e){this.cmp=e,this.nodes=[]}function j(e,t,n,r){var i,a,o;for(i=e[n];n>t&&(o=n-1>>1,a=e[o],r(i,a)<0);)e[n]=a,n=o;return e[n]=i}function z(e,t,n){for(var r,i=t,a=e.length,o=e[t],s=2*t+1;s<a;)r=s+1,r<a&&n(e[s],e[r])>=0&&(s=r),e[t]=e[s],t=s,s=2*t+1;return e[t]=o,j(e,i,t,n)}function $(){this._log=t.logger(),this._clock=0,this._rank=0,this._loader=n.loader(),this._touched=a(t.id),this._pulses={},this._pulse=null,this._heap=new L(function(e,t){return e.qrank-t.qrank}),this._postrun=[]}function U(e){return function(){return this._log[e].apply(this,arguments)}}function B(e,t){h.call(this,e,null,t)}function q(e,t){var n=e.type;W(n,e),V(n,t)}function W(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Ot[e]=t,this):Ot.hasOwnProperty(e)?Ot[e]:null}function V(e,t){return arguments.length>1?(wt[e]=t,this):wt.hasOwnProperty(e)?wt[e]:null}function H(e){this._key=e||"_id",this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null}function G(e,t){return Et[e](t)}function Y(e){return function(n){var r=t.extend({init:"",add:"",rem:"",idx:0},e);return r.out=n||e.name,r}}function X(e,t){return e.idx-t.idx}function Q(e,t){function n(e,r){function i(t){e[t]||n(e,e[t]=Et[t]())}return r.req&&r.req.forEach(i),t&&r.str&&r.str.forEach(i),e}var r,i=e.reduce(n,e.reduce(function(e,t){return e[t.name]=t,e},{})),a=[];for(r in i)a.push(i[r]);return a.sort(X)}function K(e,n){var r=n||t.identity,i=Q(e,!0),a="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",o="if(v==null){++this.missing; return;} if(v!==v) return; ++this.valid;",s="if(v==null){--this.missing; return;} if(v!==v) return; --this.valid;",u="var t = this.tuple; var cell = this.cell;";return i.forEach(function(e){e.idx<0?(a=e.init+a,o=e.add+o,s=e.rem+s):(a+=e.init,o+=e.add,s+=e.rem)}),e.slice().sort(X).forEach(function(e){u+="t['"+e.out+"']="+e.set+";"}),u+="return t;",a=Function("cell","t",a),a.prototype.add=Function("v","t",o),a.prototype.rem=Function("v","t",s),a.prototype.set=Function(u),a.prototype.get=r,a.fields=e.map(function(e){return e.out}),a}function J(e){B.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function Z(e,t,n){return n||e+(t?"_"+t:"")}function ee(e){var t,n=this._dims,r=n.length,i=String(n[0](e));for(t=1;t<r;++t)i+="|"+n[t](e);return i}function te(e){B.call(this,null,e)}function ne(e){B.call(this,[],e)}function re(e){h.call(this,null,ie,e)}function ie(e){return this.value&&!e.modified()?this.value:t.compare(e.fields,e.orders)}function ae(e){B.call(this,null,e)}function oe(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}function se(e){B.call(this,null,e)}function ue(e,t,n,r){for(var i,a,o=[],u={},l=e.length,c=0;c<l;++c)for(u[t]=a=e[c],i=0;i<l;++i)u[n]=e[i],r(u)&&(o.push(s(u)),u={},u[t]=a);return o}function le(e,n){var r=e[Nt];Dt.hasOwnProperty(r)||t.error("Unknown distribution function: "+r);var i=Dt[r]();for(var a in e)a===It?i.data((e.from||n()).map(e[a])):a===Rt?i[a](e[a].map(function(e){return le(e,n)})):typeof i[a]===Nt&&i[a](e[a]);return i}function ce(e){B.call(this,null,e)}function fe(e){return function(){return e.materialize(e.SOURCE).source}}function de(e){B.call(this,[+(1/0),-(1/0)],e)}function pe(e,t){h.call(this,e),this.parent=t}function he(e){B.call(this,{},e),this._keys=t.fastmap();var n=this._targets=[];n.active=0,n.forEach=function(e){for(var t=0,r=n.active;t<r;++t)e(n[t],t,n)}}function me(e){h.call(this,null,ge,e)}function ge(e){return this.value&&!e.modified()?this.value:t.isArray(e.name)?t.array(e.name).map(function(e){return t.field(e)}):t.field(e.name,e.as)}function ye(e){B.call(this,t.fastmap(),e)}function ve(e){B.call(this,{},e)}function be(e){return e.fields.join("|")}function _e(e){B.call(this,null,e)}function xe(e){B.call(this,[],e)}function Se(e){B.call(this,[],e)}function we(e){var n,r=e.method||Wt.value;return null!=Wt[r]?r===Wt.value?(n=void 0!==e.value?e.value:0,function(){return n}):Wt[r]:void t.error("Unrecognized imputation method: "+r)}function Oe(e){var t=e.field;return function(e){return e?t(e):NaN}}function ke(e,t,n,r){var i,a,o,s,u,l,c,f,d=function(e){return e(f)},p=[],h=r?r.slice():[],m={},g={};for(h.forEach(function(e,t){m[e]=t+1}),s=0,c=e.length;s<c;++s)f=e[s],l=n(f),u=m[l]||(m[l]=h.push(l)),a=(i=t?t.map(d):Vt)+"",(o=g[a])||(o=g[a]=[],p.push(o),o.values=i),o[u-1]=f;return p.domain=h,p}function Ee(e){J.call(this,e)}function Me(e){h.call(this,null,Te,e)}function Te(e){return this.value&&!e.modified()?this.value:t.key(e.fields)}function Pe(e){B.call(this,{},e)}function Ce(e){h.call(this,null,Ae,e)}function Ae(e){if(this.value&&!e.modified())return this.value;var t,n,r,i=+(1/0),a=-(1/0),o=e.extents;for(t=0,n=o.length;t<n;++t)r=o[t],r[0]<i&&(i=r[0]),r[1]>a&&(a=r[1]);return[i,a]}function De(e){h.call(this,null,Re,e)}function Re(e){return this.value&&!e.modified()?this.value:e.values.reduce(function(e,t){return e.concat(t)},[])}function Ne(e){B.call(this,null,e)}function Ie(e){he.call(this,e)}function Fe(e){B.call(this,null,e)}function Le(e){B.call(this,null,e)}function je(e){B.call(this,null,e)}function ze(e){B.call(this,[],e),this.count=0}function $e(e){B.call(this,null,e)}function Ue(e){B.call(this,null,e),this.modified(!0)}function Be(e){B.call(this,t.fastmap(),e)}function qe(e){B.call(this,null,e)}var We=1,Ve="_:mod:_",He=p.prototype;He.set=function(e,n,r,i){var a=this,o=a[e],s=a[Ve];return null!=n&&n>=0?(o[n]!==r||i)&&(o[n]=r,s[n+":"+e]=-1,s[e]=-1):(o!==r||i)&&(a[e]=r,s[e]=t.isArray(r)?1+r.length:-1),a},He.modified=function(e,n){var r,i=this[Ve];if(!arguments.length){for(r in i)if(i[r])return!0;return!1}if(t.isArray(e)){for(r=0;r<e.length;++r)if(i[e[r]])return!0;return!1}return null!=n&&n>=0?n+1<i[e]||!!i[n+":"+e]:!!i[e]},He.clear=function(){return this[Ve]={},this};var Ge=0,Ye="pulse",Xe=new p,Qe=1,Ke=2,Je=h.prototype;Je.targets=function(){return this._targets||(this._targets=a(t.id))},Je.set=function(e){return this.value!==e?(this.value=e,1):0},Je.skip=m(Qe),Je.modified=m(Ke),Je.parameters=function(e,n){function r(e,t,r){r instanceof h?(r!==u&&(n&&r.targets().add(u),f.push(r)),c.push({op:r,name:e,index:t})):l.set(e,t,r)}n=n!==!1;var i,a,o,s,u=this,l=u._argval=u._argval||new p,c=u._argops=u._argops||[],f=[];for(i in e)if(a=e[i],i===Ye)t.array(a).forEach(function(e){e instanceof h?e!==u&&(e.targets().add(u),f.push(e)):t.error("Pulse parameters must be operator instances.")}),u.source=a;else if(t.isArray(a))for(l.set(i,-1,Array(o=a.length)),s=0;s<o;++s)r(i,s,a[s]);else r(i,-1,a);return this.marshall().clear(),f},Je.marshall=function(e){var t,n,r,i,a,o=this._argval||Xe,s=this._argops;if(s&&(r=s.length))for(n=0;n<r;++n)t=s[n],i=t.op,a=i.modified()&&i.stamp===e,o.set(t.name,t.index,i.value,a);return o},Je.evaluate=function(e){if(this._update){var t=this.marshall(e.stamp),n=this._update(t,e);if(t.clear(),n!==this.value)this.value=n;else if(!this.modified())return e.StopPropagation}},Je.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.stamp=e.stamp,this.pulse=t,t||e};var Ze=function(e,n,r,i){var a,o=1;return e instanceof h?a=e:e&&e.prototype instanceof h?a=new e:t.isFunction(e)?a=new h(null,e):(o=0,a=new h(e,n)),this.rank(a),o&&(i=r,r=n),r&&this.connect(a,a.parameters(r,i)),this.touch(a),a},et=function(e,t){var n,r,i=e.rank;for(n=0,r=t.length;n<r;++n)if(i<t[n].rank)return void this.rerank(e)},tt=0,nt=g.prototype;nt._filter=t.truthy,nt._apply=t.identity,nt.targets=function(){return this._targets||(this._targets=a(t.id))},nt.consume=function(e){return arguments.length?(this._consume=!!e,this):!!this._consume},nt.receive=function(e){if(this._filter(e)){for(var t=this.value=this._apply(e),n=this._targets,r=n?n.length:0,i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},nt.filter=function(e){var t=y(e);return this.targets().add(t),t},nt.apply=function(e){var t=y(null,e);return this.targets().add(t),t},nt.merge=function(){var e=y();this.targets().add(e);for(var t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},nt.throttle=function(e){var t=-1;return this.filter(function(){var n=Date.now();return n-t>e?(t=n,1):0})},nt.debounce=function(e){var n=y();return this.targets().add(y(null,null,t.debounce(e,function(e){var t=e.dataflow;n.receive(e),t&&t.run&&t.run()}))),n},nt.between=function(e,t){var n=!1;return e.targets().add(y(null,null,function(){n=!0})),t.targets().add(y(null,null,function(){n=!1})),this.filter(function(){return n})};var rt=function(e,n,r,i){var a,o=this,s=y(r,i),u=function(e){e.dataflow=o,s.receive(e),o.run()};a="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):t.array(e);for(var l=0,c=a.length;l<c;++l)a[l].addEventListener(n,u);return s},it={skip:!0},at=function(e,t,n,r,i){var a=e instanceof h?b:v;return a(this,e,t,n,r,i),this},ot={},st=1,ut=2,lt=4,ct=st|ut,ft=st|lt,dt=st|ut|lt,pt=8,ht=16,mt=32,gt=64,yt=S.prototype;yt.StopPropagation=ot,yt.ADD=st,yt.REM=ut,yt.MOD=lt,yt.ADD_REM=ct,yt.ADD_MOD=ft,yt.ALL=dt,yt.REFLOW=pt,yt.SOURCE=ht,yt.NO_SOURCE=mt,yt.NO_FIELDS=gt,yt.fork=function(e){return new S(this.dataflow).init(this,e)},yt.addAll=function(){var e=this;return this.source&&this.source.length!==this.add.length?(e=new S(this.dataflow).init(this),e.add=e.source,e):e},yt.init=function(e,t){var n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||t&gt||(n.fields=e.fields),t&st?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&ut?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&lt?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&mt?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source),n},yt.runAfter=function(e){this.dataflow.runAfter(e)},yt.changed=function(e){var t=e||dt;return t&st&&this.add.length||t&ut&&this.rem.length||t&lt&&this.mod.length},yt.reflow=function(e){if(e)return this.fork(dt).reflow();var t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(lt,O(this,st))),this},yt.modifies=function(e){var n=t.array(e),r=this.fields||(this.fields={});return n.forEach(function(e){r[e]=!0}),this},yt.modified=function(e){var n=this.fields;return!(!this.mod.length||!n)&&(arguments.length?t.isArray(e)?e.some(function(e){return n[e]}):n[e]:!!n)},yt.filter=function(e,t){var n=this;return e&st&&(n.addF=w(n.addF,t)),e&ut&&(n.remF=w(n.remF,t)),e&lt&&(n.modF=w(n.modF,t)),e&ht&&(n.srcF=w(n.srcF,t)),n},yt.materialize=function(e){e=e||dt;var t=this;return e&st&&t.addF&&(t.add=t.add.filter(t.addF),t.addF=null),e&ut&&t.remF&&(t.rem=t.rem.filter(t.remF),t.remF=null),e&lt&&t.modF&&(t.mod=t.mod.filter(t.modF),t.modF=null),e&ht&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},yt.visit=function(e,n){var r,i,a=n;return e&ht?(t.visitArray(this.source,this.srcF,a),this):(e&st&&t.visitArray(this.add,this.addF,a),e&ut&&t.visitArray(this.rem,this.remF,a),e&lt&&t.visitArray(this.mod,this.modF,a),e&pt&&(r=this.source)&&(i=this.add.length+this.mod.length,i===r.length||(i?t.visitArray(r,O(this,ft),a):t.visitArray(r,this.srcF,a))),this)};var vt={skip:!1,force:!1},bt=t.inherits(A,S);bt.fork=function(){return arguments.length&&arguments[0]&S.prototype.ALL&&t.error("MultiPulse fork does not support tuple change sets."),new S(this.dataflow).init(this,0)},bt.changed=function(e){return this.changes&e},bt.modified=function(e){var n=this,r=n.fields;return r&&n.changes&n.MOD?t.isArray(e)?e.some(function(e){return r[e]}):r[e]:0},bt.filter=function(){t.error("MultiPulse does not support filtering.")},bt.materialize=function(){t.error("MultiPulse does not support materialization.")},bt.visit=function(e,t){var n=this,r=n.pulses,i=r.length,a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n};var _t=L.prototype;_t.size=function(){return this.nodes.length},_t.clear=function(){return this.nodes=[],this},_t.peek=function(){return this.nodes[0]},
_t.push=function(e){var t=this.nodes;return t.push(e),j(t,0,t.length-1,this.cmp)},_t.pop=function(){var e,t=this.nodes,n=t.pop();return t.length?(e=t[0],t[0]=n,z(t,0,this.cmp)):e=n,e},_t.replace=function(e){var t=this.nodes,n=t[0];return t[0]=e,z(t,0,this.cmp),n},_t.pushpop=function(e){var t=this.nodes,n=t[0];return t.length&&this.cmp(n,e)<0&&(t[0]=e,e=n,z(t,0,this.cmp)),e};var xt=$.prototype;xt.stamp=function(){return this._clock},xt.loader=function(e){return arguments.length?(this._loader=e,this):this._loader},xt.cleanThreshold=1e4,xt.add=Ze,xt.connect=et,xt.rank=_,xt.rerank=x,xt.pulse=M,xt.touch=k,xt.update=E,xt.changeset=d,xt.ingest=T,xt.request=C,xt.events=rt,xt.on=at,xt.run=D,xt.runAsync=R,xt.runAfter=N,xt._enqueue=I,xt._getPulse=F,xt.warn=U("warn"),xt.info=U("info"),xt.debug=U("debug"),xt.logLevel=U("level"),xt.error=function(e){throw e};var St=t.inherits(B,h);St.run=function(e){if(e.stamp<=this.stamp)return e.StopPropagation;var t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t!==e.StopPropagation&&(this.pulse=t),this.stamp=e.stamp,t},St.evaluate=function(e){var t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},St.transform=function(){};var wt={},Ot={},kt=H.prototype;kt.add=function(e){this._add.push(e)},kt.rem=function(e){this._rem.push(e)},kt.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,n,r=this._add,i=this._rem,a=this._key,o=r.length,s=i.length,u=Array(o-s),l={};for(e=0;e<s;++e)l[i[e][a]]=1;for(e=0,t=0;e<o;++e)l[(n=r[e])[a]]?l[n[a]]=0:u[t++]=n;return this._rem=[],this._add=u},kt.distinct=function(e){for(var t,n=this.values(),r=n.length,i={},a=0;--r>=0;)t=e(n[r])+"",i.hasOwnProperty(t)||(i[t]=1,++a);return a},kt.extent=function(e){if(this._get!==e||!this._ext){var n=this.values(),r=t.extentIndex(n,e);this._ext=[n[r[0]],n[r[1]]],this._get=e}return this._ext},kt.argmin=function(e){return this.extent(e)[0]||{}},kt.argmax=function(e){return this.extent(e)[1]||{}},kt.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):+(1/0)},kt.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-(1/0)},kt.quartile=function(e){return this._get===e&&this._q||(this._q=r.quartiles(this.values(),e),this._get=e),this._q},kt.q1=function(e){return this.quartile(e)[0]},kt.q2=function(e){return this.quartile(e)[1]},kt.q3=function(e){return this.quartile(e)[2]},kt.ci=function(e){return this._get===e&&this._ci||(this._ci=r.bootstrapCI(this.values(),1e3,.05,e),this._get=e),this._ci},kt.ci0=function(e){return this.ci(e)[0]},kt.ci1=function(e){return this.ci(e)[1]};var Et={values:Y({name:"values",init:"cell.store = true;",set:"cell.data.values()",idx:-1}),count:Y({name:"count",set:"cell.num"}),missing:Y({name:"missing",set:"this.missing"}),valid:Y({name:"valid",set:"this.valid"}),sum:Y({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:Y({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:Y({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:Y({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:Y({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:Y({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:Y({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),stderr:Y({name:"stderr",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid * (this.valid-1))) : 0",req:["variance"],idx:2}),distinct:Y({name:"distinct",set:"cell.data.distinct(this.get)",req:["values"],idx:3}),ci0:Y({name:"ci0",set:"cell.data.ci0(this.get)",req:["values"],idx:3}),ci1:Y({name:"ci1",set:"cell.data.ci1(this.get)",req:["values"],idx:3}),median:Y({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:Y({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:Y({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),argmin:Y({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:Y({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:Y({name:"min",init:"this.min = null;",add:"if (v < this.min || this.min === null) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:Y({name:"max",init:"this.max = null;",add:"if (v > this.max || this.max === null) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4})},Mt=t.inherits(J,B);Mt.transform=function(e,t){var n,r=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS);return this.stamp=i.stamp,this.value&&((n=e.modified())||t.modified(this._inputs))?(this._prev=this.value,this.value=n?this.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(this.value=this.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),i.modifies(this._outputs),r._drop=e.drop!==!1,e.cross&&r._dims.length>1&&(r._drop=!1,this.cross()),r.changes(i)},Mt.cross=function(){function e(e){var t,n,r,s;for(t in e)for(r=e[t].tuple,n=0;n<o;++n)a[n][s=r[i[n]]]=s}function t(e,s,u){var l,c,f=i[u],d=a[u++];for(l in d)s[f]=d[l],c=e?e+"|"+l:l,u<o?t(c,s,u):r[c]||n.cell(c,s)}var n=this,r=n.value,i=n._dnames,a=i.map(function(){return{}}),o=i.length;e(n._prev),e(r),t("",{},0)},Mt.init=function(e){function n(e){for(var t,n=e.fields,i=0,o=n.length;i<o;++i)a[t=n[i]]||(a[t]=1,r.push(t))}var r=this._inputs=[],i=this._outputs=[],a={};this._dims=t.array(e.groupby),this._dnames=this._dims.map(function(e){var r=t.accessorName(e);return n(e),i.push(r),r}),this.cellkey=e.key?e.key:0===this._dims.length?function(){return""}:1===this._dims.length?this._dims[0]:ee,this._countOnly=!0,this._counts=[],this._measures=[];var o,s,u,l,c,f,d=e.fields||[null],p=e.ops||["count"],h=e.as||[],m=d.length,g={};for(m!==p.length&&t.error("Unmatched number of fields and aggregate ops."),f=0;f<m;++f)o=d[f],s=p[f],null==o&&"count"!==s&&t.error("Null aggregate field specified."),l=t.accessorName(o),c=Z(s,l,h[f]),i.push(c),"count"!==s?(u=g[l],u||(n(o),u=g[l]=[],u.field=o,this._measures.push(u)),"count"!==s&&(this._countOnly=!1),u.push(G(s,c))):this._counts.push(c);return this._measures=this._measures.map(function(e){return K(e,e.field)}),{}},Mt.cellkey=ee,Mt.cell=function(e,t){var n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},Mt.newcell=function(e,t){var n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){var r,i=this._measures,a=i.length;for(n.agg=Array(a),r=0;r<a;++r)n.agg[r]=new i[r](n,n.tuple)}return n.store&&(n.data=new H),n},Mt.newtuple=function(e,t){var n,r,i=this._dnames,a=this._dims,o={};for(n=0,r=a.length;n<r;++n)o[i[n]]=a[n](e);return t?c(t.tuple,o):s(o)},Mt.add=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num+=1,!this._countOnly)for(a.store&&a.data.add(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].add(t[n].get(e),e)},Mt.rem=function(e){var t,n,r,i=this.cellkey(e),a=this.cell(i,e);if(a.num-=1,!this._countOnly)for(a.store&&a.data.rem(e),t=a.agg,n=0,r=t.length;n<r;++n)t[n].rem(t[n].get(e),e)},Mt.celltuple=function(e){var t,n,r,i=e.tuple,a=this._counts;for(e.store&&e.data.values(),n=0,r=a.length;n<r;++n)i[a[n]]=e.num;if(!this._countOnly)for(t=e.agg,n=0,r=t.length;n<r;++n)t[n].set();return i},Mt.changes=function(e){var t,n,r,i,a=this._adds,o=this._mods,s=this._prev,u=this._drop,l=e.add,c=e.rem,f=e.mod;if(s)for(n in s)c.push(s[n].tuple);for(r=0,i=this._alen;r<i;++r)l.push(this.celltuple(a[r])),a[r]=null;for(r=0,i=this._mlen;r<i;++r)t=o[r],(0===t.num&&u?c:f).push(this.celltuple(t)),o[r]=null;return this._alen=this._mlen=0,this._prev=null,e};var Tt=t.inherits(te,B);Tt.transform=function(e,n){var r,i=this._bins(e),a=i.start,o=i.step,s=e.as||["bin0","bin1"],u=s[0],l=s[1];return e.modified()?(n=n.reflow(!0),r=n.SOURCE):r=n.modified(t.accessorFields(e.field))?n.ADD_MOD:n.ADD,n.visit(r,function(e){var t=i(e);e[u]=t,e[l]=null==t?null:a+o*(1+(t-a)/o)}),n.modifies(s)},Tt._bins=function(e){if(this.value&&!e.modified())return this.value;var n,i,a=e.field,o=r.bin(e),s=o.start,u=o.stop,l=o.step;null!=(n=e.anchor)&&(i=n-(s+l*Math.floor((n-s)/l)),s+=i,u+=i);var c=function(e){var t=a(e);return null==t?null:(t=Math.max(s,Math.min(+t,u-l)),s+l*Math.floor((t-s)/l))};return c.start=s,c.stop=u,c.step=l,this.value=t.accessor(c,t.accessorFields(a),e.name||"bin_"+t.accessorName(a))};var Pt=t.inherits(ne,B);Pt.transform=function(e,n){var r,i=n.fork(n.ALL),a=n.changed(n.ADD),o=n.changed(),s=e.sort,u=this.value;return i.rem.length&&(r={},i.visit(i.REM,function(e){r[e._id]=1}),u=u.filter(function(e){return!r[e._id]})),s?((e.modified("sort")||n.modified(s.fields))&&(u.sort(s),o=!0),a&&(u=t.merge(s,u,i.add.sort(s)))):a&&i.visit(i.ADD,function(e){u.push(e)}),this.modified(o),this.value=i.source=u,i},t.inherits(re,h);var Ct=t.inherits(ae,B);Ct.transform=function(e,t){function n(t){return function(n){for(var r,i=oe(s(n),e.case,a)||[],u=0,l=i.length;u<l;++u)o.test(r=i[u])||t(r)}}var r=this._parameterCheck(e,t),i=this._counts,a=this._match,o=this._stop,s=e.field,u=e.as||["text","count"],l=n(function(e){i[e]=1+(i[e]||0)}),c=n(function(e){i[e]-=1});return r?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,c)),this._finish(t,u)},Ct._parameterCheck=function(e,t){var n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},Ct._finish=function(e,t){var n,r,i,a=this._counts,o=this._tuples||(this._tuples={}),u=t[0],l=t[1],c=e.fork();for(n in a)r=o[n],i=a[n]||0,!r&&i?(o[n]=r=s({}),r[u]=n,r[l]=i,c.add.push(r)):0===i?(r&&c.rem.push(r),a[n]=null,o[n]=null):r[l]!==i&&(r[l]=i,c.mod.push(r));return c.modifies(t)};var At=t.inherits(se,B);At.transform=function(e,n){var r=n.fork(n.NO_SOURCE),i=this.value,a=e.as||["a","b"],o=a[0],s=a[1],u=!i||n.changed(n.ADD_REM)||e.modified("as")||e.modified("filter");return u?(i&&(r.rem=i),r.add=this.value=ue(n.source,o,s,e.filter||t.truthy)):r.mod=i,r.source=this.value,r.modifies(a)};var Dt={kde:r.randomKDE,mixture:r.randomMixture,normal:r.randomNormal,uniform:r.randomUniform},Rt="distributions",Nt="function",It="field",Ft=t.inherits(ce,B);Ft.transform=function(e,n){var r=n.fork(n.NO_SOURCE|n.NO_FIELDS);if(!this.value||n.changed()||e.modified()){var a=le(e.distribution,fe(n)),o=e.method||"pdf";"pdf"!==o&&"cdf"!==o&&t.error("Invalid density method: "+o),e.extent||a.data||t.error("Missing density extent parameter."),o=a[o];var u=e.as||["value","density"],l=e.extent||i.extent(a.data()),c=(l[1]-l[0])/(e.steps||100),f=i.range(l[0],l[1]+c/2,c).map(function(e){var t={};return t[u[0]]=e,t[u[1]]=o(e),s(t)});this.value&&(r.rem=this.value),this.value=r.add=r.source=f}return r};var Lt=t.inherits(de,B);Lt.transform=function(e,t){var n,r=this.value,i=e.field,a=r[0],o=r[1],s=t.ADD;n=t.changed()||t.modified(i.fields)||e.modified("field"),n&&(s=t.SOURCE,a=+(1/0),o=-(1/0)),t.visit(s,function(e){var t=i(e);t<a&&(a=t),t>o&&(o=t)}),this.value=[a,o]};var jt=t.inherits(pe,h);jt.connect=function(e){return this.targets().add(e),e.source=this},jt.add=function(e){this.value.add.push(e)},jt.rem=function(e){this.value.rem.push(e)},jt.mod=function(e){this.value.mod.push(e)},jt.init=function(e){this.value.init(e,e.NO_SOURCE)},jt.evaluate=function(){return this.value};var zt=t.inherits(he,B);zt.activate=function(e){this._targets[this._targets.active++]=e},zt.subflow=function(e,t,n,r){var i,a,o=this.value,s=o.hasOwnProperty(e)&&o[e];return s?s.value.stamp<n.stamp&&(s.init(n),this.activate(s)):(a=r||(a=this._group[e])&&a.tuple,i=n.dataflow,s=i.add(new pe(n.fork(n.NO_SOURCE),this)).connect(t(i,e,a)),o[e]=s,this.activate(s)),s},zt.transform=function(e,t){function n(e){return i.subflow(e,o,t)}var r=t.dataflow,i=this,a=e.key,o=e.subflow,s=this._keys,u=e.modified("key");return this._group=e.group||{},this._targets.active=0,t.visit(t.REM,function(e){var t=s.get(e._id);void 0!==t&&(s.delete(e._id),n(t).rem(e))}),t.visit(t.ADD,function(e){var t=a(e);s.set(e._id,t),n(t).add(e)}),u||t.modified(a.fields)?t.visit(t.MOD,function(e){var t=s.get(e._id),r=a(e);t===r?n(r).mod(e):(s.set(e._id,r),n(t).rem(e),n(r).add(e))}):t.changed(t.MOD)&&t.visit(t.MOD,function(e){n(s.get(e._id)).mod(e)}),u&&t.visit(t.REFLOW,function(e){var t=s.get(e._id),r=a(e);t!==r&&(s.set(e._id,r),n(t).rem(e),n(r).add(e))}),s.empty>r.cleanThreshold&&r.runAfter(s.clean),t},t.inherits(me,h);var $t=t.inherits(ye,B);$t.transform=function(e,t){function n(t){var n=l(t,e),r=i.get(t._id);n&&r?(i.delete(t._id),o.push(t)):n||r?c&&n&&!r&&u.push(t):(i.set(t._id,1),s.push(t))}var r=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,u=a.mod,l=e.expr,c=!0;return t.visit(t.REM,function(e){i.has(e._id)?i.delete(e._id):s.push(e)}),t.visit(t.ADD,function(t){l(t,e)?o.push(t):i.set(t._id,1)}),t.visit(t.MOD,n),e.modified()&&(c=!1,t.visit(t.REFLOW,n)),i.empty>r.cleanThreshold&&r.runAfter(i.clean),a};var Ut=t.inherits(ve,B);Ut.transform=function(e,t){function n(e){for(var t,n=a[e._id]=Array(h),r=0;r<h;++r)t=n[r]=u(e),t[f]=p[r],t[d]=s[r](e),g.add.push(t)}function r(e){for(var t,n=a[e._id],r=0;r<h;++r)v&1<<r&&(t=l(e,n[r],m),t[f]=p[r],t[d]=s[r](e),g.mod.push(t))}var i,a=this.value,o=e.modified("fields"),s=e.fields,c=e.as||["key","value"],f=c[0],d=c[1],p=s.map(be),h=s.length,m=t.stamp,g=t.fork(t.NO_SOURCE),y=0,v=0;if(o){for(i in a)g.rem.push.apply(g.rem,a[i]);a=this.value={},t.visit(t.SOURCE,n)}else{for(t.visit(t.ADD,n);y<h;++y)t.modified(s[y].fields)&&(v|=1<<y);v&&t.visit(t.MOD,r),t.visit(t.REM,function(e){g.rem.push.apply(g.rem,a[e._id]),a[e._id]=null})}return g.modifies(c)};var Bt=t.inherits(_e,B);Bt.transform=function(e,t){function n(t){t[i]=r(t,e)}var r=e.expr,i=e.as,a=e.modified(),o=e.initonly?t.ADD:a?t.SOURCE:t.modified(r.fields)?t.ADD_MOD:t.ADD;return a&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(o,n)};var qt=t.inherits(xe,B);qt.transform=function(e,t){var n,r,i,a=this.value,o=t.fork(t.ALL),u=e.size-a.length,l=e.generator;if(u>0){for(n=[];--u>=0;)n.push(i=s(l(e))),a.push(i);o.add=o.add.length?o.materialize(o.ADD).add.concat(n):n}else r=a.slice(0,-u),o.rem=o.rem.length?o.materialize(o.REM).rem.concat(r):r,a=a.slice(-u);return o.source=this.value=a,o};var Wt={value:"value",median:i.median,mean:i.mean,min:i.min,max:i.max},Vt=[],Ht=t.inherits(Se,B);Ht.transform=function(e,n){var r,i,a,o,u,l,c,f,d,p,h=n.fork(n.ALL),m=we(e),g=Oe(e),y=t.accessorName(e.field),v=t.accessorName(e.key),b=(e.groupby||[]).map(t.accessorName),_=ke(n.source,e.groupby,e.key,e.keyvals),x=[],S=this.value,w=_.domain.length;for(u=0,f=_.length;u<f;++u)for(r=_[u],a=r.values,i=NaN,c=0;c<w;++c)if(null==r[c]){for(o=_.domain[c],p={_impute:!0},l=0,d=a.length;l<d;++l)p[b[l]]=a[l];p[v]=o,p[y]=isNaN(i)?i=m(r,g):i,x.push(s(p))}return x.length&&(h.add=h.materialize(h.ADD).add.concat(x)),S.length&&(h.rem=h.materialize(h.REM).rem.concat(S)),this.value=x,h};var Gt=t.inherits(Ee,J);Gt.transform=function(e,t){var n,r=this,i=e.modified();return r.value&&(i||t.modified(r._inputs))?(n=r.value=i?r.init(e):{},t.visit(t.SOURCE,function(e){r.add(e)})):(n=r.value=r.value||this.init(e),t.visit(t.REM,function(e){r.rem(e)}),t.visit(t.ADD,function(e){r.add(e)})),r.changes(),t.visit(t.SOURCE,function(e){l(n[r.cellkey(e)].tuple,e)}),t.reflow(i).modifies(this._outputs)},Gt.changes=function(){var e,t,n=this._adds,r=this._mods;for(e=0,t=this._alen;e<t;++e)this.celltuple(n[e]),n[e]=null;for(e=0,t=this._mlen;e<t;++e)this.celltuple(r[e]),r[e]=null;this._alen=this._mlen=0},t.inherits(Me,h);var Yt=t.inherits(Pe,B);Yt.transform=function(e,n){var r,i,a,o=n,s=e.as,u=e.fields,l=e.index,c=e.values,f=null==e.default?null:e.default,d=e.modified(),p=d?n.SOURCE:n.ADD,h=u.length;return c?(i=c.length,h>1&&!s&&t.error('Multi-field lookup requires explicit "as" parameter.'),s&&s.length!==h*i&&t.error('The "as" parameter has too few output field names.'),s=s||c.map(t.accessorName),r=function(e){for(var t,n,r=0,a=0;r<h;++r)if(n=l.get(u[r](e)),null==n)for(t=0;t<i;++t,++a)e[s[a]]=f;else for(t=0;t<i;++t,++a)e[s[a]]=c[t](n)}):(s||t.error("Missing output field names."),r=function(e){for(var t,n=0;n<h;++n)t=l.get(u[n](e)),e[s[n]]=null==t?f:t}),d?o=n.reflow(!0):(a=u.some(function(e){return n.modified(e.fields)}),p|=a?n.MOD:0),n.visit(p,r),o.modifies(s)},t.inherits(Ce,h),t.inherits(De,h),t.inherits(Ne,B),Ne.prototype.transform=function(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)};var Xt=t.inherits(Ie,he);Xt.transform=function(e,n){var r=this,i=e.subflow,a=e.field;return(e.modified("field")||a&&n.modified(t.accessorFields(a)))&&t.error("PreFacet does not support field modification."),this._targets.active=0,n.visit(n.MOD,function(e){var t=r.subflow(e._id,i,n,e);a?a(e).forEach(function(e){t.mod(e)}):t.mod(e)}),n.visit(n.ADD,function(e){var t=r.subflow(e._id,i,n,e);a?a(e).forEach(function(e){t.add(s(e))}):t.add(e)}),n.visit(n.REM,function(e){var t=r.subflow(e._id,i,n,e);a?a(e).forEach(function(e){t.rem(e)}):t.rem(e)}),n};var Qt=t.inherits(Fe,B);Qt.transform=function(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var Kt=t.inherits(Le,B);Kt.transform=function(e,n){n.source||t.error("Rank transform requires an upstream data source.");var r,i=e.normalize,a=e.field,o=e.as||"rank",s={},u=-1;return a?(n.visit(n.SOURCE,function(e){var t=a(e);null==s[t]&&(s[t]=++u)}),n.visit(n.SOURCE,i&&--u?function(e){e[o]=s[a(e)]/u}:function(e){e[o]=s[a(e)]})):(u+=n.source.length,r=-1,n.visit(n.SOURCE,i&&u?function(e){e[o]=++r/u}:function(e){e[o]=++r})),n.reflow(e.modified()).modifies(o)};var Jt=t.inherits(je,B);Jt.transform=function(e,t){var n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(),t.visit(t.ADD,function(e){var t=u(e);r[e._id]=t,n.add.push(t)}),t.visit(t.MOD,function(e){n.mod.push(l(e,r[e._id]))}),t.visit(t.REM,function(e){n.rem.push(r[e._id]),r[e._id]=null})),n};var Zt=t.inherits(ze,B);Zt.transform=function(e,t){function n(e){var t,n;o.length<a?o.push(e):(n=~~(s*Math.random()),n<o.length&&n>=u&&(t=o[n],l[t._id]&&r.rem.push(t),o[n]=e)),++s}var r=t.fork(),i=e.modified("size"),a=e.size,o=this.value,s=this.count,u=0,l=o.reduce(function(e,t){return e[t._id]=1,e},{});if(t.rem.length&&(t.visit(t.REM,function(e){l[e._id]&&(l[e._id]=-1,r.rem.push(e)),--s}),o=o.filter(function(e){return l[e._id]!==-1})),(t.rem.length||i)&&o.length<a&&t.source&&(u=s=o.length,t.visit(t.SOURCE,function(e){l[e._id]||n(e)}),u=-1),i&&o.length>a){for(var c=0,f=o.length-a;c<f;++c)l[o[c]._id]=-1,r.rem.push(o[c]);o=o.slice(f)}return t.mod.length&&t.visit(t.MOD,function(e){l[e._id]&&r.mod.push(e)}),t.add.length&&t.visit(t.ADD,n),(t.add.length||u<0)&&(r.add=o.filter(function(e){return!l[e._id]})),this.count=s,this.value=r.source=o,r};var en=t.inherits($e,B);en.transform=function(e,t){if(!this.value||e.modified()){var n=t.materialize().fork(t.MOD);return n.rem=this.value?t.rem.concat(this.value):t.rem,n.source=this.value=i.range(e.start,e.stop,e.step||1).map(s),n.add=t.add.concat(this.value),n}};var tn=t.inherits(Ue,B);tn.transform=function(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation};var nn=t.inherits(Be,B);nn.transform=function(e,t){function n(e){a.set(i(e),e)}var r=t.dataflow,i=e.field,a=this.value,o=!0;return e.modified("field")||t.modified(i.fields)?(a.clear(),t.visit(t.SOURCE,n)):t.changed()?(t.visit(t.REM,function(e){a.delete(i(e))}),t.visit(t.ADD,n)):o=!1,this.modified(o),a.empty>r.cleanThreshold&&r.runAfter(a.clean),t.fork()};var rn=t.inherits(qe,B);rn.transform=function(e,t){var n=!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields);n&&(this.value=(e.sort?t.source.slice().sort(e.sort):t.source).map(e.field))};var an={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:["count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","stderr","median","q1","q3","ci0","ci1","min","max","argmin","argmax"]},{name:"as",type:"string",array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},on={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},sn={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},un={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},ln={type:"Cross",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},cn=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],fn={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:cn},{name:"weights",type:"number",array:!0}]},dn={type:"Density",metadata:{generates:!0,source:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number",default:100},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:cn.concat(fn)},{name:"as",type:"string",array:!0,default:["value","density"]}]},pn={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},hn={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},mn={type:"Fold",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},gn={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},yn={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},vn={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:["count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","stderr","median","q1","q3","ci0","ci1","min","max","argmin","argmax"]},{name:"as",type:"string",array:!0},{name:"key",type:"field"}]},bn={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},_n={type:"Rank",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"normalize",type:"boolean",default:!1},{name:"as",type:"string",default:"rank"}]},xn={type:"Sample",metadata:{source:!0,changes:!0},params:[{name:"size",type:"number",default:1e3}]},Sn={type:"Sequence",metadata:{generates:!0,source:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1}],output:["value"]};q(an,J),q(on,te),q(sn,ne),q(un,ae),q(ln,se),q(dn,ce),q(pn,de),q(hn,ye),q(mn,ve),q(gn,_e),q(yn,Se),q(vn,Ee),q(bn,Pe),q(_n,Le),q(xn,ze),q(Sn,$e),V("Compare",re),V("Facet",he),V("Field",me),V("Generate",xe),V("Key",Me),V("MultiExtent",Ce),V("MultiValues",De),V("Params",Ne),V("PreFacet",Ie),V("Proxy",Fe),V("Relay",je),V("Sieve",Ue),V("Subflow",pe),V("TupleIndex",Be),V("Values",qe),e.UniqueList=a,e.changeset=d,e.isChangeSet=f,e.Dataflow=$,e.EventStream=g,e.Parameters=p,e.Pulse=S,e.MultiPulse=A,e.Operator=h,e.Transform=B,e.ingest=s,e.tupleid=o,e.definition=W,e.definitions=Ot,e.register=q,e.transform=V,e.transforms=wt,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e){return function(t,n,r,i){var a=e(t.value,n.value);return a>0?t:a<0?n:o(t,n,r,i)}}function o(e,t,n,r){return e.explicit&&t.explicit&&l.warn(l.message.mergeConflictingProperty(n,r,e.value,t.value)),e}function s(e,t,n,r,i){return void 0===i&&(i=o),void 0===e||void 0===e.value?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:e.value===t.value?e:i(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=n(8),c=n(2),f=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.clone=function(){return new e(c.duplicate(this.explicit),c.duplicate(this.implicit))},e.prototype.combine=function(e){var t=this;void 0===e&&(e=[]);var n=e.reduce(function(e,n){var r=t.get(n);return r&&(e[n]=r),e},{});return u.__assign({},n,this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return this[n?"explicit":"implicit"][e]=t,n&&delete this.implicit[e],this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1)},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e.prototype.extend=function(t,n){return new e(n?u.__assign({},this.explicit,t):this.explicit,n?this.implicit:u.__assign({},this.implicit,t))},e}();t.Split=f,t.makeExplicit=r,t.makeImplicit=i,t.tieBreakByComparing=a,t.defaultTieBreaker=o,t.mergeValuesWithExplicit=s},function(e,t,n){"use strict";var r=n(14),i=n(199);if("undefined"==typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,a)},function(e,t){"use strict";function n(e,t,n){return n?[e,t]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a];s?this[a]=s(n):"target"===a?this.target=r:this[a]=n[a]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=o.thatReturnsTrue:this.isDefaultPrevented=o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse,this}var i=n(20),a=n(53),o=n(34),s=(n(9),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=o.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=o.thatReturnsTrue)},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var o=new r;i(o,e.prototype),e.prototype=o,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,a.addPoolingTo(e,a.fourArgumentPooler)},a.addPoolingTo(r,a.fourArgumentPooler),e.exports=r},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=o("color",e,{vgChannel:n?"fill":"stroke",defaultValue:v.getMarkConfig("color",e.mark(),t)});return!r.fill&&y.contains(["bar","point","circle","square"],e.mark())&&(r.fill={value:"transparent"}),r}function i(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]={value:e[n]}),t},{})}function a(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function o(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return s(t,o,i||e,function(n){return _.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),a)})}function s(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=r(i);return s={},s[n]=[h.__assign({test:b.predicate(e,i.selection)},o)].concat(void 0!==a?[a]:[]),s}return void 0!==a?(u={},u[n]=a,u):{};var s,u}function u(e,t){void 0===t&&(t="text");var n=e.encoding[t];return s(e,n,t,function(t){return _.text(t,e.config)})}function l(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var s=(u={},u[t+"c"]=_.fieldRef(e,r,{},{band:.5}),u);if(m.getFieldDef(n.encoding.size))g.warn(g.message.cannotUseSizeFieldWithBandSize(t));else if(m.isValueDef(n.encoding.size))return h.__assign({},s,o("size",n,{vgChannel:i}))}else g.warn(g.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return l={},l[t]=_.fieldRef(e,r,{}),l[i]=_.band(r),l;var u,l}function c(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return h.__assign({},d(e,t,n,i),o("size",t,{defaultRef:r,vgChannel:a}))}function f(e,t,n,r){return"x"===t?{x2:_.bin(e,n,"start",r),x:_.bin(e,n,"end")}:{y2:_.bin(e,n,"start"),y:_.bin(e,n,"end",r)}}function d(e,t,n,r){var i=t.encoding,a=t.stack,o=_.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function p(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;
n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=_.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return u={},u[n]=s,u;var u}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(12),g=n(11),y=n(3),v=n(21),b=n(27),_=n(74);t.color=r,t.markDefProperties=i,t.valueIfDefined=a,t.nonPosition=o,t.text=u,t.bandPosition=l,t.centeredBandPosition=c,t.binnedPosition=f,t.pointPosition=d,t.pointPosition2=p},function(e,t,n){"use strict";function r(e){var t=e.config,n=e.markDef.filled,r=o("color",e,{vgChannel:n?"fill":"stroke",defaultValue:v.getMarkConfig("color",e.markDef,t)});return!r.fill&&y.contains(["bar","point","circle","square"],e.mark())&&(r.fill={value:"transparent"}),r}function i(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]={value:e[n]}),t},{})}function a(e,t){if(void 0!==t)return n={},n[e]={value:t},n;return;var n}function o(e,t,n){void 0===n&&(n={});var r=n.defaultValue,i=n.vgChannel,a=n.defaultRef||(void 0!==r?{value:r}:void 0),o=t.encoding[e];return s(t,o,i||e,function(n){return _.midPoint(e,n,t.scaleName(e),t.getScaleComponent(e),a)})}function s(e,t,n,r){var i=t&&t.condition,a=r(t);if(i){var o=r(i);return s={},s[n]=[h.__assign({test:b.predicate(e,i.selection)},o)].concat(void 0!==a?[a]:[]),s}return void 0!==a?(u={},u[n]=a,u):{};var s,u}function u(e,t){void 0===t&&(t="text");var n=e.encoding[t];return s(e,n,t,function(t){return _.text(t,e.config)})}function l(e,t,n){var r=n.scaleName(t),i="x"===t?"width":"height";if(n.encoding.size){var a=n.markDef.orient;if(a){var s=(u={},u[t+"c"]=_.fieldRef(e,r,{},{band:.5}),u);if(m.getFieldDef(n.encoding.size))g.warn(g.message.cannotUseSizeFieldWithBandSize(t));else if(m.isValueDef(n.encoding.size))return h.__assign({},s,o("size",n,{vgChannel:i}))}else g.warn(g.message.cannotApplySizeToNonOrientedMark(n.markDef.type))}return l={},l[t]=_.fieldRef(e,r,{}),l[i]=_.band(r),l;var u,l}function c(e,t,n,r){var i="x"===e?"xc":"yc",a="x"===e?"width":"height";return h.__assign({},d(e,t,n,i),o("size",t,{defaultRef:r,vgChannel:a}))}function f(e,t,n,r){return"x"===t?{x2:_.bin(e,n,"start",r),x:_.bin(e,n,"end")}:{y2:_.bin(e,n,"start"),y:_.bin(e,n,"end",r)}}function d(e,t,n,r){var i=t.encoding,a=t.stack,o=_.stackable(e,i[e],t.scaleName(e),t.getScaleComponent(e),a,n);return s={},s[r||e]=o,s;var s}function p(e,t,n){var r=e.encoding,i=e.markDef,a=e.stack;n=n||("horizontal"===i.orient?"x2":"y2");var o="x2"===n?"x":"y",s=_.stackable2(n,r[o],r[n],e.scaleName(o),e.getScaleComponent(o),a,t);return u={},u[n]=s,u;var u}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(16),g=n(8),y=n(2),v=n(18),b=n(29),_=n(78);t.color=r,t.markDefProperties=i,t.valueIfDefined=a,t.nonPosition=o,t.text=u,t.bandPosition=l,t.centeredBandPosition=c,t.binnedPosition=f,t.pointPosition=d,t.pointPosition2=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createPath=t.parsePath=t.getQueryStringValueFromPath=t.stripQueryStringValueFromPath=t.addQueryStringValueToPath=void 0;var i=n(52),a=(r(i),t.addQueryStringValueToPath=function(e,t,n){var r=o(e),i=r.pathname,a=r.search,u=r.hash;return s({pathname:i,search:a+(a.indexOf("?")===-1?"?":"&")+t+"="+n,hash:u})},t.stripQueryStringValueFromPath=function(e,t){var n=o(e),r=n.pathname,i=n.search,a=n.hash;return s({pathname:r,search:i.replace(new RegExp("([?&])"+t+"=[a-zA-Z0-9]+(&?)"),function(e,t,n){return"?"===t?t:n}),hash:a})},t.getQueryStringValueFromPath=function(e,t){var n=o(e),r=n.search,i=r.match(new RegExp("[?&]"+t+"=([a-zA-Z0-9]+)"));return i&&i[1]},function(e){var t=e.match(/^(https?:)?\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}),o=t.parsePath=function(e){var t=a(e),n="",r="",i=t.indexOf("#");i!==-1&&(r=t.substring(i),t=t.substring(0,i));var o=t.indexOf("?");return o!==-1&&(n=t.substring(o),t=t.substring(0,o)),""===t&&(t="/"),{pathname:t,search:n,hash:r}},s=t.createPath=function(e){if(null==e||"string"==typeof e)return e;var t=e.basename,n=e.pathname,r=e.search,i=e.hash,a=(t||"")+n;return r&&"?"!==r&&(a+=r),i&&(a+=i),a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||d.default.isValidElement(e)}function a(e){return i(e)||Array.isArray(e)&&e.every(i)}function o(e,t){return c({},e,t)}function s(e){var t=e.type,n=o(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return d.default.Children.forEach(e,function(e){if(d.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function l(e){return a(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=a,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=u,t.createRoutes=l;var f=n(14),d=r(f)},function(e,t,n){"use strict";var r=function(){};e.exports=r},[684,10],function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return l.hasOwnProperty(e)}function n(e,t,n,r,i){for(var a,o=0,s=e.length;t<s;++t){if(a=e[t],!o&&a===n)return t;i&&i.indexOf(a)>=0?--o:r&&r.indexOf(a)>=0&&++o}return t}function r(e){for(var t=[],r=0,i=e.length,a=0;a<i;)a=n(e,a,y,d+h,p+m),t.push(e.substring(r,a).trim()),r=++a;if(0===t.length)throw"Empty event selector: "+e;return t}function i(e){return"["===e[0]?a(e):o(e)}function a(e){var t,a,o=e.length,s=1;if(s=n(e,s,p,d,p),s===o)throw"Empty between selector: "+e;if(t=r(e.substring(1,s)),2!==t.length)throw"Between selector must have two elements: "+e;if(e=e.slice(s+1).trim(),e[0]!==b)throw"Expected '>' after between selector: "+e;return t=t.map(i),a=i(e.slice(1).trim()),a.between?{between:t,stream:a}:(a.between=t,a)}function o(e){var r,i,a={source:u},o=[],l=[0,0],c=0,f=0,y=e.length,b=0;if(e[y-1]===m){if(b=e.lastIndexOf(h),!(b>=0))throw"Unmatched right brace: "+e;try{l=s(e.substring(b+1,y-1))}catch(x){throw"Invalid throttle specification: "+e}e=e.slice(0,b).trim(),y=e.length,b=0}if(!y)throw e;if(e[0]===v&&(c=++b),r=n(e,b,g),r<y&&(o.push(e.substring(f,r).trim()),f=b=++r),b=n(e,b,d),b===y)o.push(e.substring(f,y).trim());else if(o.push(e.substring(f,b).trim()),i=[],f=++b,f===y)throw"Unmatched left bracket: "+e;for(;b<y;){if(b=n(e,b,p),b===y)throw"Unmatched left bracket: "+e;if(i.push(e.substring(f,b).trim()),b<y-1&&e[++b]!==d)throw"Expected left bracket: "+e;f=++b}if(!(y=o.length)||_.test(o[y-1]))throw"Invalid event selector: "+e;return y>1?(a.type=o[1],c?a.markname=o[0].slice(1):t(o[0])?a.marktype=o[0]:a.source=o[0]):a.type=o[0],"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1)),null!=i&&(a.filter=i),l[0]&&(a.throttle=l[0]),l[1]&&(a.debounce=l[1]),a}function s(e){var t=e.split(y);if(!e.length||t.length>2)throw e;return t.map(function(t){var n=+t;if(n!==n)throw e;return n})}var u,l,c=function(e,t,n){return u=t||f,l=n||x,r(e.trim()).map(i)},f="view",d="[",p="]",h="{",m="}",g=":",y=",",v="@",b=">",_=/[[\]{}]/,x={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};e.selector=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(6),a=n(38),o=n(12),s=n(3),u=n(276),l=n(597),c=n(278),f=n(608),d=n(611),p=n(92),h=n(30),m=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=m;var g=function(){function e(e,t,n,i,a){var o=this;this.resolve=a,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=o.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=o.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=i,this.name=e.name||n,this.scaleNameMap=t?t.scaleNameMap:new m,this.sizeNameMap=t?t.sizeNameMap:new m,this.data=e.data,this.description=e.description,this.transforms=e.transform||[],this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?r.__assign({},t.component.data.ancestorParse):{}},mark:null,scales:null,axes:{x:null,y:null},layoutSize:new p.Split,layoutHeaders:{row:{},column:{}},legends:null,selection:null}}return Object.defineProperty(e.prototype,"width",{get:function(){var e=this.component.layoutSize.get("width");if(void 0!==e)return e;throw new Error("calling model.width before parseLayoutSize()")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.component.layoutSize.get("height");if(void 0!==e)return e;throw new Error("calling model.height before parseLayoutSize()")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseMarkDef(),this.parseLayoutSize(),this.parseData(),this.parseSelection(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){d.parseScale(this)},e.prototype.parseLayoutSize=function(){l.parseLayoutSize(this)},e.prototype.parseMarkDef=function(){c.parseMarkDef(this)},e.prototype.assembleScales=function(){return f.assembleScale(this)},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=u.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(u.getTitleGroup(this,i))}for(var a=0,o=u.HEADER_CHANNELS;a<o.length;a++)for(var i=o[a],s=e[i],l=0,c=u.HEADER_TYPES;l<c.length;l++){var f=c[l];if(s[f])for(var d=0,p=s[f];d<p.length;d++){var h=p[d],m=u.getHeaderGroup(this,i,f,s,h);m&&t.push(m)}}return t},e.prototype.assembleAxes=function(){var e=this.component.axes,t=e.x,n=e.y;return(t?t.axes.concat(t.gridAxes):[]).concat(n?n.axes.concat(n.gridAxes):[])},e.prototype.assembleLegends=function(){return s.vals(this.component.legends)},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=this.assembleScales();r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var r=n[t];if(r instanceof h.UnitModel){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return s.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){return{signal:this.getName(e)}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.renameSize=function(e,t){this.sizeNameMap.rename(e,t)},e.prototype.channelSizeName=function(e){return this.sizeName(e===i.X||e===i.COLUMN?"width":"height")},e.prototype.sizeName=function(e){return this.sizeNameMap.get(this.getName(e))},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):i.isChannel(e)&&i.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e){return this.component.selection[e]||this.parent.getSelectionComponent(e)},e}();t.Model=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);return n.bin&&(t=s.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),o.field(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return a.reduce(this.getMapping(),function(t,n,r){var i=o.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){a.forEach(this.getMapping(),function(t,n){var r=o.getFieldDef(t);r&&e(r,n)},t)},t}(g);t.ModelWithField=y},[723,11,3],function(e,t,n){"use strict";function r(e){return!!g[e]}function i(e,n){var r=new Date(0,0,1,0,0,0,0);return t.SINGLE_TIMEUNITS.forEach(function(t){if(o(e,t))switch(t){case d.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case d.YEAR:r.setFullYear(n.getFullYear());break;case d.QUARTER:r.setMonth(3*Math.floor(n.getMonth()/3));break;case d.MONTH:r.setMonth(n.getMonth());break;case d.DATE:r.setDate(n.getDate());break;case d.HOURS:r.setHours(n.getHours());break;case d.MINUTES:r.setMinutes(n.getMinutes());break;case d.SECONDS:r.setSeconds(n.getSeconds());break;case d.MILLISECONDS:r.setMilliseconds(n.getMilliseconds())}}),r}function a(e){return!!y[e]}function o(e,t){var n=e.indexOf(t);return n>-1&&(t!==d.SECONDS||0===n||"i"!==e.charAt(n-1))}function s(e,n){function r(e){return e===d.QUARTER?"("+a+"quarter("+i+")-1)":""+a+e+"("+i+")"}var i="datum["+m.stringValue(n)+"]",a=f(e)?"utc":"",s=t.SINGLE_TIMEUNITS.reduce(function(t,n){return o(e,n)&&(t[n]=r(n)),t},{});return s.day&&m.keys(s).length>1&&(h.warn(h.message.dayReplacedWithDate(e)),delete s.day,s.date=r(d.DATE)),p.dateTimeExpr(s)}function u(e){if(e)return o(e,d.SECONDS)?"second":o(e,d.MINUTES)?"minute":o(e,d.HOURS)?"hour":o(e,d.DAY)||o(e,d.DATE)?"day":o(e,d.MONTH)?"month":o(e,d.YEAR)?"year":void 0}function l(e,t,n,r){if(e){var i=[],a="",s=o(e,d.YEAR);o(e,d.QUARTER)&&(a="'Q' + quarter("+t+")"),o(e,d.MONTH)&&i.push(n!==!1?"%b":"%B"),o(e,d.DAY)?i.push(n?"%a":"%A"):o(e,d.DATE)&&i.push("%d"+(s?",":"")),s&&i.push(n?"%y":"%Y");var u=[];o(e,d.HOURS)&&u.push("%H"),o(e,d.MINUTES)&&u.push("%M"),o(e,d.SECONDS)&&u.push("%S"),o(e,d.MILLISECONDS)&&u.push("%L");var l=[];return i.length>0&&l.push(i.join(" ")),u.length>0&&l.push(u.join(":")),l.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+l.join(" ")+"')":"timeFormat("+t+", '"+l.join(" ")+"')"),a||void 0}}function c(e){switch(e){case"hours":case"day":case"month":case"quarter":return!0}return!1}function f(e){return"utc"===e.substr(0,3)}Object.defineProperty(t,"__esModule",{value:!0});var d,p=n(56),h=n(11),m=n(3);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(d=t.TimeUnit||(t.TimeUnit={})),t.SINGLE_TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS];var g=t.SINGLE_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isSingleTimeUnit=r,t.convert=i,t.MULTI_TIMEUNITS=[d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS];var y=t.MULTI_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isMultiTimeUnit=a,t.TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS,d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS],t.containsTimeUnit=o,t.fieldExpr=s,t.smallestUnit=u,t.formatExpression=l,t.isDiscreteByDefault=c},[729,3],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(32),o=n(16),s=n(2),u=n(635),l=n(297),c=n(640),f=n(641),d=n(299),p=n(653),h=n(656),m=n(43),g=n(31),y=function(){function e(){this.nameMap={}}return e.prototype.rename=function(e,t){this.nameMap[e]=t},e.prototype.has=function(e){return void 0!==this.nameMap[e]},e.prototype.get=function(e){for(;this.nameMap[e];)e=this.nameMap[e];return e},e}();t.NameMap=y;var v=function(){function e(e,t,n,i,a){var o=this;this.resolve=a,this.children=[],this.correctDataNames=function(e){return e.from&&e.from.data&&(e.from.data=o.lookupDataSource(e.from.data)),e.from&&e.from.facet&&e.from.facet.data&&(e.from.facet.data=o.lookupDataSource(e.from.facet.data)),e},this.parent=t,this.config=i,this.name=e.name||n,this.scaleNameMap=t?t.scaleNameMap:new y,this.sizeNameMap=t?t.sizeNameMap:new y,this.data=e.data,this.description=e.description,this.transforms=e.transform||[],this.component={data:{sources:t?t.component.data.sources:{},outputNodes:t?t.component.data.outputNodes:{},outputNodeRefCounts:t?t.component.data.outputNodeRefCounts:{},ancestorParse:t?r.__assign({},t.component.data.ancestorParse):{}},mark:null,scales:null,axes:{x:null,y:null},layoutSize:new m.Split,layoutHeaders:{row:{},column:{}},legends:null,selection:null}}return Object.defineProperty(e.prototype,"width",{get:function(){var e=this.component.layoutSize.get("width");if(void 0!==e)return e;throw new Error("calling model.width before parseLayoutSize()")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.component.layoutSize.get("height");if(void 0!==e)return e;throw new Error("calling model.height before parseLayoutSize()")},enumerable:!0,configurable:!0}),e.prototype.initSize=function(e){var t=e.width,n=e.height;t&&this.component.layoutSize.set("width",t,!0),n&&this.component.layoutSize.set("height",n,!0)},e.prototype.parse=function(){this.parseScale(),this.parseMarkDef(),this.parseLayoutSize(),this.parseData(),this.parseSelection(),this.parseAxisAndHeader(),this.parseLegend(),this.parseMarkGroup()},e.prototype.parseScale=function(){h.parseScale(this)},e.prototype.parseLayoutSize=function(){c.parseLayoutSize(this)},e.prototype.parseMarkDef=function(){d.parseMarkDef(this)},e.prototype.assembleScales=function(){return p.assembleScale(this)},e.prototype.assembleHeaderMarks=function(){for(var e=this.component.layoutHeaders,t=[],n=0,r=l.HEADER_CHANNELS;n<r.length;n++){var i=r[n];e[i].title&&t.push(l.getTitleGroup(this,i))}for(var a=0,o=l.HEADER_CHANNELS;a<o.length;a++)for(var i=o[a],s=e[i],u=0,c=l.HEADER_TYPES;u<c.length;u++){var f=c[u];if(s[f])for(var d=0,p=s[f];d<p.length;d++){var h=p[d],m=l.getHeaderGroup(this,i,f,s,h);m&&t.push(m)}}return t},e.prototype.assembleAxes=function(){return u.assembleAxes(this.component.axes)},e.prototype.assembleLegends=function(){return f.assembleLegends(this)},e.prototype.assembleGroup=function(e){void 0===e&&(e=[]);var t={};e=e.concat(this.assembleSelectionSignals()),e.length>0&&(t.signals=e);var n=this.assembleLayout();n&&(t.layout=n),t.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());var r=this.assembleScales();r.length>0&&(t.scales=r);var i=this.assembleAxes();i.length>0&&(t.axes=i);var a=this.assembleLegends();return a.length>0&&(t.legends=a),t},e.prototype.hasDescendantWithFieldOnChannel=function(e){for(var t=0,n=this.children;t<n.length;t++){var r=n[t];if(r instanceof g.UnitModel){if(r.channelHasField(e))return!0}else if(r.hasDescendantWithFieldOnChannel(e))return!0}return!1},e.prototype.getName=function(e){return s.varName((this.name?this.name+"_":"")+e)},e.prototype.requestDataName=function(e){var t=this.getName(e),n=this.component.data.outputNodeRefCounts;return n[t]=(n[t]||0)+1,t},e.prototype.getSizeSignalRef=function(e){return{signal:this.getName(e)}},e.prototype.lookupDataSource=function(e){var t=this.component.data.outputNodes[e];return t?t.getSource():e},e.prototype.renameSize=function(e,t){this.sizeNameMap.rename(e,t)},e.prototype.channelSizeName=function(e){return this.sizeName(e===i.X||e===i.COLUMN?"width":"height")},e.prototype.sizeName=function(e){return this.sizeNameMap.get(this.getName(e))},e.prototype.renameScale=function(e,t){this.scaleNameMap.rename(e,t)},e.prototype.scaleName=function(e,t){return t?this.getName(e):i.isChannel(e)&&i.isScaleChannel(e)&&this.component.scales[e]||this.scaleNameMap.has(this.getName(e))?this.scaleNameMap.get(this.getName(e)):void 0},e.prototype.getScaleComponent=function(e){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale().  Make sure you have called parseScale or use parseUnitModelWithScale().");var t=this.component.scales[e];return t&&!t.merged?t:this.parent?this.parent.getScaleComponent(e):void 0},e.prototype.getSelectionComponent=function(e){return this.component.selection[e]||this.parent.getSelectionComponent(e)},e}();t.Model=v;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.field=function(e,t){void 0===t&&(t={});var n=this.fieldDef(e);return n.bin&&(t=s.extend({binSuffix:this.hasDiscreteDomain(e)?"range":"start"},t)),o.field(n,t)},t.prototype.reduceFieldDef=function(e,t,n){return a.reduce(this.getMapping(),function(t,n,r){var i=o.getFieldDef(n);return i?e(t,i,r):t},t,n)},t.prototype.forEachFieldDef=function(e,t){a.forEach(this.getMapping(),function(t,n){var r=o.getFieldDef(t);r&&e(r,n)},t)},t}(v);t.ModelWithField=b},[723,8,2],function(e,t,n){"use strict";function r(e){return!!g[e]}function i(e,n){var r=new Date(0,0,1,0,0,0,0);return t.SINGLE_TIMEUNITS.forEach(function(t){if(o(e,t))switch(t){case d.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case d.YEAR:r.setFullYear(n.getFullYear());break;case d.QUARTER:r.setMonth(3*Math.floor(n.getMonth()/3));break;case d.MONTH:r.setMonth(n.getMonth());break;case d.DATE:r.setDate(n.getDate());break;case d.HOURS:r.setHours(n.getHours());break;case d.MINUTES:r.setMinutes(n.getMinutes());break;case d.SECONDS:r.setSeconds(n.getSeconds());break;case d.MILLISECONDS:r.setMilliseconds(n.getMilliseconds())}}),r}function a(e){return!!y[e]}function o(e,t){var n=e.indexOf(t);return n>-1&&(t!==d.SECONDS||0===n||"i"!==e.charAt(n-1))}function s(e,n){function r(e){return e===d.QUARTER?"("+a+"quarter("+i+")-1)":""+a+e+"("+i+")"}var i="datum["+m.stringValue(n)+"]",a=f(e)?"utc":"",s=t.SINGLE_TIMEUNITS.reduce(function(t,n){return o(e,n)&&(t[n]=r(n)),t},{});return s.day&&m.keys(s).length>1&&(h.warn(h.message.dayReplacedWithDate(e)),delete s.day,s.date=r(d.DATE)),p.dateTimeExpr(s)}function u(e){if(e)return o(e,d.SECONDS)?"second":o(e,d.MINUTES)?"minute":o(e,d.HOURS)?"hour":o(e,d.DAY)||o(e,d.DATE)?"day":o(e,d.MONTH)?"month":o(e,d.YEAR)?"year":void 0}function l(e,t,n,r){if(e){var i=[],a="",s=o(e,d.YEAR);o(e,d.QUARTER)&&(a="'Q' + quarter("+t+")"),o(e,d.MONTH)&&i.push(n!==!1?"%b":"%B"),o(e,d.DAY)?i.push(n?"%a":"%A"):o(e,d.DATE)&&i.push("%d"+(s?",":"")),s&&i.push(n?"%y":"%Y");var u=[];o(e,d.HOURS)&&u.push("%H"),o(e,d.MINUTES)&&u.push("%M"),o(e,d.SECONDS)&&u.push("%S"),o(e,d.MILLISECONDS)&&u.push("%L");var l=[];return i.length>0&&l.push(i.join(" ")),u.length>0&&l.push(u.join(":")),l.length>0&&(a&&(a+=" + ' ' + "),a+=r?"utcFormat("+t+", '"+l.join(" ")+"')":"timeFormat("+t+", '"+l.join(" ")+"')"),a||void 0}}function c(e){switch(e){case"hours":case"day":case"month":case"quarter":return!0}return!1}function f(e){return"utc"===e.substr(0,3)}Object.defineProperty(t,"__esModule",{value:!0});var d,p=n(60),h=n(8),m=n(2);!function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"}(d=t.TimeUnit||(t.TimeUnit={})),t.SINGLE_TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS];var g=t.SINGLE_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isSingleTimeUnit=r,t.convert=i,t.MULTI_TIMEUNITS=[d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS];var y=t.MULTI_TIMEUNITS.reduce(function(e,t){return e[t]=!0,e},{});t.isMultiTimeUnit=a,t.TIMEUNITS=[d.YEAR,d.QUARTER,d.MONTH,d.DAY,d.DATE,d.HOURS,d.MINUTES,d.SECONDS,d.MILLISECONDS,d.YEARQUARTER,d.YEARQUARTERMONTH,d.YEARMONTH,d.YEARMONTHDATE,d.YEARMONTHDATEHOURS,d.YEARMONTHDATEHOURSMINUTES,d.YEARMONTHDATEHOURSMINUTESSECONDS,d.QUARTERMONTH,d.HOURSMINUTES,d.HOURSMINUTESSECONDS,d.MINUTESSECONDS,d.SECONDSMILLISECONDS],t.containsTimeUnit=o,t.fieldExpr=s,t.smallestUnit=u,t.formatExpression=l,t.isDiscreteByDefault=c},[729,2],function(e,t,n){"use strict";function r(e,t){t=t||{};for(var n in e)t[n]=e[n];return t}function i(e,t,n){var r=n?" !== ":" === ",i=n?" || ":" && ",a=n?"!":"",o=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return a+"Array.isArray("+t+")";case"object":return"("+a+t+i+"typeof "+t+r+'"object"'+i+o+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+i+o+"("+t+" % 1)"+i+t+r+t+")";default:return"typeof "+t+r+'"'+e+'"'}}function a(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=s(e);r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var a in r)n+=(n?" && ":"")+i(a,t,!0);return n}}function o(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var i=t[r];k[i]?n[n.length]=i:"array"===e&&"array"===i&&(n[n.length]=i)}if(n.length)return n}else{if(k[t])return[t];if("array"===e&&"array"===t)return["array"]}}function s(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}function u(e){return"number"==typeof e?"["+e+"]":E.test(e)?"."+e:"['"+l(e)+"']"}function l(e){return e.replace(M,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function c(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0}function f(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")}function d(e){return e.replace(T,"").replace(P,"").replace(C,"if (!($1))")}function p(e,t){var n=e.match(A);return n&&2==n.length&&(e=t?e.replace(R,"").replace(F,L):e.replace(D,"").replace(N,I)),n=e.match(j),n&&3===n.length?e.replace(z,""):e}function h(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0}function m(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0}function g(e){return"'"+l(e)+"'"}function y(e,t,n,r){var i=n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'";return _(e,i)}function v(e,t,n){var r=g(n?"/"+w(t):u(t));return _(e,r)}function b(e,t,n){var r,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!$.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(o=e.match(U),!o)throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],i=o[2],"#"==i){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!i)return a}for(var s=a,l=i.split("/"),c=0;c<l.length;c++){var f=l[c];f&&(a+=u(O(f)),s+=" && "+a)}return s}function _(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function x(e){return O(decodeURIComponent(e))}function S(e){return encodeURIComponent(w(e))}function w(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function O(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}e.exports={copy:r,checkDataType:i,checkDataTypes:a,coerceToTypes:o,toHash:s,getProperty:u,escapeQuotes:l,equal:n(131),ucs2length:n(314),varOccurences:c,varReplace:f,cleanUpCode:d,finalCleanUpCode:p,schemaHasRules:h,schemaHasRulesExcept:m,toQuotedString:g,getPathExpr:y,getPath:v,getData:b,unescapeFragment:x,escapeFragment:S,escapeJsonPointer:w};var k=s(["string","number","integer","boolean","null"]),E=/^[a-z$_][a-z$_0-9]*$/i,M=/'|\\/g,T=/else\s*{\s*}/g,P=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,C=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,A=/[^v\.]errors/g,D=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,R=/var errors = 0;|var vErrors = null;/g,N="return errors === 0;",I="validate.errors = null; return true;",F=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,L="return data;",j=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,z=/if \(rootData === undefined\) rootData = data;/,$=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.RENDERERS=t.LAYOUT=t.SPECS=t.MODES=void 0;var i=n(351),a=r(i),o="vega",s="vega-lite",u={Vega:o,VegaLite:s},l={HeaderHeight:56},c={SVG:"svg",Canvas:"canvas"};t.MODES=u,t.SPECS=a,t.LAYOUT=l,t.RENDERERS=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.locationsAreEqual=t.statesAreEqual=t.createLocation=t.createQuery=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(22),s=r(o),u=n(52),l=(r(u),n(50)),c=n(104),f=(t.createQuery=function(e){return a(Object.create(null),e)},t.createLocation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.POP,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="string"==typeof e?(0,l.parsePath)(e):e,i=r.pathname||"/",a=r.search||"",o=r.hash||"",s=r.state;return{pathname:i,search:a,hash:o,state:s,action:t,key:n}},function(e){return"[object Date]"===Object.prototype.toString.call(e)}),d=t.statesAreEqual=function e(t,n){if(t===n)return!0;var r="undefined"==typeof t?"undefined":i(t),a="undefined"==typeof n?"undefined":i(n);if(r!==a)return!1;if("function"===r?(0,s.default)(!1):void 0,"object"===r){if(f(t)&&f(n)?(0,s.default)(!1):void 0,!Array.isArray(t)){var o=Object.keys(t),u=Object.keys(n);return o.length===u.length&&o.every(function(r){return e(t[r],n[r])})}return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])})}return!1};t.locationsAreEqual=function(e,t){return e.key===t.key&&e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&d(e.state,t.state)}},function(e,t,n){"use strict";function r(e){if(g){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)y(t,n[r],null);else null!=e.html?f(t,e.html):null!=e.text&&p(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function a(e,t){g?e.children.push(t):e.node.appendChild(t.node)}function o(e,t){g?e.html=t:f(e.node,t)}function s(e,t){g?e.text=t:p(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=n(142),f=n(110),d=n(150),p=n(242),h=1,m=11,g="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),y=d(function(e,t,n){t.node.nodeType===m||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=y,l.replaceChildWithTree=i,l.queueChild=a,l.queueHTML=o,l.queueText=s,e.exports=l},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(10),a=(n(4),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},o=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var f in n){s.properties.hasOwnProperty(f)?i("48",f):void 0;var d=f.toLowerCase(),p=n[f],h={attributeName:d,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:r(p,t.MUST_USE_PROPERTY),hasBooleanValue:r(p,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(p,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(p,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(p,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:i("50",f),u.hasOwnProperty(f)){var m=u[f];h.attributeName=m}o.hasOwnProperty(f)&&(h.attributeNamespace=o[f]),l.hasOwnProperty(f)&&(h.propertyName=l[f]),c.hasOwnProperty(f)&&(h.mutationMethod=c[f]),s.properties[f]=h}}}),o=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:o,ATTRIBUTE_NAME_CHAR:o+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:a};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(498),a=(n(36),n(9),{mountComponent:function(e,t,n,i,a,o){var s=e.mountComponent(t,n,i,a,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,a){var o=e._currentElement;if(t!==o||a!==e._context){var s=i.shouldUpdateRefs(o,t);s&&i.detachRefs(e,o),e.receiveComponent(t,n,a),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){for(var t="",n=[],r=[],a=void 0,o=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)|\\\(|\\\)/g;a=s.exec(e);)a.index!==o&&(r.push(e.slice(o,a.index)),t+=i(e.slice(o,a.index))),a[1]?(t+="([^/]+)",n.push(a[1])):"**"===a[0]?(t+="(.*)",n.push("splat")):"*"===a[0]?(t+="(.*?)",n.push("splat")):"("===a[0]?t+="(?:":")"===a[0]?t+=")?":"\\("===a[0]?t+="\\(":"\\)"===a[0]&&(t+="\\)"),r.push(a[0]),o=s.lastIndex;return o!==e.length&&(r.push(e.slice(o,e.length)),t+=i(e.slice(o,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function o(e){return p[e]||(p[e]=a(e)),p[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=o(e),r=n.regexpSource,i=n.paramNames,a=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===a[a.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=t.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return o(e).paramNames}function l(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,i=n.paramValues,a={};return r.forEach(function(e,t){a[e]=i[t]}),a}function c(e,t){t=t||{};for(var n=o(e),r=n.tokens,i=0,a="",s=0,u=[],l=void 0,c=void 0,f=void 0,p=0,h=r.length;p<h;++p)if(l=r[p],"*"===l||"**"===l)f=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=f||i>0?void 0:(0,d.default)(!1),null!=f&&(a+=encodeURI(f));else if("("===l)u[i]="",i+=1;else if(")"===l){var m=u.pop();i-=1,i?u[i-1]+=m:a+=m}else if("\\("===l)a+="(";else if("\\)"===l)a+=")";else if(":"===l.charAt(0))if(c=l.substring(1),f=t[c],null!=f||i>0?void 0:(0,d.default)(!1),null==f){if(i){u[i-1]="";for(var g=r.indexOf(l),y=r.slice(g,r.length),v=-1,b=0;b<y.length;b++)if(")"==y[b]){v=b;break}v>0?void 0:(0,d.default)(!1),p=g+v-1}}else i?u[i-1]+=encodeURIComponent(f):a+=encodeURIComponent(f);else i?u[i-1]+=l:a+=l;return i<=0?void 0:(0,d.default)(!1),a.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=o,t.matchPattern=s,t.getParamNames=u,t.getParams=l,t.formatPattern=c;var f=n(22),d=r(f),p=Object.create(null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.indexOf("deprecated")!==-1){if(u[t])return;u[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[e,t].concat(r))}function a(){u={}}t.__esModule=!0,t.default=i,t._resetWarned=a;var o=n(52),s=r(o),u={}},function(e,t,n){"use strict";var r=n(164),i=n(259),a=n(560),o=n(561),s=n(72),u=n(562),l=n(563),c=n(564),f=n(568),d=s.createElement,p=s.createFactory,h=s.cloneElement,m=r,g=function(e){return e},y={Children:{map:a.map,forEach:a.forEach,count:a.count,toArray:a.toArray,only:f},Component:i.Component,PureComponent:i.PureComponent,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:c,createFactory:p,createMixin:g,DOM:o,version:l,__spread:m};e.exports=y},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var a=n(164),o=n(47),s=(n(9),n(263),Object.prototype.hasOwnProperty),u=n(261),l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,a,o){var s={$$typeof:u,type:e,key:t,ref:n,props:o,_owner:a};return s};c.createElement=function(e,t,n){var a,u={},f=null,d=null,p=null,h=null;if(null!=t){r(t)&&(d=t.ref),i(t)&&(f=""+t.key),p=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(a in t)s.call(t,a)&&!l.hasOwnProperty(a)&&(u[a]=t[a])}var m=arguments.length-2;if(1===m)u.children=n;else if(m>1){for(var g=Array(m),y=0;y<m;y++)g[y]=arguments[y+2];u.children=g}if(e&&e.defaultProps){var v=e.defaultProps;for(a in v)void 0===u[a]&&(u[a]=v[a])}return c(e,f,d,p,h,o.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,f=a({},e.props),d=e.key,p=e.ref,h=e._self,m=e._source,g=e._owner;if(null!=t){r(t)&&(p=t.ref,g=o.current),i(t)&&(d=""+t.key);var y;e.type&&e.type.defaultProps&&(y=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==y?f[u]=y[u]:f[u]=t[u])}var v=arguments.length-2;if(1===v)f.children=n;else if(v>1){for(var b=Array(v),_=0;_<v;_++)b[_]=arguments[_+2];f.children=b}return c(e.type,d,p,h,m,g,f)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},e.exports=c},function(e,t,n){"use strict";function r(e){e instanceof b.NonPositiveFilterNode&&p.every(p.vals(e.filter),function(e){return e===!1})&&e.remove(),e instanceof _.NullFilterNode&&p.every(p.vals(e.filteredFields),function(e){return null===e})&&e.remove(),e instanceof g.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(r)}function i(e){function n(r){if(!(r instanceof w.OrderNode)){var i=r.clone();if(i instanceof g.OutputNode){var a=t.FACET_SCALE_PREFIX+e.model.getName(i.getSource());i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof h.AggregateNode||i instanceof k.StackNode)&&i.addDimensions(e.fields);return p.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return p.flatten(r.children.map(n))}return n}function a(e){if(e instanceof y.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof g.OutputNode){o(e.model.component.data.main);var t=p.flatten(e.children.map(i(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof h.AggregateNode||n instanceof k.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),a(e)}else e.children.forEach(a)}function o(e){if(e instanceof g.OutputNode&&e.type===d.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof y.FacetNode||(t.swapWithParent(),o(e))}}function s(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function u(e){function t(r,i){if(r instanceof O.SourceNode&&!d.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof v.ParseNode&&(r.parent instanceof O.SourceNode&&!i.source?i.format=f.__assign({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof y.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof M.FilterNode||r instanceof _.NullFilterNode||r instanceof M.CalculateNode||r instanceof h.AggregateNode||r instanceof w.OrderNode||r instanceof M.LookupNode)&&i.transform.push(r.assemble()),(r instanceof b.NonPositiveFilterNode||r instanceof m.BinNode||r instanceof E.TimeUnitNode||r instanceof k.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof g.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof g.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof g.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source,r.children.forEach(function(e){var n={name:null,source:o,transform:[]};t(e,n)})}}var n=0;return t}function l(e){var t=[],n=u(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function c(e){var t=p.vals(e.sources),n=[];t.forEach(r),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.moveParseUp)),t.forEach(a);var i=u(n),o=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+o++);var t=e.assemble();i(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var l=0,c=n;l<c.length;l++)for(var f=c[l],d=0,h=f.transform||[];d<h.length;d++){var m=h[d];"lookup"===m.type&&(m.from=e.outputNodes[m.from].getSource())}return n}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n(75),p=n(3),h=n(166),m=n(167),g=n(26),y=n(268),v=n(113),b=n(269),_=n(270),x=n(271),S=n(271),w=n(272),O=n(114),k=n(273),E=n(168),M=n(274);t.FACET_SCALE_PREFIX="scale_",t.assembleFacetData=l,t.assembleData=c},[709,6,12,15,3,21],function(e,t){"use strict";function n(e){return!!e.url}function r(e){return!!e.values}function i(e){return!!e.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlData=n,t.isInlineData=r,t.isNamedData=i,t.MAIN="main",t.RAW="raw"},function(e,t,n){"use strict";function r(e){e instanceof b.NonPositiveFilterNode&&p.every(p.vals(e.filter),function(e){return e===!1})&&e.remove(),e instanceof _.NullFilterNode&&p.every(p.vals(e.filteredFields),function(e){return null===e})&&e.remove(),e instanceof g.OutputNode&&!e.isRequired()&&e.remove(),e.children.forEach(r)}function i(e){function n(r){if(!(r instanceof w.OrderNode)){var i=r.clone();if(i instanceof g.OutputNode){var a=t.FACET_SCALE_PREFIX+e.model.getName(i.getSource());i.setSource(a),e.model.component.data.outputNodes[a]=i}else(i instanceof h.AggregateNode||i instanceof k.StackNode)&&i.addDimensions(e.fields);return p.flatten(r.children.map(n)).forEach(function(e){return e.parent=i}),[i]}return p.flatten(r.children.map(n))}return n}function a(e){if(e instanceof y.FacetNode)if(1!==e.numChildren()||e.children[0]instanceof g.OutputNode){o(e.model.component.data.main);var t=p.flatten(e.children.map(i(e)));t.forEach(function(t){return t.parent=e.model.component.data.main})}else{var n=e.children[0];(n instanceof h.AggregateNode||n instanceof k.StackNode)&&n.addDimensions(e.fields),n.swapWithParent(),a(e)}else e.children.forEach(a)}function o(e){if(e instanceof g.OutputNode&&e.type===d.MAIN&&1===e.numChildren()){var t=e.children[0];t instanceof y.FacetNode||(t.swapWithParent(),o(e))}}function s(e){function t(e){0===e.numChildren()?n.push(e):e.children.forEach(t)}var n=[];return e.forEach(t),n}function u(e){function t(r,i){if(r instanceof O.SourceNode&&!d.isUrlData(r.data)){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}if(r instanceof v.ParseNode&&(r.parent instanceof O.SourceNode&&!i.source?i.format=f.__assign({},i.format||{},{parse:r.assembleFormatParse()}):i.transform=i.transform.concat(r.assembleTransforms())),r instanceof y.FacetNode)return i.name||(i.name="data_"+n++),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,void r.assemble().forEach(function(t){return e.push(t)});if((r instanceof M.FilterNode||r instanceof _.NullFilterNode||r instanceof M.CalculateNode||r instanceof h.AggregateNode||r instanceof w.OrderNode||r instanceof M.LookupNode)&&i.transform.push(r.assemble()),(r instanceof b.NonPositiveFilterNode||r instanceof m.BinNode||r instanceof E.TimeUnitNode||r instanceof k.StackNode)&&(i.transform=i.transform.concat(r.assemble())),r instanceof h.AggregateNode&&(i.name||(i.name="data_"+n++)),r instanceof g.OutputNode)if(i.source&&0===i.transform.length)r.setSource(i.source);else if(r.parent instanceof g.OutputNode)r.setSource(i.name);else if(i.name||(i.name="data_"+n++),r.setSource(i.name),1===r.numChildren()){e.push(i);var a={name:null,source:i.name,transform:[]};i=a}switch(r.numChildren()){case 0:r instanceof g.OutputNode&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:t(r.children[0],i);break;default:i.name||(i.name="data_"+n++);var o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source,r.children.forEach(function(e){var n={name:null,source:o,transform:[]};t(e,n)})}}var n=0;return t}function l(e){var t=[],n=u(t);return e.children.forEach(function(t){return n(t,{source:e.name,name:null,transform:[]})}),t}function c(e){var t=p.vals(e.sources),n=[];t.forEach(r),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.removeUnusedSubtrees)),t=t.filter(function(e){return e.numChildren()>0}),s(t).forEach(x.iterateFromLeaves(S.moveParseUp)),t.forEach(a);var i=u(n),o=0;t.forEach(function(e){e.hasName()||(e.dataName="source_"+o++);var t=e.assemble();i(e,t)}),n.forEach(function(e){0===e.transform.length&&delete e.transform}),n.sort(function(e,t){return 0===(e.transform||[]).length?-1:0===(t.transform||[]).length?1:0});for(var l=0,c=n;l<c.length;l++)for(var f=c[l],d=0,h=f.transform||[];d<h.length;d++){var m=h[d];"lookup"===m.type&&(m.from=e.outputNodes[m.from].getSource())}return n}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n(79),p=n(2),h=n(179),m=n(180),g=n(28),y=n(289),v=n(120),b=n(290),_=n(291),x=n(292),S=n(292),w=n(293),O=n(121),k=n(294),E=n(181),M=n(295);t.FACET_SCALE_PREFIX="scale_",t.assembleFacetData=l,t.assembleData=c},function(e,t,n){"use strict";function r(e){return[l.COLOR,l.SIZE,l.SHAPE,l.OPACITY].reduce(function(t,n){return e.legend(n)&&(t[n]=a(e,n)),t},{})}function i(e,t){switch(t){case l.COLOR:var n=e.scaleName(l.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case l.SIZE:return{size:e.scaleName(l.SIZE)};case l.SHAPE:return{shape:e.scaleName(l.SHAPE)};case l.OPACITY:return{opacity:e.scaleName(l.OPACITY)}}return null}function a(e,t){var n=e.fieldDef(t),r=e.legend(t),a=new m.LegendComponent({},i(e,t));c.LEGEND_PROPERTIES.forEach(function(n){var i=o(n,r,t,e);if(void 0!==i){var s="values"===n?!!r.values:i===r[n];a.set(n,i,s)}});var s=r.encoding||{},u=["labels","legend","title","symbols"].reduce(function(r,i){var a=g[i]?g[i](n,s[i],e,t):s[i];return void 0!==a&&f.keys(a).length>0&&(r[i]={update:a}),r},{});return f.keys(u).length>0&&a.set("encode",u,!!r.encoding),a}function o(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return d.numberFormat(i,t.format,r.config);case"title":return y.title(t,i,r.config);case"values":return y.values(t);case"type":return y.type(t,i.type,n,r.getScaleComponent(n).get("type"))}return t[e]}function s(e){for(var t=e.component.legends={},n={},r=function(r){r.parseLegend(),f.keys(r.component.legends).forEach(function(i){"shared"===e.resolve[i].legend&&"independent"!==n[i]&&e.component.scales[i]?(t[i]=u(t[i],r.component.legends[i]),t[i]?n[i]="shared":(n[i]="independent",delete t[i])):n[i]="independent"})},i=0,a=e.children;i<a.length;i++){var o=a[i];r(o)}f.keys(n).forEach(function(t){for(var r=0,i=e.children;r<i.length;r++){var a=i[r];if(!a.component.legends[t])return;"shared"===n[t]&&delete a.component.legends[t]}})}function u(e,t){if(!e)return t.clone();var n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){for(var i=function(n){var r=h.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"legend",function(e,t){switch(n){case"title":return d.titleMerger(e,t);case"type":return p.makeImplicit("symbol")}return h.defaultTieBreaker(e,t,n,"legend")});e.setWithExplicit(n,r)},a=0,o=c.VG_LEGEND_PROPERTIES;a<o.length;a++){var s=o[a];i(s)}return e}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(5),c=n(185),f=n(2),d=n(18),p=n(43),h=n(43),m=n(642),g=n(643),y=n(644);t.parseUnitLegend=r,t.parseLegendForChannel=a,t.parseNonUnitLegend=s,t.mergeLegendComponent=u},[709,5,16,13,2,18],75,function(e,t){"use strict";function n(e){return"string"==typeof e&&r.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){var r="undefined"!=typeof JSON?JSON:n(440);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var o="boolean"==typeof t.cycles&&t.cycles,s=t.replacer||function(e,t){return t},u=t.cmp&&function(e){return function(t){return function(n,r){var i={key:n,value:t[n]},a={key:r,value:t[r]};return e(i,a)}}}(t.cmp),l=[];return function e(t,c,f,d){var p=n?"\n"+new Array(d+1).join(n):"",h=n?": ":":";if(f&&f.toJSON&&"function"==typeof f.toJSON&&(f=f.toJSON()),f=s.call(t,c,f),void 0!==f){if("object"!=typeof f||null===f)return r.stringify(f);if(i(f)){for(var m=[],g=0;g<f.length;g++){var y=e(f,g,f[g],d+1)||r.stringify(null);m.push(p+n+y)}return"["+m.join(",")+p+"]"}if(l.indexOf(f)!==-1){if(o)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}l.push(f);for(var v=a(f).sort(u&&u(f)),m=[],g=0;g<v.length;g++){var c=v[g],b=e(f,c,f[c],d+1);if(b){var _=r.stringify(c)+h+b;m.push(p+n+_)}}return l.splice(l.indexOf(f),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},a=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in e)t.call(e,r)&&n.push(r);return n}},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var a=n(10),o=n(143),s=n(144),u=n(148),l=n(235),c=n(236),f=(n(4),{}),d=null,p=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},m=function(e){return p(e,!1)},g=function(e){return"."+e._rootNodeID},y={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?a("94",t,typeof n):void 0;var r=g(e),i=f[t]||(f[t]={});i[r]=n;var s=o.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=f[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=o.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=f[t];if(r){var i=g(e);delete r[i]}},deleteAllListeners:function(e){var t=g(e);for(var n in f)if(f.hasOwnProperty(n)&&f[n][t]){var r=o.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete f[n][t]}},extractEvents:function(e,t,n,r){for(var i,a=o.plugins,s=0;s<a.length;s++){var u=a[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(i=l(i,c))}}return i},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d?a("95"):void 0,u.rethrowCaughtError()},__purge:function(){f={}},__getListenerBank:function(){return f}};e.exports=y},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,i,e)}function o(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=y(e,r);i&&(n._dispatchListeners=m(n._dispatchListeners,i),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){g(e,a)}function c(e){g(e,o)}function f(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){g(e,u)}var p=n(82),h=n(144),m=n(235),g=n(236),y=(n(9),p.getListener),v={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:f};e.exports=v},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a=n(153),o={view:function(e){if(e.view)return e.view;var t=a(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var i=n(19),a=(t.history=(0,i.shape)({listen:i.func.isRequired,push:i.func.isRequired,replace:i.func.isRequired,go:i.func.isRequired,goBack:i.func.isRequired,goForward:i.func.isRequired}),t.component=(0,i.oneOfType)([i.func,i.string])),o=(t.components=(0,i.oneOfType)([a,i.object]),t.route=(0,i.oneOfType)([i.object,i.element]));t.routes=(0,i.oneOfType)([o,(0,i.arrayOf)(o)])},10,[685,6,3],[692,75,115,90,55,30,166,167,26,268,113,269,270,272,114,273,168,274],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(11),a=n(23),o=n(118),s=n(93),u=n(3),l=n(21),c=n(73),f=n(89),d=n(275),p=n(91),h=n(55),m=n(27),g=n(30),y=function(e){function t(n,a,u,l,c,f){var d=e.call(this,n,a,u,f,o.initLayerResolve(n.resolve||{}))||this,p=r.__assign({},l,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return d.initSize(p),d.children=n.layer.map(function(e,n){if(s.isLayerSpec(e))return new t(e,d,d.getName("layer_"+n),p,c,f);if(s.isUnitSpec(e))return new g.UnitModel(e,d,d.getName("layer_"+n),p,c,f);throw new Error(i.message.INVALID_SPEC)}),d}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=f.parseData(this);for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseData()}},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),u.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=this,t=this.component.axes={},n=function(n){n.parseAxisAndHeader(),u.keys(n.component.axes).forEach(function(i){"shared"===e.resolve[i].axis?t[i]||(t[i]=n.component.axes[i]):t[i]?(t[i].axes.push(r.__assign({},n.component.axes[i].axes[0],t[i].axes.length%2===1?{orient:"y"===i?"right":"top"}:{})),n.component.axes[i].gridAxes.length>0&&t[i].gridAxes.push(r.__assign({},n.component.axes[i].gridAxes[0]))):t[i]=n.component.axes[i]})},i=0,a=this.children;i<a.length;i++){var o=a[i];n(o)}},t.prototype.parseLegend=function(){for(var e=this,t=this.component.legends={},n=function(n){n.parseLegend(),u.keys(n.component.legends).forEach(function(r){"shared"===e.resolve[r].legend&&p.moveSharedLegendUp(t,n,r)})},r=0,i=this.children;r<i.length;r++){var a=i[r];n(a)}},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},l.applyConfig({},this.config.cell,a.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},d.assembleLayoutLayerSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleData=function(){return this.parent?[]:c.assembleData(this.component.data)},t.prototype.assembleScales=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleScales())},e.prototype.assembleScales.call(this))},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return m.assembleLayerSelectionMarks(this,u.flatten(this.children.map(function(e){return e.assembleMarks()})))},t}(h.Model);t.LayerModel=y},function(e,t,n){"use strict";function r(e){return[u.COLOR,u.SIZE,u.SHAPE,u.OPACITY].reduce(function(t,n){return e.legend(n)&&(t[n]=a(e,n)),t},{})}function i(e,t){switch(t){case u.COLOR:var n=e.scaleName(u.COLOR);return e.markDef.filled?{fill:n}:{stroke:n};case u.SIZE:return{size:e.scaleName(u.SIZE)};case u.SHAPE:return{shape:e.scaleName(u.SHAPE)};case u.OPACITY:return{opacity:e.scaleName(u.OPACITY)}}return null}function a(e,t){var n=e.fieldDef(t),r=e.legend(t),a=i(e,t);l.LEGEND_PROPERTIES.forEach(function(n){var i=o(n,r,t,e);void 0!==i&&(a[n]=i)});var s=r.encoding||{};return["labels","legend","title","symbols"].forEach(function(r){var i=d[r]?d[r](n,s[r],e,t):s[r];void 0!==i&&c.keys(i).length>0&&(a.encode=a.encode||{},a.encode[r]={update:i})}),a}function o(e,t,n,r){var i=r.fieldDef(n);switch(e){case"format":return f.numberFormat(i,t.format,r.config,n);case"title":return p.title(t,i,r.config);case"values":return p.values(t);case"type":return p.type(t,i.type,n,r.getScaleComponent(n).get("type"))}return t[e]}function s(e,t,n){e[n]||(e[n]=t.component.legends[n]),delete t.component.legends[n]}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),l=n(172),c=n(3),f=n(21),d=n(598),p=n(599);t.parseLegendComponent=r,t.parseLegend=a,t.moveSharedLegendUp=s},function(e,t,n){"use strict";function r(e){return{explicit:!0,value:e}}function i(e){return{explicit:!1,value:e}}function a(e,t,n){if(void 0===n&&(n=function(){return 0}),void 0===e||void 0===e.value)return t;if(e.explicit&&!t.explicit)return e;if(t.explicit&&!e.explicit)return t;var r=n(e.value,t.value);return r>0?e:r<0?t:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.explicit=e,this.implicit=t}return e.prototype.combine=function(e){var t=this;void 0===e&&(e=[]);var n=e.reduce(function(e,n){var r=t.get(n);return r&&(e[n]=r),e},{});return o.__assign({},n,this.explicit,this.implicit)},e.prototype.get=function(e){return void 0!==this.explicit[e]?this.explicit[e]:this.implicit[e]},e.prototype.getWithExplicit=function(e){return void 0!==this.explicit[e]?{explicit:!0,value:this.explicit[e]}:void 0!==this.implicit[e]?{explicit:!1,value:this.implicit[e]}:{explicit:!1,value:void 0}},e.prototype.setWithExplicit=function(e,t){void 0!==t.value&&this.set(e,t.value,t.explicit)},e.prototype.set=function(e,t,n){return this[n?"explicit":"implicit"][e]=t,n&&delete this.implicit[e],this},e.prototype.copyKeyFromSplit=function(e,t){void 0!==t.explicit[e]?this.set(e,t.explicit[e],!0):void 0!==t.implicit[e]&&this.set(e,t.implicit[e],!1);
},e.prototype.copyKeyFromObject=function(e,t){void 0!==t[e]&&this.set(e,t[e],!0)},e.prototype.extend=function(t,n){return new e(n?o.__assign({},this.explicit,t):this.explicit,n?this.implicit:o.__assign({},this.implicit,t))},e}();t.Split=s,t.makeExplicit=r,t.makeImplicit=i,t.mergeValuesWithExplicit=a},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return u(e)||l(e)}function u(e){return void 0!==e.vconcat}function l(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return p(e,t);if(a(e))return h(e,t);if(o(e))return m(e,e.config);if(u(e))return g(e,e.config);if(l(e))return y(e,e.config);if(i(e)){var n=C.channelHasField(e.encoding,T.ROW),s=C.channelHasField(e.encoding,T.COLUMN);return n||s?v(e,t):_(e,t)}throw new Error(D.message.INVALID_SPEC)}function f(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function d(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function p(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:f(n,t)})}function h(e,t){var n=e.layer,r=M.__rest(e,["layer"]);return M.__assign({},r,{layer:n.map(function(e){return a(e)?h(e,t):_(e,t)})})}function m(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:d(n,t)})}function g(e,t){var n=e.vconcat,r=M.__rest(e,["vconcat"]);return M.__assign({},r,{vconcat:n.map(function(e){return f(e,t)})})}function y(e,t){var n=e.hconcat,r=M.__rest(e,["hconcat"]);return M.__assign({},r,{hconcat:n.map(function(e){return f(e,t)})})}function v(e,t){var n=e.encoding,r=n.row,i=n.column,a=M.__rest(n,["row","column"]),o=e.mark,s=e.selection,u=(e.encoding,M.__rest(e,["mark","selection","encoding"]));return M.__assign({},u,{facet:M.__assign({},r?{row:r}:{},i?{column:i}:{}),spec:_(M.__assign({mark:o,encoding:a},s?{selection:s}:{}),t)})}function b(e){return R.isPrimitiveMark(e.mark)}function _(e,t){if(b(e)){if(C.isRanged(e.encoding))return x(e);var n=t&&t.overlay,r=n&&e.mark===R.AREA&&I.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===R.LINE||"linepoint"===n.area&&e.mark===R.AREA);return i||r?S(e,i,r,t):e}return P.normalize(e,t)}function x(e){var t=C.channelHasField(e.encoding,T.X),n=C.channelHasField(e.encoding,T.Y),r=C.channelHasField(e.encoding,T.X2),i=C.channelHasField(e.encoding,T.Y2);if(r&&!t||i&&!n){var a=I.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function S(e,t,n,r){var i=e.mark,a=e.encoding,o=M.__rest(e,["mark","encoding"]),s=[{mark:i,encoding:a}],u=N.stack(i,a,r?r.stack:void 0),l=a;if(u){var c=u.fieldChannel,f=u.offset;l=M.__assign({},a,(d={},d[c]=M.__assign({},a[c],f?{stack:f}:{}),d))}return n&&s.push({mark:{type:"line",role:"lineOverlay"},encoding:l}),t&&s.push({mark:{type:"point",filled:!0,role:"pointOverlay"},encoding:l}),M.__assign({},o,{layer:s});var d}function w(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=I.hash(n);e[r]=e[r]||t}),e}function O(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?w(t,A.fieldDefs(e.encoding)):O(e,t)});else if(r(e))w(t,A.fieldDefs(e.facet)),O(e.spec,t);else if(o(e))w(t,A.fieldDefs(e.spec)),O(e.spec,t);else if(s(e)){var n=u(e)?e.vconcat:e.hconcat;n.forEach(function(e){i(e)?w(t,A.fieldDefs(e.encoding)):O(e,t)})}else w(t,A.fieldDefs(e.encoding));return t}function k(e){return I.vals(O(e))}function E(e,t){return t=t||e.config,!!R.isPrimitiveMark(e.mark)&&null!==N.stack(e.mark,e.encoding,t?t.stack:void 0)}Object.defineProperty(t,"__esModule",{value:!0});var M=n(1),T=n(6),P=n(117),C=n(38),A=n(38),D=n(11),R=n(23),N=n(174),I=n(3);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=u,t.isHConcatSpec=l,t.normalize=c,t.fieldDefs=k,t.isStacked=E},function(e,t,n){"use strict";function r(e){return e&&i.contains(t.COUNTING_OPS,e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2);t.AGGREGATE_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","ci0","ci1","modeskew","min","max","argmin","argmax"],t.AGGREGATE_OP_INDEX=i.toSet(t.AGGREGATE_OPS),t.COUNTING_OPS=["count","valid","missing","distinct"],t.isCountingAggregateOp=r,t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=i.toSet(t.SHARED_DOMAIN_OPS)},[685,5,2],[692,79,122,97,59,31,179,180,28,289,120,290,291,293,121,294,181,295],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),a=n(24),o=n(125),s=n(98),u=n(2),l=n(288),c=n(18),f=n(76),d=n(96),p=n(296),h=n(77),m=n(59),g=n(29),y=n(31),v=function(e){function t(n,a,u,l,c,f){var d=e.call(this,n,a,u,f,o.initLayerResolve(n.resolve||{}))||this,p=r.__assign({},l,n.width?{width:n.width}:{},n.height?{height:n.height}:{});return d.initSize(p),d.children=n.layer.map(function(e,n){if(s.isLayerSpec(e))return new t(e,d,d.getName("layer_"+n),p,c,f);if(s.isUnitSpec(e))return new y.UnitModel(e,d,d.getName("layer_"+n),p,c,f);throw new Error(i.message.INVALID_SPEC)}),d}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=d.parseData(this);for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseData()}},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),u.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){l.parseLayerAxis(this)},t.prototype.parseLegend=function(){h.parseNonUnitLegend(this)},t.prototype.assembleParentGroupProperties=function(){return r.__assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},c.applyConfig({},this.config.cell,a.FILL_STROKE_CONFIG.concat(["clip"])))},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleSelectionSignals())},[])},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},p.assembleLayoutLayerSignals(this))},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleData=function(){return this.parent?[]:f.assembleData(this.component.data)},t.prototype.assembleScales=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleScales())},e.prototype.assembleScales.call(this))},t.prototype.assembleLayout=function(){return null},t.prototype.assembleMarks=function(){return g.assembleLayerSelectionMarks(this,u.flatten(this.children.map(function(e){return e.assembleMarks()})))},t}(m.Model);t.LayerModel=v},function(e,t,n){"use strict";function r(e){return void 0!==e.facet}function i(e){return!!e.mark}function a(e){return void 0!==e.layer}function o(e){return void 0!==e.repeat}function s(e){return u(e)||l(e)}function u(e){return void 0!==e.vconcat}function l(e){return void 0!==e.hconcat}function c(e,t){if(r(e))return p(e,t);if(a(e))return h(e,t);if(o(e))return m(e,e.config);if(u(e))return g(e,e.config);if(l(e))return y(e,e.config);if(i(e)){var n=C.channelHasField(e.encoding,T.ROW),s=C.channelHasField(e.encoding,T.COLUMN);return n||s?v(e,t):_(e,t)}throw new Error(D.message.INVALID_SPEC)}function f(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function d(e,t){return a(e)?h(e,t):o(e)?m(e,t):_(e,t)}function p(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:f(n,t)})}function h(e,t){var n=e.layer,r=M.__rest(e,["layer"]);return M.__assign({},r,{layer:n.map(function(e){return a(e)?h(e,t):_(e,t)})})}function m(e,t){var n=e.spec,r=M.__rest(e,["spec"]);return M.__assign({},r,{spec:d(n,t)})}function g(e,t){var n=e.vconcat,r=M.__rest(e,["vconcat"]);return M.__assign({},r,{vconcat:n.map(function(e){return f(e,t)})})}function y(e,t){var n=e.hconcat,r=M.__rest(e,["hconcat"]);return M.__assign({},r,{hconcat:n.map(function(e){return f(e,t)})})}function v(e,t){var n=e.encoding,r=n.row,i=n.column,a=M.__rest(n,["row","column"]),o=e.mark,s=e.selection,u=(e.encoding,M.__rest(e,["mark","selection","encoding"]));return M.__assign({},u,{facet:M.__assign({},r?{row:r}:{},i?{column:i}:{}),spec:_(M.__assign({mark:o,encoding:a},s?{selection:s}:{}),t)})}function b(e){return R.isPrimitiveMark(e.mark)}function _(e,t){if(b(e)){if(C.isRanged(e.encoding))return x(e);var n=t&&t.overlay,r=n&&e.mark===R.AREA&&I.contains(["linepoint","line"],n.area),i=n&&(n.line&&e.mark===R.LINE||"linepoint"===n.area&&e.mark===R.AREA);return i||r?S(e,i,r,t):e}return P.normalize(e,t)}function x(e){var t=C.channelHasField(e.encoding,T.X),n=C.channelHasField(e.encoding,T.Y),r=C.channelHasField(e.encoding,T.X2),i=C.channelHasField(e.encoding,T.Y2);if(r&&!t||i&&!n){var a=I.duplicate(e);return r&&!t&&(a.encoding.x=a.encoding.x2,delete a.encoding.x2),i&&!n&&(a.encoding.y=a.encoding.y2,delete a.encoding.y2),a}return e}function S(e,t,n,r){var i=e.mark,a=e.encoding,o=M.__rest(e,["mark","encoding"]),s=[{mark:i,encoding:a}],u=N.stack(i,a,r?r.stack:void 0),l=a;if(u){var c=u.fieldChannel,f=u.offset;l=M.__assign({},a,(d={},d[c]=M.__assign({},a[c],f?{stack:f}:{}),d))}return n&&s.push({mark:{type:"line",role:"lineOverlay"},encoding:l}),t&&s.push({mark:{type:"point",filled:!0,role:"pointOverlay"},encoding:l}),M.__assign({},o,{layer:s});var d}function w(e,t){return t.forEach(function(t){var n=["field","type","value","timeUnit","bin","aggregate"].reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{}),r=I.hash(n);e[r]=e[r]||t}),e}function O(e,t){if(void 0===t&&(t={}),a(e))e.layer.forEach(function(e){i(e)?w(t,A.fieldDefs(e.encoding)):O(e,t)});else if(r(e))w(t,A.fieldDefs(e.facet)),O(e.spec,t);else if(o(e))w(t,A.fieldDefs(e.spec)),O(e.spec,t);else if(s(e)){var n=u(e)?e.vconcat:e.hconcat;n.forEach(function(e){i(e)?w(t,A.fieldDefs(e.encoding)):O(e,t)})}else w(t,A.fieldDefs(e.encoding));return t}function k(e){return I.vals(O(e))}function E(e,t){return t=t||e.config,!!R.isPrimitiveMark(e.mark)&&null!==N.stack(e.mark,e.encoding,t?t.stack:void 0)}Object.defineProperty(t,"__esModule",{value:!0});var M=n(1),T=n(5),P=n(124),C=n(32),A=n(32),D=n(8),R=n(24),N=n(187),I=n(2);t.isFacetSpec=r,t.isUnitSpec=i,t.isLayerSpec=a,t.isRepeatSpec=o,t.isConcatSpec=s,t.isVConcatSpec=u,t.isHConcatSpec=l,t.normalize=c,t.fieldDefs=k,t.isStacked=E},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){}function n(e,n){var r=new t;if(e instanceof t)e.each(function(e,t){r.set(t,e)});else if(Array.isArray(e)){var i,a=-1,o=e.length;if(null==n)for(;++a<o;)r.set(a,e[a]);else for(;++a<o;)r.set(n(i=e[a],a,e),i)}else if(e)for(var s in e)r.set(s,e[s]);return r}function r(){return{}}function i(e,t,n){e[t]=n}function a(){return n()}function o(e,t,n){e.set(t,n)}function s(){}function u(e,t){var n=new s;if(e instanceof s)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}var l="$";t.prototype=n.prototype={constructor:t,has:function(e){return l+e in this},get:function(e){return this[l+e]},set:function(e,t){return this[l+e]=t,this},remove:function(e){var t=l+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===l&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===l&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===l&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===l&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===l&&++e;return e},empty:function(){for(var e in this)if(e[0]===l)return!1;return!0},each:function(e){for(var t in this)t[0]===l&&e(this[t],t.slice(1),this)}};var c=function(){function e(t,r,i,a){if(r>=c.length)return null!=s&&t.sort(s),null!=u?u(t):t;for(var o,l,f,d=-1,p=t.length,h=c[r++],m=n(),g=i();++d<p;)(f=m.get(o=h(l=t[d])+""))?f.push(l):m.set(o,[l]);return m.each(function(t,n){a(g,n,e(t,r,i,a))}),g}function t(e,n){if(++n>c.length)return e;var r,i=f[n-1];return null!=u&&n>=c.length?r=e.entries():(r=[],e.each(function(e,i){r.push({key:i,values:t(e,n)})})),null!=i?r.sort(function(e,t){return i(e.key,t.key)}):r}var s,u,l,c=[],f=[];return l={object:function(t){return e(t,0,r,i)},map:function(t){return e(t,0,a,o)},entries:function(n){return t(e(n,0,a,o),0)},key:function(e){return c.push(e),l},sortKeys:function(e){return f[c.length-1]=e,l},sortValues:function(e){return s=e,l},rollup:function(e){return u=e,l}}},f=n.prototype;s.prototype=u.prototype={constructor:s,has:f.has,add:function(e){return e+="",this[l+e]=e,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var d=function(e){var t=[];for(var n in e)t.push(n);return t},p=function(e){var t=[];for(var n in e)t.push(e[n]);return t},h=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t};e.nest=c,e.set=u,e.map=n,e.keys=d,e.values=p,e.entries=h,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new n(e)}function n(e){if(!(t=p.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",r=t[2]||">",i=t[3]||"-",a=t[4]||"",o=!!t[5],s=t[6]&&+t[6],u=!!t[7],l=t[8]&&+t[8].slice(1),c=t[9]||"";"n"===c?(u=!0,c="g"):d[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=u,this.precision=l,this.type=c}function r(t){return h=y(t),e.format=h.format,e.formatPrefix=h.formatPrefix,h}var i,a=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},o=function(e){return e=a(Math.abs(e)),e?e[1]:NaN},s=function(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}},u=function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}},l=function(e,t){e=e.toPrecision(t);e:for(var n,r=e.length,i=1,a=-1;i<r;++i)switch(e[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break e;default:a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(n+1):e},c=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+a(e,Math.max(0,t+s-1))[0]},f=function(e,t){var n=a(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array((-i)).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},d={"":l,"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return f(100*e,t)},r:f,s:c,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;t.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var h,m=function(e){return e},g=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],y=function(e){function n(e){function n(e){var t,n,u,l=_,d=x;if("c"===b)d=S(e)+d,e="";else{e=+e;var p=e<0;if(e=S(Math.abs(e),v),p&&0===+e&&(p=!1),l=(p?"("===s?s:"-":"-"===s||"("===s?"":s)+l,d=d+("s"===b?g[8+i/3]:"")+(p&&"("===s?")":""),w)for(t=-1,n=e.length;++t<n;)if(u=e.charCodeAt(t),48>u||u>57){d=(46===u?c+e.slice(t+1):e.slice(t))+d,e=e.slice(0,t);break}}y&&!h&&(e=a(e,1/0));var O=l.length+e.length+d.length,k=O<m?new Array(m-O+1).join(r):"";switch(y&&h&&(e=a(k+e,k.length?m-d.length:1/0),k=""),o){case"<":e=l+e+d+k;break;case"=":e=l+k+e+d;break;case"^":e=k.slice(0,O=k.length>>1)+l+e+d+k.slice(O);break;default:e=k+l+e+d}return f(e)}e=t(e);var r=e.fill,o=e.align,s=e.sign,u=e.symbol,h=e.zero,m=e.width,y=e.comma,v=e.precision,b=e.type,_="$"===u?l[0]:"#"===u&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",x="$"===u?l[1]:/[%p]/.test(b)?p:"",S=d[b],w=!b||/[defgprs%]/.test(b);return v=null==v?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),n.toString=function(){return e+""},n}function r(e,r){var i=n((e=t(e),e.type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(o(r)/3))),s=Math.pow(10,-a),u=g[8+a/3];return function(e){return i(s*e)+u}}var a=e.grouping&&e.thousands?s(e.grouping,e.thousands):m,l=e.currency,c=e.decimal,f=e.numerals?u(e.numerals):m,p=e.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var v=function(e){return Math.max(0,-o(Math.abs(e)))},b=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(t)/3)))-o(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,o(t)-o(e))+1};e.formatDefaultLocale=r,e.formatLocale=y,e.formatSpecifier=t,e.precisionFixed=v,e.precisionPrefix=b,e.precisionRound=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(129))}(this,function(e,t){"use strict";function n(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function r(e,t){return function(n){return e+n*t}}function i(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function a(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):M(isNaN(e)?t:e)}function o(e){return 1===(e=+e)?s:function(t,n){return n-t?i(t,n,e):M(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?r(e,n):M(isNaN(e)?t:e)}function u(e){return function(n){var r,i,a=n.length,o=new Array(a),s=new Array(a),u=new Array(a);for(r=0;r<a;++r)i=t.rgb(n[r]),o[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return o=e(o),s=e(s),u=e(u),i.opacity=1,function(e){return i.r=o(e),i.g=s(e),i.b=u(e),i+""}}}function l(e){return function(){return e}}function c(e){return function(t){return e(t)+""}}function f(e){return"none"===e?U:(x||(x=document.createElement("DIV"),S=document.documentElement,w=document.defaultView),x.style.transform=e,e=w.getComputedStyle(S.appendChild(x),null).getPropertyValue("transform"),S.removeChild(x),e=e.slice(7,-1).split(","),B(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}function d(e){return null==e?U:(O||(O=document.createElementNS("http://www.w3.org/2000/svg","g")),O.setAttribute("transform",e),(e=O.transform.baseVal.consolidate())?(e=e.matrix,B(e.a,e.b,e.c,e.d,e.e,e.f)):U)}function p(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}function a(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push("translate(",null,t,null,n);s.push({i:u-4,x:R(e,i)},{i:u-2,x:R(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}function o(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:R(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}function s(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:R(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}function u(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:R(e,n)},{i:s-2,x:R(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(t,n){var r=[],i=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,r,i),o(t.rotate,n.rotate,r,i),s(t.skewX,n.skewX,r,i),u(t.scaleX,t.scaleY,n.scaleX,n.scaleY,r,i),t=n=null,function(e){for(var t,n=-1,a=i.length;++n<a;)r[(t=i[n]).i]=t.x(e);return r.join("")}}}function h(e){return((e=Math.exp(e))+1/e)/2}function m(e){return((e=Math.exp(e))-1/e)/2}function g(e){return((e=Math.exp(2*e))-1)/(e+1)}function y(e){return function(n,r){var i=e((n=t.hsl(n)).h,(r=t.hsl(r)).h),a=s(n.s,r.s),o=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(e){return n.h=i(e),n.s=a(e),n.l=o(e),n.opacity=u(e),n+""}}}function v(e,n){var r=s((e=t.lab(e)).l,(n=t.lab(n)).l),i=s(e.a,n.a),a=s(e.b,n.b),o=s(e.opacity,n.opacity);return function(t){return e.l=r(t),e.a=i(t),e.b=a(t),e.opacity=o(t),e+""}}function b(e){return function(n,r){var i=e((n=t.hcl(n)).h,(r=t.hcl(r)).h),a=s(n.c,r.c),o=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(e){return n.h=i(e),n.c=a(e),n.l=o(e),n.opacity=u(e),n+""}}}function _(e){return function n(r){function i(n,i){var a=e((n=t.cubehelix(n)).h,(i=t.cubehelix(i)).h),o=s(n.s,i.s),u=s(n.l,i.l),l=s(n.opacity,i.opacity);return function(e){return n.h=a(e),n.s=o(e),n.l=u(Math.pow(e,r)),n.opacity=l(e),n+""}}return r=+r,i.gamma=n,i}(1)}var x,S,w,O,k=function(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[i],o=e[i+1],s=i>0?e[i-1]:2*a-o,u=i<t-1?e[i+2]:2*o-a;return n((r-i/t)*t,s,a,o,u)}},E=function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),a=e[(i+t-1)%t],o=e[i%t],s=e[(i+1)%t],u=e[(i+2)%t];return n((r-i/t)*t,a,o,s,u)}},M=function(e){return function(){return e}},T=function e(n){function r(e,n){var r=i((e=t.rgb(e)).r,(n=t.rgb(n)).r),a=i(e.g,n.g),o=i(e.b,n.b),u=s(e.opacity,n.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=u(t),e+""}}var i=o(n);return r.gamma=e,r}(1),P=u(k),C=u(E),A=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(r),o=new Array(r);for(n=0;n<i;++n)a[n]=j(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}},D=function(e,t){var n=new Date;return e=+e,t-=e,function(r){return n.setTime(e+t*r),n}},R=function(e,t){return e=+e,t-=e,function(n){return e+t*n}},N=function(e,t){var n,r={},i={};null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={});for(n in t)n in e?r[n]=j(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,F=new RegExp(I.source,"g"),L=function(e,t){var n,r,i,a=I.lastIndex=F.lastIndex=0,o=-1,s=[],u=[];for(e+="",t+="";(n=I.exec(e))&&(r=F.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:R(n,r)})),a=F.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?c(u[0].x):l(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},j=function(e,n){var r,i=typeof n;return null==n||"boolean"===i?M(n):("number"===i?R:"string"===i?(r=t.color(n))?(n=r,T):L:n instanceof t.color?T:n instanceof Date?D:Array.isArray(n)?A:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?N:R)(e,n)},z=function(e,t){return e=+e,t-=e,function(n){return Math.round(e+t*n)}},$=180/Math.PI,U={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},B=function(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*$,skewX:Math.atan(u)*$,scaleX:o,scaleY:s}},q=p(f,"px, ","px)","deg)"),W=p(d,", ",")",")"),V=Math.SQRT2,H=2,G=4,Y=1e-12,X=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],l=t[2],c=s-i,f=u-a,d=c*c+f*f;if(d<Y)r=Math.log(l/o)/V,n=function(e){return[i+e*c,a+e*f,o*Math.exp(V*e*r)]};else{var p=Math.sqrt(d),y=(l*l-o*o+G*d)/(2*o*H*p),v=(l*l-o*o-G*d)/(2*l*H*p),b=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(v*v+1)-v);r=(_-b)/V,n=function(e){var t=e*r,n=h(b),s=o/(H*p)*(n*g(V*t+b)-m(b));return[i+s*c,a+s*f,o*n/h(V*t+b)]}}return n.duration=1e3*r,n},Q=y(a),K=y(s),J=b(a),Z=b(s),ee=_(a),te=_(s),ne=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};e.interpolate=j,e.interpolateArray=A,e.interpolateBasis=k,e.interpolateBasisClosed=E,e.interpolateDate=D,e.interpolateNumber=R,e.interpolateObject=N,e.interpolateRound=z,e.interpolateString=L,e.interpolateTransformCss=q,e.interpolateTransformSvg=W,e.interpolateZoom=X,e.interpolateRgb=T,e.interpolateRgbBasis=P,e.interpolateRgbBasisClosed=C,e.interpolateHsl=Q,e.interpolateHslLong=K,e.interpolateLab=v,e.interpolateHcl=J,e.interpolateHclLong=Z,e.interpolateCubehelix=ee,e.interpolateCubehelixLong=te,e.quantize=ne,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(130))}(this,function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date((-1),e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function i(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function a(e){function t(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date((+n)));++s<l;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=re[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function a(e,t){return function(n){var a=i(1900),s=o(a,e,n+="",0);if(s!=n.length)return null;if("p"in a&&(a.H=a.H%12+12*a.p),"W"in a||"U"in a){"w"in a||(a.w="W"in a?1:0);var u="Z"in a?r(i(a.y)).getUTCDay():t(i(a.y)).getDay();a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(u+5)%7:a.w+7*a.U-(u+6)%7}return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,r(a)):t(a)}}function o(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(i=t.charCodeAt(o++),37===i){if(i=t.charAt(o++),a=Le[i in re?t.charAt(o++):i],!a||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(e,t,n){var r=ke.exec(t.slice(n));return r?(e.p=Ee[r[0].toLowerCase()],n+r[0].length):-1}function Z(e,t,n){var r=Pe.exec(t.slice(n));return r?(e.w=Ce[r[0].toLowerCase()],n+r[0].length):-1}function ee(e,t,n){var r=Me.exec(t.slice(n));return r?(e.w=Te[r[0].toLowerCase()],n+r[0].length):-1}function te(e,t,n){var r=Re.exec(t.slice(n));return r?(e.m=Ne[r[0].toLowerCase()],n+r[0].length):-1}function ne(e,t,n){var r=Ae.exec(t.slice(n));return r?(e.m=De[r[0].toLowerCase()],n+r[0].length):-1}function ie(e,t,n){return o(e,ye,t,n)}function ae(e,t,n){return o(e,ve,t,n)}function oe(e,t,n){return o(e,be,t,n)}function se(e){return Se[e.getDay()]}function ue(e){return xe[e.getDay()]}function le(e){return Oe[e.getMonth()]}function ce(e){return we[e.getMonth()]}function fe(e){return _e[+(e.getHours()>=12)]}function de(e){return Se[e.getUTCDay()]}function pe(e){return xe[e.getUTCDay()]}function he(e){return Oe[e.getUTCMonth()]}function me(e){return we[e.getUTCMonth()]}function ge(e){return _e[+(e.getUTCHours()>=12)]}var ye=e.dateTime,ve=e.date,be=e.time,_e=e.periods,xe=e.days,Se=e.shortDays,we=e.months,Oe=e.shortMonths,ke=u(_e),Ee=l(_e),Me=u(xe),Te=l(xe),Pe=u(Se),Ce=l(Se),Ae=u(we),De=l(we),Re=u(Oe),Ne=l(Oe),Ie={a:se,A:ue,b:le,B:ce,c:null,d:O,e:O,H:k,I:E,j:M,L:T,m:P,M:C,p:fe,S:A,U:D,w:R,W:N,x:null,X:null,y:I,Y:F,Z:L,"%":J},Fe={a:de,A:pe,b:he,B:me,c:null,d:j,e:j,H:z,I:$,j:U,L:B,m:q,M:W,p:ge,S:V,U:H,w:G,W:Y,x:null,X:null,y:X,Y:Q,Z:K,"%":J},Le={a:Z,A:ee,b:te,B:ne,c:ie,d:y,e:y,H:b,I:b,j:v,L:S,m:g,M:_,p:s,S:x,U:f,w:c,W:d,x:ae,X:oe,y:h,Y:p,Z:m,"%":w};return Ie.x=t(ve,Ie),Ie.X=t(be,Ie),Ie.c=t(ye,Ie),Fe.x=t(ve,Fe),Fe.X=t(be,Fe),Fe.c=t(ye,Fe),{format:function(e){var n=t(e+="",Ie);return n.toString=function(){return e},n},parse:function(e){var t=a(e+="",n);return t.toString=function(){return e},t},utcFormat:function(e){var n=t(e+="",Fe);return n.toString=function(){return e},n},utcParse:function(e){var t=a(e,r);return t.toString=function(){return e},t}}}function o(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function s(e){return e.replace(oe,"\\$&")}function u(e){return new RegExp("^(?:"+e.map(s).join("|")+")","i")}function l(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function c(e,t,n){var r=ie.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function f(e,t,n){var r=ie.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function d(e,t,n){var r=ie.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function p(e,t,n){var r=ie.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function h(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function m(e,t,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function g(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function y(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function v(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function b(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function x(e,t,n){var r=ie.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function S(e,t,n){var r=ie.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function w(e,t,n){var r=ae.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function O(e,t){return o(e.getDate(),t,2)}function k(e,t){return o(e.getHours(),t,2)}function E(e,t){return o(e.getHours()%12||12,t,2)}function M(e,n){return o(1+t.timeDay.count(t.timeYear(e),e),n,3)}function T(e,t){return o(e.getMilliseconds(),t,3)}function P(e,t){return o(e.getMonth()+1,t,2)}function C(e,t){return o(e.getMinutes(),t,2)}function A(e,t){return o(e.getSeconds(),t,2)}function D(e,n){return o(t.timeSunday.count(t.timeYear(e),e),n,2)}function R(e){return e.getDay()}function N(e,n){return o(t.timeMonday.count(t.timeYear(e),e),n,2)}function I(e,t){return o(e.getFullYear()%100,t,2)}function F(e,t){return o(e.getFullYear()%1e4,t,4)}function L(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+o(t/60|0,"0",2)+o(t%60,"0",2)}function j(e,t){return o(e.getUTCDate(),t,2)}function z(e,t){return o(e.getUTCHours(),t,2)}function $(e,t){return o(e.getUTCHours()%12||12,t,2)}function U(e,n){return o(1+t.utcDay.count(t.utcYear(e),e),n,3)}function B(e,t){return o(e.getUTCMilliseconds(),t,3)}function q(e,t){return o(e.getUTCMonth()+1,t,2)}function W(e,t){return o(e.getUTCMinutes(),t,2)}function V(e,t){return o(e.getUTCSeconds(),t,2)}function H(e,n){return o(t.utcSunday.count(t.utcYear(e),e),n,2)}function G(e){return e.getUTCDay()}function Y(e,n){return o(t.utcMonday.count(t.utcYear(e),e),n,2)}function X(e,t){return o(e.getUTCFullYear()%100,t,2)}function Q(e,t){return o(e.getUTCFullYear()%1e4,t,4)}function K(){return"+0000"}function J(){return"%"}function Z(t){return ne=a(t),e.timeFormat=ne.format,e.timeParse=ne.parse,e.utcFormat=ne.utcFormat,e.utcParse=ne.utcParse,ne}function ee(e){return e.toISOString()}function te(e){var t=new Date(e);return isNaN(t)?null:t}var ne,re={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,ae=/^%/,oe=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Z({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]
});var se="%Y-%m-%dT%H:%M:%S.%LZ",ue=Date.prototype.toISOString?ee:e.utcFormat(se),le=+new Date("2000-01-01T00:00:00.000Z")?te:e.utcParse(se);e.timeFormatDefaultLocale=Z,e.timeFormatLocale=a,e.isoFormat=ue,e.isoParse=le,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){"use strict";t.__esModule=!0;t.PUSH="PUSH",t.REPLACE="REPLACE",t.POP="POP"},function(e,t){"use strict";t.__esModule=!0;t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.supportsHistory=function(){var e=window.navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},t.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},t.supportsPopstateOnHashchange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&navigator.userAgent.indexOf("CriOS")===-1}},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,f[e[m]]={}),f[e[m]]}var i,a=n(20),o=n(143),s=n(490),u=n(234),l=n(522),c=n(154),f={},d=!1,p=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=a({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),a=o.registrationNameDependencies[e],s=0;s<a.length;s++){var u=a[s];i.hasOwnProperty(u)&&i[u]||("topWheel"===u?c("wheel")?g.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?g.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):g.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?g.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):g.ReactEventListener.trapBubbledEvent("topScroll","scroll",g.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(g.ReactEventListener.trapCapturedEvent("topFocus","focus",n),g.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(g.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),g.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):h.hasOwnProperty(u)&&g.ReactEventListener.trapBubbledEvent(u,h[u],n),i[u]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=g.supportsEventPageXY()),!i&&!d){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),d=!0}}});e.exports=g},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(85),a=n(234),o=n(152),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(10),i=(n(4),{}),a={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,a,o,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,i,a,o,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(f){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(a){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var a,o=t[n],s=this.wrapperInitData[n];try{a=!0,s!==i&&o.close&&o.close.call(this,s),a=!1}finally{if(a)try{this.closeAll(n+1)}catch(u){}}}this.wrapperInitData.length=0}};e.exports=a},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,a="",o=0,s=0;for(o=n.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==o&&(a+=t.substring(s,o)),s=o+1,a+=r}return s!==o?a+t.substring(s,o):a}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var i=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r,i=n(25),a=n(142),o=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(150),l=u(function(e,t){if(e.namespaceURI!==a.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.RouterContext=t.createRoutes=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var i=n(51);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var a=n(160);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return a.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return a.routerShape}});var o=n(69);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return o.formatPattern}});var s=n(542),u=r(s),l=n(251),c=r(l),f=n(538),d=r(f),p=n(553),h=r(p),m=n(539),g=r(m),y=n(540),v=r(y),b=n(253),_=r(b),x=n(541),S=r(x),w=n(161),O=r(w),k=n(551),E=r(k),M=n(258),T=r(M),P=n(544),C=r(P),A=n(545),D=r(A),R=n(549),N=r(R),I=n(255),F=r(I);t.Router=u.default,t.Link=c.default,t.IndexLink=d.default,t.withRouter=h.default,t.IndexRedirect=g.default,t.IndexRoute=v.default,t.Redirect=_.default,t.Route=S.default,t.RouterContext=O.default,t.match=E.default,t.useRouterHistory=T.default,t.applyRouterMiddleware=C.default,t.browserHistory=D.default,t.hashHistory=N.default,t.createMemoryHistory=F.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.AGGREGATE_OPS=["values","count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","median","q1","q3","ci0","ci1","modeskew","min","max","argmin","argmax"],t.AGGREGATE_OP_INDEX=r.toSet(t.AGGREGATE_OPS),t.SUM_OPS=["count","sum","distinct","valid","missing"],t.SHARED_DOMAIN_OPS=["mean","average","median","q1","q3","min","max"],t.SHARED_DOMAIN_OP_INDEX=r.toSet(t.SHARED_DOMAIN_OPS)},function(e,t,n){"use strict";function r(e,t){var n="datum["+l.stringValue(e)+"]";if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return o.warn(o.message.unrecognizedParse(t)),null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(12),o=n(11),s=n(175),u=n(35),l=n(3),c=n(55),f=n(26),d=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(l.duplicate(this.parse))},t.make=function(e){var n={},r=e.transforms.filter(s.isCalculate).reduce(function(e,t){return e[t.as]=!0,e},{});e instanceof c.ModelWithField&&e.forEachFieldDef(function(e){if(e.type===u.TEMPORAL)n[e.field]="date";else if(e.type===u.QUANTITATIVE){if(a.isCount(e)||r[e.field])return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var f=i.format.parse;l.keys(f).forEach(function(e){n[e]=f[e]})}var d=e.component.data.ancestorParse;return l.keys(d).forEach(function(e){n[e]!==d[e]?o.warn(o.message.differentParse(e,n[e],d[e])):delete n[e]}),0===l.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=l.extend(this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return l.toSet(l.keys(this.parse))},t.prototype.dependentFields=function(){return l.toSet(l.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return l.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(f.DataFlowNode);t.ParseNode=d},[694,75,3,26],function(e,t,n){"use strict";function r(e){var t=e.child.assembleParentGroupProperties();return i.__assign({},t?t:{},d.applyConfig({},e.config.facet.cell,l.FILL_STROKE_CONFIG.concat(["clip"])))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(6),o=n(38),s=n(12),u=n(11),l=n(23),c=n(118),f=n(3),d=n(21),p=n(73),h=n(89),m=n(276),g=n(91),y=n(55),v=n(169),b=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,c.initFacetResolve(t.resolve||{}))||this;o.child=d.buildModel(t.spec,o,o.getName("child"),void 0,i,a),o.children=[o.child];var s=v.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(s),o}return i.__extends(t,e),t.prototype.initFacet=function(e){return o.reduce(e,function(e,t,n){return f.contains([a.ROW,a.COLUMN],n)?void 0===t.field?(u.warn(u.message.emptyFieldDef(t,n)),e):(e[n]=s.normalize(t,n),e):(u.warn(u.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.hasDiscreteDomain=function(e){return!0},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=h.parseData(this),this.child.parseData()},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup();var e=this.channelHasField(a.ROW)&&this.channelHasField(a.COLUMN);this.component.mark=[i.__assign({name:this.getName("cell"),type:"group",from:{facet:i.__assign({name:this.component.data.facetRoot.name,data:this.component.data.facetRoot.data,groupby:[].concat(this.channelHasField(a.ROW)?[this.field(a.ROW)]:[],this.channelHasField(a.COLUMN)?[this.field(a.COLUMN)]:[])},e?{aggregate:{cross:!0}}:{})}},e?{sort:{field:[this.field(a.ROW,{expr:"datum"}),this.field(a.COLUMN,{expr:"datum"})],order:["ascending","ascending"]}}:{},{encode:{update:r(this)}})]},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:s.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,fieldRef:d.formatSignalRef(t,n.format,"parent",this.config,!0),header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.getSizeSignalRef(n),axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]&&"shared"===this.resolve[e].axis){for(var n="x"===e?"column":"row",r=this.component.layoutHeaders[n],i=0,a=t.component.axes[e].axes;i<a.length;i++){var o=a[i],s=m.getHeaderType(o.orient);r[s]=r[s]||[this.makeHeaderComponent(n,!1)],r[s][0].axes.push(o)}t.component.axes[e].axes=[]}},t.prototype.parseLegend=function(){var e=this;this.child.parseLegend(),this.component.legends={},f.keys(this.child.component.legends).forEach(function(t){"shared"===e.resolve[t].legend&&g.moveSharedLegendUp(e.component.legends,e.child,t)})},t.prototype.assembleData=function(){return this.parent?[]:p.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?{signal:this.columnDistinctSignal()}:1;return{padding:{row:10,column:10},offset:10,columns:e,bounds:"full"}},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){var e=this.getName("column")+"_layout",t=this.field("column",{prefix:"distinct"});return"data('"+e+"')[0]["+f.stringValue(t)+"]"},t.prototype.assembleMarks=function(){var e=this.component.data.facetRoot,t=p.assembleFacetData(e),n=this.component.mark[0];n.from.facet=i.__assign({},n.from.facet,{name:e.name,data:e.data});var r=[i.__assign({},t.length>0?{data:t}:{},n,this.child.assembleGroup())];return r},t.prototype.getMapping=function(){return this.facet},t}(y.ModelWithField);t.FacetModel=b},[717,11,15,3,27],[722,23,620,621],function(e,t,n){"use strict";function r(e,t){var n={};return u.SCALE_CHANNELS.forEach(function(r){var i=e[r]||{scale:t(r)},a=c.contains(u.SPATIAL_SCALE_CHANNELS,r)?"axis":"legend";"independent"!==i.scale||"shared"!==i.axis&&"shared"!==i.legend||l.warn(l.message.independentScaleMeansIndependentGuide(r)),n[r]=(o={scale:i.scale||"shared"},o[a]="independent"===i.scale?"independent":i[a]||"shared",o);var o}),n}function i(e){return r(e,function(e){return"shared"})}function a(e){return r(e,function(e){return"independent"})}function o(e){return r(e,function(e){return c.contains(u.NONSPATIAL_SCALE_CHANNELS,e)?"shared":"independent"})}function s(e){return r(e,function(e){return"shared"})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),l=n(11),c=n(3);t.initLayerResolve=i,t.initConcatResolve=a,t.initRepeatResolve=o,t.initFacetResolve=s},function(e,t,n){!function(e,r){r(t,n(40),n(366),n(7),n(365),n(101))}(this,function(e,t,n,r,i,a){"use strict";function o(){function e(){var e=s().length,n=l[1]<l[0],a=l[n-0],o=l[1-n],h=O(e,f,d);r=(o-a)/(h||1),c&&(r=Math.floor(r)),a+=(o-a-r*(e-f))*p,i=r*(1-f),c&&(a=Math.round(a),i=Math.round(i));var m=t.range(e).map(function(e){return a+r*e});return u(n?m.reverse():m)}var r,i,a=n.scaleOrdinal().unknown(void 0),s=a.domain,u=a.range,l=[0,1],c=!1,f=0,d=0,p=.5;return delete a.unknown,a.domain=function(t){return arguments.length?(s(t),e()):s()},a.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},a.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},a.bandwidth=function(){return i},a.step=function(){return r},a.round=function(t){return arguments.length?(c=!!t,e()):c},a.padding=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),f=d,e()):f},a.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},a.paddingOuter=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},a.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},a.invertRange=function(e){if(null!=e[0]&&null!=e[1]){var n,r,a,o=+e[0],c=+e[1],f=l[1]<l[0],d=f?u().reverse():u(),p=d.length-1;if(o===o&&c===c&&(c<o&&(a=o,o=c,c=a),!(c<d[0]||o>l[1-f])))return n=Math.max(0,t.bisectRight(d,o)-1),r=o===c?n:t.bisectRight(d,c)-1,o-d[n]>i+1e-10&&++n,f&&(a=n,n=p-r,r=p-a),n>r?void 0:s().slice(n,r+1)}},a.invert=function(e){var t=a.invertRange([e,e]);return t?t[0]:t},a.copy=function(){return o().domain(s()).range(l).round(c).paddingInner(f).paddingOuter(d).align(p)},e()}function s(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return s(t())},e}function u(){return s(o().paddingInner(1))}function l(e){return k.call(e,function(e){return+e})}function c(){function e(e){return i(e)}function t(e){a=l(e),i.domain([a[0],r.peek(a)])}var i=n.scaleLinear(),a=[];return e.domain=function(n){return arguments.length?(t(n),e):a.slice()},e.range=function(t){return arguments.length?(i.range(t),e):i.range()},e.rangeRound=function(t){return arguments.length?(i.rangeRound(t),e):i.rangeRound()},e.interpolate=function(t){return arguments.length?(i.interpolate(t),e):i.interpolate()},e.invert=function(e){return i.invert(e)},e.ticks=function(t){var n=a.length,r=~~(n/(t||n));return r<2?e.domain():a.filter(function(e,t){return!(t%r)})},e.tickFormat=function(){return i.tickFormat.apply(i,arguments)},e.copy=function(){return c().domain(e.domain()).range(e.range())},e}function f(){function e(e){return null==e||e!==e?void 0:r[(t.bisect(n,e)-1)%r.length]}var n=[],r=[];return e.domain=function(t){return arguments.length?(n=l(t),e):n.slice()},e.range=function(t){return arguments.length?(r=E.call(t),e):r.slice()},e.copy=function(){return f().domain(e.domain()).range(e.range())},e}function d(e){function t(){var e=a.domain();o=e[0],s=r.peek(e)-o}function i(t){var n=(t-o)/s;return e(u?Math.max(0,Math.min(1,n)):n)}var a=n.scaleLinear(),o=0,s=1,u=!1;return i.clamp=function(e){return arguments.length?(u=!!e,i):u},i.domain=function(e){return arguments.length?(a.domain(e),t(),i):a.domain()},i.interpolator=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return d().domain(a.domain()).clamp(u).interpolator(e)},i.ticks=function(e){return a.ticks(e)},i.tickFormat=function(e,t){return a.tickFormat(e,t)},i.nice=function(e){return a.nice(e),t(),i},i}function p(e,t){return function(){var n=t();return n.invertRange||(n.invertRange=n.invert?S(n):n.invertExtent?w(n):void 0),n.type=e,n}}function h(e,t){return arguments.length>1?(M[e]=p(e,t),this):M.hasOwnProperty(e)?M[e]:void 0}function m(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}function g(e,t){R[e]=i["interpolate"+t],D[e]=i["scheme"+t]}function y(e,t){var n=t[0],i=r.peek(t)-n;return function(t){return e(n+t*i)}}function v(e,t,n){return"linear"===e.type||"sequential"===e.type?function(e){return(e-t)/(n-t)}:e.copy().domain([t,n]).range([0,1]).interpolate(b)}function b(e,t){var n=t-e;return function(t){return e+t*n}}function _(e,t){var n=a[x(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function x(e){return"interpolate"+e.toLowerCase().split("-").map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("")}var S=function(e){return function(t){var n,r=t[0],i=t[1];return i<r&&(n=r,r=i,i=n),[e.invert(r),e.invert(i)]}},w=function(e){return function(t){var n,r,i,a,o=e.range(),s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),i=0,a=o.length;i<a;++i)o[i]>=s&&o[i]<=u&&(l<0&&(l=i),n=i);if(!(l<0))return s=e.invertExtent(o[l]),u=e.invertExtent(o[n]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}},O=function(e,t,n){var r=e-t+2*n;return e?r>0?r:1:0},k=Array.prototype.map,E=Array.prototype.slice,M={identity:n.scaleIdentity,linear:n.scaleLinear,log:n.scaleLog,ordinal:n.scaleOrdinal,pow:n.scalePow,sqrt:n.scaleSqrt,quantile:n.scaleQuantile,quantize:n.scaleQuantize,threshold:n.scaleThreshold,time:n.scaleTime,utc:n.scaleUtc,band:o,point:u,sequential:d,"bin-linear":c,"bin-ordinal":f};for(var T in M)h(T,M[T]);var P=m("4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac"),C=m("4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"),A=new Array(3).concat("67a9cff7f7f7f1a340","0571b092c5defdb863e66101","0571b092c5def7f7f7fdb863e66101","2166ac67a9cfd1e5f0fee0b6f1a340b35806","2166ac67a9cfd1e5f0f7f7f7fee0b6f1a340b35806","2166ac4393c392c5ded1e5f0fee0b6fdb863e08214b35806","2166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b35806","0530612166ac4393c392c5ded1e5f0fee0b6fdb863e08214b358067f3b08","0530612166ac4393c392c5ded1e5f0f7f7f7fee0b6fdb863e08214b358067f3b08").map(m),D={blueorange:A},R={category10:n.schemeCategory10,category20:n.schemeCategory20,category20b:n.schemeCategory20b,category20c:n.schemeCategory20c,accent:i.schemeAccent,dark2:i.schemeDark2,paired:i.schemePaired,pastel1:i.schemePastel1,pastel2:i.schemePastel2,set1:i.schemeSet1,set2:i.schemeSet2,set3:i.schemeSet3,tableau10:P,tableau20:C,viridis:n.interpolateViridis,magma:n.interpolateMagma,inferno:n.interpolateInferno,plasma:n.interpolatePlasma,blueorange:a.interpolateRgbBasis(r.peek(A))};g("blues","Blues"),g("greens","Greens"),g("greys","Greys"),g("purples","Purples"),g("reds","Reds"),g("oranges","Oranges"),g("brownbluegreen","BrBG"),g("purplegreen","PRGn"),g("pinkyellowgreen","PiYG"),g("purpleorange","PuOr"),g("redblue","RdBu"),g("redgrey","RdGy"),g("redyellowblue","RdYlBu"),g("redyellowgreen","RdYlGn"),g("spectral","Spectral"),g("bluegreen","BuGn"),g("bluepurple","BuPu"),g("greenblue","GnBu"),g("orangered","OrRd"),g("purplebluegreen","PuBuGn"),g("purpleblue","PuBu"),g("purplered","PuRd"),g("redpurple","RdPu"),g("yellowgreenblue","YlGnBu"),g("yellowgreen","YlGn"),g("yelloworangebrown","YlOrBr"),g("yelloworangered","YlOrRd");var N=function(e,t){if(arguments.length>1)return R[e]=t,this;var n=e.split("-");return e=n[0],n=+n[1]+1,n&&D.hasOwnProperty(e)?D[e][n-1]:!n&&R.hasOwnProperty(e)?R[e]:void 0};e.scale=h,e.scheme=N,e.bandSpace=O,e.interpolate=_,e.interpolateRange=y,e.scaleFraction=v,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e,t){var n="datum["+l.stringValue(e)+"]";if("number"===t)return"toNumber("+n+")";if("boolean"===t)return"toBoolean("+n+")";if("string"===t)return"toString("+n+")";if("date"===t)return"toDate("+n+")";if(0===t.indexOf("date:")){var r=t.slice(5,t.length);return"timeParse("+n+","+r+")"}if(0===t.indexOf("utc:")){var r=t.slice(4,t.length);return"utcParse("+n+","+r+")"}return o.warn(o.message.unrecognizedParse(t)),null}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(94),o=n(8),s=n(188),u=n(33),l=n(2),c=n(59),f=n(28),d=function(e){function t(t){var n=e.call(this)||this;return n._parse={},n._parse=t,n}return i.__extends(t,e),t.prototype.clone=function(){return new t(l.duplicate(this.parse))},t.make=function(e){var n={},r=e.transforms.filter(s.isCalculate).reduce(function(e,t){return e[t.as]=!0,e},{});e instanceof c.ModelWithField&&e.forEachFieldDef(function(e){if(e.type===u.TEMPORAL)n[e.field]="date";else if(e.type===u.QUANTITATIVE){if(r[e.field]||a.isCountingAggregateOp(e.aggregate))return;n[e.field]="number"}});var i=e.data;if(i&&i.format&&i.format.parse){var f=i.format.parse;l.keys(f).forEach(function(e){n[e]=f[e]})}var d=e.component.data.ancestorParse;return l.keys(d).forEach(function(e){n[e]!==d[e]?o.warn(o.message.differentParse(e,n[e],d[e])):delete n[e]}),0===l.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"parse",{get:function(){return this._parse},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){this._parse=l.extend(this._parse,e.parse),e.remove()},t.prototype.assembleFormatParse=function(){return this._parse},t.prototype.producedFields=function(){return l.toSet(l.keys(this.parse))},t.prototype.dependentFields=function(){return l.toSet(l.keys(this.parse))},t.prototype.assembleTransforms=function(){var e=this;return l.keys(this._parse).map(function(t){var n=r(t,e._parse[t]);if(!n)return null;var i={type:"formula",expr:n,as:t};return i}).filter(function(e){return null!==e})},t}(f.DataFlowNode);t.ParseNode=d},[694,79,2,28],function(e,t,n){"use strict";function r(e){var t=e.child.assembleParentGroupProperties();return i.__assign({},t?t:{},d.applyConfig({},e.config.facet.cell,l.FILL_STROKE_CONFIG.concat(["clip"])))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(5),o=n(32),s=n(16),u=n(8),l=n(24),c=n(125),f=n(2),d=n(18),p=n(76),h=n(96),m=n(297),g=n(77),y=n(59),v=n(182),b=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,c.initFacetResolve(t.resolve||{}))||this;o.child=d.buildModel(t.spec,o,o.getName("child"),void 0,i,a),o.children=[o.child];var s=v.replaceRepeaterInFacet(t.facet,i);return o.facet=o.initFacet(s),o}return i.__extends(t,e),t.prototype.initFacet=function(e){return o.reduce(e,function(e,t,n){return f.contains([a.ROW,a.COLUMN],n)?void 0===t.field?(u.warn(u.message.emptyFieldDef(t,n)),e):(e[n]=s.normalize(t,n),e):(u.warn(u.message.incompatibleChannel(n,"facet")),e)},{})},t.prototype.channelHasField=function(e){return!!this.facet[e]},t.prototype.hasDiscreteDomain=function(e){return!0},t.prototype.fieldDef=function(e){return this.facet[e]},t.prototype.parseData=function(){this.component.data=h.parseData(this),this.child.parseData()},t.prototype.parseSelection=function(){this.child.parseSelection(),this.component.selection=this.child.component.selection},t.prototype.parseMarkGroup=function(){this.child.parseMarkGroup();var e=this.channelHasField(a.ROW)&&this.channelHasField(a.COLUMN);this.component.mark=[i.__assign({name:this.getName("cell"),type:"group",from:{facet:i.__assign({name:this.component.data.facetRoot.name,data:this.component.data.facetRoot.data,groupby:[].concat(this.channelHasField(a.ROW)?[this.field(a.ROW)]:[],this.channelHasField(a.COLUMN)?[this.field(a.COLUMN)]:[])},e?{aggregate:{cross:!0}}:{})}},e?{sort:{field:[this.field(a.ROW,{expr:"datum"}),this.field(a.COLUMN,{expr:"datum"})],order:["ascending","ascending"]}}:{},{encode:{update:r(this)}})]},t.prototype.parseAxisAndHeader=function(){this.child.parseAxisAndHeader(),this.parseHeader("column"),this.parseHeader("row"),this.mergeChildAxis("x"),this.mergeChildAxis("y")},t.prototype.parseHeader=function(e){if(this.channelHasField(e)){var t=this.facet[e],n=t.header||{},r=void 0!==n.title?n.title:s.title(t,this.config);this.child.component.layoutHeaders[e].title&&(r+=" / "+this.child.component.layoutHeaders[e].title,this.child.component.layoutHeaders[e].title=null),this.component.layoutHeaders[e]={title:r,fieldRef:d.formatSignalRef(t,n.format,"parent",this.config,!0),header:[this.makeHeaderComponent(e,!0)]}}},t.prototype.makeHeaderComponent=function(e,t){var n="row"===e?"height":"width";return{labels:t,sizeSignal:this.child.getSizeSignalRef(n),axes:[]}},t.prototype.mergeChildAxis=function(e){var t=this.child;if(t.component.axes[e]&&"shared"===this.resolve[e].axis)for(var n="x"===e?"column":"row",r=this.component.layoutHeaders[n],i=0,a=t.component.axes[e];i<a.length;i++){var o=a[i],s=o.main,u=m.getHeaderType(s.get("orient"));r[u]=r[u]||[this.makeHeaderComponent(n,!1)],r[u][0].axes.push(s.combine()),delete o.main}},t.prototype.parseLegend=function(){g.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:p.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.child.assembleSelectionTopLevelSignals(e)},t.prototype.assembleSelectionSignals=function(){return this.child.assembleSelectionSignals(),[]},t.prototype.assembleSelectionData=function(e){return this.child.assembleSelectionData(e)},t.prototype.assembleLayout=function(){var e=this.channelHasField("column")?{signal:this.columnDistinctSignal()}:1;return{padding:{row:10,column:10},offset:10,columns:e,bounds:"full"}},t.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()},t.prototype.columnDistinctSignal=function(){var e=this.getName("column")+"_layout",t=this.field("column",{prefix:"distinct"});return"data('"+e+"')[0]["+f.stringValue(t)+"]"},t.prototype.assembleMarks=function(){var e=this.component.data.facetRoot,t=p.assembleFacetData(e),n=this.component.mark[0];n.from.facet=i.__assign({},n.from.facet,{name:e.name,data:e.data});var r=[i.__assign({},t.length>0?{data:t}:{},n,this.child.assembleGroup())];return r},t.prototype.getMapping=function(){return this.facet},t}(y.ModelWithField);t.FacetModel=b},[717,8,13,2,29],[722,24,665,666],function(e,t,n){"use strict";function r(e,t){var n={};return u.SCALE_CHANNELS.forEach(function(r){var i=e[r]||{scale:t(r)},a=c.contains(u.SPATIAL_SCALE_CHANNELS,r)?"axis":"legend";"independent"!==i.scale||"shared"!==i.axis&&"shared"!==i.legend||l.warn(l.message.independentScaleMeansIndependentGuide(r)),n[r]=(o={scale:i.scale||"shared"},o[a]="independent"===i.scale?"independent":i[a]||"shared",o);var o}),n}function i(e){return r(e,function(e){return"shared"})}function a(e){return r(e,function(e){return"independent"})}function o(e){return r(e,function(e){return c.contains(u.NONSPATIAL_SCALE_CHANNELS,e)?"shared":"independent"})}function s(e){return r(e,function(e){return"shared"})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(5),l=n(8),c=n(2);t.initLayerResolve=i,t.initConcatResolve=a,t.initRepeatResolve=o,t.initFacetResolve=s},function(e,t,n){"use strict";function r(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=o.url(e,t),this.missingSchema=o.normalizeId(o.fullPath(this.missingRef));
}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var o=n(127);e.exports={Validation:a(r),MissingRef:a(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";function r(e,t,n){var a=this._refs[n];if("string"==typeof a){if(!this._refs[a])return r.call(this,e,t,a);a=this._refs[a]}if(a=a||this._schemas[n],a instanceof v)return s(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,u,l,c=i.call(this,t,n);return c&&(o=c.schema,t=c.root,l=c.baseId),o instanceof v?u=o.validate||e.call(this,o.schema,t,void 0,l):void 0!==o&&(u=s(o,this._opts.inlineRefs)?o:e.call(this,o,t,void 0,l)),u}function i(e,t){var n=m.parse(t,!1,!0),r=f(n),i=c(this._getId(e.schema));if(r!==i){var s=d(r),u=this._refs[s];if("string"==typeof u)return a.call(this,e,u,n);if(u instanceof v)u.validate||this._compile(u),e=u;else{if(u=this._schemas[s],!(u instanceof v))return;if(u.validate||this._compile(u),s==d(t))return{schema:u,root:e,baseId:i};e=u}if(!e.schema)return;i=c(this._getId(e.schema))}return o.call(this,n,i,e.schema,e)}function a(e,t,n){var r=i.call(this,e,t);if(r){var a=r.schema,s=r.baseId;e=r.root;var u=this._getId(a);return u&&(s=p(s,u)),o.call(this,n,s,a,e)}}function o(e,t,n,r){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var a=e.hash.split("/"),o=1;o<a.length;o++){var s=a[o];if(s){if(s=y.unescapeFragment(s),n=n[s],void 0===n)break;var u;if(!_[s]&&(u=this._getId(n),u&&(t=p(t,u)),n.$ref)){var l=p(t,n.$ref),c=i.call(this,r,l);c&&(n=c.schema,r=c.root,t=c.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}function s(e,t){return t!==!1&&(void 0===t||t===!0?u(e):t?l(e)<=t:void 0)}function u(e){var t;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(t=e[n],"object"==typeof t&&!u(t))return!1}else for(var r in e){if("$ref"==r)return!1;if(t=e[r],"object"==typeof t&&!u(t))return!1}return!0}function l(e){var t,n=0;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(t=e[r],"object"==typeof t&&(n+=l(t)),n==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(x[i])n++;else if(t=e[i],"object"==typeof t&&(n+=l(t)+1),n==1/0)return 1/0}return n}function c(e,t){t!==!1&&(e=d(e));var n=m.parse(e,!1,!0);return f(n)}function f(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}function d(e){return e?e.replace(S,""):""}function p(e,t){return t=d(t),m.resolve(e,t)}function h(e){var t=d(this._getId(e)),n={"":t},r={"":c(t,!1)},i={},a=this;return b(e,{allKeys:!0},function(e,t,o,s,u,l,c){if(""!==t){var f=a._getId(e),p=n[s],h=r[s]+"/"+u;if(void 0!==c&&(h+="/"+("number"==typeof c?c:y.escapeFragment(c))),"string"==typeof f){f=p=d(p?m.resolve(p,f):f);var v=a._refs[f];if("string"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!g(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=d(h))if("#"==f[0]){if(i[f]&&!g(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else a._refs[f]=h}n[t]=p,r[t]=h}}),i}var m=n(585),g=n(131),y=n(63),v=n(190),b=n(439);e.exports=r,r.normalizeId=d,r.fullPath=c,r.url=p,r.ids=h,r.inlineRef=s,r.schema=i;var _=y.toHash(["properties","patternProperties","enum","dependencies","definitions"]),x=y.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),S=/#\/?$/},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.runtimeContext=t.runtime=t.timeFormatLocale=t.formatLocale=t.expressionFunction=t.parse=t.View=t.projection=t.interpolateRange=t.interpolate=t.scheme=t.scale=t.tupleid=t.transforms=t.transform=t.definitions=t.definition=t.register=t.ingest=t.changeset=t.Transform=t.Operator=t.MultiPulse=t.Pulse=t.Parameters=t.EventStream=t.Dataflow=t.version=void 0;var i=n(436);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return i.version}});var a=n(285);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=n(7);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var s=n(177);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(178);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var l=n(42);Object.defineProperty(t,"Dataflow",{enumerable:!0,get:function(){return l.Dataflow}}),Object.defineProperty(t,"EventStream",{enumerable:!0,get:function(){return l.EventStream}}),Object.defineProperty(t,"Parameters",{enumerable:!0,get:function(){return l.Parameters}}),Object.defineProperty(t,"Pulse",{enumerable:!0,get:function(){return l.Pulse}}),Object.defineProperty(t,"MultiPulse",{enumerable:!0,get:function(){return l.MultiPulse}}),Object.defineProperty(t,"Operator",{enumerable:!0,get:function(){return l.Operator}}),Object.defineProperty(t,"Transform",{enumerable:!0,get:function(){return l.Transform}}),Object.defineProperty(t,"changeset",{enumerable:!0,get:function(){return l.changeset}}),Object.defineProperty(t,"ingest",{enumerable:!0,get:function(){return l.ingest}}),Object.defineProperty(t,"register",{enumerable:!0,get:function(){return l.register}}),Object.defineProperty(t,"definition",{enumerable:!0,get:function(){return l.definition}}),Object.defineProperty(t,"definitions",{enumerable:!0,get:function(){return l.definitions}}),Object.defineProperty(t,"transform",{enumerable:!0,get:function(){return l.transform}}),Object.defineProperty(t,"transforms",{enumerable:!0,get:function(){return l.transforms}}),Object.defineProperty(t,"tupleid",{enumerable:!0,get:function(){return l.tupleid}});var c=n(119);Object.defineProperty(t,"scale",{enumerable:!0,get:function(){return c.scale}}),Object.defineProperty(t,"scheme",{enumerable:!0,get:function(){return c.scheme}}),Object.defineProperty(t,"interpolate",{enumerable:!0,get:function(){return c.interpolate}}),Object.defineProperty(t,"interpolateRange",{enumerable:!0,get:function(){return c.interpolateRange}});var f=n(590);Object.defineProperty(t,"projection",{enumerable:!0,get:function(){return f.projection}});var d=n(675);Object.defineProperty(t,"View",{enumerable:!0,get:function(){return d.View}});var p=n(283);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return p.parse}}),Object.defineProperty(t,"expressionFunction",{enumerable:!0,get:function(){return p.expressionFunction}}),Object.defineProperty(t,"formatLocale",{enumerable:!0,get:function(){return p.formatLocale}}),Object.defineProperty(t,"timeFormatLocale",{enumerable:!0,get:function(){return p.timeFormatLocale}});var h=n(284);Object.defineProperty(t,"runtime",{enumerable:!0,get:function(){return h.parse}}),Object.defineProperty(t,"runtimeContext",{enumerable:!0,get:function(){return h.context}});var m=n(587),g=(r(m),n(589)),y=(r(g),n(591)),v=(r(y),n(676)),b=(r(v),n(677)),_=(r(b),n(586));r(_)},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function n(){}function r(e){var t;return e=(e+"").trim().toLowerCase(),(t=R.exec(e))?(t=parseInt(t[1],16),new u(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1)):(t=N.exec(e))?i(parseInt(t[1],16)):(t=I.exec(e))?new u(t[1],t[2],t[3],1):(t=F.exec(e))?new u(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=L.exec(e))?a(t[1],t[2],t[3],t[4]):(t=j.exec(e))?a(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=z.exec(e))?l(t[1],t[2]/100,t[3]/100,1):(t=$.exec(e))?l(t[1],t[2]/100,t[3]/100,t[4]):U.hasOwnProperty(e)?i(U[e]):"transparent"===e?new u(NaN,NaN,NaN,0):null}function i(e){return new u(e>>16&255,e>>8&255,255&e,1)}function a(e,t,n,r){return r<=0&&(e=t=n=NaN),new u(e,t,n,r)}function o(e){return e instanceof n||(e=r(e)),e?(e=e.rgb(),new u(e.r,e.g,e.b,e.opacity)):new u}function s(e,t,n,r){return 1===arguments.length?o(e):new u(e,t,n,null==r?1:r)}function u(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function l(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new d(e,t,n,r)}function c(e){if(e instanceof d)return new d(e.h,e.s,e.l,e.opacity);if(e instanceof n||(e=r(e)),!e)return new d;if(e instanceof d)return e;e=e.rgb();var t=e.r/255,i=e.g/255,a=e.b/255,o=Math.min(t,i,a),s=Math.max(t,i,a),u=NaN,l=s-o,c=(s+o)/2;return l?(u=t===s?(i-a)/l+6*(i<a):i===s?(a-t)/l+2:(t-i)/l+4,l/=c<.5?s+o:2-s-o,u*=60):l=c>0&&c<1?0:u,new d(u,l,c,e.opacity)}function f(e,t,n,r){return 1===arguments.length?c(e):new d(e,t,n,null==r?1:r)}function d(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function p(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function h(e){if(e instanceof g)return new g(e.l,e.a,e.b,e.opacity);if(e instanceof w){var t=e.h*B;return new g(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof u||(e=o(e));var n=_(e.r),r=_(e.g),i=_(e.b),a=y((.4124564*n+.3575761*r+.1804375*i)/V),s=y((.2126729*n+.7151522*r+.072175*i)/H),l=y((.0193339*n+.119192*r+.9503041*i)/G);return new g(116*s-16,500*(a-s),200*(s-l),e.opacity)}function m(e,t,n,r){return 1===arguments.length?h(e):new g(e,t,n,null==r?1:r)}function g(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function y(e){return e>K?Math.pow(e,1/3):e/Q+Y}function v(e){return e>X?e*e*e:Q*(e-Y)}function b(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function x(e){if(e instanceof w)return new w(e.h,e.c,e.l,e.opacity);e instanceof g||(e=h(e));var t=Math.atan2(e.b,e.a)*q;return new w(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function S(e,t,n,r){return 1===arguments.length?x(e):new w(e,t,n,null==r?1:r)}function w(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function O(e){if(e instanceof E)return new E(e.h,e.s,e.l,e.opacity);e instanceof u||(e=o(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ae*r+re*t-ie*n)/(ae+re-ie),a=r-i,s=(ne*(n-i)-ee*a)/te,l=Math.sqrt(s*s+a*a)/(ne*i*(1-i)),c=l?Math.atan2(s,a)*q-120:NaN;return new E(c<0?c+360:c,l,i,e.opacity)}function k(e,t,n,r){return 1===arguments.length?O(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var M=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e},T=.7,P=1/T,C="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R=/^#([0-9a-f]{3})$/,N=/^#([0-9a-f]{6})$/,I=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),F=new RegExp("^rgb\\("+[D,D,D]+"\\)$"),L=new RegExp("^rgba\\("+[C,C,C,A]+"\\)$"),j=new RegExp("^rgba\\("+[D,D,D,A]+"\\)$"),z=new RegExp("^hsl\\("+[A,D,D]+"\\)$"),$=new RegExp("^hsla\\("+[A,D,D,A]+"\\)$"),U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),M(u,s,t(n,{brighter:function(e){return e=null==e?P:Math.pow(P,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?T:Math.pow(T,e),new u(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(1===e?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),M(d,f,t(n,{brighter:function(e){return e=null==e?P:Math.pow(P,e),new d(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?T:Math.pow(T,e),new d(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new u(p(e>=240?e-240:e+120,i,r),p(e,i,r),p(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var B=Math.PI/180,q=180/Math.PI,W=18,V=.95047,H=1,G=1.08883,Y=4/29,X=6/29,Q=3*X*X,K=X*X*X;M(g,m,t(n,{brighter:function(e){return new g(this.l+W*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new g(this.l-W*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=H*v(e),t=V*v(t),n=G*v(n),new u(b(3.2404542*t-1.5371385*e-.4985314*n),b(-.969266*t+1.8760108*e+.041556*n),b(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),M(w,S,t(n,{brighter:function(e){return new w(this.h,this.c,this.l+W*(null==e?1:e),this.opacity)},darker:function(e){return new w(this.h,this.c,this.l-W*(null==e?1:e),this.opacity)},rgb:function(){return h(this).rgb()}}));var J=-.14861,Z=1.78277,ee=-.29227,te=-.90649,ne=1.97294,re=ne*te,ie=ne*Z,ae=Z*ee-te*J;M(E,k,t(n,{brighter:function(e){return e=null==e?P:Math.pow(P,e),new E(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?T:Math.pow(T,e),new E(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*B,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new u(255*(t+n*(J*r+Z*i)),255*(t+n*(ee*r+te*i)),255*(t+n*(ne*r)),this.opacity)}})),e.color=r,e.rgb=s,e.hsl=f,e.lab=m,e.hcl=S,e.cubehelix=k,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,n,r,o){function s(t){return e(t=new Date((+t))),t}return s.floor=s,s.ceil=function(t){return e(t=new Date(t-1)),n(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return n(e=new Date((+e)),null==t?1:Math.floor(t)),e},s.range=function(t,r,i){var a=[];if(t=s.ceil(t),i=null==i?1:Math.floor(i),!(t<r&&i>0))return a;do a.push(new Date((+t)));while(n(t,i),e(t),t<r);return a},s.filter=function(r){return t(function(t){if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},function(e,t){if(e>=e)if(t<0)for(;++t<=0;)for(;n(e,-1),!r(e););else for(;--t>=0;)for(;n(e,1),!r(e););})},r&&(s.count=function(t,n){return i.setTime(+t),a.setTime(+n),e(i),e(a),Math.floor(r(i,a))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s:null}),s}function n(e){return t(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+7*t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*l)/d})}function r(e){return t(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+7*t)},function(e,t){return(t-e)/d})}var i=new Date,a=new Date,o=t(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?t(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):o:null};var s=o.range,u=1e3,l=6e4,c=36e5,f=864e5,d=6048e5,p=t(function(e){e.setTime(Math.floor(e/u)*u)},function(e,t){e.setTime(+e+t*u)},function(e,t){return(t-e)/u},function(e){return e.getUTCSeconds()}),h=p.range,m=t(function(e){e.setTime(Math.floor(e/l)*l)},function(e,t){e.setTime(+e+t*l)},function(e,t){return(t-e)/l},function(e){return e.getMinutes()}),g=m.range,y=t(function(e){var t=e.getTimezoneOffset()*l%c;t<0&&(t+=c),e.setTime(Math.floor((+e-t)/c)*c+t)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getHours()}),v=y.range,b=t(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*l)/f},function(e){return e.getDate()-1}),_=b.range,x=n(0),S=n(1),w=n(2),O=n(3),k=n(4),E=n(5),M=n(6),T=x.range,P=S.range,C=w.range,A=O.range,D=k.range,R=E.range,N=M.range,I=t(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()}),F=I.range,L=t(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});L.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};var j=L.range,z=t(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*l)},function(e,t){return(t-e)/l},function(e){return e.getUTCMinutes()}),$=z.range,U=t(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*c)},function(e,t){return(t-e)/c},function(e){return e.getUTCHours()}),B=U.range,q=t(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/f},function(e){return e.getUTCDate()-1}),W=q.range,V=r(0),H=r(1),G=r(2),Y=r(3),X=r(4),Q=r(5),K=r(6),J=V.range,Z=H.range,ee=G.range,te=Y.range,ne=X.range,re=Q.range,ie=K.range,ae=t(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()}),oe=ae.range,se=t(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});se.every=function(e){return isFinite(e=Math.floor(e))&&e>0?t(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};var ue=se.range;e.timeInterval=t,e.timeMillisecond=o,e.timeMilliseconds=s,e.utcMillisecond=o,e.utcMilliseconds=s,e.timeSecond=p,e.timeSeconds=h,e.utcSecond=p,e.utcSeconds=h,e.timeMinute=m,e.timeMinutes=g,e.timeHour=y,e.timeHours=v,e.timeDay=b,e.timeDays=_,e.timeWeek=x,e.timeWeeks=T,e.timeSunday=x,e.timeSundays=T,e.timeMonday=S,e.timeMondays=P,e.timeTuesday=w,e.timeTuesdays=C,e.timeWednesday=O,e.timeWednesdays=A,e.timeThursday=k,e.timeThursdays=D,e.timeFriday=E,e.timeFridays=R,e.timeSaturday=M,e.timeSaturdays=N,e.timeMonth=I,e.timeMonths=F,e.timeYear=L,e.timeYears=j,e.utcMinute=z,e.utcMinutes=$,e.utcHour=U,e.utcHours=B,e.utcDay=q,e.utcDays=W,e.utcWeek=V,e.utcWeeks=J,e.utcSunday=V,e.utcSundays=J,e.utcMonday=H,e.utcMondays=Z,e.utcTuesday=G,e.utcTuesdays=ee,e.utcWednesday=Y,e.utcWednesdays=te,e.utcThursday=X,e.utcThursdays=ne,e.utcFriday=Q,e.utcFridays=re,e.utcSaturday=K,e.utcSaturdays=ie,e.utcMonth=ae,e.utcMonths=oe,e.utcYear=se,e.utcYears=ue,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),a=Array.isArray(n);if(i&&a){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=a)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var o=Object.keys(t);if(o.length!==Object.keys(n).length)return!1;var s=t instanceof Date,u=n instanceof Date;if(s&&u)return t.getTime()==n.getTime();if(s!=u)return!1;var l=t instanceof RegExp,c=n instanceof RegExp;if(l&&c)return t.toString()==n.toString();if(l!=c)return!1;for(r=0;r<o.length;r++)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=0;r<o.length;r++)if(!e(t[o[r]],n[o[r]]))return!1;return!0}return!1}},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";t.__esModule=!0,t.go=t.replaceLocation=t.pushLocation=t.startListener=t.getUserConfirmation=t.getCurrentLocation=void 0;var r=n(65),i=n(105),a=n(209),o=n(50),s=n(134),u="popstate",l="hashchange",c=s.canUseDOM&&!(0,i.supportsPopstateOnHashchange)(),f=function(e){var t=e&&e.key;return(0,r.createLocation)({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash,state:t?(0,a.readState)(t):void 0},void 0,t)},d=t.getCurrentLocation=function(){var e=void 0;try{e=window.history.state||{}}catch(t){e={}}return f(e)},p=(t.getUserConfirmation=function(e,t){return t(window.confirm(e))},t.startListener=function(e){var t=function(t){(0,i.isExtraneousPopstateEvent)(t)||e(f(t.state))};(0,i.addEventListener)(window,u,t);var n=function(){return e(d())};return c&&(0,i.addEventListener)(window,l,n),function(){(0,i.removeEventListener)(window,u,t),c&&(0,i.removeEventListener)(window,l,n)}},function(e,t){var n=e.state,r=e.key;void 0!==n&&(0,a.saveState)(r,n),t({key:r},(0,o.createPath)(e))});t.pushLocation=function(e){return p(e,function(e,t){return window.history.pushState(e,null,t)})},t.replaceLocation=function(e){return p(e,function(e,t){return window.history.replaceState(e,null,t)})},t.go=function(e){e&&window.history.go(e)}},function(e,t){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(394),a=n(50),o=n(136),s=r(o),u=n(104),l=n(65),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getCurrentLocation,n=e.getUserConfirmation,r=e.pushLocation,o=e.replaceLocation,c=e.go,f=e.keyLength,d=void 0,p=void 0,h=[],m=[],g=[],y=function(){return p&&p.action===u.POP?g.indexOf(p.key):d?g.indexOf(d.key):-1},v=function(e){var t=y();d=e,d.action===u.PUSH?g=[].concat(g.slice(0,t+1),[d.key]):d.action===u.REPLACE&&(g[t]=d.key),m.forEach(function(e){return e(d)})},b=function(e){return h.push(e),function(){return h=h.filter(function(t){return t!==e})}},_=function(e){return m.push(e),function(){return m=m.filter(function(t){return t!==e})}},x=function(e,t){(0,i.loopAsync)(h.length,function(t,n,r){(0,s.default)(h[t],e,function(e){return null!=e?r(e):n()})},function(e){n&&"string"==typeof e?n(e,function(e){return t(e!==!1)}):t(e!==!1)})},S=function(e){d&&(0,l.locationsAreEqual)(d,e)||p&&(0,l.locationsAreEqual)(p,e)||(p=e,x(e,function(t){if(p===e)if(p=null,t){if(e.action===u.PUSH){var n=(0,a.createPath)(d),i=(0,a.createPath)(e);i===n&&(0,l.statesAreEqual)(d.state,e.state)&&(e.action=u.REPLACE)}e.action===u.POP?v(e):e.action===u.PUSH?r(e)!==!1&&v(e):e.action===u.REPLACE&&o(e)!==!1&&v(e)}else if(d&&e.action===u.POP){var s=g.indexOf(d.key),f=g.indexOf(e.key);s!==-1&&f!==-1&&c(s-f)}}))},w=function(e){return S(P(e,u.PUSH))},O=function(e){return S(P(e,u.REPLACE))},k=function(){return c(-1)},E=function(){return c(1)},M=function(){return Math.random().toString(36).substr(2,f||6)},T=function(e){return(0,a.createPath)(e)},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M();return(0,l.createLocation)(e,t,n)};return{getCurrentLocation:t,listenBefore:b,listen:_,transitionTo:S,push:w,replace:O,go:c,goBack:k,goForward:E,createKey:M,createPath:a.createPath,createHref:T,createLocation:P}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(52),a=(r(i),function(e,t,n){var r=e(t,n);e.length<2&&n(r)});t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(402),a=r(i),o=n(405),s=r(o),u=n(404),l=r(u),c=n(406),f=r(c),d=n(407),p=r(d),h=n(408),m=r(h),g=n(409),y=r(g),v=n(410),b=r(v),_=n(411),x=r(_),S=n(412),w=r(S),O=n(413),k=r(O),E=n(415),M=r(E),T=n(403),P=r(T),C=[l.default,s.default,f.default,m.default,y.default,b.default,x.default,w.default,k.default,p.default],A=(0,a.default)({prefixMap:P.default.prefixMap,plugins:C},M.default);t.default=A,e.exports=t.default},function(e,t){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){function r(e){if(!o(e)||i(e)!=s)return!1;var t=a(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(443),a=n(445),o=n(450),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){"use strict";e.exports=n(475)},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function a(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function o(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var a=i.nextSibling;if(m(e,i,r),i===n)break;i=a}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&m(r,document.createTextNode(n),i):n?(h(i,n),u(r,i,t)):u(r,e,t)}var c=n(66),f=n(467),d=(n(17),n(36),n(150)),p=n(110),h=n(242),m=d(function(e,t,n){e.insertBefore(t,n)}),g=f.dangerouslyReplaceNodeWithMarkup,y={dangerouslyReplaceNodeWithMarkup:g,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":a(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":p(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":o(e,s.fromNode)}}}};e.exports=y},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:o("96",e),!l.plugins[n]){t.extractEvents?void 0:o("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var a in r)i(r[a],t,a)?void 0:o("98",a,e)}}}function i(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?o("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];a(s,t,n)}return!0}return!!e.registrationName&&(a(e.registrationName,t,n),!0)}function a(e,t,n){l.registrationNameModules[e]?o("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var o=n(10),s=(n(4),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?o("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?o("102",n):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=l.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function a(e){return"topMouseDown"===e||"topTouchStart"===e}function o(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=y.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(i,n,e):m.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)o(e,t,n[i],r[i]);else n&&o(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?y.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function f(e){return!!e._dispatchListeners}var d,p,h=n(10),m=n(148),g=(n(4),n(9),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){
p=e}}),y={isEndish:r,isMoveish:i,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:f,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return p.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return p.traverseEnterLeave(e,t,n,r,i)},injection:g};e.exports=y},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:n,unescape:r};e.exports=i},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function o(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(10),u=n(496),l=n(221),c=n(71),f=l(c.isValidElement),d=(n(4),n(9),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:f.func},h={},m={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,"prop",null,u);if(i instanceof Error&&!(i.message in h)){h[i.message]=!0;o(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=m},function(e,t,n){"use strict";var r=n(10),i=(n(4),!1),a={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r("104"):void 0,a.replaceNodeWithMarkup=e.replaceNodeWithMarkup,a.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(r){null===i&&(i=r)}}var i=null,a={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=a},function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function a(e,t){var n=s.get(e);if(!n){return null}return n}var o=n(10),s=(n(47),n(84)),u=(n(36),n(41)),l=(n(4),n(9),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var i=a(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=a(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var i=a(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(n):i._pendingCallbacks=[n]),r(i))},enqueueSetState:function(e,t){var n=a(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?o("122",t,i(e)):void 0}});e.exports=l},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r="function"==typeof o[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,a=n(25);a.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,a=typeof t;return"string"===i||"number"===i?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";var r=(n(20),n(34)),i=(n(9),r);e.exports=i},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t,n){function r(){return o=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!o&&(u=!0,!s)){for(s=!0;!o&&a<e&&u;)u=!1,t.call(this,a++,i,r);return s=!1,o?void n.apply(this,l):void(a>=e&&u&&(o=!0,n()))}}var a=0,o=!1,s=!1,u=!1,l=void 0;i()}function r(e,t,n){function r(e,t,r){o||(t?(o=!0,n(t)):(a[e]=r,o=++s===i,o&&n(null,a)))}var i=e.length,a=[];if(0===i)return n(null,a);var o=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"@@contextSubscriber/"+e}function a(e){var t,n,r=i(e),a=r+"/listeners",o=r+"/eventIndex",s=r+"/subscribe";return n={childContextTypes:(t={},t[r]=l.isRequired,t),getChildContext:function(){var e;return e={},e[r]={eventIndex:this[o],subscribe:this[s]},e},componentWillMount:function(){this[a]=[],this[o]=0},componentWillReceiveProps:function(){this[o]++},componentDidUpdate:function(){var e=this;this[a].forEach(function(t){return t(e[o])})}},n[s]=function(e){var t=this;return this[a].push(e),function(){t[a]=t[a].filter(function(t){return t!==e})}},n}function o(e){var t,n,r=i(e),a=r+"/lastRenderedEventIndex",o=r+"/handleContextUpdate",s=r+"/unsubscribe";return n={contextTypes:(t={},t[r]=l,t),getInitialState:function(){var e;return this.context[r]?(e={},e[a]=this.context[r].eventIndex,e):{}},componentDidMount:function(){this.context[r]&&(this[s]=this.context[r].subscribe(this[o]))},componentWillReceiveProps:function(){var e;this.context[r]&&this.setState((e={},e[a]=this.context[r].eventIndex,e))},componentWillUnmount:function(){this[s]&&(this[s](),this[s]=null)}},n[o]=function(e){if(e!==this.state[a]){var t;this.setState((t={},t[a]=e,t))}},n}t.__esModule=!0,t.ContextProvider=a,t.ContextSubscriber=o;var s=n(19),u=r(s),l=u.default.shape({subscribe:u.default.func.isRequired,eventIndex:u.default.number.isRequired})},function(e,t,n){"use strict";t.__esModule=!0,t.locationShape=t.routerShape=void 0;var r=n(19);t.routerShape=(0,r.shape)({push:r.func.isRequired,replace:r.func.isRequired,go:r.func.isRequired,goBack:r.func.isRequired,goForward:r.func.isRequired,setRouteLeaveHook:r.func.isRequired,isActive:r.func.isRequired}),t.locationShape=(0,r.shape)({pathname:r.string.isRequired,search:r.string.isRequired,state:r.object,action:r.string.isRequired,key:r.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(22),s=r(o),u=n(14),l=r(u),c=n(44),f=r(c),d=n(19),p=n(548),h=r(p),m=n(159),g=n(51),y=(0,f.default)({displayName:"RouterContext",mixins:[(0,m.ContextProvider)("router")],propTypes:{router:d.object.isRequired,location:d.object.isRequired,routes:d.array.isRequired,params:d.object.isRequired,components:d.array.isRequired,createElement:d.func.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{router:d.object.isRequired},getChildContext:function(){return{router:this.props.router}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.location,r=t.routes,o=t.params,u=t.components,c=t.router,f=null;return u&&(f=u.reduceRight(function(t,s,u){if(null==s)return t;var l=r[u],f=(0,h.default)(l,o),d={location:n,params:o,route:l,router:c,routeParams:f,routes:r};if((0,g.isReactChildren)(t))d.children=t;else if(t)for(var p in t)Object.prototype.hasOwnProperty.call(t,p)&&(d[p]=t[p]);if("object"===("undefined"==typeof s?"undefined":a(s))){var m={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(m[y]=e.createElement(s[y],i({key:y},d)));return m}return e.createElement(s,d)},f)),null===f||f===!1||l.default.isValidElement(f)?void 0:(0,s.default)(!1),f}});t.default=y,e.exports=t.default},function(e,t,n){var r=n(556);e.exports=r},function(e,t,n){var r=n(557),i=n(19);e.exports=function(e,t,n){var i=e[t];if(i){var a=[];if(Object.keys(i).forEach(function(e){r.indexOf(e)===-1&&a.push(e)}),a.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+a.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=i.oneOfType([i.arrayOf(e.exports),e.exports])},20,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(265),a=r(i),o=n(578),s=r(o),u=n(577),l=r(u),c=n(576),f=r(c),d=n(264),p=r(d),h=n(266);r(h);t.createStore=a.default,t.combineReducers=s.default,t.bindActionCreators=l.default,t.applyMiddleware=f.default,t.compose=p.default},[688,6,12,11,35,3,26],function(e,t,n){"use strict";function r(e,t){return"format("+e+", '"+t+"')"}function i(e,t,n,i){var a=e.hasDiscreteDomain(n);if(a){var o=e instanceof d.UnitModel?e.axis(n)||e.legend(n)||{}:{},s=f.numberFormat(t,o.format,i,n),u=l.field(t,{expr:"datum",binSuffix:"start"}),c=l.field(t,{expr:"datum",binSuffix:"end"});return{formulaAs:l.field(t,{binSuffix:"range"}),formula:r(u,s)+" + ' - ' + "+r(c,s)}}return{}}function a(e,t){return u.binToString(e)+"_"+t}function o(e,t,n,r){return{bin:e,field:t.field,as:[l.field(t,{binSuffix:"start"}),l.field(t,{binSuffix:"end"})],signal:n.getName(r+"_bins"),extentSignal:n.getName(r+"_extent")}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(88),l=n(12),c=n(3),f=n(21),d=n(30),p=n(26),h=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return s.__extends(t,e),t.prototype.clone=function(){return new t(c.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,r){var u=n.bin;if(u){var c=l.normalizeBin(u,void 0)||{},f=a(u,n.field);f in t||(t[f]=o(c,n,e,f)),t[f]=s.__assign({},t[f],i(e,n,r,e.config))}return t},{});return 0===c.keys(n).length?null:new t(n)},t.makeBinFromTransform=function(e,n){var r=l.normalizeBin(n.bin,void 0)||{},i=a(r,n.field);return new t((s={},s[i]=o(r,n,e,i),s));var s},t.prototype.merge=function(e){this.bins=c.extend(e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return c.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return c.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return c.flatten(c.vals(this.bins).map(function(e){var t=[],n=s.__assign({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return e.bin.extent||(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(p.DataFlowNode);t.BinNode=h},[696,12,57,35,3,26],function(e,t,n){"use strict";function r(e,t){return o(e,t)}function i(e,t){return o(e,t)}function a(e,t){var n=e.field;return l.isRepeatRef(n)?n.repeat in t?s.__assign({},e,{field:t[n.repeat]}):(c.warn(c.message.noSuchRepeatedValue(n.repeat)),null):e}function o(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(u.isArray(i))n[r]=i.map(function(e){return a(e,t)}).filter(function(e){return null!==e});else{var o=a(i,t);null!==o&&(n[r]=o)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(7),l=n(12),c=n(11),f=n(118),d=n(3),p=n(21),h=n(73),m=n(89),g=n(91),y=n(55);t.replaceRepeaterInFacet=r,t.replaceRepeaterInEncoding=i;var v=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,f.initRepeatResolve(t.resolve||{}))||this;return o.repeat=t.repeat,o.children=o._initChildren(t,o.repeat,i,a),o}return s.__extends(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],a=t.row||[n?n.row:null],o=t.column||[n?n.column:null],s=0,u=a;s<u.length;s++)for(var l=u[s],c=0,f=o;c<f.length;c++){var d=f[c],h=(l?"_"+l:"")+(d?"_"+d:""),m={row:l,column:d};i.push(p.buildModel(e.spec,this,this.getName("child"+h),void 0,m,r))}return i},t.prototype.parseData=function(){this.component.data=m.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),d.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseLegend=function(){for(var e=this,t=(this.component.legends={},function(t){t.parseLegend(),d.keys(t.component.legends).forEach(function(n){"shared"===e.resolve[n].legend&&g.moveSharedLegendUp(e.component.legends,t,n)})}),n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.assembleData=function(){return this.parent?[]:h.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},[])},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return s.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(y.Model);t.RepeatModel=v},function(e,t,n){"use strict";function r(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.encoding===s.X?(t=e,n=a):e.encoding===s.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}function i(e,t,n){var r=f.channelSignalName(t,n,"visual"),i=f.channelSignalName(t,n,"data"),o=d.default.has(t),u=e.scaleName(n),p=c.stringValue(u),h=e.getScaleComponent(n),m=h?h.get("type"):void 0,g=e.getSizeSignalRef(n===s.X?"width":"height").signal,y=n+"(unit)",v=a(t,function(e,t){return e.concat({events:t.between[0],update:"["+y+", "+y+"]"},{events:t,update:"["+r+"[0], clamp("+y+", 0, "+g+")]"})});return l.hasContinuousDomain(m)&&!l.isBinScale(m)&&v.push({events:{scale:u},update:"!isArray("+i+") ? "+r+" : "+("[scale("+p+", "+i+"[0]), scale("+p+", "+i+"[1])]")}),o?[{name:i,on:[]}]:[{name:r,value:[],on:v},{name:i,on:[{events:{signal:r},update:"invert("+p+", "+r+")"}]}]}function a(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(u.warn(n+" is not an ordered event stream for interval selections"),e)},[])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(6),u=n(11),l=n(15),c=n(3),f=n(27),d=n(116);t.BRUSH="_brush";var p={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var r=[],o=[],l=n.name;if(n.translate&&!d.default.has(n)){var p="!event.item || event.item.mark.name !== "+c.stringValue(l+t.BRUSH);a(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(p)<0&&n.push(p)})}return n.project.forEach(function(t){if(t.encoding!==s.X&&t.encoding!==s.Y)return void u.warn("Interval selections only support x and y encoding channels.");var a=i(e,n,t.encoding),l=f.channelSignalName(n,t.encoding,"data");r.push.apply(r,a),o.push("{encoding: "+c.stringValue(t.encoding)+", "+("field: "+c.stringValue(t.field)+", extent: "+l+"}"))}),r.concat({name:l+f.TUPLE,update:"{unit: "+c.stringValue(e.getName(""))+", intervals: ["+o.join(", ")+"]}"})},modifyExpr:function(e,t){var n=t.name+f.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+c.stringValue(e.getName(""))+"}")},marks:function(e,n,i){var a=n.name,s=r(n),u=s.xi,l=s.yi,p=(a+f.TUPLE,"data("+c.stringValue(n.name+f.STORE)+")");if(d.default.has(n))return i;var h={x:null!==u?{signal:a+"_x[0]"}:{value:0},y:null!==l?{signal:a+"_y[0]"}:{value:0},x2:null!==u?{signal:a+"_x[1]"}:{field:{group:"width"}},y2:null!==l?{signal:a+"_y[1]"}:{field:{group:"height"}}};return"global"===n.resolve&&c.keys(h).forEach(function(t){h[t]=[o.__assign({test:p+".length && "+p+"[0].unit === "+c.stringValue(e.getName(""))},h[t]),{value:0}]}),[{type:"rect",encode:{enter:{fill:{value:"#333"},fillOpacity:{value:.125}},update:h}}].concat(i,{name:a+t.BRUSH,type:"rect",encode:{enter:{fill:{value:"transparent"},stroke:{value:"white"}},update:h}})}};t.default=p,t.projections=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="voronoi",r={has:function(e){return void 0!==e.nearest&&e.nearest!==!1},marks:function(e,t,r,i){var a=r[0],o=i.indexOf(a),s=a.name===e.getName("pathgroup"),u=function(e){return e.name&&e.name.indexOf(n)>=0},l={name:e.getName(n),type:"path",from:{data:e.getName("marks")},encode:{enter:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}}},transform:[{type:"voronoi",x:"datum.x",y:"datum.y",size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};return s&&!a.marks.filter(u).length?(a.marks.push(l),i.splice(o,1,a)):s||i.filter(u).length||i.splice(o+1,0,l),i}};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLegendConfig={orient:void 0},t.LEGEND_PROPERTIES=["entryPadding","format","offset","orient","tickCount","title","type","values","zindex"]},function(e,t){"use strict";function n(e){return!(!e||"count"!==e.op&&!e.field||!e.op)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSortField=n},[726,112,6,38,12,11,23,15,3],function(e,t){"use strict";function n(e){return void 0!==e.filter}function r(e){return void 0!==e.lookup}function i(e){return void 0!==e.calculate}function a(e){return void 0!==e.bin}function o(e){return void 0!==e.timeUnit}function s(e){return void 0!==e.summarize}Object.defineProperty(t,"__esModule",{value:!0}),t.isFilter=n,t.isLookup=r,t.isCalculate=i,t.isBin=a,t.isTimeUnit=o,t.isSummarize=s},[730,267,112,88,6,117,595,282,75,56,38,622,12,172,23,15,173,93,174,57,175,35,3,628,434],function(e,t,n){(function(e){!function(e,r){r(t,n(7),n(204),n(202),n(583),n(102))}(this,function(t,r,i,a,o,s){"use strict";function u(e,t){return r.extend({},e.options,t)}function l(e,t){var n=this;return n.sanitize(e,t).then(function(e){var r=e.href;return h(r,T)?n.file(r.slice(T.length)):n.http(r,t)})}function c(e,t){return t=u(this,t),new Promise(function(n,i){var a,o,s,u;return null==e||"string"!=typeof e?void i("Sanitize failure, invalid URI: "+r.stringValue(e)):(o=M.test(e),(u=t.baseURL)&&!o&&(h(e,"/")||"/"===u[u.length-1]||(e="/"+e),e=u+e),s=(a=h(e,T))||"file"===t.mode||"http"!==t.mode&&!o&&p(),s?e=(a?"":T)+e:h(e,"//")&&(e=(t.defaultProtocol||"http")+":"+e),void n({href:e}))})}function f(e,t){return t=u(this,t),new Promise(function(n,r){var a,o=i.request(e);for(a in t.headers)o.header(a,t.headers[a]);P.forEach(function(e){t[e]&&o[e](t[e])}),o.on("error",function(t){r(t||"Error loading URL: "+e)}).on("load",function(e){var t=e&&e.responseText;e&&0!==e.status?n(t):r(t||"Error")}).get()})}function d(e){return new Promise(function(t,n){var r=p();r?r.readFile(e,function(e,r){e?n(e):t(r)}):n("No file system access for "+e)})}function p(){var e=n(681);return e&&r.isFunction(e.readFile)?e:null}function h(e,t){return null!=e&&0===e.lastIndexOf(t,0)}function m(e,t){var n,r,i,a,o=D.slice();for(r=0,i=e.length;r<i;++r){for(n=t?e[r][t]:e[r],a=0;a<o.length;++a)y(n)&&!o[a](n)&&(o.splice(a,1),--a);if(0===o.length)return"string"}return R[D.indexOf(o[0])]}function g(e,t){return t.reduce(function(t,n){return t[n]=m(e,n),t},{})}function y(e){return null!=e&&e===e}function v(e){return"true"===e||"false"===e||e===!0||e===!1}function b(e){return!isNaN(Date.parse(e))}function _(e){return!(isNaN(+e)||e instanceof Date)}function x(e){return _(e)&&(e=+e)===~~e}function S(e){return function(t,n){var i={delimiter:e};return w(t,n?r.extend(n,i):i)}}function w(e,t){return t.header&&(e=t.header.map(r.stringValue).join(t.delimiter)+"\n"+e),a.dsvFormat(t.delimiter).parse(e+"")}function O(t){return!("function"!=typeof e||!r.isFunction(e.isBuffer))&&e.isBuffer(t)}function k(e,t){return t&&t.copy?JSON.parse(JSON.stringify(e)):e}function E(e,t,n){n=n||s.timeParse;var r,i,a,o,u,l,c,f=e.columns||Object.keys(e[0]);for("auto"===t&&(t=g(e,f)),f=Object.keys(t),r=f.map(function(e){var r,i,a=t[e];if(a&&(0===a.indexOf("date:")||0===a.indexOf("utc:")))return r=a.split(/:(.+)?/,2),i=r[1],("'"===i[0]&&"'"===i[i.length-1]||'"'===i[0]&&'"'===i[i.length-1])&&(i=i.slice(1,-1)),"utc"===r[0]?s.utcParse(i):n(i);if(!A[a])throw Error("Illegal format pattern: "+e+":"+a);return A[a]}),o=0,l=e.length,c=f.length;o<l;++o)for(i=e[o],u=0;u<c;++u)a=f[u],i[a]=r[u](i[a])}var M=/^([A-Za-z]+:)?\/\//,T="file://",P=["mimeType","responseType","user","password"],C=function(e){return{options:e||{},sanitize:c,load:l,file:d,http:f}},A={boolean:r.toBoolean,integer:r.toNumber,number:r.toNumber,date:r.toDate,string:r.toString},D=[v,x,_,b],R=["boolean","integer","number","date"],N=function(e,t){var n=t&&t.property?r.field(t.property):r.identity;return r.isObject(e)&&!O(e)?k(n(e)):n(JSON.parse(e))},I=function(e,t){var n,i;return e=N(e,t),t&&(i=t.feature)?(n=e.objects[i])?o.feature(e,n).features:r.error("Invalid TopoJSON object: "+i):t&&(i=t.mesh)?(n=e.objects[i])?[o.mesh(e,n)]:r.error("Invalid TopoJSON object: "+i):void r.error("Missing TopoJSON feature or mesh parameter.")},F={dsv:w,csv:S(","),tsv:S("\t"),json:N,topojson:I},L=function(e,t){return arguments.length>1?(F[e]=t,this):F.hasOwnProperty(e)?F[e]:null},j=function(e,t,n){t=t||{};var i=L(t.type||"json");return i||r.error("Unknown data format type: "+t.type),e=i(e,t),t.parse&&E(e,t.parse,n),e.hasOwnProperty("columns")&&delete e.columns,e};t.loader=C,t.read=j,t.inferType=m,t.inferTypes=g,t.typeParsers=A,t.formats=L,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,n(197).Buffer)},function(e,t,n){!function(e,r){r(t,n(7),n(177),n(367),n(203))}(this,function(e,t,r,i,a){"use strict";function o(e){this.clear(),e&&this.union(e)}function s(e){this.mark=e,this.bounds=this.bounds||new o}function u(e){s.call(this,e),this.items=this.items||[]}function l(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function c(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function f(e,t,n,r){var i,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(i=a||null,a=l(e.ownerDocument,n,r),e.insertBefore(a,i)),a}function d(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function p(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function h(e){this._pending=0,this._loader=e||r.loader()}function m(e){e._pending+=1}function g(e){e._pending-=1}function y(e,t,n){var r=Nt.hasOwnProperty(e)&&Nt[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&null!=n&&(i=i[r.tension](n))),i}function v(e,t,n,r,i,a,o,s,u){var l=$t.call(arguments);if(jt[l])return jt[l];var c=o*(Math.PI/180),f=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r);var p=d*(s-e)*.5+f*(u-t)*.5,h=d*(u-t)*.5-f*(s-e)*.5,m=p*p/(n*n)+h*h/(r*r);m>1&&(m=Math.sqrt(m),n*=m,r*=m);var g=d/n,y=f/n,v=-f/r,b=d/r,_=g*s+y*u,x=v*s+b*u,S=g*e+y*t,w=v*e+b*t,O=(S-_)*(S-_)+(w-x)*(w-x),k=1/O-.25;k<0&&(k=0);var E=Math.sqrt(k);a==i&&(E=-E);var M=.5*(_+S)-E*(w-x),T=.5*(x+w)+E*(S-_),P=Math.atan2(x-T,_-M),C=Math.atan2(w-T,S-M),A=C-P;A<0&&1===a?A+=2*Math.PI:A>0&&0===a&&(A-=2*Math.PI);for(var D=Math.ceil(Math.abs(A/(.5*Math.PI+.001))),R=[],N=0;N<D;++N){var I=P+N*A/D,F=P+(N+1)*A/D;R[N]=[M,T,I,F,n,r,f,d]}return jt[l]=R}function b(e){var t=$t.call(e);if(zt[t])return zt[t];var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=l*o,f=-u*s,d=u*o,p=l*s,h=Math.cos(i),m=Math.sin(i),g=Math.cos(a),y=Math.sin(a),v=.5*(a-i),b=Math.sin(.5*v),_=8/3*b*b/Math.sin(v),x=n+h-_*m,S=r+m+_*h,w=n+g,O=r+y,k=w+_*y,E=O-_*g;return zt[t]=[c*x+f*S,d*x+p*S,c*k+f*E,d*k+p*E,c*w+f*O,d*w+p*O]}function _(e,t){var n=Ut[0]=e[0];if("a"===n||"A"===n)Ut[1]=t*e[1],Ut[2]=t*e[2],Ut[6]=t*e[6],Ut[7]=t*e[7];else for(var r=1,i=e.length;r<i;++r)Ut[r]=t*e[r];return Ut}function x(e,t,n,r){for(var i=v(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n),a=0;a<i.length;++a){var o=b(i[a]);e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5])}}function S(e){return Vt.hasOwnProperty(e)?Vt[e]:w(e)}function w(e){if(!Ht.hasOwnProperty(e)){var t=Lt(e);Ht[e]={draw:function(e,n){Bt(e,t,0,0,Math.sqrt(n)/2)}}}return Ht[e]}function O(e){return e.x}function k(e){return e.y}function E(e){return e.width}function M(e){return e.height}function T(e){return function(){return e}}function P(e){return e.x||0}function C(e){return e.y||0}function A(e){return e.width||0}function D(e){return e.size||1}function R(e){return e.height||0}function N(e){return(e.x||0)+(e.width||0)}function I(e){return(e.y||0)+(e.height||0)}function F(e){return e.cornerRadius||0}function L(e){return e.padAngle||0}function j(e){return!(e.defined===!1)}function z(e){return null==e.size?64:e.size}function $(e){return S(e.shape||"circle")}function U(e,t){return Qt.context(e)(t)}function B(e,t){var n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?Jt:Kt).curve(y(r,n.orient,n.tension)).context(e)(t)}function q(e,t){var n=t[0],r=n.interpolate||"linear";return Zt.curve(y(r,n.orient,n.tension)).context(e)(t)}function W(e,t,n,r){return en.context(e)(t,n,r)}function V(e,t){return(t.mark.shape||t.shape).context(e)(t)}function H(e,t){return tn.context(e)(t)}function G(e,t){return nn.context(e)(t)}function Y(e){return Rt=e,Y}function X(){}function Q(e,t){Rt.add(e,t)}function K(e,t){return e.zindex-t.zindex||e.index-t.index}function J(e){if(!e.zdirty)return e.zitems;var t,n,r,i=e.items,a=[];for(n=0,r=i.length;n<r;++n)t=i[n],t.index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(K)}function Z(e,t){var n,r,i=e.items;if(i&&i.length){var a=J(e);if(a&&a.length){for(n=0,r=i.length;n<r;++n)i[n].zindex||t(i[n]);i=a}for(n=0,r=i.length;n<r;++n)t(i[n])}}function ee(e,t){var n,r,i=e.items;if(!i||!i.length)return null;var a=J(e);for(a&&a.length&&(i=a),r=i.length;--r>=0;)if(n=t(i[r]))return n;if(i===a)for(i=e.items,r=i.length;--r>=0;)if(!i[r].zindex&&(n=t(i[r])))return n;return null}function te(e){return function(t,n,r){Z(n,function(n){r&&!r.intersects(n.bounds)||re(e,t,n,n)})}}function ne(e){return function(t,n,r){!n.items.length||r&&!r.intersects(n.bounds)||re(e,t,n.items[0],n.items)}}function re(e,t,n,r){var i=null==n.opacity?1:n.opacity;0!==i&&(e(t,r)||(n.fill&&dn(t,n,i)&&t.fill(),n.stroke&&hn(t,n,i)&&t.stroke()))}function ie(e){return e||(e=mn),function(t,n,r,i,a,o){return t.pixelRatio>1&&(r*=t.pixelRatio,i*=t.pixelRatio),ee(n,function(n){var s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,r,i,a,o)?n:void 0})}}function ae(e,t){return function(n,r,i,a){var o,s,u=Array.isArray(r)?r[0]:r,l=null==t?u.fill:t,c=u.stroke&&n.isPointInStroke;return c&&(o=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,r)&&(l&&n.isPointInPath(i,a)||c&&n.isPointInStroke(i,a))}}function oe(e){return ie(ae(e))}function se(){Sn=1}function ue(e,t){e("transform",yn(t))}function le(e,t){var n=t.stroke?On:0;e("class","background"),e("d",W(null,t,n,n))}function ce(e,t,n){var r=t.clip?wn(n,t,t):null;e("clip-path",r)}function fe(e,t){if(!t.clip&&t.items)for(var n=t.items,r=0,i=n.length;r<i;++r)e.union(n[r].bounds);return(t.clip||t.width||t.height)&&rn(e.add(0,0).add(t.width||0,t.height||0),t),e.translate(t.x||0,t.y||0)}function de(e,t,n){var r=this;Z(t,function(t){var i,a,o=t.x||0,s=t.y||0,u=t.width||0,l=t.height||0;e.save(),e.translate(o,s),(t.stroke||t.fill)&&(a=null==t.opacity?1:t.opacity,a>0&&(e.beginPath(),i=t.stroke?On:0,W(e,t,i,i),t.fill&&dn(e,t,a)&&e.fill(),t.stroke&&hn(e,t,a)&&e.stroke())),t.clip&&(e.beginPath(),e.rect(0,0,u,l),e.clip()),n&&n.translate(-o,-s),Z(t,function(t){r.draw(e,t,n)}),n&&n.translate(o,s),e.restore()})}function pe(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;var o=this;return ee(t,function(s){var u,l,c,f;if(f=s.bounds,!f||f.contains(i,a))return l=s.x||0,c=s.y||0,e.save(),e.translate(l,c),l=i-l,c=a-c,u=ee(s,function(e){return he(e,l,c)?o.pick(e,n,r,l,c):null}),e.restore(),u?u:(u=t.interactive!==!1&&(s.fill||s.stroke)&&l>=0&&l<=s.width&&c>=0&&c<=s.height,u?s:null)})}function he(e,t,n){return(e.interactive!==!1||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}function me(e,t){var n=e.image;return n&&n.url===e.url||(n={loaded:!1,width:0,height:0},t.loadImage(e.url).then(function(t){e.image=t,e.image.url=e.url})),n}function ge(e,t){return"center"===e?t/2:"right"===e?t:0}function ye(e,t){return"middle"===e?t/2:"bottom"===e?t:0}function ve(e,t,n){var r=me(t,n),i=t.x||0,a=t.y||0,o=(null!=t.width?t.width:r.width)||0,s=(null!=t.height?t.height:r.height)||0,u=t.aspect===!1?"none":"xMidYMid";i-=ge(t.align,o),
a-=ye(t.baseline,s),e("href",r.src||"","http://www.w3.org/1999/xlink","xlink:href"),e("transform",gn(i,a)),e("width",o),e("height",s),e("preserveAspectRatio",u)}function be(e,t){var n=t.image,r=t.x||0,i=t.y||0,a=(null!=t.width?t.width:n&&n.width)||0,o=(null!=t.height?t.height:n&&n.height)||0;return r-=ge(t.align,a),i-=ye(t.baseline,o),e.set(r,i,r+a,i+o)}function _e(e,t,n){var r=this;Z(t,function(t){if(!n||n.intersects(t.bounds)){var i,a,o,s,u=me(t,r),l=t.x||0,c=t.y||0,f=(null!=t.width?t.width:u.width)||0,d=(null!=t.height?t.height:u.height)||0;l-=ge(t.align,f),c-=ye(t.baseline,d),t.aspect!==!1&&(a=u.width/u.height,o=t.width/t.height,a===a&&o===o&&a!==o&&(o<a?(s=f/a,c+=(d-s)/2,d=s):(s=d*a,l+=(f-s)/2,f=s))),u.loaded&&(e.globalAlpha=null!=(i=t.opacity)?i:1,e.drawImage(u,l,c,f,d))}})}function xe(e,t){e("transform",yn(t)),e("d",t.path)}function Se(e,t){var n=t.path;if(null==n)return!0;var r=t.pathCache;r&&r.path===n||((t.pathCache=r=Lt(n)).path=n),Bt(e,r,t.x,t.y)}function we(e,t){return Se(Y(e),t)?e.set(0,0,0,0):rn(e,t)}function Oe(e,t){e("d",W(null,t))}function ke(e,t){var n,r;return rn(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function Ee(e,t){e.beginPath(),W(e,t)}function Me(e,t){e("transform",yn(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)}function Te(e,t){var n,r;return rn(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)}function Pe(e,t,n){var r,i,a,o;return!(!t.stroke||!hn(e,t,n))&&(r=t.x||0,i=t.y||0,a=null!=t.x2?t.x2:r,o=null!=t.y2?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,o),!0)}function Ce(e,t,n){Z(t,function(t){if(!n||n.intersects(t.bounds)){var r=null==t.opacity?1:t.opacity;r&&Pe(e,t,r)&&e.stroke()}})}function Ae(e,t,n,r){return!!e.isPointInStroke&&(Pe(e,t,1)&&e.isPointInStroke(n,r))}function De(e){return ln=Fe(e),Re(je(e))}function Re(e){return~~(.8*e.length*ln)}function Ne(e){return un.font=$e(e),Ie(je(e))}function Ie(e){return un.measureText(e).width}function Fe(e){return null!=e.fontSize?e.fontSize:11}function Le(e){un=e&&(un=Ct(1,1))?un.getContext("2d"):null,Rn.width=un?Ne:De}function je(e){var t=e.text;return null==t?"":e.limit>0?ze(e):t+""}function ze(e){var t,n=+e.limit,r=e.text+"";if(un?(un.font=$e(e),t=Ie):(ln=Fe(e),t=Re),t(r)<n)return r;var i,a=e.ellipsis||"…",o="rtl"===e.dir,s=0,u=r.length;if(n-=t(a),o){for(;s<u;)i=s+u>>>1,t(r.slice(i))>n?s=i+1:u=i;return a+r.slice(s)}for(;s<u;)i=1+(s+u>>>1),t(r.slice(0,i))<n?s=i:u=i-1;return r.slice(0,s)+a}function $e(e,t){var n=e.font;return t&&n&&(n=String(n).replace(/"/g,"'")),""+(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Fe(e)+"px "+(n||"sans-serif")}function Ue(e){var t=e.baseline,n=Fe(e);return Math.round("top"===t?.93*n:"middle"===t?.3*n:"bottom"===t?-.21*n:0)}function Be(e,t){var n,r=t.dx||0,i=(t.dy||0)+Ue(t),a=t.x||0,o=t.y||0,s=t.angle||0,u=t.radius||0;u&&(n=(t.theta||0)-Math.PI/2,a+=u*Math.cos(n),o+=u*Math.sin(n)),e("text-anchor",Nn[t.align]||"start"),s?(n=gn(a,o)+" rotate("+s+")",(r||i)&&(n+=" "+gn(r,i))):n=gn(a+r,o+i),e("transform",n)}function qe(e,t,n){var r,i,a=Rn.height(t),o=t.align,s=t.radius||0,u=t.x||0,l=t.y||0,c=t.dx||0,f=(t.dy||0)+Ue(t)-Math.round(.8*a);return s&&(i=(t.theta||0)-Math.PI/2,u+=s*Math.cos(i),l+=s*Math.sin(i)),r=Rn.width(t),"center"===o?c-=r/2:"right"===o&&(c-=r),e.set(c+=u,f+=l,c+r,f+a),t.angle&&!n&&e.rotate(t.angle*Math.PI/180,u,l),e.expand(n||!r?0:1)}function We(e,t,n){Z(t,function(t){var r,i,a,o,s,u;n&&!n.intersects(t.bounds)||(u=je(t))&&(r=null==t.opacity?1:t.opacity,0!==r&&(e.font=$e(t),e.textAlign=t.align||"left",i=t.x||0,a=t.y||0,(o=t.radius)&&(s=(t.theta||0)-Math.PI/2,i+=o*Math.cos(s),a+=o*Math.sin(s)),t.angle&&(e.save(),e.translate(i,a),e.rotate(t.angle*Math.PI/180),i=a=0),i+=t.dx||0,a+=(t.dy||0)+Ue(t),t.fill&&dn(e,t,r)&&e.fillText(u,i,a),t.stroke&&hn(e,t,r)&&e.strokeText(u,i,a),t.angle&&e.restore()))})}function Ve(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=qe(In,t,!0),s=-t.angle*Math.PI/180,u=Math.cos(s),l=Math.sin(s),c=t.x,f=t.y,d=u*i-l*a+(c-c*u+f*l),p=l*i+u*a+(f-c*l-f*u);return o.contains(d,p)}function He(e,t){return JSON.stringify(e,Bn,t)}function Ge(e){var t="string"==typeof e?JSON.parse(e):e;return Ye(t)}function Ye(e){var t,n,r,i=e.marktype,a=e.items;if(a)for(n=0,r=a.length;n<r;++n)t=i?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(i||t)&&Ye(a[n]);return i&&Un(e),e}function Xe(e){arguments.length?this.root=Ge(e):(this.root=Qe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new u(this.root)])}function Qe(e,t){return{bounds:new o,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0}}function Ke(e){this._active=null,this._handlers={},this._loader=e||r.loader()}function Je(e){this._el=null,this._bgcolor=null,this._loader=new h(e)}function Ze(e){Ke.call(this,e),this._down=null,this._touch=null,this._first=!0}function et(e,t,n){return function(r){var i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):(i&&i.exit||this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function tt(e){return function(t){this.fire(e,t),this._active=null}}function nt(e){Je.call(this,e),this._redraw=!1,this._dirty=new o}function rt(e,t,n){return t.expand(1).round(),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}function it(e,t){if(null==t)return e;for(var n=Zn.clear().union(e);null!=t;t=t.mark.group)n.translate(t.x||0,t.y||0);return n}function at(e){Ke.call(this,e);var t=this;t._hrefHandler=ot(t,function(e,n){n&&n.href&&t.handleHref(e,n,n.href)}),t._tooltipHandler=ot(t,function(e,n){n&&n.tooltip&&t.handleTooltip(e,n,"mouseover"===e.type?n.tooltip:null)})}function ot(e,t){return function(n){var r=n.target,i=r.__data__;n.vegaType=n.type,i=Array.isArray(i)?i[0]:i,t.call(e._obj,n,i)}}function st(e,t,n){var r,i,a="<"+e;if(t)for(r in t)i=t[r],null!=i&&(a+=" "+r+'="'+i+'"');return n&&(a+=" "+n),a+">"}function ut(e){return"</"+e+">"}function lt(e){Je.call(this,e),this._dirtyID=1,this._dirty=[],this._svg=null,this._root=null,this._defs=null}function ct(e,t,n){var r,i,a;for(e=f(e,n,"linearGradient",ir),e.setAttribute("id",t.id),e.setAttribute("x1",t.x1),e.setAttribute("x2",t.x2),e.setAttribute("y1",t.y1),e.setAttribute("y2",t.y2),r=0,i=t.stops.length;r<i;++r)a=f(e,r,"stop",ir),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);d(e,r)}function ft(e,t,n){var r;e=f(e,n,"clipPath",ir),e.setAttribute("id",t.id),r=f(e,0,"rect",ir),r.setAttribute("x",0),r.setAttribute("y",0),r.setAttribute("width",t.width),r.setAttribute("height",t.height)}function dt(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function pt(e,t,n){t=t.lastChild;var r,i=0;Z(n,function(n){r=e.draw(t,n,r),++i}),d(t,1+i)}function ht(e,t,n,r){var i,a=e._svg;if(!a&&(i=t.ownerDocument,a=l(i,r,ir),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},"g"===r))){var o=l(i,"path",ir);o.setAttribute("class","background"),a.appendChild(o),o.__data__=e;var s=l(i,"g",ir);a.appendChild(s),s.__data__=e}return!i&&a.previousSibling===n&&n||t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function mt(e,t,n){t!==ur[e]&&(null!=t?n?sr.setAttributeNS(n,e,t):sr.setAttribute(e,t):n?sr.removeAttributeNS(n,e):sr.removeAttribute(e),ur[e]=t)}function gt(){var e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function yt(e){Je.call(this,e),this._text={head:"",root:"",foot:"",defs:"",body:""},this._defs={gradient:{},clipping:{}}}function vt(e,t,n,r){dr[r||e]=t}function bt(e,t,n,r){if(null==e)return"";var i,a,o,s,u,l="";for("bgrect"===n&&t.interactive===!1&&(l+="pointer-events: none;"),"text"===n&&(l+="font: "+$e(e)+";"),i=0,a=rr.length;i<a;++i)o=rr[i],s=nr[o],u=e[o],null==u?"fill"===s&&(l+=(l.length?" ":"")+"fill: none;"):(u.id&&(r.gradient[u.id]=u,u="url(#"+u.id+")"),l+=(l.length?" ":"")+s+": "+u+";");return l?'style="'+l+'"':null}function _t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xt(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(vr[e]=t,this):vr[e]}function St(e,n,r){return e===n||("path"===r?wt(e,n):e instanceof Date&&n instanceof Date?+e===+n:t.isNumber(e)&&t.isNumber(n)?Math.abs(e-n)<=br:e&&n&&(t.isObject(e)||t.isObject(n))?null!=e&&null!=n&&Ot(e,n):e==n)}function wt(e,t){return St(Lt(e),Lt(t))}function Ot(e,t){var n,r,i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!=a[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!St(e[n],t[n],n))return!1;return typeof e==typeof t}var kt=o.prototype;kt.clone=function(){return new o(this)},kt.clear=function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},kt.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},kt.set=function(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},kt.add=function(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},kt.expand=function(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},kt.round=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},kt.translate=function(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},kt.rotate=function(e,t,n){var r=Math.cos(e),i=Math.sin(e),a=t-t*r+n*i,o=n-t*i-n*r,s=this.x1,u=this.x2,l=this.y1,c=this.y2;return this.clear().add(r*s-i*l+a,i*s+r*l+o).add(r*s-i*c+a,i*s+r*c+o).add(r*u-i*l+a,i*u+r*l+o).add(r*u-i*c+a,i*u+r*c+o)},kt.union=function(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},kt.intersect=function(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},kt.encloses=function(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},kt.alignsWith=function(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},kt.intersects=function(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},kt.contains=function(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},kt.width=function(){return this.x2-this.x1},kt.height=function(){return this.y2-this.y1};var Et=0,Mt=function(e,t){var n,r=[];return n={id:"gradient_"+Et++,x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:r,stop:function(e,t){return r.push({offset:e,color:t}),n}}};t.inherits(u,s);var Tt;try{Tt=n(682)}catch(Pt){Tt=null}var Ct=function(e,t){var n=l(null,"canvas");if(n&&n.getContext)n.width=e,n.height=t;else if(Tt)try{n=new Tt(e,t)}catch(r){n=null}return n},At="undefined"!=typeof Image?Image:Tt&&Tt.Image||null,Dt=h.prototype;Dt.pending=function(){return this._pending},Dt.sanitizeURL=function(e){var t=this;return m(t),t._loader.sanitize(e,{context:"href"}).then(function(e){return g(t),e}).catch(function(){return g(t),null})},Dt.loadImage=function(e){var t=this;return m(t),t._loader.sanitize(e,{context:"image"}).then(function(e){var n=e.href;if(!n||!At)throw"Image unsupported.";var r=new At;return r.onload=function(){g(t),r.loaded=!0},r.onerror=function(){g(t),r.loaded=!1},r.src=n,r}).catch(function(){return g(t),{loaded:!1,width:0,height:0}})},Dt.ready=function(){var e=this;return new Promise(function(t){function n(r){e.pending()?setTimeout(function(){n(!0)},10):t(r)}n(!1)})};var Rt,Nt={basis:{curve:i.curveBasis},"basis-closed":{curve:i.curveBasisClosed},"basis-open":{curve:i.curveBasisOpen},bundle:{curve:i.curveBundle,tension:"beta",value:.85},cardinal:{curve:i.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:i.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:i.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:i.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:i.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:i.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:i.curveLinear},"linear-closed":{curve:i.curveLinearClosed},monotone:{horizontal:i.curveMonotoneY,vertical:i.curveMonotoneX},natural:{curve:i.curveNatural},step:{curve:i.curveStep},"step-after":{curve:i.curveStepAfter},"step-before":{curve:i.curveStepBefore}},It={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Ft=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Lt=function(e){var t,n,r,i,a,o,s,u,l,c,f,d=[];for(t=e.slice().replace(Ft[0],"###$1").split(Ft[1]).slice(1),u=0,c=t.length;u<c;++u){for(n=t[u],r=n.slice(1).trim().replace(Ft[2],"$1###$2").split(Ft[3]),o=n.charAt(0),i=[o],l=0,f=r.length;l<f;++l)(a=+r[l])===a&&i.push(a);if(s=It[o.toLowerCase()],i.length-1>s)for(l=1,f=i.length;l<f;l+=s)d.push([o].concat(i.slice(l,l+s)));else d.push(i)}return d},jt={},zt={},$t=[].join,Ut=["l",0,0,0,0,0,0,0],Bt=function(e,t,n,r,i){var a,o,s,u,l,c=null,f=0,d=0,p=0,h=0;null==n&&(n=0),null==r&&(r=0),null==i&&(i=1),e.beginPath&&e.beginPath();for(var m=0,g=t.length;m<g;++m){switch(a=t[m],1!==i&&(a=_(a,i)),a[0]){case"l":f+=a[1],d+=a[2],e.lineTo(f+n,d+r);break;case"L":f=a[1],d=a[2],e.lineTo(f+n,d+r);break;case"h":f+=a[1],e.lineTo(f+n,d+r);break;case"H":f=a[1],e.lineTo(f+n,d+r);break;case"v":d+=a[1],e.lineTo(f+n,d+r);break;case"V":d=a[1],e.lineTo(f+n,d+r);break;case"m":f+=a[1],d+=a[2],e.moveTo(f+n,d+r);break;case"M":f=a[1],d=a[2],e.moveTo(f+n,d+r);break;case"c":o=f+a[5],s=d+a[6],p=f+a[3],h=d+a[4],e.bezierCurveTo(f+a[1]+n,d+a[2]+r,p+n,h+r,o+n,s+r),f=o,d=s;break;case"C":f=a[5],d=a[6],p=a[3],h=a[4],e.bezierCurveTo(a[1]+n,a[2]+r,p+n,h+r,f+n,d+r);break;case"s":o=f+a[3],s=d+a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,f+a[1]+n,d+a[2]+r,o+n,s+r),p=f+a[1],h=d+a[2],f=o,d=s;break;case"S":o=a[3],s=a[4],p=2*f-p,h=2*d-h,e.bezierCurveTo(p+n,h+r,a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"q":o=f+a[3],s=d+a[4],p=f+a[1],h=d+a[2],e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"Q":o=a[3],s=a[4],e.quadraticCurveTo(a[1]+n,a[2]+r,o+n,s+r),f=o,d=s,p=a[1],h=a[2];break;case"t":o=f+a[1],s=d+a[2],null===c[0].match(/[QqTt]/)?(p=f,h=d):"t"===c[0]?(p=2*f-u,h=2*d-l):"q"===c[0]&&(p=2*f-p,h=2*d-h),u=p,l=h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s,p=f+a[1],h=d+a[2];break;case"T":o=a[1],s=a[2],p=2*f-p,h=2*d-h,e.quadraticCurveTo(p+n,h+r,o+n,s+r),f=o,d=s;break;case"a":x(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+f+n,a[7]+d+r]),f+=a[6],d+=a[7];break;case"A":x(e,f+n,d+r,[a[1],a[2],a[3],a[4],a[5],a[6]+n,a[7]+r]),f=a[6],d=a[7];break;case"z":case"Z":e.closePath()}c=a}},qt=2*Math.PI,Wt=Math.sqrt(3)/2,Vt={circle:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,qt)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){var n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wt*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wt*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wt*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Wt*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}}},Ht={},Gt=function(){function e(e,u,l){var c,f=null!=u?u:+t.call(this,e),d=null!=l?l:+n.call(this,e),p=+r.call(this,e),h=+i.call(this,e),m=+o.call(this,e);if(s||(s=c=a.path()),m<=0)s.rect(f,d,p,h);else{var g=f+p,y=d+h;s.moveTo(f+m,d),s.lineTo(g-m,d),s.quadraticCurveTo(g,d,g,d+m),s.lineTo(g,y-m),s.quadraticCurveTo(g,y,g-m,y),s.lineTo(f+m,y),s.quadraticCurveTo(f,y,f,y-m),s.lineTo(f,d+m),s.quadraticCurveTo(f,d,f+m,d),s.closePath()}if(c)return s=null,c+""||null}var t=O,n=k,r=E,i=M,o=T(0),s=null;return e.x=function(n){return arguments.length?(t="function"==typeof n?n:T(+n),e):t},e.y=function(t){return arguments.length?(n="function"==typeof t?t:T(+t),e):n},e.width=function(t){return arguments.length?(r="function"==typeof t?t:T(+t),e):r},e.height=function(t){return arguments.length?(i="function"==typeof t?t:T(+t),e):i},e.cornerRadius=function(t){return arguments.length?(o="function"==typeof t?t:T(+t),e):o},e.context=function(t){return arguments.length?(s=null==t?null:t,e):s},e},Yt=Math.PI,Xt=function(){function e(e,t,n){var r=n/2;if(s){var i=l-t,a=e-u;if(i||a){var o=Math.sqrt(i*i+a*a),d=(i/=o)*c,p=(a/=o)*c,h=Math.atan2(a,i);f.moveTo(u-d,l-p),f.lineTo(e-i*r,t-a*r),f.arc(e,t,r,h-Yt,h),f.lineTo(u+d,l+p),f.arc(u,l,c,h,h+Yt)}else f.arc(e,t,r,0,2*Yt);f.closePath()}else s=1;u=e,l=t,c=r}function t(t){var u,l,c,d=t.length,p=!1;for(null==f&&(f=c=a.path()),u=0;u<=d;++u)!(u<d&&o(l=t[u],u,t))===p&&(p=!p)&&(s=0),p&&e(+n(l,u,t),+r(l,u,t),+i(l,u,t));if(c)return f=null,c+""||null}var n,r,i,o,s,u,l,c,f=null;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(o=e,t):o},t.context=function(e){return arguments.length?(f=null==e?null:e,t):f},t},Qt=i.arc().cornerRadius(F).padAngle(L),Kt=i.area().x(P).y1(C).y0(I).defined(j),Jt=i.area().y(C).x1(P).x0(N).defined(j),Zt=i.line().x(P).y(C).defined(j),en=Gt().x(P).y(C).width(A).height(R).cornerRadius(F),tn=i.symbol().type($).size(z),nn=Xt().x(P).y(C).defined(j).size(D),rn=function(e,t){return t.stroke&&0!==t.opacity&&0!==t.strokeOpacity&&e.expand(null!=t.strokeWidth?+t.strokeWidth:1),e},an=2*Math.PI,on=an/4,sn=an-1e-8;Y.beginPath=X,Y.closePath=X,Y.moveTo=Q,Y.lineTo=Q,Y.rect=function(e,t,n,r){Q(e,t),Q(e+n,t+r)},Y.quadraticCurveTo=function(e,t,n,r){Q(e,t),Q(n,r)},Y.bezierCurveTo=function(e,t,n,r,i,a){Q(e,t),Q(n,r),Q(i,a)},Y.arc=function(e,t,n,r,i,a){function o(e){l=n*Math.cos(e),c=n*Math.sin(e),l<f&&(f=l),l>d&&(d=l),c<p&&(p=c),c>h&&(h=c)}if(Math.abs(i-r)>sn)return Q(e-n,t-n),void Q(e+n,t+n);var s,u,l,c,f=1/0,d=-(1/0),p=1/0,h=-(1/0);if(o(r),o(i),i!==r)if(r%=an,r<0&&(r+=an),i%=an,i<0&&(i+=an),i<r&&(a=!a,s=r,r=i,i=s),a)for(i-=an,s=r-r%on,u=0;u<3&&s>i;++u,s-=on)o(s);else for(s=r-r%on+on,u=0;u<3&&s<i;++u,s+=on)o(s);Q(e+f,t+p),Q(e+d,t+h)};var un,ln,cn=function(e,t,n){for(var r=n.width(),i=n.height(),a=n.x1+t.x1*r,o=n.y1+t.y1*i,s=n.x1+t.x2*r,u=n.y1+t.y2*i,l=t.stops,c=0,f=l.length,d=e.createLinearGradient(a,o,s,u);c<f;++c)d.addColorStop(l[c].offset,l[c].color);return d},fn=function(e,t,n){return n.id?cn(e,n,t.bounds):n},dn=function(e,t,n){return n*=null==t.fillOpacity?1:t.fillOpacity,n>0&&(e.globalAlpha=n,e.fillStyle=fn(e,t,t.fill),!0)},pn=[],hn=function(e,t,n){var r=null!=(r=t.strokeWidth)?r:1;return!(r<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity,n>0&&(e.globalAlpha=n,e.strokeStyle=fn(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||pn),e.lineDashOffset=t.strokeDashOffset||0),!0))},mn=function(){return!0},gn=function(e,t){return"translate("+e+","+t+")"},yn=function(e){return gn(e.x||0,e.y||0)},vn=function(e,t){function n(e,n){e("transform",yn(n)),e("d",t(null,n))}function r(e,n){return t(Y(e),n),rn(e,n).translate(n.x||0,n.y||0)}function i(e,n){var r=n.x||0,i=n.y||0;e.translate(r,i),e.beginPath(),t(e,n),e.translate(-r,-i)}return{type:e,tag:"path",nested:!1,attr:n,bound:r,draw:te(i),pick:oe(i)}},bn=vn("arc",U),_n=function(e,t){function n(e,n){var r=n.mark.items;r.length&&e("d",t(null,r))}function r(e,n){var r=n.items;return 0===r.length?e:(t(Y(e),r),rn(e,r[0]))}function i(e,n){e.beginPath(),t(e,n)}function a(e,t,n,r,i,a){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(i,a)?null:(e.pixelRatio>1&&(n*=e.pixelRatio,r*=e.pixelRatio),o(e,s,n,r)?s[0]:null)}var o=ae(i);return{type:e,tag:"path",nested:!0,attr:n,bound:r,draw:ne(i),pick:a}},xn=_n("area",B),Sn=1,wn=function(e,t,n){var r=e._defs,i=t.clip_id||(t.clip_id="clip"+Sn++),a=r.clipping[i]||(r.clipping[i]={id:i});return a.width=n.width||0,a.height=n.height||0,"url(#"+i+")"},On=.5,kn={type:"group",tag:"g",nested:!1,attr:ue,bound:fe,draw:de,pick:pe,background:le,foreground:ce},En={type:"image",tag:"image",nested:!1,attr:ve,bound:be,draw:_e,pick:ie(),get:me,xOffset:ge,yOffset:ye},Mn=_n("line",q),Tn={type:"path",tag:"path",nested:!1,attr:xe,bound:we,draw:te(Se),pick:oe(Se)},Pn={type:"rect",tag:"path",nested:!1,attr:Oe,bound:ke,draw:te(Ee),pick:oe(Ee)},Cn={type:"rule",tag:"line",nested:!1,attr:Me,bound:Te,draw:Ce,pick:ie(Ae)},An=vn("shape",V),Dn=vn("symbol",H),Rn={height:Fe,measureWidth:Ne,estimateWidth:De,width:De,canvas:Le};Le(!0);var Nn={left:"start",center:"middle",right:"end"},In=new o,Fn={type:"text",tag:"text",nested:!1,attr:Be,bound:qe,draw:We,pick:ie(Ve)},Ln=_n("trail",G),jn={arc:bn,area:xn,group:kn,image:En,line:Mn,path:Tn,rect:Pn,rule:Cn,shape:An,symbol:Dn,text:Fn,trail:Ln},zn=function(e,t,n){var r=jn[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new o),e,n)},$n={mark:null},Un=function(e,t,n){var r,i,a,s,u=jn[e.marktype],l=u.bound,c=e.items,f=c&&c.length;if(u.nested)return f?a=c[0]:($n.mark=e,a=$n),s=zn(a,l,n),t=t&&t.union(s)||s;if(t=t||e.bounds&&e.bounds.clear()||new o,f)for(r=0,i=c.length;r<i;++r)t.union(zn(c[r],l,n));return e.bounds=t},Bn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","interpolate","tension","orient","defined","url","path","x2","y2","size","shape","text","angle","theta","radius","dx","dy","font","fontSize","fontWeight","fontStyle","fontVariant"],qn=Xe.prototype;qn.toJSON=function(e){return He(this.root,e||0)},qn.mark=function(e,t,n){t=t||this.root.items[0];var r=Qe(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r};var Wn=Ke.prototype;Wn.initialize=function(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},Wn.element=function(){return this._el},Wn.origin=function(e){return this._origin=e||[0,0],this},Wn.scene=function(e){return arguments.length?(this._scene=e,this):this._scene},Wn.on=function(){},Wn.off=function(){},Wn.handlers=function(){var e,t=this._handlers,n=[];for(e in t)n.push.apply(n,t[e]);return n},Wn.eventName=function(e){var t=e.indexOf(".");return t<0?e:e.slice(0,t)},Wn.handleHref=function(e,t,n){this._loader.sanitize(n,{context:"href"}).then(function(t){var n=new MouseEvent(e.type,e),r=l(null,"a");for(var i in t)r.setAttribute(i,t[i]);r.dispatchEvent(n)}).catch(function(){})},Wn.handleTooltip=function(e,t,n){this._el.setAttribute("title",n||"")};var Vn=Je.prototype;Vn.initialize=function(e,t,n,r){return this._el=e,this.resize(t,n,r)},Vn.element=function(){return this._el},Vn.scene=function(){return this._el&&this._el.firstChild},Vn.background=function(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},Vn.resize=function(e,t,n){return this._width=e,this._height=t,this._origin=n||[0,0],this},Vn.dirty=function(){},Vn.render=function(e){var t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},Vn._render=function(){},Vn.renderAsync=function(e){var t=this.render(e);return this._ready?this._ready.then(function(){return t}):Promise.resolve(t)},Vn._load=function(e,t){var n=this,r=n._loader[e](t);if(!n._ready){var i=n._call;n._ready=n._loader.ready().then(function(e){e&&i(),n._ready=null})}return r},Vn.sanitizeURL=function(e){return this._load("sanitizeURL",e)},Vn.loadImage=function(e){return this._load("loadImage",e)};var Hn=function(e,t){var n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]},Gn=t.inherits(Ze,Ke);Gn.initialize=function(e,t,n){var r=this._canvas=e&&c(e,"canvas");if(r){var i=this;this.events.forEach(function(e){r.addEventListener(e,function(t){Gn[e]?Gn[e].call(i,t):i.fire(e,t)})})}return Ke.prototype.initialize.call(this,e,t,n)},Gn.canvas=function(){return this._canvas},Gn.context=function(){return this._canvas.getContext("2d")},Gn.events=["keydown","keypress","keyup","dragenter","dragleave","dragover","mousedown","mouseup","mousemove","mouseout","mouseover","click","dblclick","wheel","mousewheel","touchstart","touchmove","touchend"],Gn.DOMMouseScroll=function(e){this.fire("mousewheel",e)},Gn.mousemove=et("mousemove","mouseover","mouseout"),Gn.dragover=et("dragover","dragenter","dragleave"),Gn.mouseout=tt("mouseout"),Gn.dragleave=tt("dragleave"),Gn.mousedown=function(e){this._down=this._active,this.fire("mousedown",e)},Gn.click=function(e){this._down===this._active&&(this.fire("click",e),this._down=null)},Gn.touchstart=function(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire("touchstart",e,!0)},Gn.touchmove=function(e){this.fire("touchmove",e,!0)},Gn.touchend=function(e){this.fire("touchend",e,!0),this._touch=null},Gn.fire=function(e,t,n){var r,i,a=n?this._touch:this._active,o=this._handlers[e];if("click"===e&&a&&a.href?this.handleHref(t,a,a.href):("mouseover"===e||"mouseout"===e)&&a&&a.tooltip&&this.handleTooltip(t,a,"mouseover"===e?a.tooltip:null),o)for(t.vegaType=e,r=0,i=o.length;r<i;++r)o[r].handler.call(this._obj,t,a)},Gn.on=function(e,t){var n=this.eventName(e),r=this._handlers;return(r[n]||(r[n]=[])).push({type:e,handler:t}),this},Gn.off=function(e,t){var n,r=this.eventName(e),i=this._handlers[r];if(i){for(n=i.length;--n>=0;)i[n].type===e&&(t&&i[n].handler!==t||i.splice(n,1));return this}},Gn.pickEvent=function(e){var t=Hn(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},Gn.pick=function(e,t,n,r,i){var a=this.context(),o=jn[e.marktype];return o.pick.call(this,a,e,t,n,r,i)};var Yn=function(e,t){var n=t.group;e.save(),e.beginPath(),e.rect(0,0,n.width||0,n.height||0),e.clip()},Xn="undefined"!=typeof window?window.devicePixelRatio||1:1,Qn=function(e,t,n,r){var i="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,a=e.getContext("2d"),o=i?Xn:1;return e.width=t*o,e.height=n*o,1!==o&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=o,a.setTransform(o,0,0,o,o*r[0],o*r[1]),e},Kn=t.inherits(nt,Je),Jn=Je.prototype,Zn=new o;Kn.initialize=function(e,t,n,r){return this._canvas=Ct(1,1),e&&(d(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),Jn.initialize.call(this,e,t,n,r)},Kn.resize=function(e,t,n){return Jn.resize.call(this,e,t,n),Qn(this._canvas,this._width,this._height,this._origin),this._redraw=!0,this},Kn.canvas=function(){return this._canvas},Kn.context=function(){return this._canvas?this._canvas.getContext("2d"):null},Kn.dirty=function(e){var t=it(e.bounds,e.mark.group);this._dirty.union(t)},Kn._render=function(e){var t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty;return t.save(),this._redraw||a.empty()?(this._redraw=!1,a=null):a=rt(t,a,n),this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),this._dirty.clear(),this},Kn.draw=function(e,t,n){var r=jn[t.marktype];t.clip&&Yn(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},Kn.clear=function(e,t,n,r){var i=this.context();i.clearRect(e,t,n,r),null!=this._bgcolor&&(i.fillStyle=this._bgcolor,i.fillRect(e,t,n,r))};var er=t.inherits(at,Ke);er.initialize=function(e,t,n){var r=this._svg;return r&&(r.removeEventListener("click",this._hrefHandler),r.removeEventListener("mouseover",this._tooltipHandler),r.removeEventListener("mouseout",this._tooltipHandler)),this._svg=r=e&&c(e,"svg"),r&&(r.addEventListener("click",this._hrefHandler),r.addEventListener("mouseover",this._tooltipHandler),r.addEventListener("mouseout",this._tooltipHandler)),Ke.prototype.initialize.call(this,e,t,n)},er.svg=function(){return this._svg},er.on=function(e,t){var n=this.eventName(e),r=this._handlers,i={type:e,handler:t,listener:ot(this,t)};return(r[n]||(r[n]=[])).push(i),this._svg&&this._svg.addEventListener(n,i.listener),this},er.off=function(e,t){var n,r=this.eventName(e),i=this._svg,a=this._handlers[r];if(a){for(n=a.length;--n>=0;)(a[n].type===e&&!t||a[n].handler===t)&&(this._svg&&i.removeEventListener(r,a[n].listener),a.splice(n,1));return this}};var tr={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},nr={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeWidth:"stroke-width",strokeOpacity:"stroke-opacity",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},rr=Object.keys(nr),ir=tr.xmlns,ar=t.inherits(lt,Je),or=Je.prototype;ar.initialize=function(e,t,n,r){return e&&(this._svg=f(e,0,"svg",ir),this._svg.setAttribute("class","marks"),d(e,1),this._root=f(this._svg,0,"g",ir),d(this._svg,1)),this._defs={gradient:{},clipping:{}},this.background(this._bgcolor),or.initialize.call(this,e,t,n,r)},ar.background=function(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),or.background.apply(this,arguments)},ar.resize=function(e,t,n){return or.resize.call(this,e,t,n),this._svg&&(this._svg.setAttribute("width",this._width),this._svg.setAttribute("height",this._height),this._svg.setAttribute("viewBox","0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")")),this._dirty=[],this},ar.svg=function(){if(!this._svg)return null;var e={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var t in tr)e[t]=tr[t];return st("svg",e)+this._svg.innerHTML+ut("svg")},ar._render=function(e){return this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,e),d(this._root,1)),this.updateDefs(),this._dirty=[],++this._dirtyID,this},ar.updateDefs=function(){var e,t=this._svg,n=this._defs,r=n.el,i=0;for(e in n.gradient)r||(n.el=r=f(t,0,"defs",ir)),ct(r,n.gradient[e],i++);for(e in n.clipping)r||(n.el=r=f(t,0,"defs",ir)),ft(r,n.clipping[e],i++);r&&(0===i?(t.removeChild(r),n.el=null):d(r,i))},ar._resetDefs=function(){var e=this._defs;e.gradient={},e.clipping={}},ar.dirty=function(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},ar.isDirty=function(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},ar._dirtyCheck=function(){this._dirtyAll=!0;var e=this._dirty;if(!e.length)return!0;var t,n,r,i,a,o,s,u=++this._dirtyID;for(a=0,o=e.length;a<o;++a)t=e[a],n=t.mark,n.marktype!==r&&(r=n.marktype,i=jn[r]),n.zdirty&&n.dirty!==u&&(this._dirtyAll=!1,n.dirty=u,dt(n.group,u)),t.exit?(i.nested&&n.items.length?(s=n.items[0],s._svg&&this._update(i,s._svg,s)):t._svg&&t._svg.parentNode.removeChild(t._svg),t._svg=null):(t=i.nested?n.items[0]:t,t._update!==u&&(t._svg&&t._svg.ownerSVGElement?this._update(i,t._svg,t):(this._dirtyAll=!1,dt(t,u)),t._update=u));return!this._dirtyAll},ar.draw=function(e,t,n){function r(e){var t=a.isDirty(e),n=ht(e,i,l,o.tag);t&&(a._update(o,n,e),u&&pt(a,n,e)),l=n,++c}if(!this.isDirty(t))return t._svg;var i,a=this,o=jn[t.marktype],s=t.interactive===!1?"none":null,u="g"===o.tag,l=null,c=0;return i=ht(t,e,n,"g"),i.setAttribute("class",p(t)),!u&&s&&i.style.setProperty("pointer-events",s),t.clip&&i.setAttribute("clip-path",wn(a,t,t.group)),o.nested?t.items.length&&r(t.items[0]):Z(t,r),d(i,c),i};var sr=null,ur=null,lr={group:function(e,t,n){ur=t.__values__,sr=t.childNodes[1],e.foreground(mt,n,this),sr=t.childNodes[0],
e.background(mt,n,this);var r=n.mark.interactive===!1?"none":null;r!==ur.events&&(sr.style.setProperty("pointer-events",r),ur.events=r)},text:function(e,t,n){var r=je(n);r!==ur.text&&(t.textContent=r,ur.text=r),r=$e(n),r!==ur.font&&(t.style.setProperty("font",r),ur.font=r)}};ar._update=function(e,t,n){sr=t,ur=t.__values__,e.attr(mt,n,this);var r=lr[e.type];r&&r.call(this,e,t,n),this.style(sr,n)},ar.style=function(e,t){if(null!=t){var n,r,i,a,o;for(n=0,r=rr.length;n<r;++n)i=rr[n],o=t[i],o!==ur[i]&&(a=nr[i],null==o?"fill"===a?e.style.setProperty(a,"none"):e.style.removeProperty(a):(o.id&&(this._defs.gradient[o.id]=o,o="url("+gt()+"#"+o.id+")"),e.style.setProperty(a,o+"")),ur[i]=o)}};var cr=t.inherits(yt,Je),fr=Je.prototype;cr.resize=function(e,t,n){fr.resize.call(this,e,t,n);var r=this._origin,i=this._text,a={class:"marks",width:this._width,height:this._height,viewBox:"0 0 "+this._width+" "+this._height};for(var o in tr)a[o]=tr[o];return i.head=st("svg",a),i.root=st("g",{transform:"translate("+r+")"}),i.foot=ut("g")+ut("svg"),this},cr.svg=function(){var e=this._text;return e.head+e.defs+e.root+e.body+e.foot},cr._render=function(e){return this._text.body=this.mark(e),this._text.defs=this.buildDefs(),this},cr.buildDefs=function(){var e,t,n,r,i=this._defs,a="";for(t in i.gradient){for(n=i.gradient[t],r=n.stops,a+=st("linearGradient",{id:t,x1:n.x1,x2:n.x2,y1:n.y1,y2:n.y2}),e=0;e<r.length;++e)a+=st("stop",{offset:r[e].offset,"stop-color":r[e].color})+ut("stop");a+=ut("linearGradient")}for(t in i.clipping)n=i.clipping[t],a+=st("clipPath",{id:t}),a+=st("rect",{x:0,y:0,width:n.width,height:n.height})+ut("rect"),a+=ut("clipPath");return a.length>0?st("defs")+a+ut("defs"):""};var dr;cr.attributes=function(e,t){return dr={},e(vt,t,this),dr},cr.href=function(e){var t,n=this,r=e.href;if(r){if(t=n._hrefs&&n._hrefs[r])return t;n.sanitizeURL(r).then(function(e){e["xlink:href"]=e.href,e.href=null,(n._hrefs||(n._hrefs={}))[r]=e})}return null},cr.mark=function(e){function t(t){var u=r.href(t);u&&(s+=st("a",u)),n="g"!==a?bt(t,e,a,o):null,s+=st(a,r.attributes(i.attr,t),n),"text"===a?s+=_t(je(t)):"g"===a&&(s+=st("path",r.attributes(i.background,t),bt(t,e,"bgrect",o))+ut("path"),s+=st("g",r.attributes(i.foreground,t))+r.markGroup(t)+ut("g")),s+=ut(a),u&&(s+=ut("a"))}var n,r=this,i=jn[e.marktype],a=i.tag,o=this._defs,s="";return"g"!==a&&e.interactive===!1&&(n='style="pointer-events: none;"'),s+=st("g",{class:p(e),"clip-path":e.clip?wn(r,e,e.group):null},n),i.nested?e.items&&e.items.length&&t(e.items[0]):Z(e,t),s+ut("g")},cr.markGroup=function(e){var t=this,n="";return Z(e,function(e){n+=t.mark(e)}),n};var pr="canvas",hr="png",mr="svg",gr="none",yr={Canvas:pr,PNG:hr,SVG:mr,None:gr},vr={};vr[pr]=vr[hr]={renderer:nt,headless:nt,handler:Ze},vr[mr]={renderer:lt,headless:yt,handler:at},vr[gr]={};var br=1e-9;e.Bounds=o,e.Gradient=Mt,e.GroupItem=u,e.ResourceLoader=h,e.Item=s,e.Scenegraph=Xe,e.Handler=Ke,e.Renderer=Je,e.CanvasHandler=Ze,e.CanvasRenderer=nt,e.SVGHandler=at,e.SVGRenderer=lt,e.SVGStringRenderer=yt,e.RenderType=yr,e.renderModule=xt,e.Marks=jn,e.boundContext=Y,e.boundStroke=rn,e.boundItem=zn,e.boundMark=Un,e.pathCurves=y,e.pathSymbols=S,e.pathRectangle=Gt,e.pathTrail=Xt,e.pathParse=Lt,e.pathRender=Bt,e.point=Hn,e.canvas=Ct,e.domCreate=l,e.domFind=c,e.domChild=f,e.domClear=d,e.openTag=st,e.closeTag=ut,e.font=$e,e.textMetrics=Rn,e.resetSVGClipId=se,e.sceneEqual=St,e.pathEqual=wt,e.sceneToJSON=He,e.sceneFromJSON=Ge,e.sceneZOrder=J,e.sceneVisit=Z,e.scenePickVisit=ee,Object.defineProperty(e,"__esModule",{value:!0})})},[688,5,16,8,33,2,28],function(e,t,n){"use strict";function r(e,t,n,r){var i=e.hasDiscreteDomain(n);if(i){var a=e instanceof f.UnitModel?e.axis(n)||e.legend(n)||{}:{},o=u.field(t,{expr:"datum",binSuffix:"start"}),s=u.field(t,{expr:"datum",binSuffix:"end"});return{formulaAs:u.field(t,{binSuffix:"range"}),formula:c.numberFormatExpr(o,a.format,r)+' + " - " + '+c.numberFormatExpr(s,a.format,r)}}return{}}function i(e,t){return s.binToString(e)+"_"+t}function a(e,t,n,r){return{bin:e,field:t.field,as:[u.field(t,{binSuffix:"start"}),u.field(t,{binSuffix:"end"})],signal:n.getName(r+"_bins"),extentSignal:n.getName(r+"_extent")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(95),u=n(16),l=n(2),c=n(18),f=n(31),d=n(28),p=function(e){function t(t){var n=e.call(this)||this;return n.bins=t,n}return o.__extends(t,e),t.prototype.clone=function(){return new t(l.duplicate(this.bins))},t.makeBinFromEncoding=function(e){var n=e.reduceFieldDef(function(t,n,s){var l=n.bin;if(l){var c=u.normalizeBin(l,void 0)||{},f=i(l,n.field);f in t||(t[f]=a(c,n,e,f)),t[f]=o.__assign({},t[f],r(e,n,s,e.config))}return t},{});return 0===l.keys(n).length?null:new t(n)},t.makeBinFromTransform=function(e,n){var r=u.normalizeBin(n.bin,void 0)||{},o=i(r,n.field);return new t((s={},s[o]=a(r,n,e,o),s));var s},t.prototype.merge=function(e){this.bins=l.extend(e.bins),e.remove()},t.prototype.producedFields=function(){var e={};return l.vals(this.bins).forEach(function(t){t.as.forEach(function(t){return e[t]=!0})}),e},t.prototype.dependentFields=function(){var e={};return l.vals(this.bins).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return l.flatten(l.vals(this.bins).map(function(e){var t=[],n=o.__assign({type:"bin",field:e.field,as:e.as,signal:e.signal},e.bin);return e.bin.extent||(t.push({type:"extent",field:e.field,signal:e.extentSignal}),n.extent={signal:e.extentSignal}),t.push(n),e.formula&&t.push({type:"formula",expr:e.formula,as:e.formulaAs}),t}))},t}(d.DataFlowNode);t.BinNode=p},[696,16,61,33,2,28],function(e,t,n){"use strict";function r(e,t){return o(e,t)}function i(e,t){return o(e,t)}function a(e,t){var n=e.field;return l.isRepeatRef(n)?n.repeat in t?s.__assign({},e,{field:t[n.repeat]}):(c.warn(c.message.noSuchRepeatedValue(n.repeat)),null):e}function o(e,t){var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(u.isArray(i))n[r]=i.map(function(e){return a(e,t)}).filter(function(e){return null!==e});else{var o=a(i,t);null!==o&&(n[r]=o)}}return n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(7),l=n(16),c=n(8),f=n(125),d=n(2),p=n(18),h=n(76),m=n(96),g=n(77),y=n(59);t.replaceRepeaterInFacet=r,t.replaceRepeaterInEncoding=i;var v=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,a,f.initRepeatResolve(t.resolve||{}))||this;return o.repeat=t.repeat,o.children=o._initChildren(t,o.repeat,i,a),o}return s.__extends(t,e),t.prototype._initChildren=function(e,t,n,r){for(var i=[],a=t.row||[n?n.row:null],o=t.column||[n?n.column:null],s=0,u=a;s<u.length;s++)for(var l=u[s],c=0,f=o;c<f.length;c++){var d=f[c],h=(l?"_"+l:"")+(d?"_"+d:""),m={row:l,column:d};i.push(p.buildModel(e.spec,this,this.getName("child"+h),void 0,m,r))}return i},t.prototype.parseData=function(){this.component.data=m.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),d.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseLegend=function(){g.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:h.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},[])},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return{padding:{row:10,column:10},offset:10,columns:this.repeat&&this.repeat.column?this.repeat.column.length:1,bounds:"full",align:"all"}},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return s.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(y.Model);t.RepeatModel=v},function(e,t,n){"use strict";function r(e){var t=null,n=null,r=null,i=null;return e.project.forEach(function(e,a){e.encoding===s.X?(t=e,n=a):e.encoding===s.Y&&(r=e,i=a)}),{x:t,xi:n,y:r,yi:i}}function i(e,n,r){var i=f.channelSignalName(n,r,"visual"),o=f.channelSignalName(n,r,"data"),u=d.default.has(n),p=e.scaleName(r),h=c.stringValue(p),m=e.getScaleComponent(r),g=m?m.get("type"):void 0,y=e.getSizeSignalRef(r===s.X?"width":"height").signal,v=r+"(unit)",b=a(n,function(e,t){return e.concat({events:t.between[0],update:"["+v+", "+v+"]"},{events:t,update:"["+i+"[0], clamp("+v+", 0, "+y+")]"})});return b.push({events:{signal:n.name+t.SCALE_TRIGGER},update:l.hasContinuousDomain(g)&&!l.isBinScale(g)?"[scale("+h+", "+o+"[0]), scale("+h+", "+o+"[1])]":"[0, 0]"}),u?[{name:o,on:[]}]:[{name:i,value:[],on:b},{name:o,on:[{events:{signal:i},update:"invert("+h+", "+i+")"}]}]}function a(e,t){return e.events.reduce(function(e,n){return n.between?t(e,n):(u.warn(n+" is not an ordered event stream for interval selections"),e)},[])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(5),u=n(8),l=n(13),c=n(2),f=n(29),d=n(123);t.BRUSH="_brush",t.SCALE_TRIGGER="_scale_trigger";var p={predicate:"vlInterval",scaleDomain:"vlIntervalDomain",signals:function(e,n){var r=n.name,o=d.default.has(n),l=[],p=[],h=[];if(n.translate&&!o){var m="!event.item || event.item.mark.name !== "+c.stringValue(r+t.BRUSH);a(n,function(e,t){var n=t.between[0].filter||(t.between[0].filter=[]);n.indexOf(m)<0&&n.push(m)})}return n.project.forEach(function(t){var r=t.encoding;if(r!==s.X&&r!==s.Y)return void u.warn("Interval selections only support x and y encoding channels.");var a=i(e,n,r),o=f.channelSignalName(n,r,"data"),d=f.channelSignalName(n,r,"visual"),m=c.stringValue(e.scaleName(r));l.push.apply(l,a),p.push("{encoding: "+c.stringValue(r)+", "+("field: "+c.stringValue(t.field)+", extent: "+o+"}")),h.push({scaleName:e.scaleName(r),expr:"(!isArray("+o+") || "+("(invert("+m+", "+d+")[0] === "+o+"[0] && ")+("invert("+m+", "+d+")[1] === "+o+"[1]))")})}),o||l.push({name:r+t.SCALE_TRIGGER,update:h.map(function(e){return e.expr}).join(" && ")+(" ? "+(r+t.SCALE_TRIGGER)+" : {}")}),l.concat({name:r+f.TUPLE,update:"{unit: "+c.stringValue(e.getName(""))+", intervals: ["+p.join(", ")+"]}"})},modifyExpr:function(e,t){var n=t.name+f.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+c.stringValue(e.getName(""))+"}")},marks:function(e,n,i){var a=n.name,s=r(n),u=s.xi,l=s.yi,p=(a+f.TUPLE,"data("+c.stringValue(n.name+f.STORE)+")");if(d.default.has(n))return i;var h={x:null!==u?{signal:a+"_x[0]"}:{value:0},y:null!==l?{signal:a+"_y[0]"}:{value:0},x2:null!==u?{signal:a+"_x[1]"}:{field:{group:"width"}},y2:null!==l?{signal:a+"_y[1]"}:{field:{group:"height"}}};return"global"===n.resolve&&c.keys(h).forEach(function(t){h[t]=[o.__assign({test:p+".length && "+p+"[0].unit === "+c.stringValue(e.getName(""))},h[t]),{value:0}]}),[{type:"rect",encode:{enter:{fill:{value:"#333"},fillOpacity:{value:.125}},update:h}}].concat(i,{name:a+t.BRUSH,type:"rect",encode:{enter:{fill:{value:"transparent"},stroke:{value:"white"}},update:h}})}};t.default=p,t.projections=r},171,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultLegendConfig={orient:void 0},t.LEGEND_PROPERTIES=["entryPadding","format","offset","orient","tickCount","title","type","values","zindex"],t.VG_LEGEND_PROPERTIES=[].concat(["fill","stroke","shape","size","opacity","encode"],t.LEGEND_PROPERTIES)},173,[726,94,5,32,16,8,24,13,2],175,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){i.copy(e,this)}var i=n(63);e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maximum"==t,m=h?"exclusiveMaximum":"exclusiveMinimum",g=e.schema[m],y=e.opts.$data&&g&&g.$data,v=h?"<":">",b=h?">":"<",r=void 0;if(y){var _=e.util.getData(g.$data,s,e.dataPathArr),x="exclusive"+o,S="exclType"+o,w="exclIsNumber"+o,O="op"+o,k="' + "+O+" + '";a+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,a+=" var "+x+"; var "+S+" = typeof "+_+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var r=m,E=E||[];E.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(a+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var M=a;a=E.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+S+" == 'number' ? ( ("+x+" = "+i+" === undefined || "+_+" "+v+"= "+i+") ? "+d+" "+b+"= "+_+" : "+d+" "+b+" "+i+" ) : ( ("+x+" = "+_+" === true) ? "+d+" "+b+"= "+i+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { var op"+o+" = "+x+" ? '"+v+"' : '"+v+"=';"}else{var w="number"==typeof g,k=v;if(w&&p){var O="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" ( "+i+" === undefined || "+g+" "+v+"= "+i+" ? "+d+" "+b+"= "+g+" : "+d+" "+b+" "+i+" ) || "+d+" !== "+d+") { "}else{w&&void 0===u?(x=!0,r=m,c=e.errSchemaPath+"/"+m,i=g,b+="="):(w&&(i=Math[h?"min":"max"](g,u)),g===(!w||i)?(x=!0,r=m,c=e.errSchemaPath+"/"+m,b+="="):(x=!1,k+="="));var O="'"+k+"'";a+=" if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+" "+b+" "+i+" || "+d+" !== "+d+") { "}}r=r||t;var E=E||[];E.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+O+", limit: "+i+", exclusive: "+x+" } ",e.opts.messages!==!1&&(a+=" , message: 'should be "+k+" ",a+=p?"' + "+i:""+i+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+l:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var M=a;return a=E.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxItems"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" "+d+".length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxItems"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+l:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxLength"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=e.opts.unicode===!1?" "+d+".length ":" ucs2length("+d+") ",a+=" "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT be ",a+="maxLength"==t?"longer":"shorter",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+l:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p=e.opts.$data&&u&&u.$data;p?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var h="maxProperties"==t?">":"<";a+="if ( ",p&&(a+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),a+=" Object.keys("+d+").length "+h+" "+i+") { ";var r=t,m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",e.opts.messages!==!1&&(a+=" , message: 'should NOT have ",a+="maxProperties"==t?"more":"less",a+=" than ",a+=p?"' + "+i+" + '":""+u,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=p?"validate.schema"+l:""+u,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var g=a;return a=m.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a}},function(e,t){"use strict";e.exports=function(e,t,n){function r(e){for(var t=e.rules,n=0;n<t.length;n++)if(i(t[n]))return!0}function i(t){return void 0!==e.schema[t.keyword]||t.implements&&a(t)}function a(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}var o="",s=e.schema.$async===!0,u=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.isTop){if(s){e.async=!0;var c="es7"==e.opts.async;e.yieldAwait=c?"await":"yield"}o+=" var validate = ",s?c?o+=" (async function ":("*"!=e.opts.async&&(o+="co.wrap"),o+="(function* "):o+=" (function ",o+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(o+=" "+("/*# sourceURL="+l+" */")+" ")}if("boolean"==typeof e.schema||!u&&!e.schema.$ref){var f,t="false schema",d=e.level,p=e.dataLevel,h=e.schema[t],m=e.schemaPath+e.util.getProperty(t),g=e.errSchemaPath+"/"+t,y=!e.opts.allErrors,v="data"+(p||""),b="valid"+d;if(e.schema===!1){e.isTop?y=!0:o+=" var "+b+" = false; ";var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: {} ",e.opts.messages!==!1&&(o+=" , message: 'boolean schema is false' "),e.opts.verbose&&(o+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else o+=e.isTop?s?" return data; ":" validate.errors = null; return true; ":" var "+b+" = true; ";return e.isTop&&(o+=" }); return validate; "),o}if(e.isTop){var S=e.isTop,d=e.level=0,p=e.dataLevel=0,v="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],o+=" var vErrors = null; ",o+=" var errors = 0;     ",o+=" if (rootData === undefined) rootData = data; "}else{var d=e.level,p=e.dataLevel,v="data"+(p||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");o+=" var errs_"+d+" = errors;"}var f,b="valid"+d,y=!e.opts.allErrors,w="",O="",k=e.schema.type,E=Array.isArray(k);if(E&&1==k.length&&(k=k[0],E=!1),e.schema.$ref&&u){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(u=!1,console.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(k){if(e.opts.coerceTypes)var M=e.util.coerceToTypes(e.opts.coerceTypes,k);var T=e.RULES.types[k];if(M||E||T===!0||T&&!r(T)){var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",m=e.schemaPath+".type",g=e.errSchemaPath+"/type",P=E?"checkDataTypes":"checkDataType";if(o+=" if ("+e.util[P](k,v,!0)+") { ",M){var C="dataType"+d,A="coerced"+d;o+=" var "+C+" = typeof "+v+"; ","array"==e.opts.coerceTypes&&(o+=" if ("+C+" == 'object' && Array.isArray("+v+")) "+C+" = 'array'; "),o+=" var "+A+" = undefined; ";var D="",R=M;if(R)for(var N,I=-1,F=R.length-1;I<F;)N=R[I+=1],I&&(o+=" if ("+A+" === undefined) { ",D+="}"),"array"==e.opts.coerceTypes&&"array"!=N&&(o+=" if ("+C+" == 'array' && "+v+".length == 1) { "+A+" = "+v+" = "+v+"[0]; "+C+" = typeof "+v+";  } "),"string"==N?o+=" if ("+C+" == 'number' || "+C+" == 'boolean') "+A+" = '' + "+v+"; else if ("+v+" === null) "+A+" = ''; ":"number"==N||"integer"==N?(o+=" if ("+C+" == 'boolean' || "+v+" === null || ("+C+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==N&&(o+=" && !("+v+" % 1)"),o+=")) "+A+" = +"+v+"; "):"boolean"==N?o+=" if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+A+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+A+" = true; ":"null"==N?o+=" if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==N&&(o+=" if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+v+" == null) "+A+" = ["+v+"]; ");o+=" "+D+" if ("+A+" === undefined) {   ";var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else {  ";var L=p?"data"+(p-1||""):"parentData",j=p?e.dataPathArr[p]:"parentDataProperty";o+=" "+v+" = "+A+"; ",p||(o+="if ("+L+" !== undefined)"),o+=" "+L+"["+j+"] = "+A+"; } "}else{var _=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}o+=" } "}}if(e.schema.$ref&&!u)o+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(o+=" } if (errors === ",o+=S?"0":"errs_"+d,o+=") { ",O+="}");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var z=e.RULES;if(z)for(var T,$=-1,U=z.length-1;$<U;)if(T=z[$+=1],r(T)){if(T.type&&(o+=" if ("+e.util.checkDataType(T.type,v)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==T.type&&e.schema.properties){var h=e.schema.properties,B=Object.keys(h),q=B;if(q)for(var W,V=-1,H=q.length-1;V<H;){W=q[V+=1];var G=h[W];if(void 0!==G.default){var Y=v+e.util.getProperty(W);o+="  if ("+Y+" === undefined) "+Y+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(G.default)+" ":" "+JSON.stringify(G.default)+" ",o+="; "}}}else if("array"==T.type&&Array.isArray(e.schema.items)){var X=e.schema.items;if(X)for(var G,I=-1,Q=X.length-1;I<Q;)if(G=X[I+=1],void 0!==G.default){var Y=v+"["+I+"]";o+="  if ("+Y+" === undefined) "+Y+" = ",o+="shared"==e.opts.useDefaults?" "+e.useDefault(G.default)+" ":" "+JSON.stringify(G.default)+" ",o+="; "}}var K=T.rules;if(K)for(var J,Z=-1,ee=K.length-1;Z<ee;)if(J=K[Z+=1],i(J)){var te=J.code(e,J.keyword,T.type);te&&(o+=" "+te+" ",y&&(w+="}"))}if(y&&(o+=" "+w+" ",w=""),T.type&&(o+=" } ",k&&k===T.type&&!M)){o+=" else { ";var m=e.schemaPath+".type",g=e.errSchemaPath+"/type",_=_||[];_.push(o),o="",e.createErrors!==!1?(o+=" { keyword: '"+(f||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { type: '",o+=E?""+k.join(","):""+k,o+="' } ",e.opts.messages!==!1&&(o+=" , message: 'should be ",o+=E?""+k.join(","):""+k,o+="' "),e.opts.verbose&&(o+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var x=o;o=_.pop(),o+=!e.compositeRule&&y?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } "}y&&(o+=" if (errors === ",o+=S?"0":"errs_"+d,o+=") { ",O+="}")}}return y&&(o+=" "+O+" "),S?(s?(o+=" if (errors === 0) return data;           ",o+=" else throw new ValidationError(vErrors); "):(o+=" validate.errors = vErrors; ",o+=" return errors === 0;       "),o+=" }); return validate;"):o+=" var "+b+" = errors === errs_"+d+";",o=e.util.cleanUpCode(o),S&&(o=e.util.finalCleanUpCode(o,s)),o}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return{value:e.app.vegaSpec,compiledVegaSpec:e.app.compiledVegaSpec,mode:e.app.mode}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(14),f=i(c),d=n(37),p=n(39),h=r(p),m={cursor:"pointer"},g={position:"absolute",right:"50%",height:25,width:35},y=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"editVegaSpec",value:function(){this.props.updateVegaSpec(JSON.stringify(this.props.value,null,2))}},{key:"render",value:function(){if(this.props.compiledVegaSpec){var e=Object.assign({},m,{position:"static"});return f.default.createElement("div",{className:"editor-header",style:e,onClick:this.props.showCompiledVegaSpec},f.default.createElement("span",{style:{marginLeft:10}},"Compiled Vega"),f.default.createElement("svg",{style:g},f.default.createElement("polygon",{points:"5,5 30,5 17.5,20"})),f.default.createElement("button",{onClick:this.editVegaSpec.bind(this),style:{position:"absolute",right:"3%",cursor:"pointer"}},"Edit Vega spec"))}return f.default.createElement("div",{onClick:this.props.showCompiledVegaSpec,className:"editor-header",style:m},f.default.createElement("span",{style:{marginLeft:10}},"Compiled Vega"),f.default.createElement("svg",{style:g},f.default.createElement("polygon",{points:"5,20 30,20 17.5,5"})))}}]),t}(f.default.Component),v=function(e){return{updateVegaSpec:function(t){e(h.updateVegaSpec(t))},showCompiledVegaSpec:function(){e(h.showCompiledVegaSpec())}}};t.default=(0,d.connect)(u,v)(y)},function(e,t,n){(function(e,r){"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,n){if(a()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,n,r)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):h(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t,n,r){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}function c(t,n){if(u(n),t=o(t,n<0?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function f(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);t=o(t,i);var a=t.write(n,r);return a!==i&&(t=t.slice(0,a)),t}function d(e,t){var n=t.length<0?0:0|m(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=d(t,n),
t}function h(t,n){if(e.isBuffer(n)){var r=0|m(n.length);return t=o(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||Q(n.length)?o(t,0):d(t,n);if("Buffer"===n.type&&Z(n.data))return d(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function g(t){return+t!=t&&(t=0),e.alloc(+t)}function y(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(t).length;default:if(i)return V(t).length;n=(""+n).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(t,n,r,i,a){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(a)return-1;r=t.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:x(t,n,r,i,a);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):x(t,[n],r,i,a);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(a(e,l)===a(t,c===-1?0:l-c)){if(c===-1&&(c=l),l-c+1===u)return c*o}else c!==-1&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,d=0;d<u;d++)if(a(e,l+d)!==a(t,d)){f=!1;break}if(f)return l}return-1}function S(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return X(V(t,e.length-n),e,n,r)}function O(e,t,n,r){return X(H(t),e,n,r)}function k(e,t,n,r){return O(e,t,n,r)}function E(e,t,n,r){return X(Y(t),e,n,r)}function M(e,t,n,r){return X(G(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:a<128&&(o=a);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&a)<<6|63&u,f>127&&(o=f));break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&a)<<12|(63&u)<<6|63&l,f>2047&&(f<55296||f>57343)&&(o=f));break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&f<1114112&&(o=f))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return C(r)}function C(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=W(e[a]);return i}function N(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,r,i,a,o){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>a||n<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return i||z(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function U(e,t,n,r,i){return i||z(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function B(e){if(e=q(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function H(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function Y(e){return K.toByteArray(B(e))}function X(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Q(e){return e!==e}var K=n(357),J=n(401),Z=n(430);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=a(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return s(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return l(null,e,t,n)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,a=0,o=Math.min(r,i);a<o;++a)if(t[a]!==n[a]){r=t[a],i=n[a];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),a=0;for(r=0;r<t.length;++r){var o=t[r];if(!e.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,a){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),n<0||r>t.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&n>=r)return 0;if(i>=a)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,a>>>=0,this===t)return 0;for(var o=a-i,s=r-n,u=Math.min(o,s),l=this.slice(i,a),c=t.slice(n,r),f=0;f<u;++f)if(l[f]!==c[f]){o=l[f],s=c[f];break}return o<s?-1:s<o?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return S(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return O(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var a=n-t;i=new e(a,(void 0));for(var o=0;o<a;++o)i[o]=this[o+t]}return i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},e.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),J.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),J.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;F(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):j(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);F(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):j(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||F(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):j(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var a,o=i-r;if(this===t&&r<n&&n<i)for(a=o-1;a>=0;--a)t[a+n]=this[a+r];else if(o<1e3||!e.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+n]=this[a+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),n);return o},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var a=t.charCodeAt(0);a<256&&(t=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var o;if("number"==typeof t)for(o=n;o<r;++o)this[o]=t;else{var s=e.isBuffer(t)?t:V(new e(t,i).toString()),u=s.length;for(o=0;o<r-n;++o)this[o+n]=s[o%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(197).Buffer,function(){return this}())},function(e,t){function n(e){var t=this,n=f.call(arguments,1);return new Promise(function(i,a){function o(t){var n;try{n=e.next(t)}catch(r){return a(r)}l(n)}function u(t){var n;try{n=e.throw(t)}catch(r){return a(r)}l(n)}function l(e){if(e.done)return i(e.value);var n=r.call(t,e.value);return n&&s(n)?n.then(o,u):u(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}return"function"==typeof e&&(e=e.apply(t,n)),e&&"function"==typeof e.next?void o():i(e)})}function r(e){return e?s(e)?e:l(e)||u(e)?n.call(this,e):"function"==typeof e?i.call(this,e):Array.isArray(e)?a.call(this,e):c(e)?o.call(this,e):e:e}function i(e){var t=this;return new Promise(function(n,r){e.call(t,function(e,t){return e?r(e):(arguments.length>2&&(t=f.call(arguments,1)),void n(t))})})}function a(e){return Promise.all(e.map(r,this))}function o(e){function t(e,t){n[t]=void 0,a.push(e.then(function(e){n[t]=e}))}for(var n=new e.constructor,i=Object.keys(e),a=[],o=0;o<i.length;o++){var u=i[o],l=r.call(this,e[u]);l&&s(l)?t(l,u):n[u]=e[u]}return Promise.all(a).then(function(){return n})}function s(e){return"function"==typeof e.then}function u(e){return"function"==typeof e.next&&"function"==typeof e.throw}function l(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||u(t.prototype))}function c(e){return Object==e.constructor}var f=Array.prototype.slice;e.exports=n.default=n.co=n,n.wrap=function(e){function t(){return n.call(this,e.apply(this,arguments))}return t.__generatorFunction__=e,t}},function(e,t,n){"use strict";function r(e){return e}function i(e,t,n){function i(e,t){var n=v.hasOwnProperty(t)?v[t]:null;S.hasOwnProperty(t)&&u("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&u("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function a(e,n){if(n){u("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),u(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,a=r.__reactAutoBindPairs;n.hasOwnProperty(l)&&b.mixins(e,n.mixins);for(var o in n)if(n.hasOwnProperty(o)&&o!==l){var s=n[o],c=r.hasOwnProperty(o);if(i(c,o),b.hasOwnProperty(o))b[o](e,s);else{var f=v.hasOwnProperty(o),h="function"==typeof s,m=h&&!f&&!c&&n.autobind!==!1;if(m)a.push(o,s),r[o]=s;else if(c){var g=v[o];u(f&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,o),"DEFINE_MANY_MERGED"===g?r[o]=d(r[o],s):"DEFINE_MANY"===g&&(r[o]=p(r[o],s))}else r[o]=s}}}else;}function c(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in b;u(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;u(!a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function f(e,t){u(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(u(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function p(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function m(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=h(e,i)}}function g(e){var t=r(function(e,r,i){this.__reactAutoBindPairs.length&&m(this),this.props=e,this.context=r,this.refs=s,this.updater=i||n,this.state=null;var a=this.getInitialState?this.getInitialState():null;u("object"==typeof a&&!Array.isArray(a),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=a});t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(a.bind(null,t)),a(t,_),a(t,e),a(t,x),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),u(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var i in v)t.prototype[i]||(t.prototype[i]=null);return t}var y=[],v={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)a(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},_={componentDidMount:function(){this.__isMounted=!0}},x={componentWillUnmount:function(){this.__isMounted=!1}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return o(w.prototype,e.prototype,S),g}var a,o=n(359),s=n(103),u=n(4),l="mixins";a={},e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,o.default)(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(400),o=r(a);e.exports=t.default},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){for(var e,t=0,r=arguments.length,i={};t<r;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new n(i)}function n(e){this._=e}function r(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function i(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function a(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=o,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}var o={value:function(){}};n.prototype=t.prototype={constructor:n,on:function(e,t){var n,o=this._,s=r(e+"",o),u=-1,l=s.length;{if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<l;)if(n=(e=s[u]).type)o[n]=a(o[n],e.name,t);else if(null==t)for(n in o)o[n]=a(o[n],e.name,null);return this}for(;++u<l;)if((n=(e=s[u]).type)&&(n=i(o[n],e.name)))return n}},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new n(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],a=0,n=r.length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}},e.dispatch=t,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}")}function n(e,n){var r=t(e);return function(t,i){return n(r(t),i,e)}}function r(e){var t=Object.create(null),n=[];return e.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}var i=function(e){function i(e,r){var i,o,s=a(e,function(e,a){return i?i(e,a-1):(o=e,void(i=r?n(e,r):t(e)))});return s.columns=o,s}function a(e,t){function n(){if(l>=u)return o;if(i)return i=!1,a;var t,n=l;if(34===e.charCodeAt(n)){for(var r=n;r++<u;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;++r}return l=r+2,t=e.charCodeAt(r+1),13===t?(i=!0,10===e.charCodeAt(r+2)&&++l):10===t&&(i=!0),e.slice(n+1,r).replace(/""/g,'"')}for(;l<u;){var s=1;if(t=e.charCodeAt(l++),10===t)i=!0;else if(13===t)i=!0,10===e.charCodeAt(l)&&(++l,++s);else if(t!==f)continue;return e.slice(n,l-s)}return e.slice(n)}for(var r,i,a={},o={},s=[],u=e.length,l=0,c=0;(r=n())!==o;){for(var d=[];r!==a&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,c++))||s.push(d)}return s}function o(t,n){return null==n&&(n=r(t)),[n.map(l).join(e)].concat(t.map(function(t){return n.map(function(e){return l(t[e])}).join(e)})).join("\n")}function s(e){return e.map(u).join("\n")}function u(t){return t.map(l).join(e)}function l(e){return null==e?"":c.test(e+="")?'"'+e.replace(/\"/g,'""')+'"':e}var c=new RegExp('["'+e+"\n\r]"),f=e.charCodeAt(0);return{parse:i,parseRows:a,format:o,formatRows:s}},a=i(","),o=a.parse,s=a.parseRows,u=a.format,l=a.formatRows,c=i("\t"),f=c.parse,d=c.parseRows,p=c.format,h=c.formatRows;e.dsvFormat=i,e.csvParse=o,e.csvParseRows=s,e.csvFormat=u,e.csvFormatRows=l,e.tsvParse=f,e.tsvParseRows=d,e.tsvFormat=p,e.tsvFormatRows=h,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new t}var r=Math.PI,i=2*r,a=1e-6,o=i-a;t.prototype=n.prototype={constructor:t,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,i,o){e=+e,t=+t,n=+n,i=+i,o=+o;var s=this._x1,u=this._y1,l=n-e,c=i-t,f=s-e,d=u-t,p=f*f+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>a)if(Math.abs(d*l-c*f)>a&&o){var h=n-s,m=i-u,g=l*l+c*c,y=h*h+m*m,v=Math.sqrt(g),b=Math.sqrt(p),_=o*Math.tan((r-Math.acos((g+p-y)/(2*v*b)))/2),x=_/b,S=_/v;Math.abs(x-1)>a&&(this._+="L"+(e+x*f)+","+(t+x*d)),this._+="A"+o+","+o+",0,0,"+ +(d*h>f*m)+","+(this._x1=e+S*l)+","+(this._y1=t+S*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,s,u,l){e=+e,t=+t,n=+n;var c=n*Math.cos(s),f=n*Math.sin(s),d=e+c,p=t+f,h=1^l,m=l?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+p:(Math.abs(this._x1-d)>a||Math.abs(this._y1-p)>a)&&(this._+="L"+d+","+p),n&&(m<0&&(m=m%i+i),m>o?this._+="A"+n+","+n+",0,1,"+h+","+(e-c)+","+(t-f)+"A"+n+","+n+",0,1,"+h+","+(this._x1=d)+","+(this._y1=p):m>a&&(this._+="A"+n+","+n+",0,"+ +(m>=r)+","+h+","+(this._x1=e+n*Math.cos(u))+","+(this._y1=t+n*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.path=n,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(99),n(201),n(202))}(this,function(e,t,n,r){"use strict";function i(e){return function(t,n){e(null==t?n:null)}}function a(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function o(e,t){return function(n){return e(n.responseText,t)}}var s=function(e,r){function o(e){var t,n=p.status;if(!n&&a(p)||n>=200&&n<300||304===n){if(l)try{t=l.call(s,p)}catch(r){return void f.call("error",s,r)}else t=p;f.call("load",s,t)}else f.call("error",s,e)}var s,u,l,c,f=n.dispatch("beforesend","progress","load","error"),d=t.map(),p=new XMLHttpRequest,h=null,m=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(e)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=o:p.onreadystatechange=function(e){p.readyState>3&&o(e)},p.onprogress=function(e){f.call("progress",s,e)},s={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?d.get(e):(null==t?d.remove(e):d.set(e,t+""),s)},mimeType:function(e){return arguments.length?(u=null==e?null:e+"",s):u},responseType:function(e){return arguments.length?(c=e,s):c},timeout:function(e){return arguments.length?(g=+e,s):g},user:function(e){return arguments.length<1?h:(h=null==e?null:e+"",s)},password:function(e){return arguments.length<1?m:(m=null==e?null:e+"",s)},response:function(e){return l=e,s},get:function(e,t){return s.send("GET",e,t)},post:function(e,t){return s.send("POST",e,t)},send:function(t,n,r){return p.open(t,e,!0,h,m),null==u||d.has("accept")||d.set("accept",u+",*/*"),p.setRequestHeader&&d.each(function(e,t){p.setRequestHeader(t,e)}),null!=u&&p.overrideMimeType&&p.overrideMimeType(u),null!=c&&(p.responseType=c),g>0&&(p.timeout=g),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=i(r)),null!=r&&s.on("error",r).on("load",function(e){r(null,e)}),f.call("beforesend",s,p),p.send(null==n?null:n),s},abort:function(){return p.abort(),s},on:function(){var e=f.on.apply(f,arguments);return e===f?s:e}},null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return s.get(r);
}return s},u=function(e,t){return function(n,r){var i=s(n).mimeType(e).response(t);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},l=u("text/html",function(e){return document.createRange().createContextualFragment(e.responseText)}),c=u("application/json",function(e){return JSON.parse(e.responseText)}),f=u("text/plain",function(e){return e.responseText}),d=u("application/xml",function(e){var t=e.responseXML;if(!t)throw new Error("parse error");return t}),p=function(e,t){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=s(n).mimeType(e);return a.row=function(e){return arguments.length?a.response(o(t,r=e)):r},a.row(r),i?a.get(i):a}},h=p("text/csv",r.csvParse),m=p("text/tab-separated-values",r.tsvParse);e.request=s,e.html=l,e.json=c,e.text=f,e.xml=d,e.csv=h,e.tsv=m,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Z&&t.documentElement.namespaceURI===Z?t.createElement(e):t.createElementNS(n,e)}}function n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function r(){return new i}function i(){this._="@"+(++re).toString(36)}function a(e,t,n){return e=o(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function o(t,n,r){return function(i){var a=e.event;e.event=i;try{t.call(this,this.__data__,n,r)}finally{e.event=a}}}function s(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}function u(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function l(e,t,n){var r=ue.hasOwnProperty(e.type)?a:o;return function(i,a,o){var s,u=this.__on,l=r(t,a,o);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function c(t,n,r,i){var a=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(r,i)}finally{e.event=a}}function f(){}function d(){return[]}function p(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new p(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function m(e,t,n,r,i,a,o){var s,u,l,c={},f=t.length,d=a.length,h=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(h[s]=l=Se+o.call(u,u.__data__,s,t),l in c?i[s]=u:c[l]=u);for(s=0;s<d;++s)l=Se+o.call(e,a[s],s,a),(u=c[l])?(r[s]=u,u.__data__=a[s],c[l]=null):n[s]=new p(e,a[s]);for(s=0;s<f;++s)(u=t[s])&&c[h[s]]===u&&(i[s]=u)}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function b(e,t){return function(){this.setAttribute(e,t)}}function _(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function S(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function w(e){return function(){this.style.removeProperty(e)}}function O(e,t,n){return function(){this.style.setProperty(e,t,n)}}function k(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function E(e,t){return e.style.getPropertyValue(t)||Ie(e).getComputedStyle(e,null).getPropertyValue(t)}function M(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function P(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function C(e){return e.trim().split(/^|\s+/)}function A(e){return e.classList||new D(e)}function D(e){this._node=e,this._names=C(e.getAttribute("class")||"")}function R(e,t){for(var n=A(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function N(e,t){for(var n=A(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function I(e){return function(){R(this,e)}}function F(e){return function(){N(this,e)}}function L(e,t){return function(){(t.apply(this,arguments)?R:N)(this,e)}}function j(){this.textContent=""}function z(e){return function(){this.textContent=e}}function $(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function U(){this.innerHTML=""}function B(e){return function(){this.innerHTML=e}}function q(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function W(){this.nextSibling&&this.parentNode.appendChild(this)}function V(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H(){return null}function G(){var e=this.parentNode;e&&e.removeChild(this)}function Y(e,t,n){var r=Ie(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function X(e,t){return function(){return Y(this,e,t)}}function Q(e,t){return function(){return Y(this,e,t.apply(this,arguments))}}function K(e,t){this._groups=e,this._parents=t}function J(){return new K([[document.documentElement]],Ye)}var Z="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},te=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ee.hasOwnProperty(t)?{space:ee[t],local:e}:e},ne=function(e){var r=te(e);return(r.local?n:t)(r)},re=0;i.prototype=r.prototype={constructor:i,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ie=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var ae=document.documentElement;if(!ae.matches){var oe=ae.webkitMatchesSelector||ae.msMatchesSelector||ae.mozMatchesSelector||ae.oMatchesSelector;ie=function(e){return function(){return oe.call(this,e)}}}}var se=ie,ue={};if(e.event=null,"undefined"!=typeof document){var le=document.documentElement;"onmouseenter"in le||(ue={mouseenter:"mouseover",mouseleave:"mouseout"})}var ce=function(e,t,n){var r,i,a=s(e+""),o=a.length;{if(!(arguments.length<2)){for(c=t?l:u,null==n&&(n=!1),r=0;r<o;++r)this.each(c(a[r],t,n));return this}var c=this.node().__on;if(c)for(var f,d=0,p=c.length;d<p;++d)for(r=0,f=c[d];r<o;++r)if((i=a[r]).type===f.type&&i.name===f.name)return f.value}},fe=function(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n},de=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},pe=function(e){var t=fe();return t.changedTouches&&(t=t.changedTouches[0]),de(e,t)},he=function(e){return null==e?f:function(){return this.querySelector(e)}},me=function(e){"function"!=typeof e&&(e=he(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new K(r,this._parents)},ge=function(e){return null==e?d:function(){return this.querySelectorAll(e)}},ye=function(e){"function"!=typeof e&&(e=ge(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new K(r,i)},ve=function(e){"function"!=typeof e&&(e=se(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new K(r,this._parents)},be=function(e){return new Array(e.length)},_e=function(){return new K(this._enter||this._groups.map(be),this._parents)};p.prototype={constructor:p,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var xe=function(e){return function(){return e}},Se="$",we=function(e,t){if(!e)return p=new Array(this.size()),l=-1,this.each(function(e){p[++l]=e}),p;var n=t?m:h,r=this._parents,i=this._groups;"function"!=typeof e&&(e=xe(e));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],d=f.length,p=e.call(c,c&&c.__data__,l,r),g=p.length,y=s[l]=new Array(g),v=o[l]=new Array(g),b=u[l]=new Array(d);n(c,f,y,v,b,p,t);for(var _,x,S=0,w=0;S<g;++S)if(_=y[S]){for(S>=w&&(w=S+1);!(x=v[w])&&++w<g;);_._next=x||null}}return o=new K(o,r),o._enter=s,o._exit=u,o},Oe=function(){return new K(this._exit||this._groups.map(be),this._parents)},ke=function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],f=l.length,d=o[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(d[p]=u);for(;s<r;++s)o[s]=t[s];return new K(o,this._parents)},Ee=function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},Me=function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new K(i,this._parents).order()},Te=function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},Pe=function(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},Ce=function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},Ae=function(){var e=0;return this.each(function(){++e}),e},De=function(){return!this.node()},Re=function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},Ne=function(e,t){var n=te(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?v:y:"function"==typeof t?n.local?S:x:n.local?_:b)(n,t))},Ie=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView},Fe=function(e,t,n){return arguments.length>1?this.each((null==t?w:"function"==typeof t?k:O)(e,t,null==n?"":n)):E(this.node(),e)},Le=function(e,t){return arguments.length>1?this.each((null==t?M:"function"==typeof t?P:T)(e,t)):this.node()[e]};D.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var je=function(e,t){var n=C(e+"");if(arguments.length<2){for(var r=A(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?L:t?I:F)(n,t))},ze=function(e){return arguments.length?this.each(null==e?j:("function"==typeof e?$:z)(e)):this.node().textContent},$e=function(e){return arguments.length?this.each(null==e?U:("function"==typeof e?q:B)(e)):this.node().innerHTML},Ue=function(){return this.each(W)},Be=function(){return this.each(V)},qe=function(e){var t="function"==typeof e?e:ne(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},We=function(e,t){var n="function"==typeof e?e:ne(e),r=null==t?H:"function"==typeof t?t:he(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},Ve=function(){return this.each(G)},He=function(e){return arguments.length?this.property("__data__",e):this.node().__data__},Ge=function(e,t){return this.each(("function"==typeof t?Q:X)(e,t))},Ye=[null];K.prototype=J.prototype={constructor:K,select:me,selectAll:ye,filter:ve,data:we,enter:_e,exit:Oe,merge:ke,order:Ee,sort:Me,call:Te,nodes:Pe,node:Ce,size:Ae,empty:De,each:Re,attr:Ne,style:Fe,property:Le,classed:je,text:ze,html:$e,raise:Ue,lower:Be,append:qe,insert:We,remove:Ve,datum:He,on:ce,dispatch:Ge};var Xe=function(e){return"string"==typeof e?new K([[document.querySelector(e)]],[document.documentElement]):new K([[e]],Ye)},Qe=function(e){return"string"==typeof e?new K([document.querySelectorAll(e)],[document.documentElement]):new K([null==e?[]:e],Ye)},Ke=function(e,t,n){arguments.length<3&&(n=t,t=fe().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return de(e,r);return null},Je=function(e,t){null==t&&(t=fe().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=de(e,t[n]);return i};e.creator=ne,e.local=r,e.matcher=se,e.mouse=pe,e.namespace=te,e.namespaces=ee,e.select=Xe,e.selectAll=Qe,e.selection=J,e.selector=he,e.selectorAll=ge,e.style=E,e.touch=Ke,e.touches=Je,e.window=Ie,e.customEvent=c,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";var r=n(34),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(e){if(e=e||("undefined"!=typeof document?document:void 0),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.readState=t.saveState=void 0;var i=n(52),a=(r(i),{QuotaExceededError:!0,QUOTA_EXCEEDED_ERR:!0}),o={SecurityError:!0},s="@@History/",u=function(e){return s+e};t.saveState=function(e,t){if(window.sessionStorage)try{null==t?window.sessionStorage.removeItem(u(e)):window.sessionStorage.setItem(u(e),JSON.stringify(t))}catch(n){if(o[n.name])return;if(a[n.name]&&0===window.sessionStorage.length)return;throw n}},t.readState=function(e){var t=void 0;try{t=window.sessionStorage.getItem(u(e))}catch(n){if(o[n.name])return}if(t)try{return JSON.parse(t)}catch(n){}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(136),o=r(a),s=n(50),u=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.basename,a=function(e){return e?(r&&null==e.basename&&(0===e.pathname.toLowerCase().indexOf(r.toLowerCase())?(e.pathname=e.pathname.substring(r.length),e.basename=r,""===e.pathname&&(e.pathname="/")):e.basename=""),e):e},u=function(e){if(!r)return e;var t="string"==typeof e?(0,s.parsePath)(e):e,n=t.pathname,a="/"===r.slice(-1)?r:r+"/",o="/"===n.charAt(0)?n.slice(1):n,u=a+o;return i({},t,{pathname:u})},l=function(){return a(n.getCurrentLocation())},c=function(e){return n.listenBefore(function(t,n){return(0,o.default)(e,a(t),n)})},f=function(e){return n.listen(function(t){return e(a(t))})},d=function(e){return n.push(u(e))},p=function(e){return n.replace(u(e))},h=function(e){return n.createPath(u(e))},m=function(e){return n.createHref(u(e))},g=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return a(n.createLocation.apply(n,[u(e)].concat(r)))};return i({},n,{getCurrentLocation:l,listenBefore:c,listen:f,push:d,replace:p,createPath:h,createHref:m,createLocation:g})}};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(457),o=n(136),s=r(o),u=n(65),l=n(50),c=function(e){return(0,a.stringify)(e).replace(/%20/g,"+")},f=a.parse,d=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e(t),r=t.stringifyQuery,a=t.parseQueryString;"function"!=typeof r&&(r=c),"function"!=typeof a&&(a=f);var o=function(e){return e?(null==e.query&&(e.query=a(e.search.substring(1))),e):e},d=function(e,t){if(null==t)return e;var n="string"==typeof e?(0,l.parsePath)(e):e,a=r(t),o=a?"?"+a:"";return i({},n,{search:o})},p=function(){return o(n.getCurrentLocation())},h=function(e){return n.listenBefore(function(t,n){return(0,s.default)(e,o(t),n)})},m=function(e){return n.listen(function(t){return e(o(t))})},g=function(e){return n.push(d(e,e.query))},y=function(e){return n.replace(d(e,e.query))},v=function(e){return n.createPath(d(e,e.query))},b=function(e){return n.createHref(d(e,e.query))},_=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=n.createLocation.apply(n,[d(e,e.query)].concat(r));return e.query&&(a.query=(0,u.createQuery)(e.query)),o(a)};return i({},n,{getCurrentLocation:p,listenBefore:h,listen:m,push:g,replace:y,createPath:v,createHref:b,createLocation:_})}};t.default=d},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,a){if("string"!=typeof t){var o=Object.getOwnPropertyNames(t);i&&(o=o.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;++s)if(!(n[o[s]]||r[o[s]]||a&&a[o[s]]))try{e[o[s]]=t[o[s]]}catch(u){}}return e}},function(e,t){"use strict";function n(e,t){e.indexOf(t)===-1&&e.push(t)}function r(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(e,t){"use strict";function n(e){return e instanceof Object&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){e.exports={$schema:"http://json-schema.org/draft-04/schema#",title:"Vega 3.0 Visualization Specification Language",defs:{autosize:{oneOf:[{enum:["pad","fit","none"]},{type:"object",properties:{type:{enum:["pad","fit","none"]},resize:{type:"boolean"}},required:["type"],additionalProperties:!1}],default:"pad"},axis:{type:"object",properties:{orient:{enum:["top","bottom","left","right"]},scale:{type:"string"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},ticks:{type:"boolean"},labels:{type:"boolean"},domain:{type:"boolean"},grid:{type:"boolean"},gridScale:{type:"string"},tickSize:{type:"number"},labelPadding:{type:"number"},labelOverlap:{oneOf:[{type:"boolean"},{enum:["parity","greedy"],type:"string"}]},tickCount:{$ref:"#/refs/numberOrSignal"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},position:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},minExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},maxExtent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{type:"object",properties:{axis:{$ref:"#/defs/guideEncode"},ticks:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},title:{$ref:"#/defs/guideEncode"},grid:{$ref:"#/defs/guideEncode"},domain:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,required:["orient","scale"]},background:{type:"string"},bind:{oneOf:[{type:"object",properties:{input:{enum:["checkbox"]},element:{$ref:"#/refs/element"},debounce:{type:"number"}},required:["input"]},{type:"object",properties:{input:{enum:["radio","select"]},element:{$ref:"#/refs/element"},options:{type:"array"},debounce:{type:"number"}},additionalProperties:!1,required:["input","options"]},{type:"object",properties:{input:{enum:["range"]},element:{$ref:"#/refs/element"},min:{type:"number"},max:{type:"number"},step:{type:"number"},debounce:{type:"number"}},additionalProperties:!1,required:["input"]},{type:"object",properties:{input:{not:{enum:["checkbox","radio","range","select"]}},element:{$ref:"#/refs/element"},debounce:{type:"number"}},additionalProperties:!0}]},data:{title:"Input data set definition",type:"object",allOf:[{properties:{name:{type:"string"},transform:{type:"array",items:{$ref:"#/defs/transform"}},on:{$ref:"#/defs/onTrigger"},format:{type:"object",oneOf:[{properties:{type:{enum:["json"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]},property:{type:"string"},copy:{type:"boolean"}},additionalProperties:!1},{properties:{type:{enum:["csv","tsv"]},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{properties:{type:{enum:["dsv"]},delimiter:{type:"string"},parse:{oneOf:[{enum:["auto"]},{type:"object",additionalProperties:{oneOf:[{enum:["boolean","number","date","string"]},{type:"string",pattern:"^(date|utc):.*$"}]}}]}},additionalProperties:!1},{oneOf:[{properties:{type:{enum:["topojson"]},feature:{type:"string"},property:{type:"string"}},additionalProperties:!1},{properties:{type:{enum:["topojson"]},mesh:{type:"string"},property:{type:"string"}},additionalProperties:!1}]}]}},required:["name"]},{anyOf:[{required:["name"]},{oneOf:[{properties:{source:{type:"string"}},required:["source"]},{properties:{values:{type:"array"}},required:["values"]},{properties:{url:{type:"string"}},required:["url"]}]}]}]},rule:{type:"object",properties:{test:{type:"string"}}},encodeEntry:{title:"Mark encode property set",type:"object",properties:{x:{$ref:"#/refs/numberValue"},x2:{$ref:"#/refs/numberValue"},xc:{$ref:"#/refs/numberValue"},width:{$ref:"#/refs/numberValue"},y:{$ref:"#/refs/numberValue"},y2:{$ref:"#/refs/numberValue"},yc:{$ref:"#/refs/numberValue"},height:{$ref:"#/refs/numberValue"},opacity:{$ref:"#/refs/numberValue"},fill:{$ref:"#/refs/colorValue"},fillOpacity:{$ref:"#/refs/numberValue"},stroke:{$ref:"#/refs/colorValue"},strokeWidth:{$ref:"#/refs/numberValue"},strokeOpacity:{$ref:"#/refs/numberValue"},strokeDash:{$ref:"#/refs/arrayValue"},strokeDashOffset:{$ref:"#/refs/numberValue"},cursor:{$ref:"#/refs/stringValue"},clip:{$ref:"#/refs/booleanValue"},size:{$ref:"#/refs/numberValue"},shape:{anyOf:[{type:"string"},{$ref:"#/refs/stringValue"}]},path:{$ref:"#/refs/stringValue"},innerRadius:{$ref:"#/refs/numberValue"},outerRadius:{$ref:"#/refs/numberValue"},startAngle:{$ref:"#/refs/numberValue"},endAngle:{$ref:"#/refs/numberValue"},interpolate:{$ref:"#/refs/stringValue"},tension:{$ref:"#/refs/numberValue"},orient:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["horizontal","vertical"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},url:{$ref:"#/refs/stringValue"},align:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["left","right","center"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},baseline:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{enum:["top","middle","bottom","alphabetic"]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},text:{$ref:"#/refs/stringValue"},dir:{$ref:"#/refs/stringValue"},ellipsis:{$ref:"#/refs/stringValue"},limit:{$ref:"#/refs/numberValue"},dx:{$ref:"#/refs/numberValue"},dy:{$ref:"#/refs/numberValue"},radius:{$ref:"#/refs/numberValue"},theta:{$ref:"#/refs/numberValue"},angle:{$ref:"#/refs/numberValue"},font:{$ref:"#/refs/stringValue"},fontSize:{$ref:"#/refs/numberValue"},fontWeight:{$ref:"#/refs/nullableStringValue"},fontStyle:{$ref:"#/refs/stringValue"}},additionalProperties:!0},encode:{type:"object",patternProperties:{"^.+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},layout:{oneOf:[{type:"object",properties:{align:{oneOf:[{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},{type:"object",properties:{row:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]},column:{oneOf:[{enum:["all","each","none"]},{$ref:"#/refs/signal"}]}},additionalProperties:!1}]},bounds:{oneOf:[{enum:["full","flush"]},{$ref:"#/refs/signal"}]},columns:{$ref:"#/refs/numberOrSignal"},padding:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},offset:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{rowHeader:{$ref:"#/refs/numberOrSignal"},rowFooter:{$ref:"#/refs/numberOrSignal"},rowTitle:{$ref:"#/refs/numberOrSignal"},columnHeader:{$ref:"#/refs/numberOrSignal"},columnFooter:{$ref:"#/refs/numberOrSignal"},columnTitle:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]},titleBand:{oneOf:[{$ref:"#/refs/numberOrSignal"},{type:"object",properties:{row:{$ref:"#/refs/numberOrSignal"},column:{$ref:"#/refs/numberOrSignal"}},additionalProperties:!1}]}}},{$ref:"#/refs/signal"}]},guideEncode:{type:"object",properties:{name:{type:"string"},interactive:{type:"boolean",default:!1}},patternProperties:{"^(?!interactive|name).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},legend:{type:"object",properties:{size:{type:"string"},shape:{type:"string"},fill:{type:"string"},stroke:{type:"string"},opacity:{type:"string"},strokeDash:{type:"string"},type:{enum:["gradient","symbol"],default:"symbol"},orient:{enum:["none","left","right","top-left","top-right","bottom-left","bottom-right"],default:"right"},title:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},padding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},titlePadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},entryPadding:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},tickCount:{$ref:"#/refs/numberOrSignal"},format:{$ref:"#/refs/stringOrSignal"},values:{oneOf:[{type:"array"},{$ref:"#/refs/signal"}]},encode:{type:"object",properties:{title:{$ref:"#/defs/guideEncode"},labels:{$ref:"#/defs/guideEncode"},legend:{$ref:"#/defs/guideEncode"},symbols:{$ref:"#/defs/guideEncode"},gradient:{$ref:"#/defs/guideEncode"}},additionalProperties:!1}},additionalProperties:!1,anyOf:[{required:["size"]},{required:["shape"]},{required:["fill"]},{required:["stroke"]},{required:["opacity"]},{required:["strokeDash"]}]},mark:{type:"object",properties:{type:{$ref:"#/refs/marktype"},role:{type:"string"},name:{type:"string"},key:{type:"string"},clip:{type:"boolean"},sort:{$ref:"#/refs/compare"},interactive:{type:"boolean"},encode:{$ref:"#/defs/encode"},transform:{type:"array",items:{$ref:"#/defs/transformMark"}},on:{$ref:"#/defs/onMarkTrigger"}},required:["type"]},markGroup:{allOf:[{properties:{type:{enum:["group"]}},required:["type"]},{$ref:"#/defs/mark"},{$ref:"#/defs/scope"},{type:"object",properties:{from:{oneOf:[{$ref:"#/refs/from"},{$ref:"#/refs/facet"}]}}}]},markVisual:{allOf:[{not:{properties:{type:{enum:["group"]}}}},{$ref:"#/defs/mark"},{type:"object",properties:{from:{$ref:"#/refs/from"}}}]},listener:{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{scale:{type:"string"}},required:["scale"]},{$ref:"#/defs/stream"}]},onEvents:{type:"array",items:{allOf:[{type:"object",properties:{events:{oneOf:[{$ref:"#/refs/selector"},{$ref:"#/defs/listener"},{type:"array",minItems:1,items:{$ref:"#/defs/listener"}}]},force:{type:"boolean"}},required:["events"]},{oneOf:[{type:"object",properties:{encode:{type:"string"}},required:["encode"]},{type:"object",properties:{update:{oneOf:[{$ref:"#/refs/exprString"},{$ref:"#/refs/expr"},{$ref:"#/refs/signal"},{type:"object",properties:{value:{}},required:["value"]}]}},required:["update"]}]}]}},onTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},insert:{$ref:"#/refs/exprString"},remove:{oneOf:[{type:"boolean"},{$ref:"#/refs/exprString"}]},toggle:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},onMarkTrigger:{type:"array",items:{type:"object",properties:{trigger:{$ref:"#/refs/exprString"},modify:{$ref:"#/refs/exprString"},values:{$ref:"#/refs/exprString"}},required:["trigger"]}},padding:{oneOf:[{type:"number"},{type:"object",properties:{top:{type:"number"},bottom:{type:"number"},left:{type:"number"},right:{type:"number"}},required:["top","bottom","left","right"],additionalProperties:!1}]},projection:{type:"object",properties:{name:{type:"string"},type:{$ref:"#/refs/stringOrSignal"},clipAngle:{$ref:"#/refs/numberOrSignal"},clipExtent:{
oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}}]},scale:{$ref:"#/refs/numberOrSignal"},translate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},center:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},rotate:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:3}]},parallels:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},precision:{$ref:"#/refs/numberOrSignal"},pointRadius:{$ref:"#/refs/numberOrSignal"},fit:{oneOf:[{type:"object"},{type:"array"}]},extent:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]},minItems:2,maxItems:2}]},size:{oneOf:[{$ref:"#/refs/signal"},{type:"array",items:{$ref:"#/refs/numberOrSignal"},minItems:2,maxItems:2}]}},additionalProperties:!0,required:["name","type"]},scale:{title:"Scale mapping",type:"object",allOf:[{properties:{name:{type:"string"},type:{type:"string",default:"linear"},domain:{oneOf:[{type:"array",items:{oneOf:[{type:"null"},{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/scaleData"},{$ref:"#/refs/signal"}]},domainMin:{$ref:"#/refs/numberOrSignal"},domainMax:{$ref:"#/refs/numberOrSignal"},domainMid:{$ref:"#/refs/numberOrSignal"},domainRaw:{oneOf:[{type:"null"},{type:"array"},{$ref:"#/refs/signal"}]},reverse:{$ref:"#/refs/booleanOrSignal"},round:{$ref:"#/refs/booleanOrSignal"}},required:["name"]},{oneOf:[{properties:{type:{enum:["ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1},{$ref:"#/refs/scaleData"}]}},required:["type"]},{properties:{type:{enum:["band"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingInner:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["point"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{step:{$ref:"#/refs/numberOrSignal"}},required:["step"],additionalProperties:!1}]},padding:{$ref:"#/refs/numberOrSignal"},paddingOuter:{$ref:"#/refs/numberOrSignal"},align:{$ref:"#/refs/numberOrSignal"}},required:["type"]},{properties:{type:{enum:["sequential"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"}},required:["type","range"]},{properties:{type:{enum:["time","utc"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{enum:["second","minute","hour","day","week","month","year"]},{$ref:"#/refs/signal"}]}},required:["type"]},{properties:{type:{enum:["identity"]},nice:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Discretizing scales",properties:{type:{enum:["quantile","quantize","threshold","bin-ordinal"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{description:"Default numeric scale",not:{properties:{type:{enum:["ordinal","band","point","quantile","quantize","threshold","sequential","pow","log","time","utc","identity","bin-ordinal","bin-linear"]}},required:["type"]},properties:{range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}}},{properties:{type:{enum:["log"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},base:{$ref:"#/refs/numberOrSignal"},clamp:{$ref:"#/refs/booleanOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["pow"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"},clamp:{$ref:"#/refs/booleanOrSignal"},exponent:{$ref:"#/refs/numberOrSignal"},nice:{oneOf:[{type:"boolean"},{type:"number"},{$ref:"#/refs/signal"}]},zero:{$ref:"#/refs/booleanOrSignal"}},required:["type"]},{properties:{type:{enum:["bin-linear"]},range:{oneOf:[{enum:["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{type:"array",items:{oneOf:[{type:"null"},{type:"boolean"},{type:"string"},{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"object",properties:{scheme:{$ref:"#/refs/stringOrSignal"},count:{$ref:"#/refs/numberOrSignal"},extent:{oneOf:[{type:"array",items:{$ref:"#/refs/numberOrSignal"},numItems:2},{$ref:"#/refs/signal"}]}},required:["scheme"],additionalProperties:!1}]},interpolate:{$ref:"#/refs/scaleInterpolate"}},required:["type"]}]}]},scope:{type:"object",properties:{encode:{$ref:"#/defs/encode"},layout:{$ref:"#/defs/layout"},signals:{type:"array",items:{$ref:"#/defs/signal"}},data:{type:"array",items:{$ref:"#/defs/data"}},scales:{type:"array",items:{$ref:"#/defs/scale"}},projections:{type:"array",items:{$ref:"#/defs/projection"}},axes:{type:"array",items:{$ref:"#/defs/axis"}},legends:{type:"array",items:{$ref:"#/defs/legend"}},title:{$ref:"#/defs/title"},marks:{type:"array",items:{oneOf:[{$ref:"#/defs/markGroup"},{$ref:"#/defs/markVisual"}]}}}},signal:{oneOf:[{$ref:"#/defs/signalPush"},{$ref:"#/defs/signalNew"}]},signalName:{type:"string",not:{enum:["parent","datum","event","item"]}},signalNew:{type:"object",properties:{name:{$ref:"#/defs/signalName"},description:{type:"string"},value:{},react:{type:"boolean",default:!0},update:{$ref:"#/refs/exprString"},on:{$ref:"#/defs/onEvents"},bind:{$ref:"#/defs/bind"}},additionalProperties:!1,required:["name"]},signalPush:{type:"object",properties:{name:{$ref:"#/defs/signalName"},push:{enum:["outer"]},description:{type:"string"},on:{$ref:"#/defs/onEvents"}},additionalProperties:!1,required:["name","push"]},streamParams:{properties:{between:{type:"array",minItems:2,maxItems:2,items:{$ref:"#/defs/stream"}},marktype:{type:"string"},markname:{type:"string"},filter:{oneOf:[{$ref:"#/refs/exprString"},{type:"array",minItems:1,items:{$ref:"#/refs/exprString"}}]},throttle:{type:"number"},debounce:{type:"number"},consume:{type:"boolean"}}},streamEvents:{properties:{source:{type:"string"},type:{type:"string"}},required:["type"]},stream:{title:"Input event stream definition",type:"object",allOf:[{$ref:"#/defs/streamParams"},{oneOf:[{$ref:"#/defs/streamEvents"},{type:"object",properties:{stream:{$ref:"#/defs/stream"}},required:["stream"]},{type:"object",properties:{merge:{type:"array",minItems:1,items:{$ref:"#/defs/stream"}}},required:["merge"]}]}]},titleEncode:{type:"object",patternProperties:{"^(?!interactive|name).+$":{$ref:"#/defs/encodeEntry"}},additionalProperties:!1},title:{oneOf:[{type:"string"},{type:"object",properties:{name:{type:"string"},orient:{enum:["none","left","right","top","bottom"],default:"top"},anchor:{enum:["start","middle","end"],default:"middle"},text:{$ref:"#/refs/stringOrSignal"},zindex:{type:"number"},interactive:{type:"boolean"},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},encode:{$ref:"#/defs/titleEncode"}},required:["text"],additionalProperties:!1}]},transform:{oneOf:[{$ref:"#/defs/aggregateTransform"},{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/countpatternTransform"},{$ref:"#/defs/crossTransform"},{$ref:"#/defs/densityTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/filterTransform"},{$ref:"#/defs/foldTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/imputeTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/rankTransform"},{$ref:"#/defs/sampleTransform"},{$ref:"#/defs/sequenceTransform"},{$ref:"#/defs/contourTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/graticuleTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/nestTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/treelinksTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},transformMark:{oneOf:[{$ref:"#/defs/binTransform"},{$ref:"#/defs/collectTransform"},{$ref:"#/defs/extentTransform"},{$ref:"#/defs/formulaTransform"},{$ref:"#/defs/joinaggregateTransform"},{$ref:"#/defs/lookupTransform"},{$ref:"#/defs/rankTransform"},{$ref:"#/defs/geopathTransform"},{$ref:"#/defs/geopointTransform"},{$ref:"#/defs/geoshapeTransform"},{$ref:"#/defs/linkpathTransform"},{$ref:"#/defs/pieTransform"},{$ref:"#/defs/stackTransform"},{$ref:"#/defs/forceTransform"},{$ref:"#/defs/nestTransform"},{$ref:"#/defs/stratifyTransform"},{$ref:"#/defs/packTransform"},{$ref:"#/defs/partitionTransform"},{$ref:"#/defs/treeTransform"},{$ref:"#/defs/treemapTransform"},{$ref:"#/defs/voronoiTransform"},{$ref:"#/defs/wordcloudTransform"},{$ref:"#/defs/crossfilterTransform"},{$ref:"#/defs/resolvefilterTransform"}]},aggregateTransform:{type:"object",properties:{type:{enum:["aggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","stderr","median","q1","q3","ci0","ci1","min","max","argmin","argmax"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},drop:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},cross:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},binTransform:{type:"object",properties:{type:{enum:["bin"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},anchor:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},maxbins:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:20},base:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:10},divide:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:[5,2]},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},steps:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},minstep:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},nice:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}],default:!0},name:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["bin0","bin1"]}},additionalProperties:!1,required:["type","field","extent"]},collectTransform:{type:"object",properties:{type:{enum:["collect"]},signal:{type:"string"},sort:{$ref:"#/refs/compare"}},additionalProperties:!1,required:["type"]},countpatternTransform:{type:"object",properties:{type:{enum:["countpattern"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},case:{anyOf:[{enum:["upper","lower","mixed"]},{$ref:"#/refs/signal"}],default:"mixed"},pattern:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:'[\\w"]+'},stopwords:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["text","count"]}},additionalProperties:!1,required:["type","field"]},crossTransform:{type:"object",properties:{type:{enum:["cross"]},signal:{type:"string"},filter:{$ref:"#/refs/exprString"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["a","b"]}},additionalProperties:!1,required:["type"]},densityTransform:{type:"object",properties:{type:{enum:["density"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},steps:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:100},method:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"pdf"},distribution:{oneOf:[{type:"object",properties:{function:{enum:["normal"]},mean:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stdev:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["uniform"]},min:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},max:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["function"]},{type:"object",properties:{function:{enum:["kde"]},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},from:{type:"string"},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function","field"]},{type:"object",properties:{function:{enum:["mixture"]},distributions:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]},weights:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["function"]}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["value","density"]}},additionalProperties:!1,required:["type"]},extentTransform:{type:"object",properties:{type:{enum:["extent"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","field"]},filterTransform:{type:"object",properties:{type:{enum:["filter"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"}},additionalProperties:!1,required:["type","expr"]},foldTransform:{type:"object",properties:{type:{enum:["fold"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["key","value"]}},additionalProperties:!1,required:["type","fields"]},formulaTransform:{type:"object",properties:{type:{enum:["formula"]},signal:{type:"string"},expr:{$ref:"#/refs/exprString"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},initonly:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","expr","as"]},imputeTransform:{type:"object",properties:{type:{enum:["impute"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},orderby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},method:{anyOf:[{enum:["value","mean","median","max","min"]},{$ref:"#/refs/signal"}],default:"value"},value:{}},additionalProperties:!1,required:["type","field"]},joinaggregateTransform:{type:"object",properties:{type:{enum:["joinaggregate"]},signal:{type:"string"},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},ops:{oneOf:[{type:"array",items:{anyOf:[{enum:["count","valid","missing","distinct","sum","mean","average","variance","variancep","stdev","stdevp","stderr","median","q1","q3","ci0","ci1","min","max","argmin","argmax"]},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},lookupTransform:{type:"object",properties:{type:{enum:["lookup"]},signal:{type:"string"},from:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},values:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},default:{}},additionalProperties:!1,required:["type","from","key","fields"]},rankTransform:{type:"object",properties:{type:{enum:["rank"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},normalize:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"rank"}},additionalProperties:!1,required:["type"]},sampleTransform:{type:"object",properties:{type:{enum:["sample"]},signal:{type:"string"},size:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1e3}},additionalProperties:!1,required:["type"]},sequenceTransform:{type:"object",properties:{type:{enum:["sequence"]},signal:{type:"string"},start:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},stop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},step:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["type","start","stop"]},contourTransform:{type:"object",properties:{type:{enum:["contour"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},values:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}]},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},cellSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},bandwidth:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},thresholds:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","size"]},geopathTransform:{type:"object",properties:{type:{enum:["geopath"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},geopointTransform:{type:"object",properties:{type:{enum:["geopoint"]},signal:{type:"string"},projection:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["x","y"]}},additionalProperties:!1,required:["type","projection","fields"]},geoshapeTransform:{type:"object",properties:{type:{enum:["geoshape"]},signal:{type:"string"},projection:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"datum"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"shape"}},additionalProperties:!1,required:["type"]},graticuleTransform:{type:"object",properties:{type:{enum:["graticule"]},signal:{type:"string"},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMajor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extentMinor:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},step:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},stepMajor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[90,360]},stepMinor:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[10,10]},precision:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:2.5}},additionalProperties:!1,required:["type"]},linkpathTransform:{type:"object",properties:{type:{enum:["linkpath"]},signal:{type:"string"},sourceX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.x"},sourceY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"source.y"},targetX:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.x"},targetY:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}],default:"target.y"},orient:{anyOf:[{enum:["horizontal","vertical","radial"]},{$ref:"#/refs/signal"}],default:"vertical"},shape:{anyOf:[{enum:["line","arc","curve","diagonal","orthogonal"]},{$ref:"#/refs/signal"}],default:"line"},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type"]},pieTransform:{type:"object",properties:{type:{enum:["pie"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},startAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},endAngle:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:6.283185307179586},sort:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["startAngle","endAngle"]}},additionalProperties:!1,required:["type"]},stackTransform:{type:"object",properties:{type:{enum:["stack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},groupby:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},sort:{$ref:"#/refs/compare"},offset:{anyOf:[{enum:["zero","center","normalize"]},{$ref:"#/refs/signal"}],default:"zero"},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:["y0","y1"]}},additionalProperties:!1,required:["type"]},forceTransform:{type:"object",properties:{type:{enum:["force"]},signal:{type:"string"},static:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},restart:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:300},alpha:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},alphaMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.001},alphaTarget:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},velocityDecay:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.4},forces:{type:"array",items:{oneOf:[{type:"object",properties:{force:{enum:["center"]},x:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},y:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["collide"]},radius:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.7},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["nbody"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:-30},theta:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.9},distanceMin:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1},distanceMax:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["link"]},links:{type:"string"},id:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},distance:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:30},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},iterations:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["x"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]},{type:"object",properties:{force:{enum:["y"]},strength:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:.1},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["force"]}]}},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],default:["x","y","vx","vy"]}},additionalProperties:!1,required:["type"]},nestTransform:{type:"object",properties:{type:{enum:["nest"]},signal:{type:"string"},keys:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},stratifyTransform:{type:"object",properties:{type:{enum:["stratify"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},parentKey:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type","key","parentKey"]},treelinksTransform:{type:"object",properties:{type:{enum:["treelinks"]},signal:{type:"string"},key:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},additionalProperties:!1,required:["type"]},packTransform:{type:"object",properties:{type:{enum:["pack"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},radius:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:3,minItems:3,default:["x","y","r","depth","children"]}},additionalProperties:!1,required:["type"]},partitionTransform:{type:"object",properties:{type:{enum:["partition"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},treeTransform:{type:"object",
properties:{type:{enum:["tree"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["tidy","cluster"]},{$ref:"#/refs/signal"}],default:"tidy"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},nodeSize:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x","y","depth","children"]}},additionalProperties:!1,required:["type"]},treemapTransform:{type:"object",properties:{type:{enum:["treemap"]},signal:{type:"string"},field:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},sort:{$ref:"#/refs/compare"},method:{anyOf:[{enum:["squarify","resquarify","binary","dice","slice","slicedice"]},{$ref:"#/refs/signal"}],default:"squarify"},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingInner:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingOuter:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingTop:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingRight:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingBottom:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},paddingLeft:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},ratio:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}],default:1.618033988749895},round:{anyOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:4,minItems:4,default:["x0","y0","x1","y1","depth","children"]}},additionalProperties:!1,required:["type"]},voronoiTransform:{type:"object",properties:{type:{enum:["voronoi"]},signal:{type:"string"},x:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},y:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},extent:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2,default:[[-1e5,-1e5],[1e5,1e5]]},as:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}],default:"path"}},additionalProperties:!1,required:["type","x","y"]},wordcloudTransform:{type:"object",properties:{type:{enum:["wordcloud"]},signal:{type:"string"},size:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:2,minItems:2},font:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"sans-serif"},fontStyle:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontWeight:{anyOf:[{type:"string"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:"normal"},fontSize:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}],default:14},fontSizeRange:{oneOf:[{type:"array",items:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"},{type:"null"}],default:[10,50]},rotate:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},text:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]},spiral:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]},padding:{anyOf:[{type:"number"},{$ref:"#/refs/signal"},{$ref:"#/refs/expr"},{$ref:"#/refs/paramField"}]},as:{oneOf:[{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},{$ref:"#/refs/signal"}],maxItems:7,minItems:7,default:["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},additionalProperties:!1,required:["type"]},crossfilterTransform:{type:"object",properties:{type:{enum:["crossfilter"]},signal:{type:"string"},fields:{oneOf:[{type:"array",items:{oneOf:[{$ref:"#/refs/scaleField"},{$ref:"#/refs/paramField"},{$ref:"#/refs/expr"}]}},{$ref:"#/refs/signal"}]},query:{oneOf:[{type:"array",items:{}},{$ref:"#/refs/signal"}]}},additionalProperties:!1,required:["type","fields","query"]},resolvefilterTransform:{type:"object",properties:{type:{enum:["resolvefilter"]},signal:{type:"string"},ignore:{anyOf:[{type:"number"},{$ref:"#/refs/signal"}]},filter:{}},additionalProperties:!1,required:["type","ignore","filter"]}},refs:{element:{type:"string"},paramField:{type:"object",properties:{field:{type:"string"}},additionalProperties:!1,required:["field"]},field:{title:"FieldRef",oneOf:[{type:"string"},{oneOf:[{$ref:"#/refs/signal"},{type:"object",properties:{datum:{$ref:"#/refs/field"}},required:["datum"],additionalProperties:!1},{type:"object",properties:{group:{$ref:"#/refs/field"},level:{type:"number"}},required:["group"],additionalProperties:!1},{type:"object",properties:{parent:{$ref:"#/refs/field"},level:{type:"number"}},required:["parent"],additionalProperties:!1}]}]},scale:{$ref:"#/refs/field"},stringModifiers:{properties:{scale:{$ref:"#/refs/scale"}}},numberModifiers:{properties:{exponent:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},mult:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},offset:{oneOf:[{type:"number"},{$ref:"#/refs/numberValue"}]},round:{type:"boolean",default:!1},scale:{$ref:"#/refs/scale"},band:{type:["number","boolean"]},extra:{type:"boolean"}}},value:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:{}},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},numberValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/numberModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"number"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},stringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"string"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},booleanValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"boolean"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},arrayValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{type:"array"}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},nullableStringValue:{oneOf:[{type:"array",items:{allOf:[{$ref:"#/defs/rule"},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]}},{type:"object",allOf:[{$ref:"#/refs/stringModifiers"},{anyOf:[{oneOf:[{$ref:"#/refs/signal"},{properties:{value:{oneOf:[{type:"string"},{type:"null"}]}},required:["value"]},{properties:{field:{$ref:"#/refs/field"}},required:["field"]},{properties:{range:{type:["number","boolean"]}},required:["range"]}]},{required:["scale","value"]},{required:["scale","band"]},{required:["offset"]}]}]}]},colorRGB:{type:"object",properties:{r:{$ref:"#/refs/numberValue"},g:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["r","g","b"]},colorHSL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},s:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","s","l"]},colorLAB:{type:"object",properties:{l:{$ref:"#/refs/numberValue"},a:{$ref:"#/refs/numberValue"},b:{$ref:"#/refs/numberValue"}},required:["l","a","b"]},colorHCL:{type:"object",properties:{h:{$ref:"#/refs/numberValue"},c:{$ref:"#/refs/numberValue"},l:{$ref:"#/refs/numberValue"}},required:["h","c","l"]},colorValue:{title:"ColorRef",oneOf:[{$ref:"#/refs/nullableStringValue"},{type:"object",properties:{gradient:{$ref:"#/refs/scale"}},additionalProperties:!1,required:["gradient"]},{type:"object",properties:{color:{oneOf:[{$ref:"#/refs/colorRGB"},{$ref:"#/refs/colorHSL"},{$ref:"#/refs/colorLAB"},{$ref:"#/refs/colorHCL"}]}},additionalProperties:!1,required:["color"]}]},expr:{title:"ExpressionRef",type:"object",properties:{expr:{type:"string"}},required:["expr"]},exprString:{title:"Expression String",type:"string"},compare:{oneOf:[{type:"object",properties:{field:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]},order:{$ref:"#/refs/sortOrder"}}},{type:"object",properties:{field:{type:"array",items:{anyOf:[{type:"string"},{$ref:"#/refs/signal"}]}},order:{type:"array",items:{$ref:"#/refs/sortOrder"}}}}]},from:{type:"object",properties:{data:{type:"string"}},additionalProperties:!1},facet:{type:"object",properties:{data:{type:"string"},facet:{oneOf:[{type:"object",properties:{name:{type:"string"},data:{type:"string"},field:{type:"string"}},additionalProperties:!1,required:["name","data","field"]},{type:"object",properties:{name:{type:"string"},data:{type:"string"},groupby:{oneOf:[{type:"string"},{type:"array",items:{type:"string"}}]},aggregate:{type:"object",properties:{cross:{type:"boolean"},fields:{type:"array",items:{type:"string"}},ops:{type:"array",items:{type:"string"}},as:{type:"array",items:{type:"string"}}}}},additionalProperties:!1,required:["name","data","groupby"]}]}},additionalProperties:!1,required:["facet"]},marktype:{title:"Mark Type definition",type:"string"},sortOrder:{oneOf:[{enum:["ascending","descending"]},{$ref:"#/refs/signal"}]},scaleField:{$ref:"#/refs/stringOrSignal"},scaleInterpolate:{oneOf:[{type:"string"},{$ref:"#/refs/signal"},{type:"object",properties:{type:{$ref:"#/refs/stringOrSignal"},gamma:{$ref:"#/refs/numberOrSignal"}},required:["type"]}]},scaleData:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{field:{$ref:"#/refs/scaleField"},op:{$ref:"#/refs/scaleField"},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","field"],additionalProperties:!1},{type:"object",properties:{data:{type:"string"},fields:{type:"array",items:{$ref:"#/refs/scaleField"},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["data","fields"],additionalProperties:!1},{type:"object",properties:{fields:{type:"array",items:{oneOf:[{type:"object",properties:{data:{type:"string"},field:{$ref:"#/refs/scaleField"}},required:["data","field"],additionalProperties:!1},{type:"array",items:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"}]}},{$ref:"#/refs/signal"}]},minItems:1},sort:{oneOf:[{type:"boolean"},{type:"object",properties:{op:{enum:["count"]},order:{$ref:"#/refs/sortOrder"}},additionalProperties:!1}]}},required:["fields"],additionalProperties:!1}]},selector:{title:"Event Selector String",type:"string"},signal:{title:"SignalRef",type:"object",properties:{signal:{type:"string"}},required:["signal"]},booleanOrSignal:{oneOf:[{type:"boolean"},{$ref:"#/refs/signal"}]},numberOrSignal:{oneOf:[{type:"number"},{$ref:"#/refs/signal"}]},stringOrSignal:{oneOf:[{type:"string"},{$ref:"#/refs/signal"}]}},type:"object",allOf:[{$ref:"#/defs/scope"},{properties:{$schema:{type:"string",format:"uri"},config:{type:"object"},description:{type:"string"},width:{type:"number"},height:{type:"number"},padding:{$ref:"#/defs/padding"},autosize:{$ref:"#/defs/autosize"},background:{$ref:"#/defs/background"}}}]}},function(e,t){e.exports={$ref:"#/definitions/TopLevelExtendedSpec",$schema:"http://json-schema.org/draft-04/schema#",definitions:{AggregateOp:{enum:["argmax","argmin","average","count","distinct","max","mean","median","min","missing","modeskew","q1","q3","ci0","ci1","stdev","stdevp","sum","valid","values","variance","variancep"],type:"string"},AnyMark:{anyOf:[{$ref:"#/definitions/CompositeMark"},{$ref:"#/definitions/CompositeMarkDef"},{$ref:"#/definitions/Mark"},{$ref:"#/definitions/MarkDef"}]},AreaOverlay:{enum:["line","linepoint","none"],type:"string"},Axis:{additionalProperties:!1,properties:{domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},encoding:{$ref:"#/definitions/AxisEncoding",description:"Optional mark definitions for custom axis encoding."},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelPadding:{description:"The padding, in pixels, between axis and text labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.",type:"number"},offset:{description:"The offset, in pixels, by which to displace the axis from the edge of the enclosing group or data rectangle.\n\n__Default value:__ derived from  [axis config](config.html#facet-scale-config)'s `offset` (`0` by default)",type:"number"},orient:{$ref:"#/definitions/AxisOrient",description:'The orientation of the axis. One of top, bottom, left or right. The orientation can be used to further specialize the axis type (e.g., a y axis oriented for the right edge of the chart).\n\n__Default value:__ `"x"` axis is placed on the bottom, `"y"` axis is placed on the left, `"column"`"s x-axis is placed on the top, `"row"`s y-axis is placed on the right.'},position:{description:"The anchor position of the axis in pixels. For x-axis with top or bottom orientation, this sets the axis group x coordinate. For y-axis with left or right orientation, this sets the axis group y coordinate.\n\n__Default value__: `0`",type:"number"},tickCount:{description:'A desired number of ticks, for axes visualizing quantitative scales. The resulting number may be different so that values are "nice" (multiples of 2, 5, 10) and lie within the underlying scale\'s range.',minimum:0,type:"number"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible axis tick values."},zindex:{description:'A non-positive integer indicating z-index of the axis.\nIf zindex is 0, axes should be drawn behind all chart elements.\nTo put them in front, use `"zindex = 1"`.\n\n__Default value:__ `0` (Behind the marks.)',minimum:0,type:"number"}},type:"object"},AxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},minimum:0,type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelPadding:{description:"Padding in pixels between axis ticks and tick labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.\n\n__Default value:__ `10`.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},AxisConfigMixins:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/AxisConfig",description:"Generic axis config. "},axisBand:{$ref:"#/definitions/VgAxisConfig",description:'Specific axis config for axes with "band" scales.'},axisBottom:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the bottom edge of the chart."},axisLeft:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the left edge of the chart."},axisRight:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the right edge of the chart."},axisTop:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the top edge of the chart."},axisX:{$ref:"#/definitions/VgAxisConfig",description:"X-axis specific config."},axisY:{$ref:"#/definitions/VgAxisConfig",description:"Y-axis specific config."}},type:"object"},AxisEncoding:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis container."},domain:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis domain rule mark."},grid:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis gridline rule marks."},labels:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis label text marks."},ticks:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for axis tick rule marks."},title:{$ref:"#/definitions/GuideEncodingEntry",description:"Custom encoding for the axis title text mark."}},type:"object"},AxisOrient:{enum:["top","right","left","bottom"],type:"string"},BOXPLOT:{enum:["box-plot"],type:"string"},BarConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},binSpacing:{description:"Offset between bar for binned field.  Ideal value for this is either 0 (Preferred by statisticians) or 1 (Vega-Lite Default, D3 example style).\n\n__Default value:__ `1`",minimum:0,type:"number"},color:{description:'Default color.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},continuousBandSize:{description:"The default size of the bars on continuous scales.\n\n__Default value:__ `2`",minimum:0,type:"number"},discreteBandSize:{description:"The size of the bars.  If unspecified, the default size is  `bandSize-1`,\nwhich provides 1 pixel offset between bars.",minimum:0,type:"number"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',
type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},BaseBin:{additionalProperties:!1,properties:{base:{description:"The number base to use for automatic bin determination (default is base 10).\n\n__Default value:__ `10`",type:"number"},divide:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n\n__Default value:__ `[5, 2]`",items:{type:"number"},minItems:1,type:"array"},maxbins:{description:"Maximum number of bins.\n\n__Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels",minimum:2,type:"number"},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},nice:{description:"If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.",type:"boolean"},step:{description:"An exact step size to use between bins.\n\n__Note:__ If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",items:{type:"number"},minItems:1,type:"array"}},type:"object"},BaseSelectionDef:{additionalProperties:!1,properties:{bind:{anyOf:[{enum:["scales"],type:"string"},{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}]},encodings:{items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{items:{type:"string"},type:"array"},nearest:{type:"boolean"},on:{},resolve:{$ref:"#/definitions/SelectionResolutions"},toggle:{type:["string","boolean"]},translate:{type:["string","boolean"]},zoom:{type:["string","boolean"]}},type:"object"},BaseSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},type:"object"},Bin:{additionalProperties:!1,description:"Binning properties or boolean flag for determining whether to bin data or not.",properties:{base:{description:"The number base to use for automatic bin determination (default is base 10).\n\n__Default value:__ `10`",type:"number"},divide:{description:"Scale factors indicating allowable subdivisions. The default value is [5, 2], which indicates that for base 10 numbers (the default base), the method may consider dividing bin sizes by 5 and/or 2. For example, for an initial step size of 10, the method can check if bin sizes of 2 (= 10/5), 5 (= 10/2), or 1 (= 10/(5*2)) might also satisfy the given constraints.\n\n__Default value:__ `[5, 2]`",items:{type:"number"},minItems:1,type:"array"},extent:{description:"A two-element (`[min, max]`) array indicating the range of desired bin values.",items:{type:"number"},maxItems:2,minItems:2,type:"array"},maxbins:{description:"Maximum number of bins.\n\n__Default value:__ `6` for `row`, `column` and `shape` channels; `10` for other channels",minimum:2,type:"number"},minstep:{description:"A minimum allowable step size (particularly useful for integer values).",type:"number"},nice:{description:"If true (the default), attempts to make the bin boundaries use human-friendly boundaries, such as multiples of ten.",type:"boolean"},step:{description:"An exact step size to use between bins.\n\n__Note:__ If provided, options such as maxbins will be ignored.",type:"number"},steps:{description:"An array of allowable step sizes to choose from.",items:{type:"number"},minItems:1,type:"array"}},type:"object"},BinTransform:{additionalProperties:!1,properties:{as:{description:"The output fields at which to write the start and end bin values.",type:"string"},bin:{anyOf:[{$ref:"#/definitions/Bin"},{enum:[!0],type:"boolean"}],description:"An object indicating bin properties, or simply `true` for using default bin values.."},field:{description:"The data field to bin.",type:"string"}},required:["bin","field","as"],type:"object"},BoxPlotConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},BoxPlotConfigMixins:{additionalProperties:!1,properties:{box:{$ref:"#/definitions/BoxPlotConfig",description:"Box Config "},boxMid:{$ref:"#/definitions/MarkConfig"},boxWhisker:{$ref:"#/definitions/MarkConfig"}},type:"object"},BoxPlotDef:{additionalProperties:!1,properties:{orient:{$ref:"#/definitions/Orient"},type:{$ref:"#/definitions/BOXPLOT"}},required:["type","orient"],type:"object"},CalculateTransform:{additionalProperties:!1,properties:{as:{description:"The field for storing the computed formula value.",type:"string"},calculate:{description:"A string containing a Vega Expression. Use the variable `datum` to refer to the current data object.",type:"string"}},required:["calculate","as"],type:"object"},CellConfig:{additionalProperties:!1,properties:{clip:{description:"Whether the view should be clipped.",type:"boolean"},fill:{description:"The fill color.\n\n__Default value:__ (none)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},height:{description:"The default height of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) y-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"},stroke:{description:"The stroke color.\n\n__Default value:__ (none)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.\n\n__Default value:__ (none)",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.\n\n__Default value:__ (none)",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ (none)",type:"number"},strokeWidth:{description:"The stroke width, in pixels.\n\n__Default value:__ (none)",type:"number"},width:{description:"The default width of the single plot or each plot in a trellis plot when the visualization has a continuous (non-ordinal) x-scale or ordinal x-scale with `rangeStep` = `null`.\n\n__Default value:__ `200`",type:"number"}},type:"object"},CompositeAggregate:{$ref:"#/definitions/BOXPLOT"},CompositeMark:{anyOf:[{$ref:"#/definitions/BOXPLOT"},{$ref:"#/definitions/ERRORBAR"}]},CompositeMarkConfigMixins:{$ref:"#/definitions/BoxPlotConfigMixins"},CompositeMarkDef:{$ref:"#/definitions/BoxPlotDef"},CompositeUnitSpec:{$ref:"#/definitions/CompositeUnitSpecAlias",description:"Unit spec that can have a composite mark."},ConditionLegendFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}]},scale:{$ref:"#/definitions/Scale"},selection:{$ref:"#/definitions/SelectionOperand"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["selection","type"],type:"object"},ConditionTextFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The formatting pattern for text value. If not defined, this will be determined automatically.",type:"string"},selection:{$ref:"#/definitions/SelectionOperand"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["selection","type"],type:"object"},ConditionTextValueDef:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand"},value:{description:"A constant value in visual domain.",type:["string","number","boolean"]}},required:["selection","value"],type:"object"},ConditionNumberValueDef:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand"},value:{description:"A constant value in visual domain.",type:"number"}},required:["selection","value"],type:"object"},ConditionStringValueDef:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand"},value:{description:"A constant value in visual domain.",type:"string"}},required:["selection","value"],type:"object"},ConditionOnlyNumberLegendDef:{additionalProperties:!1,properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionLegendFieldDef"},{$ref:"#/definitions/ConditionNumberValueDef"}]}},required:["condition"],type:"object"},ConditionOnlyStringLegendDef:{additionalProperties:!1,properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionLegendFieldDef"},{$ref:"#/definitions/ConditionStringValueDef"}]}},required:["condition"],type:"object"},ConditionOnlyTextDef:{additionalProperties:!1,properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionTextFieldDef"},{$ref:"#/definitions/ConditionTextValueDef"}]}},required:["condition"],type:"object"},ConditionalNumberLegendDef:{anyOf:[{$ref:"#/definitions/ConditionalNumberLegendFieldDef"},{$ref:"#/definitions/ConditionalNumberLegendValueDef"},{$ref:"#/definitions/ConditionOnlyNumberLegendDef"}],description:"Generic type for conditional channelDef.\nF defines the underlying FieldDef type while V defines the underlying ValueDef type."},ConditionalStringLegendDef:{anyOf:[{$ref:"#/definitions/ConditionalStringLegendFieldDef"},{$ref:"#/definitions/ConditionalStringLegendValueDef"},{$ref:"#/definitions/ConditionOnlyStringLegendDef"}],description:"Generic type for conditional channelDef.\nF defines the underlying FieldDef type while V defines the underlying ValueDef type."},ConditionalTextDef:{anyOf:[{$ref:"#/definitions/ConditionalTextFieldDef"},{$ref:"#/definitions/ConditionalTextValueDef"},{$ref:"#/definitions/ConditionOnlyTextDef"}],description:"Generic type for conditional channelDef.\nF defines the underlying FieldDef type while V defines the underlying ValueDef type."},ConditionalNumberLegendFieldDef:{additionalProperties:!1,description:"A FieldDef with ConditionValueDef\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},condition:{$ref:"#/definitions/ConditionNumberValueDef"},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}]},scale:{$ref:"#/definitions/Scale"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},ConditionalStringLegendFieldDef:{additionalProperties:!1,description:"A FieldDef with ConditionValueDef\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},condition:{$ref:"#/definitions/ConditionStringValueDef"},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}]},scale:{$ref:"#/definitions/Scale"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},ConditionalTextFieldDef:{additionalProperties:!1,description:"A FieldDef with ConditionValueDef\n{\n   condition: {value: ...},\n   field: ...,\n   ...\n}",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},condition:{$ref:"#/definitions/ConditionTextValueDef"},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The formatting pattern for text value. If not defined, this will be determined automatically.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},ConditionalNumberLegendValueDef:{additionalProperties:!1,description:"A ValueDef with ConditionValueDef | FieldDef\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionLegendFieldDef"},{$ref:"#/definitions/ConditionNumberValueDef"}]},value:{description:"A constant value in visual domain.",type:"number"}},required:["value"],type:"object"},ConditionalStringLegendValueDef:{additionalProperties:!1,description:"A ValueDef with ConditionValueDef | FieldDef\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionLegendFieldDef"},{$ref:"#/definitions/ConditionStringValueDef"}]},value:{description:"A constant value in visual domain.",type:"string"}},required:["value"],type:"object"},ConditionalTextValueDef:{additionalProperties:!1,description:"A ValueDef with ConditionValueDef | FieldDef\n{\n   condition: {field: ...} | {value: ...},\n   value: ...,\n}",properties:{condition:{anyOf:[{$ref:"#/definitions/ConditionTextFieldDef"},{$ref:"#/definitions/ConditionTextValueDef"}]},value:{description:"A constant value in visual domain.",type:["string","number","boolean"]}},required:["value"],type:"object"},Config:{additionalProperties:!0,properties:{area:{$ref:"#/definitions/MarkConfig",description:"Area-Specific Config "},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},axis:{$ref:"#/definitions/AxisConfig",description:"Generic axis config. "},axisBand:{$ref:"#/definitions/VgAxisConfig",description:'Specific axis config for axes with "band" scales.'},axisBottom:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the bottom edge of the chart."},axisLeft:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the left edge of the chart."},axisRight:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for y-axis along the right edge of the chart."},axisTop:{$ref:"#/definitions/VgAxisConfig",description:"Specific axis config for x-axis along the top edge of the chart."},axisX:{$ref:"#/definitions/VgAxisConfig",description:"X-axis specific config."},axisY:{$ref:"#/definitions/VgAxisConfig",description:"Y-axis specific config."},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},bar:{$ref:"#/definitions/BarConfig",description:"Bar-Specific Config "},cell:{$ref:"#/definitions/CellConfig",description:"Cell Config "},circle:{$ref:"#/definitions/MarkConfig",description:"Circle-Specific Config "},countTitle:{description:"Default axis and legend title for count fields.\n\n__Default value:__ `'Number of Records'`.",type:"string"},facet:{$ref:"#/definitions/FacetConfig",description:"Facet Config "},filterInvalid:{description:"Whether to filter invalid values (`null` and `NaN`) from the data.\n- By default (`undefined`), only quantitative and temporal fields are filtered.\n- If set to `true`, all data items with null values are filtered.\n- If `false`, all data items are included. In this case, null values will be interpreted as zeroes.",type:"boolean"},legend:{$ref:"#/definitions/LegendConfig",description:"Legend Config "},line:{$ref:"#/definitions/MarkConfig",description:"Line-Specific Config "},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config "},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units.(in the form of [D3 number format pattern](https://github.com/mbostock/d3/wiki/Formatting)).\n\n__Default value:__ `"s"` (except for text marks that encode a count field, the default value is `"d"`).',type:"string"},overlay:{$ref:"#/definitions/OverlayConfig",description:"Mark Overlay Config "},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},point:{$ref:"#/definitions/MarkConfig",description:"Point-Specific Config "},range:{additionalProperties:{$ref:"#/definitions/RangeConfig"},description:'Scale range config, or properties defining named range arrays\nthat can be used within scale range definitions\n(such as `{"type": "ordinal", "range": "category"}`).\nFor default range that Vega-Lite adopts from Vega, see https://github.com/vega/vega-parser#scale-range-properties.',type:"object"},rect:{$ref:"#/definitions/MarkConfig",description:"Rect-Specific Config "},rule:{$ref:"#/definitions/MarkConfig",description:"Rule-Specific Config "},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale Config "},selection:{$ref:"#/definitions/SelectionConfig",description:"Selection Config "},square:{$ref:"#/definitions/MarkConfig",description:"Square-Specific Config "},stack:{$ref:"#/definitions/StackOffset",description:"Default stack offset for stackable mark. "},text:{$ref:"#/definitions/TextConfig",description:"Text-Specific Config "},tick:{$ref:"#/definitions/TickConfig",description:"Tick-Specific Config "},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend. [D3 time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting)).\n\n__Default value:__ `'%b %d, %Y'`.",type:"string"},title:{$ref:"#/definitions/VgTitleConfig",description:"Title Config "}},type:"object"},Data:{anyOf:[{$ref:"#/definitions/UrlData"},{$ref:"#/definitions/InlineData"},{$ref:"#/definitions/NamedData"}]},DataFormat:{additionalProperties:!1,properties:{feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\nFor example, in a map of the world, there may be an object set named `"countries"`.\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to mesh.\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"},parse:{description:'A collection of parsing instructions can be used to define the data types of string-valued attributes in the JSON file. Each instruction is a name-value pair, where the name is the name of the attribute, and the value is the desired data type (one of `"number"`, `"boolean"` or `"date"`). For example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value. Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'
},property:{description:'(JSON only) The JSON property containing the desired data.\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\nfrom the loaded JSON object.',type:"string"}},type:"object"},DataFormatType:{enum:["json","csv","tsv","topojson"],type:"string"},DataUrlFormat:{additionalProperties:!1,properties:{feature:{description:'The name of the TopoJSON object set to convert to a GeoJSON feature collection.\nFor example, in a map of the world, there may be an object set named `"countries"`.\nUsing the feature property, we can extract this set and generate a GeoJSON feature object for each country.',type:"string"},mesh:{description:"The name of the TopoJSON object set to convert to mesh.\nSimilar to the `feature` option, `mesh` extracts a named TopoJSON object set.\n  Unlike the `feature` option, the corresponding geo data is returned as a single, unified mesh instance, not as individual GeoJSON features.\nExtracting a mesh is useful for more efficiently drawing borders or other geographic elements that you do not need to associate with specific regions such as individual countries, states or counties.",type:"string"},parse:{description:'A collection of parsing instructions can be used to define the data types of string-valued attributes in the JSON file. Each instruction is a name-value pair, where the name is the name of the attribute, and the value is the desired data type (one of `"number"`, `"boolean"` or `"date"`). For example, `"parse": {"modified_on": "date"}` parses the `modified_on` field in each input record a Date value. Specific date formats can be provided (e.g., `{foo: \'date:"%m%d%Y"\'}`), using the [d3-time-format syntax](https://github.com/d3/d3-time-format#locale_format). UTC date format parsing is supported similarly (e.g., `{foo: \'utc:"%m%d%Y"\'}`). See more about [UTC time](timeunit.html#utc)'},property:{description:'(JSON only) The JSON property containing the desired data.\nThis parameter can be used when the loaded JSON file may have surrounding structure or meta-data.\nFor example `"property": "values.features"` is equivalent to retrieving `json.values.features`\nfrom the loaded JSON object.',type:"string"},type:{$ref:"#/definitions/DataFormatType",description:'Type of input data: `"json"`, `"csv"`, `"tsv"`.\nThe default format type is determined by the extension of the file URL.\nIf no extension is detected, `"json"` will be used by default.'}},type:"object"},DateTime:{additionalProperties:!1,description:"Object for defining datetime in Vega-Lite Filter.\nIf both month and quarter are provided, month has higher precedence.\n`day` cannot be combined with other date.\nWe accept string for month and day names.",properties:{date:{description:"Integer value representing the date from 1-31.",maximum:31,minimum:1,type:"number"},day:{anyOf:[{$ref:"#/definitions/Day"},{type:"string"}],description:'Value representing the day of a week.  This can be one of: (1) integer value -- `1` represents Monday; (2) case-insensitive day name (e.g., `"Monday"`);  (3) case-insensitive, 3-character short day name (e.g., `"Mon"`).   <br/> **Warning:** A DateTime definition object with `day`** should not be combined with `year`, `quarter`, `month`, or `date`.'},hours:{description:"Integer value representing the hour of a day from 0-23.",maximum:23,minimum:0,type:"number"},milliseconds:{description:"Integer value representing the millisecond segment of time.",maximum:999,minimum:0,type:"number"},minutes:{description:"Integer value representing the minute segment of time from 0-59.",maximum:59,minimum:0,type:"number"},month:{anyOf:[{$ref:"#/definitions/Month"},{type:"string"}],description:'One of: (1) integer value representing the month from `1`-`12`. `1` represents January;  (2) case-insensitive month name (e.g., `"January"`);  (3) case-insensitive, 3-character short month name (e.g., `"Jan"`). '},quarter:{description:"Integer value representing the quarter of the year (from 1-4).",maximum:4,minimum:1,type:"number"},seconds:{description:"Integer value representing the second segment (0-59) of a time value",maximum:59,minimum:0,type:"number"},utc:{description:"A boolean flag indicating if date time is in utc time. If false, the date time is in local time",type:"boolean"},year:{description:"Integer value representing the year.",type:"number"}},type:"object"},Day:{maximum:7,minimum:1,type:"number"},Domain:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"},{enum:["unaggregated"],type:"string"},{$ref:"#/definitions/SelectionDomain"}]},ERRORBAR:{enum:["error-bar"],type:"string"},Encoding:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ConditionalStringLegendDef",description:"Color of the marks – either fill or stroke color based on mark type.\n(By default, fill color for `area`, `bar`, `tick`, `text`, `circle`, and `square` /\nstroke color for `line` and `point`.)"},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},opacity:{$ref:"#/definitions/ConditionalNumberLegendDef",description:"Opacity of the marks – either can be a value or a range."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"stack order for stacked marks or order of data points in line marks."},shape:{$ref:"#/definitions/ConditionalStringLegendDef",description:'The symbol\'s shape (only for `point` marks). The supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.'},size:{$ref:"#/definitions/ConditionalNumberLegendDef",description:"Size of the mark.\n- For `point`, `square` and `circle`\n– the symbol size, or pixel area of the mark.\n- For `bar` and `tick` – the bar and tick's size.\n- For `text` – the text's font size.\n- Size is currently unsupported for `line` and `area`."},text:{$ref:"#/definitions/ConditionalTextDef",description:"Text of the `text` mark."},tooltip:{$ref:"#/definitions/ConditionalTextDef",description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"X coordinates for `point`, `circle`, `square`,\n`line`, `rule`, `text`, and `tick`\n(or to width and height for `bar` and `area` marks)."},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"X2 coordinates for ranged `bar`, `rule`, `area`."},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"Y coordinates for `point`, `circle`, `square`,\n`line`, `rule`, `text`, and `tick`\n(or to width and height for `bar` and `area` marks)."},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"Y2 coordinates for ranged `bar`, `rule`, `area`."}},type:"object"},EncodingWithFacet:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/ConditionalStringLegendDef",description:"Color of the marks – either fill or stroke color based on mark type.\n(By default, fill color for `area`, `bar`, `tick`, `text`, `circle`, and `square` /\nstroke color for `line` and `point`.)"},column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},detail:{anyOf:[{$ref:"#/definitions/FieldDef"},{items:{$ref:"#/definitions/FieldDef"},type:"array"}],description:"Additional levels of detail for grouping data in aggregate views and\nin line and area marks without mapping data to a specific visual channel."},opacity:{$ref:"#/definitions/ConditionalNumberLegendDef",description:"Opacity of the marks – either can be a value or a range."},order:{anyOf:[{$ref:"#/definitions/OrderFieldDef"},{items:{$ref:"#/definitions/OrderFieldDef"},type:"array"}],description:"stack order for stacked marks or order of data points in line marks."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."},shape:{$ref:"#/definitions/ConditionalStringLegendDef",description:'The symbol\'s shape (only for `point` marks). The supported values are\n`"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`,\nor `"triangle-down"`, or else a custom SVG path string.'},size:{$ref:"#/definitions/ConditionalNumberLegendDef",description:"Size of the mark.\n- For `point`, `square` and `circle`\n– the symbol size, or pixel area of the mark.\n- For `bar` and `tick` – the bar and tick's size.\n- For `text` – the text's font size.\n- Size is currently unsupported for `line` and `area`."},text:{$ref:"#/definitions/ConditionalTextDef",description:"Text of the `text` mark."},tooltip:{$ref:"#/definitions/ConditionalTextDef",description:"The tooltip text to show upon mouse hover."},x:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"X coordinates for `point`, `circle`, `square`,\n`line`, `rule`, `text`, and `tick`\n(or to width and height for `bar` and `area` marks)."},x2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"X2 coordinates for ranged `bar`, `rule`, `area`."},y:{anyOf:[{$ref:"#/definitions/PositionFieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"Y coordinates for `point`, `circle`, `square`,\n`line`, `rule`, `text`, and `tick`\n(or to width and height for `bar` and `area` marks)."},y2:{anyOf:[{$ref:"#/definitions/FieldDef"},{$ref:"#/definitions/NumberValueDef"}],description:"Y2 coordinates for ranged `bar`, `rule`, `area`."}},type:"object"},EqualFilter:{additionalProperties:!1,properties:{equal:{anyOf:[{type:"string"},{type:"number"},{type:"boolean"},{$ref:"#/definitions/DateTime"}],description:"The value that the field should be equal to."},field:{description:"Field to be filtered.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for the field to be filtered."}},required:["field","equal"],type:"object"},ExtendedScheme:{additionalProperties:!1,properties:{count:{type:"number"},extent:{items:{type:"number"},type:"array"},name:{description:"Color scheme that determines output color of an ordinal/sequential color scale.",type:"string"}},required:["name"],type:"object"},Facet:{additionalProperties:!1,properties:{column:{$ref:"#/definitions/FacetFieldDef",description:"Horizontal facets for trellis plots."},row:{$ref:"#/definitions/FacetFieldDef",description:"Vertical facets for trellis plots."}},type:"object"},FacetConfig:{additionalProperties:!1,properties:{cell:{$ref:"#/definitions/CellConfig",description:"Facet Cell Config "}},type:"object"},FacetFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},header:{$ref:"#/definitions/Header"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},FacetedUnitSpec:{$ref:"#/definitions/FacetedCompositeUnitSpecAlias",description:"Unit spec that can have a composite mark and row or column channels."},Field:{anyOf:[{type:"string"},{$ref:"#/definitions/RepeatRef"}]},FieldDef:{additionalProperties:!1,description:"Definition object for a data field, its type and transformation of an encoding channel.",properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},FieldDefBase:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"}},type:"object"},Filter:{anyOf:[{$ref:"#/definitions/EqualFilter"},{$ref:"#/definitions/RangeFilter"},{$ref:"#/definitions/OneOfFilter"},{$ref:"#/definitions/SelectionFilter"},{type:"string"}]},FilterTransform:{additionalProperties:!1,properties:{filter:{$ref:"#/definitions/FilterOperand",description:"A string containing the filter Vega expression. Use `datum` to refer to the current data object."}},required:["filter"],type:"object"},FontStyle:{enum:["normal","italic"],type:"string"},FontWeight:{enum:["normal","bold"],type:"string"},FontWeightNumber:{maximum:900,minimum:100,type:"number"},FacetedSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/Facet"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/ResolveMapping"},spec:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},HConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},hconcat:{items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},LayerSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},layer:{description:"Unit specs that will be layered.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},required:["layer"],type:"object"},RepeatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},repeat:{$ref:"#/definitions/Repeat"},resolve:{$ref:"#/definitions/ResolveMapping"},spec:{anyOf:[{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},CompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/Encoding",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},required:["mark","encoding"],type:"object"},FacetedCompositeUnitSpecAlias:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},required:["mark","encoding"],type:"object"},VConcatSpec:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"}},required:["vconcat"],type:"object"},Guide:{additionalProperties:!1,properties:{format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"}},type:"object"},GuideEncodingEntry:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/ValueDef"},angle:{$ref:"#/definitions/ValueDef"},baseline:{$ref:"#/definitions/ValueDef"},clip:{$ref:"#/definitions/ValueDef"},cursor:{$ref:"#/definitions/ValueDef"},dir:{$ref:"#/definitions/ValueDef"},dx:{$ref:"#/definitions/ValueDef"},dy:{$ref:"#/definitions/ValueDef"},ellipsis:{$ref:"#/definitions/ValueDef"},endAngle:{$ref:"#/definitions/ValueDef"},fill:{$ref:"#/definitions/ValueDef"},fillOpacity:{$ref:"#/definitions/ValueDef"},font:{$ref:"#/definitions/ValueDef"},fontSize:{$ref:"#/definitions/ValueDef"},fontStyle:{$ref:"#/definitions/ValueDef"},fontWeight:{$ref:"#/definitions/ValueDef"},height:{$ref:"#/definitions/ValueDef"},innerRadius:{$ref:"#/definitions/ValueDef"},interpolate:{$ref:"#/definitions/ValueDef"},limit:{$ref:"#/definitions/ValueDef"},opacity:{$ref:"#/definitions/ValueDef"},orient:{$ref:"#/definitions/ValueDef"},outerRadius:{$ref:"#/definitions/ValueDef"},path:{$ref:"#/definitions/ValueDef"},radius:{$ref:"#/definitions/ValueDef"},shape:{$ref:"#/definitions/ValueDef"},size:{$ref:"#/definitions/ValueDef"},startAngle:{$ref:"#/definitions/ValueDef"},stroke:{$ref:"#/definitions/ValueDef"},strokeDash:{$ref:"#/definitions/ValueDef"},strokeDashOffset:{$ref:"#/definitions/ValueDef"},strokeOpacity:{$ref:"#/definitions/ValueDef"},strokeWidth:{$ref:"#/definitions/ValueDef"},tension:{$ref:"#/definitions/ValueDef"},text:{$ref:"#/definitions/ValueDef"},theta:{$ref:"#/definitions/ValueDef"},url:{$ref:"#/definitions/ValueDef"},width:{$ref:"#/definitions/ValueDef"},x:{$ref:"#/definitions/ValueDef"},x2:{$ref:"#/definitions/ValueDef"},xc:{$ref:"#/definitions/ValueDef"},y:{$ref:"#/definitions/ValueDef"},y2:{$ref:"#/definitions/ValueDef"},yc:{$ref:"#/definitions/ValueDef"}},required:["x","x2","xc","width","y","y2","yc","height","opacity","fill","fillOpacity","stroke","strokeWidth","strokeOpacity","strokeDash","strokeDashOffset","cursor","clip","size","shape","path","innerRadius","outerRadius","startAngle","endAngle","interpolate","tension","orient","url","align","baseline","text","dir","ellipsis","limit","dx","dy","radius","theta","angle","font","fontSize","fontWeight","fontStyle"],type:"object"},Header:{additionalProperties:!1,description:"Headers of row / column channels for faceted plots.",properties:{format:{description:"The formatting pattern for axis labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative axis and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time axis.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative axis and from [timeFormat](config.html#format) config for time axis.",type:"string"},title:{description:'A title for the axis. Shows field name and its function by default.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"}},type:"object"},HorizontalAlign:{enum:["left","right","center"],type:"string"},InlineData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"Parsing properties."},values:{description:"Pass array of objects instead of a url to a file.",items:{},type:"array"}},required:["values"],type:"object"},Interpolate:{enum:["linear","linear-closed","step","step-before","step-after","basis","basis-open","basis-closed","cardinal","cardinal-open","cardinal-closed","bundle","monotone"],type:"string"},LayoutSize:{additionalProperties:!1,properties:{height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},type:"object"},Legend:{additionalProperties:!1,description:"Properties of a legend or boolean flag for determining whether to show it.",properties:{encoding:{$ref:"#/definitions/LegendEncoding",description:"Optional mark definitions for custom legend encoding."},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",
type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},format:{description:"The formatting pattern for labels. This is D3's [number format pattern](https://github.com/mbostock/d3/wiki/Formatting) for quantitative fields and D3's [time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting) for time field.\n\n__Default value:__  derived from [numberFormat](config.html#format) config for quantitative fields and from [timeFormat](config.html#format) config for temporal fields.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`',enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},tickCount:{description:"The desired number of tick values for quantitative legends.",type:"number"},title:{description:'A title for the field.\n\n__Default value:__  derived from the field\'s name and transformation function applied e.g, "field_name", "SUM(field_name)", "BIN(field_name)", "YEAR(field_name)".',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},type:{description:"The type of the legend. Use `symbol` to create a discrete legend and `gradient` for a continuous color gradient.",enum:["symbol","gradient"],type:"string"},values:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"Explicitly set the visible legend values."},zindex:{description:"A non-positive integer indicating z-index of the legend.\nIf zindex is 0, legend should be drawn behind all chart elements.\nTo put them in front, use zindex = 1.",minimum:0,type:"number"}},type:"object"},LegendConfig:{additionalProperties:!1,properties:{cornerRadius:{description:"Corner radius for the full legend.",type:"number"},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},gradientHeight:{description:"The height of the gradient, in pixels.",minimum:0,type:"number"},gradientLabelBaseline:{description:"Text baseline for color ramp gradient labels.",type:"string"},gradientLabelLimit:{description:"The maximum allowed length in pixels of color ramp gradient labels.",type:"number"},gradientLabelOffset:{description:"Vertical offset in pixels for color ramp gradient labels.",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",minimum:0,type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",minimum:0,type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the legend label.",type:"string"},labelFontSize:{description:"The font size of legend label.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOffset:{description:"The offset of the legend label.",minimum:0,type:"number"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`',enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"},strokeColor:{description:"Border stroke color for the full legend.",type:"string"},strokeDash:{description:"Border stroke dash pattern for the full legend.",items:{type:"number"},type:"array"},strokeWidth:{description:"Border stroke width for the full legend.",type:"number"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolSize:{description:"The size of the legend symbol, in pixels.",minimum:0,type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",minimum:0,type:"number"},symbolType:{description:'Default shape type (such as "circle") for legend symbols.',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},titleBaseline:{description:"Optional mark property definitions for custom legend styling. \n Vertical text baseline for legend titles.",type:"string"},titleColor:{description:"The color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and legend.",type:"number"}},type:"object"},LegendEncoding:{additionalProperties:!1,properties:{gradient:{$ref:"#/definitions/GuideEncodingEntry"},labels:{$ref:"#/definitions/GuideEncodingEntry"},legend:{$ref:"#/definitions/GuideEncodingEntry"},symbols:{$ref:"#/definitions/GuideEncodingEntry"},title:{$ref:"#/definitions/GuideEncodingEntry"}},type:"object"},LegendFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},legend:{anyOf:[{$ref:"#/definitions/Legend"},{type:"null"}]},scale:{$ref:"#/definitions/Scale"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},AndFilter:{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/FilterOperand"},type:"array"}},required:["and"],type:"object"},SelectionAnd:{additionalProperties:!1,properties:{and:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["and"],type:"object"},NotFilter:{additionalProperties:!1,properties:{not:{$ref:"#/definitions/FilterOperand"}},required:["not"],type:"object"},SelectionNot:{additionalProperties:!1,properties:{not:{$ref:"#/definitions/SelectionOperand"}},required:["not"],type:"object"},FilterOperand:{anyOf:[{$ref:"#/definitions/NotFilter"},{$ref:"#/definitions/AndFilter"},{$ref:"#/definitions/OrFilter"},{$ref:"#/definitions/Filter"}]},SelectionOperand:{anyOf:[{$ref:"#/definitions/SelectionNot"},{$ref:"#/definitions/SelectionAnd"},{$ref:"#/definitions/SelectionOr"},{type:"string"}]},OrFilter:{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/FilterOperand"},type:"array"}},required:["or"],type:"object"},SelectionOr:{additionalProperties:!1,properties:{or:{items:{$ref:"#/definitions/SelectionOperand"},type:"array"}},required:["or"],type:"object"},LookupData:{additionalProperties:!1,properties:{data:{$ref:"#/definitions/Data",description:"secondary data source to lookup in"},fields:{description:"(Optional) fields in foreign data to lookup\nif not specificied, the entire object is queried",items:{type:"string"},type:"array"},key:{description:"key in data to lookup",type:"string"}},required:["data","key"],type:"object"},LookupTransform:{additionalProperties:!1,properties:{as:{anyOf:[{type:"string"},{items:{type:"string"},type:"array"}],description:"(Optional) The field or fields for storing the computed formula value.\nIf `from.fields` is not specified, `as` has to be a string and we put the whole object into the data"},default:{description:"(Optional) The default value to use if lookup fails",type:"string"},from:{$ref:"#/definitions/LookupData",description:"secondary data reference"},lookup:{description:"key in primary data source",type:"string"}},required:["lookup","from"],type:"object"},Mark:{description:"All types of primitive marks.",enum:["area","bar","line","point","text","tick","rect","rule","circle","square"],type:"string"},MarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},MarkConfigMixins:{additionalProperties:!1,properties:{area:{$ref:"#/definitions/MarkConfig",description:"Area-Specific Config "},bar:{$ref:"#/definitions/BarConfig",description:"Bar-Specific Config "},circle:{$ref:"#/definitions/MarkConfig",description:"Circle-Specific Config "},line:{$ref:"#/definitions/MarkConfig",description:"Line-Specific Config "},mark:{$ref:"#/definitions/MarkConfig",description:"Mark Config "},point:{$ref:"#/definitions/MarkConfig",description:"Point-Specific Config "},rect:{$ref:"#/definitions/MarkConfig",description:"Rect-Specific Config "},rule:{$ref:"#/definitions/MarkConfig",description:"Rule-Specific Config "},square:{$ref:"#/definitions/MarkConfig",description:"Square-Specific Config "},text:{$ref:"#/definitions/TextConfig",description:"Text-Specific Config "},tick:{$ref:"#/definitions/TickConfig",description:"Tick-Specific Config "}},type:"object"},MarkDef:{additionalProperties:!1,properties:{filled:{description:'Whether the mark\'s color should be used as fill color instead of stroke color.\n\n__Default value:__ All marks except `"point"`, `"line"`, and `"rule"` are filled by default.',type:"boolean"},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.\n\nFor more information about each interpolation method, please see [D3\'s line interpolation](https://github.com/mbostock/d3/wiki/SVG-Shapes#line_interpolate).'},orient:{$ref:"#/definitions/Orient",description:"TODO"},role:{description:"A metadata string indicating the role of the mark.\nThis allows users to use `config.<role-name>.*` to customize properties of marks with specific roles.\nIn addition, SVG renderers will add this role value (prepended with the prefix role-) as a CSS class name on the enclosing SVG group (`<g>`) element containing the mark instances.",type:"string"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).\n\nTODO: provide the link to D3 docs.",maximum:1,minimum:0,type:"number"},type:{$ref:"#/definitions/Mark",description:'The mark type.\nOne of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`.'}},required:["type"],type:"object"},Month:{maximum:12,minimum:1,type:"number"},NamedData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataFormat",description:"Parsing properties."},name:{description:"Provide a placeholder name and bind data at runtime.",type:"string"}},required:["name"],type:"object"},NonspatialResolve:{additionalProperties:!1,properties:{legend:{$ref:"#/definitions/ResolveMode"},scale:{$ref:"#/definitions/ResolveMode"}},type:"object"},OneOfFilter:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},oneOf:{anyOf:[{items:{type:"string"},type:"array"},{items:{type:"number"},type:"array"},{items:{type:"boolean"},type:"array"},{items:{$ref:"#/definitions/DateTime"},type:"array"}],description:"A set of values that the `field`'s value should be a member of,\nfor a data item included in the filtered data."},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","oneOf"],type:"object"},OrderFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},sort:{$ref:"#/definitions/SortOrder"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},Orient:{enum:["horizontal","vertical"],type:"string"},OverlayConfig:{additionalProperties:!1,properties:{area:{$ref:"#/definitions/AreaOverlay",description:"Type of overlay for area mark (line or linepoint)"},line:{description:"Whether to overlay line with point.\n\n__Default value:__ `false`",type:"boolean"}},type:"object"},Padding:{anyOf:[{type:"number"},{additionalProperties:!1,properties:{bottom:{type:"number"},left:{type:"number"},right:{type:"number"},top:{type:"number"}},type:"object"}],minimum:0},PositionFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},axis:{anyOf:[{$ref:"#/definitions/Axis"},{type:"null"}]},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},scale:{$ref:"#/definitions/Scale"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},stack:{$ref:"#/definitions/StackOffset",description:'Type of stacking offset if the field should be stacked.\n"none" or null, if the field should not be stacked.'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},Range:{anyOf:[{items:{type:"number"},type:"array"},{items:{type:"string"},type:"array"},{type:"string"}]},RangeConfig:{anyOf:[{items:{type:["number","string"]},type:"array"},{$ref:"#/definitions/VgRangeScheme"},{additionalProperties:!1,properties:{step:{type:"number"}},required:["step"],type:"object"}]},RangeFilter:{additionalProperties:!1,properties:{field:{description:"Field to be filtered",type:"string"},range:{description:"An array of inclusive minimum and maximum values\nfor a field value of a data item to be included in the filtered data.",items:{anyOf:[{type:"number"},{$ref:"#/definitions/DateTime"}]},maxItems:2,minItems:2,type:"array"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"time unit for the field to be filtered."}},required:["field","range"],type:"object"},Repeat:{additionalProperties:!1,properties:{column:{description:"Horizontal repeated views.",items:{type:"string"},type:"array"},row:{description:"Vertical repeated views.",items:{type:"string"},type:"array"}},type:"object"},RepeatRef:{additionalProperties:!1,description:"Reference to a repeated value.",properties:{repeat:{enum:["row","column"],type:"string"}},required:["repeat"],type:"object"},ResolveMapping:{additionalProperties:!1,properties:{color:{$ref:"#/definitions/NonspatialResolve"},opacity:{$ref:"#/definitions/NonspatialResolve"},shape:{$ref:"#/definitions/NonspatialResolve"},size:{$ref:"#/definitions/NonspatialResolve"},x:{$ref:"#/definitions/SpatialResolve"},y:{$ref:"#/definitions/SpatialResolve"}},type:"object"},ResolveMode:{enum:["independent","shared"],type:"string"},Scale:{additionalProperties:!1,properties:{clamp:{description:"If `true`, values that exceed the data domain are clamped to either the minimum or maximum range value\n\n__Default value:__ derived from [scale config](config.html#scale-config) (`true` by default)\n\n__Supported types:__ only `linear`, `pow`, `sqrt`, and `log` (Not applicable for `quantile`, `quantize`, and `threshold` scales as they output discrete ranges.)",type:"boolean"},domain:{$ref:"#/definitions/Domain",description:'The domain of the scale, representing the set of data values. For quantitative data, this can take the form of a two-element array with minimum and maximum values. For ordinal/categorical data, this may be an array of valid input values.\n\nIf the domain is `"unaggregated"`, we use the source data range before aggregation as scale domain instead of aggregated data for an aggregate axis.\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.'},exponent:{description:"Sets the exponent of the scale transformation. For `pow` scale types only, otherwise ignored.",type:"number"},interpolate:{enum:["rgb","lab","hcl","hsl","hsl-long","hcl-long","cubehelix","cubehelix-long"],type:"string"},nice:{description:"As quantitative scale property, if specified, modifies the scale domain to use a more human-friendly value range. If specified as a `true` boolean, modifies the scale domain to use a more human-friendly number range (e.g., 7 instead of 6.96). If specified as a string, modifies the scale domain to use a more human-friendly value range. For time and utc scale types only, the nice value should be a string indicating the desired time interval.\nAs time scale properties, if `true`, values that exceed the data domain are clamped to either the minimum or maximum range value. (Not applicable for `quantile`, `quantize`, and `threshold` scales as they output discrete ranges.)\n\n__Default value:__ `true` only for quantitative x and y scales and `false` otherwise.",type:["boolean","string"]},padding:{description:"Applies spacing among ordinal elements in the scale range. The actual effect depends on how the scale is configured. If the __points__ parameter is `true`, the padding value is interpreted as a multiple of the spacing between points. A reasonable value is 1.0, such that the first and last point will be offset from the minimum and maximum value by half the distance between points. Otherwise, padding is typically in the range [0, 1] and corresponds to the fraction of space in the range interval to allocate to padding. A value of 0.5 means that the band size will be equal to the padding width. For more, see the [D3 ordinal scale documentation](https://github.com/mbostock/d3/wiki/Ordinal-Scales).\nA convenience property for setting the inner and outer padding to the same value.\n\n__Default value:__ `x` and `y` channels are derived from [scale config](config.html#scale-config)'s `pointPadding` for `point` scale and `bandPadding` for `band` scale.  Other channels have `0` padding by default.",maximum:1,minimum:0,type:"number"},paddingInner:{description:"The inner padding of a band scale determines the ratio of the range that is reserved for blank space between bands. (For point scale, this property is ignored.)",maximum:1,minimum:0,type:"number"},paddingOuter:{description:"The outer padding determines the ratio of the range that is reserved for blank space before the first and after the last bands/points.",maximum:1,minimum:0,type:"number"},range:{$ref:"#/definitions/Range",description:"The range of the scale, representing the set of visual values. For numeric values, the range can take the form of a two-element array with minimum and maximum values. For ordinal or quantized data, the range may by an array of desired output values, which are mapped to elements in the specified domain."},rangeStep:{description:"The distance between the starts of adjacent bands or points in band or point scales.\nIf this value is `null`, this will be determined to fit width (for x) or height (for y) of the plot.\nIf both width and x-scale's rangeStep is provided, rangeStep will be dropped.  (The same rule is applied for height and y-scale's rangeStep.)\n\n__Default Rule:__ for `x` ordinal scale of a `text` mark, derived from [scale config](config.html#scale-config)'s `textXRangeStep`. Otherwise, derived from [scale config](config.html#scale-config)'s `rangeStep`.\n__Warning:__ If the cardinality of the scale domain is too high, the rangeStep might become less than one pixel and the mark might not appear correctly.",minimum:0,type:["number","null"]},round:{description:'If `true`, rounds numeric output values to integers. This can be helpful for snapping to the pixel grid.\n\n__Default Rule:__ `true` for `"x"`, `"y"`, `"row"`, `"column"` channels if scale config\'s `round` is `true`; `false` otherwise.',type:"boolean"},scheme:{$ref:"#/definitions/Scheme",description:'Range scheme (e.g., color schemes such as `"category10"` or `"viridis"`).\n\n__Default value:__ [scale config](config.html#scale-config)\'s `"nominalColorScheme"` for nominal field and `"sequentialColorScheme"` for other types of fields.'},type:{$ref:"#/definitions/ScaleType",description:'The type of scale.\n- For a _quantitative_ field, supported quantitative scale types  are `"linear"` (default), `"log"`, `"pow"`, `"sqrt"`, `"quantile"`, `"quantize"`, and `"threshold"`.\n- For a _temporal_ field without `timeUnit`, the scale type should be `"time"` (default), `"utc"` or `"ordinal"`. See more about [UTC time](timeunit.html#utc)\n- For _ordinal_ and _nominal_ fields, the type is always `"ordinal"`.\nUnsupported values will be ignored.'},zero:{description:"If `true`, ensures that a zero baseline value is included in the scale domain.\nDefault value: `true` for `x` and `y` channel if the quantitative field is not binned\nand no custom `domain` is provided; `false` otherwise.\n\n__Default value:__ `true` for `x` and `y` channel if the quantitative field is not binned and no custom `domain` is provided; `false` otherwise.\n\n__Note:__  This property is always `false` for log scale.",type:"boolean"}},type:"object"},ScaleConfig:{additionalProperties:!1,properties:{bandPaddingInner:{description:"Default inner padding for `x` and `y` band-ordinal scales.\n\n__Default value:__ `0.1`",
maximum:1,minimum:0,type:"number"},bandPaddingOuter:{description:"Default outer padding for `x` and `y` band-ordinal scales.\nIf not specified, by default, band scale's paddingOuter is paddingInner/2.",maximum:1,minimum:0,type:"number"},clamp:{description:"If true, values that exceed the data domain are clamped to either the minimum or maximum range value",type:"boolean"},maxBandSize:{description:"The default max value for mapping quantitative fields to bar's size/bandSize.\nIf undefined (default), we will use bandSize - 1.",minimum:0,type:"number"},maxFontSize:{description:"The default max value for mapping quantitative fields to text's size/fontSize.\nIf undefined (default), we will use bandSize - 1.\n\n__Default value:__ `40`",minimum:0,type:"number"},maxOpacity:{description:"Default max opacity for mapping a field to opacity.\n\n__Default value:__ `0.8`",maximum:1,minimum:0,type:"number"},maxSize:{description:"Default max value for point size scale.",minimum:0,type:"number"},maxStrokeWidth:{description:"Default max strokeWidth for strokeWidth  (or rule/line's size) scale.\n\n__Default value:__ `4`",minimum:0,type:"number"},minBandSize:{description:"The default min value for mapping quantitative fields to bar and tick's size/bandSize scale with zero=false\nIf undefined (default), we will use the `continuousBandSize` value for bar and 3 for ticks.",minimum:0,type:"number"},minFontSize:{description:"The default min value for mapping quantitative fields to tick's size/fontSize scale with zero=false\n\n__Default value:__ `8`",minimum:0,type:"number"},minOpacity:{description:"Default minimum opacity for mapping a field to opacity.\n\n__Default value:__ `0.3`",maximum:1,minimum:0,type:"number"},minSize:{description:"Default minimum value for point size scale with zero=false.\n\n__Default value:__ `9`",minimum:0,type:"number"},minStrokeWidth:{description:"Default minimum strokeWidth for strokeWidth (or rule/line's size) scale with zero=false.\n\n__Default value:__ `1`",minimum:0,type:"number"},pointPadding:{description:"Default outer padding for `x` and `y` point-ordinal scales.\n\n__Default value:__ `0.5`",maximum:1,minimum:0,type:"number"},rangeStep:{description:"Default range step for (1) `y` ordinal scale,\nand (2) `x` ordinal scale when the mark is not `text`.\n\n__Default value:__ `21`",minimum:0,type:["number","null"]},round:{description:"If true, rounds numeric output values to integers.\nThis can be helpful for snapping to the pixel grid.\n(Only available for `x`, `y`, `size`, `row`, and `column` scales.)",type:"boolean"},shapes:{description:'The default collection of symbol shapes for mapping nominal fields to shapes of point marks (i.e., range of a `shape` scale).\nEach value should be one of: `"circle"`, `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `["circle", "square", "cross", "diamond", "triangle-up", "triangle-down"]`',items:{type:"string"},type:"array"},textXRangeStep:{description:"Default range step for `x` ordinal scale when is mark is `text`.\n\n__Default value:__ `90`",minimum:0,type:"number"},useUnaggregatedDomain:{description:'Use the source data range before aggregation as scale domain instead of aggregated data for aggregate axis.\nThis property only works with aggregate functions that produce values within the raw data domain (`"mean"`, `"average"`, `"median"`, `"q1"`, `"q3"`, `"min"`, `"max"`). For other aggregations that produce values outside of the raw data domain (e.g. `"count"`, `"sum"`), this property is ignored.',type:"boolean"}},type:"object"},ScaleFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},scale:{$ref:"#/definitions/Scale"},sort:{anyOf:[{$ref:"#/definitions/SortField"},{$ref:"#/definitions/SortOrder"}],description:'Sort order for a particular field.\nFor quantitative or temporal fields, this can be either `"ascending"` or `"descending"`\nFor quantitative or temporal fields, this can be `"ascending"`, `"descending"`, `"none"`, or a [sort field definition object](sort.html#sort-field) for sorting by an aggregate calculation of a specified sort field.\n\n__Default value:__ `"ascending"`'},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},ScaleType:{enum:["linear","bin-linear","log","pow","sqrt","time","utc","sequential","ordinal","bin-ordinal","point","band"],type:"string"},Scheme:{anyOf:[{type:"string"},{$ref:"#/definitions/ExtendedScheme"}]},SelectionConfig:{additionalProperties:!1,properties:{interval:{$ref:"#/definitions/BaseSelectionDef"},multi:{$ref:"#/definitions/BaseSelectionDef"},single:{$ref:"#/definitions/BaseSelectionDef"}},required:["single","multi","interval"],type:"object"},SelectionDef:{additionalProperties:!1,properties:{bind:{anyOf:[{enum:["scales"],type:"string"},{$ref:"#/definitions/VgBinding"},{additionalProperties:{$ref:"#/definitions/VgBinding"},type:"object"}]},encodings:{items:{$ref:"#/definitions/SingleDefChannel"},type:"array"},fields:{items:{type:"string"},type:"array"},nearest:{type:"boolean"},on:{},resolve:{$ref:"#/definitions/SelectionResolutions"},toggle:{type:["string","boolean"]},translate:{type:["string","boolean"]},type:{$ref:"#/definitions/SelectionTypes"},zoom:{type:["string","boolean"]}},required:["type"],type:"object"},SelectionDomain:{anyOf:[{additionalProperties:!1,properties:{field:{type:"string"},selection:{type:"string"}},required:["selection","field"],type:"object"},{additionalProperties:!1,properties:{encoding:{type:"string"},selection:{type:"string"}},required:["selection","encoding"],type:"object"}]},SelectionFilter:{additionalProperties:!1,properties:{selection:{$ref:"#/definitions/SelectionOperand",description:"Filter using a selection name."}},required:["selection"],type:"object"},SelectionResolutions:{enum:["global","independent","union","union_others","intersect","intersect_others"],type:"string"},SelectionTypes:{enum:["single","multi","interval"],type:"string"},SingleDefChannel:{enum:["x","y","x2","y2","row","column","size","shape","color","opacity","text","tooltip"],type:"string"},SortField:{additionalProperties:!1,properties:{field:{description:"The field name to aggregate over.",type:"string"},op:{$ref:"#/definitions/AggregateOp",description:"The sort aggregation operator"},order:{$ref:"#/definitions/SortOrder"}},required:["op"],type:"object"},SortOrder:{anyOf:[{enum:["ascending"],type:"string"},{enum:["descending"],type:"string"},{type:"null"}]},SpatialResolve:{additionalProperties:!1,properties:{axis:{$ref:"#/definitions/ResolveMode"},scale:{$ref:"#/definitions/ResolveMode"}},type:"object"},StackOffset:{enum:["zero","center","normalize","none"],type:"string"},Summarize:{additionalProperties:!1,properties:{aggregate:{$ref:"#/definitions/AggregateOp",description:"The aggregation operations to apply to the fields, such as sum, average or count. See the aggregate operation reference for more."},as:{description:"The output field names to use for each aggregated field.",type:"string"},field:{description:"The data field for which to compute aggregate function.",type:"string"}},required:["aggregate","field","as"],type:"object"},SummarizeTransform:{additionalProperties:!1,properties:{groupby:{description:"The data fields to group by. If not specified, a single group containing all data objects will be used.",items:{type:"string"},type:"array"},summarize:{description:"Array of objects that contains aggregate information for the transform.",items:{$ref:"#/definitions/Summarize"},type:"array"}},required:["summarize"],type:"object"},TextConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.",type:"boolean"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},TextFieldDef:{additionalProperties:!1,properties:{aggregate:{anyOf:[{$ref:"#/definitions/AggregateOp"},{$ref:"#/definitions/CompositeAggregate"}],description:"Aggregation function for the field\n(e.g., `mean`, `sum`, `median`, `min`, `max`, `count`).\n\n__Default value:__ `undefined` (None)"},bin:{anyOf:[{type:"boolean"},{$ref:"#/definitions/Bin"}],description:"Flag for binning a `quantitative` field, or a bin property object\nfor binning parameters."},field:{$ref:"#/definitions/Field",description:"__Required.__ Name of the field from which to pull a data value.\n\n__Note:__ `field` is not required if `aggregate` is `count`."},format:{description:"The formatting pattern for text value. If not defined, this will be determined automatically.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"Time unit for a `temporal` field  (e.g., `year`, `yearmonth`, `month`, `hour`).\n\n__Default value:__ `undefined` (None)"},type:{$ref:"#/definitions/Type",description:'The encoded field\'s type of measurement. This can be either a full type\nname (`"quantitative"`, `"temporal"`, `"ordinal"`,  and `"nominal"`)\nor an initial character of the type name (`"Q"`, `"T"`, `"O"`, `"N"`).\nThis property is case-insensitive.'}},required:["type"],type:"object"},TickConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},bandSize:{description:"The width of the ticks.\nIf this value is undefined (by default,), we use 2/3 of rangeStep by default.",minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},color:{description:'Default color.\n\n__Default value:__ <span style="color: #4682b4;">&#9632;</span> `"#4682b4"`',type:"string"},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},filled:{description:"Whether the mark's color should be used as fill color instead of stroke color.\n\n__Default value:__ `true` for all marks except `point` and `false` for `point`.\n\n__Applicable for:__ `bar`, `point`, `circle`, `square`, and `area` marks.",type:"boolean"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"},thickness:{description:"Thickness of the tick mark.\n\n__Default value:__  `1`",minimum:0,type:"number"}},type:"object"},TimeUnit:{enum:["year","month","day","date","hours","minutes","seconds","milliseconds","yearmonth","yearmonthdate","yearmonthdatehours","yearmonthdatehoursminutes","yearmonthdatehoursminutesseconds","monthdate","hoursminutes","hoursminutesseconds","minutesseconds","secondsmilliseconds","quarter","yearquarter","quartermonth","yearquartermonth","utcyear","utcmonth","utcday","utcdate","utchours","utcminutes","utcseconds","utcmilliseconds","utcyearmonth","utcyearmonthdate","utcyearmonthdatehours","utcyearmonthdatehoursminutes","utcyearmonthdatehoursminutesseconds","utcmonthdate","utchoursminutes","utchoursminutesseconds","utcminutesseconds","utcsecondsmilliseconds","utcquarter","utcyearquarter","utcquartermonth","utcyearquartermonth"],type:"string"},TimeUnitTransform:{additionalProperties:!1,properties:{as:{description:"The output field to write the timeUnit value.",type:"string"},field:{description:"The data field to apply time unit.",type:"string"},timeUnit:{$ref:"#/definitions/TimeUnit",description:"The timeUnit."}},required:["timeUnit","field","as"],type:"object"},TopLevelFacetedUnitSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},encoding:{$ref:"#/definitions/EncodingWithFacet",description:"A key-value mapping between encoding channels and definition of fields."},height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},mark:{$ref:"#/definitions/AnyMark",description:'A string describing the mark type (one of `"bar"`, `"circle"`, `"square"`, `"tick"`, `"line"`,\n`"area"`, `"point"`, `"rule"`, and `"text"`) or a [mark definition object](mark.html#mark-def).'},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},selection:{additionalProperties:{$ref:"#/definitions/SelectionDef"},description:"A key-value mapping between selection names and definitions.",type:"object"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},required:["encoding","mark"],type:"object"},TopLevelFacetedSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},facet:{$ref:"#/definitions/Facet"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/ResolveMapping"},spec:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["facet","spec"],type:"object"},TopLevelHConcatSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},hconcat:{items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["hconcat"],type:"object"},TopLevelLayerSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},height:{description:'The height of a visualization.\n\n__Default value:__\n- For y-axis with a continuous (non-ordinal) scale, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- For y-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the height is determined by the value of `rangeStep` and the cardinality of the field mapped to y-channel.   Otherwise, if the `rangeStep` is `"fit"`, the height will be the value of [`config.cell.height`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `height` will be the value of `rangeStep`.\n\n__Note__: For plot with `row` and `column` channels, this represents the height of a single cell.',type:"number"},layer:{description:"Unit specs that will be layered.",items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},width:{description:'The width of a visualization.\n\n__Default value:__ This will be determined by the following rules:\n\n- For x-axis with a continuous (non-ordinal) scale, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- For x-axis with an ordinal scale: if [`rangeStep`](scale.html#ordinal) is a numeric value (default), the width is determined by the value of `rangeStep` and the cardinality of the field mapped to x-channel.   Otherwise, if the `rangeStep` is `"fit"`, the width will be the value of [`config.cell.width`](config.html#cell-config).\n- If no field is mapped to `x` channel, the `width` will be the value of [`config.scale.textXRangeStep`](size.html#default-width-and-height) for `text` mark and the value of `rangeStep` for other marks.\n\n__Note__: For plot with `row` and `column` channels, this represents the width of a single cell.',type:"number"}},required:["layer"],type:"object"},TopLevelRepeatSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",
type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},repeat:{$ref:"#/definitions/Repeat"},resolve:{$ref:"#/definitions/ResolveMapping"},spec:{anyOf:[{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"}},required:["repeat","spec"],type:"object"},TopLevelVConcatSpec:{additionalProperties:!1,properties:{$schema:{type:"string"},autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},config:{$ref:"#/definitions/Config"},data:{$ref:"#/definitions/Data",description:"An object describing the data source"},description:{description:"An optional description of this mark for commenting purpose.",type:"string"},name:{description:"Name of the visualization for later reference.",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'},resolve:{$ref:"#/definitions/ResolveMapping"},transform:{description:"An array of data transformations such as filter and new field calculation.",items:{$ref:"#/definitions/Transform"},type:"array"},vconcat:{items:{anyOf:[{$ref:"#/definitions/LayerSpec"},{$ref:"#/definitions/RepeatSpec"},{$ref:"#/definitions/CompositeUnitSpec"}]},type:"array"}},required:["vconcat"],type:"object"},TopLevelExtendedSpec:{anyOf:[{$ref:"#/definitions/TopLevelFacetedUnitSpec"},{$ref:"#/definitions/TopLevelLayerSpec"},{$ref:"#/definitions/TopLevelFacetedSpec"},{$ref:"#/definitions/TopLevelRepeatSpec"},{$ref:"#/definitions/TopLevelVConcatSpec"},{$ref:"#/definitions/TopLevelHConcatSpec"}]},TopLevelProperties:{additionalProperties:!1,properties:{autoResize:{description:"Resize is a boolean indicating if autosize layout should be re-calculated on every update.",type:"boolean"},background:{description:"CSS color property to use as the background of visualization.\n\n__Default value:__ none (transparent)",type:"string"},padding:{$ref:"#/definitions/Padding",description:'The default visualization padding, in pixels, from the edge of the visualization canvas to the data rectangle. This can be a single number or an object with `"top"`, `"left"`, `"right"`, `"bottom"` properties.\n\n__Default value__: `5`'}},type:"object"},Transform:{anyOf:[{$ref:"#/definitions/FilterTransform"},{$ref:"#/definitions/CalculateTransform"},{$ref:"#/definitions/LookupTransform"},{$ref:"#/definitions/BinTransform"},{$ref:"#/definitions/TimeUnitTransform"},{$ref:"#/definitions/SummarizeTransform"}]},Type:{description:"Constants and utilities for data type  \n Data type based on level of measurement ",enum:["quantitative","ordinal","temporal","nominal"],type:"string"},UrlData:{additionalProperties:!1,properties:{format:{$ref:"#/definitions/DataUrlFormat",description:'Type of input data: `"json"`, `"csv"`, `"tsv"`. The default format type is determined by the extension of the file URL. If no extension is detected, `"json"` will be used by default.'},url:{description:"An URL from which to load the data set. Use the `format.type` property\nto ensure the loaded data is correctly parsed.",type:"string"}},required:["url"],type:"object"},VLOnlyConfig:{additionalProperties:!1,properties:{cell:{$ref:"#/definitions/CellConfig",description:"Cell Config "},countTitle:{description:"Default axis and legend title for count fields.\n\n__Default value:__ `'Number of Records'`.",type:"string"},facet:{$ref:"#/definitions/FacetConfig",description:"Facet Config "},filterInvalid:{description:"Whether to filter invalid values (`null` and `NaN`) from the data.\n- By default (`undefined`), only quantitative and temporal fields are filtered.\n- If set to `true`, all data items with null values are filtered.\n- If `false`, all data items are included. In this case, null values will be interpreted as zeroes.",type:"boolean"},numberFormat:{description:'D3 Number format for axis labels and text tables. For example "s" for SI units.(in the form of [D3 number format pattern](https://github.com/mbostock/d3/wiki/Formatting)).\n\n__Default value:__ `"s"` (except for text marks that encode a count field, the default value is `"d"`).',type:"string"},overlay:{$ref:"#/definitions/OverlayConfig",description:"Mark Overlay Config "},scale:{$ref:"#/definitions/ScaleConfig",description:"Scale Config "},selection:{$ref:"#/definitions/SelectionConfig",description:"Selection Config "},stack:{$ref:"#/definitions/StackOffset",description:"Default stack offset for stackable mark. "},timeFormat:{description:"Default datetime format for axis and legend labels. The format can be set directly on each axis and legend. [D3 time format pattern](https://github.com/mbostock/d3/wiki/Time-Formatting)).\n\n__Default value:__ `'%b %d, %Y'`.",type:"string"}},type:"object"},TextValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:"A constant value in visual domain.",type:["string","number","boolean"]}},required:["value"],type:"object"},ValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:"A constant value in visual domain."}},required:["value"],type:"object"},NumberValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:"A constant value in visual domain.",type:"number"}},required:["value"],type:"object"},StringValueDef:{additionalProperties:!1,description:"Definition object for a constant value of an encoding channel.",properties:{value:{description:"A constant value in visual domain.",type:"string"}},required:["value"],type:"object"},VerticalAlign:{enum:["top","middle","bottom"],type:"string"},VgAxisBase:{additionalProperties:!1,description:"Base object for Vega's Axis and Axis Config.\nAll of these properties are both properties of Vega's Axis and Axis Config.",properties:{domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.",type:"number"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"}},type:"object"},VgAxisConfig:{additionalProperties:!1,properties:{bandPosition:{description:"An interpolation fraction indicating where, for `band` scales, axis ticks should be positioned. A value of `0` places ticks at the left edge of their bands. A value of `0.5` places ticks in the middle of their bands.",type:"number"},domain:{description:"A boolean flag indicating if the domain (the axis baseline) should be included as part of the axis (default true).",type:"boolean"},domainColor:{description:"Color of axis domain line.\n\n__Default value:__  (none, using Vega default).",type:"string"},domainWidth:{description:"Stroke width of axis domain line\n\n__Default value:__  (none, using Vega default).",type:"number"},grid:{description:'A boolean flag indicating if grid lines should be included as part of the axis\n\n__Default value:__ `true` for (1) quantitative fields that are not binned and (2) time fields;  otherwise, `"false"`.',type:"boolean"},gridColor:{description:"Color of gridlines.",type:"string"},gridDash:{description:"The offset (in pixels) into which to begin drawing with the grid dash array.",items:{type:"number"},minimum:0,type:"array"},gridOpacity:{description:"The stroke opacity of grid (value between [0,1])\n\n__Default value:__ (`1` by default)",maximum:1,minimum:0,type:"number"},gridWidth:{description:"The grid width, in pixels.",minimum:0,type:"number"},labelAngle:{description:"The rotation angle of the axis labels.\n\n__Default value:__ `-45` for time or ordinal axis and `0` otherwise.",maximum:360,minimum:-360,type:"number"},labelColor:{description:"The color of the tick label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the tick label.",type:"string"},labelFontSize:{description:"The font size of the label, in pixels.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelPadding:{description:"Padding in pixels between axis ticks and tick labels.",type:"number"},labels:{description:"A boolean flag indicating if labels should be included as part of the axis (default true).\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `labels` (`true` by default).",type:"boolean"},maxExtent:{description:"The maximum extent in pixels that axis ticks and labels should use. This determines a maximum offset value for axis titles.",type:"number"},minExtent:{description:"The minimum extent in pixels that axis ticks and labels should use. This determines a minimum offset value for axis titles.",type:"number"},tickColor:{description:"The color of the axis's tick.",type:"string"},tickExtra:{description:'Boolean flag indicating if an extra axis tick should be added for the initial position of the axis. This flag is useful for styling axes for `band` scales such that ticks are placed on band boundaries rather in the middle of a band. Use in conjunction with `"bandPostion": 1` and an axis `"padding"` value of `0`.',type:"boolean"},tickRound:{description:"Boolean flag indicating if pixel position values should be rounded to the nearest integer.",type:"boolean"},tickSize:{description:"The size, in pixels, of major, minor and end ticks.\n\n__Default value:__  derived from [axis config](config.html#axis-config)'s `tickSize` (`6` by default).",minimum:0,type:"number"},tickWidth:{description:"The width, in pixels, of ticks.",minimum:0,type:"number"},ticks:{description:"Boolean value that determines whether the axis should include ticks.",type:"boolean"},titleAlign:{description:"Horizontal text alignment of axis titles.",type:"string"},titleAngle:{description:"Angle in degrees of axis titles.",type:"number"},titleBaseline:{description:"Vertical text baseline for axis titles.",type:"string"},titleColor:{description:"Color of the title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:'Font of the title. (e.g., `"Helvetica Neue"`).',type:"string"},titleFontSize:{description:"Font size of the title.\n\n__Default value:__ `10`.",minimum:0,type:"number"},titleFontWeight:{description:'Font weight of the title. (e.g., `"bold"`).',type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titleMaxLength:{description:"Max length for axis title if the title is automatically generated from the field's description. By default, this is automatically based on cell size and characterWidth property.\n\n__Default value:__  automatically determined based on the cell size (`config.cell.width`, `config.cell.height`)",minimum:0,type:"number"},titlePadding:{description:"The padding, in pixels, between title and axis.",type:"number"},titleX:{description:"X-coordinate of the axis title relative to the axis group.",type:"number"},titleY:{description:"Y-coordinate of the axis title relative to the axis group.",type:"number"}},type:"object"},VgBinding:{anyOf:[{$ref:"#/definitions/VgCheckboxBinding"},{$ref:"#/definitions/VgRadioBinding"},{$ref:"#/definitions/VgSelectBinding"},{$ref:"#/definitions/VgRangeBinding"},{$ref:"#/definitions/VgGenericBinding"}]},VgCheckboxBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["checkbox"],type:"string"}},required:["input"],type:"object"},VgGenericBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{type:"string"}},required:["input"],type:"object"},VgLegendBase:{additionalProperties:!1,properties:{entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`',enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"}},type:"object"},VgLegendConfig:{additionalProperties:!1,properties:{cornerRadius:{description:"Corner radius for the full legend.",type:"number"},entryPadding:{description:"Padding (in pixels) between legend entries in a symbol legend.",type:"number"},fillColor:{description:"Background fill color for the full legend.",type:"string"},gradientHeight:{description:"The height of the gradient, in pixels.",minimum:0,type:"number"},gradientLabelBaseline:{description:"Text baseline for color ramp gradient labels.",type:"string"},gradientLabelLimit:{description:"The maximum allowed length in pixels of color ramp gradient labels.",type:"number"},gradientLabelOffset:{description:"Vertical offset in pixels for color ramp gradient labels.",type:"number"},gradientStrokeColor:{description:"The color of the gradient stroke, can be in hex color code or regular color name.",type:"string"},gradientStrokeWidth:{description:"The width of the gradient stroke, in pixels.",minimum:0,type:"number"},gradientWidth:{description:"The width of the gradient, in pixels.",minimum:0,type:"number"},labelAlign:{description:"The alignment of the legend label, can be left, middle or right.",type:"string"},labelBaseline:{description:"The position of the baseline of legend label, can be top, middle or bottom.",type:"string"},labelColor:{description:"The color of the legend label, can be in hex color code or regular color name.",type:"string"},labelFont:{description:"The font of the legend label.",type:"string"},labelFontSize:{description:"The font size of legend label.\n\n__Default value:__ `10`.",minimum:0,type:"number"},labelLimit:{description:"Maximum allowed pixel width of axis tick labels.",type:"number"},labelOffset:{description:"The offset of the legend label.",minimum:0,type:"number"},offset:{description:"The offset, in pixels, by which to displace the legend from the edge of the enclosing group or data rectangle.\n\n__Default value:__  `0`",type:"number"},orient:{description:'The orientation of the legend. One of `"left"` or `"right"`. This determines how the legend is positioned within the scene. The default is `"right"`.\n\n__Default value:__  `"right"`',enum:["left","right","top-left","top-right","bottom-left","bottom-right","none"],type:"string"},padding:{description:"The padding, in pixels, between the legend and axis.",type:"number"},strokeColor:{description:"Border stroke color for the full legend.",type:"string"},strokeDash:{description:"Border stroke dash pattern for the full legend.",items:{type:"number"},type:"array"},strokeWidth:{description:"Border stroke width for the full legend.",type:"number"},symbolColor:{description:"The color of the legend symbol,",type:"string"},symbolSize:{description:"The size of the legend symbol, in pixels.",minimum:0,type:"number"},symbolStrokeWidth:{description:"The width of the symbol's stroke.",minimum:0,type:"number"},symbolType:{description:'Default shape type (such as "circle") for legend symbols.',type:"string"},titleAlign:{description:"Horizontal text alignment for legend titles.",type:"string"},titleBaseline:{description:"Optional mark property definitions for custom legend styling. \n Vertical text baseline for legend titles.",type:"string"},titleColor:{description:"The color of the legend title, can be in hex color code or regular color name.",type:"string"},titleFont:{description:"The font of the legend title.",type:"string"},titleFontSize:{description:"The font size of the legend title.",type:"number"},titleFontWeight:{description:"The font weight of the legend title.",type:["string","number"]},titleLimit:{description:"Maximum allowed pixel width of axis titles.",type:"number"},titlePadding:{description:"The padding, in pixels, between title and legend.",type:"number"}},type:"object"},VgMarkConfig:{additionalProperties:!1,properties:{align:{$ref:"#/definitions/HorizontalAlign",description:'The horizontal alignment of the text. One of `"left"`, `"right"`, `"center"`.'},angle:{description:"The rotation angle of the text, in degrees.",maximum:360,minimum:0,type:"number"},baseline:{$ref:"#/definitions/VerticalAlign",description:'The vertical alignment of the text. One of `"top"`, `"middle"`, `"bottom"`.\n\n__Default value:__ `"middle"`'},dx:{description:"The horizontal offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},dy:{description:"The vertical offset, in pixels, between the text label and its anchor point. The offset is applied after rotation by the _angle_ property.",type:"number"},fill:{description:"Default Fill Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},fillOpacity:{description:"The fill opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},font:{description:'The typeface to set the text in (e.g., `"Helvetica Neue"`).',minimum:0,type:"string"},fontSize:{description:"The font size, in pixels.",minimum:0,type:"number"},fontStyle:{$ref:"#/definitions/FontStyle",description:'The font style (e.g., `"italic"`).'},fontWeight:{anyOf:[{$ref:"#/definitions/FontWeight"},{$ref:"#/definitions/FontWeightNumber"}],description:'The font weight (e.g., `"bold"`).'},interpolate:{$ref:"#/definitions/Interpolate",description:'The line interpolation method to use for line and area marks. One of the following:\n- `"linear"`: piecewise linear segments, as in a polyline.\n- `"linear-closed"`: close the linear segments to form a polygon.\n- `"step"`: alternate between horizontal and vertical segments, as in a step function.\n- `"step-before"`: alternate between vertical and horizontal segments, as in a step function.\n- `"step-after"`: alternate between horizontal and vertical segments, as in a step function.\n- `"basis"`: a B-spline, with control point duplication on the ends.\n- `"basis-open"`: an open B-spline; may not intersect the start or end.\n- `"basis-closed"`: a closed B-spline, as in a loop.\n- `"cardinal"`: a Cardinal spline, with control point duplication on the ends.\n- `"cardinal-open"`: an open Cardinal spline; may not intersect the start or end, but will intersect other control points.\n- `"cardinal-closed"`: a closed Cardinal spline, as in a loop.\n- `"bundle"`: equivalent to basis, except the tension parameter is used to straighten the spline.\n- `"monotone"`: cubic interpolation that preserves monotonicity in y.'},opacity:{description:"The overall opacity (value between [0,1]).\n\n__Default value:__ `0.7` for non-aggregate plots with `point`, `tick`, `circle`, or `square` marks or layered `bar` charts and `1` otherwise.",maximum:1,minimum:0,type:"number"},orient:{$ref:"#/definitions/Orient",description:"The orientation of a non-stacked bar, tick, area, and line charts.\nThe value is either horizontal (default) or vertical.\n- For bar, rule and tick, this determines whether the size of the bar and tick\nshould be applied to x or y dimension.\n- For area, this property determines the orient property of the Vega output.\n- For line, this property determines the sort order of the points in the line\nif `config.sortLineBy` is not specified.\nFor stacked charts, this is always determined by the orientation of the stack;\ntherefore explicitly specified value will be ignored."},radius:{description:"Polar coordinate radial offset, in pixels, of the text label from the origin determined by the `x` and `y` properties.",minimum:0,type:"number"},shape:{description:'The default symbol shape to use. One of: `"circle"` (default), `"square"`, `"cross"`, `"diamond"`, `"triangle-up"`, or `"triangle-down"`, or a custom SVG path.\n\n__Default value:__ `"circle"`',type:"string"},size:{description:"The pixel area each the point/circle/square.\nFor example: in the case of circles, the radius is determined in part by the square root of the size value.\n\n__Default value:__ `30`",minimum:0,type:"number"},stroke:{description:"Default Stroke Color.  This has higher precedence than config.color\n\n__Default value:__ (None)",type:"string"},strokeDash:{description:"An array of alternating stroke, space lengths for creating dashed or dotted lines.",items:{type:"number"},type:"array"},strokeDashOffset:{description:"The offset (in pixels) into which to begin drawing with the stroke dash array.",type:"number"},strokeOpacity:{description:"The stroke opacity (value between [0,1]).\n\n__Default value:__ `1`",maximum:1,minimum:0,type:"number"},strokeWidth:{description:"The stroke width, in pixels.",minimum:0,type:"number"},tension:{description:"Depending on the interpolation type, sets the tension parameter (for line and area marks).",maximum:1,minimum:0,type:"number"},text:{description:"Placeholder text if the `text` channel is not specified",type:"string"},theta:{description:'Polar coordinate angle, in radians, of the text label from the origin determined by the `x` and `y` properties. Values for `theta` follow the same convention of `arc` mark `startAngle` and `endAngle` properties: angles are measured in radians, with `0` indicating "north".',type:"number"}},type:"object"},VgRadioBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["radio"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgRangeBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["range"],type:"string"},max:{type:"number"},min:{type:"number"},step:{type:"number"}},required:["input"],type:"object"},VgRangeScheme:{additionalProperties:!1,properties:{count:{type:"number"},extent:{items:{type:"number"},type:"array"},scheme:{type:"string"}},required:["scheme"],type:"object"},VgSelectBinding:{additionalProperties:!1,properties:{element:{type:"string"},input:{enum:["select"],type:"string"},options:{items:{type:"string"},type:"array"}},required:["input","options"],type:"object"},VgTitleConfig:{additionalProperties:!1,properties:{anchor:{description:'Title anchor position (`"start"`, `"middle"`, or `"end"`).',type:"string"},angle:{description:"Angle in degrees of title text.",type:"number"},baseline:{description:"Vertical text baseline for title text.",type:"string"},color:{description:"Text color for title text.",type:"string"},font:{description:"Font name for title text.",type:"string"},fontSize:{description:"Font size in pixels for title text.\n\n__Default value:__ `10`.",minimum:0,type:"number"},fontWeight:{description:"Font weight for title text.",type:["string","number"]},limit:{description:"The maximum allowed length in pixels of legend labels.",minimum:0,type:"number"},offset:{description:"Offset in pixels of the title from the chart body and axes.",type:"number"},orient:{description:'Default title orientation ("top", "bottom", "left", or "right")',type:"string"}},type:"object"},VlOnlyGuideConfig:{additionalProperties:!1,properties:{shortTimeLabels:{description:"Whether month names and weekday names should be abbreviated.\n\n__Default value:__  `false`",type:"boolean"}},type:"object"}}}},function(e,t,n){var r=n(449),i=r.Symbol;e.exports=i},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){m&&p&&(m=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!m){var e=i(o);m=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,m=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||m||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(t){return y=t,v}}function a(e,t){try{return e(t)}catch(n){return y=n,v}}function o(e,t,n){try{e(t,n)}catch(r){return y=r,v}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,e!==r&&m(e,this)}function u(e,t,n){return new e.constructor(function(i,a){var o=new s(r);o.then(i,a),l(e,new h(t,n,o))})}function l(e,t){for(;3===e._81;)e=e._65;return s._10&&s._10(e),0===e._81?0===e._45?(e._45=1,void(e._54=t)):1===e._45?(e._45=2,void(e._54=[e._54,t])):void e._54.push(t):void c(e,t)}function c(e,t){g(function(){var n=1===e._81?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._81?f(t.promise,e._65):d(t.promise,e._65));var r=a(n,e._65);r===v?d(t.promise,y):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=i(t);if(n===v)return d(e,y);if(n===e.then&&t instanceof s)return e._81=3,e._65=t,void p(e);if("function"==typeof n)return void m(n.bind(t),e)}e._81=1,e._65=t,p(e)}function d(e,t){e._81=2,e._65=t,s._97&&s._97(e,t),p(e)}function p(e){if(1===e._45&&(l(e,e._54),e._54=null),2===e._45){for(var t=0;t<e._54.length;t++)l(e,e._54[t]);e._54=null}}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1,r=o(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==v||(n=!0,d(t,y))}var g=n(335),y=null,v={};e.exports=s,s._10=null,s._97=null,s._61=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return l(this,new h(e,t,n)),n}},function(e,t,n){"use strict";var r=n(456);e.exports=function(e){var t=!1;return r(e,t)}},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,
borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},o={isUnitlessNumber:r,shorthandPropertyExpansions:a};e.exports=o},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),a=n(53),o=(n(4),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=a.addPoolingTo(o)},function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var a=n(67),o=(n(17),n(36),n(523)),s=(n(9),new RegExp("^["+a.ATTRIBUTE_NAME_START_CHAR+"]["+a.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+o(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(a.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,a=u.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<a.length;i++){var o=r.hasOwnProperty(a[i].value);a[i].selected!==o&&(a[i].selected=o)}}else{for(r=""+n,i=0;i<a.length;i++)if(a[i].value===r)return void(a[i].selected=!0);a.length&&(a[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var o=n(20),s=n(146),u=n(17),l=n(41),c=(n(9),!1),f={getHostProps:function(e,t){return o({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=f},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=r,e.exports=i},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(e){return s?void 0:o("111",e.type),new s(e)}function i(e){return new u(e)}function a(e){return e instanceof u}var o=n(10),s=(n(4),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:i,isTextComponent:a,injection:l};e.exports=c},function(e,t,n){"use strict";function r(e){return a(document.documentElement,e)}var i=n(483),a=n(384),o=n(207),s=n(208),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),o(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",r-n),a.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===N?e.documentElement:e.firstChild:null}function a(e){return e.getAttribute&&e.getAttribute(A)||""}function o(e,t,n,r,i){var a;if(x.logTopLevelRenders){var o=e._currentElement.props.child,s=o.type;a="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(a)}var u=O.mountComponent(e,n,null,b(e,t),i,0);a&&console.timeEnd(a),e._renderedComponent._topLevelWrapper=e,z._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var i=E.ReactReconcileTransaction.getPooled(!n&&_.useCreateElement);i.perform(o,null,e,t,i,n,r),E.ReactReconcileTransaction.release(i)}function u(e,t,n){for(O.unmountComponent(e,n),t.nodeType===N&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=i(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==N&&e.nodeType!==I)}function f(e){var t=i(e),n=t&&v.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=f(e);return t?t._hostContainerInfo._topLevelWrapper:null}var p=n(10),h=n(66),m=n(67),g=n(71),y=n(106),v=(n(47),n(17)),b=n(477),_=n(479),x=n(229),S=n(84),w=(n(36),n(493)),O=n(68),k=n(149),E=n(41),M=n(103),T=n(240),P=(n(4),n(110)),C=n(155),A=(n(9),m.ID_ATTRIBUTE_NAME),D=m.ROOT_ATTRIBUTE_NAME,R=1,N=9,I=11,F={},L=1,j=function(){this.rootID=L++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var z={TopLevelWrapper:j,_instancesByReactRootID:F,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return z.scrollMonitor(r,function(){k.enqueueElementInternal(e,t,n),i&&k.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:p("37"),y.ensureScrollValueMonitoring();var i=T(e,!1);E.batchedUpdates(s,i,t,n,r);var a=i._instance.rootID;return F[a]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&S.has(e)?void 0:p("38"),z._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){k.validateCallback(r,"ReactDOM.render"),g.isValidElement(t)?void 0:p("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var o,s=g.createElement(j,{child:t});if(e){var u=S.get(e);o=u._processChildContext(u._context)}else o=M;var c=d(n);if(c){var f=c._currentElement,h=f.props.child;if(C(h,t)){var m=c._renderedComponent.getPublicInstance(),y=r&&function(){r.call(m)};return z._updateRootComponent(c,s,o,n,y),m}z.unmountComponentAtNode(n)}var v=i(n),b=v&&!!a(v),_=l(n),x=b&&!c&&!_,w=z._renderNewRootComponent(s,n,x,o)._renderedComponent.getPublicInstance();return r&&r.call(w),w},render:function(e,t,n){return z._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:p("40");var t=d(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(D);return!1}return delete F[t._instance.rootID],E.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,a,o){if(c(t)?void 0:p("41"),a){var s=i(t);if(w.canReuseMarkup(e,s))return void v.precacheNode(n,s);var u=s.getAttribute(w.CHECKSUM_ATTR_NAME);s.removeAttribute(w.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(w.CHECKSUM_ATTR_NAME,u);var f=e,d=r(f,l),m=" (client) "+f.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===N?p("42",m):void 0}if(t.nodeType===N?p("43"):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else P(t,e),v.precacheNode(n,t.firstChild)}};e.exports=z},function(e,t,n){"use strict";var r=n(10),i=n(71),a=(n(4),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?a.EMPTY:i.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.HOST:void r("26",e)}});e.exports=a},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(10);n(4);e.exports=r},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(233);e.exports=r},function(e,t,n){"use strict";function r(){return!a&&i.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var i=n(25),a=null;e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function i(e){return e._wrapperState.valueTracker}function a(e,t){e._wrapperState.valueTracker=t}function o(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var u=n(17),l={_getTrackerFromNode:function(e){return i(u.getInstanceFromNode(e))},track:function(e){if(!i(e)){var t=u.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){l=""+e,s.set.call(this,e)}}),a(e,{getValue:function(){return l},setValue:function(e){l=""+e},stopTracking:function(){o(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=i(e);if(!t)return l.track(e),!0;var n=t.getValue(),r=s(u.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=i(e);t&&t.stopTracking()}};e.exports=l},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function a(e,t){var n;if(null===e||e===!1)n=l.create(a);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var d="";d+=r(s._owner),o("130",null==u?u:typeof u,d)}"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new f(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):o("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var o=n(10),s=n(20),u=n(474),l=n(228),c=n(230),f=(n(566),n(4),n(9),function(e){this.construct(e)});s(f.prototype,u,{_instantiateReactComponent:a}),e.exports=a},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(25),i=n(109),a=n(110),o=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(o=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void a(e,i(t))})),e.exports=o},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,a){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(a,e,""===t?c+r(e,0):t),1;var p,h,m=0,g=""===t?c:t+f;if(Array.isArray(e))for(var y=0;y<e.length;y++)p=e[y],h=g+r(p,y),m+=i(p,h,n,a);else{var v=u(e);if(v){var b,_=v.call(e);if(v!==e.entries)for(var x=0;!(b=_.next()).done;)p=b.value,h=g+r(p,x++),m+=i(p,h,n,a);else for(;!(b=_.next()).done;){var S=b.value;S&&(p=S[1],h=g+l.escape(S[0])+f+r(p,0),m+=i(p,h,n,a))}}else if("object"===d){var w="",O=String(e);o("31","[object Object]"===O?"object with keys {"+Object.keys(e).join(", ")+"}":O,w)}}return m}function a(e,t,n){return null==e?0:i(e,"",t,n)}var o=n(10),s=(n(47),n(489)),u=n(520),l=(n(4),n(145)),c=(n(9),"."),f=":";e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(14),f=r(c),d=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.__current_value=e.value,n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.afterViewInit()}},{key:"componentWillUnmount",value:function(){this.destroyMonaco()}},{key:"componentDidUpdate",value:function(e){var t=this.props.context||window;this.props.value!==this.__current_value&&(this.__current_value=this.props.value,this.editor&&(this.__prevent_trigger_change_event=!0,this.editor.setValue(this.__current_value),this.__prevent_trigger_change_event=!1)),e.language!==this.props.language&&t.monaco.editor.setModelLanguage(this.editor.getModel(),this.props.language)}},{key:"editorWillMount",value:function e(t){var e=this.props.editorWillMount;e(t)}},{key:"editorDidMount",value:function e(t,n){var r=this,i=this.props,e=i.editorDidMount,a=i.onChange;e(t,n),t.onDidChangeModelContent(function(e){var n=t.getValue();r.__current_value=n,r.__prevent_trigger_change_event||a(n,e)})}},{key:"afterViewInit",value:function(){var e=this,t=this.props.requireConfig,n=t.url||"vs/loader.js",r=this.props.context||window,i=function(){if(r.__REACT_MONACO_EDITOR_LOADER_ISPENDING__&&t.paths&&t.paths.vs&&r.require.config(t),r.require(["vs/editor/editor.main"],function(){e.initMonaco()}),r.__REACT_MONACO_EDITOR_LOADER_ISPENDING__){r.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!1;var n=r.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__;if(n&&n.length)for(var i=n.shift();i;)i.fn.call(i.context),i=n.shift()}};if(r.__REACT_MONACO_EDITOR_LOADER_ISPENDING__)r.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__=r.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__||[],r.__REACT_MONACO_EDITOR_LOADER_CALLBACKS__.push({context:this,fn:i});else if("undefined"==typeof r.require){var a=r.document.createElement("script");a.type="text/javascript",a.src=n,a.addEventListener("load",i),r.document.body.appendChild(a),r.__REACT_MONACO_EDITOR_LOADER_ISPENDING__=!0}else i()}},{key:"initMonaco",value:function(){var e=null!==this.props.value?this.props.value:this.props.defaultValue,t=this.props,n=t.language,r=t.theme,i=t.options,a=this.refs.container,o=this.props.context||window;a&&"undefined"!=typeof o.monaco&&(this.editorWillMount(o.monaco),this.editor=o.monaco.editor.create(a,u({value:e,language:n,theme:r},i)),this.editorDidMount(this.editor,o.monaco))}},{key:"destroyMonaco",value:function(){"undefined"!=typeof this.editor&&this.editor.dispose()}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=t.toString().indexOf("%")!==-1?t:t+"px",i=n.toString().indexOf("%")!==-1?n:n+"px",a={width:r,height:i};return f.default.createElement("div",{ref:"container",style:a,className:"react-monaco-editor-container"})}}]),t}(f.default.Component);d.propTypes={width:c.PropTypes.oneOfType([f.default.PropTypes.string,f.default.PropTypes.number]),height:c.PropTypes.oneOfType([f.default.PropTypes.string,f.default.PropTypes.number]),value:c.PropTypes.string,defaultValue:c.PropTypes.string,language:c.PropTypes.string,theme:c.PropTypes.string,options:c.PropTypes.object,editorDidMount:c.PropTypes.func,editorWillMount:c.PropTypes.func,onChange:c.PropTypes.func,requireConfig:c.PropTypes.object},d.defaultProps={width:"100%",height:"100%",value:null,defaultValue:"",language:"javascript",theme:"vs",options:{},editorDidMount:s,editorWillMount:s,onChange:s,requireConfig:{}},t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function l(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(a){n.shouldComponentUpdate=!0,n.error=a}}};return n}function c(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=r.getDisplayName,d=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,h=r.methodName,y=void 0===h?"connectAdvanced":h,S=r.renderCountProp,w=void 0===S?void 0:S,O=r.shouldHandleStateChanges,k=void 0===O||O,E=r.storeKey,M=void 0===E?"store":E,T=r.withRef,P=void 0!==T&&T,C=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),A=M+"Subscription",D=_++,R=(t={},t[M]=b.storeShape,t[A]=b.subscriptionShape,t),N=(n={},n[A]=b.subscriptionShape,n);return function(t){(0,m.default)("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=d(n),s=f({},C,{getDisplayName:d,methodName:y,renderCountProp:w,shouldHandleStateChanges:k,storeKey:M,withRef:P,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){i(this,c);var o=a(this,n.call(this,e,t));return o.version=D,o.state={},o.renderCount=0,o.store=e[M]||t[M],o.propsMode=Boolean(e[M]),o.setWrappedInstance=o.setWrappedInstance.bind(o),(0,m.default)(o.store,'Could not find "'+M+'" in either the context or props of '+('"'+r+'". Either wrap the root component in a <Provider>, ')+('or explicitly pass "'+M+'" as a prop to "'+r+'".')),o.initSelector(),o.initSubscription(),o}return o(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[A]=t||this.context[A],e},c.prototype.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,m.default)(P,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+y+"() call.")),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=l(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[A];this.subscription=new v.default(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(x)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(P||w||this.propsMode&&this.subscription))return e;var t=f({},e);return P&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[A]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,g.createElement)(t,this.addExtraProps(e.props))},c}(g.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=N,c.contextTypes=R,c.propTypes=R,(0,p.default)(c,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c;var d=n(212),p=r(d),h=n(22),m=r(h),g=n(14),y=n(533),v=r(y),b=n(247),_=0,x={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function a(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function o(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=a(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=a(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=a,t.wrapMapToPropsFunc=o;var s=n(248);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=void 0;var i=n(19),a=r(i);t.subscriptionShape=a.default.shape({trySubscribe:a.default.func.isRequired,tryUnsubscribe:a.default.func.isRequired,notifyNestedSubs:a.default.func.isRequired,isSubscribed:a.default.func.isRequired}),t.storeShape=a.default.shape({subscribe:a.default.func.isRequired,dispatch:a.default.func.isRequired,getState:a.default.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,o.default)(e)||(0,u.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=i;var a=n(139),o=r(a),s=n(157),u=r(s)},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return{type:r,payload:{method:e,args:n}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=t.push=n("push"),a=t.replace=n("replace"),o=t.go=n("go"),s=t.goBack=n("goBack"),u=t.goForward=n("goForward");t.routerActions={push:i,replace:a,go:o,goBack:s,goForward:u}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;return n===i?r({},e,{locationBeforeTransitions:o}):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.routerReducer=n;var i=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",a={locationBeforeTransitions:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){return 0===e.button}function o(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){return"function"==typeof e?e(t.location):e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(14),f=r(c),d=n(44),p=r(d),h=n(19),m=n(22),g=r(m),y=n(160),v=n(159),b=(0,p.default)({displayName:"Link",mixins:[(0,v.ContextSubscriber)("router")],contextTypes:{router:y.routerShape},propTypes:{to:(0,h.oneOfType)([h.string,h.object,h.func]),activeStyle:h.object,activeClassName:h.string,onlyActiveOnIndex:h.bool.isRequired,onClick:h.func,target:h.string},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented){var t=this.context.router;t?void 0:(0,g.default)(!1),!o(e)&&a(e)&&(this.props.target||(e.preventDefault(),t.push(u(this.props.to,t))))}},render:function(){var e=this.props,t=e.to,n=e.activeClassName,r=e.activeStyle,a=e.onlyActiveOnIndex,o=i(e,["to","activeClassName","activeStyle","onlyActiveOnIndex"]),c=this.context.router;if(c){if(!t)return f.default.createElement("a",o);var d=u(t,c);o.href=c.createHref(d),(n||null!=r&&!s(r))&&c.isActive(d,a)&&(n&&(o.className?o.className+=" "+n:o.className=n),r&&(o.style=l({},o.style,r)))}return f.default.createElement("a",l({},o,{onClick:this.handleClick}))}});t.default=b,e.exports=t.default},function(e,t){"use strict";function n(e){return e&&"function"==typeof e.then}t.__esModule=!0,t.isPromise=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(44),a=r(i),o=n(19),s=n(22),u=r(s),l=n(51),c=n(69),f=n(86),d=(0,a.default)({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,l.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,i=e.params,a=void 0;if("/"===t.to.charAt(0))a=(0,c.formatPattern)(t.to,i);else if(t.to){var o=e.routes.indexOf(t),s=d.getRoutePattern(e.routes,o-1),u=s.replace(/\/*$/,"/")+t.to;a=(0,c.formatPattern)(u,i)}else a=r.pathname;n({pathname:a,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],a=i.path||"";if(n=a.replace(/\/*$/,"/")+n,0===a.indexOf("/"))break}return"/"+n}},propTypes:{path:o.string,from:o.string,to:o.string.isRequired,query:o.object,state:o.object,onEnter:f.falsy,children:f.falsy},render:function(){(0,u.default)(!1)}});t.default=d,e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var a=i({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive});return r(a,n)}function r(e,t){var n=t.location,r=t.params,i=t.routes;return e.location=n,e.params=r,e.routes=i,e}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=n,t.assignRouterState=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,c.default)(e),n=function(){return t},r=(0,o.default)((0,u.default)(n))(e);return r}t.__esModule=!0,t.default=i;var a=n(211),o=r(a),s=n(210),u=r(s),l=n(399),c=r(l);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0;return s&&(t=(0,o.default)(e)()),t}t.__esModule=!0,t.default=i;var a=n(258),o=r(a),s=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function a(e,t){function n(t,n){return t=e.createLocation(t),(0,p.default)(t,n,b.location,b.routes,b.params)}function r(e,n){O&&O.location===e?a(O,n):(0,y.default)(t,e,function(t,r){t?n(t):r?a(o({},r,{location:e}),n):n()})}function a(e,t){function n(n,i){return n||i?r(n,i):void(0,m.default)(e,function(n,r){n?t(n):t(null,null,b=o({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var i=(0,l.default)(b,e),a=i.leaveRoutes,s=i.changeRoutes,u=i.enterRoutes;
w(a,b),a.filter(function(e){return u.indexOf(e)===-1}).forEach(h),S(s,b,e,function(t,i){return t||i?r(t,i):void x(u,e,n)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.__id__||t&&(e.__id__=k++)}function u(e){return e.map(function(e){return E[s(e)]}).filter(function(e){return e})}function c(e,n){(0,y.default)(t,e,function(t,r){if(null==r)return void n();O=o({},r,{location:e});for(var i=u((0,l.default)(b,O).leaveRoutes),a=void 0,s=0,c=i.length;null==a&&s<c;++s)a=i[s](e);n(a)})}function d(){if(b.routes){for(var e=u(b.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function h(e){var t=s(e);t&&(delete E[t],i(E)||(M&&(M(),M=null),T&&(T(),T=null)))}function g(t,n){var r=!i(E),a=s(t,!0);return E[a]=n,r&&(M=e.listenBefore(c),e.listenBeforeUnload&&(T=e.listenBeforeUnload(d))),function(){h(t)}}function v(t){function n(n){b.location===n?t(null,b):r(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})}var i=e.listen(n);return b.location?t(null,b):n(e.getCurrentLocation()),i}var b={},_=(0,f.default)(),x=_.runEnterHooks,S=_.runChangeHooks,w=_.runLeaveHooks,O=void 0,k=1,E=Object.create(null),M=void 0,T=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:g,listen:v}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(70),u=(r(s),n(546)),l=r(u),c=n(543),f=r(c),d=n(550),p=r(d),h=n(547),m=r(h),g=n(552),y=r(g);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=(0,o.default)((0,u.default)(e))(t);return n}}t.__esModule=!0,t.default=i;var a=n(211),o=r(a),s=n(210),u=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||u}function i(e,t,n){this.props=e,this.context=t,this.refs=l,this.updater=n||u}function a(){}var o=n(87),s=n(164),u=n(262),l=(n(263),n(103));n(4),n(567);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?o("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};a.prototype=r.prototype,i.prototype=new a,i.prototype.constructor=i,s(i.prototype,r.prototype),i.prototype.isPureReactComponent=!0,e.exports={Component:r,PureComponent:i}},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(a){return!1}}function i(e){var t=l(e);if(t){var n=t.childIDs;c(e),n.forEach(i)}}function a(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function o(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=k.getDisplayName(e),r=k.getElement(e),i=k.getOwnerID(e);return i&&(t=k.getDisplayName(i)),a(n,r&&r._source,t)}var u,l,c,f,d,p,h,m=n(87),g=n(47),y=(n(4),n(9),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(y){var v=new Map,b=new Set;u=function(e,t){v.set(e,t)},l=function(e){return v.get(e)},c=function(e){v.delete(e)},f=function(){return Array.from(v.keys())},d=function(e){b.add(e)},p=function(e){b.delete(e)},h=function(){return Array.from(b.keys())}}else{var _={},x={},S=function(e){return"."+e},w=function(e){return parseInt(e.substr(1),10)};u=function(e,t){var n=S(e);_[n]=t},l=function(e){var t=S(e);return _[t]},c=function(e){var t=S(e);delete _[t]},f=function(){return Object.keys(_).map(w)},d=function(e){var t=S(e);x[t]=!0},p=function(e){var t=S(e);delete x[t]},h=function(){return Object.keys(x).map(w)}}var O=[],k={onSetChildren:function(e,t){var n=l(e);n?void 0:m("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],a=l(i);a?void 0:m("140"),null==a.childIDs&&"object"==typeof a.element&&null!=a.element?m("141"):void 0,a.isMounted?void 0:m("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e?m("142",i,a.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};u(e,r)},onBeforeUpdateComponent:function(e,t){var n=l(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=l(e);t?void 0:m("144"),t.isMounted=!0;var n=0===t.parentID;n&&d(e)},onUpdateComponent:function(e){var t=l(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=l(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&p(e)}O.push(e)},purgeUnmountedComponents:function(){if(!k._preventPurging){for(var e=0;e<O.length;e++){var t=O[e];i(t)}O.length=0}},isMounted:function(e){var t=l(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=o(e),r=e._owner;t+=a(n,e._source,r&&r.getName())}var i=g.current,s=i&&i._debugID;return t+=k.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=k.getParentID(e);return t},getChildIDs:function(e){var t=l(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=k.getElement(e);return t?o(t):null},getElement:function(e){var t=l(e);return t?t.element:null},getOwnerID:function(e){var t=k.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=l(e);return t?t.parentID:null},getSource:function(e){var t=l(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=k.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=l(e);return t?t.updateCount:0},getRootIDs:h,getRegisteredIDs:f,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],r=g.current,i=r&&r._debugID;try{for(e&&n.push({name:i?k.getDisplayName(i):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});i;){var a=k.getElement(i),o=k.getParentID(i),s=k.getOwnerID(i),u=s?k.getDisplayName(s):null,l=a&&a._source;n.push({name:u,fileName:l?l.fileName:null,lineNumber:l?l.lineNumber:null}),i=o}}catch(c){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"==typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=k},function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,n){"use strict";function r(e,t){}var i=(n(9),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=i},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){y===g&&(y=g.slice())}function a(){return m}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),y.push(e),function(){if(t){t=!1,r();var n=y.indexOf(e);y.splice(n,1)}}}function c(e){if(!(0,o.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,m=h(m,e)}finally{v=!1}for(var t=g=y,n=0;n<t.length;n++){var r=t[n];r()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:l.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(a())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u.default]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,m=t,g=[],y=g,v=!1;return c({type:l.INIT}),p={dispatch:c,subscribe:s,getState:a,replaceReducer:f},p[u.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var a=n(139),o=r(a),s=n(580),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AXIS_PROPERTIES=["domain","format","grid","labelPadding","labels","maxExtent","minExtent","offset","orient","position","tickCount","ticks","tickSize","title","titlePadding","values","zindex"]},[689,6,26],[690,6,15,3,26],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(35),a=n(3),o=n(26),s={nominal:!1,ordinal:!1,quantitative:!0,temporal:!0},u=function(e){function t(t){var n=e.call(this)||this;return n._filteredFields=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(a.duplicate(this._filteredFields))},t.make=function(e){var n=e.reduceFieldDef(function(t,n){return"count"!==n.aggregate&&(e.config.filterInvalid||void 0===e.config.filterInvalid&&n.field&&s[n.type]?t[n.field]=n:t[n.field]=null),t},{});return 0===a.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"filteredFields",{get:function(){return this._filteredFields},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){var t=this,n=a.keys(this._filteredFields).map(function(e){return e+" "+a.hash(t._filteredFields[e])}),r=a.keys(e.filteredFields).map(function(t){return t+" "+a.hash(e.filteredFields[t])});a.differArray(n,r)||(this._filteredFields=a.extend(this._filteredFields,e._filteredFields),e.remove())},t.prototype.assemble=function(){var e=this,t=a.keys(this._filteredFields).reduce(function(t,n){var r=e._filteredFields[n];return null!==r&&(t.push("datum["+a.stringValue(r.field)+"] !== null"),a.contains([i.QUANTITATIVE,i.TEMPORAL],r.type)&&t.push("!isNaN(datum["+a.stringValue(r.field)+"])")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(o.DataFlowNode);t.NullFilterNode=u},[691,3,26,113,114],[693,38,12,173,3,21,26],[695,6,12,15,3,21,26],[697,56,623,11,175,3,166,167,26,113,114,168],[698,15,58],function(e,t,n){"use strict";function r(e){return"top"===e||"left"===e?"header":"footer"}function i(e,t){var n="row"===t?"height":"width",r=e.component.layoutHeaders[t].title,i="row"===t?"y":"x",a="row"===t?"right":"center",s="row"===t?"vertical":void 0;return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[{type:"text",role:t+"-title-text",encode:{update:o.__assign((u={},u[i]={signal:"0.5 * "+n},u.align={value:a},u.text={value:r},u.fill={value:"black"},u.fontWeight={value:"bold"},u),"vertical"===s?{angle:{value:270}}:{})}}]};var u}function a(e,t,n,r,i){if(i){var a=null;r.fieldRef&&i.labels&&(a={text:r.fieldRef,offset:10,orient:"row"===t?"left":"top",encode:{update:o.__assign({fontWeight:{value:"normal"},angle:{value:0},fontSize:{value:10}},"row"===t?{align:{value:"right"},baseline:{value:"middle"}}:{})}});var s=i.axes,u=s&&s.length>0;if(a||u){var l="row"===t?"height":"width";return o.__assign({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.fieldRef?{from:{data:e.getName(t)}}:{},a?{title:a}:{},{encode:{update:(c={},c[l]=i.sizeSignal,c)}},u?{axes:s}:{})}}return null;var c}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=r,t.getTitleGroup=i,t.getHeaderGroup=a},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.orient||m.getMarkConfig("orient",e.type,r);e.orient=s(e.type,t,n,i),void 0!==i&&i!==e.orient&&c.warn(c.message.orientOverridden(e.orient,i));var a=e.filled;void 0===a&&(e.filled=o(e.type,r))}function i(e,t,n,r){var i=m.getMarkConfig("opacity",e,r);if(!t.opacity&&void 0===i){var o=a(e,t,n);void 0!==o&&(t.opacity={value:o})}return t}function a(e,t,n){if(h.contains([f.POINT,f.TICK,f.CIRCLE,f.SQUARE],e)&&!u.isAggregate(t))return.7}function o(e,t){var n=m.getMarkConfig("filled",e,t);return void 0!==n?n:e!==f.POINT&&e!==f.LINE&&e!==f.RULE}function s(e,t,n,r){switch(e){case f.POINT:case f.CIRCLE:case f.SQUARE:case f.TEXT:case f.RECT:return}var i=t.y&&t.y2,a=t.x&&t.x2;switch(e){case f.TICK:var o=n.x?n.x.get("type"):null,s=n.y?n.y.get("type"):null;return!d.hasDiscreteDomain(o)&&(!t.y||d.hasDiscreteDomain(s)||l.isFieldDef(t.y)&&t.y.bin)?"vertical":"horizontal";case f.RULE:case f.BAR:case f.AREA:if(i)return"vertical";if(a)return"horizontal";if(e===f.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case f.LINE:var u=l.isFieldDef(t.x)&&l.isContinuous(t.x),h=l.isFieldDef(t.y)&&l.isContinuous(t.y);if(u&&!h)return"horizontal";if(!u&&h)return"vertical";if(u&&h){var m=t.x,g=t.y,y=m.type===p.TEMPORAL,v=g.type===p.TEMPORAL;return y&&!v?"vertical":!y&&v?"horizontal":!m.aggregate&&g.aggregate?"vertical":m.aggregate&&!g.aggregate?"horizontal":r?r:(e===f.LINE&&t.order||c.warn(c.message.unclearOrientContinuous(e)),"vertical")}return void c.warn(c.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(38),l=n(12),c=n(11),f=n(23),d=n(15),p=n(35),h=n(3),m=n(21);t.normalizeMarkDef=r,t.initEncoding=i},[705,6,6,75,12,23,15,3,30,600,601,277,602,603,604,605,606,607],function(e,t,n){"use strict";function r(e,t){e instanceof _.UnitModel?i(e,t):o(e,t)}function i(e,t){var n=e.component.scales;v.keys(n).forEach(function(r){var i=e.specifiedScales[r],o=n[r],s=e.getScaleComponent(r),u=e.fieldDef(r),l=e.config,c=i[t],f=s.get("type"),d=m.scaleTypeSupportProperty(f,t),p=m.channelScalePropertyIncompatability(r,t);if(void 0!==c&&(d?p&&h.warn(p):h.warn(h.message.scalePropertyNotWorkWithScaleType(f,t,r))),d&&void 0===p)if(void 0!==c)o.copyKeyFromObject(t,i);else{var g=a(t,i,s,r,u,l.scale);void 0!==g&&o.set(t,g,!1)}})}function a(e,t,n,r,i,a){switch(e){case"nice":return s(n.get("type"),r,i);case"padding":return u(r,n.get("type"),a);case"paddingInner":return l(n.get("padding"),r,a);case"paddingOuter":return c(n.get("padding"),r,n.get("type"),n.get("paddingInner"),a);case"round":return f(r,a);case"zero":return d(r,i,!!t.domain)}return a[e]}function o(e,t){for(var n=e.component.scales,i=0,a=e.children;i<a.length;i++){var o=a[i];"range"===t?x.parseScaleRange(o):r(o,t)}v.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var s=o[a],u=s.component.scales[r];if(u){var l=u.getWithExplicit(t);i=b.mergeValuesWithExplicit(i,l,function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0})}}n[r].setWithExplicit(t,i)})}function s(e,t,n){if(y.contains([m.ScaleType.TIME,m.ScaleType.UTC],e))return g.smallestUnit(n.timeUnit);if(!n.bin)return y.contains([p.X,p.Y],t)}function u(e,t,n){if(y.contains([p.X,p.Y],e)&&t===m.ScaleType.POINT)return n.pointPadding}function l(e,t,n){if(void 0===e)return y.contains([p.X,p.Y],t)?n.bandPaddingInner:void 0}function c(e,t,n,r,i){if(void 0===e)return y.contains([p.X,p.Y],t)&&n===m.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function f(e,t){if(y.contains(["x","y","row","column"],e))return t.round}function d(e,t,n){return"size"===e&&"quantitative"===t.type||!(n||t.bin||!y.contains([p.X,p.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(6),h=n(11),m=n(15),g=n(57),y=n(3),v=n(3),b=n(92),_=n(30),x=n(280);t.parseScaleProperty=r,t.parseNonUnitScaleProperty=o,t.nice=s,t.padding=u,t.paddingInner=l,t.paddingOuter=c,t.round=f,t.zero=d},[712,6,11,15,3,58,92,30,279],[713,3,27,171],function(e,t,n){"use strict";function r(e){return h.mergeDeep(h.duplicate(t.defaultConfig),e)}function i(e){e=h.duplicate(e);for(var t=0,n=g;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,a=u.VL_ONLY_GUIDE_CONFIG;i<a.length;i++){var r=a[i];delete e.axis[r]}if(e.legend)for(var o=0,s=u.VL_ONLY_GUIDE_CONFIG;o<s.length;o++){var r=s[o];delete e.legend[r]}if(e.mark)for(var l=0,c=f.VL_ONLY_MARK_CONFIG_PROPERTIES;l<c.length;l++){var r=c[l];delete e.mark[r]}for(var d=0,p=m;d<p.length;d++){for(var v=p[d],b=0,_=f.VL_ONLY_MARK_CONFIG_PROPERTIES;b<_.length;b++){var r=_[b];delete e[v][r]}var x=y[v];if(x)for(var S=0,w=x;S<w.length;S++){var r=w[S];delete e[v][r]}}for(var r in e)h.isObject(e[r])&&0===h.keys(e[r]).length&&delete e[r];return h.keys(e).length>0?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(117),s=n(117),u=n(624),l=n(172),c=n(23),f=n(23),d=n(15),p=n(626),h=n(3);t.defaultCellConfig={width:200,height:200,fill:"transparent"},t.defaultFacetCellConfig={stroke:"#ccc",strokeWidth:1},t.defaultFacetConfig={cell:t.defaultFacetCellConfig},t.defaultOverlayConfig={line:!1},t.defaultConfig={padding:5,numberFormat:"s",timeFormat:"%b %d, %Y",countTitle:"Number of Records",cell:t.defaultCellConfig,mark:f.defaultMarkConfig,area:{},bar:f.defaultBarConfig,circle:{},line:{},point:{},rect:{},rule:{},square:{},text:f.defaultTextConfig,tick:f.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{},overlay:t.defaultOverlayConfig,scale:d.defaultScaleConfig,axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:l.defaultLegendConfig,facet:t.defaultFacetConfig,selection:p.defaultConfig,title:{}},t.initConfig=r;var m=[].concat(c.PRIMITIVE_MARKS,o.COMPOSITE_MARK_ROLES),g=["padding","numberFormat","timeFormat","countTitle","cell","stack","overlay","scale","facet","selection","filterInvalid"],y=a.__assign({},c.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,s.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripConfig=i},function(e,t,n){!function(e,r){r(t,n(7),n(588),n(129),n(40),n(100),n(102),n(119),n(178),n(54),n(42))}(this,function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(e,n){t.error(e+' for "outer" push: '+t.stringValue(n))}function d(e){var t={};return function(n,r){var i=t[r]||(t[r]=e(r));return i(n)}}function p(e,t,n){return Jt.setMonth(e),Jt.setDate(t),Xt(Jt,n)}function h(e){return p(e,1,"%B")}function m(e){return p(e,1,"%b")}function g(e){return p(0,2+e,"%A")}function y(e){return p(0,2+e,"%a")}function v(e){return 1+~~(new Date(e).getMonth()/3)}function b(e){return 1+~~(new Date(e).getUTCMonth()/3)}function _(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function x(){return _(this.context.dataflow,"warn",arguments)}function S(){return _(this.context.dataflow,"info",arguments)}function w(){return _(this.context.dataflow,"debug",arguments)}function O(e){var t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function k(e){var t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}function E(){return tn?tn.screen:{}}function M(){return tn?[tn.innerWidth,tn.innerHeight]:[void 0,void 0]}function T(e,n){var r;return t.isFunction(e)?e:t.isString(e)?(r=n.scales[e])&&r.value:void 0}function P(e,t,n){var r=sn+n;if(!t.hasOwnProperty(r))try{t[r]=e.scaleRef(n)}catch(i){}}function C(e,t,n,r){if(t[0].type===rn)P(n,r,t[0].value);else if(t[0].type===an)for(e in n.scales)P(n,r,e)}function A(e,t){var n=T(e,(t||this).context);return n&&n.range?n.range():[]}function D(e,t){var n=T(e,(t||this).context);return n?n.domain():[]}function R(e,t){var n=T(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function N(e,t,n){return s.bandSpace(e||0,t||0,n||0)}function I(e,t){var n=T(e,(t||this).context);return n?n.copy():void 0}function F(e,t,n){var r=T(e,(n||this).context);return r?r(t):void 0}function L(e,n,r){var i=T(e,(r||this).context);return i?t.isArray(n)?(i.invertRange||i.invert)(n):(i.invert||i.invertExtent)(n):void 0}function j(e){return function(t){return e*Math.exp(t)}}function z(e){return function(t){return Math.log(e*t)}}function $(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function U(e,n,r,i){var a=r(e[0]),o=r(t.peek(e)),s=(o-a)*n;return[i(a-s),i(o-s)]}function B(e,n){return U(e,n,t.toNumber,t.identity)}function q(e,t){var n=Math.sign(e[0]);return U(e,t,z(n),j(n))}function W(e,t,n){return U(e,t,$(n),$(1/n))}function V(e,n,r,i,a){var o=i(n),s=i(e[0]),u=i(t.peek(e));return[a(o+(s-o)*r),a(o+(u-o)*r)]}function H(e,n,r){return V(e,n,r,t.toNumber,t.identity)}function G(e,t,n){var r=Math.sign(e[0]);return V(e,t,n,z(r),j(r))}function Y(e,t,n,r){return V(e,t,n,$(r),$(1/r))}function X(e){return function(t,n,r){var i=T(t,(r||this).context);return i&&i.path[e](n)}}function Q(e){var t=this.context.data[e];return t?t.values.value:[]}function K(e,n,r,i){n[0].type!==rn&&t.error("First argument to data functions must be a string literal.");var a=n[0].value,o=un+a;i.hasOwnProperty(o)||(i[o]=r.getData(a).tuplesRef())}function J(e,t,n){var r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i?i.count:i}function Z(e,n,r,i){n[0].type!==rn&&t.error("First argument to indata must be a string literal."),n[1].type!==rn&&t.error("Second argument to indata must be a string literal.");var a=n[0].value,o=n[1].value,s=on+o;i.hasOwnProperty(s)||(i[s]=r.getData(a).indataRef(r,o))}function ee(e){return e.data}function te(e,t){var n=Q.call(t,e);return n.root&&n.root.lookup||pn}function ne(e,t,n){var r=te(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(ee):void 0}function re(e,t){var n=te(e,this)[t];return n?n.ancestors().map(ee):void 0}function ie(e){return function(t){for(var n in e)if("_id"!==n&&t[n]!==e[n])return!1;return!0}}function ae(e,n){for(var r,i=n.fields,a=n.values,o=n.getter||(n.getter=[]),s=n.bins,u=i.length,l=0;l<u;++l)if(o[l]=o[l]||t.field(i[l]),r=o[l](e),t.isDate(r)&&(r=t.toNumber(r)),t.isDate(a[l])&&(a[l]=t.toNumber(a[l])),s&&s[i[l]]){if(t.isDate(a[l][0])&&(a[l]=a[l].map(t.toNumber)),!hn(r,a[l]))return!1}else if(r!==a[l])return!1;return!0}function oe(e,n){for(var r,i,a,o=n.intervals,s=o.length,u=0;u<s;++u){if(i=o[u].extent,r=o[u].getter||(o[u].getter=t.field(o[u].field)),a=r(e),!i||i[0]===i[1])return!0;if(t.isDate(a)&&(a=t.toNumber(a)),t.isDate(i[0])&&(i=o[u].extent=i.map(t.toNumber)),t.isNumber(i[0])&&!hn(a,i))return!1;if(t.isString(i[0])&&i.indexOf(a)<0)return!1}return!0}function se(e,t,n,r,i,a){for(var o,s,u=this.context.data[e],l=u?u.values.value:[],c=r!==yn,f=l.length,d=0;d<f;++d)if(o=l[d],s=t===o.unit,!(i===bn&&s||i===vn&&!s)&&(s=a(n,o),c^s))return s;return!f||c}function ue(e,t,n,r,i){return se.call(this,e,t,n,r,i,ae)}function le(e,t,n,r,i){return se.call(this,e,t,n,r,i,oe)}function ce(e,t,n,r){var i,a,o,s,u=this.context.data[e],l=u?u.values.value:[],c=l[0],f=0;if(c){for(i=t?c.encodings.length:c.fields.length;f<i;++f)if(t&&c.encodings[f]===t||n&&c.fields[f]===n){a=f,s=c.bins&&c.bins[c.fields[f]];break}return o=l.reduce(function(e,t){return e.push({unit:t.unit,value:t.values[a]}),e},[]),s?pe(o,r):de(o,r)}}function fe(e,t,n,r){var i,a,o,s,u,l=this.context.data[e],c=l?l.values.value:[],f=c[0],d=0;if(f){for(i=f.intervals.length;d<i;++d)if(a=f.intervals[d],t&&a.encoding===t||n&&a.field===n){o=d,u=a.extent.length>2;break}return s=c.reduce(function(e,t){var n=t.intervals[o].extent,r=u?n.map(function(e){return{unit:t.unit,value:e}}):{unit:t.unit,value:n};return u?(e.push.apply(e,r),e):(e.push(r),e)},[]),u?de(s,r):pe(s,r)}}function de(e,t){for(var n,r,i,a,o={},s=0,u={},l=[],c=0,f=e.length;c<f;++c)n=e[c],r=n.unit,a=n.value,o[r]||(o[r]=++s),(i=u[a])||(u[a]=i={value:a,units:{},count:0}),i.units[r]||(i.units[r]=++i.count);for(a in u)i=u[a],t!==yn&&i.count!==s||l.push(i.value);return l.length?l:void 0}function pe(e,n){for(var r,i,a,o,s=n===yn?he:me,u=0,l=e.length;u<l;++u)r=e[u].value,t.isDate(r[0])&&(r=r.map(t.toNumber)),a=r[0],o=r[1],a>o&&(o=r[1],a=r[0]),i=i?s(i,a,o):[a,o];return i&&i.length&&+i[0]!==+i[1]?i:void 0}function he(e,t,n){return e[0]>t&&(e[0]=t),e[1]<n&&(e[1]=n),e}function me(e,t,n){return n<e[0]||e[1]<t?[]:(e[0]<t&&(e[0]=t),e[1]>n&&(e[1]=n),e)}function ge(e,t,n){return 1===arguments.length?_n[e]:(_n[e]=t,n&&(On[e]=n),En&&(En.functions[e]=wn+e),this)}function ye(e){var t=n.functions(e);xn.forEach(function(e){t[e]=Sn+e});for(var r in _n)t[r]=wn+r;return t}function ve(e){return e===Cn?Pn:e||Pn}function be(e,n){var r=e.merge?_e:e.stream?xe:e.type?Se:t.error("Invalid stream specification: "+t.stringValue(e));return r(e,n)}function _e(e,t){var n=e.merge.map(function(e){return be(e,t)}),r=we({merge:n},e,t);return t.addStream(r).id}function xe(e,t){var n=be(e.stream,t),r=we({stream:n},e,t);return t.addStream(r).id}function Se(e,t){var n=t.event(ve(e.source),e.type),r=we({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function we(e,n,r){var i=n.between;return i&&(2!==i.length&&t.error('Stream "between" parameter must have 2 entries: '+t.stringValue(n)),e.between=[be(i[0],r),be(i[1],r)]),i=n.filter?t.array(n.filter):[],(n.marktype||n.markname||n.markrole)&&i.push(Oe(n.marktype,n.markname,n.markrole)),n.source===Cn&&i.push("inScope(event.item)"),i.length&&(e.filter=Tn("("+i.join(")&&(")+")").$expr),null!=(i=n.throttle)&&(e.throttle=+i),null!=(i=n.debounce)&&(e.debounce=+i),n.consume&&(e.consume=!0),e}function Oe(e,t,n){var r="event.item";return r+(e&&"*"!==e?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}function ke(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function Ee(e,t,n,r){return new ke(e,t,n,r)}function Me(e,t){return Ee("Operator",e,t)}function Te(e){var t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function Pe(e,t){return t?{$field:e,$name:t}:{$field:e}}function Ce(e,t){return{$compare:e,$order:t}}function Ae(e){return{$key:e}}function De(e){return t.isObject(e)?(e.order===Ln?"-":"+")+Re(e.op,e.field):""}function Re(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}function Ne(e){return e&&e.signal}function Ie(e){return function(t,n,r){return Ee(e,n,t||void 0,r)}}function Fe(e){return pr.hasOwnProperty(e)}function Le(e){return"quantile"===e}function je(e,n){var r=e.type||"linear";dr.hasOwnProperty(r)||t.error("Unrecognized scale type: "+t.stringValue(r)),n.addScale(e.name,{type:r,domain:void 0})}function ze(e,t){var n,r=t.getScale(e.name).params;r.domain=qe(e.domain,e,t),null!=e.range&&(r.range=Ze(e,t,r)),null!=e.interpolate&&Je(e.interpolate,r);for(n in e)r.hasOwnProperty(n)||"name"===n||(r[n]=$e(e[n],t))}function $e(e,n){return t.isObject(e)?e.signal?n.signalRef(e.signal):t.error("Unsupported object: "+t.stringValue(e)):e}function Ue(e,t){return e.signal?t.signalRef(e.signal):e.map(function(e){return $e(e,t)})}function Be(e){t.error("Can not find data set: "+t.stringValue(e))}function qe(e,n,r){return e?e.signal?r.signalRef(e.signal):(t.isArray(e)?We:e.fields?He:Ve)(e,n,r):void(null==n.domainMin&&null==n.domainMax||t.error("No scale domain defined for domainMin/domainMax to override."))}function We(e,t,n){return e.map(function(e){return $e(e,n)})}function Ve(e,t,n){var r=n.getData(e.data);return r||Be(e.data),Fe(t.type)?r.valuesRef(n,e.field,Xe(e.sort,!1)):Le(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function He(e,n,r){var i=e.data,a=e.fields.reduce(function(e,n){return n=t.isString(n)?{data:i,field:n}:t.isArray(n)||n.signal?Ge(n,r):n,e.push(n),e},[]);return(Fe(n.type)?Ye:Le(n.type)?Qe:Ke)(e,r,a)}function Ge(e,n){var r="_:vega:_"+cr++,i=Un({});return t.isArray(e)?i.value={$ingest:e}:e.signal&&n.signalRef("modify("+t.stringValue(r)+","+e.signal+", true)"),n.addDataPipeline(r,[i,or({})]),{data:r,field:"data"}}function Ye(e,t,n){var r,i,a,o;return r=n.map(function(e){var n=t.getData(e.data);return n||Be(e.data),n.countsRef(t,e.field)}),i=t.add(jn({groupby:In,ops:["sum"],fields:[t.fieldRef("count")],as:["count"],pulse:r})),a=t.add(Un({pulse:Te(i)})),o=t.add(lr({field:In,sort:t.sortRef(Xe(e.sort,!0)),pulse:Te(a)})),Te(o)}function Xe(e,n){return e&&(e.field||e.op?e.field||"count"===e.op?n&&e.field?t.error("Multiple domain scales can not sort by field."):n&&e.op&&"count"!==e.op&&t.error("Multiple domain scales support op count only."):t.error("No field provided for sort aggregate op: "+e.op):t.isObject(e)?e.field="key":e={field:"key"}),e}function Qe(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||Be(e.data),n.domainRef(t,e.field)});return Te(t.add(Kn({values:r})))}function Ke(e,t,n){var r=n.map(function(e){var n=t.getData(e.data);return n||Be(e.data),n.extentRef(t,e.field)});return Te(t.add(Qn({extents:r})))}function Je(e,t){t.interpolate=$e(e.type||e),null!=e.gamma&&(t.interpolateGamma=$e(e.gamma))}function Ze(e,n,r){var i=e.range,a=n.config.range;if(i.signal)return n.signalRef(i.signal);if(t.isString(i)){if(a&&a.hasOwnProperty(i))return e=t.extend({},e,{range:a[i]}),Ze(e,n,r);"width"===i?i=[0,{signal:"width"}]:"height"===i?i=Fe(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:t.error("Unrecognized scale range value: "+t.stringValue(i))}else{if(i.scheme)return r.scheme=$e(i.scheme,n),i.extent&&(r.schemeExtent=Ue(i.extent,n)),void(i.count&&(r.schemeCount=$e(i.count,n)));if(i.step)return void(r.rangeStep=$e(i.step,n));if(Fe(e.type)&&!t.isArray(i))return qe(i,e,n);t.isArray(i)||t.error("Unsupported range type: "+t.stringValue(i))}return i.map(function(e){return $e(e,n)})}function et(e,n){return t.isArray(e)?e.map(function(e){return et(e,n)}):t.isObject(e)?e.signal?n.signalRef(e.signal):t.error("Unsupported parameter object: "+t.stringValue(e)):e}function tt(e,n,r,i){var a,o,s;if(e.signal)a="datum",s=Dr(e.signal,n,r,i);else if(e.group||e.parent){for(o=Math.max(1,e.level||1),a="item";o-- >0;)a+=".mark.group";e.parent?(s=e.parent,a+=".datum"):s=e.group}else e.datum?(a="datum",s=e.datum):t.error("Invalid field reference: "+t.stringValue(e));return e.signal||(t.isString(s)?(i[s]=1,s=t.splitAccessPath(s).map(t.stringValue).join("][")):s=tt(s,n,r,i)),a+"["+s+"]"}function nt(e,n){if(!t.isString(e))return-1;var r=n.scaleType(e);return"band"===r||"point"===r?1:0}function rt(e,n,r,i){var a;if(t.isString(e))a=sn+e,r.hasOwnProperty(a)||(r[a]=n.scaleRef(e)),a=t.stringValue(a);else{for(a in n.scales)r[sn+a]=n.scaleRef(a);a=t.stringValue(sn)+"+"+(e.signal?"("+Dr(e.signal,n,r,i)+")":Rr(e,n,r,i))}return"_["+a+"]"}function it(e,n,r,i){var a,o,s,u={},l="var o=item,datum=o.datum,$;";for(a in e)o=e[a],t.isArray(o)?l+=zr(a,o,i,r,u):(s=Lr(a,o,i,r,u),l+=jr("o",a,s));return l+=Cr(e,n),l+="return 1;",{$expr:l,$fields:Object.keys(u),$output:Object.keys(e)}}function at(e){return t.isObject(e)?e:{value:e}}function ot(e,t,n){return null!=n?(e[t]={value:n},1):0}function st(e,n,r){for(var i in n)r&&r.hasOwnProperty(i)||(e[i]=t.extend(e[i]||{},n[i]));return e}function ut(e,t,n,r,i){var a,o;i=i||{},i.encoders={$encode:a={}},e=lt(e,t,n,r.config);for(o in e)a[o]=it(e[o],t,i,r);return i}function lt(e,n,r,i){var a,o,s;"legend"!=r&&0!==String(r).indexOf("axis")||(r=null),i=r===Ur?i.group:r===$r||i[n=r]?t.extend({},i.mark,i[n]):{},a={};for(o in i)s=ct(o,e)||("fill"===o||"stroke"===o)&&(ct("fill",e)||ct("stroke",e)),s||(a[o]={value:i[o]});return e=t.extend({},e),e.enter=t.extend(a,e.enter),e}function ct(e,t){return t.enter&&t.enter[e]||t.update&&t.update[e]}function ft(e,t,n){var r,i,a,o={};for(i=0,a=e.params.length;i<a;++i)r=e.params[i],o[r.name]=dt(r,t,n);
return o}function dt(e,n,r){var i=e.type,a=n[e.name];return"index"===i?ht(e,n,r):void 0===a?void(e.required&&t.error("Missing required "+t.stringValue(n.type)+" parameter: "+t.stringValue(e.name))):"param"===i?mt(e,n,r):"projection"===i?r.projectionRef(n[e.name]):e.array&&!Ne(a)?a.map(function(t){return pt(e,t,r)}):pt(e,a,r)}function pt(e,n,r){var i=e.type;if(Ne(n))return _t(i)?t.error("Expression references can not be signals."):xt(i)?r.fieldRef(n):St(i)?r.compareRef(n):r.signalRef(n.signal);var a=e.expr||xt(i);return a&&yt(n)?Tn(n.expr,r):a&&vt(n)?Pe(n.field):_t(i)?Tn(n,r):bt(i)?Te(r.getData(n).values):xt(i)?Pe(n):St(i)?r.compareRef(n):n}function ht(e,n,r){return t.isString(n.from)||t.error('Lookup "from" parameter must be a string literal.'),r.getData(n.from).lookupRef(r,n.key)}function mt(e,n,r){var i=n[e.name];return e.array?(t.isArray(i)||t.error("Expected an array of sub-parameters. Instead: "+t.stringValue(i)),i.map(function(t){return gt(e,t,r)})):gt(e,i,r)}function gt(e,n,r){var i,a,o,s,u;for(s=0,u=e.params.length;s<u;++s){a=e.params[s];for(o in a.key)if(a.key[o]!==n[o]){a=null;break}if(a)break}return a||t.error("Unsupported parameter: "+t.stringValue(n)),i=t.extend(ft(a,n,r),a.key),Te(r.add(Zn(i)))}function yt(e){return e&&e.expr}function vt(e){return e&&e.field}function bt(e){return"data"===e}function _t(e){return"expr"===e}function xt(e){return"field"===e}function St(e){return"compare"===e}function wt(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}function Ot(e){return t.isString(e)?e:null}function kt(e,t,n){var r,i=Re(n.op,n.field);if(t.ops){for(var a=0,o=t.as.length;a<o;++a)if(t.as[a]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Et(e,t,n,r,i,a,o){var s,u,l=t[n]||(t[n]={}),c=De(a),f=Ot(i);if(null!=f&&(e=t.scope,f+=c?"|"+c:"",s=l[f]),!s){var d=a?{field:In,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:Te(t.output)};c&&(d.sort=e.sortRef(a)),u=e.add(Ee(r,void 0,d)),o&&(t.index[i]=u),s=Te(u),null!=f&&(l[f]=s)}return s}function Mt(e,t){return null!=e?e:t}function Tt(e,t,n){var r,i=+t.symbolSize;return r=n&&n.update&&n.update.fontSize,r||(r=n&&n.enter&&n.enter.fontSize),r&&(r=r.value),r||(r=+t.labelFontSize),e.size?{$expr:"Math.max(Math.ceil(Math.sqrt(_.scale(datum))),"+r+")"}:Math.max(Math.ceil(Math.sqrt(i)),r)}function Pt(e){var t={},n=ot(t,"fill",e.fillColor)+ot(t,"stroke",e.strokeColor)+ot(t,"strokeWidth",e.strokeWidth)+ot(t,"strokeDash",e.strokeDash)+ot(t,"cornerRadius",e.cornerRadius);return n?t:void 0}function Ct(e,n,r,i){var a,o,s,u,l,c,f=e.text,d=e.orient||n.orient,p=e.anchor||n.anchor,h=d===gr||d===mr?-1:1,m=d===mr||d===vr,g={group:m?"width":"height"},y={};return y.enter=a={opacity:{value:0}},ot(a,"fill",n.color),ot(a,"font",n.font),ot(a,"fontSize",n.fontSize),ot(a,"fontWeight",n.fontWeight),y.exit={opacity:{value:0}},y.update=o={opacity:{value:1},text:t.isObject(f)?f:{value:f+""},offset:at((null!=e.offset?e.offset:n.offset)||0)},"start"===p?(l=0,c="left"):"end"===p?(l=1,c="right"):(l=.5,c="center"),s={field:g,mult:l},u=h<0?{value:0}:m?{field:{group:"height"}}:{field:{group:"width"}},m?(o.x=s,o.y=u,o.angle={value:0},o.baseline={value:d===mr?"bottom":"top"}):(o.x=u,o.y=s,o.angle={value:90*h},o.baseline={value:"bottom"}),o.align={value:c},o.limit={field:g},ot(o,"angle",n.angle),ot(o,"baseline",n.baseline),ot(o,"limit",n.limit),ni(si,ti,null,i,y,r)}function At(e,t){var n=[];e.transform&&e.transform.forEach(function(e){n.push(vi(e,t))}),e.on&&e.on.forEach(function(n){wi(n,t,e.name)}),t.addDataPipeline(e.name,Dt(e,t,n))}function Dt(e,t,n){var r,i,a,o,s,u=[],l=null,c=!1,f=!1;for(e.values?u.push(l=Rt({$ingest:e.values,$format:e.format})):e.url?u.push(l=Rt({$request:e.url,$format:e.format})):e.source&&(r=t.getData(e.source),l=r.output,u.push(null)),i=0,a=n.length;i<a;++i)o=n[i],s=o.metadata,l||s.source||u.push(l=Rt()),u.push(o),s.generates&&(f=!0),s.modifies&&!f&&(c=!0),s.source?l=o:s.changes&&(l=null);return r&&(u[0]=rr({derive:c,pulse:Te(r.output)}),c&&u.splice(1,0,Rt())),l||u.push(Rt()),u.push(or({})),u}function Rt(e){var t=Un({},e);return t.metadata={source:!0},t}function Nt(e,t){return{scale:e.scale,range:t}}function It(e,n){var r,i,a,o,s,u=n.config;return n.background=e.background||u.background,s=Te(n.root=n.add(Me())),n.addSignal("width",e.width||-1),n.addSignal("height",e.height||-1),n.addSignal("padding",qt(e.padding,u)),t.array(e.signals).forEach(function(e){Ii[e.name]||Ht(e,n)}),i=n.add(Un()),a=st({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e.encode),a=n.add(Wn(ut(a,ri,Ur,n,{pulse:Te(i)}))),o=n.add(ur({layout:n.objectProperty(e.layout),legendMargin:u.legendMargin,autosize:Bt(e.autosize,u),mark:s,pulse:Te(a)})),n.operators.pop(),n.pushState(Te(a),Te(o),null),Ni(e,n,!0),n.operators.push(o),r=n.add($n({mark:s,pulse:Te(o)})),r=n.add(ir({pulse:Te(r)})),r=n.add(or({pulse:Te(r)})),n.addData("root",new wt(n,i,i,r)),n}function Ft(e){this.config=e,this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.background=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Lt(e){this.config=e.config,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function jt(e){return(t.isArray(e)?zt:$t)(e)}function zt(e){for(var n,r="[",i=0,a=e.length;i<a;++i)n=e[i],r+=(i>0?",":"")+(t.isObject(n)?n.signal||jt(n):t.stringValue(n));return r+"]"}function $t(e){var n,r,i="{",a=0;for(n in e)r=e[n],i+=(++a>1?",":"")+t.stringValue(n)+":"+(t.isObject(r)?r.signal||jt(r):t.stringValue(r));return i+"}"}function Ut(){return{padding:0,autosize:"pad",background:null,group:null,mark:null,arc:{fill:$i},area:{fill:$i},image:null,line:{stroke:$i,strokeWidth:zi},path:{stroke:$i},rect:{fill:$i},rule:{stroke:Ui},shape:{stroke:$i},symbol:{fill:$i,size:64},text:{fill:Ui,font:"sans-serif",fontSize:11},point:{size:ji,strokeWidth:zi,shape:"circle"},circle:{size:ji,strokeWidth:zi},square:{size:ji,strokeWidth:zi},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:Ui,grid:!1,gridWidth:1,gridColor:qi,gridDash:[],gridOpacity:1,labels:!0,labelAngle:0,labelColor:Ui,labelFont:"sans-serif",labelFontSize:10,labelLimit:180,labelPadding:2,ticks:!0,tickColor:Ui,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titleAlign:"center",titlePadding:2,titleColor:Ui,titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold"},axisBand:{tickOffset:-1},legend:{orient:"right",offset:18,padding:0,entryPadding:5,titlePadding:5,gradientWidth:100,gradientHeight:20,gradientStrokeColor:qi,gradientStrokeWidth:0,gradientLabelBaseline:"top",gradientLabelOffset:2,labelColor:Ui,labelFontSize:10,labelFont:"sans-serif",labelAlign:"left",labelBaseline:"middle",labelOffset:8,labelLimit:160,symbolType:"circle",symbolSize:100,symbolColor:Bi,symbolStrokeWidth:1.5,titleColor:Ui,titleFont:"sans-serif",titleFontSize:11,titleFontWeight:"bold",titleAlign:"left",titleBaseline:"top",titleLimit:180},title:{orient:"top",anchor:"middle",offset:2,color:Ui,font:"sans-serif",fontSize:13,fontWeight:"bold"},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues",extent:[.2,1]},heatmap:{scheme:"viridis"},ramp:{scheme:"blues",extent:[.2,1]},diverging:{scheme:"blueorange"},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}var Bt=function(e,n){return e=e||n.autosize,t.isObject(e)?e:(e=e||"pad",{type:e})},qt=function(e,n){return e=e||n.padding,t.isObject(e)?e:(e=+e||0,{top:e,bottom:e,left:e,right:e})},Wt="outer",Vt=["value","update","react","bind"],Ht=function(e,t){var n=e.name;if(e.push===Wt)t.signals[n]||f("No prior signal definition",n),Vt.forEach(function(t){void 0!==e[t]&&f("Invalid property ",t)});else{var r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}},Gt=d(a.format),Yt=d(o.utcFormat),Xt=d(o.timeFormat),Qt=d(o.utcParse),Kt=d(o.timeParse),Jt=new Date(2e3,0,1),Zt=function(e){var t=this.context.group,n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},en=function(e,t,n){var r,i=e[0],a=e[1];return a<i&&(r=a,a=i,i=r),r=a-i,r>=n-t?[t,n]:[Math.min(Math.max(i,t),n-r),Math.min(Math.max(a,r),n)]},tn="undefined"!=typeof window&&window||null,nn=function(e){return e[e.length-1]-e[0]||0},rn="Literal",an="Identifier",on="@",sn="%",un=":",ln=function(e,t,n,r){var i=u.Gradient(t,n),a=e.domain(),o=a[0],l=a[a.length-1],c=s.scaleFraction(e,o,l);e.ticks&&(a=e.ticks(+r||15),o!==a[0]&&a.unshift(o),l!==a[a.length-1]&&a.push(l));for(var f=0,d=a.length;f<d;++f)i.stop(c(a[f]),e(a[f]));return i},cn=X("area"),fn=X("bounds"),dn=X("centroid"),pn={},hn=function(e,t){var n,r=t[0],i=t[t.length-1];return r>i&&(n=r,r=i,i=n),r<=e&&e<=i},mn=function(e,t,n){if(e){var r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return void 0!==n?n:e},gn=function(e,n,r,i,a,o){var s,u,l=this.context.dataflow,c=this.context.data[e],f=c.input,d=c.changes,p=l.stamp();if(l._trigger===!1||!(f.value.length||n||i))return 0;if((!d||d.stamp<p)&&(c.changes=d=l.changeset(),d.stamp=p,l.runAfter(function(){c.modified=!0,l.pulse(f,d).run()})),r&&(s=r===!0?t.truthy:t.isArray(r)||null!=r._id?r:ie(r),d.remove(s)),n&&d.insert(n),i&&(s=ie(i),f.value.some(s)?d.remove(s):d.insert(i)),a)for(u in o)d.modify(a,u,o[u]);return 1},yn="union",vn="unit",bn="others",_n={isArray:t.isArray,isBoolean:t.isBoolean,isDate:t.isDate,isNumber:t.isNumber,isObject:t.isObject,isRegExp:t.isRegExp,isString:t.isString,toBoolean:t.toBoolean,toDate:t.toDate,toNumber:t.toNumber,toString:t.toString,pad:t.pad,truncate:t.truncate,rgb:r.rgb,lab:r.lab,hcl:r.hcl,hsl:r.hsl,sequence:i.range,format:Gt,utcFormat:Yt,utcParse:Qt,timeFormat:Xt,timeParse:Kt,monthFormat:h,monthAbbrevFormat:m,dayFormat:g,dayAbbrevFormat:y,quarter:v,utcquarter:b,warn:x,info:S,debug:w,inScope:Zt,clampRange:en,pinchDistance:O,pinchAngle:k,screen:E,windowsize:M,span:nn,bandspace:N,inrange:hn,panLinear:B,panLog:q,panPow:W,zoomLinear:H,zoomLog:G,zoomPow:Y,encode:mn,modify:gn},xn=["view","item","group","xy","x","y"],Sn="event.vega.",wn="this.",On={};ge("bandwidth",R,C),ge("copy",I,C),ge("domain",D,C),ge("range",A,C),ge("invert",L,C),ge("scale",F,C),ge("gradient",ln,C),ge("geoArea",cn,C),ge("geoBounds",fn,C),ge("geoCentroid",dn,C),ge("indata",J,Z),ge("data",Q,K),ge("vlPoint",ue,K),ge("vlInterval",le,K),ge("vlPointDomain",ce,K),ge("vlIntervalDomain",fe,K),ge("treePath",ne,K),ge("treeAncestors",re,K);var kn={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(e){return"_["+t.stringValue("$"+e)+"]"},functions:ye,constants:n.constants,visitors:On},En=n.codegen(kn),Mn="$",Tn=function(e,r,i){var a,o,s={};try{a=n.parse(e)}catch(u){t.error("Expression parse error: "+t.stringValue(e))}return a.visit(function(e){if("CallExpression"===e.type){var t=e.callee.name,n=kn.visitors[t];n&&n(t,e.arguments,r,s)}}),o=En(a),o.globals.forEach(function(e){var t=Mn+e;!s.hasOwnProperty(t)&&r.getSignal(e)&&(s[t]=r.signalRef(e))}),{$expr:i?i+"return("+o.code+");":o.code,$fields:o.fields,$params:s}},Pn="view",Cn="scope",An=function(e,t){return e.signal?t.getSignal(e.signal).id:e.scale?t.getScale(e.scale).id:be(e,t)},Dn="var datum=event.item&&event.item.datum;",Rn=function(e,n,r){var i,a=e.events,o=e.update,s=e.encode,u=[],c="";a||t.error("Signal update missing events specification."),t.isString(a)&&(a=l.selector(a)),a=t.array(a).filter(function(e){return e.signal||e.scale?(u.push(e),0):1}),a.length&&u.push(a.length>1?{merge:a}:a[0]),null!=s&&(o&&t.error("Signal encode and update are mutually exclusive."),o="encode(item(),"+t.stringValue(s)+")"),c=t.isString(o)?Tn(o,n,Dn):null!=o.expr?Tn(o.expr,n,Dn):null!=o.value?o.value:null!=o.signal?{$expr:"_.value",$params:{value:n.signalRef(o.signal)}}:t.error("Invalid signal update specification."),i={target:r,update:c},e.force&&(i.options={force:!0}),u.forEach(function(e){e={source:An(e,n)},n.addUpdate(t.extend(e,i))})},Nn=function(e,t){var n=t.getSignal(e.name);if(e.update){var r=Tn(e.update,t);n.update=r.$expr,n.params=r.$params}e.on&&e.on.forEach(function(e){Rn(e,t,n.id)})},In=Pe("key"),Fn="ascending",Ln="descending",jn=Ie("Aggregate"),zn=Ie("AxisTicks"),$n=Ie("Bound"),Un=Ie("Collect"),Bn=Ie("Compare"),qn=Ie("DataJoin"),Wn=Ie("Encode"),Vn=Ie("Facet"),Hn=Ie("Field"),Gn=Ie("Key"),Yn=Ie("LegendEntries"),Xn=Ie("Mark"),Qn=Ie("MultiExtent"),Kn=Ie("MultiValues"),Jn=Ie("Overlap"),Zn=Ie("Params"),er=Ie("PreFacet"),tr=Ie("Projection"),nr=Ie("Proxy"),rr=Ie("Relay"),ir=Ie("Render"),ar=Ie("Scale"),or=Ie("Sieve"),sr=Ie("SortItems"),ur=Ie("ViewLayout"),lr=Ie("Values"),cr=0,fr=["identity","ordinal","band","point","bin-linear","bin-ordinal","linear","pow","sqrt","log","sequential","time","utc","quantize","quantile","threshold"],dr=t.toSet(fr),pr=t.toSet(fr.slice(1,6)),hr=function(e,t){var n={};for(var r in e)"name"!==r&&(n[r]=et(e[r],t));t.addProjection(e.name,n)},mr="top",gr="left",yr="right",vr="bottom",br="index",_r="label",xr="offset",Sr="perc",wr="size",Or="total",kr="value",Er=["shape","size","fill","stroke","strokeDash","opacity"],Mr={name:1,interactive:1},Tr=t.toSet(["rule"]),Pr=t.toSet(["group","image","rect"]),Cr=function(e,t){var n="";return Tr[t]?n:(e.x2&&(e.x?(Pr[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Pr[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;"),n)},Ar=function(e,t,n,r){function i(e,i,a,o){var s=Lr(null,i,t,n,r),u=Lr(null,a,t,n,r),l=Lr(null,o,t,n,r);return"this."+e+"("+[s,u,l].join(",")+").toString()"}return e.c?i("hcl",e.h,e.c,e.l):e.h||e.s?i("hsl",e.h,e.s,e.l):e.l||e.a?i("lab",e.l,e.a,e.b):e.r||e.g||e.b?i("rgb",e.r,e.g,e.b):null},Dr=function(e,n,r,i){var a=Tn(e,n);return a.$fields.forEach(function(e){i[e]=1}),t.extend(r,a.$params),a.$expr},Rr=function(e,n,r,i){return tt(t.isObject(e)?e:{datum:e},n,r,i)},Nr=function(e,t,n,r,i){var a,o,s,u=rt(e.scale,n,r,i);return null!=e.range?(a=+e.range,o=u+".range()",t=0===a?o+"[0]":"($="+o+","+(1===a?"$[$.length-1]":"$[0]+"+a+"*($[$.length-1]-$[0])")+")"):(void 0!==t&&(t=u+"("+t+")"),e.band&&(s=nt(e.scale,n))&&(o=u+".bandwidth",a=+e.band,a=o+"()"+(1===a?"":"*"+a),s<0&&(a="("+o+"?"+a+":0)"),t=(t?t+"+":"")+a,e.extra&&(t="(datum.extra?"+u+"(datum.extra.value):"+t+")")),null==t&&(t="0")),t},Ir=function(e,n,r,i){return"this.gradient("+rt(e.gradient,n,r,i)+","+t.stringValue(e.start)+","+t.stringValue(e.stop)+","+t.stringValue(e.count)+")"},Fr=function(e,n,r,i){return t.isObject(e)?"("+Lr(null,e,n,r,i)+")":e},Lr=function(e,n,r,i,a){if(null!=n.gradient)return Ir(n,r,i,a);var o=n.signal?Dr(n.signal,r,i,a):n.color?Ar(n.color,r,i,a):null!=n.field?Rr(n.field,r,i,a):void 0!==n.value?t.stringValue(n.value):void 0;return null!=n.scale&&(o=Nr(n,o,r,i,a)),void 0===o&&(o=null),null!=n.exponent&&(o="Math.pow("+o+","+Fr(n.exponent,r,i,a)+")"),null!=n.mult&&(o+="*"+Fr(n.mult,r,i,a)),null!=n.offset&&(o+="+"+Fr(n.offset,r,i,a)),n.round&&(o="Math.round("+o+")"),o},jr=function(e,n,r){return e+"["+t.stringValue(n)+"]="+r+";"},zr=function(e,t,n,r,i){var a="";return t.forEach(function(t){var o=Lr(e,t,n,r,i);a+=t.test?Dr(t.test,n,r,i)+"?"+o+":":o}),jr("o",e,a)},$r="mark",Ur="frame",Br="scope",qr="axis",Wr="axis-domain",Vr="axis-grid",Hr="axis-label",Gr="axis-tick",Yr="axis-title",Xr="legend",Qr="legend-entry",Kr="legend-gradient",Jr="legend-label",Zr="legend-symbol",ei="legend-title",ti="title",ni=function(e,t,n,r,i,a){return{type:e,name:a?a.name:void 0,role:t,key:n,from:r,interactive:!(!a||!a.interactive),encode:st(i,a,Mr)}},ri="group",ii="rect",ai="rule",oi="symbol",si="text",ui=function(e,t,n){var r,i,a={value:0},o={};return o.enter=r={opacity:a,x:a,y:a},ot(r,"width",t.gradientWidth),ot(r,"height",t.gradientHeight),ot(r,"stroke",t.gradientStrokeColor),ot(r,"strokeWidth",t.gradientStrokeWidth),o.exit={opacity:a},o.update=i={x:a,y:a,fill:{gradient:e},opacity:{value:1}},ot(i,"width",t.gradientWidth),ot(i,"height",t.gradientHeight),ni(ii,Kr,void 0,void 0,o,n)},li="datum."+Sr+'<=0?"left":datum.'+Sr+'>=1?"right":"center"',ci=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o,text:{field:_r}},ot(i,"fill",t.labelColor),ot(i,"font",t.labelFont),ot(i,"fontSize",t.labelFontSize),ot(i,"baseline",t.gradientLabelBaseline),ot(i,"limit",t.gradientLabelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:Sr,mult:t.gradientWidth},i.y=a.y={value:t.gradientHeight,offset:t.gradientLabelOffset},i.align=a.align={signal:li},ni(si,Jr,Sr,r,s,n)},fi=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o,text:{field:_r}},ot(i,"align",t.labelAlign),ot(i,"baseline",t.labelBaseline),ot(i,"fill",t.labelColor),ot(i,"font",t.labelFont),ot(i,"fontSize",t.labelFontSize),ot(i,"limit",t.labelLimit),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:xr,offset:t.labelOffset},i.y=a.y={field:wr,mult:.5,offset:{field:Or,offset:{field:{group:"entryPadding"},mult:{field:br}}}},ni(si,Jr,kr,r,s,n)},di=function(e,t,n,r){var i,a,o={value:0},s={};return s.enter=i={opacity:o},ot(i,"shape",t.symbolType),ot(i,"size",t.symbolSize),ot(i,"strokeWidth",t.symbolStrokeWidth),e.fill||ot(i,"stroke",t.symbolColor),s.exit={opacity:o},s.update=a={opacity:{value:1}},i.x=a.x={field:xr,mult:.5},i.y=a.y={field:wr,mult:.5,offset:{field:Or,offset:{field:{group:"entryPadding"},mult:{field:br}}}},Er.forEach(function(t){e[t]&&(a[t]=i[t]={scale:e[t],field:kr})}),ni(oi,Zr,kr,r,s,n)},pi=function(e,t,n,r){var i,a={value:0},o=e.title,s={};return s.enter=i={x:{field:{group:"padding"}},y:{field:{group:"padding"}},opacity:a},ot(i,"align",t.titleAlign),ot(i,"baseline",t.titleBaseline),ot(i,"fill",t.titleColor),ot(i,"font",t.titleFont),ot(i,"fontSize",t.titleFontSize),ot(i,"fontWeight",t.titleFontWeight),ot(i,"limit",t.titleLimit),s.exit={opacity:a},s.update={opacity:{value:1},text:o&&o.signal?{signal:o.signal}:{value:o+""}},ni(si,ei,null,r,s,n)},hi=function(e,t,n,r,i,a){return{type:ri,name:t,role:e,from:n,interactive:r,encode:i,marks:a}},mi=function(e){var t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")?e.type===ri?Br:t||$r:t},gi=function(e){return{clip:e.clip||!1,interactive:e.interactive!==!1,marktype:e.type,name:e.name||void 0,role:e.role||mi(e),zindex:+e.zindex||void 0}},yi=function(e){return e},vi=function(e,n){var r=c.definition(e.type);r||t.error("Unrecognized transform type: "+t.stringValue(e.type));var i=Ee(r.type,null,ft(r,e,n));return e.signal&&n.addSignal(e.signal,n.proxy(i)),i.metadata=r.metadata||{},i},bi=function(e,n,r){var i,a,o,s,u;return e?(i=e.facet)&&(n||t.error("Only group marks can be faceted."),null!=i.field?s=u=Te(r.getData(i.data).output):(a=r.keyRef(i.groupby),e.data?u=Te(r.getData(e.data).aggregate):(o=vi(t.extend({type:"aggregate",groupby:t.array(i.groupby)},i.aggregate)),o.params.key=a,o.params.pulse=Te(r.getData(i.data).output),s=u=Te(r.add(o))))):s=Te(r.add(Un(null,[{}]))),s||(s=e.$ref?e:Te(e.mark?r.getData(yi(e.mark)).output:r.getData(e.data).output)),{key:a,pulse:s,parent:u}};wt.fromEntries=function(e,t){var n=t.length,r=1,i=t[0],a=t[n-1],o=t[n-2],s=null;for(e.add(t[0]);r<n;++r)t[r].params.pulse=Te(t[r-1]),e.add(t[r]),"Aggregate"===t[r].type&&(s=t[r]);return new wt(e,i,o,a,s)};var _i=wt.prototype;_i.countsRef=function(e,t,n){var r,i,a,o=this,s=o.counts||(o.counts={}),u=Ot(t);return null!=u&&(e=o.scope,r=s[u]),r?n&&n.field&&kt(e,r.agg.params,n):(a={groupby:e.fieldRef(t,"key"),pulse:Te(o.output)},n&&n.field&&kt(e,a,n),i=e.add(jn(a)),r=e.add(Un({pulse:Te(i)})),r={agg:i,ref:Te(r)},null!=u&&(s[u]=r)),r.ref},_i.tuplesRef=function(){return Te(this.values)},_i.extentRef=function(e,t){return Et(e,this,"extent","Extent",t,!1)},_i.domainRef=function(e,t){return Et(e,this,"domain","Values",t,!1)},_i.valuesRef=function(e,t,n){return Et(e,this,"vals","Values",t,n||!0)},_i.lookupRef=function(e,t){return Et(e,this,"lookup","TupleIndex",t,!1)},_i.indataRef=function(e,t){return Et(e,this,"indata","TupleIndex",t,!0,!0)};var xi=function(e,n,r){var i,a,o,s,u=e.from.facet,l=u.name,c=Te(n.getData(u.data).output);u.name||t.error("Facet must have a name: "+t.stringValue(u)),u.data||t.error("Facet must reference a data set: "+t.stringValue(u)),u.field?s=n.add(er({field:n.fieldRef(u.field),pulse:c})):u.groupby?s=n.add(Vn({key:n.keyRef(u.groupby),group:Te(n.proxy(r.parent)),pulse:c})):t.error("Facet must specify groupby or field: "+t.stringValue(u)),i=n.fork(),a=i.add(Un()),o=i.add(or({pulse:Te(a)})),i.addData(l,new wt(i,a,a,o)),i.addSignal("parent",null),s.params.subflow={$subflow:Ni(e,i).toRuntime()}},Si=function(e,t,n){var r=t.add(er({pulse:n.pulse})),i=t.fork();i.add(or()),i.addSignal("parent",null),r.params.subflow={$subflow:Ni(e,i).toRuntime()}},wi=function(e,t,n){var r,i,a=e.remove,o=e.insert,s=e.toggle,u=e.modify,l=e.values,c=t.add(Me());r="if("+e.trigger+',modify("'+n+'",'+[o,a,s,u,l].map(function(e){return null==e?"null":e}).join(",")+"),0)",i=Tn(r,t),c.update=i.$expr,c.params=i.$params},Oi=function(e,n){var r,i,a,o,s,u,l,c,f,d,p,h,m,g=mi(e),y=e.type===ri,v=e.from&&e.from.facet,b=e.layout||g===Br||g===Ur,_=g===$r||b||v;a=bi(e.from,y,n),i=n.add(qn({key:a.key||(e.key?Pe(e.key):void 0),pulse:a.pulse,clean:!y})),f=Te(i),i=o=n.add(Un({pulse:f})),i=n.add(Xn({markdef:gi(e),context:{$context:!0},groups:n.lookup(),parent:n.signals.parent?n.signalRef("parent"):null,index:n.markpath(),pulse:Te(i)})),d=Te(i),i=n.add(Wn(ut(e.encode,e.type,g,n,{pulse:d}))),i.params.parent=n.encode(),e.transform&&e.transform.forEach(function(e){var r=vi(e,n);(r.metadata.generates||r.metadata.changes)&&t.error("Mark transforms should not generate new data."),r.params.pulse=Te(i),n.add(i=r)}),e.sort&&(i=n.add(sr({sort:n.compareRef(e.sort),pulse:Te(i)}))),p=Te(i),(v||b)&&(b=n.add(ur({layout:n.objectProperty(e.layout),legendMargin:n.config.legendMargin,mark:d,pulse:p})),h=Te(b)),s=n.add($n({mark:d,pulse:h||p})),m=Te(s),y&&(_&&(r=n.operators,r.pop(),b&&r.pop()),n.pushState(p,h||m,f),v?xi(e,n,a):_?Si(e,n,a):Ni(e,n),n.popState(),_&&(b&&r.push(b),r.push(s))),e.overlap&&(m=Te(n.add(Jn({method:e.overlap===!0?"parity":e.overlap,pulse:m})))),u=n.add(ir({pulse:m})),l=n.add(or({pulse:m},void 0,n.parent())),null!=e.name&&(c=yi(e.name),n.addData(c,new wt(n,o,u,l)),e.on&&e.on.forEach(function(e){(e.insert||e.remove||e.toggle)&&t.error("Marks only support modify triggers."),wi(e,n,c)}))},ki=function(e,n){var r,i,a,o,s,u,l,c=e.type||"symbol",f=n.config.legend,d=e.encode||{},p=d.legend||{},h=p.name||void 0,m=!!p.interactive,g=e.size||e.shape||e.fill||e.stroke||e.strokeDash||e.opacity;return g||t.error("Missing valid scale for legend."),r={orient:Mt(e.orient,f.orient),title:null!=e.title},i=Te(n.add(Un(null,[r]))),p=st({enter:Pt(f),update:{offset:at(Mt(e.offset,f.offset)),padding:at(Mt(e.padding,f.padding)),titlePadding:at(Mt(e.titlePadding,f.titlePadding))}},p,Mr),u={update:{x:{field:{group:"padding"}},y:{field:{group:"padding"}},entryPadding:at(Mt(e.entryPadding,f.entryPadding))}},"gradient"===c?(a=Te(n.add(Yn({type:"gradient",scale:n.scaleRef(g),count:n.property(e.tickCount),values:n.objectProperty(e.values),formatSpecifier:n.property(e.format)}))),l=[ui(g,f,d.gradient),ci(e,f,d.labels,a)]):(a=Te(n.add(Yn({size:Tt(e,f,d.labels),scale:n.scaleRef(g),count:n.property(e.tickCount),values:n.property(e.values),formatSpecifier:n.property(e.format)}))),l=[di(e,f,d.symbols,a),fi(e,f,d.labels,a)]),l=[hi(Qr,null,i,m,u,l)],r.title&&(s=pi(e,f,d.title,i),u.update.y.offset={field:{group:"titlePadding"},offset:s.encode.update.fontSize||s.encode.enter.fontSize},l.push(s)),o=hi(Xr,h,i,m,p,l),e.zindex&&(o.zindex=e.zindex),Oi(o,n)},Ei=function(e,n){e=t.isString(e)?{text:e}:e;var r,i,a,o=n.config.title,s=t.extend({},e.encode);return r={orient:null!=e.orient?e.orient:o.orient},i=Te(n.add(Un(null,[r]))),s.name=e.name,s.interactive=e.interactive,a=Ct(e,o,s,i),e.zindex&&(a.zindex=e.zindex),Oi(a,n)},Mi=function(e,n){var r=n.config,i=e.orient,a=i===mr||i===vr?r.axisX:r.axisY,o=r["axis"+i[0].toUpperCase()+i.slice(1)],s="band"===n.scaleType(e.scale)&&r.axisBand;return a||o||s?t.extend({},r.axis,a,o,s):r.axis},Ti=function(e,t,n,r){var i,a,o,s,u,l=e.orient,c={value:0},f={};return f.enter=i={opacity:c},ot(i,"stroke",t.domainColor),ot(i,"strokeWidth",t.domainWidth),f.exit={opacity:c},f.update=a={opacity:{value:1}},l===mr||l===vr?(o="x",u="y"):(o="y",u="x"),s=o+"2",i[u]=c,a[o]=i[o]=Nt(e,0),a[s]=i[s]=Nt(e,1),ni(ai,Wr,null,r,f,n)},Pi=function(e,t,n,r){var i,a,o,s,u,l,c,f,d=e.orient,p=e.gridScale,h=d===gr||d===mr?1:-1,m=h*e.offset||0,g={value:0},y={};return y.enter=i={opacity:g},ot(i,"stroke",t.gridColor),ot(i,"strokeWidth",t.gridWidth),ot(i,"strokeDash",t.gridDash),y.exit=a={opacity:g},y.update=o={},ot(o,"opacity",t.gridOpacity),s={scale:e.scale,field:kr,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},d===mr||d===vr?(u="x",l="y",f="height"):(u="y",l="x",f="width"),c=l+"2",o[u]=i[u]=a[u]=s,p?(i[l]={scale:p,range:0,mult:h,offset:m},o[c]=i[c]={scale:p,range:1,mult:h,offset:m}):(i[l]={value:m},o[c]=i[c]={signal:f,mult:h,offset:m}),ni(ai,Vr,kr,r,y,n)},Ci=function(e,t,n,r,i){var a,o,s,u,l,c=e.orient,f=c===gr||c===mr?-1:1,d={value:0},p={};return p.enter=a={opacity:d},ot(a,"stroke",t.tickColor),ot(a,"strokeWidth",t.tickWidth),p.exit=o={opacity:d},p.update=s={opacity:{value:1}},u=at(i),u.mult=f,l={scale:e.scale,field:kr,band:t.bandPosition,round:t.tickRound,extra:t.tickExtra,offset:t.tickOffset},c===mr||c===vr?(s.y=a.y=d,s.y2=a.y2=u,s.x=a.x=o.x=l):(s.x=a.x=d,s.x2=a.x2=u,s.y=a.y=o.y=l),ni(ai,Gr,kr,r,p,n)},Ai=function(e,t,n,r,i){var a,o,s,u,l,c=e.orient,f=e.labelOverlap,d=c===gr||c===mr?-1:1,p=null!=e.labelPadding?e.labelPadding:t.labelPadding,h={value:0},m={};return m.enter=a={opacity:h},ot(a,"angle",t.labelAngle),ot(a,"fill",t.labelColor),ot(a,"font",t.labelFont),ot(a,"fontSize",t.labelFontSize),ot(a,"limit",t.labelLimit),m.exit=o={opacity:h},m.update=s={opacity:{value:1},text:{field:_r}},u=at(i),u.mult=d,u.offset=at(p),u.offset.mult=d,l={scale:e.scale,field:kr,band:.5,offset:t.tickOffset},c===mr||c===vr?(s.y=a.y=u,s.x=a.x=o.x=l,ot(s,"align","center"),ot(s,"baseline",c===mr?"bottom":"top")):(s.x=a.x=u,s.y=a.y=o.y=l,ot(s,"align",c===yr?"left":"right"),ot(s,"baseline","middle")),e=ni(si,Hr,kr,r,m,n),e.overlap=f||t.labelOverlap,e},Di=function(e,t,n,r){var i,a,o,s=e.orient,u=e.title,l=s===gr||s===mr?-1:1,c=s===mr||s===vr,f={};return f.enter=i={opacity:{value:0}},ot(i,"align",t.titleAlign),ot(i,"fill",t.titleColor),ot(i,"font",t.titleFont),ot(i,"fontSize",t.titleFontSize),ot(i,"fontWeight",t.titleFontWeight),ot(i,"limit",t.titleLimit),f.exit={opacity:{value:0}},f.update=a={opacity:{value:1},text:u&&u.signal?{signal:u.signal}:{value:u+""}},o={scale:e.scale,range:.5},c?(a.x=o,a.angle={value:0},a.baseline={value:s===mr?"bottom":"top"}):(a.y=o,a.angle={value:90*l},a.baseline={value:"bottom"}),ot(a,"angle",t.titleAngle),ot(a,"baseline",t.titleBaseline),!ot(a,"x",t.titleX)&&c&&!ct(n,"x")&&(f.enter.auto={value:!0}),!ot(a,"y",t.titleY)&&!c&&!ct(n,"y")&&(f.enter.auto={value:!0}),ni(si,Yr,null,r,f,n)},Ri=function(e,t){var n,r,i,a,o,s,u=Mi(e,t),l=e.encode||{},c=l.axis||{},f=c.name||void 0,d=!!c.interactive;return n={orient:e.orient,ticks:null!=e.ticks?!!e.ticks:u.ticks,labels:null!=e.labels?!!e.labels:u.labels,grid:null!=e.grid?!!e.grid:u.grid,domain:null!=e.domain?!!e.domain:u.domain,title:null!=e.title},r=Te(t.add(Un({},[n]))),c=st({update:{range:{signal:'abs(span(range("'+e.scale+'")))'},offset:at(e.offset||0),position:at(e.position||0),titlePadding:at(e.titlePadding||u.titlePadding),minExtent:at(e.minExtent||u.minExtent),maxExtent:at(e.maxExtent||u.maxExtent)}},l.axis,Mr),i=Te(t.add(zn({scale:t.scaleRef(e.scale),extra:u.tickExtra,count:t.property(e.tickCount),values:t.objectProperty(e.values),formatSpecifier:t.property(e.format)}))),s=[],n.grid&&s.push(Pi(e,u,l.grid,i)),n.ticks&&(a=null!=e.tickSize?e.tickSize:u.tickSize,s.push(Ci(e,u,l.ticks,i,a))),n.labels&&(a=n.ticks?a:0,s.push(Ai(e,u,l.labels,i,a))),n.domain&&s.push(Ti(e,u,l.domain,r)),n.title&&s.push(Di(e,u,l.title,r)),o=hi(qr,f,r,d,c,s),e.zindex&&(o.zindex=e.zindex),Oi(o,t)},Ni=function(e,n,r){var i=t.array(e.signals),a=t.array(e.scales);return r||i.forEach(function(e){Ht(e,n)}),t.array(e.projections).forEach(function(e){hr(e,n)}),a.forEach(function(e){je(e,n)}),t.array(e.data).forEach(function(e){At(e,n)}),a.forEach(function(e){ze(e,n)}),i.forEach(function(e){Nn(e,n)}),t.array(e.axes).forEach(function(e){Ri(e,n)}),t.array(e.marks).forEach(function(e){Oi(e,n)}),t.array(e.legends).forEach(function(e){ki(e,n)}),e.title&&Ei(e.title,n),n.parseLambdas(),n},Ii=t.toSet(["width","height","padding"]),Fi=Ft.prototype=Lt.prototype;Fi.fork=function(){return new Lt(this)},Fi.toRuntime=function(){return this.finish(),{background:this.background,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings}},Fi.id=function(){return(this._subid?this._subid+":":0)+this._id++},Fi.add=function(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(function(t){t.$ref=e.id}),e.refs=null),e},Fi.proxy=function(e){var t=e instanceof ke?Te(e):e;return this.add(nr({value:t}))},Fi.addStream=function(e){return this.streams.push(e),e.id=this.id(),e},Fi.addUpdate=function(e){return this.updates.push(e),e},Fi.finish=function(){function e(e,t,n){var r,i;e&&(r=e.data||(e.data={}),i=r[t]||(r[t]=[]),i.push(n))}var t,n;this.root&&(this.root.root=!0);for(t in this.signals)this.signals[t].signal=t;for(t in this.scales)this.scales[t].scale=t;for(t in this.data){n=this.data[t],e(n.input,t,"input"),e(n.output,t,"output"),e(n.values,t,"values");for(var r in n.index)e(n.index[r],t,"index:"+r)}return this},Fi.pushState=function(e,t,n){this._encode.push(Te(this.add(or({pulse:e})))),this._parent.push(t),this._lookup.push(n?Te(this.proxy(n)):null),this._markpath.push(-1)},Fi.popState=function(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},Fi.parent=function(){return t.peek(this._parent)},Fi.encode=function(){return t.peek(this._encode)},Fi.lookup=function(){return t.peek(this._lookup)},Fi.markpath=function(){var e=this._markpath;return++e[e.length-1]},Fi.fieldRef=function(e,n){if(t.isString(e))return Pe(e,n);e.signal||t.error("Unsupported field reference: "+t.stringValue(e));var r,i=e.signal,a=this.field[i];return a||(r={name:this.signalRef(i)},n&&(r.as=n),this.field[i]=a=Te(this.add(Hn(r)))),a},Fi.compareRef=function(e){function n(e){return Ne(e)?(i=!0,Te(r[e.signal])):e}var r=this.signals,i=!1,a=t.array(e.field).map(n),o=t.array(e.order).map(n);return i?Te(this.add(Bn({fields:a,orders:o}))):Ce(a,o)},Fi.keyRef=function(e){function n(e){return Ne(e)?(i=!0,Te(r[e.signal])):e}var r=this.signals,i=!1;return e=t.array(e).map(n),i?Te(this.add(Gn({fields:e}))):Ae(e)},Fi.sortRef=function(e){if(!e)return e;var t=[Re(e.op,e.field),"_id"],n=e.order||Fn;return n.signal?Te(this.add(Bn({fields:t,orders:[n=this.signalRef(n.signal),n]}))):Ce(t,[n,n])},Fi.event=function(e,t){var n=e+":"+t;if(!this.events[n]){var r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},Fi.addSignal=function(e,n){this.signals.hasOwnProperty(e)&&t.error("Duplicate signal name: "+t.stringValue(e));var r=n instanceof ke?n:this.add(Me(n));return this.signals[e]=r},Fi.getSignal=function(e){return this.signals[e]||t.error("Unrecognized signal name: "+t.stringValue(e)),
this.signals[e]},Fi.signalRef=function(e){return this.signals[e]?Te(this.signals[e]):(this.lambdas.hasOwnProperty(e)||(this.lambdas[e]=this.add(Me(null))),Te(this.lambdas[e]))},Fi.parseLambdas=function(){for(var e=Object.keys(this.lambdas),t=0,n=e.length;t<n;++t){var r=e[t],i=Tn(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},Fi.property=function(e){return e&&e.signal?this.signalRef(e.signal):e},Fi.objectProperty=function(e){return e&&t.isObject(e)?this.signalRef(e.signal||jt(e)):e},Fi.addBinding=function(e,n){this.bindings||t.error("Nested signals do not support binding: "+t.stringValue(e)),this.bindings.push(t.extend({signal:e},n))},Fi.addScaleProj=function(e,n){this.scales.hasOwnProperty(e)&&t.error("Duplicate scale or projection name: "+t.stringValue(e)),this.scales[e]=this.add(n)},Fi.addScale=function(e,t){this.addScaleProj(e,ar(t))},Fi.addProjection=function(e,t){this.addScaleProj(e,tr(t))},Fi.getScale=function(e){return this.scales[e]||t.error("Unrecognized scale name: "+t.stringValue(e)),this.scales[e]},Fi.projectionRef=Fi.scaleRef=function(e){return Te(this.getScale(e))},Fi.projectionType=Fi.scaleType=function(e){return this.getScale(e).params.type},Fi.addData=function(e,n){return this.data.hasOwnProperty(e)&&t.error("Duplicate data set name: "+t.stringValue(e)),this.data[e]=n},Fi.getData=function(e){return this.data[e]||t.error("Undefined data set name: "+t.stringValue(e)),this.data[e]},Fi.addDataPipeline=function(e,n){return this.data.hasOwnProperty(e)&&t.error("Duplicate data set name: "+t.stringValue(e)),this.addData(e,wt.fromEntries(this,n))};var Li=function(e){var n=Ut();return(e||[]).forEach(function(e){var r;if(e)for(r in e)n[r]=t.isObject(n[r])?t.extend(n[r],e[r]):n[r]=e[r]}),n},ji=30,zi=2,$i="#4c78a8",Ui="#000",Bi="#888",qi="#ddd",Wi=function(e,n){return t.isObject(e)||t.error("Input Vega specification must be an object."),It(e,new Ft(Li([n,e.config]))).toRuntime()};e.parse=Wi,e.signal=Ht,e.signalUpdates=Nn,e.stream=An,e.codeGenerator=En,e.functionContext=_n,e.expressionFunction=ge,e.MarkRole=$r,e.FrameRole=Ur,e.ScopeRole=Br,e.AxisRole=qr,e.AxisDomainRole=Wr,e.AxisGridRole=Vr,e.AxisLabelRole=Hr,e.AxisTickRole=Gr,e.AxisTitleRole=Yr,e.LegendRole=Xr,e.LegendEntryRole=Qr,e.LegendLabelRole=Jr,e.LegendSymbolRole=Zr,e.LegendTitleRole=ei,e.Scope=Ft,e.DataScope=wt,e.formatLocale=a.formatDefaultLocale,e.timeFormatLocale=o.timeFormatDefaultLocale,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(7))}(this,function(e,t){"use strict";function n(e,t,n){";"!==t[t.length-1]&&(t="return("+t+");");var r=Function.apply(null,e.concat(t));return n&&n.functions?r.bind(n.functions):r}function r(e,t){return n(["_"],e,t)}function i(e,t){return n(["datum","_"],e,t)}function a(e,t){return n(["event"],e,t)}function o(e,t){return n(["_","event"],e,t)}function s(e,t){return n(["item","_"],e,t)}function u(e,n,r){r=r||{};var i,a;for(i in e)a=e[i],a&&a.$expr&&a.$params&&u(a.$params,n,r),r[i]=t.isArray(a)?a.map(function(e){return l(e,n)}):l(a,n);return r}function l(e,n){if(!e||!t.isObject(e))return e;for(var r,i=0,a=w.length;i<a;++i)if(r=w[i],e.hasOwnProperty(r.key))return r.parse(e,n);return e}function c(e,n){return n.get(e.$ref)||t.error("Operator not defined: "+e.$ref)}function f(e,n){var r="e:"+e.$expr;return n.fn[r]||(n.fn[r]=t.accessor(i(e.$expr,n),e.$fields,e.$name))}function d(e,n){var r="k:"+e.$key;return n.fn[r]||(n.fn[r]=t.key(e.$key))}function p(e,n){var r="f:"+e.$field+"_"+e.$name;return n.fn[r]||(n.fn[r]=t.field(e.$field,e.$name))}function h(e,n){var r="c:"+e.$compare+"_"+e.$order;return n.fn[r]||(n.fn[r]=t.compare(e.$compare,e.$order))}function m(e,n){var r,i,a=e.$encode,o={};for(r in a)i=a[r],o[r]=t.accessor(s(i.$expr,n),i.$fields),o[r].output=i.$output;return o}function g(e,t){return t}function y(e,t){var n=e.$subflow;return function(e,r,i){var a=M(n,t.fork()),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(i),o}}function v(e,n){var r,i;e.params&&((r=n.get(e.id))||t.error("Invalid operator id: "+e.id),i=u(e.params,n),n.dataflow.connect(r,r.parameters(i)))}function b(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(function(n){var i=t.signals[n];e.signals(n,i)&&(r[n]=i.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(function(n){var r=t.data[n];e.data(n,r)&&(i[n]=r.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(function(t){return t.getState(e)})),n}function _(e){var n=this,r=n.dataflow,i=e.data,a=e.signals;Object.keys(a||{}).forEach(function(e){r.update(n.signals[e],a[e],T)}),Object.keys(i||{}).forEach(function(e){r.pulse(n.data[e].input,r.changeset().remove(t.truthy).insert(i[e]))}),(e.subcontext||[]).forEach(function(e,t){var n=n.subcontext[t];n&&n.setState(e)})}function x(e,t,n){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function S(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.functions=e.functions,this.events=e.events,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}var w=[{key:"$ref",parse:c},{key:"$key",parse:d},{key:"$expr",parse:f},{key:"$field",parse:p},{key:"$encode",parse:m},{key:"$compare",parse:h},{key:"$context",parse:g},{key:"$subflow",parse:y}],O=function(e,t){"Operator"!==e.type&&e.type?t.transform(e,e.type):t.operator(e,e.update?r(e.update,t):null)},k=function(e,n){var r,i=null!=e.filter?a(e.filter,n):void 0,o=null!=e.stream?n.get(e.stream):void 0;e.source?o=n.events(e.source,e.type,i):e.merge&&(r=e.merge.map(n.get.bind(n)),o=r[0].merge.apply(r[0],r.slice(1))),e.between&&(r=e.between.map(n.get.bind(n)),o=o.between(r[0],r[1])),e.filter&&(o=o.filter(i)),null!=e.throttle&&(o=o.throttle(+e.throttle)),null!=e.debounce&&(o=o.debounce(+e.debounce)),null==o&&t.error("Invalid stream definition: "+JSON.stringify(e)),e.consume&&o.consume(!0),n.stream(e,o)},E=function(e,n){var r=n.get(e.source),i=null,s=e.update,l=void 0;r||t.error("Source not defined: "+e.source),i=e.target&&e.target.$expr?a(e.target.$expr,n):n.get(e.target),s&&s.$expr&&(s.$params&&(l=u(s.$params,n)),s=o(s.$expr,n)),n.update(e,r,i,s,l)},M=function(e,t){var n=e.operators||[];return e.background&&(t.background=e.background),n.forEach(function(e){O(e,t)}),n.forEach(function(e){v(e,t)}),(e.streams||[]).forEach(function(e){k(e,t)}),(e.updates||[]).forEach(function(e){E(e,t)}),t.resolve()},T={skip:!0},P=function(e,t,n){return new x(e,t,n)};x.prototype=S.prototype={fork:function(){var e=new S(this);return(this.subcontext||(this.subcontext=[])).push(e),e},get:function(e){return this.nodes[e]},set:function(e,t){return this.nodes[e]=t},add:function(e,t){var n,r=this,i=r.dataflow;if(r.set(e.id,t),"Collect"===e.type&&(n=e.value)&&(n.$ingest?i.ingest(t,n.$ingest,n.$format):n.$request?i.request(t,n.$request,n.$format):i.pulse(t,i.changeset().insert(n))),e.root&&(r.root=t),e.parent){var a=r.get(e.parent.$ref);a?(i.connect(a,[t]),t.targets().add(a)):(r.unresolved=r.unresolved||[]).push(function(){a=r.get(e.parent.$ref),i.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(r.signals[e.signal]=t),e.scale&&(r.scales[e.scale]=t),e.data)for(var o in e.data)n=r.data[o]||(r.data[o]={}),e.data[o].forEach(function(e){n[e]=t})},resolve:function(){return(this.unresolved||[]).forEach(function(e){e()}),delete this.unresolved,this},operator:function(e,t,n){this.add(e,this.dataflow.add(e.value,t,n,e.react))},transform:function(e,t,n){this.add(e,this.dataflow.add(this.transforms[t],n))},stream:function(e,t){this.set(e.id,t)},update:function(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},getState:b,setState:_},e.parse=M,e.context=P,e.expression=n,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(40))}(this,function(e,t){"use strict";function n(e){return null===e?NaN:+e}function r(e){var n=e.length,r=l(e),i=(r[2]-r[0])/1.34;return 1.06*Math.min(Math.sqrt(t.variance(e)),i)*Math.pow(n,-.2)}var i=function(e){var t,n,r,i,a,o,s,u,l=e.maxbins||20,c=e.base||10,f=Math.log(c),d=e.divide||[5,2],p=e.extent[0],h=e.extent[1],m=h-p;if(e.step)t=e.step;else if(e.steps){for(a=m/l,o=0,s=e.steps.length;o<s&&e.steps[o]<a;++o);t=e.steps[Math.max(0,o-1)]}else{for(n=Math.ceil(Math.log(l)/f),r=e.minstep||0,t=Math.max(r,Math.pow(c,Math.round(Math.log(m)/f)-n));Math.ceil(m/t)>l;)t*=c;for(o=0,s=d.length;o<s;++o)a=t/d[o],a>=r&&m/a<=l&&(t=a)}return a=Math.log(t),i=a>=0?0:~~(-a/f)+1,u=Math.pow(c,-i-1),(e.nice||void 0===e.nice)&&(p=Math.min(p,Math.floor(p/t+u)*t),h=Math.ceil(h/t)*t),{start:p,stop:h,step:t}},a=function(e,t){var r,i=[],a=e.length,o=-1;if(null==t)for(;++o<a;)isNaN(r=n(e[o]))||i.push(r);else for(;++o<a;)isNaN(r=n(t(e[o],o,e)))||i.push(r);return i},o=function(e,n,r,i){var o,s,u,l,c=a(e,i),f=c.length,d=n;for(u=0,l=Array(d);u<d;++u){for(o=0,s=0;s<f;++s)o+=c[~~(Math.random()*f)];l[u]=o/f}return[t.quantile(l.sort(t.ascending),r/2),t.quantile(l,1-r/2)]},s=function(e,t){null==t&&(t=e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(n=e||0,i=r-n,a):n},a.max=function(e){return arguments.length?(r=e||0,i=r-n,a):r},a.sample=function(){return n+Math.floor(i*Math.random())},a.pdf=function(e){return e===Math.floor(e)&&e>=n&&e<r?1/i:0},a.cdf=function(e){var t=Math.floor(e);return t<n?0:t>=r?1:(t-n+1)/i},a.icdf=function(e){return e>=0&&e<=1?n-1+Math.floor(e*i):NaN},a.min(e).max(t)},u=function(e,t){var n,r,i=NaN,a={};return a.mean=function(e){return arguments.length?(n=e||0,i=NaN,a):n},a.stdev=function(e){return arguments.length?(r=null==e?1:e,i=NaN,a):r},a.sample=function(){var e,t,a=0,o=0;if(i===i)return a=i,i=NaN,a;do a=2*Math.random()-1,o=2*Math.random()-1,e=a*a+o*o;while(0===e||e>1);return t=Math.sqrt(-2*Math.log(e)/e),i=n+o*t*r,n+a*t*r},a.pdf=function(e){var t=Math.exp(Math.pow(e-n,2)/(-2*Math.pow(r,2)));return 1/(r*Math.sqrt(2*Math.PI))*t},a.cdf=function(e){var t,i=(e-n)/r,a=Math.abs(i);if(a>37)t=0;else{var o,s=Math.exp(-a*a/2);a<7.07106781186547?(o=.0352624965998911*a+.700383064443688,o=o*a+6.37396220353165,o=o*a+33.912866078383,o=o*a+112.079291497871,o=o*a+221.213596169931,o=o*a+220.206867912376,t=s*o,o=.0883883476483184*a+1.75566716318264,o=o*a+16.064177579207,o=o*a+86.7807322029461,o=o*a+296.564248779674,o=o*a+637.333633378831,o=o*a+793.826512519948,o=o*a+440.413735824752,t/=o):(o=a+.65,o=a+4/o,o=a+3/o,o=a+2/o,o=a+1/o,t=s/o/2.506628274631)}return i>0?1-t:t},a.icdf=function(e){if(e<=0||e>=1)return NaN;var t=2*e-1,i=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),a=2/(Math.PI*i)+Math.log(1-Math.pow(t,2))/2,o=Math.log(1-t*t)/i,s=(t>0?1:-1)*Math.sqrt(Math.sqrt(a*a-o)-a);return n+r*Math.SQRT2*s},a.mean(e).stdev(t)},l=function(e,n){var r=a(e,n);return[t.quantile(r.sort(t.ascending),.25),t.quantile(r,.5),t.quantile(r,.75)]},c=function(e,t){var n=u(),i={},a=0;return i.data=function(n){return arguments.length?(e=n,a=n?n.length:0,i.bandwidth(t)):e},i.bandwidth=function(n){return arguments.length?(t=n,!t&&e&&(t=r(e)),i):t},i.sample=function(){return e[~~(Math.random()*a)]+t*n.sample()},i.pdf=function(r){for(var i=0,o=0;o<a;++o)i+=n.pdf((r-e[o])/t);return i/t/a},i.cdf=function(r){for(var i=0,o=0;o<a;++o)i+=n.cdf((r-e[o])/t);return i/a},i.icdf=function(){throw Error("KDE icdf not supported.")},i.data(e)},f=function(e,t){function n(e){var t,n=[],r=0;for(t=0;t<a;++t)r+=n[t]=null==e[t]?1:+e[t];for(t=0;t<a;++t)n[t]/=r;return n}var r,i={},a=0;return i.weights=function(e){return arguments.length?(r=n(t=e||[]),i):t},i.distributions=function(n){return arguments.length?(n?(a=n.length,e=n):(a=0,e=[]),i.weights(t)):e},i.sample=function(){for(var t=Math.random(),n=e[a-1],i=r[0],o=0;o<a-1;i+=r[++o])if(t<i){n=e[o];break}return n.sample()},i.pdf=function(t){for(var n=0,i=0;i<a;++i)n+=r[i]*e[i].pdf(t);return n},i.cdf=function(t){for(var n=0,i=0;i<a;++i)n+=r[i]*e[i].cdf(t);return n},i.icdf=function(){throw Error("Mixture icdf not supported.")},i.distributions(e).weights(t)},d=function(e,t){null==t&&(t=null==e?1:e,e=0);var n,r,i,a={};return a.min=function(e){return arguments.length?(n=e||0,i=r-n,a):n},a.max=function(e){return arguments.length?(r=e||0,i=r-n,a):r},a.sample=function(){return n+i*Math.random()},a.pdf=function(e){return e>=n&&e<=r?1/i:0},a.cdf=function(e){return e<n?0:e>r?1:(e-n)/i},a.icdf=function(e){return e>=0&&e<=1?n+e*i:NaN},a.min(e).max(t)};e.bin=i,e.bootstrapCI=o,e.randomInteger=s,e.randomKDE=c,e.randomMixture=f,e.randomNormal=u,e.randomUniform=d,e.quartiles=l,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AXIS_PROPERTIES=["domain","format","grid","labelPadding","labels","labelOverlap","maxExtent","minExtent","offset","orient","position","tickCount","tickExtra","ticks","tickSize","title","titlePadding","values","zindex"],t.VG_AXIS_PROPERTIES=[].concat(t.AXIS_PROPERTIES,["gridScale"])},function(e,t,n){"use strict";function r(e,t,n,r){var s=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),d=e.axis(t),p=e.config,h={};if(s.type===l.TEMPORAL){var m=e.getScaleComponent(t).get("type")===u.ScaleType.UTC;h.text={signal:f.timeFormatExpression("datum.value",s.timeUnit,d.format,p.axis.shortTimeLabels,p.timeFormat,m)}}var g=i(d,t,s);if(g&&(h.angle={value:g}),h.angle&&"x"===t){var y=a(g,r.orient);y&&(h.align={value:y}),c.contains([90,270],g)&&(h.baseline={value:"middle"})}return h=o.__assign({},h,n),0===c.keys(h).length?void 0:h}function i(e,t,n){return void 0!==e.labelAngle?(e.labelAngle%360+360)%360:t===s.X&&(c.contains([l.NOMINAL,l.ORDINAL],n.type)||n.bin||n.type===l.TEMPORAL)?270:void 0}function a(e,t){if(e&&e>0){if(e>180)return"top"===t?"left":"right";if(e<180)return"top"===t?"right":"left"}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(5),u=n(13),l=n(33),c=n(2),f=n(18);t.labels=r,t.labelAngle=i,t.labelAlign=a},function(e,t,n){"use strict";function r(e){return g.SPATIAL_SCALE_CHANNELS.reduce(function(t,n){if(e.axis(n)){var r={},i=f(n,e);i&&u(i)&&(r.main=i);var a=c(n,e);a&&u(a)&&(r.grid=a),t[n]=[r]}return t},{})}function i(e){for(var t=e.component.axes={},n={},r={top:0,bottom:0,right:0,left:0},i=function(r){r.parseAxisAndHeader(),y.keys(r.component.axes).forEach(function(i){"shared"===e.resolve[i].axis&&"independent"!==n[i]&&e.component.scales[i]?(t[i]=a(t[i],r.component.axes[i]),t[i]?n[i]="shared":(n[i]="independent",delete t[i])):n[i]="independent"})},o=0,s=e.children;o<s.length;o++){var u=s[o];i(u)}y.keys(n).forEach(function(i){for(var a=0,o=e.children;a<o.length;a++){var s=o[a];if(!s.component.axes[i])return;"independent"===n[i]&&(t[i]=(t[i]||[]).concat(s.component.axes[i]),s.component.axes[i].forEach(function(e){var t=e.main.getWithExplicit("orient"),n=t.value,i=t.explicit;if(r[n]>0&&!i){var a=O[n];r[n]>r[a]&&e.main.set("orient",a,!1)}r[n]++})),delete s.component.axes[i]}})}function a(e,t){if(!e)return t.map(function(e){return h.__assign({},e.main?{main:e.main.clone()}:{},e.grid?{grid:e.grid.clone()}:{})});if(e.length===t.length){for(var n=e.length,r=0;r<n;r++){var i=e[r].main,a=t[r].main;if(!!i!=!!a)return;if(i&&a){var s=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(s.explicit&&u.explicit&&s.value!==u.value)return;e[r].main=o(i,a)}var l=e[r].grid,c=t[r].grid;if(!!l!=!!c)return;l&&c&&(e[r].grid=o(l,c))}return e}}function o(e,t){for(var n=function(n){var r=b.mergeValuesWithExplicit(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",function(e,t){switch(n){case"title":return v.titleMerger(e,t);case"gridScale":return{explicit:e.explicit,value:e.value||t.value}}return b.defaultTieBreaker(e,t,n,"axis")});e.setWithExplicit(n,r)},r=0,i=m.VG_AXIS_PROPERTIES;r<i.length;r++){var a=i[r];n(a)}return e}function s(e){return e===!1||null===e}function u(e){return y.some(w,function(t){return l(e,t)})}function l(e,t){return"axis"===t||("grid"===t||"title"===t?!!e.get(t):!s(e.get(t)))}function c(e,t){return d(e,t,!0)}function f(e,t){return d(e,t,!1)}function d(e,t,n){var r=t.axis(e),i=new _.AxisComponentPart({},{scale:t.scaleName(e)});m.AXIS_PROPERTIES.forEach(function(a){var o=p(a,r,e,t,n);if(void 0!==o){var s="values"===a?!!r.values:o===r[a];i.set(a,o,s)}});var a=S.gridScale(t,e,n);void 0!==a&&i.set("gridScale",a,!1);var o=r.encoding||{},s=w.reduce(function(n,r){if(!l(i,r))return n;var a="labels"===r?x.labels(t,e,o.labels||{},i):o[r]||{};return void 0!==a&&y.keys(a).length>0&&(n[r]={update:a}),n},{});return y.keys(s).length>0&&i.set("encode",s,!!r.encoding||!!r.labelAngle),i}function p(e,t,n,r,i){var a=r.fieldDef(n);switch(e){case"labels":return!i&&t.labels;case"labelOverlap":return S.labelOverlap(a,t,n,i);case"domain":return S.domain(e,t,i,n);case"ticks":return S.ticks(e,t,i,n);case"format":return S.format(t,a,r.config);case"grid":return S.grid(r,n,i);case"orient":return S.orient(t,n);case"tickCount":return S.tickCount(t,n,a);case"title":return S.title(t,a,r.config,i);case"values":return S.values(t,r,a);case"zindex":return S.zindex(t,i)}return t[e]}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),m=n(286),g=n(5),y=n(2),v=n(18),b=n(43),_=n(636),x=n(287),S=n(637),w=["domain","grid","labels","ticks","title"];t.parseUnitAxis=r;var O={bottom:"top",top:"bottom",left:"right",right:"left"};t.parseLayerAxis=i,t.parseGridAxis=c,t.parseMainAxis=f},[689,5,28],[690,5,13,2,28],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),a=n(13),o=n(33),s=n(2),u=n(28),l=function(e){function t(t){var n=e.call(this)||this;return n._filteredFields=t,n}return r.__extends(t,e),t.prototype.clone=function(){return new t(s.duplicate(this._filteredFields))},t.make=function(e){var n=e.reduceFieldDef(function(t,n,r){if("filter"===e.config.invalidValues&&!n.aggregate&&n.field){var o=i.isScaleChannel(r)&&e.getScaleComponent(r);if(o){var s=o.get("type");a.hasContinuousDomain(s)&&(t[n.field]=n)}}return t},{});return 0===s.keys(n).length?null:new t(n)},Object.defineProperty(t.prototype,"filteredFields",{get:function(){return this._filteredFields},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){var t=this,n=s.keys(this._filteredFields).map(function(e){return e+" "+s.hash(t._filteredFields[e])}),r=s.keys(e.filteredFields).map(function(t){return t+" "+s.hash(e.filteredFields[t])});s.differArray(n,r)||(this._filteredFields=s.extend(this._filteredFields,e._filteredFields),e.remove())},t.prototype.assemble=function(){var e=this,t=s.keys(this._filteredFields).reduce(function(t,n){var r=e._filteredFields[n];return null!==r&&(t.push("datum["+s.stringValue(r.field)+"] !== null"),s.contains([o.QUANTITATIVE,o.TEMPORAL],r.type)&&t.push("!isNaN(datum["+s.stringValue(r.field)+"])")),t},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null},t}(u.DataFlowNode);t.NullFilterNode=l},[691,2,28,120,121],[693,32,16,186,2,18,28],[695,5,16,13,2,18,28],[697,60,668,8,188,2,179,180,28,120,121,181],[698,13,62],function(e,t,n){"use strict";function r(e){return"top"===e||"left"===e?"header":"footer"}function i(e,t){var n="row"===t?"height":"width",r=e.component.layoutHeaders[t].title,i="row"===t?"y":"x",a="row"===t?"right":"center",s="row"===t?"vertical":void 0;return{name:e.getName(t+"_title"),role:t+"-title",type:"group",marks:[{type:"text",role:t+"-title-text",encode:{update:o.__assign((u={},u[i]={signal:"0.5 * "+n},u.align={value:a},u.text={value:r},u.fill={value:"black"},u.fontWeight={value:"bold"},u),"vertical"===s?{angle:{value:270}}:{})}}]};var u}function a(e,t,n,r,i){if(i){var a=null;r.fieldRef&&i.labels&&(a={text:r.fieldRef,offset:10,orient:"row"===t?"left":"top",encode:{update:o.__assign({fontWeight:{value:"normal"},angle:{value:0},fontSize:{value:10}},"row"===t?{align:{value:"right"},baseline:{value:"middle"}}:{})}});var s=i.axes,u=s&&s.length>0;if(a||u){var l="row"===t?"height":"width";return o.__assign({name:e.getName(t+"_"+n),type:"group",role:t+"-"+n},r.fieldRef?{from:{data:e.getName(t)}}:{},a?{title:a}:{},{encode:{update:(c={},c[l]=i.sizeSignal,c)}},u?{axes:s}:{})}}return null;var c}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.HEADER_CHANNELS=["row","column"],t.HEADER_TYPES=["header","footer"],t.getHeaderType=r,t.getTitleGroup=i,t.getHeaderGroup=a},function(e,t,n){"use strict";function r(e,t,n,r){var i=e.orient||m.getMarkConfig("orient",e,r);e.orient=s(e.type,t,n,i),void 0!==i&&i!==e.orient&&c.warn(c.message.orientOverridden(e.orient,i));var a=e.filled;void 0===a&&(e.filled=o(e,r))}function i(e,t,n,r){var i=m.getMarkConfig("opacity",e,r);if(!t.opacity&&void 0===i){var o=a(e.type,t,n);void 0!==o&&(t.opacity={value:o})}return t}function a(e,t,n){if(h.contains([f.POINT,f.TICK,f.CIRCLE,f.SQUARE],e)&&!u.isAggregate(t))return.7}function o(e,t){var n=m.getMarkConfig("filled",e,t),r=e.type;return void 0!==n?n:r!==f.POINT&&r!==f.LINE&&r!==f.RULE}function s(e,t,n,r){switch(e){case f.POINT:case f.CIRCLE:case f.SQUARE:case f.TEXT:case f.RECT:return}var i=t.y&&t.y2,a=t.x&&t.x2;switch(e){case f.TICK:var o=n.x?n.x.get("type"):null,s=n.y?n.y.get("type"):null;return!d.hasDiscreteDomain(o)&&(!t.y||d.hasDiscreteDomain(s)||l.isFieldDef(t.y)&&t.y.bin)?"vertical":"horizontal";case f.RULE:case f.BAR:case f.AREA:if(i)return"vertical";if(a)return"horizontal";if(e===f.RULE){if(t.x&&!t.y)return"vertical";if(t.y&&!t.x)return"horizontal"}case f.LINE:var u=l.isFieldDef(t.x)&&l.isContinuous(t.x),h=l.isFieldDef(t.y)&&l.isContinuous(t.y);if(u&&!h)return"horizontal";if(!u&&h)return"vertical";if(u&&h){var m=t.x,g=t.y,y=m.type===p.TEMPORAL,v=g.type===p.TEMPORAL;return y&&!v?"vertical":!y&&v?"horizontal":!m.aggregate&&g.aggregate?"vertical":m.aggregate&&!g.aggregate?"horizontal":r?r:(e===f.LINE&&t.order||c.warn(c.message.unclearOrientContinuous(e)),"vertical")}return void c.warn(c.message.unclearOrientDiscreteOrEmpty(e))}return"vertical"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(32),l=n(16),c=n(8),f=n(24),d=n(13),p=n(33),h=n(2),m=n(18);t.normalizeMarkDef=r,t.initEncoding=i},[705,5,5,79,16,24,13,2,31,645,646,298,647,648,649,650,651,652],function(e,t,n){"use strict";function r(e,t){e instanceof _.UnitModel?i(e,t):o(e,t)}function i(e,t){var n=e.component.scales;v.keys(n).forEach(function(r){var i=e.specifiedScales[r],o=n[r],s=e.getScaleComponent(r),u=e.fieldDef(r),l=e.config,c=i[t],f=s.get("type"),d=m.scaleTypeSupportProperty(f,t),p=m.channelScalePropertyIncompatability(r,t);if(void 0!==c&&(d?p&&h.warn(p):h.warn(h.message.scalePropertyNotWorkWithScaleType(f,t,r))),d&&void 0===p)if(void 0!==c)o.copyKeyFromObject(t,i);else{var g=a(t,i,s,r,u,l.scale);void 0!==g&&o.set(t,g,!1)}})}function a(e,t,n,r,i,a){switch(e){case"nice":return s(n.get("type"),r,i);case"padding":return u(r,n.get("type"),a);case"paddingInner":return l(n.get("padding"),r,a);case"paddingOuter":return c(n.get("padding"),r,n.get("type"),n.get("paddingInner"),a);case"round":return f(r,a);case"zero":return d(r,i,!!t.domain)}return a[e]}function o(e,t){for(var n=e.component.scales,i=0,a=e.children;i<a.length;i++){var o=a[i];"range"===t?x.parseScaleRange(o):r(o,t)}v.keys(n).forEach(function(r){for(var i,a=0,o=e.children;a<o.length;a++){var s=o[a],u=s.component.scales[r];if(u){var l=u.getWithExplicit(t);i=b.mergeValuesWithExplicit(i,l,t,"scale",b.tieBreakByComparing(function(e,n){switch(t){case"range":return e.step&&n.step?e.step-n.step:0}return 0}))}}n[r].setWithExplicit(t,i)})}function s(e,t,n){if(y.contains([m.ScaleType.TIME,m.ScaleType.UTC],e))return g.smallestUnit(n.timeUnit);if(!n.bin)return y.contains([p.X,p.Y],t)}function u(e,t,n){if(y.contains([p.X,p.Y],e)&&t===m.ScaleType.POINT)return n.pointPadding}function l(e,t,n){if(void 0===e)return y.contains([p.X,p.Y],t)?n.bandPaddingInner:void 0}function c(e,t,n,r,i){if(void 0===e)return y.contains([p.X,p.Y],t)&&n===m.ScaleType.BAND?void 0!==i.bandPaddingOuter?i.bandPaddingOuter:r/2:void 0}function f(e,t){if(y.contains(["x","y","row","column"],e))return t.round}function d(e,t,n){return"size"===e&&"quantitative"===t.type||!(n||t.bin||!y.contains([p.X,p.Y],e))}Object.defineProperty(t,"__esModule",{value:!0});var p=n(5),h=n(8),m=n(13),g=n(61),y=n(2),v=n(2),b=n(43),_=n(31),x=n(301);t.parseScaleProperty=r,t.parseNonUnitScaleProperty=o,t.nice=s,t.padding=u,t.paddingInner=l,t.paddingOuter=c,t.round=f,t.zero=d},[712,5,8,13,2,62,43,31,300],[713,2,29,184],function(e,t,n){"use strict";function r(e){return h.mergeDeep(h.duplicate(t.defaultConfig),e)}function i(e){e=h.duplicate(e);for(var t=0,n=g;t<n.length;t++){var r=n[t];delete e[r]}if(e.axis)for(var i=0,a=u.VL_ONLY_GUIDE_CONFIG;i<a.length;i++){var r=a[i];delete e.axis[r]}if(e.legend)for(var o=0,s=u.VL_ONLY_GUIDE_CONFIG;o<s.length;o++){var r=s[o];delete e.legend[r]}if(e.mark)for(var l=0,c=f.VL_ONLY_MARK_CONFIG_PROPERTIES;l<c.length;l++){var r=c[l];delete e.mark[r]}for(var d=0,p=m;d<p.length;d++){for(var v=p[d],b=0,_=f.VL_ONLY_MARK_CONFIG_PROPERTIES;b<_.length;b++){var r=_[b];delete e[v][r]}var x=y[v];if(x)for(var S=0,w=x;S<w.length;S++){var r=w[S];delete e[v][r]}}for(var r in e)h.isObject(e[r])&&0===h.keys(e[r]).length&&delete e[r];return h.keys(e).length>0?e:void 0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(124),s=n(124),u=n(669),l=n(185),c=n(24),f=n(24),d=n(13),p=n(671),h=n(2);t.defaultCellConfig={width:200,height:200,fill:"transparent"},t.defaultFacetCellConfig={stroke:"#ccc",strokeWidth:1},t.defaultFacetConfig={cell:t.defaultFacetCellConfig},t.defaultConfig={padding:5,timeFormat:"%b %d, %Y",countTitle:"Number of Records",invalidValues:"filter",cell:t.defaultCellConfig,mark:f.defaultMarkConfig,area:{},bar:f.defaultBarConfig,circle:{},line:{},point:{},rect:{},rule:{color:"black"},square:{},text:{color:"black"},tick:f.defaultTickConfig,box:{size:14},boxWhisker:{},boxMid:{color:"white"},scale:d.defaultScaleConfig,axis:{},axisX:{},axisY:{},axisLeft:{},axisRight:{},axisTop:{},axisBottom:{},axisBand:{},legend:l.defaultLegendConfig,facet:t.defaultFacetConfig,selection:p.defaultConfig,title:{}},t.initConfig=r;var m=[].concat(c.PRIMITIVE_MARKS,o.COMPOSITE_MARK_ROLES),g=["padding","numberFormat","timeFormat","countTitle","cell","stack","overlay","scale","facet","selection","invalidValues"],y=a.__assign({},c.VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX,s.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX);t.stripConfig=i},function(e,t,n){"undefined"==typeof Promise&&(n(453).enable(),window.Promise=n(452)),n(680),Object.assign=n(451)},function(e,t,n){var r;(function(e,i){(function(){function a(e,t){function n(e){if(n[e]!==g)return n[e];var a;if("bug-string-char-index"==e)a="a"!="a"[0];else if("json"==e)a=n("json-stringify")&&n("json-parse");else{var o,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,c="function"==typeof l&&b;if(c){(o=function(){return 1}).toJSON=o;try{c="0"===l(0)&&"0"===l(new r)&&'""'==l(new i)&&l(v)===g&&l(g)===g&&l()===g&&"1"===l(o)&&"[1]"==l([o])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,v,null])&&l({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===l(null,o)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new u((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==l(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new u((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==l(new u((-1)))}catch(f){c=!1}}a=c}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){o=d(s);var p=5==o.a.length&&1===o.a[0];if(p){try{p=!d('"\t"')}catch(f){}if(p)try{p=1!==d("01")}catch(f){}if(p)try{p=1!==d("1.")}catch(f){}}}}catch(f){p=!1}a=p}}return n[e]=!!a}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,i=e.String||l.String,o=e.Object||l.Object,u=e.Date||l.Date,c=e.SyntaxError||l.SyntaxError,f=e.TypeError||l.TypeError,d=e.Math||l.Math,p=e.JSON||l.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,m,g,y=o.prototype,v=y.toString,b=new u((-0xc782b5b800cec));try{b=b.getUTCFullYear()==-109252&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(_){}var x="[object Function]",S="[object Date]",w="[object Number]",O="[object String]",k="[object Array]",E="[object Boolean]",M=n("bug-string-char-index");if(!b)var T=d.floor,P=[0,31,59,90,120,151,181,212,243,273,304,334],C=function(e,t){return P[t]+365*(e-1970)+T((e-1969+(t=+(t>1)))/4)-T((e-1901+t)/100)+T((e-1601+t)/400)};(h=y.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=v?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&a++;return n=r=null,a?m=2==a?function(e,t){var n,r={},i=v.call(e)==x;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=v.call(e)==x;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,a=v.call(e)==x,o=!a&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(i=r.length;n=r[--i];o.call(e,n)&&t(n));}),m(e,t)};var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",R=function(e,t){return(D+(t||0)).slice(-e)},N="\\u00",I=function(e){for(var t='"',n=0,r=e.length,i=!M||r>10,a=i&&(M?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=A[o];break;default:if(o<32){t+=N+R(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},F=function(e,t,n,r,i,a,o,s){var u,l,c,d,p,y,b,_,x,M,P,A,D,N,L,j;s=s||0;try{u=t[e]}catch(z){}if("object"==typeof u&&u)if(l=v.call(u),l!=S||h.call(u,"toJSON"))"function"==typeof u.toJSON&&(l!=w&&l!=O&&l!=k||h.call(u,"toJSON"))&&(u=u.toJSON(e));else if(u>-1/0&&u<1/0){if(C){for(p=T(u/864e5),c=T(p/365.2425)+1970-1;C(c+1,0)<=p;c++);for(d=T((p-C(c,0))/30.42);C(c,d+1)<=p;d++);p=1+p-C(c,d),y=(u%864e5+864e5)%864e5,b=T(y/36e5)%24,_=T(y/6e4)%60,x=T(y/1e3)%60,M=y%1e3}else c=u.getUTCFullYear(),d=u.getUTCMonth(),p=u.getUTCDate(),b=u.getUTCHours(),_=u.getUTCMinutes(),x=u.getUTCSeconds(),M=u.getUTCMilliseconds();u=(c<=0||c>=1e4?(c<0?"-":"+")+R(6,c<0?-c:c):R(4,c))+"-"+R(2,d+1)+"-"+R(2,p)+"T"+R(2,b)+":"+R(2,_)+":"+R(2,x)+"."+R(3,M)+"Z"}else u=null;if(n&&(u=n.call(t,e,u)),null===u)return"null";if(l=v.call(u),l==E)return""+u;if(l==w)return u>-1/0&&u<1/0?""+u:"null";if(l==O)return I(""+u);if("object"==typeof u){for(N=o.length;N--;)if(o[N]===u)throw f();if(o.push(u),P=[],L=a,a+=i,l==k){var j,$=a.length;for(D=0,N=u.length;D<N;D++)A=F(D,u,n,r,i,a,o,s),j=A===g?"null":A,$+=j.length+(D>0?1:0),P.push(j);j=P.length?i&&$>s?"[\n"+a+P.join(",\n"+a)+"\n"+L+"]":"["+P.join(",")+"]":"[]"}else{var $=a.length,D=0;m(r||u,function(e){var t,l=F(e,u,n,r,i,a,o,s);l!==g&&(t=I(e)+":"+(i?" ":"")+l,$+=t.length+(D++>0?1:0),P.push(t))}),j=P.length?i&&$>s?"{\n"+a+P.join(",\n"+a)+"\n"+L+"}":"{"+P.join(",")+"}":"{}"}return o.pop(),j}};if(t.stringify=function(e,t,n,r){var i,a,o,u;if(s[typeof t]&&t)if((u=v.call(t))==x)a=t;else if(u==k){o={};for(var l,c=0,f=t.length;c<f;l=t[c++],u=v.call(l),(u==O||u==w)&&(o[l]=1));}if(n)if((u=v.call(n))==w){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else u==O&&(i=n.length<=10?n:n.slice(0,10));return F("",(l={},l[""]=e,l),a,o,i,"",[],r)},t.compactStringify=function(e,n,r){return t.stringify(e,n,r,60)},!n("json-parse")){var L,j,z=i.fromCharCode,$={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw L=j=null,c()},B=function(){for(var e,t,n,r,i,a=j,o=a.length;L<o;)switch(i=a.charCodeAt(L)){
case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=M?a.charAt(L):a[L],L++,e;case 34:for(e="@",L++;L<o;)if(i=a.charCodeAt(L),i<32)U();else if(92==i)switch(i=a.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=$[i],L++;break;case 117:for(t=++L,n=L+4;L<n;L++)i=a.charCodeAt(L),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||U();e+=z("0x"+a.slice(t,L));break;default:U()}else{if(34==i)break;for(i=a.charCodeAt(L),t=L;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++L);e+=a.slice(t,L)}if(34==a.charCodeAt(L))return L++,e;U();default:if(t=L,45==i&&(r=!0,i=a.charCodeAt(++L)),i>=48&&i<=57){for(48==i&&(i=a.charCodeAt(L+1),i>=48&&i<=57)&&U(),r=!1;L<o&&(i=a.charCodeAt(L),i>=48&&i<=57);L++);if(46==a.charCodeAt(L)){for(n=++L;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==L&&U(),L=n}if(i=a.charCodeAt(L),101==i||69==i){for(i=a.charCodeAt(++L),43!=i&&45!=i||L++,n=L;n<o&&(i=a.charCodeAt(n),i>=48&&i<=57);n++);n==L&&U(),L=n}return+a.slice(t,L)}if(r&&U(),"true"==a.slice(L,L+4))return L+=4,!0;if("false"==a.slice(L,L+5))return L+=5,!1;if("null"==a.slice(L,L+4))return L+=4,null;U()}return"$"},q=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(M?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=B(),"]"!=e;n||(n=!0))n&&(","==e?(e=B(),"]"==e&&U()):U()),","==e&&U(),t.push(q(e));return t}if("{"==e){for(t={};e=B(),"}"!=e;n||(n=!0))n&&(","==e?(e=B(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(M?e.charAt(0):e[0])&&":"==B()||U(),t[e.slice(1)]=q(B());return t}U()}return e},W=function(e,t,n){var r=V(e,t,n);r===g?delete e[t]:e[t]=r},V=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(v.call(i)==k)for(r=i.length;r--;)W(i,r,n);else m(i,function(e){W(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return L=0,j=""+e,n=q(B()),"$"!=B()&&U(),L=j=null,t&&v.call(t)==x?V((r={},r[""]=n,r),"",t):n}}return t.runInContext=a,t}var o=n(679),s={function:!0,object:!0},u=s[typeof t]&&t&&!t.nodeType&&t,l=s[typeof window]&&window||this,c=u&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),u&&!o)a(l,u);else{var f=l.JSON,d=l.JSON3,p=!1,h=a(l,l.JSON3={noConflict:function(){return p||(p=!0,l.JSON=f,l.JSON3=d,f=d=null),h}});l.JSON={parse:h.parse,stringify:h.stringify}}o&&(r=function(){return h}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(189)(e),function(){return this}())},function(e,t){"use strict";var n=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,a=t[r].split("/"),o=e;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<n.length;i++){var s=n[i],u=o[s];u&&(o[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=this._opts=L.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=R(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new C,this._loadingSchemas={},this._compilations=[],this.RULES=N(),this._getId=y(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=D),this._metaOpts=M(this),e.formats&&k(this),w(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),O(this),e.patternGroups&&F(this)}function i(e,t){var n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);return n.$async===!0?"*"==this._opts.async?j(i):i:(this.errors=n.errors,i)}function a(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)}function o(e,t,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,n,r);else{var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");t=P.normalizeId(t||a),E(this,t),this._schemas[t]=this._addSchema(e,n,r,!0)}}function s(e,t,n){this.addSchema(e,t,n,!0)}function u(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||l(this),!n)return console.warn("meta-schema not available"),this.errors=null,!0;var r=this._formats.uri;this._formats.uri="function"==typeof r?this._schemaUriFormatFunc:this._schemaUriFormat;var i;try{i=this.validate(n,e)}finally{this._formats.uri=r}if(!i&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);console.error(a)}return i}function l(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(U)?U:void 0,e._opts.defaultMeta}function c(e){var t=d(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return f(this,e)}}function f(e,t){var n=P.schema.call(e,{schema:{}},t);if(n){var r=n.schema,i=n.root,a=n.baseId,o=T.call(e,r,i,void 0,a);return e._fragments[t]=new A({ref:t,fragment:!0,schema:r,root:i,baseId:a,validate:o}),o}}function d(e,t){return t=P.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function p(e){if(e instanceof RegExp)return h(this,this._schemas,e),void h(this,this._refs,e);switch(typeof e){case"undefined":return h(this,this._schemas),h(this,this._refs),void this._cache.clear();case"string":var t=d(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],void delete this._refs[e];case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var i=this._getId(e);i&&(i=P.normalizeId(i),delete this._schemas[i],delete this._refs[i])}}function h(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function m(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,a=i?i(e):e,o=this._cache.get(a);if(o)return o;r=r||this._opts.addUsedSchema!==!1;var s=P.normalizeId(this._getId(e));s&&r&&E(this,s);var u,l=this._opts.validateSchema!==!1&&!t;l&&!(u=s&&s==P.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=P.ids.call(this,e),f=new A({id:s,schema:e,localRefs:c,cacheKey:a,meta:n});return"#"!=s[0]&&r&&(this._refs[s]=f),this._cache.put(a,f),l&&u&&this.validateSchema(e,!0),f}function g(e,t){function n(){var t=e.validate,r=t.apply(null,arguments);return n.errors=t.errors,r}if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t?t:n,e.schema.$async===!0&&(n.$async=!0),n;e.compiling=!0;var r;e.meta&&(r=this._opts,this._opts=this._metaOpts);var i;try{i=T.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i}function y(e){switch(e.schemaId){case"$id":return b;case"id":return v;default:return _}}function v(e){return e.$id&&console.warn("schema $id ignored",e.$id),e.id}function b(e){return e.id&&console.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e=e||this.errors,!e)return"No errors";t=t||{};for(var n=void 0===t.separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)}function S(e,t){"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t}function w(e){var t;if(e._opts.$data&&(t=n(431),e.addMetaSchema(t,t.$id,!0)),e._opts.meta!==!1){var r=n(433);e._opts.$data&&(r=I(r,q)),e.addMetaSchema(r,U,!0),e._refs["http://json-schema.org/schema"]=U}}function O(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}function k(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function M(e){for(var t=L.copy(e._opts),n=0;n<B.length;n++)delete t[B[n]];return t}var T=n(312),P=n(127),C=n(308),A=n(190),D=n(81),R=n(311),N=n(313),I=n(306),F=n(334),L=n(63),j=n(198);e.exports=r,r.prototype.validate=i,r.prototype.compile=a,r.prototype.addSchema=o,r.prototype.addMetaSchema=s,r.prototype.validateSchema=u,r.prototype.getSchema=c,r.prototype.removeSchema=p,r.prototype.addFormat=S,r.prototype.errorsText=x,r.prototype._addSchema=m,r.prototype._compile=g,r.prototype.compileAsync=n(310);var z=n(333);r.prototype.addKeyword=z.add,r.prototype.getKeyword=z.get,r.prototype.removeKeyword=z.remove;var $=n(126);r.ValidationError=$.Validation,r.MissingRefError=$.MissingRef,r.$dataMetaSchema=I;var U="http://json-schema.org/draft-06/schema",B=["removeAdditional","useDefaults","coerceTypes"],q=["/properties"]},function(e,t){"use strict";var n=e.exports=function(){this._cache={}};n.prototype.put=function(e,t){this._cache[e]=t},n.prototype.get=function(e){return this._cache[e]},n.prototype.del=function(e){delete this._cache[e]},n.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";e.exports={$ref:n(330),allOf:n(315),anyOf:n(316),const:n(317),contains:n(318),dependencies:n(320),enum:n(321),format:n(322),items:n(323),maximum:n(191),minimum:n(191),maxItems:n(192),minItems:n(192),maxLength:n(193),minLength:n(193),maxProperties:n(194),minProperties:n(194),multipleOf:n(324),not:n(325),oneOf:n(326),pattern:n(327),properties:n(328),propertyNames:n(329),required:n(331),uniqueItems:n(332),validate:n(195)}},function(e,t,n){"use strict";function r(e,t,n){function a(e){var t=e.$schema;return t&&!s.getSchema(t)?r.call(s,{$ref:t},!0):Promise.resolve()}function o(e){function n(n){function r(){delete s._loadingSchemas[u]}function i(e){return s._refs[e]||s._schemas[e]}var u=n.missingSchema;if(i(u))throw new Error("Schema "+u+" is loaded but "+n.missingRef+" cannot be resolved");var l=s._loadingSchemas[u];return l||(l=s._loadingSchemas[u]=s._opts.loadSchema(u),l.then(r,r)),l.then(function(e){if(!i(u))return a(e).then(function(){i(u)||s.addSchema(e,u,void 0,t)})}).then(function(){return o(e)})}try{return s._compile(e)}catch(r){if(r instanceof i)return n(r);throw r}}var s=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(n=t,t=void 0);var u=a(e).then(function(){var n=s._addSchema(e,void 0,t);return n.validate||o(n)});return n&&u.then(function(e){n(null,e)},n),u}var i=n(126).MissingRef;e.exports=r},function(e,t,n){"use strict";function r(e){return e="full"==e?"full":"fast",c.copy(r[e])}function i(e){var t=e.match(f);if(!t)return!1;var n=+t[1],r=+t[2];return n>=1&&n<=12&&r>=1&&r<=d[n]}function a(e,t){var n=e.match(p);if(!n)return!1;var r=n[1],i=n[2],a=n[3],o=n[5];return r<=23&&i<=59&&a<=59&&(!t||o)}function o(e){var t=e.split(S);return 2==t.length&&i(t[0])&&a(t[1],!0)}function s(e){return e.length<=255&&h.test(e)}function u(e){return w.test(e)&&m.test(e)}function l(e){if(O.test(e))return!1;try{return new RegExp(e),!0}catch(t){return!1}}var c=n(63),f=/^\d\d\d\d-(\d\d)-(\d\d)$/,d=[0,31,29,31,30,31,30,31,31,30,31,30,31],p=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,h=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,g=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,y=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?)*\})*$/i,v=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,b=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,_=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,x=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;e.exports=r,r.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?:\:|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":y,url:v,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:h,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:b,"json-pointer":_,"relative-json-pointer":x},r.full={date:i,time:a,"date-time":o,uri:u,"uri-reference":g,"uri-template":y,url:v,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:l,uuid:b,"json-pointer":_,"relative-json-pointer":x};var S=/t|\s/i,w=/\/|\:/,O=/[^\\]\\Z/},function(e,t,n){"use strict";function r(e,t,n,o){function x(){var e=$.validate,t=e.apply(null,arguments);return x.errors=e.errors,t}function S(e,n,i,a){var o=!n||n&&n.schema==e;if(n.schema!=t.schema)return r.call(C,e,n,i,a);var m=e.$async===!0,x=g({isTop:!0,schema:e,isRoot:o,baseId:a,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:h.MissingRef,RULES:B,validate:g,util:p,resolve:d,resolveRef:w,usePattern:M,useDefault:T,useCustomRule:P,opts:A,formats:U,self:C});x=f(D,l)+f(N,s)+f(F,u)+f(j,c)+x,A.processCode&&(x=A.processCode(x));var S;try{var O=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",x);S=O(C,B,U,t,D,F,j,y,b,v,_),D[0]=S}catch(k){throw console.error("Error compiling schema, function code:",x),k}return S.schema=e,S.errors=null,S.refs=R,S.refVal=D,S.root=o?S:n,m&&(S.$async=!0),A.sourceCode===!0&&(S.source={code:x,patterns:N,defaults:F}),S}function w(e,i,a){i=d.url(e,i);var o,s,u=R[i];if(void 0!==u)return o=D[u],s="refVal["+u+"]",E(o,s);if(!a&&t.refs){var l=t.refs[i];if(void 0!==l)return o=t.refVal[l],s=O(i,o),E(o,s)}s=O(i);var c=d.call(C,S,t,i);if(void 0===c){var f=n&&n[i];f&&(c=d.inlineRef(f,A.inlineRefs)?f:r.call(C,f,t,n,e))}return void 0!==c?(k(i,c),E(c,s)):void 0}function O(e,t){var n=D.length;return D[n]=t,R[e]=n,"refVal"+n}function k(e,t){var n=R[e];D[n]=t}function E(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function M(e){var t=I[e];return void 0===t&&(t=I[e]=N.length,N[t]=e),"pattern"+t}function T(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return p.toQuotedString(e);case"object":if(null===e)return"null";var t=m(e),n=L[t];return void 0===n&&(n=L[t]=F.length,F[n]=e),"default"+n}}function P(e,t,n,r){var i=e.definition.validateSchema;if(i&&C._opts.validateSchema!==!1){var a=i(t);if(!a){var o="keyword schema is invalid: "+C.errorsText(i.errors);if("log"!=C._opts.validateSchema)throw new Error(o);console.error(o)}}var s,u=e.definition.compile,l=e.definition.inline,c=e.definition.macro;if(u)s=u.call(C,t,n,r);else if(c)s=c.call(C,t,n,r),A.validateSchema!==!1&&C.validateSchema(s,!0);else if(l)s=l.call(C,r,e.keyword,t,n);else if(s=e.definition.validate,!s)return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=j.length;return j[f]=s,{code:"customRule"+f,validate:s}}var C=this,A=this._opts,D=[void 0],R={},N=[],I={},F=[],L={},j=[];t=t||{schema:e,refVal:D,refs:R};var z=i.call(this,e,t,o),$=this._compilations[z.index];if(z.compiling)return $.callValidate=x;var U=this._formats,B=this.RULES;try{var q=S(e,t,n,o);$.validate=q;var W=$.callValidate;return W&&(W.schema=q.schema,W.errors=null,W.refs=q.refs,W.refVal=q.refVal,W.root=q.root,W.$async=q.$async,A.sourceCode&&(W.source=q.source)),q}finally{a.call(this,e,t,o)}}function i(e,t,n){var r=o.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function a(e,t,n){var r=o.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function o(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function s(e,t){return"var pattern"+e+" = new RegExp("+p.toQuotedString(t[e])+");"}function u(e){return"var default"+e+" = defaults["+e+"];"}function l(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function c(e){return"var customRule"+e+" = customRules["+e+"];"}function f(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}var d=n(127),p=n(63),h=n(126),m=n(81),g=n(195),y=n(198),v=p.ucs2length,b=n(131),_=h.Validation;e.exports=r},function(e,t,n){"use strict";var r=n(309),i=n(63).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"],n=["additionalItems","$schema","id","title","description","default","definitions"],a=["number","integer","string","array","object","boolean","null"];return e.all=i(t),e.types=i(a),e.forEach(function(n){n.rules=n.rules.map(function(n){var i;if("object"==typeof n){var a=Object.keys(n)[0];i=n[a],n=a,i.forEach(function(n){t.push(n),e.all[n]=!0})}t.push(n);var o=e.all[n]={keyword:n,code:r[n],implements:i};return o}),n.type&&(e.types[n.type]=n)}),e.keywords=i(t.concat(n)),e.custom={},e}},function(e,t){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r&&(t=e.charCodeAt(i),56320==(64512&t)&&i++);return n}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),l="";u.level++;var c="valid"+u.level,f=u.baseId,d=!0,p=i;if(p)for(var h,m=-1,g=p.length-1;m<g;)h=p[m+=1],e.util.schemaHasRules(h,e.RULES.all)&&(d=!1,u.schema=h,u.schemaPath=a+"["+m+"]",u.errSchemaPath=o+"/"+m,r+="  "+e.validate(u)+" ",u.baseId=f,s&&(r+=" if ("+c+") { ",l+="}"));return s&&(r+=d?" if (true) { ":" "+l.slice(0,-1)+" "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g=o.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)});if(g){var y=p.baseId;r+=" var "+d+" = errors; var "+f+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=o;if(b)for(var _,x=-1,S=b.length-1;x<S;)_=b[x+=1],p.schema=_,p.schemaPath=s+"["+x+"]",p.errSchemaPath=u+"/"+x,r+="  "+e.validate(p)+" ",p.baseId=y,r+=" "+f+" = "+f+" || "+m+"; if (!"+f+") { ",h+="}";e.compositeRule=p.compositeRule=v,r+=" "+h+" if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}else l&&(r+=" if (true) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,p||(i+=" var schema"+a+" = validate.schema"+u+";"),i+="var "+d+" = equal("+f+", schema"+a+"); if (!"+d+") {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId,_=e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+d+" = errors;var "+f+";",_){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+=" var "+m+" = false; for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var S=c+"["+g+"]";p.dataPathArr[y]=g;var w=e.validate(p);p.baseId=b,r+=e.util.varOccurences(w,v)<2?" "+e.util.varReplace(w,v,S)+" ":" var "+v+" = "+S+"; "+w+" ",r+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=x,r+=" "+h+" if (!"+m+") {"}else r+=" if ("+c+".length == 0) {";var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var k=r;return r=O.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,d="data"+(s||""),p="valid"+o,h="errs__"+o,m=e.opts.$data&&u&&u.$data;m?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var g,y,v,b,_,x=this,S="definition"+o,w=x.definition,O="";if(m&&w.$data){_="keywordValidate"+o;var k=w.validateSchema;a+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+_+" = "+S+".validate;"}else{if(b=e.useCustomRule(x,u,e.schema,e),!b)return;i="validate.schema"+l,_=b.code,g=w.compile,y=w.inline,v=w.macro}var E=_+".errors",M="i"+o,T="ruleErr"+o,P=w.async;if(P&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(a+=""+E+" = null;"),a+="var "+h+" = errors;var "+p+";",m&&w.$data&&(O+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",k&&(O+="}",a+=" "+p+" = "+S+".validateSchema("+i+"); if ("+p+") { ")),y)a+=w.statements?" "+b.validate+" ":" "+p+" = "+b.validate+"; ";else if(v){var C=e.util.copy(e),O="";C.level++;var A="valid"+C.level;C.schema=b.validate,C.schemaPath="";var D=e.compositeRule;e.compositeRule=C.compositeRule=!0;var R=e.validate(C).replace(/validate\.schema/g,_);e.compositeRule=C.compositeRule=D,a+=" "+R}else{var N=N||[];N.push(a),a="",a+="  "+_+".call( ",a+=e.opts.passContext?"this":"self",a+=g||w.schema===!1?" , "+d+" ":" , "+i+" , "+d+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var I=s?"data"+(s-1||""):"parentData",F=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+I+" , "+F+" , rootData )  ";var L=a;a=N.pop(),w.errors===!1?(a+=" "+p+" = ",P&&(a+=""+e.yieldAwait),a+=""+L+"; "):P?(E="customErrors"+o,a+=" var "+E+" = null; try { "+p+" = "+e.yieldAwait+L+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+E+" = e.errors; else throw e; } "):a+=" "+E+" = null; "+p+" = "+L+"; "}if(w.modifying&&(a+=" if ("+I+") "+d+" = "+I+"["+F+"];"),a+=""+O,w.valid)f&&(a+=" if (true) { ");else{a+=" if ( ",void 0===w.valid?(a+=" !",a+=v?""+A:""+p):a+=" "+!w.valid+" ",a+=") { ",r=x.keyword;var N=N||[];N.push(a),a="";var N=N||[];N.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var j=a;
a=N.pop(),a+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=a;a=N.pop(),y?w.errors?"full"!=w.errors&&(a+="  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } "):w.errors===!1?a+=" "+z+" ":(a+=" if ("+h+" == errors) { "+z+" } else {  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+T+".schemaPath === undefined) { "+T+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } } "):v?(a+="   var err =   ",e.createErrors!==!1?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+x.keyword+"' } ",e.opts.messages!==!1&&(a+=" , message: 'should pass \""+x.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&f&&(a+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):w.errors===!1?a+=" "+z+" ":(a+=" if (Array.isArray("+E+")) { if (vErrors === null) vErrors = "+E+"; else vErrors = vErrors.concat("+E+"); errors = vErrors.length;  for (var "+M+"="+h+"; "+M+"<errors; "+M+"++) { var "+T+" = vErrors["+M+"]; if ("+T+".dataPath === undefined) "+T+".dataPath = (dataPath || '') + "+e.errorPath+";  "+T+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(a+=" "+T+".schema = "+i+"; "+T+".data = "+d+"; "),a+=" } } else { "+z+" } "),a+=" } ",f&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level,m={},g={},y=e.opts.ownProperties;for(x in o){var v=o[x],b=Array.isArray(v)?g:m;b[x]=v}r+="var "+f+" = errors;";var _=e.errorPath;r+="var missing"+i+";";for(var x in g)if(b=g[x],b.length){if(r+=" if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),l){r+=" && ( ";var S=b;if(S)for(var w,O=-1,k=S.length-1;O<k;){w=S[O+=1],O&&(r+=" || ");var E=e.util.getProperty(w),M=c+E;r+=" ( ( "+M+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:E)+") ) "}r+=")) {  ";var T="missing"+i,P="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,T,!0):_+" + "+T);var C=C||[];C.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var A=r;r=C.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var D=b;if(D)for(var w,R=-1,N=D.length-1;R<N;){w=D[R+=1];var E=e.util.getProperty(w),P=e.util.escapeQuotes(w),M=c+E;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,w,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",y&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(w)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",r+=1==b.length?"property "+e.util.escapeQuotes(b[0]):"properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",l&&(p+="}",r+=" else { ")}e.errorPath=_;var I=d.baseId;for(var x in m){var v=m[x];e.util.schemaHasRules(v,e.RULES.all)&&(r+=" "+h+" = true; if ( "+c+e.util.getProperty(x)+" !== undefined ",y&&(r+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",d.schema=v,d.schemaPath=s+e.util.getProperty(x),d.errSchemaPath=u+"/"+e.util.escapeFragment(x),r+="  "+e.validate(d)+" ",d.baseId=I,r+=" }  ",l&&(r+=" if ("+h+") { ",p+="}"))}return l&&(r+="   "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="i"+a,m="schema"+a;p||(i+=" var "+m+" = validate.schema"+u+";"),i+="var "+d+";",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=""+d+" = false;for (var "+h+"=0; "+h+"<"+m+".length; "+h+"++) if (equal("+f+", "+m+"["+h+"])) { "+d+" = true; break; }",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var g=g||[];g.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+a+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=g.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||"");if(e.opts.format===!1)return l&&(r+=" if (true) { "),r;var f,d=e.opts.$data&&o&&o.$data;d?(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",f="schema"+i):f=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(d){var m="format"+i,g="isObject"+i,y="formatType"+i;r+=" var "+m+" = formats["+f+"]; var "+g+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+y+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(r+=" var async"+i+" = "+m+".async; "),r+=" "+m+" = "+m+".validate; } if (  ",d&&(r+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+f+" && !"+m+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),r+=") || "),r+=" ("+m+" && "+y+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",r+=e.async?" (async"+i+" ? "+e.yieldAwait+" "+m+"("+c+") : "+m+"("+c+")) ":" "+m+"("+c+") ",r+=" : "+m+".test("+c+"))))) {"}else{var m=e.formats[o];if(!m){if("ignore"==p)return console.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(r+=" if (true) { "),r;if(h&&p.indexOf(o)>=0)return l&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g="object"==typeof m&&!(m instanceof RegExp)&&m.validate,y=g&&m.type||"string";if(g){var v=m.async===!0;m=m.validate}if(y!=n)return l&&(r+=" if (true) { "),r;if(v){if(!e.async)throw new Error("async format in sync schema");var b="formats"+e.util.getProperty(o)+".validate";r+=" if (!("+e.yieldAwait+" "+b+"("+c+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);g&&(b+=".validate"),r+="function"==typeof m?" "+b+"("+c+") ":" "+b+".test("+c+") ",r+=") { "}}var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=d?""+f:""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=" , message: 'should match format \"",r+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=d?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var x=r;return r=_.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",l&&(r+=" else { "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="i"+i,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId;if(r+="var "+d+" = errors;var "+f+";",Array.isArray(o)){var _=e.schema.additionalItems;if(_===!1){r+=" "+f+" = "+c+".length <= "+o.length+"; ";var x=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+f+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var w=r;r=S.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=x,l&&(h+="}",r+=" else { ")}var O=o;if(O)for(var k,E=-1,M=O.length-1;E<M;)if(k=O[E+=1],e.util.schemaHasRules(k,e.RULES.all)){r+=" "+m+" = true; if ("+c+".length > "+E+") { ";var T=c+"["+E+"]";p.schema=k,p.schemaPath=s+"["+E+"]",p.errSchemaPath=u+"/"+E,p.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0),p.dataPathArr[y]=E;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",r+=" }  ",l&&(r+=" if ("+m+") { ",h+="}")}if("object"==typeof _&&e.util.schemaHasRules(_,e.RULES.all)){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+m+" = true; if ("+c+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=c+"["+g+"]";p.dataPathArr[y]=g;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",l&&(r+=" if (!"+m+") break; "),r+=" } }  ",l&&(r+=" if ("+m+") { ",h+="}")}}else if(e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+="  for (var "+g+" = 0; "+g+" < "+c+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var T=c+"["+g+"]";p.dataPathArr[y]=g;var P=e.validate(p);p.baseId=b,r+=e.util.varOccurences(P,v)<2?" "+e.util.varReplace(P,v,T)+" ":" var "+v+" = "+T+"; "+P+" ",l&&(r+=" if (!"+m+") break; "),r+=" }"}return l&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,i+="var division"+a+";if (",d&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+f+" / "+r+", ",i+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { multipleOf: "+r+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",i+=d?"' + "+r:""+r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e);d.level++;var p="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u,r+=" var "+f+" = errors;  ";var h=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.createErrors=!1;var m;d.opts.allErrors&&(m=d.opts.allErrors,d.opts.allErrors=!1),r+=" "+e.validate(d)+" ",d.createErrors=!0,m&&(d.opts.allErrors=m),e.compositeRule=d.compositeRule=h,r+=" if ("+p+") {   ";var g=g||[];g.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var y=r;r=g.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ");return r}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level;r+="var "+d+" = errors;var prevValid"+i+" = false;var "+f+" = false;";var g=p.baseId,y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=o;if(v)for(var b,_=-1,x=v.length-1;_<x;)b=v[_+=1],e.util.schemaHasRules(b,e.RULES.all)?(p.schema=b,p.schemaPath=s+"["+_+"]",p.errSchemaPath=u+"/"+_,r+="  "+e.validate(p)+" ",p.baseId=g):r+=" var "+m+" = true; ",_&&(r+=" if ("+m+" && prevValid"+i+") "+f+" = false; else { ",h+="}"),r+=" if ("+m+") "+f+" = prevValid"+i+" = true;";return e.compositeRule=p.compositeRule=y,r+=""+h+"if (!"+f+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),r+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d=e.opts.$data&&s&&s.$data;d?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p=d?"(new RegExp("+r+"))":e.usePattern(s);i+="if ( ",d&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+p+".test("+f+") ) {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { pattern:  ",i+=d?""+r:""+e.util.toQuotedString(s),i+="  } ",e.opts.messages!==!1&&(i+=" , message: 'should match pattern \"",i+=d?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=d?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;return i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="valid"+i,d="errs__"+i,p=e.util.copy(e),h="";p.level++;var m="valid"+p.level,g="key"+i,y="idx"+i,v=p.dataLevel=e.dataLevel+1,b="data"+v,_="dataProperties"+i,x=Object.keys(o||{}),S=e.schema.patternProperties||{},w=Object.keys(S),O=e.schema.additionalProperties,k=x.length||w.length,E=O===!1,M="object"==typeof O&&Object.keys(O).length,T=e.opts.removeAdditional,P=E||M||T,C=e.opts.ownProperties,A=e.baseId,D=e.schema.required;if(D&&(!e.opts.v5||!D.$data)&&D.length<e.opts.loopRequired)var R=e.util.toHash(D);if(e.opts.patternGroups)var N=e.schema.patternGroups||{},I=Object.keys(N);if(r+="var "+d+" = errors;var "+m+" = true;",C&&(r+=" var "+_+" = undefined;"),P){if(r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",k){if(r+=" var isAdditional"+i+" = !(false ",x.length)if(x.length>5)r+=" || validate.schema"+s+"["+g+"] ";else{var F=x;if(F)for(var L,j=-1,z=F.length-1;j<z;)L=F[j+=1],r+=" || "+g+" == "+e.util.toQuotedString(L)+" "}if(w.length){var $=w;if($)for(var U,B=-1,q=$.length-1;B<q;)U=$[B+=1],r+=" || "+e.usePattern(U)+".test("+g+") "}if(e.opts.patternGroups&&I.length){var W=I;if(W)for(var V,B=-1,H=W.length-1;B<H;)V=W[B+=1],r+=" || "+e.usePattern(V)+".test("+g+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==T)r+=" delete "+c+"["+g+"]; ";else{var G=e.errorPath,Y="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),E)if(T)r+=" delete "+c+"["+g+"]; ";else{r+=" "+m+" = false; ";var X=u;u=e.errSchemaPath+"/additionalProperties";var Q=Q||[];Q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+Y+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var K=r;r=Q.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+K+"]); ":" validate.errors = ["+K+"]; return false; ":" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=X,l&&(r+=" break; ")}else if(M)if("failing"==T){r+=" var "+d+" = errors;  ";var J=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=O,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=A,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",r+=" if (!"+m+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+g+"]; }  ",e.compositeRule=p.compositeRule=J}else{p.schema=O,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=A,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",l&&(r+=" if (!"+m+") break; ")}e.errorPath=G}k&&(r+=" } "),r+=" }  ",l&&(r+=" if ("+m+") { ",h+="}")}var te=e.opts.useDefaults&&!e.compositeRule;if(x.length){var ne=x;if(ne)for(var L,re=-1,ie=ne.length-1;re<ie;){L=ne[re+=1];var ae=o[L];if(e.util.schemaHasRules(ae,e.RULES.all)){var oe=e.util.getProperty(L),Z=c+oe,se=te&&void 0!==ae.default;p.schema=ae,p.schemaPath=s+oe,p.errSchemaPath=u+"/"+e.util.escapeFragment(L),p.errorPath=e.util.getPath(e.errorPath,L,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(L);var ee=e.validate(p);if(p.baseId=A,e.util.varOccurences(ee,b)<2){ee=e.util.varReplace(ee,b,Z);var ue=Z}else{var ue=b;r+=" var "+b+" = "+Z+"; "}if(se)r+=" "+ee+" ";else{if(R&&R[L]){r+=" if ( "+ue+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=") { "+m+" = false; ";var G=e.errorPath,X=u,le=e.util.escapeQuotes(L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(G,L,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var Q=Q||[];Q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+le+"' } ",e.opts.messages!==!1&&(r+=" , message: '",r+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+le+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var K=r;r=Q.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+K+"]); ":" validate.errors = ["+K+"]; return false; ":" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=X,e.errorPath=G,r+=" } else { "}else l?(r+=" if ( "+ue+" === undefined ",C&&(r+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=") { "+m+" = true; } else { "):(r+=" if ("+ue+" !== undefined ",C&&(r+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(L)+"') "),r+=" ) { ");r+=" "+ee+" } "}}l&&(r+=" if ("+m+") { ",h+="}")}}if(w.length){var ce=w;if(ce)for(var U,fe=-1,de=ce.length-1;fe<de;){U=ce[fe+=1];var ae=S[U];if(e.util.schemaHasRules(ae,e.RULES.all)){p.schema=ae,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(U),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(U),r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",r+=" if ("+e.usePattern(U)+".test("+g+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=A,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",h+="}")}}}if(e.opts.patternGroups&&I.length){var pe=I;if(pe)for(var V,he=-1,me=pe.length-1;he<me;){V=pe[he+=1];var ge=N[V],ae=ge.schema;if(e.util.schemaHasRules(ae,e.RULES.all)){p.schema=ae,p.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(V)+".schema",p.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(V)+"/schema",r+=" var pgPropCount"+i+" = 0;  ",r+=C?" "+_+" = "+_+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+_+".length; "+y+"++) { var "+g+" = "+_+"["+y+"]; ":" for (var "+g+" in "+c+") { ",r+=" if ("+e.usePattern(V)+".test("+g+")) { pgPropCount"+i+"++; ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var Z=c+"["+g+"]";p.dataPathArr[v]=g;var ee=e.validate(p);p.baseId=A,r+=e.util.varOccurences(ee,b)<2?" "+e.util.varReplace(ee,b,Z)+" ":" var "+b+" = "+Z+"; "+ee+" ",l&&(r+=" if (!"+m+") break; "),r+=" } ",l&&(r+=" else "+m+" = true; "),r+=" }  ",l&&(r+=" if ("+m+") { ",h+="}");var ye=ge.minimum,ve=ge.maximum;if(void 0!==ye||void 0!==ve){r+=" var "+f+" = true; ";var X=u;if(void 0!==ye){var be=ye,_e="minimum",xe="less";r+=" "+f+" = pgPropCount"+i+" >= "+ye+"; ",u=e.errSchemaPath+"/patternGroups/minimum",r+="  if (!"+f+") {   ";var Q=Q||[];Q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { reason: '"+_e+"', limit: "+be+", pattern: '"+e.util.escapeQuotes(V)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+xe+" than "+be+' properties matching pattern "'+e.util.escapeQuotes(V)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var K=r;r=Q.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+K+"]); ":" validate.errors = ["+K+"]; return false; ":" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",void 0!==ve&&(r+=" else ")}if(void 0!==ve){var be=ve,_e="maximum",xe="more";r+=" "+f+" = pgPropCount"+i+" <= "+ve+"; ",u=e.errSchemaPath+"/patternGroups/maximum",r+="  if (!"+f+") {   ";var Q=Q||[];Q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { reason: '"+_e+"', limit: "+be+", pattern: '"+e.util.escapeQuotes(V)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have "+xe+" than "+be+' properties matching pattern "'+e.util.escapeQuotes(V)+"\"' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var K=r;r=Q.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+K+"]); ":" validate.errors = ["+K+"]; return false; ":" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}u=X,l&&(r+=" if ("+f+") { ",h+="}")}}}}return l&&(r+=" "+h+" if ("+d+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(a||""),f="errs__"+i,d=e.util.copy(e),p="";d.level++;var h="valid"+d.level;if(e.util.schemaHasRules(o,e.RULES.all)){d.schema=o,d.schemaPath=s,d.errSchemaPath=u;var m="key"+i,g="idx"+i,y="i"+i,v="' + "+m+" + '",b=d.dataLevel=e.dataLevel+1,_="data"+b,x="dataProperties"+i,S=e.opts.ownProperties,w=e.baseId;r+=" var "+f+" = errors; ",S&&(r+=" var "+x+" = undefined; "),r+=S?" "+x+" = "+x+" || Object.keys("+c+"); for (var "+g+"=0; "+g+"<"+x+".length; "+g+"++) { var "+m+" = "+x+"["+g+"]; ":" for (var "+m+" in "+c+") { ",r+=" var startErrs"+i+" = errors; ";var O=m,k=e.compositeRule;e.compositeRule=d.compositeRule=!0;var E=e.validate(d);d.baseId=w,r+=e.util.varOccurences(E,_)<2?" "+e.util.varReplace(E,_,O)+" ":" var "+_+" = "+O+"; "+E+" ",e.compositeRule=d.compositeRule=k,r+=" if (!"+h+") { for (var "+y+"=startErrs"+i+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+m+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+v+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(r+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),l&&(r+=" break; "),r+=" } }"}return l&&(r+=" "+p+" if ("+f+" == errors) {"),r=e.util.cleanUpCode(r)}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(s||""),d="valid"+o;if("#"==u||"#/"==u)e.isRoot?(r=e.async,i="validate"):(r=e.root.schema.$async===!0,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){console.error(h);var m=m||[];m.push(a),a="",e.createErrors!==!1?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",e.opts.messages!==!1&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var g=a;a=m.pop(),a+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);console.warn(h),c&&(a+=" if (true) { ")}}else if(p.inline){var y=e.util.copy(e);y.level++;var v="valid"+y.level;y.schema=p.schema,y.schemaPath="",y.errSchemaPath=u;var b=e.validate(y).replace(/validate\.schema/g,p.code);a+=" "+b+" ",c&&(a+=" if ("+v+") { ")}else r=p.$async===!0,i=p.code}if(i){var m=m||[];m.push(a),a="",a+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",a+=" "+f+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var _=s?"data"+(s-1||""):"parentData",x=s?e.dataPathArr[s]:"parentDataProperty";a+=" , "+_+" , "+x+", rootData)  ";var S=a;if(a=m.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");
c&&(a+=" var "+d+"; "),a+=" try { "+e.yieldAwait+" "+S+"; ",c&&(a+=" "+d+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(a+=" "+d+" = false; "),a+=" } ",c&&(a+=" if ("+d+") { ")}else a+=" if (!"+S+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",c&&(a+=" else { ")}return a}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var h="schema"+a;if(!p)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],g=s;if(g)for(var y,v=-1,b=g.length-1;v<b;){y=g[v+=1];var _=e.schema.properties[y];_&&e.util.schemaHasRules(_,e.RULES.all)||(m[m.length]=y)}}else var m=s;if(p||m.length){var x=e.errorPath,S=p||m.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(c)if(i+=" var missing"+a+"; ",S){p||(i+=" var "+h+" = validate.schema"+u+"; ");var O="i"+a,k="schema"+a+"["+O+"]",E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),i+=" var "+d+" = true; ",p&&(i+=" if (schema"+a+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+a+")) "+d+" = false; else {"),i+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { "+d+" = "+f+"["+h+"["+O+"]] !== undefined ",w&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+h+"["+O+"]) "),i+="; if (!"+d+") break; } ",p&&(i+="  }  "),i+="  if (!"+d+") {   ";var M=M||[];M.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=M.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var P=m;if(P)for(var C,O=-1,A=P.length-1;O<A;){C=P[O+=1],O&&(i+=" || ");var D=e.util.getProperty(C),R=f+D;i+=" ( ( "+R+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:D)+") ) "}i+=") {  ";var k="missing"+a,E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,k,!0):x+" + "+k);var M=M||[];M.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=M.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(S){p||(i+=" var "+h+" = validate.schema"+u+"; ");var O="i"+a,k="schema"+a+"["+O+"]",E="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,k,e.opts.jsonPointers)),p&&(i+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),i+=" for (var "+O+" = 0; "+O+" < "+h+".length; "+O+"++) { if ("+f+"["+h+"["+O+"]] === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+h+"["+O+"]) "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(i+="  }  ")}else{var N=m;if(N)for(var C,I=-1,F=N.length-1;I<F;){C=N[I+=1];var D=e.util.getProperty(C),E=e.util.escapeQuotes(C),R=f+D;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,C,e.opts.jsonPointers)),i+=" if ( "+R+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(C)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+E+"' } ",e.opts.messages!==!1&&(i+=" , message: '",i+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=x}else c&&(i+=" if (true) {");return i}},function(e,t){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&e.opts.uniqueItems!==!1){p&&(i+=" var "+d+"; if ("+r+" === false || "+r+" === undefined) "+d+" = true; else if (typeof "+r+" != 'boolean') "+d+" = false; else { "),i+=" var "+d+" = true; if ("+f+".length > 1) { var i = "+f+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } } ",p&&(i+="  }  "),i+=" if (!"+d+") {   ";var h=h||[];h.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var m=i;i=h.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";function r(e,t){function n(e,t,n){for(var r,a=0;a<i.length;a++){var o=i[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},i.push(r));var u={keyword:e,definition:n,custom:!0,code:s,implements:n.implements};r.rules.push(u),i.custom[e]=u}function r(e){if(!i.types[e])throw new Error("Unknown type "+e)}var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!o.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var a=t.type;if(Array.isArray(a)){var u,l=a.length;for(u=0;u<l;u++)r(a[u]);for(u=0;u<l;u++)n(e,a[u],t)}else a&&r(a),n(e,a,t);var c=t.$data===!0&&this._opts.$data;if(c&&!t.validate)throw new Error('$data support: "validate" function is not defined');var f=t.metaSchema;f&&(c&&(f={anyOf:[f,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(f,!0))}i.keywords[e]=i.all[e]=!0}function i(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1}function a(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}}var o=/^[a-z_$][a-z0-9_$\-]*$/i,s=n(319);e.exports={add:r,get:i,remove:a}},function(e,t){"use strict";var n="http://json-schema.org/draft-06/schema";e.exports=function(e){var t=e._opts.defaultMeta,r="string"==typeof t?{$ref:t}:e.getSchema(n)?{$ref:n}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:r},additionalProperties:!1}}}),e.RULES.all.properties.implements.push("patternGroups")}},function(e,t){(function(t){"use strict";function n(e){s.length||(o(),u=!0),s[s.length]=e}function r(){for(;l<s.length;){var e=l;if(l+=1,s[e].call(),l>c){for(var t=0,n=s.length-l;t<n;t++)s[t]=s[t+l];s.length-=l,l=0}}s.length=0,l=0,u=!1}function i(e){var t=1,n=new d(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}function a(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,s=[],u=!1,l=0,c=1024,f="undefined"!=typeof t?t:self,d=f.MutationObserver||f.WebKitMutationObserver;o="function"==typeof d?i(r):a(r),n.requestFlush=o,n.makeRequestCallFromTimer=a}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=i(l),f=n(347),d=i(f),p=n(341),h=i(p),m=n(162),g=i(m),y=n(344),v=i(y),b=n(64),_=n(39),x=r(_),S=n(37);n(374);var w=n(111),O=n(204),k=n(370),E=i(k),M=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",function(t){var n=t.data;if(n.spec){console.log("[Vega-Editor] Received Message",t.origin,n);var r=JSON.parse(n.spec);n.spec=JSON.stringify(r,null,2),(n.spec||n.file)&&t.source.postMessage(!0,"*"),n.spec&&("VEGA"===n.mode.toUpperCase()?e.props.updateVegaSpec(n.spec):"VEGA-LITE"===n.mode.toUpperCase()&&e.props.updateVegaLiteSpec(n.spec))}},!1);var t=this.props.params;t.mode&&w.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&this.props.setMode(t.mode),this.setExample(this.props.params)}},{key:"componentWillReceiveProps",value:function(e){(0,E.default)(this.props.params,e.params)||this.setExample(e.params)}},{key:"setExample",value:function(e){var t=this;if(w.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1)if(e&&e.example_name){var n=e.example_name;"vega"===e.mode?(0,O.text)("./spec/vega/"+n+".vg.json",function(e){t.props.setVegaExample(n,e)}):"vega-lite"===e.mode&&(0,O.text)("./spec/vega-lite/"+n+".vl.json",function(e){t.props.setVegaLiteExample(n,e)})}else e&&e.mode&&("vega"===e.mode?this.props.setVegaExample(name,"{}"):"vega-lite"===e.mode&&this.props.setVegaLiteExample(name,"{}"))}},{key:"render",value:function(){var e=window.innerWidth;return c.default.createElement("div",{className:"app-container"},c.default.createElement(h.default,null),c.default.createElement("div",{style:{position:"relative",height:"calc(100vh - "+b.LAYOUT.HeaderHeight+"px)"}},c.default.createElement(g.default,{split:"vertical",minSize:300,defaultSize:.4*e,pane1Style:{display:"flex"}},c.default.createElement(v.default,null),c.default.createElement(d.default,null))))}}]),t}(c.default.Component),T=function(e){return{setMode:function(t){e(x.setMode(t))},updateVegaSpec:function(t){e(x.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(x.updateVegaLiteSpec(t))},setVegaExample:function(t,n){e(x.setVegaExample(t,n))},setVegaLiteExample:function(t,n){e(x.setVegaLiteExample(t,n))}}};t.default=(0,S.connect)(null,T)(M)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.app.error,warningsLogger:e.app.warningsLogger,errorPane:e.app.errorPane}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),s=n(338),u=i(s),l=n(39),c=r(l),f=function(e){return{showErrorPane:function(){e(c.showErrorPane())}}};t.default=(0,o.connect)(a,f)(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u);n(375);var c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=[];return this.props.error&&t.push(l.default.createElement("li",{key:0},l.default.createElement("span",{className:"error"},"[Error] "),this.props.error)),this.props.warningsLogger.warns.forEach(function(e,n){t.push(l.default.createElement("li",{key:n+1},l.default.createElement("span",{className:"warning"},"[Warning] "),e))}),0===t.length&&t.push(l.default.createElement("li",{key:"no error"},l.default.createElement("span",{className:"info"},"[Info] "),"No error or warnings")),l.default.createElement("div",{className:"error-pane"},l.default.createElement("span",{onClick:function(t){return e.props.showErrorPane()},className:"close"},"✖"),l.default.createElement("ul",null,t))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{error:e.app.error}}function o(e){return{showErrorPane:function(){e(f.showErrorPane())}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(340),u=i(s),l=n(37),c=n(39),f=r(c);t.default=(0,l.connect)(a,o)(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u);n(376);var c=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return this.props.error?l.default.createElement("div",{id:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},this.props.error):null}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),o=n(342),s=i(o),u=n(39),l=r(u),c=function(e,t){return{mode:e.app.mode}},f=function(e){return{setGistVegaSpec:function(t,n){e(l.setGistVegaSpec(t,n))},setGistVegaLiteSpec:function(t,n){e(l.setGistVegaLiteSpec(t,n))}}};t.default=(0,a.connect)(c,f)(s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(525),f=r(c),d=n(64);n(377);var p=n(111),h=function(e){return e.split(/[_\-]/).map(function(e){return e[0].toUpperCase()+e.substring(1)}).join(" ")},m=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showVega:e.mode===d.MODES.Vega,url:""},n.onSelectVega=n.onSelectVega.bind(n),n}return o(t,e),s(t,[{key:"handleChange",value:function(e){this.setState({url:e.target.value})}},{key:"onSelectVega",value:function(e){this.setState({exampleIsOpened:!1}),p.hashHistory.push("/examples/vega/"+e)}},{key:"onSelectNewVega",value:function(){p.hashHistory.push("/custom/vega")}},{key:"onSelectVegaLite",value:function(e){this.setState({exampleIsOpened:!1}),p.hashHistory.push("/examples/vega-lite/"+e)}},{key:"onSelectNewVegaLite",value:function(){p.hashHistory.push("/custom/vega-lite")}},{key:"fetchData",value:function(e,t){var n=this,r="https://hook.io/tianyiii/vegaeditor/",i=r+t+"/"+e.substring(e.indexOf(".com/")+".com/".length),a=i.substring(r.length);fetch(i,{method:"get",mode:"cors"}).then(function(e){return 200===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))}).then(function(e){var n=a.split("/");if(n.length<3)return void console.warn("invalid url");var r=n[1],i=n[2];return p.hashHistory.push("/gist/"+t+"/"+r+"/"+i),e.json()}).then(function(e){"Not Found"!==e.message?"vega"===t?n.props.setGistVegaSpec(i,JSON.stringify(e,null,2)):"vega-lite"===t&&n.props.setGistVegaLiteSpec(i,JSON.stringify(e,null,2)):console.warn("invalid url")}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=l.default.createElement("div",{className:"button",onClick:function(t){e.setState({exampleIsOpened:!0})}},"Examples"),n=l.default.createElement("div",{className:"button",onClick:function(t){e.setState({gistIsOpened:!0})}},"Gist"),r=l.default.createElement("a",{className:"button right",href:this.props.mode===d.MODES.Vega?"https://vega.github.io/vega/docs/":"https://vega.github.io/vega-lite/docs/",target:"_blank"},h(this.props.mode)," Docs"),i=l.default.createElement("div",{onMouseOver:function(t){var n=t.target.getBoundingClientRect();e.setState({customIsOpened:!0,left:n.left})}},"New"),a=l.default.createElement("div",{className:"vega"},Object.keys(d.SPECS.Vega).map(function(t,n){var r=d.SPECS.Vega[t];return l.default.createElement("div",{className:"itemGroup",key:n},l.default.createElement("div",{className:"specType"},t),l.default.createElement("div",{className:"items"},r.map(function(t,n){return l.default.createElement("div",{key:n,onClick:function(){return e.onSelectVega(t.name)},className:"item"},l.default.createElement("div",{style:{backgroundImage:"url(images/examples/vg/"+t.name+".vg.png)"},className:"img"}),l.default.createElement("div",{className:"name"},h(t.name)))})))})),o=l.default.createElement("div",{className:"vega-Lite"},Object.keys(d.SPECS.VegaLite).map(function(t,n){var r=d.SPECS.VegaLite[t];return l.default.createElement("div",{className:"itemGroup",key:n},l.default.createElement("div",{className:"specType"},t),l.default.createElement("div",{className:"items"},r.map(function(t,n){return l.default.createElement("div",{key:n,onClick:function(){return e.onSelectVegaLite(t.name)},className:"item"},l.default.createElement("div",{style:{backgroundImage:"url(images/examples/vl/"+t.name+".vl.png)"},className:"img"}),l.default.createElement("div",{className:"name"},t.title))})))})),s=l.default.createElement("div",null,l.default.createElement("header",null,"Enter Gist URL: "),l.default.createElement("div",{className:"gist-content"},l.default.createElement("div",{className:"gist-text"},"For example"),l.default.createElement("div",{className:"gist-url"},"https://gist.github.com/mathisonian/542616c4af5606784e97e59e3c65b7e5"),l.default.createElement("input",{className:"gist-input",type:"text",placeholder:"enter gist url here",value:this.state.url,onChange:this.handleChange.bind(this)}),l.default.createElement("button",{className:"gist-button",onClick:function(){e.fetchData(e.state.url,"vega"),e.setState({gistIsOpened:!1,url:""})}}," Vega"),l.default.createElement("button",{className:"gist-button",onClick:function(){e.fetchData(e.state.url,"vega-lite"),e.setState({gistIsOpened:!1,url:""})}}," Vega-Lite")));return l.default.createElement("div",{className:"header"},l.default.createElement("a",{className:"idl-logo",href:"https://idl.cs.washington.edu/",target:"_blank"},l.default.createElement("img",{height:37,alt:"IDL Logo",src:"https://vega.github.io/images/idl-logo.png"})),t,n,r,i,l.default.createElement(f.default,{closeOnEsc:!0,closeOnOutsideClick:!0,isOpened:this.state.customIsOpened,onClose:function(){e.setState({customIsOpened:!1})}},l.default.createElement("div",{className:"customSubmenuGroup",onMouseOver:function(){e.setState({customIsOpened:!0})},onMouseLeave:function(){e.setState({customIsOpened:!1})},onClick:function(){e.setState({customIsOpened:!1})},style:{left:this.state.left,width:this.state.width,position:"absolute",cursor:"pointer",zIndex:1e9,top:0}},l.default.createElement("div",{id:"emptyButton",style:{height:d.LAYOUT.HeaderHeight}}),l.default.createElement("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVega()}},"Vega"),l.default.createElement("div",{className:"customSubmenu",onClick:function(){return e.onSelectNewVegaLite()}},"Vega-Lite"))),l.default.createElement(f.default,{closeOnEsc:!0,isOpened:this.state.exampleIsOpened,onClose:function(){e.setState({exampleIsOpened:!1})}},l.default.createElement("div",{className:"modal-background"},l.default.createElement("div",{className:"modal-header"},l.default.createElement("div",{className:"button-groups"},l.default.createElement("button",{className:this.state.showVega?"selected":"",onClick:function(){e.setState({showVega:!0})}},"Vega"),l.default.createElement("button",{className:this.state.showVega?"":"selected",onClick:function(){e.setState({showVega:!1})}},"Vega-Lite")),l.default.createElement("button",{className:"close-button",onClick:function(){e.setState({exampleIsOpened:!1})}},"✖")),l.default.createElement("div",{className:"modal-area"},l.default.createElement("div",{className:"modal"},this.state.showVega?a:o)))),l.default.createElement(f.default,{closeOnEsc:!0,isOpened:this.state.gistIsOpened,onClose:function(){e.setState({gistIsOpened:!1})}},l.default.createElement("div",{className:"modal-background"},l.default.createElement("div",{className:"modal-header"},l.default.createElement("button",{className:"close-button",onClick:function(){e.setState({gistIsOpened:!1})}},"✖")),l.default.createElement("div",{className:"modal-area"},l.default.createElement("div",{className:"modal"},s)))))}}]),t}(l.default.Component);t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return{value:e.app.vegaSpec,compiledVegaSpec:e.app.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(14),f=i(c),d=n(37),p=n(244),h=i(p),m=n(39),g=r(m),y=n(196),v=i(y),b=n(305),_=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"sizeFixEditorParent full-height-wrapper"},f.default.createElement(v.default,null),f.default.createElement(h.default,{options:{readOnly:!0,folding:!0,scrollBeyondLastLine:!1,wordWrap:!0,automaticLayout:!0},language:"json",key:JSON.stringify(this.state),value:b.stringify(this.props.value,null,2,60)}))}}]),t}(f.default.Component),x=function(e){return{showCompiledVegaSpec:function(){e(g.showCompiledVegaSpec())}}};t.default=(0,d.connect)(u,x)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{mode:e.app.mode,compiledVegaSpec:e.app.compiledVegaSpec}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=r(l),f=n(345),d=r(f),p=n(343),h=r(p),m=n(196),g=r(m),y=n(162),v=r(y),b=n(64),_=n(37);n(378);var x=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getInnerPanes",value:function(){var e=this.props.mode,t=[c.default.createElement(d.default,{key:"editor"})];return e===b.MODES.VegaLite&&(this.props.compiledVegaSpec?t.push(c.default.createElement(h.default,{key:"compiled"})):t.push(c.default.createElement(g.default,{key:"compiledSpecHeader"}))),t}},{key:"render",value:function(){var e=this.getInnerPanes(),t=void 0;return t=this.props.mode===b.MODES.VegaLite&&this.props.compiledVegaSpec?c.default.createElement(v.default,{split:"horizontal",defaultSize:(window.innerHeight-b.LAYOUT.HeaderHeight)/e.length,pane2Style:{display:"flex"}},e):c.default.createElement("div",{className:"full-height-wrapper"},e)}}]),t}(c.default.Component);t.default=(0,_.connect)(s)(x)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(37),o=n(346),s=i(o),u=n(39),l=r(u),c=function(e,t){return{value:e.app.editorString,mode:e.app.mode,selectedExample:e.app.selectedExample,gist:e.app.gist,autoParse:e.app.autoParse,parse:e.app.parse}},f=function(e){return{updateVegaSpec:function(t){e(l.updateVegaSpec(t))},updateVegaLiteSpec:function(t){e(l.updateVegaLiteSpec(t))},parseSpec:function(t){e(l.parseSpec(t))},updateEditorString:function(t){e(l.updateEditorString(t))}}};t.default=(0,a.connect)(c,f)(s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){var r=void 0;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}Object.defineProperty(t,"__esModule",{
value:!0});var l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(14),d=r(f),p=n(64),h=n(244),m=r(h),g=n(111);n(379);var y=n(216),v=n(217),b=(l={},s(l,p.MODES.Vega,{uri:"https://vega.github.io/schema/vega/v3.0.json",schema:y,fileMatch:["*"]}),s(l,p.MODES.VegaLite,{uri:"https://vega.github.io/schema/vega-lite/v2.json",schema:v,fileMatch:["*"]}),l),_=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"componentDidMount",value:function(){this.spec=this.props.value}},{key:"handleEditorChange",value:function(e){this.props.autoParse?this.props.mode===p.MODES.Vega?this.props.updateVegaSpec(e):this.props.mode===p.MODES.VegaLite&&this.props.updateVegaLiteSpec(e):this.props.updateEditorString(e),this.spec=e,g.hashHistory.getCurrentLocation().pathname.indexOf("/edited")===-1&&g.hashHistory.push("/edited")}},{key:"editorWillMount",value:function(e){e.languages.json.jsonDefaults.setDiagnosticsOptions({validate:!0,allowComments:!0,schemas:[b[this.props.mode]]})}},{key:"componentWillReceiveProps",value:function(e){e.parse&&(this.props.mode===p.MODES.Vega?this.props.updateVegaSpec(this.spec):this.props.mode===p.MODES.VegaLite&&this.props.updateVegaLiteSpec(this.spec),this.props.parseSpec(!1))}},{key:"manualParseSpec",value:function(){var e=this;return this.props.autoParse?null:d.default.createElement("div",{className:"editor-header"},d.default.createElement("button",{id:"parse-button",onClick:function(){return e.props.parseSpec(!0)}},"Parse"))}},{key:"render",value:function(){return d.default.createElement("div",{className:"full-height-wrapper"},this.manualParseSpec(),d.default.createElement(m.default,{language:"json",key:JSON.stringify(Object.assign({},this.state,{mode:this.props.mode,selectedExample:this.props.selectedExample,gist:this.props.gist})),options:{folding:!0,scrollBeyondLastLine:!1,wordWrap:!0,wrappingIndent:"same",automaticLayout:!0},defaultValue:this.props.value,onChange:u(this.handleEditorChange,500).bind(this),editorWillMount:this.editorWillMount.bind(this)}))}}]),t}(d.default.Component);_.propTypes={value:d.default.PropTypes.string,onChange:d.default.PropTypes.func},t.default=_},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{vegaSpec:e.app.vegaSpec,renderer:e.app.renderer,mode:e.app.mode,errorPane:e.app.errorPane,warningsLogger:e.app.warningsLogger,error:e.app.error}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),s=n(348),u=i(s),l=n(39),c=r(l),f=function(e){return{logError:function(t){e(c.logError(t))}}};t.default=(0,o.connect)(a,f)(u.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=i(l),f=n(19),d=i(f),p=n(128),h=r(p);n(373),n(380);var m=n(64),g=i(m),y=n(630),v=r(y),b=n(339),_=i(b),x=n(337),S=i(x),w=n(349),O=i(w),k=n(162),E=i(k),M=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"renderVega",value:function(e){this.refs.chart.style.width=this.refs.chart.getBoundingClientRect().width+"px";var t=void 0,n=void 0;try{t=h.parse(e.vegaSpec),n=new h.View(t).logLevel(h.Warn).initialize(this.refs.chart).renderer(e.renderer),e.mode===g.default&&n.hover(),n.run()}catch(r){this.props.logError(r.toString())}this.refs.chart.style.width="auto",v.vega(n),window.VEGA_DEBUG.view=n}},{key:"componentDidMount",value:function(){this.renderVega(this.props)}},{key:"componentDidUpdate",value:function(){this.renderVega(this.props)}},{key:"renderChart",value:function(){return c.default.createElement("div",{className:"chart-container"},c.default.createElement(_.default,null),c.default.createElement("div",{className:"chart"},c.default.createElement("div",{ref:"chart"}),c.default.createElement("div",{id:"vis-tooltip",className:"vg-tooltip"})),c.default.createElement(O.default,null))}},{key:"render",value:function(){return this.props.errorPane?c.default.createElement(E.default,{split:"horizontal",defaultSize:.6*window.innerHeight},this.renderChart(),c.default.createElement(S.default,null)):this.renderChart()}}]),t}(c.default.Component);M.propTypes={vegaSpec:d.default.object,renderer:d.default.string,mode:d.default.string},t.default=M},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return{renderer:e.app.renderer,error:e.app.error,mode:e.app.mode,autoParse:e.app.autoParse,warningsLogger:e.app.warningsLogger}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),s=n(350),u=i(s),l=n(39),c=r(l),f=function(e){return{toggleAutoParse:function(){e(c.toggleAutoParse())},cycleRenderer:function(){e(c.cycleRenderer())},showErrorPane:function(){e(c.showErrorPane())}}};t.default=(0,o.connect)(a,f)(u.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=i(l);n(381);var f=n(128),d=r(f),p=n(176),h=r(p),m=function(e){return"vega"===e?d.version:h.version},g=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"showErrorAndWarnings",value:function(){var e=this;return this.props.error?c.default.createElement("div",{className:"error-indicator",onClick:function(t){return e.props.showErrorPane()}},"Error"):this.props.warningsLogger.warns.length>0?c.default.createElement("div",{className:"warning-indicator",onClick:function(t){return e.props.showErrorPane()}},"Warning"):void 0}},{key:"render",value:function(){return c.default.createElement("div",{className:"toolbar"},this.showErrorAndWarnings(),c.default.createElement("div",{className:"status"},"Mode: "+this.props.mode+"  Version: "+m(this.props.mode)),c.default.createElement("div",{className:"autoParse",onClick:this.props.toggleAutoParse},this.props.autoParse?"Parse: auto":"Parse: manual"),c.default.createElement("div",{className:"renderer-toggle",onClick:this.props.cycleRenderer},"Renderer: "+this.props.renderer))}}]),t}(c.default.Component);g.propTypes={error:c.default.PropTypes.string,renderer:c.default.PropTypes.string,autoParse:c.default.PropTypes.bool},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(438),i=n(437);t.Vega=r,t.VegaLite=i},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var a=n(14),o=i(a),s=n(140),u=i(s),l=n(336),c=i(l),f=n(37),d=n(356),p=i(d),h=n(111),m=n(128),g=r(m),y=n(176),v=r(y);window.VEGA_DEBUG=window.VEGA_DEBUG||{},window.VEGA_DEBUG.VEGA_VERSION=g.version,window.VEGA_DEBUG.VEGA_LITE_VERSION=v.version;var b=window.__INITIAL_STATE__,_=(0,p.default)(b);u.default.render(o.default.createElement(f.Provider,{store:_},o.default.createElement(h.Router,{history:h.hashHistory},o.default.createElement(h.Route,{path:"/",component:c.default}),o.default.createElement(h.Route,{path:"/edited",component:c.default}),o.default.createElement(h.Route,{path:"/gist/:mode/:username/:id",component:c.default}),o.default.createElement(h.Route,{path:"/examples/:mode/:example_name",component:c.default}),o.default.createElement(h.Route,{path:"/custom/:mode",component:c.default}))),document.getElementById("root"))},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(176),s=r(o),u=n(39),l=n(64),c=n(354),f=function(){function e(){i(this,e),this.warns=[],this.infos=[],this.debugs=[]}return a(e,[{key:"level",value:function(){return this}},{key:"warn",value:function(){var e;return(e=this.warns).push.apply(e,arguments),this}},{key:"info",value:function(){var e;return(e=this.infos).push.apply(e,arguments),this}},{key:"debug",value:function(){var e;return(e=this.debugs).push.apply(e,arguments),this}}]),e}(),d=new f;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editorString:"{}",vegaSpec:{},vegaLiteSpec:null,selectedExample:null,mode:l.MODES.Vega,renderer:l.RENDERERS.Canvas,autoParse:!0,parse:!1,compiledVegaSpec:!1,gist:null,error:null,errorPane:!1,warningsLogger:d},t=arguments[1],n=void 0,r=void 0;switch(t.type){case u.SET_MODE:return Object.assign({},e,{mode:t.mode,vegaSpec:{},vegaLiteSpec:{},selectedExample:null,editorString:"{}",compiledVegaSpec:!1,gist:null,parse:!1,warningsLogger:d});case u.PARSE_SPEC:return Object.assign({},e,{parse:t.parse});case u.UPDATE_VEGA_SPEC:try{n=JSON.parse(t.spec)}catch(i){return console.warn("Error parsing json string"),Object.assign({},e,{error:i.message,editorString:t.spec,warningsLogger:d,selectedExample:null})}return Object.assign({},e,{vegaSpec:n,mode:l.MODES.Vega,editorString:t.spec,error:null,warningsLogger:d,selectedExample:null});case u.SET_VEGA_EXAMPLE:try{n=JSON.parse(t.spec)}catch(i){return console.warn("Error parsing json string"),Object.assign({},e,{warningsLogger:d,error:i.message,editorString:t.spec})}return Object.assign({},e,{vegaSpec:n,mode:l.MODES.Vega,editorString:t.spec,selectedExample:t.example,error:null,warningsLogger:d});case u.SET_VEGA_LITE_EXAMPLE:try{n=JSON.parse(t.spec),r=n,"{}"!==t.spec&&(r=s.compile(n).spec)}catch(i){return console.warn(i),Object.assign({},e,{warningsLogger:d,error:i.message,editorString:t.spec})}return Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:l.MODES.VegaLite,editorString:t.spec,selectedExample:t.example,error:null,warningsLogger:d});case u.UPDATE_VEGA_LITE_SPEC:var a=new f;try{n=JSON.parse(t.spec),(0,c.validateVegaLite)(n,a),r=s.compile(n,a).spec}catch(i){return console.warn(i),Object.assign({},e,{error:i.message,editorString:t.spec,warningsLogger:a,selectedExample:null})}return Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:l.MODES.VegaLite,editorString:t.spec,error:null,warningsLogger:a,selectedExample:null});case u.SET_GIST_VEGA_SPEC:try{n=JSON.parse(t.spec)}catch(i){return console.warn("Error parsing json string"),Object.assign({},e,{warningsLogger:d,error:i.message,editorString:t.spec})}return Object.assign({},e,{vegaSpec:n,mode:l.MODES.Vega,editorString:t.spec,gist:t.gist,error:null,warningsLogger:d});case u.SET_GIST_VEGA_LITE_SPEC:var o=new f;try{n=JSON.parse(t.spec),r=s.compile(n,o).spec}catch(i){return console.warn(i),Object.assign({},e,{warningsLogger:o,error:i.message,editorString:t.spec})}return Object.assign({},e,{vegaLiteSpec:n,vegaSpec:r,mode:l.MODES.VegaLite,editorString:t.spec,gist:t.gist,error:null,warningsLogger:o});case u.TOGGLE_AUTO_PARSE:return Object.assign({},e,{autoParse:!e.autoParse,parse:!e.autoParse});case u.CYCLE_RENDERER:var p=Object.values(l.RENDERERS),h=p.indexOf(e.renderer),m=p[(h+1)%p.length];return Object.assign({},e,{renderer:m});case u.SHOW_COMPILED_VEGA_SPEC:return Object.assign({},e,{compiledVegaSpec:!e.compiledVegaSpec});case u.SHOW_ERROR_PANE:return Object.assign({},e,{errorPane:!e.errorPane});case u.LOG_ERROR:return Object.assign({},e,{error:t.error});case u.UPDATE_EDITOR_STRING:return Object.assign({},e,{editorString:t.editorString});default:return e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=c(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=c.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;console.log(u),t.warn(u.dataPath+" "+u.message)}}catch(l){i=!0,a=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}function a(e,t){var n=l(e);if(!n){var r=!0,i=!1,a=void 0;try{for(var o,s=l.errors[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;t.warn(u.dataPath+" "+u.message)}}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.validateVegaLite=i,t.validateVega=a;var o=n(307),s=r(o),u=new s.default({jsonPointers:!0,allErrors:!1});u.addMetaSchema(n(432));var l=u.compile(n(216)),c=u.compile(n(217))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(165),a=n(353),o=r(a);t.default=(0,i.combineReducers)({app:o.default})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.applyMiddleware)(u.default);n=(0,a.compose)(n,(0,a.applyMiddleware)((0,o.routerMiddleware)(e)));var r=(0,a.compose)(n,(0,d.default)("app","redux")),i=(0,a.createStore)(c.default,t,r);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(165),o=n(535),s=n(575),u=r(s),l=n(355),c=r(l),f=n(572),d=r(f)},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function r(e){return 3*e.length/4-n(e)}function i(e){var t,r,i,a,o,s=e.length;a=n(e),o=new c(3*s/4-a),r=a>0?s-4:s;var u=0;for(t=0;t<r;t+=4)i=l[e.charCodeAt(t)]<<18|l[e.charCodeAt(t+1)]<<12|l[e.charCodeAt(t+2)]<<6|l[e.charCodeAt(t+3)],o[u++]=i>>16&255,o[u++]=i>>8&255,o[u++]=255&i;return 2===a?(i=l[e.charCodeAt(t)]<<2|l[e.charCodeAt(t+1)]>>4,o[u++]=255&i):1===a&&(i=l[e.charCodeAt(t)]<<10|l[e.charCodeAt(t+1)]<<4|l[e.charCodeAt(t+2)]>>2,o[u++]=i>>8&255,o[u++]=255&i),o}function a(e){return u[e>>18&63]+u[e>>12&63]+u[e>>6&63]+u[63&e]}function o(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function s(e){for(var t,n=e.length,r=n%3,i="",a=[],s=16383,l=0,c=n-r;l<c;l+=s)a.push(o(e,l,l+s>c?c:l+s));return 1===r?(t=e[n-1],i+=u[t>>2],i+=u[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=u[t>>10],i+=u[t>>4&63],i+=u[t<<2&63],i+="="),a.push(i),a.join("")}t.byteLength=r,t.toByteArray=i,t.fromByteArray=s;for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=f.length;d<p;++d)u[d]=f[d],l[f.charCodeAt(d)]=d;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t,n){!function(t,r,i){"undefined"!=typeof e&&e.exports?e.exports=i():n(678)(r,i)}(this,"bowser",function(){function e(e){function t(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function n(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}function r(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var i,a=t(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(e),u=!s&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),c=!l&&/nexus\s*[0-9]+/i.test(e),f=/CrOS/.test(e),d=/silk/i.test(e),p=/sailfish/i.test(e),h=/tizen/i.test(e),m=/(web|hpw)os/i.test(e),g=/windows phone/i.test(e),y=(/SamsungBrowser/i.test(e),!g&&/windows/i.test(e)),v=!a&&!d&&/macintosh/i.test(e),b=!u&&!p&&!h&&!m&&/linux/i.test(e),_=t(/edge\/(\d+(\.\d+)?)/i),x=t(/version\/(\d+(\.\d+)?)/i),S=/tablet/i.test(e),w=!S&&/[^-]mobi/i.test(e),O=/xbox/i.test(e);/opera/i.test(e)?i={name:"Opera",opera:o,version:x||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?i={name:"Opera",opera:o,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?i={name:"Samsung Internet for Android",samsungBrowser:o,version:x||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?i={name:"Opera Coast",coast:o,version:x||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?i={name:"Yandex Browser",yandexbrowser:o,version:x||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?i={name:"UC Browser",ucbrowser:o,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?i={name:"Maxthon",maxthon:o,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?i={name:"Epiphany",epiphany:o,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?i={name:"Puffin",puffin:o,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?i={name:"Sleipnir",sleipnir:o,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?i={name:"K-Meleon",kMeleon:o,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:g?(i={name:"Windows Phone",windowsphone:o},_?(i.msedge=o,i.version=_):(i.msie=o,i.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?i={name:"Internet Explorer",msie:o,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?i={name:"Chrome",chromeos:o,chromeBook:o,chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?i={name:"Microsoft Edge",msedge:o,version:_}:/vivaldi/i.test(e)?i={name:"Vivaldi",vivaldi:o,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||x}:p?i={name:"Sailfish",sailfish:o,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?i={name:"SeaMonkey",seamonkey:o,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(i={name:"Firefox",firefox:o,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(i.firefoxos=o)):d?i={name:"Amazon Silk",silk:o,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?i={name:"PhantomJS",phantom:o,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?i={name:"SlimerJS",slimer:o,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?i={name:"BlackBerry",blackberry:o,version:x||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:m?(i={name:"WebOS",webos:o,version:x||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(i.touchpad=o)):/bada/i.test(e)?i={name:"Bada",bada:o,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?i={name:"Tizen",tizen:o,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?i={name:"QupZilla",qupzilla:o,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?i={name:"Chromium",chromium:o,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?i={name:"Chrome",chrome:o,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:u?i={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(i={name:"Safari",safari:o},x&&(i.version=x)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},x&&(i.version=x)):i=/googlebot/i.test(e)?{name:"Googlebot",googlebot:o,version:t(/googlebot\/(\d+(\.\d+))/i)||x}:{name:t(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(i.name=i.name||"Blink",i.blink=o):(i.name=i.name||"Webkit",i.webkit=o),!i.version&&x&&(i.version=x)):!i.opera&&/gecko\//i.test(e)&&(i.name=i.name||"Gecko",i.gecko=o,i.version=i.version||t(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||i.msedge||!u&&!i.silk?i.windowsphone||i.msedge||!a?v?i.mac=o:O?i.xbox=o:y?i.windows=o:b&&(i.linux=o):(i[a]=o,i.ios=o):i.android=o;var k="";i.windows?k=r(t(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?k=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?(k=t(/Mac OS X (\d+([_\.\s]\d+)*)/i),k=k.replace(/[_\s]/g,".")):a?(k=t(/os (\d+([_\s]\d+)*) like mac os x/i),k=k.replace(/[_\s]/g,".")):u?k=t(/android[ \/-](\d+(\.\d+)*)/i):i.webos?k=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?k=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?k=t(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(k=t(/tizen[\/\s](\d+(\.\d+)*)/i)),k&&(i.osversion=k);var E=!i.windows&&k.split(".")[0];return S||c||"ipad"==a||u&&(3==E||E>=4&&!w)||i.silk?i.tablet=o:(w||"iphone"==a||"ipod"==a||u||l||i.blackberry||i.webos||i.bada)&&(i.mobile=o),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=o:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=o:i.x=o,i}function t(e){return e.split(".").length}function n(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function r(e){for(var r=Math.max(t(e[0]),t(e[1])),i=n(e,function(e){var i=r-t(e);return e+=new Array(i+1).join(".0"),n(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--r>=0;){if(i[0][r]>i[1][r])return 1;if(i[0][r]!==i[1][r])return-1;if(0===r)return 0}}function i(t,n,i){var a=s;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=e(i));var o=""+a.version;for(var u in t)if(t.hasOwnProperty(u)&&a[u]){if("string"!=typeof t[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(t));return r([o,t[u]])<0}return n}function a(e,t,n){return!i(e,t,n)}var o=!0,s=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return s.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=i,s.compareVersions=r,s.check=a,s._detect=e,s})},20,function(e,t,n){!function(e,r){r(t,n(40))}(this,function(e,t){"use strict";function n(e,t){for(var n=t[0],i=t[1],a=-1,o=0,s=e.length,u=s-1;o<s;u=o++){var l=e[o],c=l[0],f=l[1],d=e[u],p=d[0],h=d[1];if(r(l,d,t))return 0;f>i!=h>i&&n<(p-c)*(i-f)/(h-f)+c&&(a=-a)}return a}function r(e,t,n){var r;return i(e,t,n)&&a(e[r=+(e[0]===t[0])],n[r],t[r])}function i(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function a(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function o(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=e.data[s+o*r]),s>=n&&(s>=a&&(u-=e.data[s-a+o*r]),t.data[s-n+o*r]=u/Math.min(s+1,r-1+a-s,a))}function s(e,t,n){for(var r=e.width,i=e.height,a=(n<<1)+1,o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=e.data[o+s*r]),s>=n&&(s>=a&&(u-=e.data[o+(s-a)*r]),t.data[o+(s-n)*r]=u/Math.min(s+1,i-1+a-s,a))}function u(e){return e[0]}function l(e){return e[1]}var c=Array.prototype,f=c.slice,d=function(e,t){return e-t},p=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},h=function(e){return function(){return e}},m=function(e,t){for(var r,i=-1,a=t.length;++i<a;)if(r=n(e,t[i]))return r;return 0},g=function(){},y=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,.5],[.5,1]],[[1,1.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,1.5]],[[1.5,1],[1,.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],v=function(){function e(e){var r=s(e);if(Array.isArray(r))r=r.slice().sort(d);else{var i=t.extent(e),a=i[0],o=i[1];r=t.tickStep(a,o,r),r=t.range(Math.floor(a/r)*r,Math.floor(o/r)*r,r)}var l=r.map(function(t){var r=[],i=[];return n(e,t,function(n){u(n,e,t),p(n)>0?r.push([n]):i.push(n)}),i.forEach(function(e){for(var t,n=0,i=r.length;n<i;++n)if(m((t=r[n])[0],e)!==-1)return void t.push(e)}),r});return l.map(function(e,t){return{type:"MultiPolygon",value:r[t],coordinates:e}})}function n(e,t,n){function i(e){var t,i,a=[e[0][0]+s,e[0][1]+u],o=[e[1][0]+s,e[1][1]+u],l=r(a),c=r(o);(t=h[l])?(i=p[c])?(delete h[t.end],delete p[i.start],t===i?(t.ring.push(o),n(t.ring)):p[t.start]=h[i.end]={start:t.start,end:i.end,ring:t.ring.concat(i.ring)}):(delete h[t.end],t.ring.push(o),h[t.end=c]=t):(t=p[c])?(i=h[l])?(delete p[t.start],delete h[i.end],t===i?(t.ring.push(o),n(t.ring)):p[i.start]=h[t.end]={start:i.start,end:t.end,ring:i.ring.concat(t.ring)}):(delete p[t.start],t.ring.unshift(a),p[t.start=l]=t):p[l]=h[c]={start:l,end:c,ring:[a,o]}}var s,u,l,c,f,d,p=new Array,h=new Array;for(s=u=-1,c=e[0]>=t,y[c<<1].forEach(i);++s<a-1;)l=c,c=e[s+1]>=t,y[l|c<<1].forEach(i);for(y[c<<0].forEach(i);++u<o-1;){for(s=-1,c=e[u*a+a]>=t,f=e[u*a]>=t,y[c<<1|f<<2].forEach(i);++s<a-1;)l=c,c=e[u*a+a+s+1]>=t,d=f,f=e[u*a+s+1]>=t,y[l|c<<1|f<<2|d<<3].forEach(i);y[c|f<<3].forEach(i)}for(s=-1,f=e[u*a]>=t,y[f<<2].forEach(i);++s<a-1;)d=f,f=e[u*a+s+1]>=t,y[f<<2|d<<3].forEach(i);y[f<<3].forEach(i)}function r(e){return 2*e[0]+e[1]*(a+1)*4}function i(e,t,n){e.forEach(function(e){var r,i=e[0],s=e[1],u=0|i,l=0|s,c=t[l*a+u];i>0&&i<a&&u===i&&(r=t[l*a+u-1],e[0]=i+(n-r)/(c-r)-.5),s>0&&s<o&&l===s&&(r=t[(l-1)*a+u],e[1]=s+(n-r)/(c-r)-.5)})}var a=1,o=1,s=t.thresholdSturges,u=i;return e.size=function(t){if(!arguments.length)return[a,o];var n=Math.ceil(t[0]),r=Math.ceil(t[1]);if(!(n>0&&r>0))throw new Error("invalid size");return a=n,o=r,e},e.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:h(Array.isArray(t)?f.call(t):t),e):s},e.smooth=function(t){return arguments.length?(u=t?i:g,e):u===i},e},b=function(){function e(e){var r=new Float32Array(x*S),i=new Float32Array(x*S);e.forEach(function(e,t,n){var i=d(e,t,n)+_>>b,a=p(e,t,n)+_>>b;i>=0&&i<x&&a>=0&&a<S&&++r[i+a*x]}),o({width:x,height:S,data:r},{width:x,height:S,data:i},y>>b),s({width:x,height:S,data:i},{width:x,height:S,data:r},y>>b),o({width:x,height:S,data:r},{width:x,height:S,data:i},y>>b),s({width:x,height:S,data:i},{width:x,height:S,data:r},y>>b),o({width:x,height:S,data:r},{width:x,height:S,data:i},y>>b),s({width:x,height:S,data:i},{width:x,height:S,data:r},y>>b);var a=w(r);if(!Array.isArray(a)){var u=t.max(r);a=t.tickStep(0,u,a),a=t.range(0,Math.floor(u/a)*a,a),a.shift()}return v().thresholds(a).size([x,S])(r).map(n)}function n(e){return e.value*=Math.pow(2,-2*b),e.coordinates.forEach(r),e}function r(e){e.forEach(i)}function i(e){e.forEach(a)}function a(e){e[0]=e[0]*Math.pow(2,b)-_,e[1]=e[1]*Math.pow(2,b)-_}function c(){return _=3*y,x=m+2*_>>b,S=g+2*_>>b,e}var d=u,p=l,m=960,g=500,y=20,b=2,_=3*y,x=m+2*_>>b,S=g+2*_>>b,w=h(20);return e.x=function(t){return arguments.length?(d="function"==typeof t?t:h(+t),e):d},e.y=function(t){return arguments.length?(p="function"==typeof t?t:h(+t),e):p},e.size=function(e){if(!arguments.length)return[m,g];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return m=t,g=n,c()},e.cellSize=function(e){if(!arguments.length)return 1<<b;if(!((e=+e)>=1))throw new Error("invalid cell size");return b=Math.floor(Math.log(e)/Math.LN2),c()},e.thresholds=function(t){return arguments.length?(w="function"==typeof t?t:h(Array.isArray(t)?f.call(t):t),e):w},e.bandwidth=function(e){if(!arguments.length)return Math.sqrt(y*(y+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return y=Math.round((Math.sqrt(4*e*e+1)-1)/2),c()},e};e.contours=v,e.contourDensity=b,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(364),n(99),n(201),n(368))}(this,function(e,t,n,r,i){"use strict";function a(e){return e.x+e.vx}function o(e){return e.y+e.vy}function s(e){return e.index}function u(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function l(e){return e.x}function c(e){return e.y}var f=function(e,t){function n(){var n,i,a=r.length,o=0,s=0;for(n=0;n<a;++n)i=r[n],o+=i.x,s+=i.y;for(o=o/a-e,s=s/a-t,n=0;n<a;++n)i=r[n],i.x-=o,i.y-=s}var r;return null==e&&(e=0),null==t&&(t=0),n.initialize=function(e){r=e},n.x=function(t){return arguments.length?(e=+t,n):e},n.y=function(e){return arguments.length?(t=+e,n):t},n},d=function(e){return function(){return e}},p=function(){return 1e-6*(Math.random()-.5)},h=function(e){function n(){function e(e,t,n,r,i){var a=e.data,o=e.r,s=m+o;{if(!a)return t>d+s||r<d-s||n>h+s||i<h-s;if(a.index>f.index){var u=d-a.x-a.vx,c=h-a.y-a.vy,y=u*u+c*c;y<s*s&&(0===u&&(u=p(),y+=u*u),0===c&&(c=p(),y+=c*c),y=(s-(y=Math.sqrt(y)))/y*l,f.vx+=(u*=y)*(s=(o*=o)/(g+o)),f.vy+=(c*=y)*s,a.vx-=u*(s=1-s),a.vy-=c*s)}}}for(var n,i,f,d,h,m,g,y=s.length,v=0;v<c;++v)for(i=t.quadtree(s,a,o).visitAfter(r),n=0;n<y;++n)f=s[n],m=u[f.index],g=m*m,d=f.x+f.vx,h=f.y+f.vy,i.visit(e)}function r(e){if(e.data)return e.r=u[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function i(){if(s){var t,n,r=s.length;for(u=new Array(r),t=0;t<r;++t)n=s[t],u[n.index]=+e(n,t,s)}}var s,u,l=1,c=1;return"function"!=typeof e&&(e=d(null==e?1:+e)),n.initialize=function(e){s=e,i()},n.iterations=function(e){return arguments.length?(c=+e,n):c},n.strength=function(e){return arguments.length?(l=+e,n):l},n.radius=function(t){return arguments.length?(e="function"==typeof t?t:d(+t),i(),n):e},n},m=function(e){function t(e){return 1/Math.min(h[e.source.index],h[e.target.index])}function r(t){for(var n=0,r=e.length;n<b;++n)for(var i,a,o,s,u,f,d,h=0;h<r;++h)i=e[h],a=i.source,o=i.target,s=o.x+o.vx-a.x-a.vx||p(),u=o.y+o.vy-a.y-a.vy||p(),f=Math.sqrt(s*s+u*u),f=(f-c[h])/f*t*l[h],s*=f,u*=f,o.vx-=s*(d=m[h]),o.vy-=u*d,a.vx+=s*(d=1-d),a.vy+=u*d}function i(){if(f){var t,r,i=f.length,s=e.length,d=n.map(f,g);for(t=0,h=new Array(i);t<s;++t)r=e[t],r.index=t,"object"!=typeof r.source&&(r.source=u(d,r.source)),"object"!=typeof r.target&&(r.target=u(d,r.target)),h[r.source.index]=(h[r.source.index]||0)+1,h[r.target.index]=(h[r.target.index]||0)+1;for(t=0,m=new Array(s);t<s;++t)r=e[t],m[t]=h[r.source.index]/(h[r.source.index]+h[r.target.index]);
l=new Array(s),a(),c=new Array(s),o()}}function a(){if(f)for(var t=0,n=e.length;t<n;++t)l[t]=+y(e[t],t,e)}function o(){if(f)for(var t=0,n=e.length;t<n;++t)c[t]=+v(e[t],t,e)}var l,c,f,h,m,g=s,y=t,v=d(30),b=1;return null==e&&(e=[]),r.initialize=function(e){f=e,i()},r.links=function(t){return arguments.length?(e=t,i(),r):e},r.id=function(e){return arguments.length?(g=e,r):g},r.iterations=function(e){return arguments.length?(b=+e,r):b},r.strength=function(e){return arguments.length?(y="function"==typeof e?e:d(+e),a(),r):y},r.distance=function(e){return arguments.length?(v="function"==typeof e?e:d(+e),o(),r):v},r},g=10,y=Math.PI*(3-Math.sqrt(5)),v=function(e){function t(){a(),v.call("tick",u),l<c&&(m.stop(),v.call("end",u))}function a(){var t,n,r=e.length;for(l+=(d-l)*f,h.each(function(e){e(l)}),t=0;t<r;++t)n=e[t],null==n.fx?n.x+=n.vx*=p:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=p:(n.y=n.fy,n.vy=0)}function o(){for(var t,n=0,r=e.length;n<r;++n){if(t=e[n],t.index=n,isNaN(t.x)||isNaN(t.y)){var i=g*Math.sqrt(n),a=n*y;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function s(t){return t.initialize&&t.initialize(e),t}var u,l=1,c=.001,f=1-Math.pow(c,1/300),d=0,p=.6,h=n.map(),m=i.timer(t),v=r.dispatch("tick","end");return null==e&&(e=[]),o(),u={tick:a,restart:function(){return m.restart(t),u},stop:function(){return m.stop(),u},nodes:function(t){return arguments.length?(e=t,o(),h.each(s),u):e},alpha:function(e){return arguments.length?(l=+e,u):l},alphaMin:function(e){return arguments.length?(c=+e,u):c},alphaDecay:function(e){return arguments.length?(f=+e,u):+f},alphaTarget:function(e){return arguments.length?(d=+e,u):d},velocityDecay:function(e){return arguments.length?(p=1-e,u):1-p},force:function(e,t){return arguments.length>1?(null==t?h.remove(e):h.set(e,s(t)),u):h.get(e)},find:function(t,n,r){var i,a,o,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)s=e[l],i=t-s.x,a=n-s.y,o=i*i+a*a,o<r&&(u=s,r=o);return u},on:function(e,t){return arguments.length>1?(v.on(e,t),u):v.on(e)}}},b=function(){function e(e){var n,u=a.length,f=t.quadtree(a,l,c).visitAfter(r);for(s=e,n=0;n<u;++n)o=a[n],f.visit(i)}function n(){if(a){var e,t,n=a.length;for(u=new Array(n),e=0;e<n;++e)t=a[e],u[t.index]=+f(t,e,a)}}function r(e){var t,n,r,i,a,o=0;if(e.length){for(r=i=a=0;a<4;++a)(t=e[a])&&(n=t.value)&&(o+=n,r+=n*t.x,i+=n*t.y);e.x=r/o,e.y=i/o}else{t=e,t.x=t.data.x,t.y=t.data.y;do o+=u[t.data.index];while(t=t.next)}e.value=o}function i(e,t,n,r){if(!e.value)return!0;var i=e.x-o.x,a=e.y-o.y,l=r-t,c=i*i+a*a;if(l*l/g<c)return c<m&&(0===i&&(i=p(),c+=i*i),0===a&&(a=p(),c+=a*a),c<h&&(c=Math.sqrt(h*c)),o.vx+=i*e.value*s/c,o.vy+=a*e.value*s/c),!0;if(!(e.length||c>=m)){(e.data!==o||e.next)&&(0===i&&(i=p(),c+=i*i),0===a&&(a=p(),c+=a*a),c<h&&(c=Math.sqrt(h*c)));do e.data!==o&&(l=u[e.data.index]*s/c,o.vx+=i*l,o.vy+=a*l);while(e=e.next)}}var a,o,s,u,f=d(-30),h=1,m=1/0,g=.81;return e.initialize=function(e){a=e,n()},e.strength=function(t){return arguments.length?(f="function"==typeof t?t:d(+t),n(),e):f},e.distanceMin=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.distanceMax=function(t){return arguments.length?(m=t*t,e):Math.sqrt(m)},e.theta=function(t){return arguments.length?(g=t*t,e):Math.sqrt(g)},e},_=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vx+=(a[n]-t.x)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=d(.1);return"function"!=typeof e&&(e=d(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:d(+e),n(),t):o},t.x=function(r){return arguments.length?(e="function"==typeof r?r:d(+r),n(),t):e},t},x=function(e){function t(e){for(var t,n=0,o=r.length;n<o;++n)t=r[n],t.vy+=(a[n]-t.y)*i[n]*e}function n(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)i[t]=isNaN(a[t]=+e(r[t],t,r))?0:+o(r[t],t,r)}}var r,i,a,o=d(.1);return"function"!=typeof e&&(e=d(null==e?0:+e)),t.initialize=function(e){r=e,n()},t.strength=function(e){return arguments.length?(o="function"==typeof e?e:d(+e),n(),t):o},t.y=function(r){return arguments.length?(e="function"==typeof r?r:d(+r),n(),t):e},t};e.forceCenter=f,e.forceCollide=h,e.forceLink=m,e.forceManyBody=b,e.forceSimulation=v,e.forceX=_,e.forceY=x,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(40))}(this,function(e,t){"use strict";function n(){this.reset()}function r(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}function i(e){return e>1?0:e<-1?Bt:Math.acos(e)}function a(e){return e>1?qt:e<-1?-qt:Math.asin(e)}function o(e){return(e=nn(e/2))*e}function s(){}function u(e,t){e&&un.hasOwnProperty(e.type)&&un[e.type](e,t)}function l(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function c(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)l(e[n],t,1);t.polygonEnd()}function f(){dn.point=p}function d(){h(ut,lt)}function p(e,t){dn.point=h,ut=e,lt=t,e*=Gt,t*=Gt,ct=e,ft=Kt(t=t/2+Wt),dt=nn(t)}function h(e,t){e*=Gt,t*=Gt,t=t/2+Wt;var n=e-ct,r=n>=0?1:-1,i=r*n,a=Kt(t),o=nn(t),s=dt*o,u=ft*a+s*Kt(i),l=s*r*nn(i);cn.add(Qt(l,u)),ct=e,ft=a,dt=o}function m(e){return[Qt(e[1],e[0]),a(e[2])]}function g(e){var t=e[0],n=e[1],r=Kt(n);return[r*Kt(t),r*nn(t),nn(n)]}function y(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function v(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function b(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function _(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function x(e){var t=an(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function S(e,t){xt.push(St=[pt=e,mt=e]),t<ht&&(ht=t),t>gt&&(gt=t)}function w(e,t){var n=g([e*Gt,t*Gt]);if(_t){var r=v(_t,n),i=[r[1],-r[0],0],a=v(i,r);x(a),a=m(a);var o,s=e-yt,u=s>0?1:-1,l=a[0]*Ht*u,c=Yt(s)>180;c^(u*yt<l&&l<u*e)?(o=a[1]*Ht,o>gt&&(gt=o)):(l=(l+360)%360-180,c^(u*yt<l&&l<u*e)?(o=-a[1]*Ht,o<ht&&(ht=o)):(t<ht&&(ht=t),t>gt&&(gt=t))),c?e<yt?P(pt,e)>P(pt,mt)&&(mt=e):P(e,mt)>P(pt,mt)&&(pt=e):mt>=pt?(e<pt&&(pt=e),e>mt&&(mt=e)):e>yt?P(pt,e)>P(pt,mt)&&(mt=e):P(e,mt)>P(pt,mt)&&(pt=e)}else xt.push(St=[pt=e,mt=e]);t<ht&&(ht=t),t>gt&&(gt=t),_t=n,yt=e}function O(){mn.point=w}function k(){St[0]=pt,St[1]=mt,mn.point=S,_t=null}function E(e,t){if(_t){var n=e-yt;hn.add(Yt(n)>180?n+(n>0?360:-360):n)}else vt=e,bt=t;dn.point(e,t),w(e,t)}function M(){dn.lineStart()}function T(){E(vt,bt),dn.lineEnd(),Yt(hn)>$t&&(pt=-(mt=180)),St[0]=pt,St[1]=mt,_t=null}function P(e,t){return(t-=e)<0?t+360:t}function C(e,t){return e[0]-t[0]}function A(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function D(e,t){e*=Gt,t*=Gt;var n=Kt(t);R(n*Kt(e),n*nn(e),nn(t))}function R(e,t,n){++wt,kt+=(e-kt)/wt,Et+=(t-Et)/wt,Mt+=(n-Mt)/wt}function N(){yn.point=I}function I(e,t){e*=Gt,t*=Gt;var n=Kt(t);Ft=n*Kt(e),Lt=n*nn(e),jt=nn(t),yn.point=F,R(Ft,Lt,jt)}function F(e,t){e*=Gt,t*=Gt;var n=Kt(t),r=n*Kt(e),i=n*nn(e),a=nn(t),o=Qt(an((o=Lt*a-jt*i)*o+(o=jt*r-Ft*a)*o+(o=Ft*i-Lt*r)*o),Ft*r+Lt*i+jt*a);Ot+=o,Tt+=o*(Ft+(Ft=r)),Pt+=o*(Lt+(Lt=i)),Ct+=o*(jt+(jt=a)),R(Ft,Lt,jt)}function L(){yn.point=D}function j(){yn.point=$}function z(){U(Nt,It),yn.point=D}function $(e,t){Nt=e,It=t,e*=Gt,t*=Gt,yn.point=U;var n=Kt(t);Ft=n*Kt(e),Lt=n*nn(e),jt=nn(t),R(Ft,Lt,jt)}function U(e,t){e*=Gt,t*=Gt;var n=Kt(t),r=n*Kt(e),i=n*nn(e),o=nn(t),s=Lt*o-jt*i,u=jt*r-Ft*o,l=Ft*i-Lt*r,c=an(s*s+u*u+l*l),f=a(c),d=c&&-f/c;At+=d*s,Dt+=d*u,Rt+=d*l,Ot+=f,Tt+=f*(Ft+(Ft=r)),Pt+=f*(Lt+(Lt=i)),Ct+=f*(jt+(jt=o)),R(Ft,Lt,jt)}function B(e,t){return[e>Bt?e-Vt:e<-Bt?e+Vt:e,t]}function q(e,t,n){return(e%=Vt)?t||n?_n(V(e),H(t,n)):V(e):t||n?H(t,n):B}function W(e){return function(t,n){return t+=e,[t>Bt?t-Vt:t<-Bt?t+Vt:t,n]}}function V(e){var t=W(e);return t.invert=W(-e),t}function H(e,t){function n(e,t){var n=Kt(t),u=Kt(e)*n,l=nn(e)*n,c=nn(t),f=c*r+u*i;return[Qt(l*o-f*s,u*r-c*i),a(f*o+l*s)]}var r=Kt(e),i=nn(e),o=Kt(t),s=nn(t);return n.invert=function(e,t){var n=Kt(t),u=Kt(e)*n,l=nn(e)*n,c=nn(t),f=c*o-l*s;return[Qt(l*o+c*s,u*r+f*i),a(f*r-u*i)]},n}function G(e,t,n,r,i,a){if(n){var o=Kt(t),s=nn(t),u=r*n;null==i?(i=t+r*Vt,a=t-u/2):(i=Y(o,i),a=Y(o,a),(r>0?i<a:i>a)&&(i+=r*Vt));for(var l,c=i;r>0?c>a:c<a;c-=u)l=m([o,-s*Kt(c),-s*nn(c)]),e.point(l[0],l[1])}}function Y(e,t){t=g(t),t[0]-=e,x(t);var n=i(-t[1]);return((-t[2]<0?-n:n)+Vt-$t)%Vt}function X(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Q(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function K(e,n,r,i){function a(t,a){return e<=t&&t<=r&&n<=a&&a<=i}function o(t,a,o,u){var c=0,f=0;if(null==t||(c=s(t,o))!==(f=s(a,o))||l(t,a)<0^o>0)do u.point(0===c||3===c?e:r,c>1?i:n);while((c=(c+o+4)%4)!==f);else u.point(a[0],a[1])}function s(t,i){return Yt(t[0]-e)<$t?i>0?0:3:Yt(t[0]-r)<$t?i>0?2:1:Yt(t[1]-n)<$t?i>0?1:0:i>0?3:2}function u(e,t){return l(e.x,t.x)}function l(e,t){var n=s(e,1),r=s(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){function l(e,t){a(e,t)&&M.point(e,t)}function c(){for(var t=0,n=0,r=y.length;n<r;++n)for(var a,o,s=y[n],u=1,l=s.length,c=s[0],f=c[0],d=c[1];u<l;++u)a=f,o=d,c=s[u],f=c[0],d=c[1],o<=i?d>i&&(f-a)*(i-o)>(d-o)*(e-a)&&++t:d<=i&&(f-a)*(i-o)<(d-o)*(e-a)&&--t;return t}function f(){M=T,g=[],y=[],E=!0}function d(){var e=c(),n=E&&e,r=(g=t.merge(g)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Ln(g,u,e,o,s),s.polygonEnd()),M=s,g=y=v=null}function p(){P.point=m,y&&y.push(v=[]),k=!0,O=!1,S=w=NaN}function h(){g&&(m(b,_),x&&O&&T.rejoin(),g.push(T.result())),P.point=l,O&&M.lineEnd()}function m(t,o){var s=a(t,o);if(y&&v.push([t,o]),k)b=t,_=o,x=s,k=!1,s&&(M.lineStart(),M.point(t,o));else if(s&&O)M.point(t,o);else{var u=[S=Math.max(zn,Math.min(jn,S)),w=Math.max(zn,Math.min(jn,w))],l=[t=Math.max(zn,Math.min(jn,t)),o=Math.max(zn,Math.min(jn,o))];In(u,l,e,n,r,i)?(O||(M.lineStart(),M.point(u[0],u[1])),M.point(l[0],l[1]),s||M.lineEnd(),E=!1):s&&(M.lineStart(),M.point(t,o),E=!1)}S=t,w=o,O=s}var g,y,v,b,_,x,S,w,O,k,E,M=s,T=Nn(),P={point:l,lineStart:p,lineEnd:h,polygonStart:f,polygonEnd:d};return P}}function J(){Wn.point=ee,Wn.lineEnd=Z}function Z(){Wn.point=Wn.lineEnd=s}function ee(e,t){e*=Gt,t*=Gt,xn=e,Sn=nn(t),wn=Kt(t),Wn.point=te}function te(e,t){e*=Gt,t*=Gt;var n=nn(t),r=Kt(t),i=Yt(e-xn),a=Kt(i),o=nn(i),s=r*o,u=wn*n-Sn*r*a,l=Sn*n+wn*r*a;qn.add(Qt(an(s*s+u*u),l)),xn=e,Sn=n,wn=r}function ne(e,t){return!(!e||!Qn.hasOwnProperty(e.type))&&Qn[e.type](e,t)}function re(e,t){return 0===Yn(e,t)}function ie(e,t){var n=Yn(e[0],e[1]),r=Yn(e[0],t),i=Yn(t,e[1]);return r+i<=n+$t}function ae(e,t){return!!Bn(e.map(oe),se(t))}function oe(e){return e=e.map(se),e.pop(),e}function se(e){return[e[0]*Gt,e[1]*Gt]}function ue(e,n,r){var i=t.range(e,n-$t,r).concat(n);return function(e){return i.map(function(t){return[e,t]})}}function le(e,n,r){var i=t.range(e,n-$t,r).concat(n);return function(e){return i.map(function(t){return[t,e]})}}function ce(){function e(){return{type:"MultiLineString",coordinates:n()}}function n(){return t.range(Jt(o/y)*y,a,y).map(p).concat(t.range(Jt(c/v)*v,l,v).map(h)).concat(t.range(Jt(i/m)*m,r,m).filter(function(e){return Yt(e%y)>$t}).map(f)).concat(t.range(Jt(u/g)*g,s,g).filter(function(e){return Yt(e%v)>$t}).map(d))}var r,i,a,o,s,u,l,c,f,d,p,h,m=10,g=m,y=90,v=360,b=2.5;return e.lines=function(){return n().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(l).slice(1),p(a).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.extentMajor(t).extentMinor(t):e.extentMinor()},e.extentMajor=function(t){return arguments.length?(o=+t[0][0],a=+t[1][0],c=+t[0][1],l=+t[1][1],o>a&&(t=o,o=a,a=t),c>l&&(t=c,c=l,l=t),e.precision(b)):[[o,c],[a,l]]},e.extentMinor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],i>r&&(t=i,i=r,r=t),u>s&&(t=u,u=s,s=t),e.precision(b)):[[i,u],[r,s]]},e.step=function(t){return arguments.length?e.stepMajor(t).stepMinor(t):e.stepMinor()},e.stepMajor=function(t){return arguments.length?(y=+t[0],v=+t[1],e):[y,v]},e.stepMinor=function(t){return arguments.length?(m=+t[0],g=+t[1],e):[m,g]},e.precision=function(t){return arguments.length?(b=+t,f=ue(u,s,90),d=le(i,r,b),p=ue(c,l,90),h=le(o,a,b),e):b},e.extentMajor([[-180,-90+$t],[180,90-$t]]).extentMinor([[-180,-80-$t],[180,80+$t]])}function fe(){return ce()()}function de(){nr.point=pe}function pe(e,t){nr.point=he,On=En=e,kn=Mn=t}function he(e,t){tr.add(Mn*e-En*t),En=e,Mn=t}function me(){he(On,kn)}function ge(e,t){e<rr&&(rr=e),e>ar&&(ar=e),t<ir&&(ir=t),t>or&&(or=t)}function ye(e,t){ur+=e,lr+=t,++cr}function ve(){yr.point=be}function be(e,t){yr.point=_e,ye(Cn=e,An=t)}function _e(e,t){var n=e-Cn,r=t-An,i=an(n*n+r*r);fr+=i*(Cn+e)/2,dr+=i*(An+t)/2,pr+=i,ye(Cn=e,An=t)}function xe(){yr.point=ye}function Se(){yr.point=Oe}function we(){ke(Tn,Pn)}function Oe(e,t){yr.point=ke,ye(Tn=Cn=e,Pn=An=t)}function ke(e,t){var n=e-Cn,r=t-An,i=an(n*n+r*r);fr+=i*(Cn+e)/2,dr+=i*(An+t)/2,pr+=i,i=An*e-Cn*t,hr+=i*(Cn+e),mr+=i*(An+t),gr+=3*i,ye(Cn=e,An=t)}function Ee(e){this._context=e}function Me(e,t){Or.point=Te,br=xr=e,_r=Sr=t}function Te(e,t){xr-=e,Sr-=t,wr.add(an(xr*xr+Sr*Sr)),xr=e,Sr=t}function Pe(){this._string=[]}function Ce(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Ae(e){return e.length>1}function De(e,t){return((e=e.x)[0]<0?e[1]-qt-$t:qt-e[1])-((t=t.x)[0]<0?t[1]-qt-$t:qt-t[1])}function Re(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?Bt:-Bt,u=Yt(a-n);Yt(u-Bt)<$t?(e.point(n,r=(r+o)/2>0?qt:-qt),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&u>=Bt&&(Yt(n-i)<$t&&(n-=i*$t),Yt(a-s)<$t&&(a-=s*$t),r=Ne(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Ne(e,t,n,r){var i,a,o=nn(e-n);return Yt(o)>$t?Xt((nn(t)*(a=Kt(r))*nn(n)-nn(r)*(i=Kt(t))*nn(e))/(i*a*o)):(t+r)/2}function Ie(e,t,n,r){var i;if(null==e)i=n*qt,r.point(-Bt,i),r.point(0,i),r.point(Bt,i),r.point(Bt,0),r.point(Bt,-i),r.point(0,-i),r.point(-Bt,-i),r.point(-Bt,0),r.point(-Bt,i);else if(Yt(e[0]-t[0])>$t){var a=e[0]<t[0]?Bt:-Bt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function Fe(e){return function(t){var n=new Le;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Le(){}function je(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),ln(n,e.stream(sr));var o=sr.result(),s=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+t[0][0]+(r-s*(o[1][0]+o[0][0]))/2,l=+t[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*s).translate([u,l])}function ze(e,t,n){return je(e,[[0,0],t],n)}function $e(e){return Fe({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Ue(e,t){function n(r,i,o,s,u,l,c,f,d,p,h,m,g,y){var v=c-r,b=f-i,_=v*v+b*b;if(_>4*t&&g--){var x=s+p,S=u+h,w=l+m,O=an(x*x+S*S+w*w),k=a(w/=O),E=Yt(Yt(w)-1)<$t||Yt(o-d)<$t?(o+d)/2:Qt(S,x),M=e(E,k),T=M[0],P=M[1],C=T-r,A=P-i,D=b*C-v*A;(D*D/_>t||Yt((v*C+b*A)/_-.5)>.3||s*p+u*h+l*m<Ar)&&(n(r,i,o,s,u,l,T,P,E,x/=O,S/=O,w,g,y),y.point(T,P),n(T,P,E,x,S,w,c,f,d,p,h,m,g,y))}}return function(t){function r(n,r){n=e(n,r),t.point(n[0],n[1])}function i(){v=NaN,w.point=a,t.lineStart()}function a(r,i){var a=g([r,i]),o=e(r,i);n(v,b,y,_,x,S,v=o[0],b=o[1],y=r,_=a[0],x=a[1],S=a[2],Cr,t),t.point(v,b)}function o(){w.point=r,t.lineEnd()}function s(){i(),w.point=u,w.lineEnd=l}function u(e,t){a(c=e,t),f=v,d=b,p=_,h=x,m=S,w.point=a}function l(){n(v,b,y,_,x,S,f,d,c,p,h,m,Cr,t),w.lineEnd=o,o()}var c,f,d,p,h,m,y,v,b,_,x,S,w={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.polygonStart(),w.lineStart=s},polygonEnd:function(){t.polygonEnd(),w.lineStart=i}};return w}}function Be(e){return qe(function(){return e})()}function qe(e){function t(e){return e=c(e[0]*Gt,e[1]*Gt),[e[0]*g+s,u-e[1]*g]}function n(e){return e=c.invert((e[0]-s)/g,(u-e[1])/g),e&&[e[0]*Ht,e[1]*Ht]}function r(e,t){return e=o(e,t),[e[0]*g+s,u-e[1]*g]}function i(){c=_n(l=q(x,S,w),o);var e=o(b,_);return s=y-e[0]*g,u=v+e[1]*g,a()}function a(){return h=m=null,t}var o,s,u,l,c,f,d,p,h,m,g=150,y=480,v=250,b=0,_=0,x=0,S=0,w=0,O=null,k=Mr,E=null,M=Zn,T=.5,P=Dr(r,T);return t.stream=function(e){return h&&m===e?h:h=Rr(k(l,P(M(m=e))))},t.clipAngle=function(e){return arguments.length?(k=+e?Tr(O=e*Gt,6*Gt):(O=null,Mr),a()):O*Ht},t.clipExtent=function(e){return arguments.length?(M=null==e?(E=f=d=p=null,Zn):K(E=+e[0][0],f=+e[0][1],d=+e[1][0],p=+e[1][1]),a()):null==E?null:[[E,f],[d,p]]},t.scale=function(e){return arguments.length?(g=+e,i()):g},t.translate=function(e){return arguments.length?(y=+e[0],v=+e[1],i()):[y,v]},t.center=function(e){return arguments.length?(b=e[0]%360*Gt,_=e[1]%360*Gt,i()):[b*Ht,_*Ht]},t.rotate=function(e){return arguments.length?(x=e[0]%360*Gt,S=e[1]%360*Gt,w=e.length>2?e[2]%360*Gt:0,i()):[x*Ht,S*Ht,w*Ht]},t.precision=function(e){return arguments.length?(P=Dr(r,T=e*e),a()):an(T)},t.fitExtent=function(e,n){return je(t,e,n)},t.fitSize=function(e,n){return ze(t,e,n)},function(){return o=e.apply(this,arguments),t.invert=o.invert&&n,i()}}function We(e){var t=0,n=Bt/3,r=qe(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*Gt,n=e[1]*Gt):[t*Ht,n*Ht]},i}function Ve(e){function t(e,t){return[e*n,nn(t)/n]}var n=Kt(e);return t.invert=function(e,t){return[e/n,a(t*n)]},t}function He(e,t){function n(e,t){var n=an(o-2*i*nn(t))/i;return[n*nn(e*=i),s-n*Kt(e)]}var r=nn(e),i=(r+nn(t))/2;if(Yt(i)<$t)return Ve(e);var o=1+r*(2*i-r),s=an(o)/i;return n.invert=function(e,t){var n=s-t;return[Qt(e,Yt(n))/i*rn(n),a((o-(e*e+n*n)*i*i)/(2*i))]},n}function Ge(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Ye(e){return function(t,n){var r=Kt(t),i=Kt(n),a=e(r*i);return[a*i*nn(t),a*nn(n)]}}function Xe(e){return function(t,n){var r=an(t*t+n*n),i=e(r),o=nn(i),s=Kt(i);return[Qt(t*o,r*s),a(r&&n*o/r)]}}function Qe(e,t){return[e,en(on((qt+t)/2))]}function Ke(e){function t(){var t=Bt*s(),o=a(Dn(a.rotate()).invert([0,0]));return l(null==c?[[o[0]-t,o[1]-t],[o[0]+t,o[1]+t]]:e===Qe?[[Math.max(o[0]-t,c),n],[Math.min(o[0]+t,r),i]]:[[c,Math.max(o[1]-t,n)],[r,Math.min(o[1]+t,i)]])}var n,r,i,a=Be(e),o=a.center,s=a.scale,u=a.translate,l=a.clipExtent,c=null;return a.scale=function(e){return arguments.length?(s(e),t()):s()},a.translate=function(e){return arguments.length?(u(e),t()):u()},a.center=function(e){return arguments.length?(o(e),t()):o()},a.clipExtent=function(e){return arguments.length?(null==e?c=n=r=i=null:(c=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),t()):null==c?null:[[c,n],[r,i]]},t()}function Je(e){return on((qt+e)/2)}function Ze(e,t){function n(e,t){a>0?t<-qt+$t&&(t=-qt+$t):t>qt-$t&&(t=qt-$t);var n=a/tn(Je(t),i);return[n*nn(i*e),a-n*Kt(i*e)]}var r=Kt(e),i=e===t?nn(e):en(r/Kt(t))/en(Je(t)/Je(e)),a=r*tn(Je(e),i)/i;return i?(n.invert=function(e,t){var n=a-t,r=rn(i)*an(e*e+n*n);return[Qt(e,Yt(n))/i*rn(n),2*Xt(tn(a/r,1/i))-qt]},n):Qe}function et(e,t){return[e,t]}function tt(e,t){function n(e,t){var n=a-t,r=i*e;return[n*nn(r),a-n*Kt(r)]}var r=Kt(e),i=e===t?nn(e):(r-Kt(t))/(t-e),a=r/i+e;return Yt(i)<$t?et:(n.invert=function(e,t){var n=a-t;return[Qt(e,Yt(n))/i*rn(n),a-rn(i)*an(e*e+n*n)]},n)}function nt(e,t){var n=Kt(t),r=Kt(e)*n;return[n*nn(e)/r,nn(t)/r]}function rt(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?Zn:Fe({point:function(i,a){this.stream.point(i*e+n,a*t+r)}})}function it(e,t){return[Kt(t)*nn(e),nn(t)]}function at(e,t){var n=Kt(t),r=1+Kt(e)*n;return[n*nn(e)/r,nn(t)/r]}function ot(e,t){return[en(on((qt+t)/2)),-e]}var st=function(){return new n};n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(e){r(zt,e,this.t),r(this,zt.s,this.s),this.s?this.t+=zt.t:this.s=zt.t},valueOf:function(){return this.s}};var ut,lt,ct,ft,dt,pt,ht,mt,gt,yt,vt,bt,_t,xt,St,wt,Ot,kt,Et,Mt,Tt,Pt,Ct,At,Dt,Rt,Nt,It,Ft,Lt,jt,zt=new n,$t=1e-6,Ut=1e-12,Bt=Math.PI,qt=Bt/2,Wt=Bt/4,Vt=2*Bt,Ht=180/Bt,Gt=Bt/180,Yt=Math.abs,Xt=Math.atan,Qt=Math.atan2,Kt=Math.cos,Jt=Math.ceil,Zt=Math.exp,en=Math.log,tn=Math.pow,nn=Math.sin,rn=Math.sign||function(e){return e>0?1:e<0?-1:0},an=Math.sqrt,on=Math.tan,sn={Feature:function(e,t){u(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)u(n[r].geometry,t)}},un={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){l(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)l(n[r],t,0)},Polygon:function(e,t){c(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)c(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)u(n[r],t)}},ln=function(e,t){e&&sn.hasOwnProperty(e.type)?sn[e.type](e,t):u(e,t)},cn=st(),fn=st(),dn={point:s,lineStart:s,lineEnd:s,polygonStart:function(){cn.reset(),dn.lineStart=f,dn.lineEnd=d},polygonEnd:function(){var e=+cn;fn.add(e<0?Vt+e:e),this.lineStart=this.lineEnd=this.point=s},sphere:function(){fn.add(Vt)}},pn=function(e){return fn.reset(),ln(e,dn),2*fn},hn=st(),mn={point:S,lineStart:O,lineEnd:k,polygonStart:function(){mn.point=E,mn.lineStart=M,mn.lineEnd=T,hn.reset(),dn.polygonStart()},polygonEnd:function(){dn.polygonEnd(),mn.point=S,mn.lineStart=O,mn.lineEnd=k,cn<0?(pt=-(mt=180),ht=-(gt=90)):hn>$t?gt=90:hn<-$t&&(ht=-90),St[0]=pt,St[1]=mt}},gn=function(e){var t,n,r,i,a,o,s;if(gt=mt=-(pt=ht=1/0),xt=[],ln(e,mn),n=xt.length){for(xt.sort(C),t=1,r=xt[0],a=[r];t<n;++t)i=xt[t],A(r,i[0])||A(r,i[1])?(P(r[0],i[1])>P(r[0],r[1])&&(r[1]=i[1]),P(i[0],r[1])>P(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-(1/0),n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(s=P(r[1],i[0]))>o&&(o=s,pt=i[0],mt=r[1])}return xt=St=null,pt===1/0||ht===1/0?[[NaN,NaN],[NaN,NaN]]:[[pt,ht],[mt,gt]]},yn={sphere:s,point:D,lineStart:N,lineEnd:L,polygonStart:function(){yn.lineStart=j,yn.lineEnd=z},polygonEnd:function(){yn.lineStart=N,yn.lineEnd=L}},vn=function(e){wt=Ot=kt=Et=Mt=Tt=Pt=Ct=At=Dt=Rt=0,ln(e,yn);var t=At,n=Dt,r=Rt,i=t*t+n*n+r*r;return i<Ut&&(t=Tt,n=Pt,r=Ct,Ot<$t&&(t=kt,n=Et,r=Mt),i=t*t+n*n+r*r,i<Ut)?[NaN,NaN]:[Qt(n,t)*Ht,a(r/an(i))*Ht]},bn=function(e){return function(){return e}},_n=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n};B.invert=B;var xn,Sn,wn,On,kn,En,Mn,Tn,Pn,Cn,An,Dn=function(e){function t(t){return t=e(t[0]*Gt,t[1]*Gt),t[0]*=Ht,t[1]*=Ht,t}return e=q(e[0]*Gt,e[1]*Gt,e.length>2?e[2]*Gt:0),t.invert=function(t){return t=e.invert(t[0]*Gt,t[1]*Gt),t[0]*=Ht,t[1]*=Ht,t},t},Rn=function(){function e(e,t){n.push(e=r(e,t)),e[0]*=Ht,e[1]*=Ht}function t(){var e=i.apply(this,arguments),t=a.apply(this,arguments)*Gt,u=o.apply(this,arguments)*Gt;return n=[],r=q(-e[0]*Gt,-e[1]*Gt,0).invert,G(s,t,u,1),e={type:"Polygon",coordinates:[n]},n=r=null,e}var n,r,i=bn([0,0]),a=bn(90),o=bn(6),s={point:e};return t.center=function(e){return arguments.length?(i="function"==typeof e?e:bn([+e[0],+e[1]]),t):i},t.radius=function(e){return arguments.length?(a="function"==typeof e?e:bn(+e),t):a},t.precision=function(e){return arguments.length?(o="function"==typeof e?e:bn(+e),t):o},t},Nn=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:s,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},In=function(e,t,n,r,i,a){var o,s=e[0],u=e[1],l=t[0],c=t[1],f=0,d=1,p=l-s,h=c-u;if(o=n-s,p||!(o>0)){if(o/=p,p<0){if(o<f)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>f&&(f=o)}else if(p>0){if(o<f)return;o<d&&(d=o)}if(o=r-u,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>f&&(f=o)}if(o=a-u,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<d&&(d=o)}return f>0&&(e[0]=s+f*p,e[1]=u+f*h),d<1&&(t[0]=s+d*p,t[1]=u+d*h),!0}}}}},Fn=function(e,t){return Yt(e[0]-t[0])<$t&&Yt(e[1]-t[1])<$t},Ln=function(e,t,n,r,i){var a,o,s=[],u=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(Fn(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}s.push(n=new X(r,e,null,(!0))),u.push(n.o=new X(r,null,n,(!1))),s.push(n=new X(o,e,null,(!1))),u.push(n.o=new X(o,null,n,(!0)))}}),s.length){for(u.sort(t),Q(s),Q(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var l,c,f=s[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p)for(l=d.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,p=!p}while(!d.v);i.lineEnd()}}},jn=1e9,zn=-jn,$n=function(){var e,t,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return e&&t===n?e:e=K(r,i,a,o)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],e=t=null,n):[[r,i],[a,o]]}}},Un=st(),Bn=function(e,t){var n=t[0],r=t[1],i=[nn(n),-Kt(n),0],o=0,s=0;Un.reset();for(var u=0,l=e.length;u<l;++u)if(f=(c=e[u]).length)for(var c,f,d=c[f-1],p=d[0],h=d[1]/2+Wt,m=nn(h),y=Kt(h),b=0;b<f;++b,p=S,m=O,y=k,d=_){var _=c[b],S=_[0],w=_[1]/2+Wt,O=nn(w),k=Kt(w),E=S-p,M=E>=0?1:-1,T=M*E,P=T>Bt,C=m*O;if(Un.add(Qt(C*M*nn(T),y*k+C*Kt(T))),o+=P?E+M*Vt:E,P^p>=n^S>=n){var A=v(g(d),g(_));x(A);var D=v(i,A);x(D);var R=(P^E>=0?-1:1)*a(D[2]);(r>R||r===R&&(A[0]||A[1]))&&(s+=P^E>=0?1:-1)}}return(o<-$t||o<$t&&Un<-$t)^1&s},qn=st(),Wn={sphere:s,point:s,lineStart:J,lineEnd:s,polygonStart:s,polygonEnd:s},Vn=function(e){return qn.reset(),ln(e,Wn),+qn},Hn=[null,null],Gn={type:"LineString",coordinates:Hn},Yn=function(e,t){return Hn[0]=e,Hn[1]=t,Vn(Gn)},Xn={Feature:function(e,t){return ne(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(ne(n[r].geometry,t))return!0;return!1}},Qn={Sphere:function(){return!0},Point:function(e,t){return re(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(re(n[r],t))return!0;return!1},LineString:function(e,t){return ie(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(ie(n[r],t))return!0;return!1},Polygon:function(e,t){return ae(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(ae(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(ne(n[r],t))return!0;return!1}},Kn=function(e,t){return(e&&Xn.hasOwnProperty(e.type)?Xn[e.type]:ne)(e,t)},Jn=function(e,t){var n=e[0]*Gt,r=e[1]*Gt,i=t[0]*Gt,s=t[1]*Gt,u=Kt(r),l=nn(r),c=Kt(s),f=nn(s),d=u*Kt(n),p=u*nn(n),h=c*Kt(i),m=c*nn(i),g=2*a(an(o(s-r)+u*c*o(i-n))),y=nn(g),v=g?function(e){var t=nn(e*=g)/y,n=nn(g-e)/y,r=n*d+t*h,i=n*p+t*m,a=n*l+t*f;return[Qt(i,r)*Ht,Qt(a,an(r*r+i*i))*Ht]}:function(){return[n*Ht,r*Ht]};return v.distance=g,v},Zn=function(e){return e},er=st(),tr=st(),nr={point:s,lineStart:s,lineEnd:s,polygonStart:function(){nr.lineStart=de,nr.lineEnd=me},polygonEnd:function(){nr.lineStart=nr.lineEnd=nr.point=s,er.add(Yt(tr)),tr.reset()},result:function(){var e=er/2;return er.reset(),e}},rr=1/0,ir=rr,ar=-rr,or=ar,sr={point:ge,lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s,result:function(){var e=[[rr,ir],[ar,or]];return ar=or=-(ir=rr=1/0),e}},ur=0,lr=0,cr=0,fr=0,dr=0,pr=0,hr=0,mr=0,gr=0,yr={point:ye,lineStart:ve,lineEnd:xe,polygonStart:function(){yr.lineStart=Se,yr.lineEnd=we},polygonEnd:function(){yr.point=ye,yr.lineStart=ve,yr.lineEnd=xe},result:function(){var e=gr?[hr/gr,mr/gr]:pr?[fr/pr,dr/pr]:cr?[ur/cr,lr/cr]:[NaN,NaN];return ur=lr=cr=fr=dr=pr=hr=mr=gr=0,e}};Ee.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Vt)}},result:s};var vr,br,_r,xr,Sr,wr=st(),Or={point:s,lineStart:function(){Or.point=Me},lineEnd:function(){vr&&Te(br,_r),Or.point=s},polygonStart:function(){vr=!0},polygonEnd:function(){vr=null},result:function(){var e=+wr;return wr.reset(),e}};Pe.prototype={_radius:4.5,_circle:Ce(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Ce(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var kr=function(e,t){function n(e){return e&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),ln(e,r(i))),i.result()}var r,i,a=4.5;return n.area=function(e){return ln(e,r(nr)),nr.result()},n.measure=function(e){return ln(e,r(Or)),Or.result()},n.bounds=function(e){return ln(e,r(sr)),sr.result()},n.centroid=function(e){return ln(e,r(yr)),yr.result()},n.projection=function(t){return arguments.length?(r=null==t?(e=null,Zn):(e=t).stream,n):e},n.context=function(e){return arguments.length?(i=null==e?(t=null,new Pe):new Ee(t=e),"function"!=typeof a&&i.pointRadius(a),n):t},n.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(i.pointRadius(+e),+e),n):a},n.projection(e).context(t)},Er=function(e,n,r,i){return function(a,o){function s(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function u(e,t){var n=a(e,t);y.point(n[0],n[1])}function l(){S.point=u,y.lineStart()}function c(){S.point=s,y.lineEnd()}function f(e,t){g.push([e,t]);var n=a(e,t);_.point(n[0],n[1])}function d(){_.lineStart(),g=[]}function p(){f(g[0][0],g[0][1]),_.lineEnd();var e,t,n,r,i=_.clean(),a=b.result(),s=a.length;if(g.pop(),h.push(g),g=null,s)if(1&i){if(n=a[0],(t=n.length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),m.push(a.filter(Ae))}var h,m,g,y=n(o),v=a.invert(i[0],i[1]),b=Nn(),_=n(b),x=!1,S={point:s,lineStart:l,lineEnd:c,polygonStart:function(){S.point=f,S.lineStart=d,S.lineEnd=p,m=[],h=[]},polygonEnd:function(){S.point=s,S.lineStart=l,S.lineEnd=c,m=t.merge(m);var e=Bn(h,v);m.length?(x||(o.polygonStart(),x=!0),Ln(m,De,e,r,o)):e&&(x||(o.polygonStart(),x=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),m=h=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return S}},Mr=Er(function(){return!0},Re,Ie,[-Bt,-qt]),Tr=function(e,t){function n(n,r,i,a){G(a,e,t,i,n,r)}function r(e,t){return Kt(e)*Kt(t)>s}function i(e){var t,n,i,s,c;return{lineStart:function(){s=i=!1,c=1},point:function(f,d){var p,h=[f,d],m=r(f,d),g=u?m?0:o(f,d):m?o(f+(f<0?Bt:-Bt),d):0;if(!t&&(s=i=m)&&e.lineStart(),m!==i&&(p=a(t,h),(!p||Fn(t,p)||Fn(h,p))&&(h[0]+=$t,
h[1]+=$t,m=r(h[0],h[1]))),m!==i)c=0,m?(e.lineStart(),p=a(h,t),e.point(p[0],p[1])):(p=a(t,h),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(l&&t&&u^m){var y;g&n||!(y=a(h,t,!0))||(c=0,u?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!m||t&&Fn(t,h)||e.point(h[0],h[1]),t=h,i=m,n=g},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return c|(s&&i)<<1}}}function a(e,t,n){var r=g(e),i=g(t),a=[1,0,0],o=v(r,i),u=y(o,o),l=o[0],c=u-l*l;if(!c)return!n&&e;var f=s*u/c,d=-s*l/c,p=v(a,o),h=_(a,f),x=_(o,d);b(h,x);var S=p,w=y(h,S),O=y(S,S),k=w*w-O*(y(h,h)-1);if(!(k<0)){var E=an(k),M=_(S,(-w-E)/O);if(b(M,h),M=m(M),!n)return M;var T,P=e[0],C=t[0],A=e[1],D=t[1];C<P&&(T=P,P=C,C=T);var R=C-P,N=Yt(R-Bt)<$t,I=N||R<$t;if(!N&&D<A&&(T=A,A=D,D=T),I?N?A+D>0^M[1]<(Yt(M[0]-P)<$t?A:D):A<=M[1]&&M[1]<=D:R>Bt^(P<=M[0]&&M[0]<=C)){var F=_(S,(-w+E)/O);return b(F,h),[M,m(F)]}}}function o(t,n){var r=u?e:Bt-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var s=Kt(e),u=s>0,l=Yt(s)>$t;return Er(r,i,n,u?[0,-e]:[-Bt,e-Bt])},Pr=function(e){return{stream:Fe(e)}};Le.prototype={constructor:Le,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Cr=16,Ar=Kt(30*Gt),Dr=function(e,t){return+t?Ue(e,t):$e(e)},Rr=Fe({point:function(e,t){this.stream.point(e*Gt,t*Gt)}}),Nr=function(){return We(He).scale(155.424).center([0,33.6442])},Ir=function(){return Nr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Fr=function(){function e(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)||(o.point(t,n),s)}function t(){return n=r=null,e}var n,r,i,a,o,s,u=Ir(),l=Nr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Nr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(e,t){s=[e,t]}};return e.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(e)},e.stream=function(e){return n&&r===e?n:n=Ge([u.stream(r=e),l.stream(e),c.stream(e)])},e.precision=function(e){return arguments.length?(u.precision(e),l.precision(e),c.precision(e),t()):u.precision()},e.scale=function(t){return arguments.length?(u.scale(t),l.scale(.35*t),c.scale(t),e.translate(u.translate())):u.scale()},e.translate=function(e){if(!arguments.length)return u.translate();var n=u.scale(),r=+e[0],s=+e[1];return i=u.translate(e).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(f),a=l.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+$t,s+.12*n+$t],[r-.214*n-$t,s+.234*n-$t]]).stream(f),o=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+$t,s+.166*n+$t],[r-.115*n-$t,s+.234*n-$t]]).stream(f),t()},e.fitExtent=function(t,n){return je(e,t,n)},e.fitSize=function(t,n){return ze(e,t,n)},e.scale(1070)},Lr=Ye(function(e){return an(2/(1+e))});Lr.invert=Xe(function(e){return 2*a(e/2)});var jr=function(){return Be(Lr).scale(124.75).clipAngle(179.999)},zr=Ye(function(e){return(e=i(e))&&e/nn(e)});zr.invert=Xe(function(e){return e});var $r=function(){return Be(zr).scale(79.4188).clipAngle(179.999)};Qe.invert=function(e,t){return[e,2*Xt(Zt(t))-qt]};var Ur=function(){return Ke(Qe).scale(961/Vt)},Br=function(){return We(Ze).scale(109.5).parallels([30,30])};et.invert=et;var qr=function(){return Be(et).scale(152.63)},Wr=function(){return We(tt).scale(131.154).center([0,13.9389])};nt.invert=Xe(Xt);var Vr=function(){return Be(nt).scale(144.049).clipAngle(60)},Hr=function(){function e(){return i=a=null,o}var t,n,r,i,a,o,s=1,u=0,l=0,c=1,f=1,d=Zn,p=null,h=Zn;return o={stream:function(e){return i&&a===e?i:i=d(h(a=e))},clipExtent:function(i){return arguments.length?(h=null==i?(p=t=n=r=null,Zn):K(p=+i[0][0],t=+i[0][1],n=+i[1][0],r=+i[1][1]),e()):null==p?null:[[p,t],[n,r]]},scale:function(t){return arguments.length?(d=rt((s=+t)*c,s*f,u,l),e()):s},translate:function(t){return arguments.length?(d=rt(s*c,s*f,u=+t[0],l=+t[1]),e()):[u,l]},reflectX:function(t){return arguments.length?(d=rt(s*(c=t?-1:1),s*f,u,l),e()):c<0},reflectY:function(t){return arguments.length?(d=rt(s*c,s*(f=t?-1:1),u,l),e()):f<0},fitExtent:function(e,t){return je(o,e,t)},fitSize:function(e,t){return ze(o,e,t)}}};it.invert=Xe(a);var Gr=function(){return Be(it).scale(249.5).clipAngle(90+$t)};at.invert=Xe(function(e){return 2*Xt(e)});var Yr=function(){return Be(at).scale(250).clipAngle(142)};ot.invert=function(e,t){return[-t,2*Xt(Zt(e))-qt]};var Xr=function(){var e=Ke(ot),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)};e.geoArea=pn,e.geoBounds=gn,e.geoCentroid=vn,e.geoCircle=Rn,e.geoClipExtent=$n,e.geoContains=Kn,e.geoDistance=Yn,e.geoGraticule=ce,e.geoGraticule10=fe,e.geoInterpolate=Jn,e.geoLength=Vn,e.geoPath=kr,e.geoAlbers=Ir,e.geoAlbersUsa=Fr,e.geoAzimuthalEqualArea=jr,e.geoAzimuthalEqualAreaRaw=Lr,e.geoAzimuthalEquidistant=$r,e.geoAzimuthalEquidistantRaw=zr,e.geoConicConformal=Br,e.geoConicConformalRaw=Ze,e.geoConicEqualArea=Nr,e.geoConicEqualAreaRaw=He,e.geoConicEquidistant=Wr,e.geoConicEquidistantRaw=tt,e.geoEquirectangular=qr,e.geoEquirectangularRaw=et,e.geoGnomonic=Vr,e.geoGnomonicRaw=nt,e.geoIdentity=Hr,e.geoProjection=Be,e.geoProjectionMutator=qe,e.geoMercator=Ur,e.geoMercatorRaw=Qe,e.geoOrthographic=Gr,e.geoOrthographicRaw=it,e.geoStereographic=Yr,e.geoStereographicRaw=at,e.geoTransverseMercator=Xr,e.geoTransverseMercatorRaw=ot,e.geoRotation=Dn,e.geoStream=ln,e.geoTransform=Pr,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t){return e.parent===t.parent?1:2}function n(e){return e.reduce(r,0)/e.length}function r(e,t){return e+t.x}function i(e){return 1+e.reduce(a,0)}function a(e,t){return Math.max(e,t.y)}function o(e){for(var t;t=e.children;)e=t[0];return e}function s(e){for(var t;t=e.children;)e=t[t.length-1];return e}function u(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function l(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function c(e,t){var n,r,i,a,o,s=new m(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=d);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)l.push(r=n.children[a]=new m(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(h)}function f(){return c(this).eachBefore(p)}function d(e){return e.children}function p(e){e.data=e.data.data}function h(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function m(e){this.data=e,this.depth=this.height=0,this.parent=null}function g(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function y(e,t){var n,r;if(_(t,e))return[t];for(n=0;n<e.length;++n)if(v(t,e[n])&&_(w(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(v(w(e[n],e[r]),t)&&v(w(e[n],t),e[r])&&v(w(e[r],t),e[n])&&_(O(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function v(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function b(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _(e,t){for(var n=0;n<t.length;++n)if(!b(e,t[n]))return!1;return!0}function x(e){switch(e.length){case 1:return S(e[0]);case 2:return w(e[0],e[1]);case 3:return O(e[0],e[1],e[2])}}function S(e){return{x:e.x,y:e.y,r:e.r}}function w(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,u=a-n,l=o-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+a+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+s)/2}}function O(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,u=t.r,l=n.x,c=n.y,f=n.r,d=r-o,p=r-l,h=i-s,m=i-c,g=u-a,y=f-a,v=r*r+i*i-a*a,b=v-o*o-s*s+u*u,_=v-l*l-c*c+f*f,x=p*h-d*m,S=(h*_-m*b)/(2*x)-r,w=(m*g-h*y)/x,O=(p*b-d*_)/(2*x)-i,k=(d*y-p*g)/x,E=w*w+k*k-1,M=2*(a+S*w+O*k),T=S*S+O*O-a*a,P=-(E?(M+Math.sqrt(M*M-4*E*T))/(2*E):T/M);return{x:r+S+w*P,y:i+O+k*P,r:P}}function k(e,t,n){var r=e.x,i=e.y,a=t.r+n.r,o=e.r+n.r,s=t.x-r,u=t.y-i,l=s*s+u*u;if(l){var c=.5+((o*=o)-(a*=a))/(2*l),f=Math.sqrt(Math.max(0,2*a*(o+l)-(o-=l)*o-a*a))/(2*l);n.x=r+c*s+f*u,n.y=i+c*u-f*s}else n.x=r+o,n.y=i}function E(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return i*i-1e-6>n*n+r*r}function M(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function T(e){this._=e,this.next=null,this.previous=null}function P(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,s,u,l,c,f;if(t=e[0],t.x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;k(n,t,r=e[2]),t=new T(t),n=new T(n),r=new T(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){k(t._,n._,r=e[s]),r=new T(r),u=n.next,l=t.previous,c=n._.r,f=t._.r;do if(c<=f){if(E(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(E(l._,r._)){t=l,t.next=n,n.previous=t,--s;continue e}f+=l._.r,l=l.previous}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=M(t);(r=r.next)!==n;)(o=M(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=se(t),s=0;s<i;++s)t=e[s],t.x-=r.x,t.y-=r.y;return r.r}function C(e){return null==e?null:A(e)}function A(e){if("function"!=typeof e)throw new Error;return e}function D(){return 0}function R(e){return Math.sqrt(e.value)}function N(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function I(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=P(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function F(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function L(e){return e.id}function j(e){return e.parentId}function z(e,t){return e.parent===t.parent?1:2}function $(e){var t=e.children;return t?t[0]:e.t}function U(e){var t=e.children;return t?t[t.length-1]:e.t}function B(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function q(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)t=i[a],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function W(e,t,n){return e.a.parent===t.parent?e.a:n}function V(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function H(e){for(var t,n,r,i,a,o=new V(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new V(r[i],i)),n.parent=t;return(o.parent=new V(null,0)).children=[o],o}function G(e,t,n,r,i,a){for(var o,s,u,l,c,f,d,p,h,m,g,y=[],v=t.children,b=0,_=0,x=v.length,S=t.value;b<x;){u=i-n,l=a-r;do c=v[_++].value;while(!c&&_<x);for(f=d=c,m=Math.max(l/u,u/l)/(S*e),g=c*c*m,h=Math.max(d/g,g/f);_<x;++_){if(c+=s=v[_].value,s<f&&(f=s),s>d&&(d=s),g=c*c*m,p=Math.max(d/g,g/f),p>h){c-=s;break}h=p}y.push(o={value:c,dice:u<l,children:v.slice(b,_)}),o.dice?de(o,n,r,i,S?r+=l*c/S:a):be(o,n,r,S?n+=u*c/S:i,a),S-=c,b=_}return y}var Y=function(){function e(e){var t,c=0;e.eachAfter(function(e){var a=e.children;a?(e.x=n(a),e.y=i(a)):(e.x=t?c+=r(e,t):0,e.y=0,t=e)});var f=o(e),d=s(e),p=f.x-r(f,d)/2,h=d.x+r(d,f)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*a,t.y=(e.y-t.y)*u}:function(t){t.x=(t.x-p)/(h-p)*a,t.y=(1-(e.y?t.y/e.y:1))*u})}var r=t,a=1,u=1,l=!1;return e.separation=function(t){return arguments.length?(r=t,e):r},e.size=function(t){return arguments.length?(l=!1,a=+t[0],u=+t[1],e):l?null:[a,u]},e.nodeSize=function(t){return arguments.length?(l=!0,a=+t[0],u=+t[1],e):l?[a,u]:null},e},X=function(){return this.eachAfter(u)},Q=function(e){var t,n,r,i,a=this,o=[a];do for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);while(o.length);return this},K=function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},J=function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},Z=function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},ee=function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},te=function(e){for(var t=this,n=l(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ne=function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},re=function(){var e=[];return this.each(function(t){e.push(t)}),e},ie=function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},ae=function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t};m.prototype=c.prototype={constructor:m,count:X,each:Q,eachAfter:J,eachBefore:K,sum:Z,sort:ee,path:te,ancestors:ne,descendants:re,leaves:ie,links:ae,copy:f};var oe=Array.prototype.slice,se=function(e){for(var t,n,r=0,i=(e=g(oe.call(e))).length,a=[];r<i;)t=e[r],n&&b(n,t)?++r:(n=x(a=y(a,t)),r=0);return n},ue=function(e){return P(e),e},le=function(e){return function(){return e}},ce=function(){function e(e){return e.x=n/2,e.y=r/2,t?e.eachBefore(N(t)).eachAfter(I(i,.5)).eachBefore(F(1)):e.eachBefore(N(R)).eachAfter(I(D,1)).eachAfter(I(i,e.r/Math.min(n,r))).eachBefore(F(Math.min(n,r)/(2*e.r))),e}var t=null,n=1,r=1,i=D;return e.radius=function(n){return arguments.length?(t=C(n),e):t},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i="function"==typeof t?t:le(+t),e):i},e},fe=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},de=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,l=e.value&&(r-t)/e.value;++s<u;)a=o[s],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l},pe=function(){function e(e){var o=e.height+1;return e.x0=e.y0=i,e.x1=n,e.y1=r/o,e.eachBefore(t(r,o)),a&&e.eachBefore(fe),e}function t(e,t){return function(n){n.children&&de(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var r=n.x0,a=n.y0,o=n.x1-i,s=n.y1-i;o<r&&(r=o=(r+o)/2),s<a&&(a=s=(a+s)/2),n.x0=r,n.y0=a,n.x1=o,n.y1=s}}var n=1,r=1,i=0,a=!1;return e.round=function(t){return arguments.length?(a=!!t,e):a},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(i=+t,e):i},e},he="$",me={depth:-1},ge={},ye=function(){function e(e){var r,i,a,o,s,u,l,c=e.length,f=new Array(c),d={};for(i=0;i<c;++i)r=e[i],s=f[i]=new m(r),null!=(u=t(r,i,e))&&(u+="")&&(l=he+(s.id=u),d[l]=l in d?ge:s);for(i=0;i<c;++i)if(s=f[i],u=n(e[i],i,e),null!=u&&(u+="")){if(o=d[he+u],!o)throw new Error("missing: "+u);if(o===ge)throw new Error("ambiguous: "+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=me,a.eachBefore(function(e){e.depth=e.parent.depth+1,--c}).eachBefore(h),a.parent=null,c>0)throw new Error("cycle");return a}var t=L,n=j;return e.id=function(n){return arguments.length?(t=A(n),e):t},e.parentId=function(t){return arguments.length?(n=A(t),e):n},e};V.prototype=Object.create(m.prototype);var ve=function(){function e(e){var r=H(e);if(r.eachAfter(t),r.parent.m=-r.z,r.eachBefore(n),u)e.eachBefore(i);else{var l=e,c=e,f=e;e.eachBefore(function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)});var d=l===c?1:a(l,c)/2,p=d-l.x,h=o/(c.x+d+p),m=s/(f.depth||1);e.eachBefore(function(e){e.x=(e.x+p)*h,e.y=e.depth*m})}return e}function t(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t){q(e);var o=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+a(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+a(e._,i._));e.parent.A=r(e,i,e.parent.A||n[0])}function n(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function r(e,t,n){if(t){for(var r,i=e,o=e,s=t,u=i.parent.children[0],l=i.m,c=o.m,f=s.m,d=u.m;s=U(s),i=$(i),s&&i;)u=$(u),o=U(o),o.a=e,r=s.z+f-i.z-l+a(s._,i._),r>0&&(B(W(s,e,n),e,r),l+=r,c+=r),f+=s.m,l+=i.m,d+=u.m,c+=o.m;s&&!U(o)&&(o.t=s,o.m+=f-c),i&&!$(u)&&(u.t=i,u.m+=l-d,n=e)}return n}function i(e){e.x*=o,e.y=e.depth*s}var a=z,o=1,s=1,u=null;return e.separation=function(t){return arguments.length?(a=t,e):a},e.size=function(t){return arguments.length?(u=!1,o=+t[0],s=+t[1],e):u?null:[o,s]},e.nodeSize=function(t){return arguments.length?(u=!0,o=+t[0],s=+t[1],e):u?[o,s]:null},e},be=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,l=e.value&&(i-n)/e.value;++s<u;)a=o[s],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l},_e=(1+Math.sqrt(5))/2,xe=function e(t){function n(e,n,r,i,a){G(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(_e),Se=function(){function e(e){return e.x0=e.y0=0,e.x1=i,e.y1=a,e.eachBefore(t),o=[0],r&&e.eachBefore(fe),e}function t(e){var t=o[e.depth],r=e.x0+t,i=e.y0+t,a=e.x1-t,d=e.y1-t;a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),e.x0=r,e.y0=i,e.x1=a,e.y1=d,e.children&&(t=o[e.depth+1]=s(e)/2,r+=f(e)-t,i+=u(e)-t,a-=l(e)-t,d-=c(e)-t,a<r&&(r=a=(r+a)/2),d<i&&(i=d=(i+d)/2),n(e,r,i,a,d))}var n=xe,r=!1,i=1,a=1,o=[0],s=D,u=D,l=D,c=D,f=D;return e.round=function(t){return arguments.length?(r=!!t,e):r},e.size=function(t){return arguments.length?(i=+t[0],a=+t[1],e):[i,a]},e.tile=function(t){return arguments.length?(n=A(t),e):n},e.padding=function(t){return arguments.length?e.paddingInner(t).paddingOuter(t):e.paddingInner()},e.paddingInner=function(t){return arguments.length?(s="function"==typeof t?t:le(+t),e):s},e.paddingOuter=function(t){return arguments.length?e.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):e.paddingTop()},e.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:le(+t),e):u},e.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:le(+t),e):l},e.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:le(+t),e):c},e.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:le(+t),e):f},e},we=function(e,t,n,r,i){function a(e,t,n,r,i,o,s){if(e>=t-1){var l=u[e];return l.x0=r,l.y0=i,l.x1=o,l.y1=s,void 0}for(var f=c[e],d=n/2+f,p=e+1,h=t-1;p<h;){var m=p+h>>>1;c[m]<d?p=m+1:h=m}d-c[p-1]<c[p]-d&&e+1<p&&--p;var g=c[p]-f,y=n-g;if(o-r>s-i){var v=(r*y+o*g)/n;a(e,p,g,r,i,v,s),a(p,t,y,v,i,o,s)}else{var b=(i*y+s*g)/n;a(e,p,g,r,i,o,b),a(p,t,y,r,b,o,s)}}var o,s,u=e.children,l=u.length,c=new Array(l+1);for(c[0]=s=o=0;o<l;++o)c[o+1]=s+=u[o].value;a(0,l,e.value,t,n,r,i)},Oe=function(e,t,n,r,i){(1&e.depth?be:de)(e,t,n,r,i)},ke=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,u,l,c,f=-1,d=o.length,p=e.value;++f<d;){for(s=o[f],u=s.children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?de(s,n,r,i,r+=(a-r)*s.value/p):be(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else e._squarify=o=G(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(_e);e.cluster=Y,e.hierarchy=c,e.pack=ce,e.packSiblings=ue,e.packEnclose=se,e.partition=pe,e.stratify=ye,e.tree=ve,e.treemap=Se,e.treemapBinary=we,e.treemapDice=de,e.treemapSlice=be,e.treemapSliceDice=Oe,e.treemapSquarify=xe,e.treemapResquarify=ke,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,l,c,f,d,p=e._root,h={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!p)return e._root=h,e;for(;p.length;)if((l=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o,i=p,!(p=p[f=c<<1|l]))return i[f]=h,e;if(s=+e._x.call(null,p.data),u=+e._y.call(null,p.data),t===s&&n===u)return h.next=p,i?i[f]=h:e._root=h,e;do i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(m+y)/2))?m=a:y=a,(c=n>=(o=(g+v)/2))?g=o:v=o;while((f=c<<1|l)===(d=(u>=o)<<1|s>=a));return i[d]=p,i[f]=h,e}function n(e){var n,r,i,a,o=e.length,s=new Array(o),u=new Array(o),l=1/0,c=1/0,f=-(1/0),d=-(1/0);for(r=0;r<o;++r)isNaN(i=+this._x.call(null,n=e[r]))||isNaN(a=+this._y.call(null,n))||(s[r]=i,u[r]=a,i<l&&(l=i),i>f&&(f=i),a<c&&(c=a),a>d&&(d=a));for(f<l&&(l=this._x0,f=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(f,d),r=0;r<o;++r)t(this,s[r],u[r],e[r]);return this}function r(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function i(e){return e[0]}function a(e){return e[1]}function o(e,t,n){var r=new s(null==t?i:t,null==n?a:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function s(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function u(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var l=function(e){var n=+this._x.call(null,e),r=+this._y.call(null,e);return t(this.cover(n,r),n,r,e)},c=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{if(!(n>e||e>i||r>t||t>a))return this;var o,s,u=i-n,l=this._root;switch(s=(t<(r+a)/2)<<1|e<(n+i)/2){case 0:do o=new Array(4),o[s]=l,l=o;while(u*=2,i=n+u,a=r+u,e>i||t>a);break;case 1:do o=new Array(4),o[s]=l,l=o;while(u*=2,n=i-u,a=r+u,n>e||t>a);break;case 2:do o=new Array(4),o[s]=l,l=o;while(u*=2,i=n+u,r=a-u,e>i||r>t);break;case 3:do o=new Array(4),o[s]=l,l=o;while(u*=2,n=i-u,r=a-u,n>e||r>t)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},f=function(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e},d=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},p=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i},h=function(e,t,n){var r,i,a,o,s,u,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,m=[],g=this._root;for(g&&m.push(new p(g,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);u=m.pop();)if(!(!(g=u.node)||(i=u.x0)>d||(a=u.y0)>h||(o=u.x1)<c||(s=u.y1)<f))if(g.length){var y=(i+o)/2,v=(a+s)/2;m.push(new p(g[3],y,v,o,s),new p(g[2],i,v,y,s),new p(g[1],y,a,o,v),new p(g[0],i,a,y,v)),(l=(t>=v)<<1|e>=y)&&(u=m[m.length-1],m[m.length-1]=m[m.length-1-l],m[m.length-1-l]=u)}else{var b=e-+this._x.call(null,g.data),_=t-+this._y.call(null,g.data),x=b*b+_*_;if(x<n){var S=Math.sqrt(n=x);c=e-S,f=t-S,d=e+S,h=t+S,r=g.data}}return r},m=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,f,d,p=this._root,h=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)for(;;){if((l=a>=(s=(h+g)/2))?h=s:g=s,(c=o>=(u=(m+y)/2))?m=u:y=u,t=p,!(p=p[f=c<<1|l]))return this;if(!p.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;p.data!==e;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(p=t[0]||t[1]||t[2]||t[3])&&p===(t[3]||t[2]||t[1]||t[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=i,this)},g=function(){return this._root},y=function(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e},v=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new p(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new p(n,l,c,a,o)),(n=u[2])&&s.push(new p(n,r,c,l,o)),(n=u[1])&&s.push(new p(n,l,i,a,c)),(n=u[0])&&s.push(new p(n,r,i,l,c))}return this},b=function(e){var t,n=[],r=[];for(this._root&&n.push(new p(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(o+u)/2,f=(s+l)/2;(a=i[0])&&n.push(new p(a,o,s,c,f)),(a=i[1])&&n.push(new p(a,c,s,u,f)),(a=i[2])&&n.push(new p(a,o,f,c,l)),(a=i[3])&&n.push(new p(a,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},_=function(e){return arguments.length?(this._x=e,this):this._x},x=function(e){return arguments.length?(this._y=e,this):this._y},S=o.prototype=s.prototype;S.copy=function(){var e,t,n=new s(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=u(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=u(t));return n},S.add=l,S.addAll=n,S.cover=c,S.data=f,S.extent=d,S.find=h,S.remove=m,S.removeAll=r,S.root=g,S.size=y,S.visit=v,S.visitAfter=b,S.x=_,S.y=x,e.quadtree=o,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(101))}(this,function(e,t){"use strict";var n=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n},r=n("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),i=n("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),a=n("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),o=n("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s=n("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=n("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),l=n("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),c=n("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),f=function(e){return t.interpolateRgbBasis(e[e.length-1])},d=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(n),p=f(d),h=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(n),m=f(h),g=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(n),y=f(g),v=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(n),b=f(v),_=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(n),x=f(_),S=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(n),w=f(S),O=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(n),k=f(O),E=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(n),M=f(E),T=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(n),P=f(T),C=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(n),A=f(C),D=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(n),R=f(D),N=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(n),I=f(N),F=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(n),L=f(F),j=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(n),z=f(j),$=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(n),U=f($),B=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(n),q=f(B),W=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(n),V=f(W),H=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(n),G=f(H),Y=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(n),X=f(Y),Q=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(n),K=f(Q),J=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(n),Z=f(J),ee=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(n),te=f(ee),ne=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(n),re=f(ne),ie=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(n),ae=f(ie),oe=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(n),se=f(oe),ue=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(n),le=f(ue),ce=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(n),fe=f(ce);
e.schemeAccent=r,e.schemeDark2=i,e.schemePaired=a,e.schemePastel1=o,e.schemePastel2=s,e.schemeSet1=u,e.schemeSet2=l,e.schemeSet3=c,e.interpolateBrBG=p,e.schemeBrBG=d,e.interpolatePRGn=m,e.schemePRGn=h,e.interpolatePiYG=y,e.schemePiYG=g,e.interpolatePuOr=b,e.schemePuOr=v,e.interpolateRdBu=x,e.schemeRdBu=_,e.interpolateRdGy=w,e.schemeRdGy=S,e.interpolateRdYlBu=k,e.schemeRdYlBu=O,e.interpolateRdYlGn=M,e.schemeRdYlGn=E,e.interpolateSpectral=P,e.schemeSpectral=T,e.interpolateBuGn=A,e.schemeBuGn=C,e.interpolateBuPu=R,e.schemeBuPu=D,e.interpolateGnBu=I,e.schemeGnBu=N,e.interpolateOrRd=L,e.schemeOrRd=F,e.interpolatePuBuGn=z,e.schemePuBuGn=j,e.interpolatePuBu=U,e.schemePuBu=$,e.interpolatePuRd=q,e.schemePuRd=B,e.interpolateRdPu=V,e.schemeRdPu=W,e.interpolateYlGnBu=G,e.schemeYlGnBu=H,e.interpolateYlGn=X,e.schemeYlGn=Y,e.interpolateYlOrBr=K,e.schemeYlOrBr=Q,e.interpolateYlOrRd=Z,e.schemeYlOrRd=J,e.interpolateBlues=te,e.schemeBlues=ee,e.interpolateGreens=re,e.schemeGreens=ne,e.interpolateGreys=ae,e.schemeGreys=ie,e.interpolatePurples=se,e.schemePurples=oe,e.interpolateReds=le,e.schemeReds=ue,e.interpolateOranges=fe,e.schemeOranges=ce,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(40),n(99),n(101),n(100),n(130),n(102),n(129))}(this,function(e,t,n,r,i,a,o,s){"use strict";function u(e){function t(t){var n=t+"",o=r.get(n);if(!o){if(a!==q)return a;r.set(n,o=i.push(t))}return e[(o-1)%e.length]}var r=n.map(),i=[],a=q;return e=null==e?[]:B.call(e),t.domain=function(e){if(!arguments.length)return i.slice();i=[],r=n.map();for(var a,o,s=-1,u=e.length;++s<u;)r.has(o=(a=e[s])+"")||r.set(o,i.push(a));return t},t.range=function(n){return arguments.length?(e=B.call(n),t):e.slice()},t.unknown=function(e){return arguments.length?(a=e,t):a},t.copy=function(){return u().domain(i).range(e).unknown(a)},t}function l(){function e(){var e=a().length,i=s[1]<s[0],u=s[i-0],l=s[1-i];n=(l-u)/Math.max(1,e-f+2*d),c&&(n=Math.floor(n)),u+=(l-u-n*(e-f))*p,r=n*(1-f),c&&(u=Math.round(u),r=Math.round(r));var h=t.range(e).map(function(e){return u+n*e});return o(i?h.reverse():h)}var n,r,i=u().unknown(void 0),a=i.domain,o=i.range,s=[0,1],c=!1,f=0,d=0,p=.5;return delete i.unknown,i.domain=function(t){return arguments.length?(a(t),e()):a()},i.range=function(t){return arguments.length?(s=[+t[0],+t[1]],e()):s.slice()},i.rangeRound=function(t){return s=[+t[0],+t[1]],c=!0,e()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(t){return arguments.length?(c=!!t,e()):c},i.padding=function(t){return arguments.length?(f=d=Math.max(0,Math.min(1,t)),e()):f},i.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},i.paddingOuter=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},i.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),e()):p},i.copy=function(){return l().domain(a()).range(s).round(c).paddingInner(f).paddingOuter(d).align(p)},e()}function c(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return c(t())},e}function f(){return c(l().paddingInner(1))}function d(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:W(t)}function p(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=t?0:e>=n?1:r(e)}}}function h(e){return function(t,n){var r=e(t=+t,n=+n);return function(e){return e<=0?t:e>=1?n:r(e)}}}function m(e,t,n,r){var i=e[0],a=e[1],o=t[0],s=t[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(e){return o(i(e))}}function g(e,n,r,i){var a=Math.min(e.length,n.length)-1,o=new Array(a),s=new Array(a),u=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++u<a;)o[u]=r(e[u],e[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=t.bisect(e,n,1,a)-1;return s[r](o[r](n))}}function y(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp())}function v(e,t){function n(){return a=Math.min(u.length,l.length)>2?g:m,o=s=null,i}function i(t){return(o||(o=a(u,l,f?p(e):e,c)))(+t)}var a,o,s,u=H,l=H,c=r.interpolate,f=!1;return i.invert=function(e){return(s||(s=a(l,u,d,f?h(t):t)))(+e)},i.domain=function(e){return arguments.length?(u=U.call(e,V),n()):u.slice()},i.range=function(e){return arguments.length?(l=B.call(e),n()):l.slice()},i.rangeRound=function(e){return l=B.call(e),c=r.interpolateRound,n()},i.clamp=function(e){return arguments.length?(f=!!e,n()):f},i.interpolate=function(e){return arguments.length?(c=e,n()):c},n()}function b(e){var n=e.domain;return e.ticks=function(e){var r=n();return t.ticks(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,t){return G(n(),e,t)},e.nice=function(r){null==r&&(r=10);var i,a=n(),o=0,s=a.length-1,u=a[o],l=a[s];return l<u&&(i=u,u=l,l=i,i=o,o=s,s=i),i=t.tickIncrement(u,l,r),i>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=t.tickIncrement(u,l,r)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=t.tickIncrement(u,l,r)),i>0?(a[o]=Math.floor(u/i)*i,a[s]=Math.ceil(l/i)*i,n(a)):i<0&&(a[o]=Math.ceil(u*i)/i,a[s]=Math.floor(l*i)/i,n(a)),e},e}function _(){var e=v(d,r.interpolateNumber);return e.copy=function(){return y(e,_())},b(e)}function x(){function e(e){return+e}var t=[0,1];return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=U.call(n,V),e):t.slice()},e.copy=function(){return x().domain(t)},b(e)}function S(e,t){return(t=Math.log(t/e))?function(n){return Math.log(n/e)/t}:W(t)}function w(e,t){return e<0?function(n){return-Math.pow(-t,n)*Math.pow(-e,1-n)}:function(n){return Math.pow(t,n)*Math.pow(e,1-n)}}function O(e){return isFinite(e)?+("1e"+e):e<0?0:e}function k(e){return 10===e?O:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function E(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function M(e){return function(t){return-e(-t)}}function T(){function e(){return o=E(a),s=k(a),r()[0]<0&&(o=M(o),s=M(s)),n}var n=v(S,w).domain([1,10]),r=n.domain,a=10,o=E(10),s=k(10);return n.base=function(t){return arguments.length?(a=+t,e()):a},n.domain=function(t){return arguments.length?(r(t),e()):r()},n.ticks=function(e){var n,i=r(),u=i[0],l=i[i.length-1];(n=l<u)&&(p=u,u=l,l=p);var c,f,d,p=o(u),h=o(l),m=null==e?10:+e,g=[];if(!(a%1)&&h-p<m){if(p=Math.round(p)-1,h=Math.round(h)+1,u>0){for(;p<h;++p)for(f=1,c=s(p);f<a;++f)if(d=c*f,!(d<u)){if(d>l)break;g.push(d)}}else for(;p<h;++p)for(f=a-1,c=s(p);f>=1;--f)if(d=c*f,!(d<u)){if(d>l)break;g.push(d)}}else g=t.ticks(p,h,Math.min(h-p,m)).map(s);return n?g.reverse():g},n.tickFormat=function(e,t){if(null==t&&(t=10===a?".0e":","),"function"!=typeof t&&(t=i.format(t)),e===1/0)return t;null==e&&(e=10);var r=Math.max(1,a*e/n.ticks().length);return function(e){var n=e/s(Math.round(o(e)));return n*a<a-.5&&(n*=a),n<=r?t(e):""}},n.nice=function(){return r(Y(r(),{floor:function(e){return s(Math.floor(o(e)))},ceil:function(e){return s(Math.ceil(o(e)))}}))},n.copy=function(){return y(n,T().base(a))},n}function P(e,t){return e<0?-Math.pow(-e,t):Math.pow(e,t)}function C(){function e(e,t){return(t=P(t,n)-(e=P(e,n)))?function(r){return(P(r,n)-e)/t}:W(t)}function t(e,t){return t=P(t,n)-(e=P(e,n)),function(r){return P(e+t*r,1/n)}}var n=1,r=v(e,t),i=r.domain;return r.exponent=function(e){return arguments.length?(n=+e,i(i())):n},r.copy=function(){return y(r,C().exponent(n))},b(r)}function A(){return C().exponent(.5)}function D(){function e(){var e=0,o=Math.max(1,i.length);for(a=new Array(o-1);++e<o;)a[e-1]=t.quantile(r,e/o);return n}function n(e){if(!isNaN(e=+e))return i[t.bisect(a,e)]}var r=[],i=[],a=[];return n.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:[t>0?a[t-1]:r[0],t<a.length?a[t]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,a=0,o=n.length;a<o;++a)i=n[a],null==i||isNaN(i=+i)||r.push(i);return r.sort(t.ascending),e()},n.range=function(t){return arguments.length?(i=B.call(t),e()):i.slice()},n.quantiles=function(){return a.slice()},n.copy=function(){return D().domain(r).range(i)},n}function R(){function e(e){if(e<=e)return s[t.bisect(o,e,0,a)]}function n(){var t=-1;for(o=new Array(a);++t<a;)o[t]=((t+1)*i-(t-a)*r)/(a+1);return e}var r=0,i=1,a=1,o=[.5],s=[0,1];return e.domain=function(e){return arguments.length?(r=+e[0],i=+e[1],n()):[r,i]},e.range=function(e){return arguments.length?(a=(s=B.call(e)).length-1,n()):s.slice()},e.invertExtent=function(e){var t=s.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,o[0]]:t>=a?[o[a-1],i]:[o[t-1],o[t]]},e.copy=function(){return R().domain([r,i]).range(s)},b(e)}function N(){function e(e){if(e<=e)return r[t.bisect(n,e,0,i)]}var n=[.5],r=[0,1],i=1;return e.domain=function(t){return arguments.length?(n=B.call(t),i=Math.min(n.length,r.length-1),e):n.slice()},e.range=function(t){return arguments.length?(r=B.call(t),i=Math.min(n.length,r.length-1),e):r.slice()},e.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},e.copy=function(){return N().domain(n).range(r)},e}function I(e){return new Date(e)}function F(e){return e instanceof Date?+e:+new Date((+e))}function L(e,n,i,a,o,s,u,l,c){function f(t){return(u(t)<t?b:s(t)<t?_:o(t)<t?x:a(t)<t?S:n(t)<t?i(t)<t?w:O:e(t)<t?k:E)(t)}function p(n,r,i,a){if(null==n&&(n=10),"number"==typeof n){var o=Math.abs(i-r)/n,s=t.bisector(function(e){return e[2]}).right(M,o);s===M.length?(a=t.tickStep(r/te,i/te,n),n=e):s?(s=M[o/M[s-1][2]<M[s][2]/o?s-1:s],a=s[1],n=s[0]):(a=t.tickStep(r,i,n),n=l)}return null==a?n:n.every(a)}var h=v(d,r.interpolateNumber),m=h.invert,g=h.domain,b=c(".%L"),_=c(":%S"),x=c("%I:%M"),S=c("%I %p"),w=c("%a %d"),O=c("%b %d"),k=c("%B"),E=c("%Y"),M=[[u,1,X],[u,5,5*X],[u,15,15*X],[u,30,30*X],[s,1,Q],[s,5,5*Q],[s,15,15*Q],[s,30,30*Q],[o,1,K],[o,3,3*K],[o,6,6*K],[o,12,12*K],[a,1,J],[a,2,2*J],[i,1,Z],[n,1,ee],[n,3,3*ee],[e,1,te]];return h.invert=function(e){return new Date(m(e))},h.domain=function(e){return arguments.length?g(U.call(e,F)):g().map(I)},h.ticks=function(e,t){var n,r=g(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=p(e,i,a,t),n=n?n.range(i,a+1):[],o?n.reverse():n},h.tickFormat=function(e,t){return null==t?f:c(t)},h.nice=function(e,t){var n=g();return(e=p(e,n[0],n[n.length-1],t))?g(Y(n,e)):h},h.copy=function(){return y(h,L(e,n,i,a,o,s,u,l,c))},h}function j(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function z(e){function t(t){var a=(t-n)/(r-n);return e(i?Math.max(0,Math.min(1,a)):a)}var n=0,r=1,i=!1;return t.domain=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.clamp=function(e){return arguments.length?(i=!!e,t):i},t.interpolator=function(n){return arguments.length?(e=n,t):e},t.copy=function(){return z(e).domain([n,r]).clamp(i)},b(t)}var $=Array.prototype,U=$.map,B=$.slice,q={name:"implicit"},W=function(e){return function(){return e}},V=function(e){return+e},H=[0,1],G=function(e,n,r){var a,o=e[0],s=e[e.length-1],u=t.tickStep(o,s,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var l=Math.max(Math.abs(o),Math.abs(s));return null!=r.precision||isNaN(a=i.precisionPrefix(u,l))||(r.precision=a),i.formatPrefix(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=i.precisionRound(u,Math.max(Math.abs(o),Math.abs(s))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=i.precisionFixed(u))||(r.precision=a-2*("%"===r.type))}return i.format(r)},Y=function(e,t){e=e.slice();var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e},X=1e3,Q=60*X,K=60*Q,J=24*K,Z=7*J,ee=30*J,te=365*J,ne=function(){return L(a.timeYear,a.timeMonth,a.timeWeek,a.timeDay,a.timeHour,a.timeMinute,a.timeSecond,a.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},re=function(){return L(a.utcYear,a.utcMonth,a.utcWeek,a.utcDay,a.utcHour,a.utcMinute,a.utcSecond,a.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},ie=function(e){return e.match(/.{6}/g).map(function(e){return"#"+e})},ae=ie("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),oe=ie("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),se=ie("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ue=ie("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),le=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),ce=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),fe=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),de=s.cubehelix(),pe=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return de.h=360*e-100,de.s=1.5-1.5*t,de.l=.8-.9*t,de+""},he=j(ie("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),me=j(ie("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ge=j(ie("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ye=j(ie("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.scaleBand=l,e.scalePoint=f,e.scaleIdentity=x,e.scaleLinear=_,e.scaleLog=T,e.scaleOrdinal=u,e.scaleImplicit=q,e.scalePow=C,e.scaleSqrt=A,e.scaleQuantile=D,e.scaleQuantize=R,e.scaleThreshold=N,e.scaleTime=ne,e.scaleUtc=re,e.schemeCategory10=ae,e.schemeCategory20b=oe,e.schemeCategory20c=se,e.schemeCategory20=ue,e.interpolateCubehelixDefault=le,e.interpolateRainbow=pe,e.interpolateWarm=ce,e.interpolateCool=fe,e.interpolateViridis=he,e.interpolateMagma=me,e.interpolateInferno=ge,e.interpolatePlasma=ye,e.scaleSequential=z,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(203))}(this,function(e,t){"use strict";function n(e){return e>1?0:e<-1?fe:Math.acos(e)}function r(e){return e>=1?de:e<=-1?-de:Math.asin(e)}function i(e){return e.innerRadius}function a(e){return e.outerRadius}function o(e){return e.startAngle}function s(e){return e.endAngle}function u(e){return e&&e.padAngle}function l(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,f=s-a,d=(c*(t-a)-f*(e-i))/(f*u-c*l);return[e+d*u,t+d*l]}function c(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/le(s*s+u*u),c=l*u,f=-l*s,d=e+c,p=t+f,h=n+c,m=r+f,g=(d+h)/2,y=(p+m)/2,v=h-d,b=m-p,_=v*v+b*b,x=i-a,S=d*m-h*p,w=(b<0?-1:1)*le(oe(0,x*x*_-S*S)),O=(S*b-v*w)/_,k=(-S*v-b*w)/_,E=(S*b+v*w)/_,M=(-S*v+b*w)/_,T=O-g,P=k-y,C=E-g,A=M-y;return T*T+P*P>C*C+A*A&&(O=E,k=M),{cx:O,cy:k,x01:-c,y01:-f,x11:O*(i/x-1),y11:k*(i/x-1)}}function f(e){this._context=e}function d(e){return e[0]}function p(e){return e[1]}function h(e){this._curve=e}function m(e){function t(t){return new h(e(t))}return t._curve=e,t}function g(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(m(e)):t()._curve},e}function y(e){return e.source}function v(e){return e.target}function b(e){function n(){var n,u=ke.call(arguments),l=r.apply(this,u),c=i.apply(this,u);if(s||(s=n=t.path()),e(s,+a.apply(this,(u[0]=l,u)),+o.apply(this,u),+a.apply(this,(u[0]=c,u)),+o.apply(this,u)),n)return s=null,n+""||null}var r=y,i=v,a=d,o=p,s=null;return n.source=function(e){return arguments.length?(r=e,n):r},n.target=function(e){return arguments.length?(i=e,n):i},n.x=function(e){return arguments.length?(a="function"==typeof e?e:ne(+e),n):a},n.y=function(e){return arguments.length?(o="function"==typeof e?e:ne(+e),n):o},n.context=function(e){return arguments.length?(s=null==e?null:e,n):s},n}function _(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function x(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function S(e,t,n,r,i){var a=Oe(t,n),o=Oe(t,n=(n+i)/2),s=Oe(r,n),u=Oe(r,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function w(){return b(_)}function O(){return b(x)}function k(){var e=b(S);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}function E(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function M(e){this._context=e}function T(e){this._context=e}function P(e){this._context=e}function C(e,t){this._basis=new M(e),this._beta=t}function A(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function D(e,t){this._context=e,this._k=(1-t)/6}function R(e,t){this._context=e,this._k=(1-t)/6}function N(e,t){this._context=e,this._k=(1-t)/6}function I(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>ce){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>ce){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function F(e,t){this._context=e,this._alpha=t}function L(e,t){this._context=e,this._alpha=t}function j(e,t){this._context=e,this._alpha=t}function z(e){this._context=e}function $(e){return e<0?-1:1}function U(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($(a)+$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function B(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function q(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function W(e){this._context=e}function V(e){this._context=new H(e)}function H(e){this._context=e}function G(e){return new W(e)}function Y(e){return new V(e)}function X(e){this._context=e}function Q(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function K(e,t){this._context=e,this._t=t}function J(e){return new K(e,0)}function Z(e){return new K(e,1)}function ee(e,t){return e[t]}function te(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var ne=function(e){return function(){return e}},re=Math.abs,ie=Math.atan2,ae=Math.cos,oe=Math.max,se=Math.min,ue=Math.sin,le=Math.sqrt,ce=1e-12,fe=Math.PI,de=fe/2,pe=2*fe,he=function(){function e(){var e,i,a=+f.apply(this,arguments),o=+d.apply(this,arguments),s=m.apply(this,arguments)-de,u=g.apply(this,arguments)-de,b=re(u-s),_=u>s;if(v||(v=e=t.path()),o<a&&(i=o,o=a,a=i),o>ce)if(b>pe-ce)v.moveTo(o*ae(s),o*ue(s)),v.arc(0,0,o,s,u,!_),a>ce&&(v.moveTo(a*ae(u),a*ue(u)),v.arc(0,0,a,u,s,_));else{var x,S,w=s,O=u,k=s,E=u,M=b,T=b,P=y.apply(this,arguments)/2,C=P>ce&&(h?+h.apply(this,arguments):le(a*a+o*o)),A=se(re(o-a)/2,+p.apply(this,arguments)),D=A,R=A;if(C>ce){var N=r(C/a*ue(P)),I=r(C/o*ue(P));(M-=2*N)>ce?(N*=_?1:-1,k+=N,E-=N):(M=0,k=E=(s+u)/2),(T-=2*I)>ce?(I*=_?1:-1,w+=I,O-=I):(T=0,w=O=(s+u)/2)}var F=o*ae(w),L=o*ue(w),j=a*ae(E),z=a*ue(E);if(A>ce){var $=o*ae(O),U=o*ue(O),B=a*ae(k),q=a*ue(k);if(b<fe){var W=M>ce?l(F,L,B,q,$,U,j,z):[j,z],V=F-W[0],H=L-W[1],G=$-W[0],Y=U-W[1],X=1/ue(n((V*G+H*Y)/(le(V*V+H*H)*le(G*G+Y*Y)))/2),Q=le(W[0]*W[0]+W[1]*W[1]);D=se(A,(a-Q)/(X-1)),R=se(A,(o-Q)/(X+1))}}T>ce?R>ce?(x=c(B,q,F,L,o,R,_),S=c($,U,j,z,o,R,_),v.moveTo(x.cx+x.x01,x.cy+x.y01),R<A?v.arc(x.cx,x.cy,R,ie(x.y01,x.x01),ie(S.y01,S.x01),!_):(v.arc(x.cx,x.cy,R,ie(x.y01,x.x01),ie(x.y11,x.x11),!_),v.arc(0,0,o,ie(x.cy+x.y11,x.cx+x.x11),ie(S.cy+S.y11,S.cx+S.x11),!_),v.arc(S.cx,S.cy,R,ie(S.y11,S.x11),ie(S.y01,S.x01),!_))):(v.moveTo(F,L),v.arc(0,0,o,w,O,!_)):v.moveTo(F,L),a>ce&&M>ce?D>ce?(x=c(j,z,$,U,a,-D,_),S=c(F,L,B,q,a,-D,_),v.lineTo(x.cx+x.x01,x.cy+x.y01),D<A?v.arc(x.cx,x.cy,D,ie(x.y01,x.x01),ie(S.y01,S.x01),!_):(v.arc(x.cx,x.cy,D,ie(x.y01,x.x01),ie(x.y11,x.x11),!_),v.arc(0,0,a,ie(x.cy+x.y11,x.cx+x.x11),ie(S.cy+S.y11,S.cx+S.x11),_),v.arc(S.cx,S.cy,D,ie(S.y11,S.x11),ie(S.y01,S.x01),!_))):v.arc(0,0,a,E,k,_):v.lineTo(j,z)}else v.moveTo(0,0);if(v.closePath(),e)return v=null,e+""||null}var f=i,d=a,p=ne(0),h=null,m=o,g=s,y=u,v=null;return e.centroid=function(){var e=(+f.apply(this,arguments)+ +d.apply(this,arguments))/2,t=(+m.apply(this,arguments)+ +g.apply(this,arguments))/2-fe/2;return[ae(t)*e,ue(t)*e]},e.innerRadius=function(t){return arguments.length?(f="function"==typeof t?t:ne(+t),e):f},e.outerRadius=function(t){return arguments.length?(d="function"==typeof t?t:ne(+t),e):d},e.cornerRadius=function(t){return arguments.length?(p="function"==typeof t?t:ne(+t),e):p},e.padRadius=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:ne(+t),e):h},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:ne(+t),e):m},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:ne(+t),e):g},e.padAngle=function(t){return arguments.length?(y="function"==typeof t?t:ne(+t),e):y},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e};f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var me=function(e){return new f(e)},ge=function(){function e(e){var u,l,c,f=e.length,d=!1;for(null==a&&(s=o(c=t.path())),u=0;u<=f;++u)!(u<f&&i(l=e[u],u,e))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+n(l,u,e),+r(l,u,e));if(c)return s=null,c+""||null}var n=d,r=p,i=ne(!0),a=null,o=me,s=null;return e.x=function(t){return arguments.length?(n="function"==typeof t?t:ne(+t),e):n},e.y=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),e):r},e.defined=function(t){return arguments.length?(i="function"==typeof t?t:ne(!!t),e):i},e.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),e):o},e.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),e):a},e},ye=function(){function e(e){var n,f,d,p,h,m=e.length,g=!1,y=new Array(m),v=new Array(m);for(null==u&&(c=l(h=t.path())),n=0;n<=m;++n){if(!(n<m&&s(p=e[n],n,e))===g)if(g=!g)f=n,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),d=n-1;d>=f;--d)c.point(y[d],v[d]);c.lineEnd(),c.areaEnd()}g&&(y[n]=+r(p,n,e),v[n]=+a(p,n,e),c.point(i?+i(p,n,e):y[n],o?+o(p,n,e):v[n]))}if(h)return c=null,h+""||null}function n(){return ge().defined(s).curve(l).context(u)}var r=d,i=null,a=ne(0),o=p,s=ne(!0),u=null,l=me,c=null;return e.x=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),i=null,e):r},e.x0=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),e):r},e.x1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:ne(+t),e):i},e.y=function(t){return arguments.length?(a="function"==typeof t?t:ne(+t),o=null,e):a},e.y0=function(t){return arguments.length?(a="function"==typeof t?t:ne(+t),e):a},e.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:ne(+t),e):o},e.lineX0=e.lineY0=function(){return n().x(r).y(a)},e.lineY1=function(){return n().x(r).y(o)},e.lineX1=function(){return n().x(i).y(a)},e.defined=function(t){return arguments.length?(s="function"==typeof t?t:ne(!!t),e):s},e.curve=function(t){return arguments.length?(l=t,null!=u&&(c=l(u)),e):l},e.context=function(t){return arguments.length?(null==t?u=c=null:c=l(u=t),e):u},e},ve=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},be=function(e){return e},_e=function(){function e(e){var s,u,l,c,f,d=e.length,p=0,h=new Array(d),m=new Array(d),g=+i.apply(this,arguments),y=Math.min(pe,Math.max(-pe,a.apply(this,arguments)-g)),v=Math.min(Math.abs(y)/d,o.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<d;++s)(f=m[h[s]=s]=+t(e[s],s,e))>0&&(p+=f);for(null!=n?h.sort(function(e,t){return n(m[e],m[t])}):null!=r&&h.sort(function(t,n){return r(e[t],e[n])}),s=0,l=p?(y-d*b)/p:0;s<d;++s,g=c)u=h[s],f=m[u],c=g+(f>0?f*l:0)+b,m[u]={data:e[u],index:s,value:f,startAngle:g,endAngle:c,padAngle:v};return m}var t=be,n=ve,r=null,i=ne(0),a=ne(pe),o=ne(0);return e.value=function(n){return arguments.length?(t="function"==typeof n?n:ne(+n),e):t},e.sortValues=function(t){return arguments.length?(n=t,r=null,e):n},e.sort=function(t){return arguments.length?(r=t,n=null,e):r},e.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),e):i},e.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:ne(+t),e):a},e.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ne(+t),e):o},e},xe=m(me);h.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var Se=function(){return g(ge().curve(xe))},we=function(){var e=ye().curve(xe),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return g(n())},delete e.lineX0,e.lineEndAngle=function(){return g(r())},delete e.lineX1,e.lineInnerRadius=function(){return g(i())},delete e.lineY0,e.lineOuterRadius=function(){return g(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(m(e)):t()._curve},e},Oe=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},ke=Array.prototype.slice,Ee={draw:function(e,t){var n=Math.sqrt(t/fe);e.moveTo(n,0),e.arc(0,0,n,0,pe)}},Me={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),
e.lineTo(-3*n,n),e.closePath()}},Te=Math.sqrt(1/3),Pe=2*Te,Ce={draw:function(e,t){var n=Math.sqrt(t/Pe),r=n*Te;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Ae=.8908130915292852,De=Math.sin(fe/10)/Math.sin(7*fe/10),Re=Math.sin(pe/10)*De,Ne=-Math.cos(pe/10)*De,Ie={draw:function(e,t){var n=Math.sqrt(t*Ae),r=Re*n,i=Ne*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=pe*a/5,s=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},Fe={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},Le=Math.sqrt(3),je={draw:function(e,t){var n=-Math.sqrt(t/(3*Le));e.moveTo(0,2*n),e.lineTo(-Le*n,-n),e.lineTo(Le*n,-n),e.closePath()}},ze=-.5,$e=Math.sqrt(3)/2,Ue=1/Math.sqrt(12),Be=3*(Ue/2+1),qe={draw:function(e,t){var n=Math.sqrt(t/Be),r=n/2,i=n*Ue,a=r,o=n*Ue+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(ze*r-$e*i,$e*r+ze*i),e.lineTo(ze*a-$e*o,$e*a+ze*o),e.lineTo(ze*s-$e*u,$e*s+ze*u),e.lineTo(ze*r+$e*i,ze*i-$e*r),e.lineTo(ze*a+$e*o,ze*o-$e*a),e.lineTo(ze*s+$e*u,ze*u-$e*s),e.closePath()}},We=[Ee,Me,Ce,Fe,Ie,je,qe],Ve=function(){function e(){var e;if(i||(i=e=t.path()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),e)return i=null,e+""||null}var n=ne(Ee),r=ne(64),i=null;return e.type=function(t){return arguments.length?(n="function"==typeof t?t:ne(t),e):n},e.size=function(t){return arguments.length?(r="function"==typeof t?t:ne(+t),e):r},e.context=function(t){return arguments.length?(i=null==t?null:t,e):i},e},He=function(){};M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:E(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:E(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ge=function(e){return new M(e)};T.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:E(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Ye=function(e){return new T(e)};P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:E(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var Xe=function(e){return new P(e)};C.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Qe=function e(t){function n(e){return 1===t?new M(e):new C(e,t)}return n.beta=function(t){return e(+t)},n}(.85);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:A(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:A(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ke=function e(t){function n(e){return new D(e,t)}return n.tension=function(t){return e(+t)},n}(0);R.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:A(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Je=function e(t){function n(e){return new R(e,t)}return n.tension=function(t){return e(+t)},n}(0);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:A(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ze=function e(t){function n(e){return new N(e,t)}return n.tension=function(t){return e(+t)},n}(0);F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:I(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var et=function e(t){function n(e){return t?new F(e,t):new D(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);L.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:I(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tt=function e(t){function n(e){return t?new L(e,t):new R(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:I(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var nt=function e(t){function n(e){return t?new j(e,t):new N(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);z.prototype={areaStart:He,areaEnd:He,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var rt=function(e){return new z(e)};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q(this,this._t0,B(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,q(this,B(this,n=U(this,e,t)),n);break;default:q(this,this._t0,n=U(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(V.prototype=Object.create(W.prototype)).point=function(e,t){W.prototype.point.call(this,t,e)},H.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Q(e),i=Q(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var it=function(e){return new X(e)};K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var at=function(e){return new K(e,.5)},ot=function(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},st=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n},ut=function(){function e(e){var a,o,s=t.apply(this,arguments),u=e.length,l=s.length,c=new Array(l);for(a=0;a<l;++a){for(var f,d=s[a],p=c[a]=new Array(u),h=0;h<u;++h)p[h]=f=[0,+i(e[h],d,h,e)],f.data=e[h];p.key=d}for(a=0,o=n(c);a<l;++a)c[o[a]].index=a;return r(c,o),c}var t=ne([]),n=st,r=ot,i=ee;return e.keys=function(n){return arguments.length?(t="function"==typeof n?n:ne(ke.call(n)),e):t},e.value=function(t){return arguments.length?(i="function"==typeof t?t:ne(+t),e):i},e.order=function(t){return arguments.length?(n=null==t?st:"function"==typeof t?t:ne(ke.call(t)),e):n},e.offset=function(t){return arguments.length?(r=null==t?ot:t,e):r},e},lt=function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}ot(e,t)}},ct=function(e,t){if((s=e.length)>1)for(var n,r,i,a,o,s,u=0,l=e[t[0]].length;u<l;++u)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},ft=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}ot(e,t)}},dt=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],f=c[o][1]||0,d=c[o-1][1]||0,p=(f-d)/2,h=0;h<s;++h){var m=e[t[h]],g=m[o][1]||0,y=m[o-1][1]||0;p+=g-y}u+=f,l+=p*f}n[o-1][1]+=n[o-1][0]=a,u&&(a-=l/u)}n[o-1][1]+=n[o-1][0]=a,ot(e,t)}},pt=function(e){var t=e.map(te);return st(e).sort(function(e,n){return t[e]-t[n]})},ht=function(e){return pt(e).reverse()},mt=function(e){var t,n,r=e.length,i=e.map(te),a=st(e).sort(function(e,t){return i[t]-i[e]}),o=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=a[t],o<s?(o+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},gt=function(e){return st(e).reverse()};e.arc=he,e.area=ye,e.line=ge,e.pie=_e,e.areaRadial=we,e.radialArea=we,e.lineRadial=Se,e.radialLine=Se,e.pointRadial=Oe,e.linkHorizontal=w,e.linkVertical=O,e.linkRadial=k,e.symbol=Ve,e.symbols=We,e.symbolCircle=Ee,e.symbolCross=Me,e.symbolDiamond=Ce,e.symbolSquare=Fe,e.symbolStar=Ie,e.symbolTriangle=je,e.symbolWye=qe,e.curveBasisClosed=Ye,e.curveBasisOpen=Xe,e.curveBasis=Ge,e.curveBundle=Qe,e.curveCardinalClosed=Je,e.curveCardinalOpen=Ze,e.curveCardinal=Ke,e.curveCatmullRomClosed=tt,e.curveCatmullRomOpen=nt,e.curveCatmullRom=et,e.curveLinearClosed=rt,e.curveLinear=me,e.curveMonotoneX=G,e.curveMonotoneY=Y,e.curveNatural=it,e.curveStep=at,e.curveStepAfter=Z,e.curveStepBefore=J,e.stack=ut,e.stackOffsetExpand=lt,e.stackOffsetDiverging=ct,e.stackOffsetNone=ot,e.stackOffsetSilhouette=ft,e.stackOffsetWiggle=dt,e.stackOrderAscending=pt,e.stackOrderDescending=ht,e.stackOrderInsideOut=mt,e.stackOrderNone=st,e.stackOrderReverse=gt,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){return y||(_(n),y=b.now()+v)}function n(){y=0}function r(){this._call=this._time=this._next=null}function i(e,t,n){var i=new r;return i.restart(e,t,n),i}function a(){t(),++d;for(var e,n=c;n;)(e=y-n._time)>=0&&n._call.call(null,e),n=n._next;--d}function o(){y=(g=b.now())+v,d=p=0;try{a()}finally{d=0,u(),y=0}}function s(){var e=b.now(),t=e-g;t>m&&(v-=t,g=e)}function u(){for(var e,t,n=c,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:c=t);f=e,l(r)}function l(e){if(!d){p&&(p=clearTimeout(p));var t=e-y;t>24?(e<1/0&&(p=setTimeout(o,t)),h&&(h=clearInterval(h))):(h||(g=y,h=setInterval(s,m)),d=1,_(o))}}var c,f,d=0,p=0,h=0,m=1e3,g=0,y=0,v=0,b="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};r.prototype=i.prototype={constructor:r,restart:function(e,n,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?t():+r)+(null==n?0:+n),this._next||f===this||(f?f._next=this:c=this,f=this),this._call=e,this._time=r,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}};var x=function(e,t,n){var i=new r;return t=null==t?0:+t,i.restart(function(n){i.stop(),e(n+t)},t,n),i},S=function(e,n,i){var a=new r,o=n;return null==n?(a.restart(e,n,i),a):(n=+n,i=null==i?t():+i,a.restart(function t(r){r+=o,a.restart(t,o+=n,i),e(r)},n,i),a)};e.now=t,e.timer=i,e.timerFlush=a,e.timeout=x,e.interval=S,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e){return e[0]}function n(e){return e[1]}function r(){this._=null}function i(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function a(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function o(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function s(e){for(;e.L;)e=e.L;return e}function u(e,t,n,r){var i=[null,null],a=j.push(i)-1;return i.left=e,i.right=t,n&&c(i,e,t,n),r&&c(i,t,e,r),F[e.index].halfedges.push(a),F[t.index].halfedges.push(a),i}function l(e,t,n){var r=[t,n];return r.left=e,r}function c(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function f(e,t,n,r,i){var a,o=e[0],s=e[1],u=o[0],l=o[1],c=s[0],f=s[1],d=0,p=1,h=c-u,m=f-l;if(a=t-u,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<p&&(p=a)}else if(h>0){if(a>p)return;a>d&&(d=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>p)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<p&&(p=a)}if(a=n-l,m||!(a>0)){if(a/=m,m<0){if(a<d)return;a<p&&(p=a)}else if(m>0){if(a>p)return;a>d&&(d=a)}if(a=i-l,m||!(a<0)){if(a/=m,m<0){if(a>p)return;a>d&&(d=a)}else if(m>0){if(a<d)return;a<p&&(p=a)}return!(d>0||p<1)||(d>0&&(e[0]=[u+d*h,l+d*m]),p<1&&(e[1]=[u+p*h,l+p*m]),!0)}}}}}function d(e,t,n,r,i){var a=e[1];if(a)return!0;var o,s,u=e[0],l=e.left,c=e.right,f=l[0],d=l[1],p=c[0],h=c[1],m=(f+p)/2,g=(d+h)/2;if(h===d){if(m<t||m>=r)return;if(f>p){if(u){if(u[1]>=i)return}else u=[m,n];a=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];a=[m,n]}}else if(o=(f-p)/(h-d),s=g-o*m,o<-1||o>1)if(f>p){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(d<h){if(u){if(u[0]>=r)return}else u=[t,o*t+s];a=[r,o*r+s]}else{if(u){if(u[0]<t)return}else u=[r,o*r+s];a=[t,o*t+s]}return e[0]=u,e[1]=a,!0}function p(e,t,n,r){for(var i,a=j.length;a--;)d(i=j[a],e,t,n,r)&&f(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>U||Math.abs(i[0][1]-i[1][1])>U)||delete j[a]}function h(e){return F[e.index]={site:e,halfedges:[]}}function m(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function g(e,t){return t[+(t.left!==e.site)]}function y(e,t){return t[+(t.left===e.site)]}function v(){for(var e,t,n,r,i=0,a=F.length;i<a;++i)if((e=F[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=m(e,j[t[n]]);for(o.sort(function(e,t){return s[t]-s[e]}),n=0;n<r;++n)s[n]=t[o[n]];for(n=0;n<r;++n)t[n]=s[n]}}function b(e,t,n,r){var i,a,o,s,u,c,f,d,p,h,m,v,b=F.length,_=!0;for(i=0;i<b;++i)if(a=F[i]){for(o=a.site,u=a.halfedges,s=u.length;s--;)j[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)h=y(a,j[u[s]]),m=h[0],v=h[1],f=g(a,j[u[++s%c]]),d=f[0],p=f[1],(Math.abs(m-d)>U||Math.abs(v-p)>U)&&(u.splice(s,0,j.push(l(o,h,Math.abs(m-e)<U&&r-v>U?[e,Math.abs(d-e)<U?p:r]:Math.abs(v-r)<U&&n-m>U?[Math.abs(p-r)<U?d:n,r]:Math.abs(m-n)<U&&v-t>U?[n,Math.abs(d-n)<U?p:t]:Math.abs(v-t)<U&&m-e>U?[Math.abs(p-t)<U?d:e,t]:null))-1),++c);c&&(_=!1)}if(_){var x,S,w,O=1/0;for(i=0,_=null;i<b;++i)(a=F[i])&&(o=a.site,x=o[0]-e,S=o[1]-t,w=x*x+S*S,w<O&&(O=w,_=a));if(_){var k=[e,t],E=[e,r],M=[n,r],T=[n,t];_.halfedges.push(j.push(l(o=_.site,k,E))-1,j.push(l(o,E,M))-1,j.push(l(o,M,T))-1,j.push(l(o,T,k))-1)}}for(i=0;i<b;++i)(a=F[i])&&(a.halfedges.length||delete F[i])}function _(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function x(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,f=a[1]-s,d=2*(u*f-l*c);if(!(d>=-B)){var p=u*u+l*l,h=c*c+f*f,m=(f*p-l*h)/d,g=(u*h-c*p)/d,y=z.pop()||new _;y.arc=e,y.site=i,y.x=m+o,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=y;for(var v=null,b=L._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}L.insert(v,y),v||(N=y)}}}}function S(e){var t=e.circle;t&&(t.P||(N=t.N),L.remove(t),z.push(t),i(t),e.circle=null)}function w(){i(this),this.edge=this.site=this.circle=null}function O(e){var t=$.pop()||new w;return t.site=e,t}function k(e){S(e),I.remove(e),$.push(e),i(e)}function E(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],a=e.P,o=e.N,s=[e];k(e);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<U&&Math.abs(r-l.circle.cy)<U;)a=l.P,s.unshift(l),k(l),l=a;s.unshift(l),S(l);for(var f=o;f.circle&&Math.abs(n-f.circle.x)<U&&Math.abs(r-f.circle.cy)<U;)o=f.N,s.push(f),k(f),f=o;s.push(f),S(f);var d,p=s.length;for(d=1;d<p;++d)f=s[d],l=s[d-1],c(f.edge,l.site,f.site,i);l=s[0],f=s[p-1],f.edge=u(l.site,f.site,null,i),x(l),x(f)}function M(e){for(var t,n,r,i,a=e[0],o=e[1],s=I._;s;)if(r=T(s,o)-a,r>U)s=s.L;else{if(i=a-P(s,o),!(i>U)){r>-U?(t=s.P,n=s):i>-U?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}h(e);var l=O(e);if(I.insert(t,l),t||n){if(t===n)return S(t),n=O(t.site),I.insert(l,n),l.edge=n.edge=u(t.site,l.site),x(t),void x(n);if(!n)return void(l.edge=u(t.site,l.site));S(t),S(n);var f=t.site,d=f[0],p=f[1],m=e[0]-d,g=e[1]-p,y=n.site,v=y[0]-d,b=y[1]-p,_=2*(m*b-g*v),w=m*m+g*g,k=v*v+b*b,E=[(b*w-g*k)/_+d,(m*k-v*w)/_+p];c(n.edge,f,y,E),l.edge=u(f,e,null,E),n.edge=u(e,y,null,E),x(t),x(n)}}function T(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-(1/0);n=o.site;var s=n[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function P(e,t){var n=e.N;if(n)return T(n,t);var r=e.site;return r[1]===t?r[0]:1/0}function C(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function A(e,t){return t[1]-e[1]||t[0]-e[0]}function D(e,t){var n,i,a,o=e.sort(A).pop();for(j=[],F=new Array(e.length),I=new r,L=new r;;)if(a=N,o&&(!a||o[1]<a.y||o[1]===a.y&&o[0]<a.x))o[0]===n&&o[1]===i||(M(o),n=o[0],i=o[1]),o=e.pop();else{if(!a)break;E(a.arc)}if(v(),t){var s=+t[0][0],u=+t[0][1],l=+t[1][0],c=+t[1][1];p(s,u,l,c),b(s,u,l,c)}this.edges=j,this.cells=F,I=L=j=F=null}var R=function(e){return function(){return e}};r.prototype={constructor:r,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=s(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(a(this,n),e=n,n=e.U),n.C=!1,r.C=!0,o(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(o(this,n),e=n,n=e.U),n.C=!1,r.C=!0,a(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,u=e.L,l=e.R;if(n=u?l?s(l):u:l,i?i.L===e?i.L=n:i.R=n:this._=n,u&&l?(r=n.C,n.C=e.C,n.L=u,u.U=n,n!==l?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=l,l.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,a(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,o(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,a(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,o(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,a(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,o(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var N,I,F,L,j,z=[],$=[],U=1e-6,B=1e-12;D.prototype={constructor:D,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(n){return g(t,e[n])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,u=-1,l=t[i[a-1]],c=l.left===s?l.right:l.left;++u<a;)o=c,l=t[i[u]],c=l.left===s?l.right:l.left,o&&c&&r<o.index&&r<c.index&&C(s,o,c)<0&&e.push([s.data,o.data,c.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],f=u*u+l*l;f<c&&(c=f,o=s.index)}});while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var q=function(){function e(e){return new D(e.map(function(t,n){var a=[Math.round(r(t,n,e)/U)*U,Math.round(i(t,n,e)/U)*U];return a.index=n,a.data=t,a}),a)}var r=t,i=n,a=null;return e.polygons=function(t){return e(t).polygons()},e.links=function(t){return e(t).links()},e.triangles=function(t){return e(t).triangles()},e.x=function(t){return arguments.length?(r="function"==typeof t?t:R(+t),e):r},e.y=function(t){return arguments.length?(i="function"==typeof t?t:R(+t),e):i},e.extent=function(t){return arguments.length?(a=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],e):a&&[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},e.size=function(t){return arguments.length?(a=null==t?null:[[0,0],[+t[0],+t[1]]],e):a&&[a[1][0]-a[0][0],a[1][1]-a[0][1]]},e};e.voronoi=q,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function a(e,t,n){var a,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return!!u(t)&&(e=o.call(e),t=o.call(t),l(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var f=s(e),d=s(t)}catch(p){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),a=f.length-1;a>=0;a--)if(f[a]!=d[a])return!1;for(a=f.length-1;a>=0;a--)if(c=f[a],!l(e[c],t[c],n))return!1;return typeof e==typeof t}var o=Array.prototype.slice,s=n(372),u=n(371),l=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:a(e,t,n))}},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t){},373,373,373,373,373,373,373,373,function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(a,"ms-"))}var i=n(382),a=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(392);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?o(!1):void 0,"number"!=typeof t?o(!1):void 0,0===t||t-1 in e?void 0:o(!1),"function"==typeof e.callee?o(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),i=0;i<t;i++)r[i]=e[i];return r}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function a(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var o=n(4);e.exports=a},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=l;l?void 0:u(!1);var i=r(e),a=i&&s(i);if(a){n.innerHTML=a[1]+e+a[2];for(var c=a[0];c--;)n=n.lastChild}else n.innerHTML=e;var f=n.getElementsByTagName("script");f.length&&(t?void 0:u(!1),o(f).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=n(25),o=n(385),s=n(387),u=n(4),l=a.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return o?void 0:a(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?o.innerHTML="<link />":o.innerHTML="<"+e+"></"+e+">",s[e]=!o.firstChild),s[e]?d[e]:null}var i=n(25),a=n(4),o=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],f=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},p=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];p.forEach(function(e){d[e]=f,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(a,"-ms-")}var i=n(389),a=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(391);e.exports=r},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t){"use strict";t.__esModule=!0;t.loopAsync=function(e,t,n){var r=0,i=!1,a=!1,o=!1,s=void 0,u=function(){
for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i=!0,a?void(s=t):void n.apply(void 0,t)},l=function l(){if(!i&&(o=!0,!a)){for(a=!0;!i&&r<e&&o;)o=!1,t(r++,l,u);return a=!1,i?void n.apply(void 0,s):void(r>=e&&o&&(i=!0,n()))}};l()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.replaceLocation=t.pushLocation=t.startListener=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var i=n(133);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return i.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return i.go}});var a=n(52),o=(r(a),n(65)),s=n(105),u=n(209),l=n(50),c="hashchange",f=function(){var e=window.location.href,t=e.indexOf("#");return t===-1?"":e.substring(t+1)},d=function(e){return window.location.hash=e},p=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},h=t.getCurrentLocation=function(e,t){var n=e.decodePath(f()),r=(0,l.getQueryStringValueFromPath)(n,t),i=void 0;r&&(n=(0,l.stripQueryStringValueFromPath)(n,t),i=(0,u.readState)(r));var a=(0,l.parsePath)(n);return a.state=i,(0,o.createLocation)(a,void 0,r)},m=void 0,g=(t.startListener=function(e,t,n){var r=function(){var r=f(),i=t.encodePath(r);if(r!==i)p(i);else{var a=h(t,n);if(m&&a.key&&m.key===a.key)return;m=a,e(a)}},i=f(),a=t.encodePath(i);return i!==a&&p(a),(0,s.addEventListener)(window,c,r),function(){return(0,s.removeEventListener)(window,c,r)}},function(e,t,n,r){var i=e.state,a=e.key,o=t.encodePath((0,l.createPath)(e));void 0!==i&&(o=(0,l.addQueryStringValueToPath)(o,n,a),(0,u.saveState)(a,i)),m=e,r(o)});t.pushLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&d(e)})},t.replaceLocation=function(e,t,n){return g(e,t,n,function(e){f()!==e&&p(e)})}},function(e,t,n){"use strict";t.__esModule=!0,t.replaceLocation=t.pushLocation=t.getCurrentLocation=t.go=t.getUserConfirmation=void 0;var r=n(133);Object.defineProperty(t,"getUserConfirmation",{enumerable:!0,get:function(){return r.getUserConfirmation}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return r.go}});var i=n(65),a=n(50);t.getCurrentLocation=function(){return(0,i.createLocation)(window.location)},t.pushLocation=function(e){return window.location.href=(0,a.createPath)(e),!1},t.replaceLocation=function(e){return window.location.replace((0,a.createPath)(e)),!1}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(22),s=i(o),u=n(134),l=n(133),c=r(l),f=n(396),d=r(f),p=n(105),h=n(135),m=i(h),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.canUseDOM?void 0:(0,s.default)(!1);var t=e.forceRefresh||!(0,p.supportsHistory)(),n=t?d:c,r=n.getUserConfirmation,i=n.getCurrentLocation,o=n.pushLocation,l=n.replaceLocation,f=n.go,h=(0,m.default)(a({getUserConfirmation:r},e,{getCurrentLocation:i,pushLocation:o,replaceLocation:l,go:f})),g=0,y=void 0,v=function(e,t){1===++g&&(y=c.startListener(h.transitionTo));var n=t?h.listenBefore(e):h.listen(e);return function(){n(),0===--g&&y()}},b=function(e){return v(e,!0)},_=function(e){return v(e,!1)};return a({},h,{listenBefore:b,listen:_})};t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(52),s=(i(o),n(22)),u=i(s),l=n(134),c=n(105),f=n(395),d=r(f),p=n(135),h=i(p),m="_k",g=function(e){return"/"===e.charAt(0)?e:"/"+e},y={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!"+e},decodePath:function(e){return"!"===e.charAt(0)?e.substring(1):e}},noslash:{encodePath:function(e){return"/"===e.charAt(0)?e.substring(1):e},decodePath:g},slash:{encodePath:g,decodePath:g}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.canUseDOM?void 0:(0,u.default)(!1);var t=e.queryKey,n=e.hashType;"string"!=typeof t&&(t=m),null==n&&(n="slash"),n in y||(n="slash");var r=y[n],i=d.getUserConfirmation,o=function(){return d.getCurrentLocation(r,t)},s=function(e){return d.pushLocation(e,r,t)},f=function(e){return d.replaceLocation(e,r,t)},p=(0,h.default)(a({getUserConfirmation:i},e,{getCurrentLocation:o,pushLocation:s,replaceLocation:f,go:d.go})),g=0,v=void 0,b=function(e,n){1===++g&&(v=d.startListener(p.transitionTo,r,t));var i=n?p.listenBefore(e):p.listen(e);return function(){i(),0===--g&&v()}},_=function(e){return b(e,!0)},x=function(e){return b(e,!1)},S=((0,c.supportsGoWithoutReloadUsingHash)(),function(e){p.go(e)}),w=function(e){return"#"+r.encodePath(p.createHref(e))};return a({},p,{listenBefore:_,listen:x,go:S,createHref:w})};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(52),o=(r(a),n(22)),s=r(o),u=n(65),l=n(50),c=n(135),f=r(c),d=n(104),p=function(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e)?e={entries:e}:"string"==typeof e&&(e={entries:[e]});var t=function(){var e=m[g],t=(0,l.createPath)(e),n=void 0,r=void 0;e.key&&(n=e.key,r=b(n));var a=(0,l.parsePath)(t);return(0,u.createLocation)(i({},a,{state:r}),void 0,n)},n=function(e){var t=g+e;return t>=0&&t<m.length},r=function(e){if(e&&n(e)){g+=e;var r=t();c.transitionTo(i({},r,{action:d.POP}))}},a=function(e){g+=1,g<m.length&&m.splice(g),m.push(e),v(e.key,e.state)},o=function(e){m[g]=e,v(e.key,e.state)},c=(0,f.default)(i({},e,{getCurrentLocation:t,pushLocation:a,replaceLocation:o,go:r})),h=e,m=h.entries,g=h.current;"string"==typeof m?m=[m]:Array.isArray(m)||(m=["/"]),m=m.map(function(e){return(0,u.createLocation)(e)}),null==g?g=m.length-1:g>=0&&g<m.length?void 0:(0,s.default)(!1);var y=p(m),v=function(e,t){return y[e]=t},b=function(e){return y[e]};return i({},c,{canGo:n})};t.default=h},function(e,t){"use strict";function n(e){return e in a?a[e]:a[e]=e.replace(r,"-$&").toLowerCase().replace(i,"-ms-")}var r=/[A-Z]/g,i=/^ms-/,a={};e.exports=n},function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,r),a-=l}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=255&o,p+=h,o/=256,l-=8);e[n+p-h]|=128*m}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.prefixMap,n=e.plugins,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var r="undefined"!=typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,u.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,c.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(a){this._requiresPrefix={};for(var o in a)a[o]>=this._browserInfo.browserVersion&&(this._requiresPrefix[o]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return o(e,[{key:"prefix",value:function(e){return this._useFallback?r(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,g.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],a=0,o=r.length;a<o;++a){var s=(0,v.default)(n,t,r[a],e,this._metaData);(0,h.default)(i,s||r[a])}i.length>0&&(e[t]=i)}else{var u=(0,v.default)(n,t,r,e,this._metaData);u&&(e[t]=u),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,d.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return r(e)}}]),e}()}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=a;var s=n(427),u=r(s),l=n(428),c=r(l),f=n(138),d=r(f),p=n(213),h=r(p),m=n(214),g=r(m),y=n(215),v=r(y);e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:62,userSelect:53,textEmphasisPosition:62,textEmphasis:62,textEmphasisStyle:62,textEmphasisColor:62,boxDecorationBreak:62,clipPath:54,maskImage:62,maskMode:62,maskRepeat:62,maskPosition:62,maskClip:62,maskOrigin:62,maskSize:62,maskComposite:62,mask:62,maskBorderSource:62,maskBorderMode:62,maskBorderSlice:62,maskBorderWidth:62,maskBorderOutset:62,maskBorderRepeat:62,maskBorder:62,maskType:62,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8},firefox:{appearance:56,userSelect:56,textAlignLast:48,tabSize:56,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:47,userSelect:40,fontKerning:19,textEmphasisPosition:47,textEmphasis:47,textEmphasisStyle:47,textEmphasisColor:47,boxDecorationBreak:47,clipPath:41,maskImage:47,maskMode:47,maskRepeat:47,maskPosition:47,maskClip:47,maskOrigin:47,maskSize:47,maskComposite:47,mask:47,maskBorderSource:47,maskBorderMode:47,maskBorderSlice:47,maskBorderWidth:47,maskBorderOutset:47,maskBorderRepeat:47,maskBorder:47,maskType:47,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:16,gridTemplateRows:16,gridTemplateAreas:16,gridTemplate:16,gridAutoColumns:16,gridAutoRows:16,gridAutoFlow:16,grid:16,gridRowStart:16,gridColumnStart:16,gridRowEnd:16,gridRow:16,gridColumn:16,gridColumnEnd:16,gridColumnGap:16,gridRowGap:16,gridArea:16,gridGap:16},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:56,breakBefore:56,breakInside:56,columnCount:56,columnFill:56,columnGap:56,columnRule:56,columnRuleColor:56,columnRuleStyle:56,columnRuleWidth:56,columns:56,columnSpan:56,columnWidth:56},and_chr:{appearance:59,textEmphasisPosition:59,textEmphasis:59,textEmphasisStyle:59,textEmphasisColor:59,boxDecorationBreak:59,maskImage:59,maskMode:59,maskRepeat:59,maskPosition:59,maskClip:59,maskOrigin:59,maskSize:59,maskComposite:59,mask:59,maskBorderSource:59,maskBorderMode:59,maskBorderSlice:59,maskBorderWidth:59,maskBorderOutset:59,maskBorderRepeat:59,maskBorder:59,maskType:59},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4},op_mini:{}}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&a<10))return(0,o.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,c=r.keepUnprefixed;return"cursor"!==e||!s[t]||"firefox"!==i&&"chrome"!==i&&"safari"!==i&&"opera"!==i?"cursor"===e&&u[t]&&("firefox"===i&&a<24||"chrome"===i&&a<37||"safari"===i&&a<9||"opera"===i&&a<24)?(0,o.default)(l+t,t,c):void 0:(0,o.default)(l+t,t,c)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a),s={grab:!0,grabbing:!0},u={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,u=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&a<9.1))return(0,o.default)(t.replace(/filter\(/g,s+"filter("),t,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,l=r.keepUnprefixed;if("display"===e&&s[t]&&("chrome"===i&&a<29&&a>20||("safari"===i||"ios_saf"===i)&&a<9&&a>6||"opera"===i&&(15===a||16===a)))return(0,o.default)(u+t,t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a),s={flex:!0,"inline-flex":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,l=r.cssPrefix,f=r.keepUnprefixed,d=r.requiresPrefix;if((c.indexOf(e)>-1||"display"===e&&"string"==typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&a<22||"chrome"===i&&a<21||("safari"===i||"ios_saf"===i)&&a<=6.1||"android"===i&&a<4.4||"and_uc"===i)){if(delete d[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&s.hasOwnProperty(t))return(0,o.default)(l+s[t],t,f);u.hasOwnProperty(e)&&(n[u[e]]=s[t]||t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a),s={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},u={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},l=["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"],c=Object.keys(u).concat(l);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.browserVersion,u=r.cssPrefix,l=r.keepUnprefixed;if("string"==typeof t&&s.test(t)&&("firefox"===i&&a<16||"chrome"===i&&a<26||("safari"===i||"ios_saf"===i)&&a<7||("opera"===i||"op_mini"===i)&&a<12.1||"android"===i&&a<4.4||"and_uc"===i))return(0,o.default)(u+t,t,l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a),s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("string"==typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,o.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,o.default)(a+t,t,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed;if(s.hasOwnProperty(e)&&u.hasOwnProperty(t))return(0,o.default)(i+t,t,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(45),o=r(a),s={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},u={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=r.cssPrefix,a=r.keepUnprefixed,l=r.requiresPrefix;if("string"==typeof t&&s.hasOwnProperty(e)){u||(u=Object.keys(l).map(function(e){return(0,o.default)(e)}));var c=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return u.forEach(function(e){c.forEach(function(t,n){t.indexOf(e)>-1&&"order"!==e&&(c[n]=t.replace(e,i+e)+(a?","+t:""))})}),c.join(",")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(200),o=r(a),s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u=void 0;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){for(var i in e){var a=e[i];if((0,d.default)(a))e[i]=t(a);else if(Array.isArray(a)){for(var s=[],l=0,f=a.length;l<f;++l){var p=(0,u.default)(r,i,a[l],e,n);(0,c.default)(s,p||a[l])}s.length>0&&(e[i]=s)}else{var h=(0,u.default)(r,i,a,e,n);h&&(e[i]=h),(0,o.default)(n,i,e)}}return e}var n=e.prefixMap,r=e.plugins;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(429),o=r(a),s=n(215),u=r(s),l=n(213),c=r(l),f=n(214),d=r(f);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(414),a=r(i),o=n(426),s=r(o),u=n(417),l=r(u),c=n(416),f=r(c),d=n(418),p=r(d),h=n(419),m=r(h),g=n(420),y=r(g),v=n(421),b=r(v),_=n(422),x=r(_),S=n(423),w=r(S),O=n(424),k=r(O),E=n(425),M=r(E),T=[f.default,l.default,p.default,y.default,b.default,x.default,w.default,k.default,M.default,m.default];t.default=(0,a.default)({prefixMap:s.default.prefixMap,plugins:T}),e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return s.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(80),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return s.map(function(e){return t.replace(/filter\(/g,e+"filter(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(80),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&u.test(t))return s.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(80),o=r(a),s=["-webkit-","-moz-",""],u=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if("string"==typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return s.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(80),o=r(a),s=["-webkit-",""];e.exports=t.default},function(e,t){"use strict";function n(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map(function(e){return e+t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if((0,l.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var a=n[r],o=[a];for(var u in t){var c=(0,s.default)(u);if(a.indexOf(c)>-1&&"order"!==c)for(var f=t[u],d=0,h=f.length;d<h;++d)o.unshift(a.replace(c,p[f[d]]+c))}n[r]=o.join(",")}return n.join(",")}function a(e,t,n,r){if("string"==typeof t&&d.hasOwnProperty(e)){var a=i(t,r),o=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return o;var s=a.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?s:(n["Webkit"+(0,f.default)(e)]=o,n["Moz"+(0,f.default)(e)]=s,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(200),s=r(o),u=n(80),l=r(u),c=n(138),f=r(c),d={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},p={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],a=["Webkit","Moz"],o=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:a,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:a,columnFill:a,columnGap:a,columnRule:a,columnRuleColor:a,columnRuleStyle:a,columnRuleWidth:a,columns:a,columnSpan:a,columnWidth:a,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,
backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:o,scrollSnapPointsX:o,scrollSnapPointsY:o,scrollSnapDestination:o,scrollSnapCoordinate:o,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:o,flowFrom:o,regionFragment:o,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:o,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in l)if(e.hasOwnProperty(t))return l[t]}function a(e){var t=s.default._detect(e);t.yandexbrowser&&(t=s.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in u)if(t.hasOwnProperty(n)){var r=u[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}return t.browserName=i(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10),t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr"),"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion),"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(358),s=r(o),u={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},l={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},function(e,t){"use strict";function n(e,t,n){var r="keyframes";return"chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e?n+r:r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,a=r.length;i<a;++i)n[r[i]+(0,o.default)(t)]=n[t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(138),o=r(a);e.exports=t.default},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t){e.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},function(e,t){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.0.0-beta.5",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/vl.js",types:"build/src/vl.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/examples/images build/test-gallery",build:"npm run tsc && cp package.json build && browserify src/vl.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run build && npm run build:examples-only","build:examples-only":"./scripts/build-examples.sh && rm -rf examples/specs/normalized/* && scripts/build-normalized-examples","build:images":"npm run data && scripts/generate-images.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts|vg.json)' -delete & rm -rf data",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"typescript-to-json-schema --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run build && npm run data && npm run build:site && npm run build:toc && npm run build:versions",site:"bundle exec jekyll serve",lint:"tslint --project tsconfig.json -c tslint.json --type-check",test:"npm run tsc && npm run test:only && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/vl.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.0.0","@types/d3":"^4.9.0","@types/highlight.js":"^9.1.9","@types/json-stable-stringify":"^1.0.31","@types/mocha":"^2.2.41","@types/node":"^7.0.28",ajv:"5.1.5","browser-sync":"^2.18.12",browserify:"^14.4.0","browserify-shim":"^3.8.14",chai:"^4.0.2",cheerio:"^1.0.0-rc.1",codecov:"^2.2.0",d3:"^4.9.1",exorcist:"^0.4.0","highlight.js":"^9.12.0",mocha:"^3.4.2",nodemon:"^1.11.0",nyc:"^11.0.2","source-map-support":"^0.4.15",tsify:"^3.0.1",tslint:"^5.4.3","tslint-eslint-rules":"^4.1.1",typescript:"^2.3.4","typescript-to-json-schema":"vega/typescript-to-json-schema#v0.5.0","uglify-js":"^3.0.15",vega:"3.0.0-beta.33","vega-datasets":"vega/vega-datasets#gh-pages","vega-embed":"3.0.0-beta.17",watchify:"^3.9.0","yaml-front-matter":"^3.4.0"},dependencies:{"json-stable-stringify":"^1.0.1",tslib:"^1.7.1","vega-event-selector":"^2.0.0-beta","vega-util":"^1.3.0",yargs:"^8.0.1"}}},function(e,t){e.exports={name:"vega-lite",author:'Jeffrey Heer, Dominik Moritz, Kanit "Ham" Wongsuphasawat',version:"2.0.0-beta.6",collaborators:["Kanit Wongsuphasawat <kanitw@gmail.com> (http://kanitw.yellowpigz.com)","Dominik Moritz <domoritz@cs.washington.edu> (https://www.domoritz.de)","Jeffrey Heer <jheer@uw.edu> (http://jheer.org)"],homepage:"https://vega.github.io/vega-lite/",description:"Vega-lite provides a higher-level grammar for visual analysis, comparable to ggplot or Tableau, that generates complete Vega specifications.",main:"build/src/vl.js",types:"build/src/vl.d.ts",bin:{vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},directories:{test:"test"},scripts:{pretsc:"mkdir -p build && rm -rf build/*/** && cp package.json build/",tsc:"tsc",prebuild:"mkdir -p build/site build/examples/images build/test-gallery",build:"npm run tsc && cp package.json build && browserify src/vl.ts -p tsify -d -s vl | exorcist build/vega-lite.js.map > build/vega-lite.js",postbuild:"uglifyjs build/vega-lite.js -cm --source-map content=build/vega-lite.js.map,filename=build/vega-lite.min.js.map -o build/vega-lite.min.js && npm run schema","build:examples":"npm run build && npm run build:examples-only","build:examples-only":"./scripts/build-examples.sh && rm -rf examples/specs/normalized/* && scripts/build-normalized-examples","build:images":"npm run data && scripts/generate-images.sh","build:toc":"bundle exec jekyll build -q && scripts/generate-toc","build:site":"browserify site/static/main.ts -p [tsify -p site] -d | exorcist build/site/main.js.map > build/site/main.js","build:versions":"scripts/update-version.sh","build:test-gallery":"browserify test-gallery/main.ts -p [tsify -p test-gallery] -d > build/test-gallery/main.js","check:examples":"scripts/check-examples.sh","check:schema":"scripts/check-schema.sh",clean:"rm -rf build && rm -f vega-lite.* & find -E src test site examples -regex '.*\\.(js|js.map|d.ts|vg.json)' -delete & rm -rf data",data:"rsync -r node_modules/vega-datasets/data/* data",link:"npm link && npm link vega-lite",deploy:"scripts/deploy.sh","deploy:gh":"scripts/deploy-gh.sh","deploy:schema":"scripts/deploy-schema.sh",prestart:"npm run data && npm run build && scripts/index-examples",start:"nodemon -x 'npm run build:test-gallery' & browser-sync start --server --files 'build/test-gallery/main.js' --index 'test-gallery/index.html'",poststart:"rm examples/all-examples.json",preschema:"npm run prebuild",schema:"typescript-to-json-schema --path tsconfig.json --type TopLevelExtendedSpec > build/vega-lite-schema.json && npm run renameschema && cp build/vega-lite-schema.json _data/",renameschema:"scripts/rename-schema.sh",presite:"npm run build && npm run data && npm run build:site && npm run build:toc && npm run build:versions",site:"bundle exec jekyll serve",lint:"tslint --project tsconfig.json -c tslint.json --type-check",test:"npm run tsc && npm run test:only && npm run lint",posttest:"npm run schema && npm run data && npm run mocha:examples","test:nocompile":"npm run test:only && npm run lint && npm run mocha:examples","test:only":"nyc --reporter=html --reporter=text-summary npm run mocha:test","test:debug":"npm run tsc && mocha --recursive --debug-brk --inspect build/test","test:debug-examples":"npm run tsc && npm run schema && mocha --recursive --debug-brk --inspect build/examples","mocha:test":"mocha --require source-map-support/register --reporter dot --recursive build/test","mocha:examples":"mocha --require source-map-support/register --reporter dot --recursive build/examples",codecov:"nyc report --reporter=json && codecov -f coverage/*.json","watch:build":"watchify src/vl.ts -p tsify -v -d -s vl -o 'exorcist build/vega-lite.js.map > build/vega-lite.js'","watch:tsc":"npm run tsc -- -w","watch:test":"nodemon -x 'npm test'",watch:"nodemon -x 'npm run build && npm run test:nocompile' # already ran schema in build"},repository:{type:"git",url:"https://github.com/vega/vega-lite.git"},license:"BSD-3-Clause",bugs:{url:"https://github.com/vega/vega-lite/issues"},devDependencies:{"@types/chai":"^4.0.0","@types/d3":"^4.9.0","@types/highlight.js":"^9.1.9","@types/json-stable-stringify":"^1.0.31","@types/mocha":"^2.2.41","@types/node":"^7.0.28",ajv:"5.1.5","browser-sync":"^2.18.12",browserify:"^14.4.0","browserify-shim":"^3.8.14",chai:"^4.0.2",cheerio:"^1.0.0-rc.1",codecov:"^2.2.0",d3:"^4.9.1",exorcist:"^0.4.0","highlight.js":"^9.12.0",mocha:"^3.4.2",nodemon:"^1.11.0",nyc:"^11.0.2","source-map-support":"^0.4.15",tsify:"^3.0.1",tslint:"^5.4.3","tslint-eslint-rules":"^4.1.1",typescript:"^2.3.4","typescript-to-json-schema":"vega/typescript-to-json-schema#v0.5.0","uglify-js":"^3.0.15",vega:"^3.0.0-beta.38","vega-datasets":"vega/vega-datasets#gh-pages","vega-embed":"^3.0.0-beta.19","vega-tooltip":"^0.4.2",watchify:"^3.9.0","yaml-front-matter":"^3.4.0"},dependencies:{"json-stable-stringify":"^1.0.1",tslib:"^1.7.1","vega-event-selector":"^2.0.0-beta","vega-util":"^1.3.0",yargs:"^8.0.1"}}},function(e,t){e.exports={name:"vega",version:"3.0.0-beta.38",description:"The Vega visualization grammar.",keywords:["vega","visualization","interaction","dataflow","grammar","data","d3"],license:"BSD-3-Clause",author:{name:"UW Interactive Data Lab",url:"http://idl.cs.washington.edu"},contributors:[{name:"Jeffrey Heer",url:"http://idl.cs.washington.edu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Ryan Russell",url:"https://github.com/RussellSprouts"},{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],main:"build/vega.js",module:"index","jsnext:main":"index",bin:{vg2png:"./bin/vg2png",vg2svg:"./bin/vg2svg"},repository:{type:"git",url:"https://github.com/vega/vega.git"},scripts:{rollup:"bin/rollup && bin/schema > build/vega-schema.json",prebuild:"rm -rf build && mkdir build",build:"npm run rollup && bin/rollup -e",postbuild:"uglifyjs build/vega.js -c -m -o build/vega.min.js && uglifyjs build/vega-core.js -c -m -o build/vega-core.min.js",pretest:"npm run prebuild && npm run rollup",test:"TZ=America/Los_Angeles tape 'test/**/*-test.js' && eslint index.js src test",prepublish:"npm run test && npm run build",postpublish:"git push && git push --tags && zip -j build/vega.zip -- LICENSE README.md build/vega-schema.json build/vega.js build/vega.min.js build/vega-core.js build/vega-core.min.js && bin/deploy-schema.sh",data:"rsync -r node_modules/vega-datasets/data/* docs/data"},dependencies:{"vega-crossfilter":">=1.0.0-beta","vega-dataflow":">=2.0.0-beta","vega-encode":">=1.0.0-beta","vega-expression":"2","vega-force":">=1.0.0-beta","vega-geo":">=1.0.0-beta","vega-hierarchy":">=1.0.0-beta","vega-loader":">=2.0.0-beta.5","vega-parser":">=1.0.0-beta","vega-runtime":">=1.0.0-beta","vega-scale":">=2.0.0-beta","vega-scenegraph":">=2.0.0-beta.11","vega-statistics":"1","vega-util":"^1.2","vega-view":">=1.0.0-beta","vega-voronoi":">=1.0.0-beta","vega-wordcloud":">=1.0.0-beta","vega-datasets":"vega/vega-datasets#gh-pages",yargs:"4"},devDependencies:{eslint:"2",rollup:"0.34","rollup-plugin-json":"2.3","rollup-plugin-node-resolve":"2",tape:"4",tv4:"1","uglify-js":"2"},browser:{buffer:!1,canvas:!1,fs:!1}}},function(e,t){e.exports={Basic:[{name:"bar",title:"Simple Bar Chart"},{name:"bar_aggregate",title:"Aggregate Bar Chart"},{name:"bar_grouped",title:"Grouped Bar Chart"},{name:"scatter",title:"Scatterplot"},{name:"circle",title:"Scatterplot with Filled Circles"},{name:"scatter_binned",title:"Binned Scatterplot",galleryParameters:{backgroundSize:"110%"}},{name:"scatter_colored_with_shape",title:"Colored Scatterplot",galleryParameters:{backgroundSize:"110%"}},{name:"text_scatter_colored",title:"Colored Text Scatter Plot",galleryParameters:{backgroundSize:"110%"}},{name:"scatter_bubble",title:"Bubble Plot"},{name:"bubble_health_income",title:"Gapminder Bubble Plot",galleryParameters:{backgroundSize:"160%"}},{name:"tick_strip",title:"Strip Plot",galleryParameters:{backgroundSize:"contain"}},{name:"line",title:"Line Chart"},{name:"line_color",title:"Multi Series Line Chart"},{name:"line_slope",title:"Slope Graph"},{name:"histogram",title:"Histogram"},{name:"area",title:"Area Chart"},{name:"rect_heatmap",title:"Table Heatmap",galleryParameters:{backgroundSize:"110%"}},{name:"github_punchcard",title:"Github punch card visualization"}],Stack:[{name:"stacked_bar_weather",title:"Stacked Bar Chart"},{name:"stacked_bar_h",title:"Horizontal Stacked Bar Chart",galleryParameters:{backgroundSize:"120%"}},{name:"stacked_bar_normalize",title:"Normalized Stacked Bar Chart"},{name:"stacked_area",title:"Stacked Area Chart"},{name:"stacked_area_normalize",title:"Normalized Stacked Area Chart"},{name:"stacked_area_stream",title:"Streamgraph"},{name:"bar_layered_transparent",title:"Layered Bar Chart",galleryParameters:{backgroundSize:"110%"}}],Statistical:[{name:"errorbar_aggregate",title:"Error Bars",galleryParameters:{backgroundSize:"150%"}},{name:"errorbar_horizontal_aggregate",title:"Horizontal Error Bars"}],Trellis:[{name:"trellis_anscombe",title:"Anscombe's Quartet",galleryParameters:{backgroundSize:"130%"}},{name:"trellis_bar",title:"Trellis Bar Chart"},{name:"trellis_stacked_bar",title:"Trellis Stacked Bar Chart",galleryParameters:{backgroundSize:"150%"}},{name:"trellis_scatter",title:"Trellis Scatter Plot"},{name:"trellis_bar_histogram",title:"Trellis Histograms"},{name:"trellis_barley",title:"Becker's Barley Trellis Plot"}],Layering:[{name:"layer_precipitation_mean",title:"Mean overlay over precipitation chart"},{name:"layer_text_heatmap",title:"Layering text over heatmap"}],Interactive:[{name:"brush",title:"Rectangular Brush"},{name:"paintbrush",title:"Paintbrush Highlight"},{name:"panzoom_scatter",title:"Scatterplot Pan & Zoom"},{name:"query_widgets",title:"Query Widgets"},{name:"overview_detail",title:"Overview and Detail"},{name:"layered_crossfilter",title:"Crossfilter"},{name:"interactive_splom",title:"Scatterplot Matrix"}]}},function(e,t){e.exports={"Bar Charts":[{name:"bar-chart"},{name:"stacked-bar-chart"},{name:"grouped-bar-chart"},{name:"nested-bar-chart"},{name:"population-pyramid"}],"Line & Area Charts":[{name:"line-chart"},{name:"area-chart"},{name:"stacked-area-chart"},{name:"horizon-graph"},{name:"job-voyager"}],"Circular Charts":[{name:"pie-chart"},{name:"donut-chart"},{name:"radial-plot"}],"Dot & Scatter Plots":[{name:"scatter-plot"},{name:"scatter-plot-null-values"},{name:"connected-scatter-plot"},{name:"error-bars"},{name:"barley-trellis-plot"}],"Probability Distributions":[{name:"histogram"},{name:"histogram-null-values"},{name:"probability-density"},{name:"box-plot"},{name:"violin-plot"},{name:"binned-scatter-plot"},{name:"contour-plot"},{name:"wheat-plot"}],"Geographic Maps":[{name:"county-unemployment"},{name:"dorling-cartogram"},{name:"world-map"},{name:"zoomable-world-map"},{name:"distortion-comparison"}],"Tree Diagrams":[{name:"tree-layout"},{name:"radial-tree-layout"},{name:"treemap",title:"Treemap"},{name:"circle-packing",title:"Circle-Packing"},{name:"sunburst",title:"Sunburst"}],"Network Diagrams":[{name:"edge-bundling"},{name:"force-directed-layout"},{name:"reorderable-matrix"},{name:"arc-diagram"},{name:"airport-connections"}],"Other Chart Types":[{name:"heatmap"},{name:"parallel-coordinates"},{name:"word-cloud"},{name:"timelines"},{name:"beeswarm-plot"}],"Custom Visual Designs":[{name:"budget-forecasts"},{name:"wheat-and-wages"},{name:"falkensee-population"},{name:"annual-temperature"},{name:"weekly-temperature"}],"Interaction Techniques":[{name:"crossfilter-flights"},{name:"overview-plus-detail"},{name:"brushing-scatter-plots"},{name:"zoomable-scatter-plot"},{name:"global-development"},{name:"interactive-legend"},{name:"stock-index-chart"}]}},function(e,t){"use strict";function n(e,t,a,o,s,u,l,c,f){if(a&&"object"==typeof a&&!Array.isArray(a)){t(a,o,s,u,l,c,f);for(var d in a){var p=a[d];if(Array.isArray(p)){if(d in i.arrayKeywords)for(var h=0;h<p.length;h++)n(e,t,p[h],o+"/"+d+"/"+h,s,o,d,a,h)}else if(d in i.propsKeywords){if(p&&"object"==typeof p)for(var m in p)n(e,t,p[m],o+"/"+d+"/"+r(m),s,o,d,a,m)}else(d in i.keywords||e.allKeys&&!(d in i.skipKeywords))&&n(e,t,p,o+"/"+d,s,o,d,a)}}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var i=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),n(t,r,e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){t.parse=n(441),t.stringify=n(442)},function(e,t){var n,r,i,a,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},s=function(e){throw{name:"SyntaxError",message:e,at:n,text:i}},u=function(e){return e&&e!==r&&s("Expected '"+e+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",u("-"));r>="0"&&r<="9";)t+=r,u();if("."===r)for(t+=".";u()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,u(),"-"!==r&&"+"!==r||(t+=r,u());r>="0"&&r<="9";)t+=r,u();return e=+t,isFinite(e)?e:void s("Bad number")},c=function(){var e,t,n,i="";if('"'===r)for(;u();){if('"'===r)return u(),i;if("\\"===r)if(u(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof o[r])break;i+=o[r]}else i+=r}s("Bad string")},f=function(){for(;r&&r<=" ";)u()},d=function(){switch(r){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null}s("Unexpected '"+r+"'")},p=function(){var e=[];if("["===r){if(u("["),f(),"]"===r)return u("]"),e;for(;r;){if(e.push(a()),f(),"]"===r)return u("]"),e;u(","),f()}}s("Bad array")},h=function(){var e,t={};if("{"===r){if(u("{"),f(),"}"===r)return u("}"),t;for(;r;){if(e=c(),f(),u(":"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key "'+e+'"'),t[e]=a(),f(),"}"===r)return u("}"),t;u(","),f()}}s("Bad object")};a=function(){switch(f(),r){case"{":return h();case"[":return p();case'"':return c();case"-":return l();default:return r>="0"&&r<="9"?l():d()}},e.exports=function(e,t){var o;return i=e,n=0,r=" ",o=a(),f(),r&&s("Syntax error"),"function"==typeof t?function e(n,r){var i,a,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(a=e(o,i),void 0!==a?o[i]=a:delete o[i]);return t.call(n,r,o)}({"":o},""):o}},function(e,t){function n(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=u[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function r(e,t){var s,u,l,c,f,d=i,p=t[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof o&&(p=o.call(t,e,p)),typeof p){case"string":return n(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(i+=a,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,s=0;s<c;s+=1)f[s]=r(s,p)||"null";return l=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+d+"]":"["+f.join(",")+"]",i=d,l}if(o&&"object"==typeof o)for(c=o.length,s=0;s<c;s+=1)u=o[s],"string"==typeof u&&(l=r(u,p),l&&f.push(n(u)+(i?": ":":")+l));else for(u in p)Object.prototype.hasOwnProperty.call(p,u)&&(l=r(u,p),l&&f.push(n(u)+(i?": ":":")+l));return l=0===f.length?"{}":i?"{\n"+i+f.join(",\n"+i)+"\n"+d+"}":"{"+f.join(",")+"}",i=d,l}}var i,a,o,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,u={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,n){var s;if(i="",a="","number"==typeof n)for(s=0;s<n;s+=1)a+=" ";else"string"==typeof n&&(a=n);if(o=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return r("",{"":e})}},function(e,t,n){function r(e){return null==e?void 0===e?u:s:l&&l in Object(e)?a(e):o(e)}var i=n(218),a=n(446),o=n(447),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(448),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(i){}var a=s.call(e);return r&&(t?e[u]=n:delete e[u]),a}var i=n(218),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(444),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}var i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,o,s=n(e),u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r)i.call(r,l)&&(s[l]=r[l]);if(Object.getOwnPropertySymbols){o=Object.getOwnPropertySymbols(r);for(var c=0;c<o.length;c++)a.call(r,o[c])&&(s[o[c]]=r[o[c]])}}return s}},function(e,t,n){"use strict";function r(e){var t=new i(i._61);return t._81=1,t._65=e,t}var i=n(220);e.exports=i;var a=r(!0),o=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(e===!0)return a;if(e===!1)return o;if(0===e)return l;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(n){return new i(function(e,t){t(n)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(o,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._81;)s=s._65;return 1===s._81?r(o,s._65):(2===s._81&&n(s._65),
void s.then(function(e){r(o,e)},n))}var u=s.then;if("function"==typeof u){var l=new i(u.bind(s));return void l.then(function(e){r(o,e)},n)}}t[o]=s,0===--a&&e(t)}if(0===t.length)return e([]);for(var a=t.length,o=0;o<t.length;o++)r(o,t[o])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t,n){"use strict";function r(){l=!1,s._10=null,s._97=null}function i(e){function t(t){(e.allRejections||o(f[t].error,e.whitelist||u))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,a(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},l&&r(),l=!0;var i=0,c=0,f={};s._10=function(e){2===e._81&&f[e._72]&&(f[e._72].logged?n(e._72):clearTimeout(f[e._72].timeout),delete f[e._72])},s._97=function(e,n){0===e._45&&(e._72=i++,f[e._72]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._72),o(n,u)?100:2e3),logged:!1})}}function a(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):");var n=(t&&(t.stack||t))+"";n.split("\n").forEach(function(e){console.warn("  "+e)})}function o(e,t){return t.some(function(t){return e instanceof t})}var s=n(220),u=[ReferenceError,TypeError,RangeError],l=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";function r(e,t,n,r,i){}e.exports=r},function(e,t,n){"use strict";var r=n(34),i=n(4),a=n(222);e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";var r=n(34),i=n(4),a=n(9),o=n(222),s=n(454);e.exports=function(e,t){function n(e){var t=e&&(M&&e[M]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,r,a,s,u,c,f){if(s=s||P,c=c||a,f!==o)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[a]?n?new l(null===r[a]?"The "+u+" `"+c+"` is marked as required "+("in `"+s+"`, but its value is `null`."):"The "+u+" `"+c+"` is marked as required in "+("`"+s+"`, but its value is `undefined`.")):null:e(r,a,s,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function f(e){function t(t,n,r,i,a,o){var s=t[n],u=w(s);if(u!==e){var c=O(s);return new l("Invalid "+i+" `"+a+"` of type "+("`"+c+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function d(){return c(r.thatReturnsNull)}function p(e){function t(t,n,r,i,a){if("function"!=typeof e)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=w(s);return new l("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var f=e(s,c,r,i,a+"["+c+"]",o);if(f instanceof Error)return f}return null}return c(t)}function h(){function t(t,n,r,i,a){var o=t[n];if(!e(o)){var s=w(o);return new l("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return c(t)}function m(e){function t(t,n,r,i,a){if(!(t[n]instanceof e)){var o=e.name||P,s=E(t[n]);return new l("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+o+"`."))}return null}return c(t)}function g(e){function t(t,n,r,i,a){for(var o=t[n],s=0;s<e.length;s++)if(u(o,e[s]))return null;var c=JSON.stringify(e);return new l("Invalid "+i+" `"+a+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return Array.isArray(e)?c(t):r.thatReturnsNull}function y(e){function t(t,n,r,i,a){if("function"!=typeof e)return new l("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."));for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,a+"."+c,o);if(f instanceof Error)return f}return null}return c(t)}function v(e){function t(t,n,r,i,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,i,a,o))return null}return new l("Invalid "+i+" `"+a+"` supplied to "+("`"+r+"`."))}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return a(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",k(i),n),r.thatReturnsNull}return c(t)}function b(){function e(e,t,n,r,i){return x(e[t])?null:new l("Invalid "+r+" `"+i+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function _(e){function t(t,n,r,i,a){var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."));for(var c in e){var f=e[c];if(f){var d=f(s,c,r,i,a+"."+c,o);if(d)return d}}return null}return c(t)}function x(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(x);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,a=r.call(t);if(r!==t.entries){for(;!(i=a.next()).done;)if(!x(i.value))return!1}else for(;!(i=a.next()).done;){var o=i.value;if(o&&!x(o[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function O(e){if("undefined"==typeof e||null===e)return""+e;var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function E(e){return e.constructor&&e.constructor.name?e.constructor.name:P}var M="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",P="<<anonymous>>",C={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(),arrayOf:p,element:h(),instanceOf:m,node:b(),objectOf:y,oneOf:g,oneOfType:v,shape:_};return l.prototype=Error.prototype,C.checkPropTypes=s,C.PropTypes=C,C}},function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function i(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),void(r[e][t[1]]=n)):void(r[e]=n)};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"==typeof e?o(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(579),u=n(458);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=u({arrayFormat:"none"},t);var n=i(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:decodeURIComponent(a),n(decodeURIComponent(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){var n={encode:!0,strict:!0,arrayFormat:"none"};t=u(n,t);var i=r(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return a(n,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0!==e&&o.push(i(n,e,o.length))}),o.join("&")}return a(n,t)+"="+a(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},20,function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,f,d,p,h=e[l].replace(o,"%20"),m=h.indexOf(r);m>=0?(c=h.substr(0,m),f=h.substr(m+1)):(c=h,f=""),d=decodeURIComponent(c),p=decodeURIComponent(f),n(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var a=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(459),t.encode=t.stringify=n(460)},function(e,t){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=n},function(e,t,n){"use strict";var r=n(17),i=n(207),a={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=a},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function a(e){switch(e){case"topCompositionStart":return E.compositionStart;case"topCompositionEnd":return E.compositionEnd;case"topCompositionUpdate":return E.compositionUpdate}}function o(e,t){return"topKeyDown"===e&&t.keyCode===b}function s(e,t){switch(e){case"topKeyUp":return v.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==b;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var i,l;if(_?i=a(e):T?s(e,n)&&(i=E.compositionEnd):o(e,n)&&(i=E.compositionStart),!i)return null;w&&(T||i!==E.compositionStart?i===E.compositionEnd&&T&&(l=T.getData()):T=m.getPooled(r));var c=g.getPooled(i,t,n,r);if(l)c.data=l;else{var f=u(n);null!==f&&(c.data=f)}return p.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case"topCompositionEnd":return u(t);case"topKeyPress":var n=t.which;return n!==O?null:(M=!0,k);case"topTextInput":var r=t.data;return r===k&&M?null:r;default:return null}}function f(e,t){if(T){if("topCompositionEnd"===e||!_&&s(e,t)){var n=T.getData();return m.release(T),T=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!i(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return w?null:t.data;default:return null}}function d(e,t,n,r){var i;if(i=S?c(e,n):f(e,n),!i)return null;var a=y.getPooled(E.beforeInput,t,n,r);return a.data=i,p.accumulateTwoPhaseDispatches(a),a}var p=n(83),h=n(25),m=n(470),g=n(507),y=n(510),v=[9,13,27,32],b=229,_=h.canUseDOM&&"CompositionEvent"in window,x=null;h.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var S=h.canUseDOM&&"TextEvent"in window&&!x&&!r(),w=h.canUseDOM&&(!_||x&&x>8&&x<=11),O=32,k=String.fromCharCode(O),E={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},M=!1,T=null,P={eventTypes:E,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};e.exports=P},function(e,t,n){"use strict";var r=n(223),i=n(25),a=(n(36),n(383),n(516)),o=n(390),s=n(393),u=(n(9),s(function(e){return o(e)})),l=!1,c="cssFloat";if(i.canUseDOM){var f=document.createElement("div").style;try{f.font=""}catch(d){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=e[r];null!=o&&(n+=u(r)+":",n+=a(r,o,t,i)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=0===o.indexOf("--"),u=a(o,t[o],n,s);if("float"!==o&&"cssFloat"!==o||(o=c),s)i.setProperty(o,u);else if(u)i[o]=u;else{var f=l&&r.shorthandPropertyExpansions[o];if(f)for(var d in f)i[d]="";else i[o]=""}}}};e.exports=p},function(e,t,n){"use strict";function r(e,t,n){var r=E.getPooled(A.change,e,t,n);return r.type="change",S.accumulateTwoPhaseDispatches(r),r}function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function a(e){var t=r(R,e,T(e));k.batchedUpdates(o,t)}function o(e){x.enqueueEvents(e),x.processEventQueue(!1)}function s(e,t){D=e,R=t,D.attachEvent("onchange",a)}function u(){D&&(D.detachEvent("onchange",a),D=null,R=null)}function l(e,t){var n=M.updateValueIfChanged(e),r=t.simulated===!0&&F._allowSimulatedPassThrough;if(n||r)return e}function c(e,t){if("topChange"===e)return t}function f(e,t,n){"topFocus"===e?(u(),s(t,n)):"topBlur"===e&&u()}function d(e,t){D=e,R=t,D.attachEvent("onpropertychange",h)}function p(){D&&(D.detachEvent("onpropertychange",h),D=null,R=null)}function h(e){"value"===e.propertyName&&l(R,e)&&a(e)}function m(e,t,n){"topFocus"===e?(p(),d(t,n)):"topBlur"===e&&p()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return l(R,n)}function y(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t,n){if("topClick"===e)return l(t,n)}function b(e,t,n){if("topInput"===e||"topChange"===e)return l(t,n)}function _(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var x=n(82),S=n(83),w=n(25),O=n(17),k=n(41),E=n(46),M=n(239),T=n(153),P=n(154),C=n(241),A={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},D=null,R=null,N=!1;w.canUseDOM&&(N=P("change")&&(!document.documentMode||document.documentMode>8));var I=!1;w.canUseDOM&&(I=P("input")&&(!("documentMode"in document)||document.documentMode>9));var F={eventTypes:A,_allowSimulatedPassThrough:!0,_isInputEventSupported:I,extractEvents:function(e,t,n,a){var o,s,u=t?O.getNodeFromInstance(t):window;if(i(u)?N?o=c:s=f:C(u)?I?o=b:(o=g,s=m):y(u)&&(o=v),o){var l=o(e,t,n);if(l){var d=r(l,n,a);return d}}s&&s(e,u,t),"topBlur"===e&&_(t,u)}};e.exports=F},function(e,t,n){"use strict";var r=n(10),i=n(66),a=n(25),o=n(386),s=n(34),u=(n(4),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(a.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=o(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=u},function(e,t){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=n},function(e,t,n){"use strict";var r=n(83),i=n(17),a=n(107),o={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:o,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,f;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;f=d?i.getClosestInstanceFromNode(d):null}else c=null,f=t;if(c===f)return null;var p=null==c?u:i.getNodeFromInstance(c),h=null==f?u:i.getNodeFromInstance(f),m=a.getPooled(o.mouseLeave,c,n,s);m.type="mouseleave",m.target=p,m.relatedTarget=h;var g=a.getPooled(o.mouseEnter,f,n,s);return g.type="mouseenter",g.target=h,g.relatedTarget=p,r.accumulateEnterLeaveDispatches(m,g,c,f),[m,g]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(20),a=n(53),o=n(238);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[o()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(67),i=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,o=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,as:0,async:a,autoComplete:0,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|a,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,coords:0,crossOrigin:0,data:0,dateTime:0,default:a,defer:a,dir:0,disabled:a,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|a,muted:i|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,playsInline:a,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,referrerPolicy:0,rel:0,required:a,reversed:a,role:0,rows:s,rowSpan:o,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:i|a,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:o,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||e.hasAttribute("value")===!1?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}};e.exports=l},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=a(t,!0))}var i=n(68),a=n(240),o=(n(145),n(155)),s=n(243);n(9);"undefined"!=typeof t&&t.env,1;var u={instantiateChildren:function(e,t,n,i){if(null==e)return null;var a={};return s(e,r,a),a},updateChildren:function(e,t,n,r,s,u,l,c,f){if(t||e){var d,p;for(d in t)if(t.hasOwnProperty(d)){p=e&&e[d];var h=p&&p._currentElement,m=t[d];if(null!=p&&o(h,m))i.receiveComponent(p,m,s,c),t[d]=p;else{p&&(r[d]=i.getHostNode(p),i.unmountComponent(p,!1));var g=a(m,!0);t[d]=g;var y=i.mountComponent(g,s,u,l,c,f);n.push(y)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(p=e[d],r[d]=i.getHostNode(p),i.unmountComponent(p,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}};e.exports=u}).call(t,n(219))},function(e,t,n){"use strict";var r=n(141),i=n(480),a={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=a},function(e,t,n){"use strict";function r(e){}function i(e,t){}function a(e){return!(!e.prototype||!e.prototype.isReactComponent)}function o(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=n(10),u=n(20),l=n(71),c=n(147),f=n(47),d=n(148),p=n(84),h=(n(36),n(233)),m=n(68),g=n(103),y=(n(4),n(132)),v=n(155),b=(n(9),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=p.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var _=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var c,f=this._currentElement.props,d=this._processContext(u),h=this._currentElement.type,m=e.getUpdateQueue(),y=a(h),v=this._constructComponent(y,f,d,m);y||null!=v&&null!=v.render?o(h)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(c=v,i(h,c),null===v||v===!1||l.isValidElement(v)?void 0:s("105",h.displayName||h.name||"Component"),v=new r(h),this._compositeType=b.StatelessFunctional);v.props=f,v.context=d,v.refs=g,v.updater=m,this._instance=v,p.set(v,this);var x=v.state;void 0===x&&(v.state=x=null),"object"!=typeof x||Array.isArray(x)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var S;return S=v.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,n,e,u):this.performInitialMount(c,t,n,e,u),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),S},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var a,o=r.checkpoint();try{a=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(o),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),o=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(o),a=this.performInitialMount(e,t,n,r,i)}return a},performInitialMount:function(e,t,n,r,i){var a=this._instance,o=0;a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,r,t,n,this._processChildContext(i),o);return l},getHostNode:function(){return m.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";d.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,p.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in t)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?m.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var a=this._instance;null==a?s("136",this.getName()||"ReactCompositeComponent"):void 0;var o,u=!1;this._context===i?o=a.context:(o=this._processContext(i),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&a.componentWillReceiveProps&&a.componentWillReceiveProps(c,o);var f=this._processPendingState(c,o),d=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?d=a.shouldComponentUpdate(c,f,o):this._compositeType===b.PureClass&&(d=!y(l,c)||!y(a.state,f))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,f,o,e,i)):(this._currentElement=n,this._context=i,a.props=c,a.state=f,a.context=o)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var a=u({},i?r[0]:n.state),o=i?1:0;o<r.length;o++){var s=r[o];u(a,"function"==typeof s?s.call(n,a,e,t):s)}return a},_performComponentUpdate:function(e,t,n,r,i,a){var o,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(o=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(i,a),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,o,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),a=0;if(v(r,i))m.receiveComponent(n,i,e,this._processChildContext(t));else{var o=m.getHostNode(n);m.unmountComponent(n,!1);var s=h.getType(i);this._renderedNodeType=s;var u=this._instantiateReactComponent(i,s!==h.EMPTY);this._renderedComponent=u;var l=m.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),a);this._replaceNodeWithMarkup(o,l,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){f.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||l.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),i=n.refs===g?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=x},function(e,t,n){"use strict";var r=n(17),i=n(488),a=n(232),o=n(68),s=n(41),u=n(501),l=n(517),c=n(237),f=n(524);n(9);i.inject();var d={findDOMNode:l,render:a.render,unmountComponentAtNode:a.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:f};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:a,Reconciler:o});e.exports=d},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?g("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?g("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&W in t.dangerouslySetInnerHTML?void 0:g("61")),null!=t.style&&"object"!=typeof t.style?g("62",r(e)):void 0)}function a(e,t,n,r){if(!(r instanceof N)){var i=e._hostContainerInfo,a=i._node&&i._node.nodeType===H,s=a?i._node:i._ownerDocument;$(t,s),r.getReactMountReady().enqueue(o,{inst:e,registrationName:t,listener:n})}}function o(){var e=this;O.putListener(e.inst,e.registrationName,e.listener);
}function s(){var e=this;P.postMountWrapper(e)}function u(){var e=this;D.postMountWrapper(e)}function l(){var e=this;C.postMountWrapper(e)}function c(){F.track(this)}function f(){var e=this;e._rootNodeID?void 0:g("63");var t=z(e);switch(t?void 0:g("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in G)G.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(n,G[n],t));break;case"source":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent("topError","error",t),E.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent("topReset","reset",t),E.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){A.postUpdateWrapper(this)}function p(e){Z.call(J,e)||(K.test(e)?void 0:g("65",e),J[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;p(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var g=n(10),y=n(20),v=n(463),b=n(465),_=n(66),x=n(142),S=n(67),w=n(225),O=n(82),k=n(143),E=n(106),M=n(226),T=n(17),P=n(481),C=n(482),A=n(227),D=n(485),R=(n(36),n(494)),N=n(499),I=(n(34),n(109)),F=(n(4),n(154),n(132),n(239)),L=(n(156),n(9),M),j=O.deleteListener,z=T.getNodeFromInstance,$=E.listenTo,U=k.registrationNameModules,B={string:!0,number:!0},q="style",W="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},H=11,G={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},Q=y({menuitem:!0},Y),K=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,J={},Z={}.hasOwnProperty,ee=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=ee++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var a=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(f,this);break;case"input":P.mountWrapper(this,a,t),a=P.getHostProps(this,a),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(f,this);break;case"option":C.mountWrapper(this,a,t),a=C.getHostProps(this,a);break;case"select":A.mountWrapper(this,a,t),a=A.getHostProps(this,a),e.getReactMountReady().enqueue(f,this);break;case"textarea":D.mountWrapper(this,a,t),a=D.getHostProps(this,a),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(f,this)}i(this,a);var o,d;null!=t?(o=t._namespaceURI,d=t._tag):n._tag&&(o=n._namespaceURI,d=n._tag),(null==o||o===x.svg&&"foreignobject"===d)&&(o=x.html),o===x.html&&("svg"===this._tag?o=x.svg:"math"===this._tag&&(o=x.mathml)),this._namespaceURI=o;var p;if(e.useCreateElement){var h,m=n._ownerDocument;if(o===x.html)if("script"===this._tag){var g=m.createElement("div"),y=this._currentElement.type;g.innerHTML="<"+y+"></"+y+">",h=g.removeChild(g.firstChild)}else h=a.is?m.createElement(this._currentElement.type,a.is):m.createElement(this._currentElement.type);else h=m.createElementNS(o,this._currentElement.type);T.precacheNode(this,h),this._flags|=L.hasCachedChildNodes,this._hostParent||w.setAttributeForRoot(h),this._updateDOMProperties(null,a,e);var b=_(h);this._createInitialChildren(e,a,r,b),p=b}else{var S=this._createOpenTagMarkupAndPutListeners(e,a),O=this._createContentMarkup(e,a,r);p=!O&&Y[this._tag]?S+"/>":S+">"+O+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"select":a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"button":a.autoFocus&&e.getReactMountReady().enqueue(v.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return p},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(U.hasOwnProperty(r))i&&a(this,r,i,e);else{r===q&&(i&&(i=this._previousStyleCopy=y({},t.style)),i=b.createMarkupForStyles(i,this));var o=null;null!=this._tag&&h(this._tag,t)?V.hasOwnProperty(r)||(o=w.createMarkupForCustomAttribute(r,i)):o=w.createMarkupForProperty(r,i),o&&(n+=" "+o)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+w.createMarkupForRoot()),n+=" "+w.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var a=B[typeof t.children]?t.children:null,o=null!=a?null:t.children;if(null!=a)r=I(a);else if(null!=o){var s=this.mountChildren(o,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&_.queueHTML(r,i.__html);else{var a=B[typeof t.children]?t.children:null,o=null!=a?null:t.children;if(null!=a)""!==a&&_.queueText(r,a);else if(null!=o)for(var s=this.mountChildren(o,e,n),u=0;u<s.length;u++)_.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var a=t.props,o=this._currentElement.props;switch(this._tag){case"input":a=P.getHostProps(this,a),o=P.getHostProps(this,o);break;case"option":a=C.getHostProps(this,a),o=C.getHostProps(this,o);break;case"select":a=A.getHostProps(this,a),o=A.getHostProps(this,o);break;case"textarea":a=D.getHostProps(this,a),o=D.getHostProps(this,o)}switch(i(this,o),this._updateDOMProperties(a,o,e),this._updateDOMChildren(a,o,e,r),this._tag){case"input":P.updateWrapper(this);break;case"textarea":D.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,i,o;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(o=o||{},o[i]="");this._previousStyleCopy=null}else U.hasOwnProperty(r)?e[r]&&j(this,r):h(this._tag,e)?V.hasOwnProperty(r)||w.deleteValueForAttribute(z(this),r):(S.properties[r]||S.isCustomAttribute(r))&&w.deleteValueForProperty(z(this),r);for(r in t){var u=t[r],l=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===q)if(u?u=this._previousStyleCopy=y({},u):this._previousStyleCopy=null,l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(o=o||{},o[i]=u[i])}else o=u;else if(U.hasOwnProperty(r))u?a(this,r,u,n):l&&j(this,r);else if(h(this._tag,t))V.hasOwnProperty(r)||w.setValueForAttribute(z(this),r,u);else if(S.properties[r]||S.isCustomAttribute(r)){var c=z(this);null!=u?w.setValueForProperty(c,r,u):w.deleteValueForProperty(c,r)}}o&&b.setValueForStyles(z(this),o,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,a=B[typeof t.children]?t.children:null,o=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,l=null!=a?null:t.children,c=null!=i||null!=o,f=null!=a||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!f&&this.updateTextContent(""),null!=a?i!==a&&this.updateTextContent(""+a):null!=s?o!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return z(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":F.stopTracking(this);break;case"html":case"head":case"body":g("66",this._tag)}this.unmountChildren(e),T.uncacheNode(this),O.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return z(this)}},y(m.prototype,m.Mixin,R.Mixin),e.exports=m},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(156),9);e.exports=r},function(e,t,n){"use strict";var r=n(20),i=n(66),a=n(17),o=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(o.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++;this._domID=o,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return a.precacheNode(this,l),i(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return a.getNodeFromInstance(this)},unmountComponent:function(){a.uncacheNode(this)}}),e.exports=o},function(e,t){"use strict";var n={useCreateElement:!0,useFiber:!1};e.exports=n},function(e,t,n){"use strict";var r=n(141),i=n(17),a={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=a},function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function i(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function a(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);f.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var a=c.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),d=0;d<u.length;d++){var p=u[d];if(p!==a&&p.form===a.form){var h=c.getInstanceFromNode(p);h?void 0:o("90"),f.asap(r,h)}}}return n}var o=n(10),s=n(20),u=n(225),l=n(146),c=n(17),f=n(41),d=(n(4),n(9),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t),i=s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:a.bind(e),controlled:i(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),i=l.getValue(t);if(null!=i)if(0===i&&""===r.value)r.value="0";else if("number"===t.type){var a=parseFloat(r.value,10)||0;(i!=a||i==a&&r.value!=i)&&(r.value=""+i)}else r.value!==""+i&&(r.value=""+i);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=d},function(e,t,n){"use strict";function r(e){var t="";return a.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var i=n(20),a=n(71),o=n(17),s=n(227),u=(n(9),!1),l={mountWrapper:function(e,t,n){var i=null;if(null!=n){var a=n;"optgroup"===a._tag&&(a=a._hostParent),null!=a&&"select"===a._tag&&(i=s.getSelectValueContext(a))}var o=null;if(null!=i){var u;if(u=null!=t.value?t.value+"":r(t.children),o=!1,Array.isArray(i)){for(var l=0;l<i.length;l++)if(""+i[l]===u){o=!0;break}}else o=""+i===u}e._wrapperState={selected:o}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var a=r(t.children);return a&&(n.children=a),n}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var a=i.text.length,o=a+r;return{start:a,end:o}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,a=t.focusNode,o=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(u){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:s.toString().length,f=s.cloneRange();f.selectNodeContents(e),f.setEnd(s.startContainer,s.startOffset);var d=r(f.startContainer,f.startOffset,f.endContainer,f.endOffset),p=d?0:f.toString().length,h=p+c,m=document.createRange();m.setStart(n,i),m.setEnd(a,o);var g=m.collapsed;return{start:g?h:p,end:g?p:h}}function o(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),a=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>a){var o=a;a=i,i=o}var s=l(e,i),u=l(e,a);if(s&&u){var f=document.createRange();f.setStart(s.node,s.offset),n.removeAllRanges(),i>a?(n.addRange(f),n.extend(u.node,u.offset)):(f.setEnd(u.node,u.offset),n.addRange(f))}}}var u=n(25),l=n(521),c=n(238),f=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:f?i:a,setOffsets:f?o:s};e.exports=d},function(e,t,n){"use strict";var r=n(10),i=n(20),a=n(141),o=n(66),s=n(17),u=n(109),l=(n(4),n(156),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(l.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,a=" react-text: "+i+" ",l=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,f=c.createComment(a),d=c.createComment(l),p=o(c.createDocumentFragment());return o.queueChild(p,o(f)),this._stringText&&o.queueChild(p,o(c.createTextNode(this._stringText))),o.queueChild(p,o(d)),s.precacheNode(this,f),this._closingComment=d,p}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+a+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();a.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var a=n(10),o=n(20),s=n(146),u=n(17),l=n(41),c=(n(4),n(9),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?a("91"):void 0;var n=o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var o=t.defaultValue,u=t.children;null!=u&&(null!=o?a("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:a("93"),u=u[0]),o=""+u),null==o&&(o=""),r=o}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,a=t;a;a=a._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var o=n;o--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function a(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function o(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,a){for(var o=e&&t?r(e,t):null,s=[];e&&e!==o;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==o;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",i);for(l=u.length;l-- >0;)n(u[l],"captured",a)}var u=n(10);n(4);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:a,traverseTwoPhase:o,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(20),a=n(41),o=n(108),s=n(34),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:a.flushBatchedUpdates.bind(a)},c=[l,u];i(r.prototype,o,{getTransactionWrappers:function(){return c}});var f=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,a){var o=d.isBatchingUpdates;return d.isBatchingUpdates=!0,o?e(t,n,r,i,a):f.perform(e,null,t,n,r,i,a)}};e.exports=d},function(e,t,n){"use strict";function r(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginUtils.injectComponentTree(d),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:u,ChangeEventPlugin:o,SelectEventPlugin:x,BeforeInputEventPlugin:a}),v.HostComponent.injectGenericComponentClass(f),v.HostComponent.injectTextComponentClass(m),v.DOMProperty.injectDOMPropertyConfig(i),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new p(e)}),v.Updates.injectReconcileTransaction(b),v.Updates.injectBatchingStrategy(g),v.Component.injectEnvironment(c))}var i=n(462),a=n(464),o=n(466),s=n(468),u=n(469),l=n(471),c=n(473),f=n(476),d=n(17),p=n(478),h=n(486),m=n(484),g=n(487),y=n(491),v=n(492),b=n(497),_=n(502),x=n(503),S=n(504),w=!1;e.exports={inject:r}},261,function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(82),a={handleTopLevel:function(e,t,n,a){var o=i.extractEvents(e,t,n,a);r(o)}};e.exports=a},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=f.getNodeFromInstance(e),n=t.parentNode;return f.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){var t=p(e.nativeEvent),n=f.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var a=0;a<e.ancestors.length;a++)n=e.ancestors[a],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,p(e.nativeEvent))}function o(e){var t=h(window);e(t)}var s=n(20),u=n(206),l=n(25),c=n(53),f=n(17),d=n(41),p=n(153),h=n(388);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=o.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=i.getPooled(e,t);try{d.batchedUpdates(a,n)}finally{i.release(n)}}}};e.exports=m},function(e,t,n){"use strict";var r=n(67),i=n(82),a=n(144),o=n(147),s=n(228),u=n(106),l=n(230),c=n(41),f={Component:o.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:a.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};e.exports=f},function(e,t,n){"use strict";var r=n(515),i=/\/?>/,a=/^<\!\-\-/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return a.test(e)?e:e.replace(i," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function a(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function o(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){f.processChildrenUpdates(e,t)}var c=n(10),f=n(147),d=(n(84),n(36),n(47),n(68)),p=n(472),h=(n(34),n(518)),m=(n(4),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return p.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,a){var o,s=0;return o=h(t,s),p.updateChildren(e,o,n,r,i,this,this._hostContainerInfo,a,s),o},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],a=0;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o],u=0,l=d.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=a++,i.push(l)}return i},updateTextContent:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;p.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[o(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},a=[],o=this._reconcilerUpdateChildren(r,e,a,i,t,n);if(o||r){var s,c=null,f=0,p=0,h=0,m=null;for(s in o)if(o.hasOwnProperty(s)){var g=r&&r[s],y=o[s];g===y?(c=u(c,this.moveChild(g,m,f,p)),p=Math.max(g._mountIndex,p),g._mountIndex=f):(g&&(p=Math.max(g._mountIndex,p)),c=u(c,this._mountChildAtIndex(y,a[h],m,f,t,n)),h++),f++,m=d.getHostNode(y)}for(s in i)i.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],i[s])));c&&l(this,c),this._renderedChildren=o}},unmountChildren:function(e){var t=this._renderedChildren;p.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return a(e,t)},_mountChildAtIndex:function(e,t,n,r,i,a){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=m},function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i=n(10),a=(n(4),{addComponentAsRefTo:function(e,t,n){r(n)?void 0:i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)?void 0:i("120");var a=n.getPublicInstance();a&&a.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=a},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.useCreateElement=e}var i=n(20),a=n(224),o=n(53),s=n(106),u=n(231),l=(n(36),n(108)),c=n(149),f={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[f,d,p],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,l,m),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=n(495),o={};o.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,a=null;return null!==t&&"object"==typeof t&&(i=t.ref,a=t._owner),n!==i||"string"==typeof i&&a!==r},o.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=o},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(20),a=n(53),o=n(108),s=(n(36),n(500)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,o,c),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){}var a=n(149),o=(n(9),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&a.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?a.enqueueForceUpdate(e):i(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?a.enqueueReplaceState(e,t):i(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?a.enqueueSetState(e,t):i(e,"setState")},e}());e.exports=o},function(e,t){"use strict";e.exports="15.6.1"},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",
string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){i.Properties[e]=0,r[e]&&(i.DOMAttributeNames[e]=r[e])}),e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(v||null==m||m!==c())return null;var n=r(m);if(!y||!d(y,n)){y=n;var i=l.getPooled(h.select,g,e,t);return i.type="select",i.target=m,a.accumulateTwoPhaseDispatches(i),i}return null}var a=n(83),o=n(25),s=n(17),u=n(231),l=n(46),c=n(208),f=n(241),d=n(132),p=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,g=null,y=null,v=!1,b=!1,_={eventTypes:h,extractEvents:function(e,t,n,r){if(!b)return null;var a=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(f(a)||"true"===a.contentEditable)&&(m=a,g=t,y=null);break;case"topBlur":m=null,g=null,y=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,i(n,r);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(b=!0)}};e.exports=_},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var a=n(10),o=n(206),s=n(83),u=n(17),l=n(505),c=n(506),f=n(46),d=n(509),p=n(511),h=n(107),m=n(508),g=n(512),y=n(513),v=n(85),b=n(514),_=n(34),x=n(151),S=(n(4),{}),w={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};S[e]=i,w[r]=i});var O={},k={eventTypes:S,extractEvents:function(e,t,n,r){var i=w[e];if(!i)return null;var o;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":o=f;break;case"topKeyPress":if(0===x(n))return null;case"topKeyDown":case"topKeyUp":o=p;break;case"topBlur":case"topFocus":o=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":o=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":o=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":o=g;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":o=l;break;case"topTransitionEnd":o=y;break;case"topScroll":o=v;break;case"topWheel":o=b;break;case"topCopy":case"topCut":case"topPaste":o=c}o?void 0:a("86",e);var u=o.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var a=r(e),s=u.getNodeFromInstance(e);O[a]||(O[a]=o.listen(s,"click",_))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);O[n].remove(),delete O[n]}}};e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a={data:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(107),a={dataTransfer:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(85),a={relatedTarget:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a={data:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(85),a=n(151),o=n(519),s=n(152),u={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(85),a=n(152),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(46),a={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(107),a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,a),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,a=e.length,o=a&-4;i<o;){for(var s=Math.min(i+4096,o);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<a;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var o=isNaN(t);if(r||o||0===t||a.hasOwnProperty(e)&&a[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(223),a=(n(9),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);return t?(t=s(t),t?a.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=n(10),a=(n(47),n(17)),o=n(84),s=n(237);n(4),n(9);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,a=void 0===i[n];a&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return a(e,r,n),n}var a=(n(145),n(243));n(9);"undefined"!=typeof t&&t.env,1,e.exports=i}).call(t,n(219))},function(e,t,n){"use strict";function r(e){if(e.key){var t=a[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?o[e.keyCode]||"Unidentified":""}var i=n(151),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),a=0,o=0;i;){if(3===i.nodeType){if(o=a+i.textContent.length,a<=t&&o>=t)return{node:i,offset:t-a};a=o}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!o[e])return e;var t=o[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var a=n(25),o={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};a.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete o.animationend.animation,delete o.animationiteration.animation,delete o.animationstart.animation),"TransitionEvent"in window||delete o.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(109);e.exports=r},function(e,t,n){"use strict";var r=n(232);e.exports=r.renderSubtreeIntoContainer},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(140),f=r(c),d=n(19),p=r(d),h={ESCAPE:27},m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={active:!1},e.handleWrapperClick=e.handleWrapperClick.bind(e),e.closePortal=e.closePortal.bind(e),e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e),e.handleKeydown=e.handleKeydown.bind(e),e.portal=null,e.node=null,e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.addEventListener("mouseup",this.handleOutsideMouseClick),document.addEventListener("touchstart",this.handleOutsideMouseClick)),this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function(e){"undefined"!=typeof e.isOpened&&(e.isOpened&&(this.state.active?this.renderPortal(e):this.openPortal(e)),!e.isOpened&&this.state.active&&this.closePortal()),"undefined"==typeof e.isOpened&&this.state.active&&this.renderPortal(e)}},{key:"componentWillUnmount",value:function(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown),this.props.closeOnOutsideClick&&(document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)),this.closePortal(!0)}},{key:"handleWrapperClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.active||this.openPortal()}},{key:"openPortal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:!0}),this.renderPortal(e),this.props.onOpen(this.node)}},{key:"closePortal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){e.node&&(f.default.unmountComponentAtNode(e.node),document.body.removeChild(e.node)),e.portal=null,e.node=null,t!==!0&&e.setState({active:!1})};this.state.active&&(this.props.beforeClose?this.props.beforeClose(this.node,n):n(),this.props.onClose())}},{key:"handleOutsideMouseClick",value:function(e){if(this.state.active){var t=(0,c.findDOMNode)(this.portal);t.contains(e.target)||e.button&&0!==e.button||(e.stopPropagation(),this.closePortal())}}},{key:"handleKeydown",value:function(e){e.keyCode===h.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function(e){this.node||(this.node=document.createElement("div"),document.body.appendChild(this.node));var t=e.children;"function"==typeof e.children.type&&(t=l.default.cloneElement(e.children,{closePortal:this.closePortal})),this.portal=f.default.unstable_renderSubtreeIntoContainer(this,t,this.node,this.props.onUpdate)}},{key:"render",value:function(){return this.props.openByClickOn?l.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick}):null}}]),t}(l.default.Component);t.default=m,m.propTypes={children:p.default.element.isRequired,openByClickOn:p.default.element,closeOnEsc:p.default.bool,closeOnOutsideClick:p.default.bool,isOpened:p.default.bool,onOpen:p.default.func,onClose:p.default.func,beforeClose:p.default.func,onUpdate:p.default.func},m.defaultProps={onOpen:function(){},onClose:function(){},onUpdate:function(){}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",s=function(e){function n(r,o){i(this,n);var s=a(this,e.call(this,r,o));return s[t]=r.store,s}return o(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:f.storeShape.isRequired,children:c.default.element.isRequired},s.childContextTypes=(e={},e[t]=f.storeShape.isRequired,e[r]=f.subscriptionShape,e),s.displayName="Provider",s}t.__esModule=!0,t.createProvider=s;var u=n(14),l=n(19),c=r(l),f=n(247),d=n(157);r(d);t.default=s()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function o(e,t){return e===t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?c.default:t,r=e.mapStateToPropsFactories,s=void 0===r?g.default:r,l=e.mapDispatchToPropsFactories,f=void 0===l?h.default:l,p=e.mergePropsFactories,m=void 0===p?v.default:p,y=e.selectorFactory,b=void 0===y?_.default:y;return function(e,t,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=l.pure,p=void 0===c||c,h=l.areStatesEqual,g=void 0===h?o:h,y=l.areOwnPropsEqual,v=void 0===y?d.default:y,_=l.areStatePropsEqual,x=void 0===_?d.default:_,S=l.areMergedPropsEqual,w=void 0===S?d.default:S,O=i(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=a(e,s,"mapStateToProps"),E=a(t,f,"mapDispatchToProps"),M=a(r,m,"mergeProps");return n(b,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:k,initMapDispatchToProps:E,initMergeProps:M,pure:p,areStatesEqual:g,areOwnPropsEqual:v,areStatePropsEqual:x,areMergedPropsEqual:w},O))}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var l=n(245),c=r(l),f=n(534),d=r(f),p=n(528),h=r(p),m=n(529),g=r(m),y=n(530),v=r(y),b=n(531),_=r(b);t.default=s()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function a(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,o.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=a;var o=n(165),s=n(246);t.default=[r,i,a]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,a.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var a=n(246);t.default=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return u({},n,e,t)}function a(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,a=!1,o=void 0;return function(t,n,s){var u=e(t,n,s);return a?r&&i(u,o)||(o=u):(a=!0,o=u),o}}}function o(e){return"function"==typeof e?a(e):void 0}function s(e){return e?void 0:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=a,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=s;var l=n(248);r(l);t.default=[o,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function o(e,t,n,r,i){function a(i,a){return h=i,m=a,g=e(h,m),y=t(r,m),v=n(g,y,m),p=!0,v}function o(){return g=e(h,m),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function s(){return e.dependsOnOwnProps&&(g=e(h,m)),t.dependsOnOwnProps&&(y=t(r,m)),v=n(g,y,m)}function u(){var t=e(h,m),r=!d(t,g);return g=t,r&&(v=n(g,y,m)),v}function l(e,t){var n=!f(t,m),r=!c(e,h);return h=e,m=t,n&&r?o():n?s():r?u():v}var c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1,h=void 0,m=void 0,g=void 0,y=void 0,v=void 0;return function(e,t){return p?l(e,t):a(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,u=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,u),c=r(e,u),f=s(e,u),d=u.pure?o:a;return d(l,c,f,e,u)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=a,t.pureFinalPropsSelectorFactory=o,t.default=s;var u=n(532);r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function a(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t.default=a;var o=n(157),s=r(o)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,a={notify:function(){}},o=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=a}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}();t.default=o},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(!i.call(t,r[o])||!n(e[r[o]],t[r[o]]))return!1;return!0}t.__esModule=!0,t.default=r;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.routerMiddleware=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.routerReducer=t.LOCATION_CHANGE=t.syncHistoryWithStore=void 0;var i=n(250);Object.defineProperty(t,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(t,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var a=n(249);Object.defineProperty(t,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return a.CALL_HISTORY_METHOD}}),Object.defineProperty(t,"push",{enumerable:!0,get:function(){return a.push}}),Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return a.replace}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return a.go}}),Object.defineProperty(t,"goBack",{enumerable:!0,get:function(){return a.goBack}}),Object.defineProperty(t,"goForward",{enumerable:!0,get:function(){return a.goForward}}),Object.defineProperty(t,"routerActions",{enumerable:!0,get:function(){return a.routerActions}});var o=n(537),s=r(o),u=n(536),l=r(u);t.syncHistoryWithStore=s.default,t.routerMiddleware=l.default},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){return function(t){return function(n){if(n.type!==a.CALL_HISTORY_METHOD)return t(n);var i=n.payload,o=i.method,s=i.args;e[o].apply(e,r(s))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(249)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?o:r,u=n.adjustUrlOnReplay,l=void 0===u||u;if("undefined"==typeof s(t.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,m=function(e){var n=s(t.getState());return n.locationBeforeTransitions||(e?c:void 0)};if(c=m(),l){var g=function(){var t=m(!0);h!==t&&c!==t&&(f=!0,h=t,e.transitionTo(i({},t,{action:"PUSH"})),f=!1)};d=t.subscribe(g),g()}var y=function(e){f||(h=e,!c&&(c=e,m())||t.dispatch({type:a.LOCATION_CHANGE,payload:e}))};return p=e.listen(y),e.getCurrentLocation&&y(e.getCurrentLocation()),i({},e,{listen:function(n){var r=m(!0),i=!1,a=t.subscribe(function(){var e=m(!0);e!==r&&(r=e,i||n(r))});return e.getCurrentLocation||n(r),function(){i=!0,a()}},unsubscribe:function(){l&&d(),p()}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var a=n(250),o=function(e){return e.routing}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),o=r(a),s=n(44),u=r(s),l=n(251),c=r(l),f=(0,u.default)({displayName:"IndexLink",render:function(){return o.default.createElement(c.default,i({},this.props,{onlyActiveOnIndex:!0}))}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(44),a=r(i),o=n(19),s=n(70),u=(r(s),n(22)),l=r(u),c=n(253),f=r(c),d=n(86),p=(0,a.default)({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=f.default.createRouteFromReactElement(e))}},propTypes:{to:o.string.isRequired,query:o.object,state:o.object,onEnter:d.falsy,children:d.falsy},render:function(){(0,l.default)(!1)}});t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(44),a=r(i),o=n(19),s=n(70),u=(r(s),n(22)),l=r(u),c=n(51),f=n(86),d=(0,a.default)({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,c.createRouteFromReactElement)(e))}},propTypes:{path:f.falsy,component:f.component,components:f.components,getComponent:o.func,getComponents:o.func},render:function(){(0,l.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(44),a=r(i),o=n(19),s=n(22),u=r(s),l=n(51),c=n(86),f=(0,a.default)({displayName:"Route",statics:{createRouteFromReactElement:l.createRouteFromReactElement},propTypes:{path:o.string,component:c.component,components:c.components,getComponent:o.func,getComponents:o.func},render:function(){(0,u.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(22),s=r(o),u=n(14),l=r(u),c=n(44),f=r(c),d=n(19),p=n(257),h=r(p),m=n(86),g=n(161),y=r(g),v=n(51),b=n(254),_=n(70),x=(r(_),{history:d.object,children:m.routes,routes:m.routes,render:d.func,createElement:d.func,onError:d.func,onUpdate:d.func,matchContext:d.object}),S=(0,f.default)({displayName:"Router",propTypes:x,getDefaultProps:function(){return{render:function(e){return l.default.createElement(y.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},createRouterObject:function(e){var t=this.props.matchContext;if(t)return t.router;var n=this.props.history;return(0,b.createRouterObject)(n,this.transitionManager,e)},createTransitionManager:function(){var e=this.props.matchContext;if(e)return e.transitionManager;var t=this.props.history,n=this.props,r=n.routes,i=n.children;return t.getCurrentLocation?void 0:(0,s.default)(!1),(0,h.default)(t,(0,v.createRoutes)(r||i))},componentWillMount:function(){var e=this;this.transitionManager=this.createTransitionManager(),this.router=this.createRouterObject(this.state),this._unlisten=this.transitionManager.listen(function(t,n){t?e.handleError(t):((0,b.assignRouterState)(e.router,n),e.setState(n,e.props.onUpdate))})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,s=t.components,u=this.props,l=u.createElement,e=u.render,c=i(u,["createElement","render"]);return null==n?null:(Object.keys(x).forEach(function(e){return delete c[e]}),e(a({},c,{router:this.router,location:n,routes:r,params:o,components:s,createElement:l})))}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){function e(e,t,n,r){var i=e.length<n,a=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(e.apply(t,r),i){var o=r[r.length-1];o()}};return r.add(a),a}function t(t){return t.reduce(function(t,n){return n.onEnter&&t.push(e(n.onEnter,n,3,l)),t},[])}function n(t){return t.reduce(function(t,n){return n.onChange&&t.push(e(n.onChange,n,4,c)),t},[])}function r(e,t,n){function r(e){i=e}if(!e)return void n();var i=void 0;(0,a.loopAsync)(e,function(e,n,a){t(e,r,function(e){e||i?a(e,i):n()})},n)}function i(e,n,i){l.clear();
var a=t(e);return r(a.length,function(e,t,r){var i=function(){l.has(a[e])&&(r.apply(void 0,arguments),l.remove(a[e]))};a[e](n,t,i)},i)}function s(e,t,i,a){c.clear();var o=n(e);return r(o.length,function(e,n,r){var a=function(){c.has(o[e])&&(r.apply(void 0,arguments),c.remove(o[e]))};o[e](t,i,n,a)},a)}function u(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}var l=new o,c=new o;return{runEnterHooks:i,runChangeHooks:s,runLeaveHooks:u}}t.__esModule=!0,t.default=i;var a=n(158),o=function e(){var t=this;r(this,e),this.hooks=[],this.add=function(e){return t.hooks.push(e)},this.remove=function(e){return t.hooks=t.hooks.filter(function(t){return t!==e})},this.has=function(e){return t.hooks.indexOf(e)!==-1},this.clear=function(){return t.hooks=[]}};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(14),o=r(a),s=n(161),u=r(s),l=n(70);r(l);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.createElement;return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e)},o.default.createElement(u.default,i({},e,{createElement:l(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(397),a=r(i),o=n(256),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,a.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,a=void 0,o=void 0,s=void 0;if(n){var u=!1;a=n.filter(function(n){if(u)return!0;var a=i.indexOf(n)===-1||r(n,e,t);return a&&(u=!0),a}),a.reverse(),s=[],o=[],i.forEach(function(e){var t=n.indexOf(e)===-1,r=a.indexOf(e)!==-1;t||r?s.push(e):o.push(e)})}else a=[],o=[],s=i;return{leaveRoutes:a,changeRoutes:o,enterRoutes:s}}t.__esModule=!0;var a=n(69);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(r){var i=r.call(t,e,n);(0,o.isPromise)(i)&&i.then(function(e){return n(null,e)},n)}else n()}function i(e,t){(0,a.mapAsync)(e.routes,function(t,n,i){r(e,t,i)},t)}t.__esModule=!0;var a=n(158),o=n(252);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,i.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var i=n(69);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(398),a=r(i),o=n(256),s=r(o);t.default=(0,s.default)(a.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":u(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function a(e,t,n){for(var r=e,i=[],a=[],o=0,s=t.length;o<s;++o){var u=t[o],c=u.path||"";if("/"===c.charAt(0)&&(r=e,i=[],a=[]),null!==r&&c){var f=(0,l.matchPattern)(c,r);if(f?(r=f.remainingPathname,i=[].concat(i,f.paramNames),a=[].concat(a,f.paramValues)):r=null,""===r)return i.every(function(e,t){return String(a[t])===String(n[e])})}}return!1}function o(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var u=e.pathname,l=e.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!t&&a(u,r,s))&&o(l,n.query))}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=s;var l=n(69);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=e.history,r=e.routes,a=e.location,u=i(e,["history","routes","location"]);n||a?void 0:(0,l.default)(!1),n=n?n:(0,f.default)(u);var c=(0,p.default)(n,(0,h.createRoutes)(r));a=a?n.createLocation(a):n.getCurrentLocation(),c.match(a,function(e,r,i){var a=void 0;if(i){var u=(0,m.createRouterObject)(n,c,i);a=o({},i,{router:u,matchContext:{transitionManager:c,router:u}})}t(e,r&&n.createLocation(r,s.REPLACE),a)})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(104),u=n(22),l=r(u),c=n(255),f=r(c),d=n(257),p=r(d),h=n(51),m=n(254);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var a=!0,o=void 0,u={location:t,params:s(n,r)},l=e.getChildRoutes(u,function(e,t){return t=!e&&(0,m.createRoutes)(t),a?void(o=[e,t]):void i(e,t)});return(0,d.isPromise)(l)&&l.then(function(e){return i(null,(0,m.createRoutes)(e))},i),a=!1,o}function a(e,t,n,r,o){if(e.indexRoute)o(null,e.indexRoute);else if(e.getIndexRoute){var u={location:t,params:s(n,r)},l=e.getIndexRoute(u,function(e,t){o(e,!e&&(0,m.createRoutes)(t)[0])});(0,d.isPromise)(l)&&l.then(function(e){return o(null,(0,m.createRoutes)(e)[0])},o)}else if(e.childRoutes||e.getChildRoutes){var c=function(e,i){if(e)return void o(e);var s=i.filter(function(e){return!e.path});(0,f.loopAsync)(s.length,function(e,i,o){a(s[e],t,n,r,function(t,n){if(t||n){var r=[s[e]].concat(Array.isArray(n)?n:[n]);o(t,r)}else i()})},function(e,t){o(null,t)})},p=i(e,t,n,r,c);p&&c.apply(void 0,p)}else o()}function o(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return o({},e,t)}function u(e,t,n,r,o,u){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,r=[],o=[]),null!==n&&c){try{var f=(0,p.matchPattern)(c,n);f?(n=f.remainingPathname,r=[].concat(r,f.paramNames),o=[].concat(o,f.paramValues)):n=null}catch(d){u(d)}if(""===n){var h={routes:[e],params:s(r,o)};return void a(e,t,r,o,function(e,t){if(e)u(e);else{if(Array.isArray(t)){var n;(n=h.routes).push.apply(n,t)}else t&&h.routes.push(t);u(null,h)}})}}if(null!=n||e.childRoutes){var m=function(i,a){i?u(i):a?l(a,t,function(t,n){t?u(t):n?(n.routes.unshift(e),u(null,n)):u()},n,r,o):u()},g=i(e,t,r,o,m);g&&m.apply(void 0,g)}else u()}function l(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,f.loopAsync)(e.length,function(n,o,s){u(e[n],t,r,i,a,function(e,t){e||t?s(e,t):o()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=l;var f=n(158),d=n(252),p=n(69),h=n(70),m=(r(h),n(51));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function a(e,t){var n=t&&t.withRef,r=(0,d.default)({displayName:"WithRouter",mixins:[(0,m.ContextSubscriber)("router")],contextTypes:{router:g.routerShape},propTypes:{router:g.routerShape},getWrappedInstance:function(){return n?void 0:(0,u.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router;if(!r)return c.default.createElement(e,this.props);var i=r.params,a=r.location,s=r.routes,u=o({},this.props,{router:r,params:i,location:a,routes:s});return n&&(u.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,u)}});return r.displayName="withRouter("+i(e)+")",r.WrappedComponent=e,(0,h.default)(r,e)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(22),u=r(s),l=n(14),c=r(l),f=n(44),d=r(f),p=n(212),h=r(p),m=n(159),g=n(160);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(14),c=r(l),f=n(19),d=r(f),p=n(137),h=r(p),m=n(163),g=r(m),y="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",v=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:n.props.size},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.prefixer,i=e.split,a=e.style,o=this.state.size,u=["Pane",i,n],l=s({},a||{},{flex:1,position:"relative",outline:"none"});return void 0!==o&&("vertical"===i?l.width=o:(l.height=o,l.display="flex"),l.flex="none"),c.default.createElement("div",{className:u.join(" "),style:r.prefix(l)},t)}}]),t}(c.default.Component);v.propTypes={className:d.default.string.isRequired,children:d.default.node.isRequired,prefixer:d.default.instanceOf(h.default).isRequired,size:d.default.oneOfType([d.default.string,d.default.number]),split:d.default.oneOf(["vertical","horizontal"]),style:g.default},v.defaultProps={prefixer:new h.default({userAgent:y})},t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(14),l=r(u),c=n(19),f=r(c),d=n(137),p=r(d),h=n(163),m=r(h),g="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClick,r=e.onDoubleClick,i=e.onMouseDown,a=e.onTouchEnd,o=e.onTouchStart,s=e.prefixer,u=e.resizerClassName,c=e.split,f=e.style,d=[u,c,t];return l.default.createElement("span",{className:d.join(" "),style:s.prefix(f)||{},onMouseDown:function(e){return i(e)},onTouchStart:function(e){e.preventDefault(),o(e)},onTouchEnd:function(e){e.preventDefault(),a(e)},onClick:function(e){n&&(e.preventDefault(),n(e))},onDoubleClick:function(e){r&&(e.preventDefault(),r(e))}})}}]),t}(l.default.Component);y.propTypes={className:f.default.string.isRequired,onClick:f.default.func,onDoubleClick:f.default.func,onMouseDown:f.default.func.isRequired,onTouchStart:f.default.func.isRequired,onTouchEnd:f.default.func.isRequired,prefixer:f.default.instanceOf(p.default).isRequired,split:f.default.oneOf(["vertical","horizontal"]),style:m.default,resizerClassName:f.default.string.isRequired},y.defaultProps={prefixer:new p.default({userAgent:g}),resizerClassName:"Resizer"},t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(n){}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(14),f=r(c),d=n(19),p=r(d),h=n(140),m=r(h),g=n(137),y=r(g),v=n(163),b=r(v),_=n(554),x=r(_),S=n(555),w=r(S),O="Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.2 (KHTML, like Gecko) Safari/537.2",k=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMouseDown=e.onMouseDown.bind(e),e.onTouchStart=e.onTouchStart.bind(e),e.onMouseMove=e.onMouseMove.bind(e),e.onTouchMove=e.onTouchMove.bind(e),e.onMouseUp=e.onMouseUp.bind(e),e.state={active:!1,resized:!1},e}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.setSize(this.props,this.state),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove)}},{key:"componentWillReceiveProps",value:function(e){this.setSize(e,this.state)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}},{key:"onMouseDown",value:function(e){var t=u({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}},{key:"onTouchStart",value:function(e){var t=this.props,n=t.allowResize,r=t.onDragStarted,i=t.split;if(n){s(document,window);var a="vertical"===i?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof r&&r(),this.setState({active:!0,position:a})}}},{key:"onMouseMove",value:function(e){var t=u({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}},{key:"onTouchMove",value:function(e){var t=this.props,n=t.allowResize,r=t.maxSize,i=t.minSize,a=t.onChange,o=t.split,u=this.state,l=u.active,c=u.position;if(n&&l){s(document,window);var f="first"===this.props.primary,d=f?this.pane1:this.pane2;if(d){var p=m.default.findDOMNode(d);if(p.getBoundingClientRect){var h=p.getBoundingClientRect().width,g=p.getBoundingClientRect().height,y="vertical"===o?e.touches[0].clientX:e.touches[0].clientY,v="vertical"===o?h:g,b=f?c-y:y-c,_=r;if(void 0!==r&&r<=0){var x=this.splitPane;_="vertical"===o?x.getBoundingClientRect().width+r:x.getBoundingClientRect().height+r}var S=v-b;S<i?S=i:void 0!==r&&S>_?S=_:this.setState({position:y,resized:!0}),a&&a(S),this.setState({draggedSize:S}),d.setState({size:S})}}}}},{key:"onMouseUp",value:function(){var e=this.props,t=e.allowResize,n=e.onDragFinished,r=this.state,i=r.active,a=r.draggedSize;t&&i&&("function"==typeof n&&n(a),this.setState({active:!1}))}},{key:"setSize",value:function(e,t){var n=this.props.primary,r="first"===n?this.pane1:this.pane2,i=void 0;r&&(i=e.size||t&&t.draggedSize||e.defaultSize||e.minSize,r.setState({size:i}),e.size!==t.draggedSize&&this.setState({draggedSize:i}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.allowResize,r=t.children,i=t.className,a=t.defaultSize,o=t.minSize,s=t.onResizerClick,l=t.onResizerDoubleClick,c=t.paneStyle,d=t.pane1Style,p=t.pane2Style,h=t.primary,m=t.prefixer,g=t.resizerClassName,y=t.resizerStyle,v=t.size,b=t.split,_=t.style,S=n?"":"disabled",O=u({},_||{},{display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text"});"vertical"===b?u(O,{flexDirection:"row",left:0,right:0}):u(O,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});var k=["SplitPane",i,b,S],E=m.prefix(u({},c||{},d||{})),M=m.prefix(u({},c||{},p||{}));return f.default.createElement("div",{className:k.join(" "),ref:function(t){e.splitPane=t},style:m.prefix(O)},f.default.createElement(x.default,{className:"Pane1",key:"pane1",ref:function(t){e.pane1=t},size:"first"===h?v||a||o:void 0,split:b,style:E},r[0]),f.default.createElement(w.default,{className:S,onClick:s,onDoubleClick:l,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",ref:function(t){e.resizer=t},resizerClassName:g,split:b,style:y||{}}),f.default.createElement(x.default,{className:"Pane2",key:"pane2",ref:function(t){e.pane2=t},size:"second"===h?v||a||o:void 0,split:b,style:M},r[1]))}}]),t}(f.default.Component);k.propTypes={allowResize:p.default.bool,children:p.default.arrayOf(p.default.node).isRequired,className:p.default.string,primary:p.default.oneOf(["first","second"]),minSize:p.default.oneOfType([p.default.string,p.default.number]),maxSize:p.default.oneOfType([p.default.string,p.default.number]),defaultSize:p.default.oneOfType([p.default.string,p.default.number]),size:p.default.oneOfType([p.default.string,p.default.number]),split:p.default.oneOf(["vertical","horizontal"]),onDragStarted:p.default.func,onDragFinished:p.default.func,onChange:p.default.func,onResizerClick:p.default.func,onResizerDoubleClick:p.default.func,prefixer:p.default.instanceOf(y.default).isRequired,style:b.default,resizerStyle:b.default,paneStyle:b.default,pane1Style:b.default,pane2Style:b.default,resizerClassName:p.default.string},k.defaultProps={allowResize:!0,minSize:50,prefixer:new y.default({userAgent:O}),primary:"first",split:"vertical"},t.default=k,e.exports=t.default},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling"];
},145,[684,87],function(e,t,n){"use strict";function r(e){return(""+e).replace(_,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function a(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function o(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);y(e,a,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,a=e.keyPrefix,o=e.func,s=e.context,u=o.call(s,t,e.count++);Array.isArray(u)?l(u,i,n,g.thatReturnsArgument):null!=u&&(m.isValidElement(u)&&(u=m.cloneAndReplaceKey(u,a+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function l(e,t,n,i,a){var o="";null!=n&&(o=r(n)+"/");var l=s.getPooled(t,o,i,a);y(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function f(e,t,n){return null}function d(e,t){return y(e,f,null)}function p(e){var t=[];return l(e,t,null,g.thatReturnsArgument),t}var h=n(559),m=n(72),g=n(34),y=n(569),v=h.twoArgumentPooler,b=h.fourArgumentPooler,_=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(i,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var x={forEach:o,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:p};e.exports=x},function(e,t,n){"use strict";var r=n(72),i=r.createFactory,a={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=a},function(e,t,n){"use strict";var r=n(72),i=r.isValidElement,a=n(221);e.exports=a(i)},501,function(e,t,n){"use strict";var r=n(259),i=r.Component,a=n(72),o=a.isValidElement,s=n(262),u=n(199);e.exports=u(i,o,s)},520,function(e,t){"use strict";function n(){return r++}var r=1;e.exports=n},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(e){return a.isValidElement(e)?void 0:i("143"),e}var i=n(87),a=n(72);n(4);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,a){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(a,e,""===t?c+r(e,0):t),1;var p,h,m=0,g=""===t?c:t+f;if(Array.isArray(e))for(var y=0;y<e.length;y++)p=e[y],h=g+r(p,y),m+=i(p,h,n,a);else{var v=u(e);if(v){var b,_=v.call(e);if(v!==e.entries)for(var x=0;!(b=_.next()).done;)p=b.value,h=g+r(p,x++),m+=i(p,h,n,a);else for(;!(b=_.next()).done;){var S=b.value;S&&(p=S[1],h=g+l.escape(S[0])+f+r(p,0),m+=i(p,h,n,a))}}else if("object"===d){var w="",O=String(e);o("31","[object Object]"===O?"object with keys {"+Object.keys(e).join(", ")+"}":O,w)}}return m}function a(e,t,n){return null==e?0:i(e,"",t,n)}var o=n(87),s=(n(47),n(261)),u=n(565),l=(n(4),n(558)),c=(n(9),"."),f=":";e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){switch((0,u.default)(e)){case"void":return function(e){return e};case"string":return function(t){return(0,o.default)(t,[e])};case"array":return function(t){return(0,o.default)(t,e)};default:return console.error("Invalid paths argument, should be of type String, Array or Void")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(571),o=r(a),s=n(574),u=r(s);e.exports=t.default},function(e,t){"use strict";function n(e,t){var n={};return t.forEach(function(t){var r=e[t];r&&(n[t]=r)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=a({key:"redux",merge:l.default,slicer:s.default,serialize:JSON.stringify,deserialize:JSON.parse},t),r=n.key,i=n.merge,o=n.slicer,u=n.serialize,c=n.deserialize;return function(t){return function(n,a,s){"function"==typeof a&&"undefined"==typeof s&&(s=a,a=void 0);var l=void 0,f=void 0;try{l=c(localStorage.getItem(r)),f=i(a,l)}catch(d){console.warn("Failed to retrieve initialize state from localStorage:",d)}var p=t(n,f,s),h=o(e);return p.subscribe(function(){var e=p.getState(),t=h(e);try{localStorage.setItem(r,u(t))}catch(n){console.warn("Unable to persist state to localStorage:",n)}}),p}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(570),s=r(o),u=n(573),l=r(u);e.exports=t.default},function(e,t){"use strict";function n(e,t){return t?r({},e,t):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return e?r(e)?e.length?"array":"void":typeof e:"void"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)});e.exports=t.default},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o=e(n,r,i),u=o.dispatch,l=[],c={getState:o.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s.default.apply(void 0,l)(o.dispatch),a({},o,{dispatch:u})}}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var o=n(264),s=r(o)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},a=0;a<r.length;a++){var o=r[a],s=e[o];"function"==typeof s&&(i[o]=n(s,t))}return i}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function o(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),u=void 0;try{a(n)}catch(l){u=l}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},o=0;o<s.length;o++){var l=s[o],c=n[l],f=e[l],d=c(f,t);if("undefined"==typeof d){var p=i(l,t);throw new Error(p)}a[l]=d,r=r||d!==f}return r?a:e}}t.__esModule=!0,t.default=o;var s=n(265),u=n(139),l=(r(u),n(266));r(l)},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,n){e.exports=n(581)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(582),s=i(o);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var u=(0,s.default)(a);t.default=u}).call(t,function(){return this}(),n(189)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,r,i=e.scale[0],a=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0),e[0]=(n+=e[0])*i+o,e[1]=(r+=e[1])*a+s}}function r(e){if(!e)return t;var n,r,i=e.scale[0],a=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var u=Math.round((e[0]-o)/i),l=Math.round((e[1]-s)/a);e[0]=u-n,e[1]=l-r,n=u,r=l}}function i(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function a(e,t){for(var n=0,r=e.length;n<r;){var i=n+r>>>1;e[i]<t?n=i+1:r=i}return n}function o(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return s(e,t)})}:s(e,t)}function s(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:u(e,t)};return null==t.id&&delete n.id,n}function u(e,t){function r(e,t){t.length&&t.pop();for(var n,r=f[e<0?~e:e],a=0,o=r.length;a<o;++a)t.push(n=r[a].slice()),c(n,a);e<0&&i(t,o)}function a(e){return e=e.slice(),c(e,0),e}function o(e){for(var t=[],n=0,i=e.length;n<i;++n)r(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function s(e){for(var t=o(e);t.length<4;)t.push(t[0].slice());return t}function u(e){return e.map(s)}function l(e){var t=e.type;return"GeometryCollection"===t?{type:t,geometries:e.geometries.map(l)}:t in d?{type:t,coordinates:d[t](e)}:null}var c=n(e.transform),f=e.arcs,d={Point:function(e){return a(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(a)},LineString:function(e){return o(e.arcs)},MultiLineString:function(e){return e.arcs.map(o)},Polygon:function(e){return u(e.arcs)},MultiPolygon:function(e){return e.arcs.map(u)}};return l(t)}function l(e,t){function n(t){var n,r=e.arcs[t<0?~t:t],i=r[0];return e.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=r[r.length-1],t<0?[n,i]:[i,n]}function r(e,t){for(var n in e){var r=e[n];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){i[e<0?~e:e]=1}),s.push(r)}}var i={},a={},o={},s=[],u=-1;return t.forEach(function(n,r){var i,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=t[++u],t[u]=n,t[r]=i)}),t.forEach(function(e){var t,r,i=n(e),s=i[0],u=i[1];if(t=o[s])if(delete o[t.end],t.push(e),t.end=u,r=a[u]){delete a[r.start];var l=r===t?t:t.concat(r);a[l.start=t.start]=o[l.end=r.end]=l}else a[t.start]=o[t.end]=t;else if(t=a[u])if(delete a[t.start],t.unshift(e),t.start=s,r=o[s]){delete o[r.end];var c=r===t?t:r.concat(t);a[c.start=r.start]=o[c.end=t.end]=c}else a[t.start]=o[t.end]=t;else t=[e],a[t.start=s]=o[t.end=u]=t}),r(o,a),r(a,o),t.forEach(function(e){i[e<0?~e:e]||s.push([e])}),s}function c(e){return u(e,f.apply(this,arguments))}function f(e,t,n){function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:u})}function i(e){e.forEach(r)}function a(e){e.forEach(i)}function o(e){"GeometryCollection"===e.type?e.geometries.forEach(o):e.type in f&&(u=e,f[e.type](e.arcs))}var s=[];if(arguments.length>1){var u,c=[],f={LineString:i,MultiLineString:a,Polygon:a,MultiPolygon:function(e){e.forEach(a)}};o(t),c.forEach(arguments.length<3?function(e){s.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&s.push(e[0].i)})}else for(var d=0,p=e.arcs.length;d<p;++d)s.push(d);return{type:"MultiLineString",arcs:l(e,s)}}function d(e){var t=e[0],n=e[1],r=e[2];return Math.abs((t[0]-r[0])*(n[1]-t[1])-(t[0]-n[0])*(r[1]-t[1]))}function p(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[0]*i[1]-t[1]*i[0];return a/2}function h(e){return u(e,m.apply(this,arguments))}function m(e,t){function n(e){e.forEach(function(t){t.forEach(function(t){(i[t=t<0?~t:t]||(i[t]=[])).push(e)})}),a.push(e)}function r(t){return Math.abs(p(u(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}var i={},a=[],o=[];return t.forEach(function(e){"Polygon"===e.type?n(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(n)}),a.forEach(function(e){if(!e._){var t=[],n=[e];for(e._=1,o.push(t);e=n.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].forEach(function(e){e._||(e._=1,n.push(e))})})})}}),a.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:o.map(function(t){var n,a=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){i[e<0?~e:e].length<2&&a.push(e)})})}),a=l(e,a),(n=a.length)>1)for(var o,s,u=1,c=r(a[0]);u<n;++u)(o=r(a[u]))>c&&(s=a[0],a[0]=a[u],a[u]=s,c=o);return a})}}function g(e){function t(e,t){e.forEach(function(e){e<0&&(e=~e);var n=i[e];n?n.push(t):i[e]=[t]})}function n(e,n){e.forEach(function(e){t(e,n)})}function r(e,t){"GeometryCollection"===e.type?e.geometries.forEach(function(e){r(e,t)}):e.type in s&&s[e.type](e.arcs,t)}var i={},o=e.map(function(){return[]}),s={LineString:t,MultiLineString:n,Polygon:n,MultiPolygon:function(e,t){e.forEach(function(e){n(e,t)})}};e.forEach(r);for(var u in i)for(var l=i[u],c=l.length,f=0;f<c;++f)for(var d=f+1;d<c;++d){var p,h=l[f],m=l[d];(p=o[h])[u=a(p,m)]!==m&&p.splice(u,0,m),(p=o[m])[u=a(p,h)]!==h&&p.splice(u,0,h)}return o}function y(e,t){return e[1][2]-t[1][2]}function v(){function e(e,t){for(;t>0;){var n=(t+1>>1)-1,i=r[n];if(y(e,i)>=0)break;r[i._=t]=i,r[e._=t=n]=e}}function t(e,t){for(;;){var n=t+1<<1,a=n-1,o=t,s=r[o];if(a<i&&y(r[a],s)<0&&(s=r[o=a]),n<i&&y(r[n],s)<0&&(s=r[o=n]),o===t)break;r[s._=t]=s,r[e._=t=o]=e}}var n={},r=[],i=0;return n.push=function(t){return e(r[t._=i]=t,i++),i},n.pop=function(){if(!(i<=0)){var e,n=r[0];return--i>0&&(e=r[i],t(r[e._=0]=e,0)),n}},n.remove=function(n){var a,o=n._;if(r[o]===n)return o!==--i&&(a=r[i],(y(a,n)<0?e:t)(r[a._=o]=a,o)),o},n}function b(e,t){function i(e){s.remove(e),e[1][2]=t(e),s.push(e)}var a=n(e.transform),o=r(e.transform),s=v();return t||(t=d),e.arcs.forEach(function(e){var n,r,u,l,c=[],f=0;for(r=0,u=e.length;r<u;++r)l=e[r],a(e[r]=[l[0],l[1],1/0],r);for(r=1,u=e.length-1;r<u;++r)n=e.slice(r-1,r+2),n[1][2]=t(n),c.push(n),s.push(n);for(r=0,u=c.length;r<u;++r)n=c[r],n.previous=c[r-1],n.next=c[r+1];for(;n=s.pop();){var d=n.previous,p=n.next;n[1][2]<f?n[1][2]=f:f=n[1][2],d&&(d.next=p,d[2]=n[2],i(d)),p&&(p.previous=d,p[0]=n[0],i(p))}e.forEach(o)}),e}var _="1.6.27";e.version=_,e.mesh=c,e.meshArcs=f,e.merge=h,e.mergeArcs=m,e.feature=o,e.neighbors=g,e.presimplify=b,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){var r;(function(e,i){!function(a){function o(e){throw RangeError(D[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(A,".");var i=e.split("."),a=s(i,t).join(".");return r+a}function l(e){for(var t,n,r=[],i=0,a=e.length;i<a;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<a?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=I(e>>>10&1023|55296),e=56320|1023&e),t+=I(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:x}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?N(e/k):e>>1,e+=N(e/t);e>R*w>>1;r+=x)e=N(e/R);return N(r+(R+1)*e/(e+O))}function h(e){var t,n,r,i,a,s,u,l,d,h,m=[],g=e.length,y=0,v=M,b=E;for(n=e.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&o("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=y,s=1,u=x;i>=g&&o("invalid-input"),l=f(e.charCodeAt(i++)),(l>=x||l>N((_-y)/s))&&o("overflow"),y+=l*s,d=u<=b?S:u>=b+w?w:u-b,!(l<d);u+=x)h=x-d,s>N(_/h)&&o("overflow"),s*=h;t=m.length+1,b=p(y-a,t,0==a),N(y/t)>_-v&&o("overflow"),v+=N(y/t),y%=t,m.splice(y++,0,v)}return c(m)}function m(e){var t,n,r,i,a,s,u,c,f,h,m,g,y,v,b,O=[];for(e=l(e),g=e.length,t=M,n=0,a=E,s=0;s<g;++s)m=e[s],m<128&&O.push(I(m));for(r=i=O.length,i&&O.push(T);r<g;){for(u=_,s=0;s<g;++s)m=e[s],m>=t&&m<u&&(u=m);for(y=r+1,u-t>N((_-n)/y)&&o("overflow"),n+=(u-t)*y,t=u,s=0;s<g;++s)if(m=e[s],m<t&&++n>_&&o("overflow"),m==t){for(c=n,f=x;h=f<=a?S:f>=a+w?w:f-a,!(c<h);f+=x)b=c-h,v=x-h,O.push(I(d(h+b%v,0))),c=N(b/v);O.push(I(d(c,0))),a=p(n,y,r==i),n=0,++r}++n,++t}return O.join("")}function g(e){return u(e,function(e){return P.test(e)?h(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return C.test(e)?"xn--"+m(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(a=v);var b,_=2147483647,x=36,S=1,w=26,O=38,k=700,E=72,M=128,T="-",P=/^xn--/,C=/[^\x20-\x7E]/,A=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=x-S,N=Math.floor,I=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:l,encode:c},decode:h,encode:m,toASCII:y,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(189)(e),function(){return this}())},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&l(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function a(e){return u(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function o(e,t){return i(e,!1,!0).resolve(t)}function s(e,t){return e?i(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function l(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function f(e){return null==e}var d=n(584);t.parse=i,t.resolve=o,t.resolveObject=s,t.format=a,t.Url=r;var p=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","\t"],g=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(g),v=["%","/","?",";","#"].concat(y),b=["/","?","#"],_=255,x=/^[a-z0-9A-Z_-]{0,63}$/,S=/^([a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},O={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(461);r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var i=p.exec(r);if(i){i=i[0];var a=i.toLowerCase();this.protocol=a,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var o="//"===r.substr(0,2);!o||i&&O[i]||(r=r.substr(2),this.slashes=!0)}if(!O[i]&&(o||i&&!k[i])){for(var s=-1,l=0;l<b.length;l++){var c=r.indexOf(b[l]);c!==-1&&(s===-1||c<s)&&(s=c)}var f,h;h=s===-1?r.lastIndexOf("@"):r.lastIndexOf("@",s),h!==-1&&(f=r.slice(0,h),r=r.slice(h+1),this.auth=decodeURIComponent(f)),s=-1;for(var l=0;l<v.length;l++){var c=r.indexOf(v[l]);c!==-1&&(s===-1||c<s)&&(s=c)}s===-1&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),l=0,M=g.length;l<M;l++){var T=g[l];if(T&&!T.match(x)){for(var P="",C=0,A=T.length;C<A;C++)P+=T.charCodeAt(C)>127?"x":T[C];if(!P.match(x)){var D=g.slice(0,l),R=g.slice(l+1),N=T.match(S);N&&(D.push(N[1]),R.unshift(N[2])),R.length&&(r="/"+R.join(".")+r),this.hostname=D.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var I=this.hostname.split("."),F=[],l=0;l<I.length;++l){var L=I[l];F.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(L):L)}this.hostname=F.join(".")}var j=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+j,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!w[a])for(var l=0,M=y.length;l<M;l++){var $=y[l],U=encodeURIComponent($);U===$&&(U=escape($)),r=r.split($).join(U)}var B=r.indexOf("#");B!==-1&&(this.hash=r.substr(B),r=r.slice(0,B));var q=r.indexOf("?");if(q!==-1?(this.search=r.substr(q),this.query=r.substr(q+1),t&&(this.query=E.parse(this.query)),r=r.slice(0,q)):t&&(this.search="",this.query={}),r&&(this.pathname=r),k[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var j=this.pathname||"",L=this.search||"";this.path=j+L}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l(this.query)&&Object.keys(this.query).length&&(a=E.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+i+n+o+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),k[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!k[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||O[e.protocol])n.pathname=e.pathname;else{for(var i=(e.pathname||"").split("/");i.length&&!(e.host=i.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",o=n.search||"";n.path=a+o}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),l=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=l||s||n.host&&e.pathname,p=d,h=n.pathname&&n.pathname.split("/")||[],i=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!k[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===h[0]?h[0]=n.host:h.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===i[0]?i[0]=e.host:i.unshift(e.host)),e.host=null),d=d&&(""===i[0]||""===h[0])),l)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,h=i;else if(i.length)h||(h=[]),h.pop(),h=h.concat(i),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(m){n.hostname=n.host=h.shift();var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!h.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=h.slice(-1)[0],v=(n.host||e.host)&&("."===y||".."===y)||""===y,b=0,_=h.length;_>=0;_--)y=h[_],"."==y?h.splice(_,1):".."===y?(h.splice(_,1),b++):b&&(h.splice(_,1),b--);if(!d&&!p)for(;b--;b)h.unshift("..");!d||""===h[0]||h[0]&&"/"===h[0].charAt(0)||h.unshift(""),v&&"/"!==h.join("/").substr(-1)&&h.push("");var x=""===h[0]||h[0]&&"/"===h[0].charAt(0);if(m){n.hostname=n.host=x?"":h.length?h.shift():"";var g=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");g&&(n.auth=g.shift(),n.host=n.hostname=g.shift())}return d=d||n.host&&h.length,d&&!x&&h.unshift(""),h.length?n.pathname=h.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){!function(e,r){r(t,n(42),n(40),n(7))}(this,function(e,t,n,r){"use strict";function i(e){return new Uint8Array(e)}function a(e){return new Uint16Array(e)}function o(e){return new Uint32Array(e)}function s(){var e=8,t=[],n=o(0),r=l(0,e),i=l(0,e);return{data:function(){return t},seen:function(){return n=u(n,t.length)},add:function(e){for(var n,r=0,i=t.length,a=e.length;r<a;++r)n=e[r],n._index=i++,t.push(n)},remove:function(e,n){var a,o,s,u=t.length,l=Array(u-e),c=t;for(o=0;!n[o]&&o<u;++o)l[o]=t[o],c[o]=o;for(s=o;o<u;++o)a=t[o],n[o]?c[o]=-1:(c[o]=s,r[s]=r[o],i[s]=i[o],l[s]=a,a._index=s++),r[o]=0;return t=l,c},size:function(){return t.length},curr:function(){return r},prev:function(){return i},reset:function(e){i[e]=r[e]},all:function(){return e<257?255:e<65537?65535:4294967295},set:function(e,t){r[e]|=t},clear:function(e,t){r[e]&=~t},resize:function(t,n){var a=r.length;(t>a||n>e)&&(e=Math.max(n,e),r=l(t,e,r),i=l(t,e))}}}function u(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function l(e,t,n){var r=(t<257?i:t<65537?a:o)(e);return n&&r.set(n),r}function c(){function e(e,t,n){if(!t.length)return[];var r,i,l,c=u,p=t.length,h=Array(p),m=o(p);for(l=0;l<p;++l)h[l]=e(t[l]),m[l]=l;if(h=f(h,m),c)r=s,i=a,s=Array(c+p),a=o(c+p),d(n,r,i,c,h,m,p,s,a);else{if(n>0)for(l=0;l<p;++l)m[l]+=n;s=h,a=m}return u=c+p,{index:m,value:h}}function t(e,t){var n,r,i,o=u;for(r=0;!t[a[r]]&&r<o;++r);for(i=r;r<o;++r)t[n=a[r]]||(a[i]=n,s[i]=s[r],++i);u=o-e}function r(e){for(var t=0,n=u;t<n;++t)a[t]=e[a[t]]}function i(e,t){var r;return t?r=t.length:(t=s,r=u),[n.bisectLeft(t,e[0],0,r),n.bisectRight(t,e[1],0,r)]}var a=o(0),s=[],u=0;return{insert:e,remove:t,bisect:i,reindex:r,index:function(){return a},size:function(){return u}}}function f(e,t){return e.sort.call(t,function(t,n){var r=e[t],i=e[n];return r<i?-1:r>i?1:0}),n.permute(e,t)}function d(e,t,n,r,i,a,o,s,u){var l,c=0,f=0;for(l=0;c<r&&f<o;++l)t[c]<i[f]?(s[l]=t[c],u[l]=n[c++]):(s[l]=i[f],u[l]=a[f++]+e);for(;c<r;++c,++l)s[l]=t[c],u[l]=n[c];for(;f<o;++f,++l)s[l]=i[f],u[l]=a[f]+e}function p(e){t.Transform.call(this,s(),e),this._indices=null,this._dims=null}function h(e){t.Transform.call(this,null,e)}var m=function(e,t,n){var r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd:function(e,t){var n,i=this,a=i.bisect(i.range,e.value),o=e.index,s=a[0],u=a[1],l=o.length;for(n=0;n<s;++n)t[o[n]]|=r;for(n=u;n<l;++n)t[o[n]]|=r;return i}}},g=r.inherits(p,t.Transform);g.transform=function(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(function(e){return t.modified(e.fields)});return n?this.reinit(e,t):this.eval(e,t)}return this.init(e,t)},g.init=function(e,t){for(var n,r,i=e.fields,a=e.query,o=this._indices={},s=this._dims=[],u=a.length,l=0;l<u;++l)n=i[l].fname,r=o[n]||(o[n]=c()),s.push(m(r,l,a[l]));return this.eval(e,t)},g.reinit=function(e,t){var n,r,i,a,o,s,u,l,f,d=t.materialize().fork(),p=e.fields,h=e.query,g=this._indices,y=this._dims,v=this.value,b=v.curr(),_=v.prev(),x=v.all(),S=d.rem=d.add,w=d.mod,O=h.length,k={};if(_.set(b),t.rem.length&&(o=this.remove(e,t,d)),t.add.length&&v.add(t.add),t.mod.length)for(s={},a=t.mod,u=0,l=a.length;u<l;++u)s[a[u]._index]=1;for(u=0;u<O;++u)f=p[u],(!y[u]||e.modified("fields",u)||t.modified(f.fields))&&(i=f.fname,(n=k[i])||(g[i]=r=c(),k[i]=n=r.insert(f,t.source,0)),y[u]=m(r,u,h[u]).onAdd(n,b));for(u=0,l=v.data().length;u<l;++u)o[u]||(_[u]!==b[u]?S.push(u):s[u]&&b[u]!==x&&w.push(u));return v.mask=(1<<O)-1,d},g.eval=function(e,t){var n=t.materialize().fork(),r=this._dims.length,i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},g.insert=function(e,t,n){var r,i,a,o=t.add,s=this.value,u=this._dims,l=this._indices,c=e.fields,f={},d=n.add,p=s.size(),h=p+o.length,m=u.length;s.resize(h,m),s.add(o);var g=s.curr(),y=s.prev(),v=s.all();for(r=0;r<m;++r)i=c[r].fname,a=f[i]||(f[i]=l[i].insert(c[r],o,p)),u[r].onAdd(a,g);for(;p<h;++p)y[p]=v,g[p]!==v&&d.push(p)},g.modify=function(e,t){var n,r,i,a=t.mod,o=this.value,s=o.curr(),u=o.all(),l=e.mod;for(n=0,r=l.length;n<r;++n)i=l[n]._index,s[i]!==u&&a.push(i)},g.remove=function(e,t,n){var r,i,a,o,s=this._indices,u=this.value,l=u.curr(),c=u.prev(),f=u.all(),d={},p=n.rem,h=t.rem;for(r=0,i=h.length;r<i;++r)a=h[r]._index,d[a]=1,c[a]=o=l[a],l[a]=f,o!==f&&p.push(a);for(a in s)s[a].remove(i,d);return this.reindex(t,i,d),d},g.reindex=function(e,t,n){var r=this._indices,i=this.value;e.runAfter(function(){var e=i.remove(t,n);for(var a in r)r[a].reindex(e)})},g.update=function(e,t,n){var r,i,a=this._dims,o=e.query,s=t.stamp,u=a.length,l=0;
for(n.filters=0,i=0;i<u;++i)e.modified("query",i)&&(r=i,++l);if(1===l)l=a[r].one,this.incrementOne(a[r],o[r],n.add,n.rem);else for(i=0,l=0;i<u;++i)e.modified("query",i)&&(l|=a[i].one,this.incrementAll(a[i],o[i],s,n.add),n.rem=n.add);return l},g.incrementAll=function(e,t,n,r){var i,a,o,s=this.value,u=s.seen(),l=s.curr(),c=s.prev(),f=e.index(),d=e.bisect(e.range),p=e.bisect(t),h=p[0],m=p[1],g=d[0],y=d[1],v=e.one;if(h<g)for(i=h,a=Math.min(g,m);i<a;++i)o=f[i],u[o]!==n&&(c[o]=l[o],u[o]=n,r.push(o)),l[o]^=v;else if(h>g)for(i=g,a=Math.min(h,y);i<a;++i)o=f[i],u[o]!==n&&(c[o]=l[o],u[o]=n,r.push(o)),l[o]^=v;if(m>y)for(i=Math.max(h,y),a=m;i<a;++i)o=f[i],u[o]!==n&&(c[o]=l[o],u[o]=n,r.push(o)),l[o]^=v;else if(m<y)for(i=Math.max(g,m),a=y;i<a;++i)o=f[i],u[o]!==n&&(c[o]=l[o],u[o]=n,r.push(o)),l[o]^=v;e.range=t.slice()},g.incrementOne=function(e,t,n,r){var i,a,o,s=this.value,u=s.curr(),l=e.index(),c=e.bisect(e.range),f=e.bisect(t),d=f[0],p=f[1],h=c[0],m=c[1],g=e.one;if(d<h)for(i=d,a=Math.min(h,p);i<a;++i)o=l[i],u[o]^=g,n.push(o);else if(d>h)for(i=h,a=Math.min(d,m);i<a;++i)o=l[i],u[o]^=g,r.push(o);if(p>m)for(i=Math.max(d,m),a=p;i<a;++i)o=l[i],u[o]^=g,n.push(o);else if(p<m)for(i=Math.max(h,p),a=m;i<a;++i)o=l[i],u[o]^=g,r.push(o);e.range=t.slice()};var y={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},v=r.inherits(h,t.Transform);v.transform=function(e,t){var n=~(e.ignore||0),r=e.filter,i=r.mask;if(0===(i&n))return t.StopPropagation;var a=t.fork(t.ALL),o=r.data(),s=r.curr(),u=r.prev(),l=function(e){return s[e]&n?null:o[e]};return a.filter(a.MOD,l),i&i-1?(a.filter(a.ADD,function(e){var t=s[e]&n,r=!t&&t^u[e]&n;return r?o[e]:null}),a.filter(a.REM,function(e){var t=s[e]&n,r=t&&!(t^(t^u[e]&n));return r?o[e]:null})):(a.filter(a.ADD,l),a.filter(a.REM,function(e){return(s[e]&n)===i?o[e]:null})),a.filter(a.SOURCE,function(e){return l(e._index)})};var b={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};t.register(y,p),t.register(b,h),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(100),n(119),n(40),n(101))}(this,function(e,t,n,r,i,a,o){"use strict";function s(e,t){var r=e.range(),i=r[0],a=n.peek(r);return i>a&&(r=a,a=i,i=r),t.filter(function(t){return!((t=e(t))<i||t>a)})}function u(e,t){return e.ticks?e.ticks(t):e.domain()}function l(e,t,n){var r=e.tickFormat?e.tickFormat(t,n):String;return e.type===ue?c(r,f(n)):r}function c(e,t){return function(n){return e(n)?t(n):""}}function f(e){var t=r.formatSpecifier(e||",");if(null==t.precision){switch(t.precision=12,t.type){case"%":t.precision-=2;break;case"e":t.precision-=1}return d(r.format(t),r.format(".1f")(1)[1])}return r.format(t)}function d(e,t){return function(n){var r,i,a=e(n),o=a.indexOf(t);if(o<0)return a;for(r=p(a,o),i=r<a.length?a.slice(r):"";--r>o;)if("0"!==a[r]){++r;break}return a.slice(0,r)+i}}function p(e,t){var n,r=e.lastIndexOf("e");if(r>0)return r;for(r=e.length;--r>t;)if(n=e.charCodeAt(r),n>=48&&n<=57)return r+1}function h(e){t.Transform.call(this,null,e)}function m(e){t.Transform.call(this,null,e)}function g(){return t.ingest({})}function y(e){return e.exit}function v(e){t.Transform.call(this,null,e)}function b(e,t,n){if(n)return e.domain();var r=Oe[e.type];return r?r(e):u(e,t)}function _(e){var t=e.domain(),r=t[0],i=n.peek(t),a=e.range().length,o=new Array(a),s=0;for(o[0]=r;++s<a;)o[s]=(s*i-(s-a)*r)/a;return o.max=i,o}function x(e){var t=e.domain(),r=[t[0]].concat(e.quantiles());return r.max=n.peek(t),r}function S(e){var t=[-(1/0)].concat(e.domain());return t.max=+(1/0),t}function w(e){var t=e.domain();return t.max=t.pop(),t}function O(e,t){return Oe[e.type]?k(t):M(t)}function k(e){return function(t,n,r){var i=r[n+1]||r.max||+(1/0),a=E(t,e),o=E(i,e);return a&&o?a+"–"+o:o?"< "+o:"≥ "+a}}function E(e,t){return isFinite(e)?t(e):null}function M(e){return function(t){return e(t)}}function T(e){t.Transform.call(this,[],e)}function P(e){return e.source.x}function C(e){return e.source.y}function A(e){return e.target.x}function D(e){return e.target.y}function R(e){t.Transform.call(this,{},e)}function N(e,t,n,r){return"M"+e+","+t+"L"+n+","+r}function I(e,t,n,r){return N(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function F(e,t,n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a)/2,s=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+o+","+o+" "+s+" 0 1 "+n+","+r}function L(e,t,n,r){return F(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function j(e,t,n,r){var i=n-e,a=r-t,o=.2*(i+a),s=.2*(a-i);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(r-o)+" "+n+","+r}function z(e,t,n,r){return j(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n))}function $(e,t,n,r){return"M"+e+","+t+"V"+r+"H"+n}function U(e,t,n,r){return"M"+e+","+t+"H"+n+"V"+r}function B(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*o+","+t*s+"L"+r*o+","+r*s}function q(e,t,n,r){var i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r}function W(e,t,n,r){var i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r}function V(e,t,n,r){var i=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*a+"C"+u*i+","+u*a+" "+u*o+","+u*s+" "+r*o+","+r*s}function H(e){t.Transform.call(this,null,e)}function G(e){t.Transform.call(this,null,e),this.modified(!0)}function Y(e,t,n){var r=X(e,t.domainRaw);if(r>-1)return r;var i,a,o=t.domain,s=t.zero||void 0===t.zero&&Ce[e.type];return o?((s||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(i=(o=o.slice()).length-1||1,s&&(o[0]>0&&(o[0]=0),o[i]<0&&(o[i]=0)),null!=t.domainMin&&(o[0]=t.domainMin),null!=t.domainMax&&(o[i]=t.domainMax),null!=t.domainMid&&(a=t.domainMid,(a<o[0]||a>o[i])&&n.warn("Scale domainMid exceeds domain min or max.",a),o.splice(i,0,a))),e.domain(o),t.nice&&e.nice&&e.nice(t.nice!==!0&&+t.nice||null),o.length):0}function X(e,t){return t?(e.domain(t),t.length):-1}function Q(e,t,r){var a=t.round||!1,s=t.range;if(null!=t.rangeStep)s=K(e.type,t,r);else if(t.scheme){if(s=J(e.type,t,r),n.isFunction(s))return e.interpolator(s)}else if(s&&e.type===_e)return e.interpolator(o.interpolateRgbBasis(ee(s,t.reverse)));s&&t.interpolate&&e.interpolate?e.interpolate(i.interpolate(t.interpolate,t.interpolateGamma)):n.isFunction(e.round)?e.round(a):n.isFunction(e.rangeRound)&&e.interpolate(a?o.interpolateRound:o.interpolate),s&&e.range(ee(s,t.reverse))}function K(e,t,r){e!==fe&&e!==de&&n.error("Only band and point scales support rangeStep.");var a=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o=e===de?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*i.bandSpace(r,o,a)]}function J(e,t,r){var a,o=t.scheme.toLowerCase(),s=i.scheme(o),u=t.schemeExtent;return s||n.error("Unrecognized scheme name: "+t.scheme),r=e===ye?r+1:e===be?r-1:e===me||e===ge?+t.schemeCount||Pe:r,e===_e?Z(s,u,t.reverse):!u&&(a=i.scheme(o+"-"+r))?a:n.isFunction(s)?te(Z(s,u),r):e===he?s:s.slice(0,r)}function Z(e,t,r){return n.isFunction(e)&&(t||r)?i.interpolateRange(e,ee(t||[0,1],r)):e}function ee(e,t){return t?e.slice().reverse():e}function te(e,t){for(var n=new Array(t),r=t-1||1,i=0;i<t;++i)n[i]=e(i/r);return n}function ne(e){t.Transform.call(this,null,e)}function re(e){t.Transform.call(this,null,e)}function ie(e,t,n,r,i){for(var a,o=(t-e.sum)/2,s=e.length,u=0;u<s;++u)a=e[u],a[r]=o,a[i]=o+=Math.abs(n(a))}function ae(e,t,n,r,i){for(var a,o=1/e.sum,s=0,u=e.length,l=0,c=0;l<u;++l)a=e[l],a[r]=s,a[i]=s=o*(c+=Math.abs(n(a)))}function oe(e,t,n,r,i){for(var a,o,s=0,u=0,l=e.length,c=0;c<l;++c)o=e[c],a=n(o),a<0?(o[r]=u,o[i]=u+=a):(o[r]=s,o[i]=s+=a)}function se(e,t,n,r){var i,a,o,s,u,l,c,f,d,p=[],h=function(e){return e(u)};if(null==t)p.push(e.slice());else for(i={},a=0,o=e.length;a<o;++a)u=e[a],l=t.map(h),c=i[l],c||(i[l]=c=[],p.push(c)),c.push(u);for(l=0,d=0,s=p.length;l<s;++l){for(c=p[l],a=0,f=0,o=c.length;a<o;++a)f+=Math.abs(r(c[a]));c.sum=f,f>d&&(d=f),n&&c.sort(n)}return p.max=d,p}var ue="log",le="pow",ce="sqrt",fe="band",de="point",pe="linear",he="ordinal",me="quantile",ge="quantize",ye="threshold",ve="bin-linear",be="bin-ordinal",_e="sequential",xe=n.inherits(h,t.Transform);xe.transform=function(e,n){if(this.value&&!e.modified())return n.StopPropagation;var r=n.fork(n.NO_SOURCE|n.NO_FIELDS),i=this.value,a=e.scale,o=e.values?e.values.length:e.count,c=e.format||l(a,o,e.formatSpecifier),f=e.values?s(a,e.values):u(a,o);return i&&(r.rem=i),i=f.map(function(e){return t.ingest({value:e,label:c(e)})}),e.extra&&i.push(t.ingest({extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r};var Se=n.inherits(m,t.Transform);Se.transform=function(e,r){var i=r.dataflow,a=r.fork(r.NO_SOURCE|r.NO_FIELDS),o=e.item||g,s=e.key||t.tupleid,u=this.value;return u||(r=r.addAll(),this.value=u=n.fastmap().test(y),u.lookup=function(e){return u.get(s(e))}),(e.modified("key")||r.modified(s))&&n.error("DataJoin does not support modified key function or fields."),r.visit(r.ADD,function(e){var t=s(e),n=u.get(t);n?n.exit?(u.empty--,a.add.push(n)):a.mod.push(n):(u.set(t,n=o(e)),a.add.push(n)),n.datum=e,n.exit=!1}),r.visit(r.MOD,function(e){var t=s(e),n=u.get(t);n&&(n.datum=e,a.mod.push(n))}),r.visit(r.REM,function(e){var t=s(e),n=u.get(t);e!==n.datum||n.exit||(a.rem.push(n),n.exit=!0,++u.empty)}),r.changed(r.ADD_MOD)&&a.modifies("datum"),e.clean&&u.empty>i.cleanThreshold&&i.runAfter(u.clean),a};var we=n.inherits(v,t.Transform);we.transform=function(e,t){var r=t.fork(t.ADD_REM),i=e.encoders,a=t.encode;if(n.isArray(a)){if(!r.changed()&&!a.every(function(e){return i[e]}))return t.StopPropagation;a=a[0]}var o="enter"===a,s=i.update||n.falsy,u=i.enter||n.falsy,l=i.exit||n.falsy,c=(a&&!o?i[a]:s)||n.falsy;if(t.changed(t.ADD)&&(t.visit(t.ADD,function(t){u(t,e),s(t,e),c!==n.falsy&&c!==s&&c(t,e)}),r.modifies(u.output),r.modifies(s.output),c!==n.falsy&&c!==s&&r.modifies(c.output)),t.changed(t.REM)&&l!==n.falsy&&(t.visit(t.REM,function(t){l(t,e)}),r.modifies(l.output)),o||c!==n.falsy){var f=t.MOD|(e.modified()?t.REFLOW:0);o?(t.visit(f,function(t){var n=u(t,e);(c(t,e)||n)&&r.mod.push(t)}),r.mod.length&&r.modifies(u.output)):t.visit(f,function(t){c(t,e)&&r.mod.push(t)}),r.mod.length&&r.modifies(c.output)}return r.changed()?r:t.StopPropagation};var Oe={};Oe[me]=x,Oe[ge]=_,Oe[ye]=S,Oe[ve]=w,Oe[be]=w;var ke=n.inherits(T,t.Transform);ke.transform=function(e,r){if(null!=this.value&&!e.modified())return r.StopPropagation;var a=r.fork(r.NO_SOURCE|r.NO_FIELDS),o=0,s=this.value,u="gradient"===e.type,c=e.scale,f=null==e.count?5:e.count,d=e.format||l(c,f,e.formatSpecifier),p=e.values||b(c,f,u);if(d=O(c,d),s&&(a.rem=s),u)var h=e.values?c.domain():p,m=i.scaleFraction(c,h[0],n.peek(h));else{var g,y=e.size;n.isFunction(y)?(e.values||0!==c(p[0])||(p=p.slice(1)),g=p.reduce(function(t,n){return Math.max(t,y(n,e))},0)):y=n.constant(g=y||8)}return s=p.map(function(n,r){var i=t.ingest({index:r,label:d(n,r,p),value:n});return u?i.perc=m(n):(i.offset=g,i.size=y(n,e),i.total=Math.round(o),o+=i.size),i}),a.source=s,a.add=s,this.value=s,a};var Ee=n.fastmap({line:N,"line-radial":I,arc:F,"arc-radial":L,curve:j,"curve-radial":z,"orthogonal-horizontal":$,"orthogonal-vertical":U,"orthogonal-radial":B,"diagonal-horizontal":q,"diagonal-vertical":W,"diagonal-radial":V}),Me=n.inherits(R,t.Transform);Me.transform=function(e,t){var r=e.sourceX||P,i=e.sourceY||C,a=e.targetX||A,o=e.targetY||D,s=e.as||"path",u=e.orient||"vertical",l=e.shape||"line",c=Ee.get(l+"-"+u)||Ee.get(l);return c||n.error("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,function(e){e[s]=c(r(e),i(e),a(e),o(e))}),t.reflow(e.modified()).modifies(s)};var Te=n.inherits(H,t.Transform);Te.transform=function(e,t){var r,i,o,s=e.as||["startAngle","endAngle"],u=s[0],l=s[1],c=e.field||n.one,f=e.startAngle||0,d=null!=e.endAngle?e.endAngle:2*Math.PI,p=t.source,h=p.map(c),m=h.length,g=f,y=(d-f)/a.sum(h),v=a.range(m);for(e.sort&&v.sort(function(e,t){return h[e]-h[t]}),r=0;r<m;++r)o=h[v[r]],i=p[v[r]],i[u]=g,i[l]=g+=o*y;return this.value=h,t.reflow(e.modified()).modifies(s)};var Pe=5,Ce=n.toSet([pe,le,ce]),Ae=n.toSet(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","nice","zero","range","rangeStep","round","reverse","interpolate","interpolateGamma"]),De=n.inherits(G,t.Transform);De.transform=function(e,t){var r,a=t.dataflow,o=this.value;o&&!e.modified("type")||(this.value=o=i.scale((e.type||pe).toLowerCase())());for(r in e)Ae[r]||(n.isFunction(o[r])?o[r](e[r]):a.warn("Unsupported scale property: "+r));return Q(o,e,Y(o,e),a),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var Re=n.inherits(ne,t.Transform);Re.transform=function(e,t){var n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(e.sort),this.modified(n),t};var Ne="center",Ie="normalize",Fe=n.inherits(re,t.Transform);Fe.transform=function(e,t){var r,i,a,o,s=e.as||["y0","y1"],u=s[0],l=s[1],c=e.field||n.one,f=e.offset===Ne?ie:e.offset===Ie?ae:oe;for(r=se(t.source,e.groupby,e.sort,c),i=0,a=r.length,o=r.max;i<a;++i)f(r[i],o,c,u,l);return t.reflow(e.modified()).modifies(s)};var Le={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"as",type:"string",default:"path"}]},je={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},ze={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,default:["y0","y1"]}]};t.register(Le,R),t.register(je,H),t.register(ze,re),t.transform("AxisTicks",h),t.transform("DataJoin",m),t.transform("Encode",v),t.transform("LegendEntries",T),t.transform("Scale",G),t.transform("SortItems",ne),e.transform=t.transform,e.definition=t.definition,e.scale=i.scale,e.scheme=i.scheme,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(7))}(this,function(e,t){"use strict";function n(e){this.type=e}function r(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":var t=e.arguments.slice();return t.unshift(e.callee),t;case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];case"Identifier":case"Literal":case"RawCode":default:return[]}}function i(e,t){if(!e)throw new Error("ASSERT: "+t)}function a(e){return e>=48&&e<=57}function o(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function s(e){return"01234567".indexOf(e)>=0}function u(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function l(e){return 10===e||13===e||8232===e||8233===e}function c(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&We.test(String.fromCharCode(e))}function f(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&Ve.test(String.fromCharCode(e))}function d(){for(var e;ce<fe&&(e=le.charCodeAt(ce),u(e)||l(e));)++ce}function p(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;t<n;++t)ce<fe&&o(le[ce])?(r=le[ce++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())):U({},De,Be);return String.fromCharCode(i)}function h(){var e,t,n,r;for(e=le[ce],t=0,"}"===e&&U({},De,Be);ce<fe&&(e=le[ce++],o(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&U({},De,Be),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function m(){var e,t;for(e=le.charCodeAt(ce++),t=String.fromCharCode(e),92===e&&(117!==le.charCodeAt(ce)&&U({},De,Be),++ce,e=p("u"),e&&"\\"!==e&&c(e.charCodeAt(0))||U({},De,Be),t=e);ce<fe&&(e=le.charCodeAt(ce),f(e));)++ce,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==le.charCodeAt(ce)&&U({},De,Be),++ce,e=p("u"),e&&"\\"!==e&&f(e.charCodeAt(0))||U({},De,Be),t+=e);return t}function g(){var e,t;for(e=ce++;ce<fe;){if(t=le.charCodeAt(ce),92===t)return ce=e,m();if(!f(t))break;++ce}return le.slice(e,ce)}function y(){var e,t,n;return e=ce,t=92===le.charCodeAt(ce)?m():g(),n=1===t.length?me:He.hasOwnProperty(t)?ge:"null"===t?ye:"true"===t||"false"===t?pe:me,{type:n,value:t,start:e,end:ce}}function v(){var e,t,n,r,i=ce,a=le.charCodeAt(ce),o=le[ce];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ce,{type:be,value:String.fromCharCode(a),start:i,end:ce};default:if(e=le.charCodeAt(ce+1),61===e)switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ce+=2,{type:be,value:String.fromCharCode(a)+String.fromCharCode(e),start:i,end:ce};case 33:case 61:return ce+=2,61===le.charCodeAt(ce)&&++ce,{type:be,value:le.slice(i,ce),start:i,end:ce}}}return r=le.substr(ce,4),">>>="===r?(ce+=4,{type:be,value:r,start:i,end:ce}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(ce+=3,{type:be,value:n,start:i,end:ce}):(t=n.substr(0,2),o===t[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?(ce+=2,{type:be,value:t,start:i,end:ce}):"<>=!+-*%&|^/".indexOf(o)>=0?(++ce,{type:be,value:o,start:i,end:ce}):void U({},De,Be)))}function b(e){for(var t="";ce<fe&&o(le[ce]);)t+=le[ce++];return 0===t.length&&U({},De,Be),c(le.charCodeAt(ce))&&U({},De,Be),{type:ve,value:parseInt("0x"+t,16),start:e,end:ce}}function _(e){for(var t="0"+le[ce++];ce<fe&&s(le[ce]);)t+=le[ce++];return(c(le.charCodeAt(ce))||a(le.charCodeAt(ce)))&&U({},De,Be),{type:ve,value:parseInt(t,8),octal:!0,start:e,end:ce}}function x(){var e,t,n;if(n=le[ce],i(a(n.charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=ce,e="","."!==n){if(e=le[ce++],n=le[ce],"0"===e){if("x"===n||"X"===n)return++ce,b(t);if(s(n))return _(t);n&&a(n.charCodeAt(0))&&U({},De,Be)}for(;a(le.charCodeAt(ce));)e+=le[ce++];n=le[ce]}if("."===n){for(e+=le[ce++];a(le.charCodeAt(ce));)e+=le[ce++];n=le[ce]}if("e"===n||"E"===n)if(e+=le[ce++],n=le[ce],"+"!==n&&"-"!==n||(e+=le[ce++]),a(le.charCodeAt(ce)))for(;a(le.charCodeAt(ce));)e+=le[ce++];else U({},De,Be);return c(le.charCodeAt(ce))&&U({},De,Be),{type:ve,value:parseFloat(e),start:t,end:ce}}function S(){var e,t,n,r,a="",o=!1;for(e=le[ce],i("'"===e||'"'===e,"String literal must starts with a quote"),t=ce,++ce;ce<fe;){if(n=le[ce++],n===e){e="";break}if("\\"===n)if(n=le[ce++],n&&l(n.charCodeAt(0)))"\r"===n&&"\n"===le[ce]&&++ce;else switch(n){case"u":case"x":"{"===le[ce]?(++ce,a+=h()):a+=p(n);break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;default:s(n)?(r="01234567".indexOf(n),0!==r&&(o=!0),ce<fe&&s(le[ce])&&(o=!0,r=8*r+"01234567".indexOf(le[ce++]),"0123".indexOf(n)>=0&&ce<fe&&s(le[ce])&&(r=8*r+"01234567".indexOf(le[ce++]))),a+=String.fromCharCode(r)):a+=n}else{if(l(n.charCodeAt(0)))break;a+=n}}return""!==e&&U({},De,Be),{type:_e,value:a,octal:o,start:t,end:ce}}function w(e,t){var n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(e,t){return parseInt(t,16)<=1114111?"x":void U({},je)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(r){U({},je)}try{return new RegExp(e,t)}catch(i){return null}}function O(){var e,t,n,r,a;for(e=le[ce],i("/"===e,"Regular expression literal must start with a slash"),t=le[ce++],n=!1,r=!1;ce<fe;)if(e=le[ce++],t+=e,"\\"===e)e=le[ce++],l(e.charCodeAt(0))&&U({},ze),t+=e;else if(l(e.charCodeAt(0)))U({},ze);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||U({},ze),a=t.substr(1,t.length-2),{value:a,literal:t}}function k(){var e,t,n;for(t="",n="";ce<fe&&(e=le[ce],f(e.charCodeAt(0)));)++ce,"\\"===e&&ce<fe?U({},De,Be):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&U({},je,n),{value:n,literal:t}}function E(){var e,t,n,r;return de=null,d(),e=ce,t=O(),n=k(),r=w(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:ce}}function M(e){return e.type===me||e.type===ge||e.type===pe||e.type===ye}function T(){var e;return d(),ce>=fe?{type:he,start:ce,end:ce}:(e=le.charCodeAt(ce),c(e)?y():40===e||41===e||59===e?v():39===e||34===e?S():46===e?a(le.charCodeAt(ce+1))?x():v():a(e)?x():v())}function P(){var e;return e=de,ce=e.end,de=T(),ce=e.end,e}function C(){var e;e=ce,de=T(),ce=e}function A(e){var t=new n(xe);return t.elements=e,t}function D(e,t,r){var i=new n("||"===e||"&&"===e?Me:Se);return i.operator=e,i.left=t,i.right=r,i}function R(e,t){var r=new n(we);return r.callee=e,r.arguments=t,r}function N(e,t,r){var i=new n(Oe);return i.test=e,i.consequent=t,i.alternate=r,i}function I(e){var t=new n(ke);return t.name=e,t}function F(e){var t=new n(Ee);return t.value=e.value,t.raw=le.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function L(e,t,r){var i=new n(Te);return i.computed="["===e,i.object=t,i.property=r,i.computed||(r.member=!0),i}function j(e){var t=new n(Pe);return t.properties=e,t}function z(e,t,r){var i=new n(Ce);return i.key=t,i.value=r,i.kind=e,i}function $(e,t){var r=new n(Ae);return r.operator=e,r.argument=t,r.prefix=!0,r}function U(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,function(e,t){return i(t<r.length,"Message reference must be in range"),r[t]});throw n=new Error(a),n.index=ce,n.description=a,n}function B(e){e.type===he&&U(e,Le),e.type===ve&&U(e,Re),e.type===_e&&U(e,Ne),e.type===me&&U(e,Ie),e.type===ge&&U(e,Fe),U(e,De,e.value)}function q(e){var t=P();t.type===be&&t.value===e||B(t)}function W(e){return de.type===be&&de.value===e}function V(e){return de.type===ge&&de.value===e}function H(){var e=[];for(ce=de.start,q("[");!W("]");)W(",")?(P(),e.push(null)):(e.push(se()),W("]")||q(","));return P(),A(e)}function G(){var e;return ce=de.start,e=P(),e.type===_e||e.type===ve?(e.octal&&U(e,$e),F(e)):I(e.value)}function Y(){var e,t,n,r;return ce=de.start,e=de,e.type===me?(n=G(),q(":"),r=se(),z("init",n,r)):e.type!==he&&e.type!==be?(t=G(),q(":"),r=se(),z("init",t,r)):void B(e)}function X(){var e,t,n,r=[],i={},a=String;for(ce=de.start,q("{");!W("}");)e=Y(),t=e.key.type===ke?e.key.name:a(e.key.value),n="$"+t,Object.prototype.hasOwnProperty.call(i,n)?U({},Ue):i[n]=!0,r.push(e),W("}")||q(",");return q("}"),j(r)}function Q(){var e;return q("("),e=ue(),q(")"),e}function K(){var e,t,n;if(W("("))return Q();if(W("["))return H();if(W("{"))return X();if(e=de.type,ce=de.start,e===me||Ge[de.value])n=I(P().value);else if(e===_e||e===ve)de.octal&&U(de,$e),n=F(P());else{if(e===ge)throw new Error(qe);e===pe?(t=P(),t.value="true"===t.value,n=F(t)):e===ye?(t=P(),t.value=null,n=F(t)):W("/")||W("/=")?(n=F(E()),C()):B(P())}return n}function J(){var e=[];if(q("("),!W(")"))for(;ce<fe&&(e.push(se()),!W(")"));)q(",");return q(")"),e}function Z(){var e;return ce=de.start,e=P(),M(e)||B(e),I(e.value)}function ee(){return q("."),Z()}function te(){var e;return q("["),e=ue(),q("]"),e}function ne(){var e,t,n;for(e=K();;)if(W("."))n=ee(),e=L(".",e,n);else if(W("("))t=J(),e=R(e,t);else{if(!W("["))break;n=te(),e=L("[",e,n)}return e}function re(){var e=ne();if(de.type===be&&(W("++")||W("--")))throw new Error(qe);return e}function ie(){var e,t;if(de.type!==be&&de.type!==ge)t=re();else{if(W("++")||W("--"))throw new Error(qe);if(W("+")||W("-")||W("~")||W("!"))e=P(),t=ie(),t=$(e.value,t);else{if(V("delete")||V("void")||V("typeof"))throw new Error(qe);t=re()}}return t}function ae(e){var t=0;if(e.type!==be&&e.type!==ge)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function oe(){var e,t,n,r,i,a,o,s,u,l;if(e=de,u=ie(),r=de,i=ae(r),0===i)return u;for(r.prec=i,P(),t=[e,de],o=ie(),a=[u,r,o];(i=ae(de))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),t.pop(),n=D(s,u,o),a.push(n);r=P(),r.prec=i,a.push(r),t.push(de),n=ie(),a.push(n)}for(l=a.length-1,n=a[l],t.pop();l>1;)t.pop(),n=D(a[l-1].value,a[l-2],n),l-=2;return n}function se(){var e,t,n;return e=oe(),W("?")&&(P(),t=se(),q(":"),n=se(),e=N(e,t,n)),e}function ue(){var e=se();if(W(","))throw new Error(qe);return e}n.prototype.visit=function(e){var t,n,i,a=this;if(e(a))return 1;for(t=r(a),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1};var le,ce,fe,de,pe=1,he=2,me=3,ge=4,ye=5,ve=6,be=7,_e=8,xe="ArrayExpression",Se="BinaryExpression",we="CallExpression",Oe="ConditionalExpression",ke="Identifier",Ee="Literal",Me="LogicalExpression",Te="MemberExpression",Pe="ObjectExpression",Ce="Property",Ae="UnaryExpression",De="Unexpected token %0",Re="Unexpected number",Ne="Unexpected string",Ie="Unexpected identifier",Fe="Unexpected reserved word",Le="Unexpected end of input",je="Invalid regular expression",ze="Invalid regular expression: missing /",$e="Octal literals are not allowed in strict mode.",Ue="Duplicate data property in object literal not allowed in strict mode",Be="ILLEGAL",qe="Disabled.",We=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),Ve=new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),He={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1},Ge={if:1,this:1},Ye=function(e){le=e,ce=0,fe=le.length,de=null,C();var t=ue();if(de.type!==he)throw new Error("Unexpect token after expression.");return t},Xe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"},Qe=function(e){function n(t,n,r,i){var a=e(n[0]);return r&&(a=r+"("+a+")",0===r.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(i<0?"":0===i?"()":"("+n.slice(1).map(e).join(",")+")")}function r(e,t,r){return function(i){return n(e,i,t,r)}}var i="new Date",a="String",o="RegExp";return{isNaN:"isNaN",isFinite:"isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(n){n.length<3&&t.error("Missing arguments to clamp function."),n.length>3&&t.error("Too many arguments to clamp function.");var r=n.map(e);return"Math.max("+r[1]+", Math.min("+r[2]+","+r[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:i,date:r("getDate",i,0),day:r("getDay",i,0),year:r("getFullYear",i,0),month:r("getMonth",i,0),hours:r("getHours",i,0),minutes:r("getMinutes",i,0),seconds:r("getSeconds",i,0),milliseconds:r("getMilliseconds",i,0),time:r("getTime",i,0),timezoneoffset:r("getTimezoneOffset",i,0),utcdate:r("getUTCDate",i,0),utcday:r("getUTCDay",i,0),utcyear:r("getUTCFullYear",i,0),utcmonth:r("getUTCMonth",i,0),utchours:r("getUTCHours",i,0),utcminutes:r("getUTCMinutes",i,0),utcseconds:r("getUTCSeconds",i,0),utcmilliseconds:r("getUTCMilliseconds",i,0),length:r("length",null,-1),indexof:r("indexOf",null),lastindexof:r("lastIndexOf",null),slice:r("slice",null),parseFloat:"parseFloat",parseInt:"parseInt",upper:r("toUpperCase",a,0),lower:r("toLowerCase",a,0),substring:r("substring",a),replace:r("replace",a),regexp:o,test:r("test",o),if:function(n){n.length<3&&t.error("Missing arguments to if function."),n.length>3&&t.error("Too many arguments to if function.");var r=n.map(e);return"("+r[0]+"?"+r[1]+":"+r[2]+")"}}},Ke=function(e){function n(e){if(t.isString(e))return e;var n=h[e.type];return null==n&&t.error("Unsupported type: "+e.type),n(e)}function r(e){var t={code:n(e),globals:Object.keys(c),fields:Object.keys(f)};return c={},f={},t}e=e||{};var i=e.whitelist?t.toSet(e.whitelist):{},a=e.blacklist?t.toSet(e.blacklist):{},o=e.constants||Xe,s=(e.functions||Qe)(n),u=e.globalvar,l=e.fieldvar,c={},f={},d=0,p=t.isFunction(u)?u:function(e){return u+'["'+e+'"]'},h={Literal:function(e){return e.raw},Identifier:function(e){var n=e.name;return d>0?n:a.hasOwnProperty(n)?t.error("Illegal identifier: "+n):o.hasOwnProperty(n)?o[n]:i.hasOwnProperty(n)?n:(c[n]=1,p(n))},MemberExpression:function(e){var t=!e.computed,r=n(e.object);t&&(d+=1);var i=n(e.property);return r===l&&(f[i]=1),t&&(d-=1),r+(t?"."+i:"["+i+"]")},CallExpression:function(e){"Identifier"!==e.callee.type&&t.error("Illegal callee type: "+e.callee.type);var r=e.callee.name,i=e.arguments,a=s.hasOwnProperty(r)&&s[r];return a||t.error("Unrecognized function: "+r),t.isFunction(a)?a(i):a+"("+i.map(n).join(",")+")";
},ArrayExpression:function(e){return"["+e.elements.map(n).join(",")+"]"},BinaryExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},UnaryExpression:function(e){return"("+e.operator+n(e.argument)+")"},ConditionalExpression:function(e){return"("+n(e.test)+"?"+n(e.consequent)+":"+n(e.alternate)+")"},LogicalExpression:function(e){return"("+n(e.left)+e.operator+n(e.right)+")"},ObjectExpression:function(e){return"{"+e.properties.map(n).join(",")+"}"},Property:function(e){d+=1;var t=n(e.key);return d-=1,t+":"+n(e.value)}};return r.functions=s,r.constants=o,r};e.ASTNode=n,e.parse=Ye,e.codegen=Ke,e.functions=Qe,e.constants=Xe,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(361))}(this,function(e,t,n,r){"use strict";function i(e){t.Transform.call(this,null,e)}function a(e,t){return function(){e.touch(t).run()}}function o(e,t){var n=r.forceSimulation(e),i=!1,a=n.stop,o=n.restart;return n.stopped=function(){return i},n.restart=function(){return i=!1,o()},n.stop=function(){return i=!0,a()},s(n,t,!0).on("end",function(){i=!0})}function s(e,t,r){var i,a,o,s=n.array(t.forces);for(i=0,a=f.length;i<a;++i)o=f[i],o!==c&&t.modified(o)&&e[o](t[o]);for(i=0,a=s.length;i<a;++i)(r||t.modified(c,i))&&e.force(c+i,u(s[i]));for(a=e.numForces||0;i<a;++i)e.force(c+i,null);return e.numForces=s.length,e}function u(e){var t,r;l.hasOwnProperty(e.force)||n.error("Unrecognized force: "+e.force),t=l[e.force]();for(r in e)n.isFunction(t[r])&&t[r](e[r]);return t}var l={center:r.forceCenter,collide:r.forceCollide,nbody:r.forceManyBody,link:r.forceLink,x:r.forceX,y:r.forceY},c="forces",f=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],d=["static","iterations"],p=["x","y","vx","vy"],h=n.inherits(i,t.Transform);h.transform=function(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(f),u=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),i&&s(n,e)):(this.value=n=o(t.source,e),n.on("tick",a(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(d)||t.changed()&&e.restart)if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/u)),e.static)for(n.stop();--u>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation;return this.finish(e,t)},h.finish=function(e,t){for(var n,r=t.dataflow,i=this._argops,a=0,o=i.length;a<o;++a)if(n=i[a],n.name===c&&"link"===n.op._argval.force)for(var s,u=n.op._argops,l=0,f=u.length;l<f;++l)if("links"===u[l].name&&(s=u[l].op.source)){r.pulse(s,r.changeset().reflow());break}return t.reflow(e.modified()).modifies(p)};var m={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:["x","y","vx","vy"]}]};t.register(m,i),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(360),n(362))}(this,function(e,t,n,r,i){"use strict";function a(e){t.Transform.call(this,null,e)}function o(e,t){return function n(){var r=t();return r.type=e,r.path=i.geoPath().projection(r),r.copy=r.copy||function(){var e=n();return w.forEach(function(t){r.hasOwnProperty(t)&&e[t](r[t]())}),e.path.pointRadius(r.path.pointRadius()),e},r}}function s(e,t){return arguments.length>1?(O[e]=o(e,t),this):O.hasOwnProperty(e)?O[e]:null}function u(e){return e&&e.path||S}function l(e){t.Transform.call(this,null,e)}function c(e){t.Transform.call(this,null,e)}function f(e){t.Transform.call(this,null,e)}function d(e,t){var n=function(n){return e(t(n))};return n.context=function(t){return e.context(t),n},n}function p(e){t.Transform.call(this,[],e),this.generator=i.geoGraticule()}function h(e){t.Transform.call(this,null,e),this.modified(!0)}function m(e,t){var n=g(t.fit);t.extent?e.fitExtent(t.extent,n):t.size?e.fitSize(t.size,n):0}function g(e){return n.isArray(e)?e.length>1?{type:"FeatureCollection",features:e}:e[0]:e}function y(e){var t=s((e||"mercator").toLowerCase());return t||n.error("Unrecognized projection type: "+e),t()}function v(e,t,r){n.isFunction(e[t])&&e[t](r)}var b=["values","size","thresholds"],_=["x","y","size","cellSize","bandwidth","thresholds"],x=n.inherits(a,t.Transform);x.transform=function(e,n){if(this.value&&!n.changed()&&!e.modified())return n.StopPropagation;var i,a,o,s=n.fork(n.NO_SOURCE|n.NO_FIELDS);return e.values?(i=r.contours(),a=b,o=e.values):(i=r.contourDensity(),a=_,o=n.materialize(n.SOURCE).source),a.forEach(function(t){null!=e[t]&&i[t](e[t])}),this.value&&(s.rem=this.value),this.value=s.source=s.add=i(o).map(t.ingest),s};var S=i.geoPath(),w=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"],O={albers:i.geoAlbers,albersusa:i.geoAlbersUsa,azimuthalequalarea:i.geoAzimuthalEqualArea,azimuthalequidistant:i.geoAzimuthalEquidistant,conicconformal:i.geoConicConformal,conicequalarea:i.geoConicEqualArea,conicequidistant:i.geoConicEquidistant,equirectangular:i.geoEquirectangular,gnomonic:i.geoGnomonic,mercator:i.geoMercator,orthographic:i.geoOrthographic,stereographic:i.geoStereographic,transversemercator:i.geoTransverseMercator};for(var k in O)s(k,O[k]);var E=n.inherits(l,t.Transform);E.transform=function(e,t){function r(e){e[l]=o(s(e))}var i,a=t.fork(t.ALL),o=this.value,s=e.field||n.identity,l=e.as||"path";return!o||e.modified()?(this.value=o=u(e.projection).context(null),a.materialize().reflow().visit(a.SOURCE,r)):(o.context(null),i=s===n.identity||t.modified(s.fields),a.visit(i?a.ADD_MOD:a.ADD,r)),a.modifies(l)};var M=n.inherits(c,t.Transform);M.transform=function(e,t){function n(e){var t=i([a(e),o(e)]);t?(e[u]=t[0],e[l]=t[1]):(e[u]=void 0,e[l]=void 0)}var r,i=e.projection,a=e.fields[0],o=e.fields[1],s=e.as||["x","y"],u=s[0],l=s[1];return e.modified()?t.materialize().reflow(!0).visit(t.SOURCE,n):(r=t.modified(a.fields)||t.modified(o.fields),t.visit(r?t.ADD_MOD:t.ADD,n)),t.modifies(s)};var T=n.inherits(f,t.Transform);T.transform=function(e,t){var r=t.fork(t.ALL),i=this.value,a=e.field||n.field("datum"),o=e.as||"shape",s=r.ADD_MOD;return i&&!e.modified()||(this.value=i=d(u(e.projection),a),r.materialize().reflow(),s=r.SOURCE),r.visit(s,function(e){e[o]=i}),r.modifies(o)};var P=n.inherits(p,t.Transform);P.transform=function(e,r){var i,a=r.fork(),o=this.value,s=this.generator;if(!o.length||e.modified())for(var u in e)n.isFunction(s[u])&&s[u](e[u]);return i=s(),o.length?(i._id=o[0]._id,a.mod.push(i)):a.add.push(t.ingest(i)),o[0]=i,a.source=o,a};var C=n.inherits(h,t.Transform);C.transform=function(e,t){var n=this.value;return!n||e.modified("type")?(this.value=n=y(e.type),w.forEach(function(t){null!=e[t]&&v(n,t,e[t])})):w.forEach(function(t){e.modified(t)&&v(n,t,e[t])}),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&m(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)};var A={type:"Contour",metadata:{generates:!0,source:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"thresholds",type:"number"}]},D={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"as",type:"string",default:"path"}]},R={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},N={type:"GeoShape",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"as",type:"string",default:"shape"}]},I={type:"Graticule",metadata:{source:!0,generates:!0,changes:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};t.register(A,a),t.register(D,l),t.register(R,c),t.register(N,f),t.register(I,p),t.transform("Projection",h),e.transform=t.transform,e.definition=t.definition,e.projection=s,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(99),n(363))}(this,function(e,t,n,r,i){"use strict";function a(e){t.Transform.call(this,null,e)}function o(e){return e.values}function s(e){t.Transform.call(this,null,e)}function u(e){t.Transform.call(this,{},e)}function l(e){var n;return e.parent&&(n=e.parent.data)&&null!=t.tupleid(n)&&n}function c(e){var t=e||"tidy";return w.hasOwnProperty(t)?w[t]():void n.error("Unrecognized Tree layout method: "+t)}function f(){var e=i.treemap();return e.ratio=function(t){var n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=function(t){S.hasOwnProperty(t)?e.tile(S[t]):n.error("Unrecognized Treemap layout method: "+t)},e}function d(e){t.Transform.call(this,null,e)}function p(e,t,n){for(var r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function h(e,t,n){for(var r=e.data,i=0,a=t.length-1;i<a;++i)r[n[i]]=e[t[i]];r[n[a]]=e.children?e.children.length:0}function m(e){d.call(this,e)}function g(e){d.call(this,e)}function y(e){d.call(this,e)}function v(e){d.call(this,e)}var b=n.inherits(a,t.Transform);b.transform=function(e,a){a.source||n.error("Nest transform requires an upstream data source.");var s,u,l,c,f=e.key||t.tupleid;return(!this.value||(c=e.modified())||a.changed())&&(s=n.array(e.keys).reduce(function(e,t){return e.key(t),e},r.nest()).entries(a.source),u=i.hierarchy({values:s},o),l=u.lookup={},u.each(function(e){null!=t.tupleid(e.data)&&(l[f(e.data)]=e)}),this.value=u),a.source.root=this.value,c?a.fork(a.ALL):a};var _=n.inherits(s,t.Transform);_.transform=function(e,t){t.source||n.error("Stratify transform requires an upstream data source.");var r,a,o=e.modified(),s=!this.value||o||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return s&&(r=i.stratify().id(e.key).parentId(e.parentKey)(t.source),a=r.lookup={},r.each(function(t){a[e.key(t.data)]=t}),this.value=r),t.source.root=this.value,o?t.fork(t.ALL):t};var x=n.inherits(u,t.Transform);x.transform=function(e,r){function i(e){var t=s[e];t&&(c[e]=1,f.mod.push(t))}r.source&&r.source.root||n.error("TreeLinks transform requires a backing tree data source.");var a=r.source.root,o=a.lookup,s=this.value,u=e.key||t.tupleid,c={},f=r.fork();return r.visit(r.REM,function(e){var t=u(e),n=s[t];n&&(delete s[t],f.rem.push(n))}),r.visit(r.ADD,function(e){var n,r=u(e);(n=l(o[r]))&&(f.add.push(s[r]=t.ingest({source:n,target:e})),c[r]=1)}),r.visit(r.MOD,function(e){var t=u(e),n=o[t],r=n.children;if(i(t),r)for(var a=0,s=r.length;a<s;++a)c[t=u(r[a].data)]||i(t)}),f};var S={binary:i.treemapBinary,dice:i.treemapDice,slice:i.treemapSlice,slicedice:i.treemapSliceDice,squarify:i.treemapSquarify,resquarify:i.treemapResquarify},w={tidy:i.tree,cluster:i.cluster},O=n.inherits(d,t.Transform);O.transform=function(e,t){t.source&&t.source.root||n.error(this.constructor.name+" transform requires a backing tree data source.");var r=this.layout(e.method),i=this.fields,a=t.source.root,o=e.as||i;e.field&&a.sum(e.field),e.sort&&a.sort(e.sort),p(r,this.params,e);try{this.value=r(a)}catch(s){n.error(s)}return a.each(function(e){h(e,i,o)}),t.reflow(e.modified()).modifies(o).modifies("leaf")},n.inherits(m,d),m.prototype.layout=c,m.prototype.params=["size","nodeSize","separation"],m.prototype.fields=["x","y","depth","children"],n.inherits(g,d),g.prototype.layout=f,g.prototype.params=["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],g.prototype.fields=["x0","y0","x1","y1","depth","children"],n.inherits(y,d),y.prototype.layout=i.partition,y.prototype.params=["size","round","padding"],y.prototype.fields=g.prototype.fields,n.inherits(v,d),v.prototype.layout=i.pack,v.prototype.params=["size","padding"],v.prototype.fields=["x","y","r","depth","children"];var k={type:"Nest",metadata:{treesource:!0},params:[{name:"keys",type:"field",array:!0},{name:"key",type:"field"}]},E={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},M={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[{name:"key",type:"field"}]},T={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:3,default:["x","y","r","depth","children"]}]},P={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:["x0","y0","x1","y1","depth","children"]}]},C={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:["x","y","depth","children"]}]},A={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:4,default:["x0","y0","x1","y1","depth","children"]}]};t.register(k,a),t.register(E,s),t.register(M,u),t.register(T,v),t.register(P,y),t.register(C,m),t.register(A,g),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){"use strict";function r(e,t,n,r){var f=e.fieldDef(t)||("x"===t?e.fieldDef("x2"):"y"===t?e.fieldDef("y2"):void 0),d=e.axis(t),p=e.config,h={};if(f.type===u.TEMPORAL){var m=e.getScaleComponent(t).get("type")===s.ScaleType.UTC;h.text={signal:c.timeFormatExpression("datum.value",f.timeUnit,d.format,p.axis.shortTimeLabels,p.timeFormat,m)}}if(void 0!==d.labelAngle?h.angle={value:d.labelAngle}:t===o.X&&(l.contains([u.NOMINAL,u.ORDINAL],f.type)||f.bin||f.type===u.TEMPORAL)&&(h.angle={value:270}),h.angle&&"x"===t){var g=(h.angle.value%360+360)%360,y=i(g,r.orient);y&&(h.align={value:y}),l.contains([90,270],g)&&(h.baseline={value:"middle"})}return h=a.__assign({},h,n),0===l.keys(h).length?void 0:h}function i(e,t){if(e&&e>0){if(e>180)return"top"===t?"left":"right";if(e<180)return"top"===t?"right":"left"}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(15),u=n(35),l=n(3),c=n(21);t.labels=r,t.labelAlign=i},function(e,t,n){"use strict";function r(e,t){return t.reduce(function(t,n){var r={axes:[],gridAxes:[]};if(e.axis(n)){var i=u(n,e);i&&a(i)&&r.axes.push(i);var o=s(n,e);o&&a(o)&&r.gridAxes.push(o),t[n]=r}return t},{})}function i(e){return e===!1||null===e}function a(e){return d.some(m,function(t){return o(e,t)})}function o(e,t){return"grid"===t||"title"===t?!!e[t]:!i(e[t])}function s(e,t){return l(e,t,!0)}function u(e,t){return l(e,t,!1)}function l(e,t,n){var r=t.axis(e),i={scale:t.scaleName(e)};f.AXIS_PROPERTIES.forEach(function(a){var o=c(a,r,e,t,n);void 0!==o&&(i[a]=o)});var a=c("gridScale",r,e,t,n);void 0!==a&&(i.gridScale=a);var s=r.encoding||{};return m.forEach(function(n){if(o(i,n)){var r;r="labels"===n?p.labels(t,e,s.labels||{},i):s[n]||{},void 0!==r&&d.keys(r).length>0&&(i.encode=i.encode||{},i.encode[n]={update:r})}}),i}function c(e,t,n,r,i){var a=r.fieldDef(n);switch(e){case"labels":return!i&&t[e];case"domain":return h.domain(e,t,i,n);case"ticks":return h.ticks(e,t,i,n);case"format":return h.format(t,n,a,r.config);case"grid":return h.grid(r,n,i);case"gridScale":return h.gridScale(r,n,i);case"orient":return h.orient(t,n);case"tickCount":return h.tickCount(t,n,a);case"title":return h.title(t,a,r.config,i);case"values":return h.values(t,r,a);case"zindex":return h.zindex(t,i)}return t[e]}Object.defineProperty(t,"__esModule",{value:!0});var f=n(267),d=n(3),p=n(592),h=n(594),m=["domain","grid","labels","ticks","title"];t.parseAxisComponent=r,t.parseGridAxis=s,t.parseMainAxis=u},function(e,t,n){"use strict";function r(e,t,n,r){return b.numberFormat(n,e.format,r,t)}function i(e,t){var n=e.axis(t).grid;return void 0!==n?n:!e.hasDiscreteDomain(t)&&!e.fieldDef(t).bin}function a(e,t,n){if(n)return i(e,t)}function o(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function s(e,t){var n=e.orient;if(n)return n;switch(t){case h.COLUMN:return"top";case h.X:return"bottom";case h.ROW:case h.Y:return"left"}throw new Error(y.message.INVALID_CHANNEL_FOR_AXIS)}function u(e,t,n){var r=e.tickCount;return void 0!==r?r:t!==h.X||n.bin?void 0:5}function l(e,t,n,r){if(!r&&""!==e.title){if(void 0!==e.title)return e.title;var i=g.title(t,n),a=e.titleMaxLength;return a?v.truncate(i,a):i}}function c(e,t,n){var r=e.values;if(e.values&&m.isDateTime(r[0]))return r.map(function(e){return{signal:m.dateTimeExpr(e,!0)}});if(!r&&n.bin){var i=t.getName(p.binToString(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+i+".start, "+i+".stop + "+i+".step, "+i+".step)"}}return r}function f(e,t){var n=e.zindex;return void 0!==n?n:t?0:1}function d(e,t,n,r){return!n&&r!==h.ROW&&r!==h.COLUMN&&t[e]}Object.defineProperty(t,"__esModule",{value:!0});var p=n(88),h=n(6),m=n(56),g=n(12),y=n(11),v=n(3),b=n(21);t.format=r,t.gridShow=i,t.grid=a,t.gridScale=o,t.orient=s,t.tickCount=u,t.title=l,t.values=c,t.zindex=f,t.domainAndTicks=d,t.domain=d,t.ticks=d},[687,282,11,93,627,21,90,30],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(118),a=n(93),o=n(3),s=n(21),u=n(73),l=n(89),c=n(91),f=n(55),d=function(e){function t(t,n,r,o,u){var l=e.call(this,t,n,r,u,i.initConcatResolve(t.resolve||{}))||this;return l.isVConcat=a.isVConcatSpec(t),l.children=(a.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return s.buildModel(e,l,l.getName("concat_"+t),void 0,o,u)}),l}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=l.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),o.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseAxisGroup=function(){return null},t.prototype.parseLegend=function(){for(var e=this,t=this.component.legends={},n=function(n){n.parseLegend(),o.keys(n.component.legends).forEach(function(r){"shared"===e.resolve[r].legend&&c.moveSharedLegendUp(t,n,r)})},r=0,i=this.children;r<i.length;r++){var a=i[r];n(a)}},t.prototype.assembleData=function(){return this.parent?[]:u.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},[])},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return r.__assign({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"all"})},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return r.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(f.Model);t.ConcatModel=d},[699,15,58,30],[700,6,12,23,15,35,3,21,48],[701,6,56,12,15,3],[702,48],[703,6,12,11,15,58,48,74],[704,48],function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,o=e.height;return a.__assign({},s.pointPosition("x",e,u.midX(r,n)),s.pointPosition("y",e,u.midY(o,n)),s.color(e),s.text(e,"tooltip"),s.nonPosition("size",e),i(e,n,t),s.nonPosition("opacity",e))}function i(e,t,n){return n?{shape:{value:n}}:s.nonPosition("shape",e,{defaultValue:o.getMarkConfig("shape","point",t)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(21),s=n(48),u=n(74);t.shapeMixins=i,t.point={vgMark:"symbol",defaultRole:"point",encodeEntry:function(e){return r(e)}},t.circle={vgMark:"symbol",defaultRole:"circle",encodeEntry:function(e){return r(e,"circle")}},t.square={vgMark:"symbol",defaultRole:"square",encodeEntry:function(e){return r(e,"square")}}},[706,6,12,11,23,15,48],[707,48,74],function(e,t,n){"use strict";function r(e,t){return u.isFieldDef(t)&&t.type===l.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function i(e,t){var n=c.getMarkConfig("align","text",t);if(void 0===n)return s.channelHasField(e,o.X)?"center":"right"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(6),s=n(38),u=n(12),l=n(35),c=n(21),f=n(48),d=n(74);t.text={vgMark:"text",defaultRole:void 0,encodeEntry:function(e){var t=e.config,n=e.encoding,o=e.height,s=n.text;return a.__assign({},f.pointPosition("x",e,r(t,s)),f.pointPosition("y",e,d.midY(o,t)),f.text(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e),f.nonPosition("size",e,{vgChannel:"fontSize"}),f.valueIfDefined("align",i(n,t)))}}},[708,58,48,74],[710,3,58,27],[711,92],function(e,t,n){"use strict";function r(e){e instanceof M.UnitModel?i(e):a(e)}function i(e){var t=e.specifiedScales,n=e.component.scales;S.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=a&&!b.isSelectionDomain(a),u=s(e,r),l=n[r];l.set("domain",u,o),b.isSelectionDomain(a)&&l.set("domainRaw",{signal:E.SELECTION_DOMAIN+JSON.stringify(a)},!0)})}function a(e){for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}var a=e.component.scales;S.keys(a).forEach(function(t){for(var n,r=0,i=e.children;r<i.length;r++){var o=i[r],s=o.component.scales[t];if(s){var u=s.get("domain");n=void 0===n?u:d(n,u)}}e instanceof k.FacetModel&&(w.isDataRefDomain(n)||w.isFieldRefUnionDomain(n)?n.data=O.FACET_SCALE_PREFIX+e.getName(n.data):w.isDataRefUnionedDomain(n)&&(n.fields=n.fields.map(function(t){return p.__assign({},t,{data:O.FACET_SCALE_PREFIX+e.getName(t.data)})}))),a[t].set("domain",n,!0)})}function o(e,t,n,r){if("unaggregated"===e){var i=c(t,n),a=i.valid,o=i.reason;if(!a)return void v.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=c(t,n).valid;if(a)return"unaggregated"}return e}function s(e,t){var n=e.getScaleComponent(t).get("type"),r=o(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=p.__assign({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?d(u(n,r,e,"x"),u(n,r,e,"x2")):u(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?d(u(n,r,e,"y"),u(n,r,e,"y2")):u(n,r,e,"y2"):u(n,r,e,t)}function u(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!b.isSelectionDomain(t)){if(!i.bin)return y.isDateTime(t[0])?t.map(function(e){return{signal:y.dateTimeExpr(e,!0)}}):t;v.warn(v.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel)return"normalize"===a.offset?[0,1]:{data:n.requestDataName(g.MAIN),fields:[n.field(r,{suffix:"start"}),n.field(r,{suffix:"end"})]};var o=l(n,r,e);if("unaggregated"===t)return{data:n.requestDataName(g.MAIN),fields:[n.field(r,{aggregate:"min"}),n.field(r,{aggregate:"max"})]};if(i.bin){if(b.isBinScale(e)){var s=n.getName(m.binToString(i.bin)+"_"+i.field+"_bins");return{signal:"sequence("+s+".start, "+s+".stop + "+s+".step, "+s+".step)"}}return b.hasDiscreteDomain(e)?{data:n.requestDataName(g.MAIN),field:n.field(r,{binSuffix:"range"}),sort:{field:n.field(r,{binSuffix:"start"}),op:"min"}}:"x"===r||"y"===r?{data:n.requestDataName(g.MAIN),fields:[n.field(r,{binSuffix:"start"}),n.field(r,{binSuffix:"end"})]}:{data:n.requestDataName(g.MAIN),field:n.field(r,{binSuffix:"start"})}}return o?{data:x.isBoolean(o)?n.requestDataName(g.MAIN):n.requestDataName(g.RAW),field:n.field(r),sort:o}:{data:n.requestDataName(g.MAIN),field:n.field(r)}}function l(e,t,n){if(b.hasDiscreteDomain(n)){var r=e.sort(t);return _.isSortField(r)?r:!!x.contains(["ascending","descending",void 0],r)||void 0}}function c(e,t){return e.aggregate?h.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:v.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:v.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:v.message.unaggregateDomainHasNoEffectForRawField(e)}}function f(e){if(x.isArray(e))return[e];if(w.isSignalRefDomain(e))return[e];if(w.isDataRefDomain(e))return delete e.sort,[e];if(w.isFieldRefUnionDomain(e))return e.fields.map(function(t){return{data:e.data,field:t}});if(w.isDataRefUnionedDomain(e))return e.fields;throw new Error(v.message.INVAID_DOMAIN)}function d(e,t){var n=f(e),r=f(t),i=n.concat(r);if(i=x.unique(i,x.hash),i.length>1){var a=i.map(function(e){return w.isDataRefDomain(e)?e.data:null});if(1===x.unique(a,function(e){return e}).length&&null!==a[0]){var o={data:a[0],fields:i.map(function(e){return e.field})};return o}return{fields:i,sort:!0}}return i[0]}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(112),m=n(88),g=n(75),y=n(56),v=n(11),b=n(15),_=n(173),x=n(3),S=n(3),w=n(58),O=n(73),k=n(115),E=n(27),M=n(30);t.parseScaleDomain=r,t.parseDomainForChannel=s,t.domainSort=l,t.canUseUnaggregatedDomain=c,t.unionDomains=d},function(e,t,n){"use strict";function r(e){i(e),h.parseScaleDomain(e);for(var n=0,r=t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;n<r.length;n++){var a=r[n];m.parseScaleProperty(e,a)}g.parseScaleRange(e)}function i(e){e instanceof d.UnitModel?e.component.scales=a(e):e.component.scales=o(e)}function a(e){var t=e.encoding,n=e.config,r=e.mark();return s.SCALE_CHANNELS.reduce(function(i,a){var o,s={},l=t[a];if(u.isFieldDef(l)?(o=l,s=l.scale||{}):u.isConditionalDef(l)&&u.isFieldDef(l.condition)?(o=l.condition,s=l.condition.scale||{}):"x"===a?o=u.getFieldDef(t.x2):"y"===a&&(o=u.getFieldDef(t.y2)),o){var c=s.type,f=y.scaleType(s.type,a,o,r,s.rangeStep,n.scale);i[a]=new p.ScaleComponent(e.scaleName(a+"",!0),{value:f,explicit:c===f})}return i},{})}function o(e){for(var t=e.component.scales={},n={},r={},a=function(t){i(t),c.keys(t.component.scales).forEach(function(i){if("shared"===e.resolve[i].scale){if(r[i])return;var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?l.scaleCompatible(a.value,o.value)?n[i]=f.mergeValuesWithExplicit(a,o,function(e,t){return l.scaleTypePrecedence(e)-l.scaleTypePrecedence(t)}):(r[i]=!0,delete n[i]):n[i]=o}})},o=0,s=e.children;o<s.length;o++){var u=s[o];a(u)}return c.keys(n).forEach(function(r){for(var i=e.scaleName(r,!0),a=n[r],o=(t[r]=new p.ScaleComponent(i,a),0),s=e.children;o<s.length;o++){var u=s[o],l=u.component.scales[r];l&&(u.renameScale(l.get("name"),i),l.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),u=n(12),l=n(15),c=n(3),f=n(92),d=n(30),p=n(609),h=n(610),m=n(279),g=n(280),y=n(612);t.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES=["round","clamp","nice","exponent","interpolate","zero","padding","paddingInner","paddingOuter"],t.parseScale=r,t.parseScaleCore=i},function(e,t,n){"use strict";function r(e,t,n,r,a,l){var c=i(t,n,r,a,l);return s.hasScale(t)?void 0!==e?s.supportScaleType(t,e)?o(e,n)?e:(u.warn(u.message.scaleTypeNotWorkWithFieldDef(e,c)),c):(u.warn(u.message.scaleTypeNotWorkWithChannel(t,e,c)),c):c:null}function i(e,t,n,r,i){if(p.contains(["row","column"],e))return"band";switch(t.type){case"nominal":return"color"===e||"discrete"===s.rangeType(e)?"ordinal":a(e,n,r,i);case"ordinal":return"color"===e?"sequential":"discrete"===s.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):a(e,n,r,i);case"temporal":return"color"===e?f.isDiscreteByDefault(t.timeUnit)?"ordinal":"sequential":"discrete"===s.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):f.isDiscreteByDefault(t.timeUnit)?a(e,n,r,i):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===s.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear"}throw new Error(u.message.invalidFieldType(t.type))}function a(e,t,n,r){if(p.contains(["x","y"],e)){if("rect"===t)return"band";if("bar"===t)return"band"}return"point"}function o(e,t){var n=t.type;return h.contains([d.Type.ORDINAL,d.Type.NOMINAL],n)?void 0===e||c.hasDiscreteDomain(e):n===d.Type.TEMPORAL?t.timeUnit?h.contains([l.ScaleType.TIME,l.ScaleType.UTC,void 0],e)||c.hasDiscreteDomain(e):h.contains([l.ScaleType.TIME,l.ScaleType.UTC,void 0],e):n!==d.Type.QUANTITATIVE||(t.bin?e===l.ScaleType.BIN_LINEAR||e===l.ScaleType.BIN_ORDINAL:h.contains([l.ScaleType.LOG,l.ScaleType.POW,l.ScaleType.SQRT,l.ScaleType.QUANTILE,l.ScaleType.QUANTIZE,l.ScaleType.LINEAR,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),u=n(11),l=n(15),c=n(15),f=n(57),d=n(35),p=n(3),h=n(3);t.scaleType=r,t.fieldDefMatchScaleType=o},[714,3,281,27],[715,3,27,171],[716,11],[718,3,27],[719,614,171,615,116,616,618,619],[720,6,170,27,116],[721,6,3,170,27,116],function(e,t,n){"use strict";function r(e){return!!e.type}function i(e,n){var r,i,c,f,d=(e.mark,e.encoding),p=s.__rest(e,["mark","encoding"]),h=(d.x,d.y,s.__rest(d,["x","y"])),m=h.size,g=s.__rest(h,["size"]),y=(g.color,
s.__rest(g,["color"])),v=m?{size:m}:{size:{value:n.box.size}};if(u.isFieldDef(d.x)&&u.isFieldDef(d.y)){var b=a(e),_=o(e,b);r=_.discreteAxisFieldDef,i=_.continuousAxisChannelDef,c=_.discreteAxis,f=_.continuousAxis}else if(u.isFieldDef(d.x)&&l.isContinuous(d.x)&&void 0===d.y)f="x",i=d.x;else{if(void 0!==d.x||!u.isFieldDef(d.y)||!l.isContinuous(d.y))throw new Error("Need a continuous axis for 1D boxplots");f="y",i=d.y}if(void 0!==i.aggregate&&i.aggregate!==t.BOXPLOT)throw new Error("Continuous axis should not have customized aggregation function "+i.aggregate);var x={field:i.field,type:i.type},S=s.__assign({aggregate:"min"},x),w=s.__assign({axis:i.axis},S),O=s.__assign({aggregate:"q1"},x),k=s.__assign({aggregate:"median"},x),E=s.__assign({aggregate:"q3"},x),M=s.__assign({aggregate:"max"},x),T=void 0!==r?(P={},P[c]=r,P):{};return s.__assign({},p,{layer:[{mark:{type:"rule",role:"boxWhisker"},encoding:s.__assign({},T,(C={},C[f]=w,C[f+"2"]=O,C),y)},{mark:{type:"rule",role:"boxWhisker"},encoding:s.__assign({},T,(A={},A[f]=E,A[f+"2"]=M,A),y)},{mark:{type:"bar",role:"box"},encoding:s.__assign({},T,(D={},D[f]=O,D[f+"2"]=E,D),g,v)},{mark:{type:"tick",role:"boxMid"},encoding:s.__assign({},T,(R={},R[f]=k,R),h,v,{color:{value:"white"}})}]});var P,C,A,D,R}function a(e){var n,i=e.mark,a=e.encoding,o=(s.__rest(e,["mark","encoding"]),a.x),u=a.y;if(l.isDiscrete(o)&&l.isContinuous(u))n="vertical";else if(l.isDiscrete(u)&&l.isContinuous(o))n="horizontal";else{if(!l.isContinuous(o)||!l.isContinuous(u))throw new Error("Both x and y cannot be discrete");if(void 0===o.aggregate&&u.aggregate===t.BOXPLOT)n="vertical";else if(void 0===u.aggregate&&o.aggregate===t.BOXPLOT)n="horizontal";else{if(o.aggregate===t.BOXPLOT&&u.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");n=r(i)&&i&&i.orient?i.orient:"vertical"}}return n}function o(e,n){var r,i,a,o,u=(e.mark,e.encoding),l=(s.__rest(e,["mark","encoding"]),u.x),c=u.y;if("vertical"===n?(a="x",o="y",i=c,r=l):(a="y",o="x",i=l,r=c),i&&i.aggregate){var f=i.aggregate,d=s.__rest(i,["aggregate"]);if(f!==t.BOXPLOT)throw new Error("Continuous axis should not have customized aggregation function "+f);i=d}return{discreteAxisFieldDef:r,continuousAxisChannelDef:i,discreteAxis:a,continuousAxis:o}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(12),l=n(12);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_ROLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size"]},t.normalizeBoxPlot=i,t.box2DOrient=a,t.box2DParams=o},function(e,t,n){"use strict";function r(e){var t=(e.mark,e.encoding),n=i.__rest(e,["mark","encoding"]),r=(t.size,i.__rest(t,["size"])),a=(t.x2,t.y2,i.__rest(t,["x2","y2"])),o=(a.x,a.y,i.__rest(a,["x","y"]));if(!t.x2&&!t.y2)throw new Error("Neither x2 or y2 provided");return i.__assign({},n,{layer:[{mark:"rule",encoding:r},{mark:"tick",encoding:a},{mark:"tick",encoding:t.x2?i.__assign({x:t.x2,y:t.y},o):i.__assign({x:t.x,y:t.y2},o)}]})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.ERRORBAR="error-bar",t.normalizeErrorBar=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},[725,27,56,12,57,3],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VL_ONLY_GUIDE_CONFIG=["shortTimeLabels"]},function(e,t){"use strict";function n(e){return!!e.or}function r(e){return!!e.and}function i(e){return!!e.not}Object.defineProperty(t,"__esModule",{value:!0}),t.isLogicalOr=n,t.isLogicalAnd=r,t.isLogicalNot=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultConfig={single:{on:"click",fields:["_id"],resolve:"global"},multi:{on:"click",fields:["_id"],toggle:"event.shiftKey",resolve:"global"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel",resolve:"global"}}},function(e,t){"use strict";function n(e){return r.reduce(function(t,n){return e&&void 0!==e[n]&&(t[n]=e[n]),t},{})}Object.defineProperty(t,"__esModule",{value:!0});var r=["background","padding","autoResize"];t.extractTopLevelProperties=n},[728,23,23,3],function(e,t,n){"use strict";function r(e,t,n){if(void 0!==e&&null!==e&&t)switch(t){case"time":return n?l.timeFormat(n)(e):o(e);case"number":return n?s.format(n)(e):a(e);case"string":default:return e}}function i(e){return"number"==typeof e?a(e):e instanceof Date?o(e):e}function a(e){return e%1===0?s.format(",")(e):s.format(",.2f")(e)}function o(e){var t=l.timeFormat(".%L"),n=l.timeFormat(":%S"),r=l.timeFormat("%I:%M"),i=l.timeFormat("%I %p"),a=l.timeFormat("%a %d"),o=l.timeFormat("%b %d"),s=l.timeFormat("%B"),c=l.timeFormat("%Y");return(u.timeSecond(e)<e?t:u.timeMinute(e)<e?n:u.timeHour(e)<e?r:u.timeDay(e)<e?i:u.timeMonth(e)<e?u.timeWeek(e)<e?a:o:u.timeYear(e)<e?s:c)(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(100),u=n(130),l=n(102);t.customFormat=r,t.autoFormat=i,t.autoNumberFormat=a,t.autoTimeFormat=o},function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t={showAllFields:!0}),a(e,f(t)),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function i(e,t,n){return void 0===n&&(n={showAllFields:!0}),n=m.supplementOptions(f(n),t),a(e,n),{destroy:function(){e.removeEventListener("mouseover.tooltipInit"),e.removeEventListener("mousemove.tooltipUpdate"),e.removeEventListener("mouseout.tooltipRemove"),o()}}}function a(e,t){e.addEventListener("mouseover.tooltipInit",function(e,n){c(n)&&(o(),y=window.setTimeout(function(){s(e,n,t)},t.delay||p.DELAY))}),e.addEventListener("mousemove.tooltipUpdate",function(e,n){c(n)&&v&&u(e,n,t)}),e.addEventListener("mouseout.tooltipRemove",function(e,n){c(n)&&(o(),v&&l(e,n,t))})}function o(){window.clearTimeout(y),y=void 0}function s(e,t,n){var r=g.getTooltipPlaceholder(),i=h.getTooltipData(t,n);i&&0!==i.length&&(g.bindData(r,i),g.updatePosition(e,n),g.updateColorTheme(n),d.select("#vis-tooltip").style("visibility","visible"),v=!0,n.onAppear&&n.onAppear(e,t))}function u(e,t,n){c(t)&&(g.updatePosition(e,n),n.onMove&&n.onMove(e,t))}function l(e,t,n){c(t)&&(d.select("#vis-tooltip").style("visibility","hidden"),v=!1,g.clearData(),g.clearColorTheme(),g.clearPosition(),n.onDisappear&&n.onDisappear(e,t))}function c(e){return!(!e||!e.datum)&&!e.datum._facetID}function f(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}Object.defineProperty(t,"__esModule",{value:!0});var d=n(205),p=n(631),h=n(632),m=n(633),g=n(634),y=void 0,v=!1;t.vega=r,t.vegaLite=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DELAY=100},function(e,t,n){"use strict";function r(e,t){if("group"!==e.mark.marktype||"nested_main_group"!==e.mark.name){var n,r={};for(var a in e.datum)e.datum.hasOwnProperty(a)&&(r[a]=e.datum[a]);var f=["_id","_prev","width","height","count_start","count_end","layout_start","layout_mid","layout_end","layout_path","layout_x","layout_y"];return s(r,f),u(r,t.fields),l(r,t.fields),c(e.mark.marktype,r),n=t.showAllFields===!0?o(r,t):i(r,t)}}function i(e,t){var n=[];return t.fields.forEach(function(t){var r=t.title?t.title:t.field,i=a(e,t.field);if(void 0!==i){var o=f.customFormat(i,t.formatType,t.format)||f.autoFormat(i);n.push({title:r,value:o})}}),n}function a(e,t){var n,r=t.split("."),i=r[0];return r.shift(),e[i]&&(n=e[i],r.forEach(function(e){n=n,n[e]&&(n=n[e])})),void 0===n?void console.warn("[Tooltip] Cannot find field "+t+" in data."):n}function o(e,t){var n=[],r={};if(t&&t.fields)for(var i=0,a=t.fields;i<a.length;i++){var o=a[i];r[o.field]=o}for(var s in e)if(e.hasOwnProperty(s)){var u=e[s],l=void 0;l=r[s]&&r[s].title?r[s].title:s;var c=void 0,d=void 0;r[s]&&(c=r[s].formatType,d=r[s].format);var p=f.customFormat(u,c,d)||f.autoFormat(u);n.push({title:l,value:p})}return n}function s(e,t){t.forEach(function(t){delete e[t]})}function u(e,t){t&&t.forEach(function(t){t.removeOriginalTemporalField&&s(e,[t.removeOriginalTemporalField])})}function l(e,t){if(t)return t.forEach(function(t){if(t.bin===!0){var n=t.field,r=n.concat("_start"),i=n.concat("_mid"),a=n.concat("_end"),o=e[r],u=e[a];if(void 0!==o&&void 0!==u){var l=o+"-"+u;e[n]=l}var c=[];c.push(r,i,a),s(e,c)}}),e}function c(e,t){if("line"===e||"area"===e){var n=[];for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];i instanceof Date&&n.push(r)}s(t,n)}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(629);t.getTooltipData=r,t.prepareCustomFieldsData=i,t.getValue=a,t.prepareAllFieldsData=o,t.removeFields=s,t.removeDuplicateTimeFields=u,t.combineBinFields=l,t.dropFieldsForLineArea=c},function(e,t,n){"use strict";function r(e,t){var n=[];return e.showAllFields!==!1?s.spec.fieldDefs(t).forEach(function(r){var a=i(e.fields,r),s=o(a,r,t);n.push(s)}):e.fields&&e.fields.forEach(function(e){var r=a(s.spec.fieldDefs(t),e),i=o(e,r,t);n.push(i)}),e.fields=n,e}function i(e,t){if(t&&e&&!(e.length<=0))if(t.aggregate){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field&&i.aggregate===t.aggregate)return i}for(var a=0,o=e;a<o.length;a++){var i=o[a];if(i.field===t.field&&!i.aggregate)return i}}else for(var s=0,u=e;s<u.length;s++){var i=u[s];if(i.field===t.field)return i}}function a(e,t){if(t&&t.field&&e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i.field===t.field){if(!i.aggregate)return i;if(i.aggregate===t.aggregate||!t.aggregate)return i}}}function o(e,t,n){var r=s.util.extend({},n.config);if(!e&&!t)return void console.error("[Tooltip] Cannot supplement a field when field and fieldDef are both empty.");!e&&t&&(e={}),e&&!t&&(t={});var i={};if(i.field=t.field?s.fieldDef.field(t):e.field,t.type===u.TEMPORAL&&t.timeUnit){var a=t.field;i.removeOriginalTemporalField=a;for(var o=s.spec.fieldDefs(n),c=0,f=o;c<f.length;c++){var d=f[c];if(d.field===a&&!d.timeUnit){i.removeOriginalTemporalField=void 0;break}}}if(r.countTitle||(r.countTitle=s.config.defaultConfig.countTitle),i.title=e.title?e.title:s.fieldDef.title(t,r),i.formatType=e.formatType?e.formatType:l[t.type],e.format)i.format=e.format;else switch(i.formatType){case"time":i.format=t.timeUnit?s.timeUnit.formatExpression(t.timeUnit,"",!1,!1).split("'")[1]:r.timeFormat||s.config.defaultConfig.timeFormat;break;case"number":i.format=r.numberFormat;break;case"string":}return t.bin&&(i.field=i.field.replace("_start","_range"),i.bin=!0,i.formatType="string"),i}Object.defineProperty(t,"__esModule",{value:!0});var s=n(674),u=n(33),l={quantitative:"number",temporal:"time",ordinal:void 0,nominal:void 0};t.supplementOptions=r,t.getFieldOption=i,t.getFieldDef=a,t.supplementFieldOption=o},function(e,t,n){"use strict";function r(){var e;return e=c.select("#vis-tooltip").empty()?c.select("body").append("div").attr("id","vis-tooltip").attr("class","vg-tooltip"):c.select("#vis-tooltip")}function i(e,t){e.selectAll("table").remove();var n=e.append("table").selectAll(".tooltip-row").data(t);n.exit().remove();var r=n.enter().append("tr").attr("class","tooltip-row");r.append("td").attr("class","key").text(function(e){return e.title+":"}),r.append("td").attr("class","value").text(function(e){return e.value})}function a(){c.select("#vis-tooltip").selectAll(".tooltip-row").data([]).exit().remove()}function o(e,t){var n=10,r=10;t&&t.offset&&void 0!==t.offset.x&&null!==t.offset.x&&(n=t.offset.x),t&&t.offset&&void 0!==t.offset.y&&null!==t.offset.y&&(r=t.offset.y),c.select("#vis-tooltip").style("top",function(){var t=this.getBoundingClientRect().height;return e.clientY+t+r<window.innerHeight?""+(e.clientY+r)+"px":""+(e.clientY-t-r)+"px"}).style("left",function(){var t=this.getBoundingClientRect().width;return e.clientX+t+n<window.innerWidth?""+(e.clientX+n)+"px":""+(e.clientX-t-n)+"px"})}function s(){c.select("#vis-tooltip").style("top","-9999px").style("left","-9999px")}function u(e){l(),e&&"dark"===e.colorTheme?c.select("#vis-tooltip").classed("dark-theme",!0):c.select("#vis-tooltip").classed("light-theme",!0)}function l(){c.select("#vis-tooltip").classed("dark-theme light-theme",!1)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(205);t.getTooltipPlaceholder=r,t.bindData=i,t.clearData=a,t.updatePosition=o,t.clearPosition=s,t.updateColorTheme=u,t.clearColorTheme=l},function(e,t){"use strict";function n(e){return function(t,n){return n[e]&&t.push(n[e].combine()),t}}function r(e){return[].concat(e.x?[].concat(e.x.reduce(i,[]),e.x.reduce(a,[])):[],e.y?[].concat(e.y.reduce(i,[]),e.y.reduce(a,[])):[])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("main"),a=n("grid");t.assembleAxes=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(43),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(i.Split);t.AxisComponentPart=a},function(e,t,n){"use strict";function r(e,t,n){return _.numberFormat(t,e.format,n)}function i(e,t){var n=e.axis(t).grid;return void 0!==n?n:!e.hasDiscreteDomain(t)&&!e.fieldDef(t).bin}function a(e,t,n){if(n)return i(e,t)}function o(e,t,n){if(n){var r="x"===t?"y":"x";if(e.getScaleComponent(r))return e.scaleName(r)}}function s(e,t){var n=e.orient;if(n)return n;switch(t){case m.COLUMN:return"top";case m.X:return"bottom";case m.ROW:case m.Y:return"left"}throw new Error(v.message.INVALID_CHANNEL_FOR_AXIS)}function u(e,t,n){var r=e.tickCount;return void 0!==r?r:t!==m.X||n.bin?void 0:5}function l(e,t,n,r){if(!r&&""!==e.title){if(void 0!==e.title)return e.title;var i=y.title(t,n),a=e.titleMaxLength;return a?b.truncate(i,a):i}}function c(e,t,n){var r=e.values;if(e.values&&g.isDateTime(r[0]))return r.map(function(e){return{signal:g.dateTimeExpr(e,!0)}});if(!r&&n.bin){var i=t.getName(h.binToString(n.bin)+"_"+n.field+"_bins");return{signal:"sequence("+i+".start, "+i+".stop + "+i+".step, "+i+".step)"}}return r}function f(e,t){var n=e.zindex;return void 0!==n?n:t?0:1}function d(e,t,n,r){return!n&&r!==m.ROW&&r!==m.COLUMN&&t[e]}function p(e,t,n,r){if(!r&&"x"===n&&!x.labelAngle(t,n,e))return!0}Object.defineProperty(t,"__esModule",{value:!0});var h=n(95),m=n(5),g=n(60),y=n(16),v=n(8),b=n(2),_=n(18),x=n(287);t.format=r,t.gridShow=i,t.grid=a,t.gridScale=o,t.orient=s,t.tickCount=u,t.title=l,t.values=c,t.zindex=f,t.domainAndTicks=d,t.labelOverlap=p,t.domain=d,t.ticks=d},[687,303,8,98,672,18,97,31],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(125),a=n(98),o=n(2),s=n(18),u=n(76),l=n(96),c=n(77),f=n(59),d=function(e){function t(t,n,r,o,u){var l=e.call(this,t,n,r,u,i.initConcatResolve(t.resolve||{}))||this;return l.isVConcat=a.isVConcatSpec(t),l.children=(a.isVConcatSpec(t)?t.vconcat:t.hconcat).map(function(e,t){return s.buildModel(e,l,l.getName("concat_"+t),void 0,o,u)}),l}return r.__extends(t,e),t.prototype.parseData=function(){this.component.data=l.parseData(this),this.children.forEach(function(e){e.parseData()})},t.prototype.parseSelection=function(){var e=this;this.component.selection={};for(var t=function(t){t.parseSelection(),o.keys(t.component.selection).forEach(function(n){e.component.selection[n]=t.component.selection[n]})},n=0,r=this.children;n<r.length;n++){var i=r[n];t(i)}},t.prototype.parseMarkGroup=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseMarkGroup()}},t.prototype.parseAxisAndHeader=function(){for(var e=0,t=this.children;e<t.length;e++){var n=t[e];n.parseAxisAndHeader()}},t.prototype.parseAxisGroup=function(){return null},t.prototype.parseLegend=function(){c.parseNonUnitLegend(this)},t.prototype.assembleData=function(){return this.parent?[]:u.assembleData(this.component.data)},t.prototype.assembleParentGroupProperties=function(){return null},t.prototype.assembleSelectionTopLevelSignals=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionTopLevelSignals(e)},e)},t.prototype.assembleSelectionSignals=function(){return this.children.forEach(function(e){return e.assembleSelectionSignals()}),[]},t.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(e,t){return e.concat(t.assembleLayoutSignals())},[])},t.prototype.assembleSelectionData=function(e){return this.children.reduce(function(e,t){return t.assembleSelectionData(e)},[])},t.prototype.assembleLayout=function(){return r.__assign({padding:{row:10,column:10},offset:10},this.isVConcat?{columns:1}:{},{bounds:"full",align:"all"})},t.prototype.assembleMarks=function(){return this.children.map(function(e){var t=e.assembleParentGroupProperties();return r.__assign({type:"group",name:e.getName("group")},t?{encode:{update:t}}:{},e.assembleGroup())})},t}(f.Model);t.ConcatModel=d},[699,13,62,31],function(e,t,n){"use strict";function r(e){var t=e.component.legends,n={};return a.keys(t).forEach(function(r){var a=e.getScaleComponent(r),s=i(a.get("domain"));if(n[s])for(var u=0,l=n[s];u<l.length;u++){var c=l[u],f=o.mergeLegendComponent(c,t[r]);f||n[s].push(t[r])}else n[s]=[t[r].clone()]}),a.flatten(a.vals(n)).map(function(e){return e.combine()})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(81),a=n(2),o=n(77);t.assembleLegends=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(43),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(i.Split);t.LegendComponent=a},[700,5,16,24,13,33,2,18,49],[701,5,60,16,13,2],[702,49],[703,5,16,8,13,62,49,78],[704,49],function(e,t,n){"use strict";function r(e,t){var n=e.config,r=e.width,o=e.height;return a.__assign({},s.pointPosition("x",e,u.midX(r,n)),s.pointPosition("y",e,u.midY(o,n)),s.color(e),s.text(e,"tooltip"),s.nonPosition("size",e),i(e,n,t),s.nonPosition("opacity",e))}function i(e,t,n){return n?{shape:{value:n}}:s.nonPosition("shape",e,{defaultValue:o.getMarkConfig("shape",e.markDef,t)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(18),s=n(49),u=n(78);t.shapeMixins=i,t.point={vgMark:"symbol",defaultRole:"point",encodeEntry:function(e){return r(e)}},t.circle={vgMark:"symbol",defaultRole:"circle",encodeEntry:function(e){return r(e,"circle")}},t.square={vgMark:"symbol",defaultRole:"square",encodeEntry:function(e){return r(e,"square")}}},[706,5,16,8,24,13,49],[707,49,78],function(e,t,n){"use strict";function r(e,t){return u.isFieldDef(t)&&t.type===l.QUANTITATIVE?{field:{group:"width"},offset:-5}:{value:e.scale.textXRangeStep/2}}function i(e,t,n){var r=c.getMarkConfig("align",e,n);if(void 0===r)return s.channelHasField(t,o.X)?"center":"right"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(5),s=n(32),u=n(16),l=n(33),c=n(18),f=n(49),d=n(78);t.text={vgMark:"text",defaultRole:void 0,encodeEntry:function(e){var t=e.config,n=e.encoding,o=e.height,s=n.text;return a.__assign({},f.pointPosition("x",e,r(t,s)),f.pointPosition("y",e,d.midY(o,t)),f.text(e),f.color(e),f.text(e,"tooltip"),f.nonPosition("opacity",e),f.nonPosition("size",e,{vgChannel:"fontSize"}),f.valueIfDefined("align",i(e.markDef,n,t)))}}},[708,62,49,78],[710,2,62,29],[711,43],function(e,t,n){"use strict";function r(e){e instanceof T.UnitModel?i(e):a(e)}function i(e){var t=e.specifiedScales,n=e.component.scales;w.keys(n).forEach(function(r){var i=t[r],a=i?i.domain:void 0,o=a&&!_.isSelectionDomain(a),u=s(e,r),l=n[r];l.set("domain",u,o),_.isSelectionDomain(a)&&l.set("domainRaw",{signal:M.SELECTION_DOMAIN+JSON.stringify(a)},!0)})}function a(e){for(var t=0,n=e.children;t<n.length;t++){var i=n[t];r(i)}var a=e.component.scales;w.keys(a).forEach(function(t){for(var n,r=0,i=e.children;r<i.length;r++){var o=i[r],s=o.component.scales[t];if(s){var u=s.get("domain");n=void 0===n?u:d(n,u)}}e instanceof E.FacetModel&&(O.isDataRefDomain(n)||O.isFieldRefUnionDomain(n)?n.data=k.FACET_SCALE_PREFIX+e.getName(n.data):O.isDataRefUnionedDomain(n)&&(n.fields=n.fields.map(function(t){return p.__assign({},t,{data:k.FACET_SCALE_PREFIX+e.getName(t.data)})}))),a[t].set("domain",n,!0)})}function o(e,t,n,r){if("unaggregated"===e){var i=c(t,n),a=i.valid,o=i.reason;if(!a)return void b.warn(o)}else if(void 0===e&&r.useUnaggregatedDomain){var a=c(t,n).valid;if(a)return"unaggregated"}return e}function s(e,t){var n=e.getScaleComponent(t).get("type"),r=o(e.scaleDomain(t),e.fieldDef(t),n,e.config.scale);return r!==e.scaleDomain(t)&&(e.specifiedScales[t]=p.__assign({},e.specifiedScales[t],{domain:r})),"x"===t&&e.channelHasField("x2")?e.channelHasField("x")?d(u(n,r,e,"x"),u(n,r,e,"x2")):u(n,r,e,"x2"):"y"===t&&e.channelHasField("y2")?e.channelHasField("y")?d(u(n,r,e,"y"),u(n,r,e,"y2")):u(n,r,e,"y2"):u(n,r,e,t)}function u(e,t,n,r){var i=n.fieldDef(r);if(t&&"unaggregated"!==t&&!_.isSelectionDomain(t)){if(!i.bin)return v.isDateTime(t[0])?t.map(function(e){return{signal:v.dateTimeExpr(e,!0)}}):t;b.warn(b.message.conflictedDomain(r))}var a=n.stack;if(a&&r===a.fieldChannel)return"normalize"===a.offset?[0,1]:{data:n.requestDataName(y.MAIN),fields:[n.field(r,{suffix:"start"}),n.field(r,{suffix:"end"})]};var o=g.isScaleChannel(r)?l(n,r,e):void 0;if("unaggregated"===t)return{data:n.requestDataName(y.MAIN),fields:[n.field(r,{aggregate:"min"}),n.field(r,{aggregate:"max"})]};if(i.bin){if(_.isBinScale(e)){var s=n.getName(m.binToString(i.bin)+"_"+i.field+"_bins");return{signal:"sequence("+s+".start, "+s+".stop + "+s+".step, "+s+".step)"}}return _.hasDiscreteDomain(e)?{data:n.requestDataName(y.MAIN),field:n.field(r,{binSuffix:"range"}),sort:{field:n.field(r,{binSuffix:"start"}),op:"min"}}:"x"===r||"y"===r?{data:n.requestDataName(y.MAIN),fields:[n.field(r,{binSuffix:"start"}),n.field(r,{binSuffix:"end"})]}:{data:n.requestDataName(y.MAIN),field:n.field(r,{binSuffix:"start"})}}return o?{data:S.isBoolean(o)?n.requestDataName(y.MAIN):n.requestDataName(y.RAW),field:n.field(r),sort:o}:{data:n.requestDataName(y.MAIN),field:n.field(r)}}function l(e,t,n){if(_.hasDiscreteDomain(n)){var r=e.sort(t);return x.isSortField(r)?r:"descending"===r?{op:"min",field:e.field(t),order:"descending"}:!!S.contains(["ascending",void 0],r)||void 0}}function c(e,t){return e.aggregate?h.SHARED_DOMAIN_OP_INDEX[e.aggregate]?"quantitative"===e.type&&"log"===t?{valid:!1,reason:b.message.unaggregatedDomainWithLogScale(e)}:{valid:!0}:{valid:!1,reason:b.message.unaggregateDomainWithNonSharedDomainOp(e.aggregate)}:{valid:!1,reason:b.message.unaggregateDomainHasNoEffectForRawField(e)}}function f(e){if(S.isArray(e))return[e];if(O.isSignalRefDomain(e))return[e];if(O.isDataRefDomain(e))return delete e.sort,[e];if(O.isFieldRefUnionDomain(e))return e.fields.map(function(t){return{data:e.data,field:t}});if(O.isDataRefUnionedDomain(e))return e.fields;throw new Error(b.message.INVAID_DOMAIN)}function d(e,t){var n=f(e),r=f(t),i=n.concat(r);if(i=S.unique(i,S.hash),i.length>1){var a=i.map(function(e){return O.isDataRefDomain(e)?e.data:null});if(1===S.unique(a,function(e){return e}).length&&null!==a[0]){var o={data:a[0],fields:i.map(function(e){return e.field})};return o}return{fields:i,sort:!0}}return i[0]}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(94),m=n(95),g=n(5),y=n(79),v=n(60),b=n(8),_=n(13),x=n(186),S=n(2),w=n(2),O=n(62),k=n(76),E=n(122),M=n(29),T=n(31);t.parseScaleDomain=r,t.parseDomainForChannel=s,t.domainSort=l,t.canUseUnaggregatedDomain=c,t.unionDomains=d},function(e,t,n){"use strict";function r(e){i(e),h.parseScaleDomain(e);for(var t=0,n=l.NON_TYPE_DOMAIN_RANGE_VEGA_SCALE_PROPERTIES;t<n.length;t++){var r=n[t];m.parseScaleProperty(e,r)}g.parseScaleRange(e)}function i(e){e instanceof d.UnitModel?e.component.scales=a(e):e.component.scales=o(e)}function a(e){var t=e.encoding,n=e.config,r=e.mark();return s.SCALE_CHANNELS.reduce(function(i,a){var o,s={},l=t[a];if(u.isFieldDef(l)?(o=l,s=l.scale||{}):u.isConditionalDef(l)&&u.isFieldDef(l.condition)?(o=l.condition,s=l.condition.scale||{}):"x"===a?o=u.getFieldDef(t.x2):"y"===a&&(o=u.getFieldDef(t.y2)),o){var c=s.type,f=y.scaleType(s.type,a,o,r,s.rangeStep,n.scale);i[a]=new p.ScaleComponent(e.scaleName(a+"",!0),{value:f,explicit:c===f})}return i},{})}function o(e){for(var t=e.component.scales={},n={},r={},a=function(t){i(t),c.keys(t.component.scales).forEach(function(i){if("shared"===e.resolve[i].scale){if(r[i])return;var a=n[i],o=t.component.scales[i].getWithExplicit("type");a?l.scaleCompatible(a.value,o.value)?n[i]=f.mergeValuesWithExplicit(a,o,"type","scale",v):(r[i]=!0,delete n[i]):n[i]=o}})},o=0,s=e.children;o<s.length;o++){var u=s[o];a(u)}return c.keys(n).forEach(function(r){for(var i=e.scaleName(r,!0),a=n[r],o=(t[r]=new p.ScaleComponent(i,a),0),s=e.children;o<s.length;o++){var u=s[o],l=u.component.scales[r];l&&(u.renameScale(l.get("name"),i),l.merged=!0)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),u=n(16),l=n(13),c=n(2),f=n(43),d=n(31),p=n(654),h=n(655),m=n(300),g=n(301),y=n(657);t.parseScale=r,t.parseScaleCore=i;var v=f.tieBreakByComparing(function(e,t){return l.scaleTypePrecedence(e)-l.scaleTypePrecedence(t)})},function(e,t,n){"use strict";function r(e,t,n,r,a,l){var c=i(t,n,r,a,l);return s.hasScale(t)?void 0!==e?s.supportScaleType(t,e)?o(e,n)?e:(u.warn(u.message.scaleTypeNotWorkWithFieldDef(e,c)),c):(u.warn(u.message.scaleTypeNotWorkWithChannel(t,e,c)),c):c:null}function i(e,t,n,r,i){if(p.contains(["row","column"],e))return"band";switch(t.type){case"nominal":return"color"===e||"discrete"===s.rangeType(e)?"ordinal":a(e,n,r,i);case"ordinal":return"color"===e?"ordinal":"discrete"===s.rangeType(e)?("text"!==e&&"tooltip"!==e&&u.warn(u.message.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):a(e,n,r,i);case"temporal":return"color"===e?f.isDiscreteByDefault(t.timeUnit)?"ordinal":"sequential":"discrete"===s.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"temporal")),"ordinal"):f.isDiscreteByDefault(t.timeUnit)?a(e,n,r,i):"time";case"quantitative":return"color"===e?t.bin?"bin-ordinal":"sequential":"discrete"===s.rangeType(e)?(u.warn(u.message.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):t.bin&&"x"!==e&&"y"!==e?"bin-linear":"linear"}throw new Error(u.message.invalidFieldType(t.type))}function a(e,t,n,r){if(p.contains(["x","y"],e)){if("rect"===t)return"band";if("bar"===t)return"band"}return"point"}function o(e,t){var n=t.type;return h.contains([d.Type.ORDINAL,d.Type.NOMINAL],n)?void 0===e||c.hasDiscreteDomain(e):n===d.Type.TEMPORAL?t.timeUnit?h.contains([l.ScaleType.TIME,l.ScaleType.UTC,void 0],e)||c.hasDiscreteDomain(e):h.contains([l.ScaleType.TIME,l.ScaleType.UTC,void 0],e):n!==d.Type.QUANTITATIVE||(t.bin?e===l.ScaleType.BIN_LINEAR||e===l.ScaleType.BIN_ORDINAL:h.contains([l.ScaleType.LOG,l.ScaleType.POW,l.ScaleType.SQRT,l.ScaleType.QUANTILE,l.ScaleType.QUANTIZE,l.ScaleType.LINEAR,void 0],e))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(5),u=n(8),l=n(13),c=n(13),f=n(61),d=n(33),p=n(2),h=n(2);t.scaleType=r,t.fieldDefMatchScaleType=o},[714,2,302,29],[715,2,29,184],[716,8],[718,2,29],[719,659,184,660,123,661,663,664],[720,5,183,29,123],[721,5,2,183,29,123],function(e,t,n){"use strict";function r(e){return!!e.type}function i(e){return l.__assign({},e,{encoding:f.reduce(e.encoding,function(e,n,r){return m.indexOf(r)>-1?e[r]=n:h.warn(h.message.incompatibleChannel(r,t.BOXPLOT)),e},{})})}function a(e,t){e=i(e);var n=e.mark,a=(e.encoding,l.__rest(e,["mark","encoding"])),s=void 0;r(n)&&n.extent&&c.isNumber(n.extent)&&(s=n.extent);var f=o(e),d=u(e,f,s),p=d.transform,h=d.continuousAxisChannelDef,m=d.continuousAxis,g=d.encodingWithoutContinuousAxis,y=g.size,v=(g.color,l.__rest(g,["size","color"])),b=y?{size:y}:{size:{value:t.box.size}},_={};return h.scale&&(_.scale=h.scale),h.axis&&(_.axis=h.axis),l.__assign({},a,{transform:p,layer:[{mark:{type:"rule",role:"boxWhisker"},encoding:l.__assign((x={},x[m]=l.__assign({field:"lowerWhisker",type:h.type},_),x[m+"2"]={field:"lowerBox",type:h.type},x),v)},{mark:{type:"rule",role:"boxWhisker"},encoding:l.__assign((S={},S[m]={field:"upperBox",type:h.type},S[m+"2"]={field:"upperWhisker",type:h.type},S),v)},{mark:{type:"bar",role:"box"},encoding:l.__assign((w={},w[m]={field:"lowerBox",type:h.type},w[m+"2"]={field:"upperBox",type:h.type},w),g,b)},{mark:{type:"tick",role:"boxMid"},encoding:l.__assign((O={},O[m]={field:"midBox",type:h.type},O),v,b)}]});var x,S,w,O}function o(e){var n=e.mark,i=e.encoding;l.__rest(e,["mark","encoding"]);if(p.isFieldDef(i.x)&&p.isContinuous(i.x)){if(p.isFieldDef(i.y)&&p.isContinuous(i.y)){if(void 0===i.x.aggregate&&i.y.aggregate===t.BOXPLOT)return"vertical";if(void 0===i.y.aggregate&&i.x.aggregate===t.BOXPLOT)return"horizontal";if(i.x.aggregate===t.BOXPLOT&&i.y.aggregate===t.BOXPLOT)throw new Error("Both x and y cannot have aggregate");return r(n)&&n.orient?n.orient:"vertical"}return"horizontal"}if(p.isFieldDef(i.y)&&p.isContinuous(i.y))return"vertical";throw new Error("Need a valid continuous axis for boxplots")}function s(e,n){var r,i,a=(e.mark,e.encoding);l.__rest(e,["mark","encoding"]);if("vertical"===n?(i="y",r=a.y):(i="x",r=a.x),r&&r.aggregate){var o=r.aggregate,s=l.__rest(r,["aggregate"]);o!==t.BOXPLOT&&h.warn("Continuous axis should not have customized aggregation function "+o),r=s}return{continuousAxisChannelDef:r,continuousAxis:i}}function u(e,n,r){var i=s(e,n),a=i.continuousAxisChannelDef,o=i.continuousAxis,u=e.encoding,l=void 0===r,c=[{aggregate:"q1",field:a.field,as:"lowerBox"},{aggregate:"q3",field:a.field,as:"upperBox"},{aggregate:"median",field:a.field,as:"midBox"}],f=[];l?(c.push({aggregate:"min",field:a.field,as:"lowerWhisker"}),c.push({aggregate:"max",field:a.field,as:"upperWhisker"})):f=[{calculate:"datum.upperBox - datum.lowerBox",as:"IQR"},{calculate:"datum.lowerBox - datum.IQR * "+r,as:"lowerWhisker"},{calculate:"datum.upperBox + datum.IQR * "+r,as:"lowerWhisker"}];var h=[],m=[],g=[],y={};return d.forEach(u,function(e,n){if(n!==o)if(p.isFieldDef(e)){if(e.aggregate&&e.aggregate!==t.BOXPLOT)c.push({aggregate:e.aggregate,field:e.field,as:p.field(e)});else if(void 0===e.aggregate){var r=p.field(e);if(e.bin){var i=e.bin,a=e.field;m.push({bin:i,field:a,as:r})}else if(e.timeUnit){var s=e.timeUnit,l=e.field;g.push({timeUnit:s,field:l,as:r})}h.push(r)}y[n]={field:p.field(e),type:e.type}}else y[n]=u[n]}),{transform:[].concat(m,g,[{summarize:c,groupby:h}],f),continuousAxisChannelDef:a,continuousAxis:o,encodingWithoutContinuousAxis:y}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(7),f=n(32),d=n(32),p=n(16),h=n(8);t.BOXPLOT="box-plot",t.isBoxPlotDef=r,t.BOXPLOT_ROLES=["boxWhisker","box","boxMid"],t.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX={box:["size"]};var m=["x","y","color","detail","opacity","size"];t.filterUnsupportedChannels=i,t.normalizeBoxPlot=a},621,622,[725,29,60,16,61,2],624,625,626,627,[728,24,24,2],[730,286,94,95,5,124,638,303,79,60,32,667,16,185,24,13,186,98,187,61,188,33,2,673,435],function(e,t,n){!function(e,r){r(t,n(42),n(178),n(7),n(40),n(283),n(284))}(this,function(e,t,n,r,i,a,o){"use strict";function s(e){t.Transform.call(this,null,e)}function u(e,t,n){return t(e.bounds.clear(),e,n)}function l(e){t.Transform.call(this,null,e)}function c(e){var t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function f(e){t.Transform.call(this,null,e)}function d(e,t){return!(e.x2-1<t.x1||e.x1+1>t.x2||e.y2-1<t.y1||e.y1+1>t.y2)}function p(e){for(var t,n=1,r=e.length,i=e[0].bounds;n<r;i=t,++n)if(d(i,t=e[n].bounds))return!0}function h(e){var t=e.bounds;return t.width()>1&&t.height()>1}function m(e){t.Transform.call(this,null,e)}function g(e){for(var t,n,r=e.items,i=r.length,a=0,o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};a<i;++a)if(t=r[a],n=t.items,"group"===t.marktype)switch(t.role){case ve:case be:break;case _e:y(n,o.rowheaders);break;case xe:y(n,o.rowfooters);break;case we:y(n,o.colheaders);break;case Oe:y(n,o.colfooters);break;case Se:o.rowtitle=n[0];break;case ke:o.coltitle=n[0];break;default:y(n,o.marks)}return o}function y(e,t){for(var n=0,r=e.length;n<r;++n)t.push(e[n])}function v(e){return{x1:0,y1:0,x2:e.width||0,y2:e.height||0}}function b(e){return e.bounds.clone().translate(-(e.x||0),-(e.y||0))}function _(e,t){var n={x1:e.x,
y1:e.y,x2:e.x+e.width,y2:e.y+e.height};return n[t]}function x(e,t){return e.bounds[t]}function S(e,t,n){return(r.isObject(e)?e[t]:e)||n||0}function w(e,t,r){function i(e,t){return Math.floor(Math.min(e,t))}function a(e,t){return Math.ceil(Math.max(e,t))}var o,s,u,l,c,f,d,p,h,m,y,w=g(t,r),E=w.marks,M="flush"===r.bounds,T=M?v:b,P=new n.Bounds(0,0,0,0),C=S(r.align,"column"),A=S(r.align,"row"),D=S(r.padding,"column"),R=S(r.padding,"row"),N=r.offset,I=r.columns||E.length,F=I<0?1:Math.ceil(E.length/I),L=F*I,j=[],z=0,$=[],U=0,B=E.length;for(s=0;s<B;++s)l=T(E[s]),f=s%I===0?0:Math.ceil(T(E[s-1]).x2),d=s<I?0:Math.ceil(T(E[s-I]).y2),p=(l.x1<0?Math.ceil(-l.x1):0)+f,h=(l.y1<0?Math.ceil(-l.y1):0)+d,j.push(p+D),$.push(h+R),e.dirty(E[s]);for(s=0;s<B;++s)s%I===0&&(j[s]=z),s<I&&($[s]=U);if("each"===C)for(u=1;u<I;++u){for(y=0,s=u;s<B;s+=I)y<j[s]&&(y=j[s]);for(s=u;s<B;s+=I)j[s]=y}else if("all"===C){for(y=0,s=0;s<B;++s)s%I&&y<j[s]&&(y=j[s]);for(s=0;s<B;++s)s%I&&(j[s]=y)}if("each"===A)for(u=1;u<F;++u){for(y=0,s=u*I,o=s+I;s<o;++s)y<$[s]&&(y=$[s]);for(s=u*I;s<o;++s)$[s]=y}else if("all"===A){for(y=0,s=I;s<B;++s)y<$[s]&&(y=$[s]);for(s=I;s<B;++s)$[s]=y}for(p=0,s=0;s<B;++s)c=E[s],f=c.x||0,c.x=p=j[s]+(s%I?p:0),c.bounds.translate(p-f,0);for(u=0;u<I;++u)for(h=0,s=u;s<B;s+=I)c=E[s],d=c.y||0,c.y=h+=$[s],c.bounds.translate(0,h-d);for(s=0;s<B;++s)E[s].mark.bounds.clear();for(s=0;s<B;++s)c=E[s],e.dirty(c),P.union(c.mark.bounds.union(c.bounds));T=M?_:x,p=O(e,w.rowheaders,E,I,F,-S(N,"rowHeader"),i,0,T,"x1",0,I,1),h=O(e,w.colheaders,E,I,I,-S(N,"columnHeader"),i,1,T,"y1",0,1,I),O(e,w.rowfooters,E,I,F,S(N,"rowFooter"),a,0,T,"x2",I-1,I,1),O(e,w.colfooters,E,I,I,S(N,"columnFooter"),a,1,T,"y2",L-I,1,I),w.rowtitle&&(y=p-S(N,"rowTitle"),m=S(r.titleBand,"row",.5),k(e,w.rowtitle,y,0,P,m)),w.coltitle&&(y=h-S(N,"columnTitle"),m=S(r.titleBand,"column",.5),k(e,w.coltitle,y,1,P,m))}function O(e,t,n,r,i,a,o,s,u,l,c,f,d){var p,h,m,g,y,v,b,_,x,S=n.length,w=0,O=0;for(p=c;p<S;p+=f)n[p]&&(w=o(w,u(n[p],l)));if(!t.length)return w;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),w+=a,h=0,g=t.length;h<g;++h)e.dirty(t[h]),t[h].mark.bounds.clear();for(p=c,h=0,g=t.length;h<g;++h,p+=f){for(v=t[h],y=v.mark.bounds,m=p;null==(b=n[m]);m-=d);s?(_=b.x,x=w):(_=w,x=b.y),y.union(v.bounds.translate(_-(v.x||0),x-(v.y||0))),v.x=_,v.y=x,e.dirty(v),O=o(O,y[l])}return O}function k(e,t,n,r,i,a){if(t){e.dirty(t);var o=n,s=n;r?o=Math.round(i.x1+a*i.width()):s=Math.round(i.y1+a*i.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function E(e){t.Transform.call(this,null,e)}function M(e,t,r){var i,a,o,s,u,l,c=t.items,f=Math.max(0,t.width||0),d=Math.max(0,t.height||0),p=(new n.Bounds).set(0,0,f,d),h=p.clone(),m=p.clone(),g=[];for(u=0,l=c.length;u<l;++u)switch(a=c[u],a.role){case Pe:h.union(s=A(e,a,f,d)),P(a)&&m.union(s);break;case Ce:i=a;break;case De:g.push(a);break;case Ae:case Re:case Ne:case Ie:case Fe:case Le:m.union(a.bounds);break;default:p.union(a.bounds)}if(i&&(h.union(s=D(e,i,h)),P(i)&&m.union(s)),g.length)for(o={left:0,right:0,margin:r.legendMargin||8},u=0,l=g.length;u<l;++u)s=R(e,g[u],o,m,f,d),r.autosize&&r.autosize.type===Ee?p.add(s.x1,0).add(s.x2,0):p.union(s);N(e,t,p.union(m).union(h),r)}function T(e,t,n){return e[t]===n?0:(e[t]=n,1)}function P(e){var t=e.items[0].datum.orient;return"left"===t||"right"===t}function C(e){var t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function A(e,t,r,i){var a,o,s=t.items[0],u=s.datum,l=u.orient,c=C(u),f=s.range,d=s.offset,p=s.position,h=s.minExtent,m=s.maxExtent,g=u.title&&s.items[c[2]].items[0],y=s.titlePadding,v=s.bounds,b=0,_=0;switch(ze.clear().union(v),v.clear(),(a=c[0])>-1&&v.union(s.items[a].bounds),(a=c[1])>-1&&v.union(s.items[a].bounds),l){case"top":b=p||0,_=-d,o=Math.max(h,Math.min(m,-v.y1)),g&&(g.auto?(o+=y,g.y=-o,o+=g.bounds.height()):v.union(g.bounds)),v.add(0,-o).add(f,0);break;case"left":b=-d,_=p||0,o=Math.max(h,Math.min(m,-v.x1)),g&&(g.auto?(o+=y,g.x=-o,o+=g.bounds.width()):v.union(g.bounds)),v.add(-o,0).add(0,f);break;case"right":b=r+d,_=p||0,o=Math.max(h,Math.min(m,v.x2)),g&&(g.auto?(o+=y,g.x=o,o+=g.bounds.width()):v.union(g.bounds)),v.add(0,0).add(o,f);break;case"bottom":b=p||0,_=i+d,o=Math.max(h,Math.min(m,v.y2)),g&&(g.auto?(o+=y,g.y=o,o+=g.bounds.height()):v.union(g.bounds)),v.add(0,0).add(f,o);break;default:b=s.x,_=s.y}return n.boundStroke(v.translate(b,_),s),T(s,"x",b+je)|T(s,"y",_+je)&&(s.bounds=ze,e.dirty(s),s.bounds=v,e.dirty(s)),s.mark.bounds.clear().union(v)}function D(e,t,n){var r=t.items[0],i=r.datum,a=i.orient,o=r.offset,s=r.bounds,u=0,l=0;switch(ze.clear().union(s),a){case"top":u=r.x,l=n.y1-o;break;case"left":u=n.x1-o,l=r.y;break;case"right":u=n.x2+o,l=r.y;break;case"bottom":u=r.x,l=n.y2+o;break;default:u=r.x,l=r.y}return s.translate(u-r.x,l-r.y),T(r,"x",u)|T(r,"y",l)&&(r.bounds=ze,e.dirty(r),r.bounds=s,e.dirty(r)),t.bounds.clear().union(s)}function R(e,t,r,i,a,o){var s,u,l=t.items[0],c=l.datum,f=c.orient,d=l.offset,p=l.bounds,h=0,m=r[f]||0;switch(ze.clear().union(p),p.clear(),l.items.forEach(function(e){p.union(e.bounds)}),s=Math.round(p.width())+2*l.padding-1,u=Math.round(p.height())+2*l.padding-1,f){case"left":h-=s+d-Math.floor(i.x1),r.left+=u+r.margin;break;case"right":h+=d+Math.ceil(i.x2),r.right+=u+r.margin;break;case"top-left":h+=d,m+=d;break;case"top-right":h+=a-s-d,m+=d;break;case"bottom-left":h+=d,m+=o-u-d;break;case"bottom-right":h+=a-s-d,m+=o-u-d;break;default:h=l.x,m=l.y}return n.boundStroke(p.set(h,m,h+s,m+u),l),T(l,"x",h)|T(l,"width",s)|T(l,"y",m)|T(l,"height",u)&&(l.bounds=ze,e.dirty(l),l.bounds=p,e.dirty(l)),l.mark.bounds.clear().union(p)}function N(e,t,n,r){var i=r.autosize&&r.autosize.type,a=r.autosize&&r.autosize.resize,o=e._width,s=e._height;if(!(e._autosize<1)&&i){var u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,Math.ceil(n.x2-u)),f=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1)),p=Math.max(0,Math.ceil(n.y2-f));i===Te?(o=u,s=f,l=0,d=0):i===Ee?(u=Math.max(0,o-l-c),f=Math.max(0,s-d-p)):i===Me&&(o=u+l+c,s=f+d+p),e.autosize(o,s,u,f,[l,d],a)}}function I(e){"undefined"!=typeof document&&document.body&&(document.body.style.cursor=e)}function F(e,t){var n=e._runtime.data;return n.hasOwnProperty(t)||e.error("Unrecognized data set: "+t),n[t]}function L(e){return F(this,e).values.value}function j(e,n){t.isChangeSet(n)||this.error("Second argument to changes must be a changeset.");var r=F(this,e);return r.modified=!0,this.pulse(r.input,n)}function z(e,n){return j.call(this,e,t.changeset().insert(n))}function $(e,n){return j.call(this,e,t.changeset().remove(n))}function U(e){var t=e.padding();return Math.max(0,e._width+t.left+t.right)}function B(e){var t=e.padding();return Math.max(0,e._height+t.top+t.bottom)}function q(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function W(e){var t=q(e);e._renderer.background(e._background),e._renderer.resize(U(e),B(e),t),e._handler.origin(t)}function V(e,t,n){function i(e){var n,r=o;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){r=n;break}return r&&r.mark&&r.mark.interactive?r:{}}function a(e){if(!e)return n;r.isString(e)&&(e=i(e));for(var t=n.slice();e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}var o=t?"group"===t.mark.marktype?t:t.mark.group:null;return{view:r.constant(e),item:r.constant(t||{}),group:i,xy:a,x:function(e){return a(e)[0]},y:function(e){return a(e)[1]}}}function H(e){return e.item}function G(e){var t=e.item.mark.source;return t.source||t}function Y(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function X(e,t,n,r){var i=Xe("div",{class:Qe});i.appendChild(Xe("span",{class:Ke},n.name||n.signal)),t.appendChild(i);var a=Q;switch(n.input){case"checkbox":a=K;break;case"select":a=J;break;case"radio":a=Z;break;case"range":a=ee}a(e,i,n,r)}function Q(e,t,n,r){var i=Xe("input");for(var a in n)"signal"!==a&&"element"!==a&&i.setAttribute("input"===a?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",function(){e.update(i.value)}),e.elements=[i],e.set=function(e){i.value=e}}function K(e,t,n,r){var i={type:"checkbox",name:n.signal};r&&(i.checked=!0);var a=Xe("input",i);t.appendChild(a),a.addEventListener("change",function(){e.update(a.checked)}),e.elements=[a],e.set=function(e){a.checked=!!e||null}}function J(e,t,n,r){var i=Xe("select",{name:n.signal});n.options.forEach(function(e){var t={value:e};te(e,r)&&(t.selected=!0),i.appendChild(Xe("option",t,e+""))}),t.appendChild(i),i.addEventListener("change",function(){e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=function(e){for(var t=0,r=n.options.length;t<r;++t)if(te(n.options[t],e))return void(i.selectedIndex=t)}}function Z(e,t,n,r){var i=Xe("span",{class:Je});t.appendChild(i),e.elements=n.options.map(function(t){var a=Ze+n.signal+"-"+t,o={id:a,type:"radio",name:n.signal,value:t};te(t,r)&&(o.checked=!0);var s=Xe("input",o);return s.addEventListener("change",function(){e.update(t)}),i.appendChild(s),i.appendChild(Xe("label",{for:a},t+"")),s}),e.set=function(t){for(var n=e.elements,r=0,i=n.length;r<i;++r)te(n[r].value,t)&&(n[r].checked=!0)}}function ee(e,t,n,r){function a(){c.textContent=l.value,e.update(+l.value)}r=void 0!==r?r:(+n.max+ +n.min)/2;var o=n.min||Math.min(0,+r)||0,s=n.max||Math.max(100,+r)||100,u=n.step||i.tickStep(o,s,100),l=Xe("input",{type:"range",name:n.signal,min:o,max:s,step:u});l.value=r;var c=Xe("label",{},+r);t.appendChild(l),t.appendChild(c),l.addEventListener("input",a),l.addEventListener("change",a),e.elements=[l],e.set=function(e){l.value=e,c.textContent=e}}function te(e,t){return e===t||e+""==t+""}function ne(e,t){return"string"==typeof t&&("undefined"!=typeof document?t=document.querySelector(t):e.error("DOM document instance not found.")),t.innerHTML="",t}function re(e,t){var n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}function ie(e,t){var n=e.add(null,function(n){e["_"+t]=n.size,e._autosize=e._resize=1},{size:e._signals[t]});return n.rank=0,n}function ae(e,t,n,r,i,a){this.runAfter(function(o){var s=0;o._autosize=0,o.width()!==n&&(s=1,o.width(n),o._resizeWidth.skip(!0)),o.height()!==r&&(s=1,o.height(r),o._resizeHeight.skip(!0)),o._width!==e&&(o._resize=1,o._width=e),o._height!==t&&(o._resize=1,o._height=t),o._origin[0]===i[0]&&o._origin[1]===i[1]||(o._resize=1,o._origin=i),s&&o.run("enter"),a&&o.runAfter(function(){o.resize()})})}function oe(e){return this._runtime.getState(e||{data:se,signals:ue,recurse:!0})}function se(e,t){return t.modified&&r.isArray(t.input.value)&&e.indexOf("_:vega:_")}function ue(e,n){return!("parent"===e||n instanceof t.transforms.Proxy)}function le(e){var t=this;return t._trigger=!1,t._runtime.setState(e),t.run().runAfter(function(){t._trigger=!0}),this}function ce(e,i){i=i||{},t.Dataflow.call(this),this.loader(i.loader||this._loader),this.logLevel(i.logLevel||0),this._el=null,this._renderType=i.renderer||n.RenderType.Canvas,this._scenegraph=new n.Scenegraph;var a=this._scenegraph.root;this._renderer=null,this._redraw=!0,this._handler=(new n.CanvasHandler).scene(a),this._eventListeners=[],this._preventDefault=!0;var o=ut(this,e,i.functions);this._runtime=o,this._signals=o.signals,this._bind=(e.bindings||[]).map(function(e){return{state:null,param:r.extend({},e)}}),o.root&&o.root.set(a),a.source=o.data.root.input,this.pulse(o.data.root.input,this.changeset().insert(a.items)),this._background=o.background||null,this._width=this.width(),this._height=this.height(),this._origin=[0,0],this._resize=0,this._autosize=1,this._resizeWidth=ie(this,"width"),this._resizeHeight=ie(this,"height"),Be(this)}function fe(e,t){return e._signals.hasOwnProperty(t)?e._signals[t]:e.error("Unrecognized signal name: "+r.stringValue(t))}var de=r.inherits(s,t.Transform),pe=new n.Bounds;de.transform=function(e,t){var r,i=t.dataflow,a=e.mark,o=a.marktype,s=n.Marks[o],l=s.bound,c=a.clip,f=a.bounds;return s.nested?(a.items.length&&i.dirty(a.items[0]),f=u(a,l),a.items.forEach(function(e){e.bounds.clear().union(f)})):"group"===o||e.modified()?(t.visit(t.MOD,function(e){i.dirty(e)}),f.clear(),a.items.forEach(function(e){f.union(u(e,l))})):(r=t.changed(t.REM),t.visit(t.ADD,function(e){f.union(u(e,l))}),t.visit(t.MOD,function(e){r=r||f.alignsWith(e.bounds),i.dirty(e),f.union(u(e,l))}),r&&!c&&(f.clear(),a.items.forEach(function(e){f.union(e.bounds)}))),c&&f.intersect(pe.set(0,0,a.group.width,a.group.height)),t.modifies("bounds")};var he=r.inherits(l,t.Transform);he.transform=function(e,t){var r=this.value;r||(r=t.dataflow.scenegraph().mark(e.markdef,c(e),e.index),r.group.context=e.context,e.context.group||(e.context.group=r.group),r.source=this,this.value=r);var i="group"===r.marktype?n.GroupItem:n.Item;return t.visit(t.ADD,function(e){i.call(e,r)}),r.items=t.source,t};var me=r.inherits(f,t.Transform),ge={parity:function(e){return e.filter(function(e,t){return t%2?e.opacity=0:1})},greedy:function(e){var t;return e.filter(function(e,n){return n&&d(t.bounds,e.bounds)?e.opacity=0:(t=e,1)})}};me.transform=function(e,t){var n=ge[e.method]||ge.parity,i=t.materialize(t.SOURCE).source,a=i;if("greedy"===e.method&&(a=i=i.filter(h)),a.length>=3&&p(a)){t=t.reflow(e.modified()).modifies("opacity");do a=n(a);while(a.length>=3&&p(a));a.length<3&&!r.peek(i).opacity&&(a.length>1&&(r.peek(a).opacity=0),r.peek(i).opacity=1)}return t};var ye=r.inherits(m,t.Transform);ye.transform=function(e,t){var n=t.dataflow;if(t.visit(t.ALL,function(e){n.dirty(e)}),t.fields&&t.fields.zindex){var r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}};var ve="axis",be="legend",_e="row-header",xe="row-footer",Se="row-title",we="column-header",Oe="column-footer",ke="column-title",Ee="fit",Me="pad",Te="none",Pe="axis",Ce="title",Ae="frame",De="legend",Re="scope",Ne="row-header",Ie="row-footer",Fe="column-header",Le="column-footer",je=.5,ze=new n.Bounds,$e=r.inherits(E,t.Transform);$e.transform=function(e,t){var n=t.dataflow;return e.mark.items.forEach(function(t){e.layout&&w(n,t,e.layout),M(n,t,e)}),t};var Ue="default",Be=function(e){var t=e._signals.cursor;t||(e._signals.cursor=t=e.add({user:Ue,item:null})),e.on(e.events("view","mousemove"),t,function(e,n){var i=t.value,a=i?r.isString(i)?i:i.user:Ue,o=n.item&&n.item.cursor||null;return i&&a===i.user&&o==i.item?i:{user:a,item:o}}),e.add(null,function(e){var t=e.cursor,n=this.value;return r.isString(t)||(n=t.item,t=t.user),I(t&&t!==Ue?t:n||t),n},{cursor:t})},qe=function(e,t,r){var i,a,o,s=e._renderer.element();return s&&(o=q(e),a=t.changedTouches?t.changedTouches[0]:t,i=n.point(a,s),i[0]-=o[0],i[1]-=o[1]),t.dataflow=e,t.vega=V(e,r,i),t.item=r,t},We="view",Ve="window",He=function(e,n,r){var i,a=this,o=new t.EventStream(r),s=function(t,n){a.preventDefault()&&e===We&&t.preventDefault(),o.receive(qe(a,t,n)),a.run()};if(e===We)return a.addEventListener(n,s),o;if(e===Ve?"undefined"!=typeof window&&(i=[window]):"undefined"!=typeof document&&(i=document.querySelectorAll(e)),!i)return a.warn("Can not resolve event source: "+e),o;for(var u=0,l=i.length;u<l;++u)i[u].addEventListener(n,s);return a._eventListeners.push({type:n,sources:i,handler:s}),o},Ge=function(e,t){return e=e||"hover",t=[t||"update",e],this.on(this.events("view","mouseover",H),G,Y(e)),this.on(this.events("view","mouseout",H),G,Y(t)),this},Ye=function(){for(var e,t,n=this._eventListeners,r=n.length;--r>=0;)for(t=n[r],e=t.sources.length;--e>=0;)t.sources[e].removeEventListener(t.type,t.handler)},Xe=function(e,t,n){var r=document.createElement(e);for(var i in t)r.setAttribute(i,t[i]);return null!=n&&(r.textContent=n),r},Qe="vega-bind",Ke="vega-bind-name",Je="vega-bind-radio",Ze="vega-option-",et=function(e,t,n){var i=n.param,a=n.state;return a||(a=n.state={elements:null,active:!1,set:null,update:function(t){a.source=!0,e.signal(i.signal,t).run()}},i.debounce&&(a.update=r.debounce(i.debounce,a.update))),r.isString(t)&&(t=document.querySelector(t)),X(a,t,i,e.signal(i.signal)),a.active||(e.on(e._signals[i.signal],null,function(){a.source?a.source=!1:a.set(e.signal(i.signal))}),a.active=!0),a},tt=function(e,t,n,r){return t=t||new r(e.loader()),t.initialize(n,U(e),B(e),q(e)).background(e._background)},nt=function(e,t,n,r){var i=(new r).scene(e.scenegraph().root).initialize(n,q(e),e);return t&&(i.handleTooltip=t.handleTooltip,t.handlers().forEach(function(e){i.on(e.type,e.handler)})),i},rt=function(e,t){var r,i,a=this,o=a._renderType,s=n.renderModule(o);return e=a._el=e?ne(a,e):null,s||a.error("Unrecognized renderer type: "+o),r=s.handler||n.CanvasHandler,i=e?s.renderer:s.headless,a._renderer=i?tt(a,a._renderer,e,i):null,a._handler=nt(a,a._handler,e,r),a._redraw=!0,e&&(t=t?ne(a,t):e.appendChild(Xe("div",{class:"vega-bindings"})),a._bind.forEach(function(e){e.param.element&&ne(a,e.param.element)}),a._bind.forEach(function(e){et(a,e.param.element||t,e)})),a},it=function(e,t){var r=n.renderModule(t);return r&&r.headless?e.runAsync().then(function(){return tt(e,null,null,r.headless).renderAsync(e._scenegraph.root)}):Promise.reject("Unrecognized renderer type: "+t)},at=function(e){return e!==n.RenderType.Canvas&&e!==n.RenderType.SVG&&e!==n.RenderType.PNG?Promise.reject("Unrecognized image type: "+e):it(this,e).then(function(t){return e===n.RenderType.SVG?re(t.svg(),"image/svg+xml"):t.canvas().toDataURL("image/png")})},ot=function(){return it(this,n.RenderType.Canvas).then(function(e){return e.canvas()})},st=function(){return it(this,n.RenderType.SVG).then(function(e){return e.svg()})},ut=function(e,n,r){var i=r||a.functionContext;return o.parse(n,o.context(e,t.transforms,i))},lt=r.inherits(ce,t.Dataflow);lt.run=function(e){return t.Dataflow.prototype.run.call(this,e),(this._redraw||this._resize)&&this.render(),this},lt.render=function(){return this._renderer&&(this._resize&&(this._resize=0,W(this)),this._renderer.render(this._scenegraph.root)),this._redraw=!1,this},lt.dirty=function(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},lt.signal=function(e,t,n){var r=fe(this,e);return 1===arguments.length?r.value:this.update(r,t,n)},lt.scenegraph=function(){return this._scenegraph},lt.background=function(e){return arguments.length?(this._background=e,this._resize=1,this):this._background},lt.width=function(e){return arguments.length?this.signal("width",e):this.signal("width")},lt.height=function(e){return arguments.length?this.signal("height",e):this.signal("height")},lt.padding=function(e){return arguments.length?this.signal("padding",e):this.signal("padding")},lt.renderer=function(e){return arguments.length?(n.renderModule(e)||this.error("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._renderType},lt.loader=function(e){return arguments.length?(e!==this._loader&&(t.Dataflow.prototype.loader.call(this,e),this._renderer&&(this._renderer=null,this.initialize(this._el))),this):this._loader},lt.resize=function(){return this._autosize=1,this},lt.addEventListener=function(e,t){return this._handler.on(e,t),this},lt.removeEventListener=function(e,t){return this._handler.off(e,t),this},lt.addSignalListener=function(e,t){var n=fe(this,e),r=function(){t(e,n.value)};return r.handler=t,this.on(n,null,r),this},lt.removeSignalListener=function(e,t){var n=fe(this,e),r=n._targets||[],i=r.filter(function(e){var n=e._update;return n&&n.handler===t});return i.length&&r.remove(i[0]),this},lt.preventDefault=function(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},lt.tooltipHandler=function(e){var t=this._handler;return arguments.length?(t.handleTooltip=e||n.Handler.prototype.handleTooltip,this):t.handleTooltip},lt.events=He,lt.finalize=Ye,lt.hover=Ge,lt.autosize=ae,lt.data=L,lt.change=j,lt.insert=z,lt.remove=$,lt.initialize=rt,lt.toImageURL=at,lt.toCanvas=ot,lt.toSVG=st,lt.getState=oe,lt.setState=le,t.transform("Bound",s),t.transform("Mark",l),t.transform("Overlap",f),t.transform("Render",m),t.transform("ViewLayout",E),e.View=ce,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(369))}(this,function(e,t,n,r){"use strict";function i(e){t.Transform.call(this,null,e)}var a=n.inherits(i,t.Transform),o=[[-1e5,-1e5],[1e5,1e5]];a.transform=function(e,t){var n,i,a,s,u=e.as||"path",l=t.source;for(n=r.voronoi().x(e.x).y(e.y),e.size?n.size(e.size):n.extent(e.extent||o),this.value=n=n(l),i=n.polygons(),a=0,s=l.length;a<s;++a)l[a][u]=i[a]?"M"+i[a].join("L")+"Z":null;return t.reflow(e.modified()).modifies(u)};var s={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};t.register(s,i),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,r){r(t,n(42),n(7),n(119))}(this,function(e,t,r,i){"use strict";function a(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(y<<5)/a,v/a);var o,s,u,l,c,f=0,d=0,p=0,h=n.length;for(--r;++r<h;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=i.measureText(t.text+"m").width*a,u=t.size<<1,t.rotate){var m=Math.sin(t.rotate*g),b=Math.cos(t.rotate*g),_=o*b,x=o*m,S=u*b,w=u*m;o=Math.max(Math.abs(_+w),Math.abs(_-w))+31>>5<<5,u=~~Math.max(Math.abs(x+S),Math.abs(x-S))}else o=o+31>>5<<5;if(u>p&&(p=u),f+o>=y<<5&&(f=0,d+=p,p=0),d+u>=v)break;i.translate((f+(o>>1))/a,(d+(u>>1))/a),t.rotate&&i.rotate(t.rotate*g),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=o,t.height=u,t.xoff=f,t.yoff=d,t.x1=o>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,f+=o}for(var O=i.getImageData(0,0,(y<<5)/a,v/a).data,k=[];--r>=0;)if(t=n[r],t.hasText){for(o=t.width,s=o>>5,u=t.y1-t.y0,l=0;l<u*s;l++)k[l]=0;if(f=t.xoff,null==f)return;d=t.yoff;var E=0,M=-1;for(c=0;c<u;c++){for(l=0;l<o;l++){var T=s*c+(l>>5),P=O[(d+c)*(y<<5)+(f+l)<<2]?1<<31-l%32:0;k[T]|=P,E|=P}E?M=c:(t.y0++,u--,c--,d++)}t.y1=t.y0+M,t.sprite=k.slice(0,(t.y1-t.y0)*s)}}}function o(e,t,n){n>>=5;for(var r,i=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,u=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),f=0;f<l;f++){r=0;for(var d=0;d<=a;d++)if((r<<u|(d<a?(r=i[f*a+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function s(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function u(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function l(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function c(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(e){var a=e<0?-1:1;switch(Math.sqrt(1+4*a*e)-a&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t}return[r,i]}}function f(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function d(){try{var e="undefined"!=typeof document&&document.createElement?document.createElement("canvas"):0;return e&&e.getContext?e:new(n(683))}catch(t){r.error("Canvas unavailable. Run in browser or install node-canvas.")}}function p(e){return"function"==typeof e?e:function(){return e}}function h(e){t.Transform.call(this,b(),e)}function m(e,n){var i=new t.transforms.Extent;return i.transform({field:e,modified:r.truthy},n),i.value}var g=Math.PI/180,y=64,v=2048,b=function(){function e(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(y<<5)/t,e.height=v/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function t(e,t,n){for(var r,i,a,s=t.x,l=t.y,c=Math.sqrt(b[0]*b[0]+b[1]*b[1]),f=x(b),d=w()<.5?1:-1,p=-d;(r=f(p+=d))&&(i=~~r[0],a=~~r[1],!(Math.min(Math.abs(i),Math.abs(a))>=c));)if(t.x=s+i,t.y=l+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>b[0]||t.y+t.y1>b[1])&&(!n||!o(t,e,b[0]))&&(!n||u(t,n))){for(var h,m=t.sprite,g=t.width>>5,y=b[0]>>5,v=t.x-(g<<4),_=127&v,S=32-_,O=t.y1-t.y0,k=(t.y+t.y0)*y+(v>>5),E=0;E<O;E++){h=0;for(var M=0;M<=g;M++)e[k+M]|=h<<S|(M<g?(h=m[E*g+M])>>>_:0);k+=y}return t.sprite=null,!0}return!1}var n,r,i,c,h,m,g,b=[256,256],x=l,S=[],w=Math.random,O={},k=d;return O.layout=function(){for(var o=e(k()),u=f((b[0]>>5)*b[1]),l=null,d=S.length,p=-1,y=[],v=S.map(function(e){return{text:n(e),font:r(e),style:c(e),weight:h(e),rotate:m(e),size:~~i(e),padding:g(e),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:e}}).sort(function(e,t){return t.size-e.size});++p<d;){var _=v[p];_.x=b[0]*(w()+.5)>>1,_.y=b[1]*(w()+.5)>>1,a(o,_,v,p),_.hasText&&t(u,_,l)&&(y.push(_),l?s(l,_):l=[{x:_.x+_.x0,y:_.y+_.y0},{x:_.x+_.x1,y:_.y+_.y1}],_.x-=b[0]>>1,_.y-=b[1]>>1)}return y},O.words=function(e){return arguments.length?(S=e,O):S},O.size=function(e){return arguments.length?(b=[+e[0],+e[1]],O):b},O.font=function(e){return arguments.length?(r=p(e),O):r},O.fontStyle=function(e){return arguments.length?(c=p(e),O):c},O.fontWeight=function(e){return arguments.length?(h=p(e),O):h},O.rotate=function(e){return arguments.length?(m=p(e),O):m},O.text=function(e){return arguments.length?(n=p(e),O):n},O.spiral=function(e){return arguments.length?(x=_[e]||e,O):x},O.fontSize=function(e){return arguments.length?(i=p(e),O):i},O.padding=function(e){return arguments.length?(g=p(e),O):g},O.random=function(e){return arguments.length?(w=e,O):w},O},_={archimedean:l,rectangular:c},x=["x","y","font","fontSize","fontStyle","fontWeight","angle"],S=["text","font","rotate","fontSize","fontStyle","fontWeight"],w=r.inherits(h,t.Transform);w.transform=function(e,t){function n(n){var i=e[n];return r.isFunction(i)&&t.modified(i.fields)}var a=e.modified();if(a||t.changed(t.ADD_REM)||S.some(n)){var o,s=this.value,u=e.as||x,l=e.fontSize||14;if(r.isFunction(l)?o=e.fontSizeRange:l=r.constant(l),o){var c=l,f=i.scale("sqrt")().domain(m(c,t)).range(o);l=function(e){return f(c(e))}}var d=t.materialize(t.SOURCE).source;d.forEach(function(e){e[u[0]]=NaN,e[u[1]]=NaN,e[u[3]]=0});for(var p,h,g=s.words(d).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(l).layout(),y=s.size(),v=y[0]>>1,b=y[1]>>1,_=0,w=g.length;_<w;++_)p=g[_],h=p.datum,h[u[0]]=p.x+v,h[u[1]]=p.y+b,h[u[2]]=p.font,h[u[3]]=p.size,h[u[4]]=p.style,h[u[5]]=p.weight,h[u[6]]=p.rotate;return t.reflow(a).modifies(u)}};var O={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:!0,null:!0,default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:["x","y","font","fontSize","fontStyle","fontWeight","angle"]}]};t.register(O,h),e.transform=t.transform,e.definition=t.definition,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function u(e){var t=new FileReader;return t.readAsText(e),o(t)}function l(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function p(e){var t=new i,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){
Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},l.call(f.prototype),l.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];h.redirect=function(e,t){if(y.indexOf(t)===-1)throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:p(o),url:i()},t="response"in o?o.response:o.responseText;n(new h(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){},681,681,function(e,t,n,r){"use strict";var i=n(r),a=(n(4),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),o=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},u=function(e,t,n,r){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();return i.call(a,e,t,n,r),a}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t?void 0:i("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,f=a,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||f,n.poolSize||(n.poolSize=c),n.release=l,n},p={addPoolingTo:d,oneArgumentPooler:a,twoArgumentPooler:o,threeArgumentPooler:s,fourArgumentPooler:u};e.exports=p},function(e,t,n,r,i){"use strict";function a(e){return u.isBoolean(e)?"bin":"bin"+u.keys(e).map(function(t){return"_"+t+"_"+e[t]}).join("")}function o(e){switch(e){case s.ROW:case s.COLUMN:case s.SIZE:case s.COLOR:case s.OPACITY:case s.SHAPE:return 6;default:return 10}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),u=n(i);t.binToString=a,t.autoMaxBins=o},function(e,t,n,r,i){"use strict";function a(e){return!!m[e]}function o(e){return!!g[e]}function s(e,t){return t in u(e)}function u(e){switch(e){case t.X:case t.Y:case t.COLOR:case t.DETAIL:case t.TOOLTIP:case t.ORDER:case t.OPACITY:case t.ROW:case t.COLUMN:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,rect:!0,line:!0,area:!0,text:!0};case t.X2:case t.Y2:return{rule:!0,bar:!0,rect:!0,area:!0};case t.SIZE:return{point:!0,tick:!0,rule:!0,circle:!0,square:!0,bar:!0,text:!0,line:!0};case t.SHAPE:return{point:!0};case t.TEXT:return{text:!0}}}function l(e){return!h.contains([t.DETAIL,t.TEXT,t.ORDER,t.TOOLTIP],e)}function c(e,n){switch(e){case t.ROW:case t.COLUMN:return"band"===n;case t.X:case t.Y:case t.SIZE:case t.OPACITY:return n in y;case t.COLOR:return"band"!==n;case t.SHAPE:return"ordinal"===n}return!1}function f(e){switch(e){case t.X:case t.Y:case t.SIZE:case t.OPACITY:case t.X2:case t.Y2:return"continuous";case t.ROW:case t.COLUMN:case t.SHAPE:case t.TEXT:case t.TOOLTIP:return"discrete";case t.COLOR:return"flexible";case t.DETAIL:case t.ORDER:return}throw new Error("getSupportedRole not implemented for "+e)}Object.defineProperty(t,"__esModule",{value:!0});var d,p=n(r),h=n(i);!function(e){e.ROW="row",e.COLUMN="column",e.X="x",e.Y="y",e.X2="x2",e.Y2="y2",e.COLOR="color",e.SHAPE="shape",e.SIZE="size",e.OPACITY="opacity",e.TEXT="text",e.ORDER="order",e.DETAIL="detail",e.TOOLTIP="tooltip"}(d=t.Channel||(t.Channel={})),t.X=d.X,t.Y=d.Y,t.X2=d.X2,t.Y2=d.Y2,t.ROW=d.ROW,t.COLUMN=d.COLUMN,t.SHAPE=d.SHAPE,t.SIZE=d.SIZE,t.COLOR=d.COLOR,t.TEXT=d.TEXT,t.DETAIL=d.DETAIL,t.ORDER=d.ORDER,t.OPACITY=d.OPACITY,t.TOOLTIP=d.TOOLTIP,t.CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.ROW,t.COLUMN,t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP];var m=h.toSet(t.CHANNELS);t.SINGLE_DEF_CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.ROW,t.COLUMN,t.SIZE,t.SHAPE,t.COLOR,t.OPACITY,t.TEXT,t.TOOLTIP],t.isChannel=a,t.UNIT_CHANNELS=[t.X,t.Y,t.X2,t.Y2,t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP],t.SCALE_CHANNELS=[t.X,t.Y,t.SIZE,t.SHAPE,t.COLOR,t.OPACITY];var g=h.toSet(t.SCALE_CHANNELS);t.isScaleChannel=o,t.NONSPATIAL_CHANNELS=[t.SIZE,t.SHAPE,t.COLOR,t.ORDER,t.OPACITY,t.TEXT,t.DETAIL,t.TOOLTIP],t.SPATIAL_SCALE_CHANNELS=[t.X,t.Y],t.NONSPATIAL_SCALE_CHANNELS=[t.SIZE,t.SHAPE,t.COLOR,t.OPACITY],t.LEVEL_OF_DETAIL_CHANNELS=h.without(t.NONSPATIAL_CHANNELS,["order"]),t.STACK_BY_CHANNELS=[t.COLOR,t.DETAIL,t.ORDER,t.OPACITY,t.SIZE],t.supportMark=s,t.getSupportedMark=u,t.hasScale=l;var y=h.toSet(h.without(p.SCALE_TYPES,["ordinal","sequential"]));t.supportScaleType=c,t.rangeType=f},function(e,t,n,r,i,a,o,s,u,l){"use strict";function c(e,t){t&&m.set(t);try{var n=h.initConfig(e.config),r=g.normalize(e,n),i=v.buildModel(r,null,"",void 0,void 0,n);return i.parse(),d(i,f(e,n))}finally{t&&m.reset()}}function f(e,t){return p.__assign({},y.extractTopLevelProperties(t),y.extractTopLevelProperties(e))}function d(e,t){var n=e.config?h.stripConfig(e.config):void 0,r=(t.autoResize,p.__rest(t,["autoResize"])),i=e.assembleParentGroupProperties();i&&(delete i.width,delete i.height);var a=p.__assign({$schema:"http://vega.github.io/schema/vega/v3.0.json"},e.description?{description:e.description}:{},{autosize:t.autoResize?{type:"pad",resize:!0}:"pad"},r,i?{encode:{update:i}}:{},{data:[].concat(e.assembleSelectionData([]),e.assembleData())},e.assembleGroup([].concat(e.name&&(e instanceof b.LayerModel||e instanceof _.UnitModel)?[{name:"width",update:e.getName("width")},{name:"height",update:e.getName("height")}]:[],e.assembleLayoutSignals(),e.assembleSelectionTopLevelSignals([]))),n?{config:n}:{});return{spec:a}}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(u),_=n(l);t.compile=c},function(e,t,n,r,i,a,o,s,u){"use strict";function l(e,t){return t.bin?(e[p.field(t,{binSuffix:"start"})]=!0,e[p.field(t,{binSuffix:"end"})]=!0,t.type===m.ORDINAL&&(e[p.field(t,{binSuffix:"range"})]=!0)):e[p.field(t)]=!0,e}function c(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(n in e?e[n][i]=r[i]:e[n]={op:r[i]})}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n(r),p=n(i),h=n(a),m=n(o),g=n(s),y=n(u),v=function(e){function t(t,n){var r=e.call(this)||this;return r.dimensions=t,r.measures=n,r}return f.__extends(t,e),t.prototype.clone=function(){return new t(g.extend({},this.dimensions),g.duplicate(this.measures))},t.makeFromEncoding=function(e){var n=!1;e.forEachFieldDef(function(e){e.aggregate&&(n=!0)});var r={},i={};return n?(e.forEachFieldDef(function(t,n){t.aggregate?"count"===t.aggregate?(r["*"]=r["*"]||{},r["*"].count=p.field(t,{aggregate:"count"})):(r[t.field]=r[t.field]||{},r[t.field][t.aggregate]=p.field(t),d.isScaleChannel(n)&&"unaggregated"===e.scaleDomain(n)&&(r[t.field].min=p.field(t,{aggregate:"min"}),r[t.field].max=p.field(t,{aggregate:"max"}))):l(i,t)}),g.keys(i).length+g.keys(r).length===0?null:new t(i,r)):null},t.makeFromTransform=function(e,n){for(var r={},i={},a=0,o=n.summarize;a<o.length;a++){var s=o[a];s.aggregate&&("count"===s.aggregate?(i["*"]=i["*"]||{},i["*"].count=s.as||p.field(s)):(i[s.field]=i[s.field]||{},i[s.field][s.aggregate]=s.as||p.field(s)))}for(var u=0,l=n.groupby;u<l.length;u++){var s=l[u];r[s]=!0}return g.keys(r).length+g.keys(i).length===0?null:new t(r,i)},t.prototype.merge=function(e){g.differ(this.dimensions,e.dimensions)?h.debug("different dimensions, cannot merge"):(c(this.measures,e.measures),e.remove())},t.prototype.addDimensions=function(e){var t=this;e.forEach(function(e){return t.dimensions[e]=!0})},t.prototype.dependentFields=function(){var e={};return g.keys(this.dimensions).forEach(function(t){return e[t]=!0}),g.keys(this.measures).forEach(function(t){return e[t]=!0}),e},t.prototype.producedFields=function(){var e=this,t={};return g.keys(this.measures).forEach(function(n){g.keys(e.measures[n]).forEach(function(e){t[e+"_"+n]=!0})}),t},t.prototype.assemble=function(){var e=this,t=[],n=[],r=[];g.keys(this.measures).forEach(function(i){g.keys(e.measures[i]).forEach(function(a){r.push(e.measures[i][a]),t.push(a),n.push(i)})});var i={type:"aggregate",groupby:g.keys(this.dimensions),ops:t,fields:n,as:r};return i},t}(y.DataFlowNode);t.AggregateNode=v},function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(r),s=n(i),u=function(e){function t(t,n,r){var i=e.call(this)||this;return i.model=t,i.name=n,i.data=r,t.facet.column&&(i.columnField=t.field(o.COLUMN),i.columnName=t.getName("column")),t.facet.row&&(i.rowField=t.field(o.ROW),i.rowName=t.getName("row")),i}return a.__extends(t,e),Object.defineProperty(t.prototype,"fields",{get:function(){var e=[];return this.columnField&&e.push(this.columnField),this.rowField&&e.push(this.rowField),e},enumerable:!0,configurable:!0}),t.prototype.getSource=function(){return this.name},t.prototype.assemble=function(){var e=[];return this.columnName&&(e.push({name:this.columnName,source:this.data,transform:[{type:"aggregate",groupby:[this.columnField]}]}),e.push({name:this.columnName+"_layout",source:this.columnName,transform:[{type:"aggregate",ops:["distinct"],fields:[this.columnField]}]})),this.rowName&&e.push({name:this.rowName,source:this.data,transform:[{type:"aggregate",groupby:[this.rowField]}]}),e},t}(s.DataFlowNode);t.FacetNode=u},function(e,t,n,r,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(r),l=n(i),c=n(a),f=n(o),d=function(e){function t(t){var n=e.call(this)||this;return n._filter=t,n}return s.__extends(t,e),t.prototype.clone=function(){return new t(c.extend({},this._filter))},t.make=function(e){var n=u.SCALE_CHANNELS.reduce(function(t,n){var r=e.getScaleComponent(n);return r&&e.field(n)?(t[e.field(n)]=r.get("type")===l.ScaleType.LOG,t):t},{});return c.keys(n).length?new t(n):null},Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.assemble=function(){var e=this;return c.keys(this._filter).filter(function(t){return e._filter[t]}).map(function(e){return{type:"filter",expr:'datum["'+e+'"] > 0'}})},t}(f.DataFlowNode);t.NonPositiveFilterNode=d},function(e,t,n,r,i,a,o){"use strict";function s(e){function t(n){if(!(n instanceof p.SourceNode)){var r=n.parent;e(n)&&t(r)}}return t}function u(e){var t=e.parent;if(e instanceof d.ParseNode){if(t instanceof p.SourceNode)return!1;if(t.numChildren()>1)return!0;if(t instanceof d.ParseNode)t.merge(e);else{if(c.hasIntersection(t.producedFields(),e.dependentFields()))return!0;e.swapWithParent()}}return!0}function l(e){e.parent;return!(e instanceof f.OutputNode||e.numChildren()>0)&&(e.remove(),!0)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a),p=n(o);t.iterateFromLeaves=s,t.moveParseUp=u,t.removeUnusedSubtrees=l},function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,b){"use strict";function _(e,t){if(e.data||!e.parent){var n=new F.SourceNode(e.data),r=n.hash();return r in t?t[r]:(t[r]=n,n)}return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function x(e){var t=_(e,e.component.data.sources),n=e.component.data.outputNodes,r=e.component.data.outputNodeRefCounts,i=t,a=e.parent&&e.parent instanceof k.LayerModel;if(e instanceof E.ModelWithField&&a){var o=P.BinNode.makeBinFromEncoding(e);o&&(o.parent=i,i=o)}if(e.transforms.length>0){var s=z.parseTransformArray(e),u=s.first,l=s.last;u.parent=i,i=l}var c=D.ParseNode.make(e);if(c&&(c.parent=i,i=c),e instanceof E.ModelWithField){var f=N.NullFilterNode.make(e);if(f&&(f.parent=i,i=f),!a){var o=P.BinNode.makeBinFromEncoding(e);o&&(o.parent=i,i=o)}var d=j.TimeUnitNode.makeFromEncoding(e);d&&(d.parent=i,i=d)}var p=e.getName(w.RAW),h=new C.OutputNode(p,w.RAW,r);if(n[p]=h,h.parent=i,i=h,e instanceof M.UnitModel){var m=T.AggregateNode.makeFromEncoding(e);m&&(m.parent=i,i=m);var g=L.StackNode.make(e);g&&(g.parent=i,i=g);var y=R.NonPositiveFilterNode.make(e);y&&(y.parent=i,i=y)}if(e instanceof M.UnitModel){var v=I.OrderNode.make(e);v&&(v.parent=i,i=v)}var b=e.getName(w.MAIN),x=new C.OutputNode(b,w.MAIN,r);n[b]=x,x.parent=i,i=x;var F=null;if(e instanceof O.FacetModel){var $=e.getName("facet");F=new A.FacetNode(e,$,x.getSource()),n[$]=F,F.parent=i,i=F}var U=S.__assign({},e.component.data.ancestorParse,c?c.parse:{});return S.__assign({},e.component.data,{outputNodes:n,outputNodeRefCounts:r,main:x,facetRoot:F,ancestorParse:U})}Object.defineProperty(t,"__esModule",{value:!0});var S=n(1),w=n(r),O=n(i),k=n(a),E=n(o),M=n(s),T=n(u),P=n(l),C=n(c),A=n(f),D=n(d),R=n(p),N=n(h),I=n(m),F=n(g),L=n(y),j=n(v),z=n(b);t.parseData=x},function(e,t,n,r,i,a,o,s,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m=n(u),g=function(e){function t(t){var n=e.call(this)||this;return n.sort=t,n}return l.__extends(t,e),t.prototype.clone=function(){return new t(p.duplicate(this.sort))},t.make=function(e){var n=null;if(!p.contains(["line","area"],e.mark()))return null;if("line"===e.mark()&&e.channelHasField("order"))n=h.sortParams(e.encoding.order);else{var r="horizontal"===e.markDef.orient?"y":"x",i=e.sort(r),a=d.isSortField(i)?f.field({aggregate:c.isAggregate(e.encoding)?i.op:void 0,field:i.field}):e.field(r,{binSuffix:"start"});n={field:a,order:"descending"}}return new t(n)},t.prototype.assemble=function(){return{type:"collect",sort:this.sort}},t}(m.DataFlowNode);t.OrderNode=g},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(r),u=n(i),l=n(a),c=function(e){function t(t){var n=e.call(this)||this;if(t=t||{name:"source"},s.isInlineData(t))n._data={values:t.values};else if(s.isUrlData(t)){var r=/(?:\.([^.]+))?$/.exec(t.url)[1];u.contains(["json","csv","tsv","topojson"],r)||(r="json");var i=t.format||{},a=i.type||t.formatType,l=i.property,c=i.feature,f=i.mesh,d=o.__assign({type:a?a:r},l?{property:l}:{},c?{feature:c}:{},f?{mesh:f}:{});n._data={url:t.url,format:d}}else s.isNamedData(t)&&(n._name=t.name,n._data={});return n}return o.__extends(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.hasName=function(){return!!this._name},Object.defineProperty(t.prototype,"dataName",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{set:function(e){throw new Error("Source nodes have to be roots.")},enumerable:!0,configurable:!0}),t.prototype.remove=function(){throw new Error("Source nodes are roots and cannot be removed.")},t.prototype.hash=function(){return s.isInlineData(this._data)?u.hash(this._data):s.isUrlData(this._data)?this._data.url+" "+u.hash(this._data.format):this._name},t.prototype.assemble=function(){return o.__assign({name:this._name},this._data,{transform:[]})},t}(l.DataFlowNode);t.SourceNode=c},function(e,t,n,r,i,a,o,s,u){"use strict";function l(e){return e.stack.stackBy.reduce(function(t,n){var r=n.channel,i=n.fieldDef,a=d.isScaleChannel(r)?e.getScaleComponent(r):void 0,o=p.field(i,{binSuffix:a&&h.hasDiscreteDomain(a.get("type"))?"range":"start"});return o&&t.push(o),t},[])}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1),f=n(7),d=n(r),p=n(i),h=n(a),m=n(o),g=n(s),y=n(u),v=function(e){function t(t){var n=e.call(this)||this;return n._stack=t,n}return c.__extends(t,e),t.prototype.clone=function(){return new t(m.duplicate(this._stack))},t.make=function(e){var n=e.stack;if(!n)return null;var r=[];if(n.groupbyChannel){var i=e.fieldDef(n.groupbyChannel);i.bin?(r.push(e.field(n.groupbyChannel,{binSuffix:"start"})),r.push(e.field(n.groupbyChannel,{binSuffix:"end"}))):r.push(e.field(n.groupbyChannel))}var a,o=l(e),s=e.encoding.order;return a=s?g.sortParams(s):o.reduce(function(e,t){return e.field.push(t),e.order.push("descending"),e},{field:[],order:[]}),new t({groupby:r,field:e.field(n.fieldChannel),stackby:o,sort:a,offset:n.offset,impute:m.contains(["area","line"],e.mark())})},Object.defineProperty(t.prototype,"stack",{get:function(){return this._stack},enumerable:!0,configurable:!0}),t.prototype.addDimensions=function(e){this._stack.groupby=this._stack.groupby.concat(e)},t.prototype.dependentFields=function(){var e={};e[this._stack.field]=!0,this._stack.groupby.forEach(function(t){return e[t]=!0});var t=this._stack.sort.field;return f.isArray(t)?t.forEach(function(t){return e[t]=!0}):e[t]=!0,e},t.prototype.producedFields=function(){var e={};return e[this._stack.field+"_start"]=!0,e[this._stack.field+"_end"]=!0,e},t.prototype.assemble=function(){var e=[],t=this._stack;return t.impute&&e.push({type:"impute",field:t.field,groupby:t.stackby,orderby:t.groupby,method:"value",value:0}),e.push({type:"stack",groupby:t.groupby,field:t.field,sort:t.sort,as:[t.field+"_start",t.field+"_end"],offset:t.offset}),e},t}(y.DataFlowNode);t.StackNode=v},function(e,t,n,r,i,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=n(r),c=n(i),f=n(a),d=n(o),p=n(s),h=function(e){function t(t){var n=e.call(this)||this;return n.formula=t,n}return u.__extends(t,e),t.prototype.clone=function(){return new t(d.duplicate(this.formula))},t.makeFromEncoding=function(e){var n=e.reduceFieldDef(function(e,t){if(t.type===f.TEMPORAL&&t.timeUnit){var n=l.field(t);e[n]={as:n,timeUnit:t.timeUnit,field:t.field}}return e},{});return 0===d.keys(n).length?null:new t(n)},t.makeFromTransfrom=function(e,n){return new t((r={},r[n.field]={as:n.as,timeUnit:n.timeUnit,field:n.field},r));var r},t.prototype.merge=function(e){this.formula=d.extend(this.formula,e.formula),e.remove()},t.prototype.producedFields=function(){var e={};return d.vals(this.formula).forEach(function(t){e[t.as]=!0}),e},t.prototype.dependentFields=function(){var e={};return d.vals(this.formula).forEach(function(t){e[t.field]=!0}),e},t.prototype.assemble=function(){return d.vals(this.formula).map(function(e){return{type:"formula",as:e.as,expr:c.fieldExpr(e.timeUnit,e.field)}})},t}(p.DataFlowNode);t.TimeUnitNode=h},function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";function h(e){var t,n,r=null,i=0;e.transforms.forEach(function(a){if(_.isCalculate(a))t=new P(a);else if(_.isFilter(a)){var o={},s=a.filter,u=null;if(v.isEqualFilter(s)?u=s.equal:v.isRangeFilter(s)?u=s.range[0]:v.isOneOfFilter(s)&&(u=(s.oneOf||s.in)[0]),u&&(y.isDateTime(u)?o[s.field]="date":g.isNumber(u)?o[s.field]="number":g.isString(u)&&(o[s.field]="string")),x.keys(o).length>0){var l=new k.ParseNode(o);r?l.parent=n:r=l,n=l}t=new T(e,a.filter)}else if(_.isBin(a))t=w.BinNode.makeBinFromTransform(e,a);else if(_.isTimeUnit(a))t=M.TimeUnitNode.makeFromTransfrom(e,a);else if(_.isSummarize(a))t=S.AggregateNode.makeFromTransform(e,a);else{if(!_.isLookup(a))return void b.warn(b.message.invalidTransformIgnored(a));t=C.make(e,a,i++)}r?t.parent=n:r=t,n=t});var a=t;return{first:r,last:a}}Object.defineProperty(t,"__esModule",{value:!0});var m=n(1),g=n(7),y=n(r),v=n(i),b=n(a),_=n(o),x=n(s),S=n(u),w=n(l),O=n(c),k=n(f),E=n(d),M=n(p),T=function(e){function t(t,n){var r=e.call(this)||this;return r.model=t,r.filter=n,r}return m.__extends(t,e),t.prototype.clone=function(){return new t(this.model,x.duplicate(this.filter))},t.prototype.assemble=function(){return{type:"filter",expr:v.expression(this.model,this.filter)}},t}(O.DataFlowNode);t.FilterNode=T;var P=function(e){function t(t){var n=e.call(this)||this;return n.transform=t,n}return m.__extends(t,e),t.prototype.clone=function(){return new t(x.duplicate(this.transform))},t.prototype.producedFields=function(){var e={};return e[this.transform.as]=!0,e},t.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}},t}(O.DataFlowNode);t.CalculateNode=P;var C=function(e){function t(t,n){var r=e.call(this)||this;return r.transform=t,r.secondary=n,r}return m.__extends(t,e),t.make=function(e,n,r){var i=e.component.data.sources,a=new E.SourceNode(n.from.data),o=i[a.hash()];o||(i[a.hash()]=a,o=a);var s=e.getName("lookup_"+r),u=new O.OutputNode(s,"lookup",e.component.data.outputNodeRefCounts);return u.parent=o,e.component.data.outputNodes[s]=u,new t(n,u.getSource())},t.prototype.producedFields=function(){return x.toSet(this.transform.from.fields||(this.transform.as instanceof Array?this.transform.as:[this.transform.as]))},t.prototype.assemble=function(){var e;if(this.transform.from.fields)e=m.__assign({values:this.transform.from.fields},this.transform.as?{as:this.transform.as instanceof Array?this.transform.as:[this.transform.as]}:{});else{var t=this.transform.as;g.isString(t)||(b.warn(b.message.NO_FIELDS_NEEDS_AS),t="_lookup"),e={as:[t]}}return m.__assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},e,this.transform.default?{default:this.transform.default}:{})},t}(O.DataFlowNode);t.LookupNode=C,t.parseTransformArray=h},function(e,t,n,r,i){"use strict";function a(e){return[{name:e.getName("width"),update:o(e,"width")},{name:e.getName("height"),update:o(e,"height")}]}function o(e,t){var n=e.children.map(function(e){return e.getName(t)}).join(", ");return"max("+n+")"}function s(e){return[{name:e.getName("width"),update:u(e,"width")},{name:e.getName("height"),update:u(e,"height")}]}function u(e,t){var n="width"===t?"x":"y",r=e.getScaleComponent(n);if(r){var i=r.get("type"),a=r.get("range");if(l.hasDiscreteDomain(i)&&c.isVgRangeStep(a)){var o=e.scaleName(n),s="domain('"+o+"').length",u=r.get("padding"),f=r.get("paddingOuter");f=void 0!==f?f:u;var d=r.get("paddingInner");return d="band"===i?void 0!==d?d:u:1,"bandspace("+s+", "+d+", "+f+") * "+a.step}}return""+e.component.layoutSize.get(t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(r),c=n(i);t.assembleLayoutLayerSignals=a,t.layerSizeExpr=o,t.assembleLayoutUnitSignals=s,t.unitSizeExpr=u},function(e,t,n,r,i,a){"use strict";function o(e){e instanceof d.UnitModel?u(e):s(e)}function s(e){for(var t=0,n=e.children;t<n.length;t++){var r=n[t];o(r)}}function u(e){var t=e.component.layoutSize;if(!t.explicit.width){var n=l(e,"width");t.set("width",n,!1)}if(!t.explicit.height){var r=l(e,"height");t.set("height",r,!1)}}function l(e,t){var n="width"===t?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){var a=i.get("type"),o=i.get("range");return c.hasDiscreteDomain(a)&&f.isVgRangeStep(o)?null:r.cell[t]}return"width"===t&&"text"===e.mark()?r.scale.textXRangeStep:r.scale.rangeStep||c.defaultScaleConfig.rangeStep}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=n(a);t.parseLayoutSize=o},function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(e,t,n,r){var i={},a=n.mark();switch(a){case m.BAR:case m.TICK:case m.TEXT:i.shape={value:"square"};break;case m.CIRCLE:case m.SQUARE:i.shape={value:a};break;case m.POINT:case m.LINE:case m.AREA:}var o=(n.config,n.markDef.filled),s=r===p.COLOR?v.without(m.FILL_STROKE_CONFIG,[o?"fill":"stroke","strokeDash","strokeDashOffset"]):m.FILL_STROKE_CONFIG;if(s=v.without(s,["strokeDash","strokeDashOffset"]),b.applyMarkConfig(i,n,s),r!==p.COLOR){var u=_.color(n);u.fill&&u.fill.field&&delete u.fill,u.stroke&&u.stroke.field&&delete u.stroke,v.extend(i,u)}if(r!==p.SHAPE){var l=n.encoding.shape;h.isValueDef(l)&&(i.shape={value:l.value})}return i=v.extend(i,t||{}),v.keys(i).length>0?i:void 0}function d(e,t,n,r){var i=n.legend(r),a=n.config,o={};if(e.type===y.TEMPORAL){var s=n.getScaleComponent(r).get("type")===g.ScaleType.UTC;t=v.extend({text:{signal:b.timeFormatExpression("datum.value",e.timeUnit,i.format,a.legend.shortTimeLabels,a.timeFormat,s)}},t||{})}return o=v.extend(o,t||{}),v.keys(o).length>0?o:void 0}Object.defineProperty(t,"__esModule",{value:!0});var p=n(r),h=n(i),m=n(a),g=n(o),y=n(s),v=n(u),b=n(l),_=n(c);t.symbols=f,t.labels=d},function(e,t,n,r,i,a,o,s){"use strict";function u(e,t,n){return void 0!==e.title?e.title:p.title(t,n)}function l(e){var t=e.values;return t&&d.isDateTime(t[0])?t.map(function(e){return{signal:d.dateTimeExpr(e,!0)}}):t}function c(e,t,n,r){return e.type?e.type:n===f.COLOR&&("quantitative"===t&&!h.isBinScale(r)||"temporal"===t&&m.contains(["time","utc"],r))?"gradient":void 0}Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a),h=n(o),m=n(s);t.title=u,t.values=l,t.type=c},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(r);t.area={vgMark:"area",defaultRole:void 0,encodeEntry:function(e){return i.__assign({},a.pointPosition("x",e,"zeroOrMin"),a.pointPosition("y",e,"zeroOrMin"),a.pointPosition2(e,"zeroOrMin"),a.color(e),a.text(e,"tooltip"),a.nonPosition("opacity",e),a.markDefProperties(e.markDef,["orient","interpolate","tension"]))}}},function(e,t,n,r,i,a,o,s,u,l){"use strict";function c(e,t){var n=e.config,r=e.width,i=e.markDef.orient,a=e.encoding.size,o=e.encoding.x,s=e.scaleName(h.X),u=e.getScaleComponent(h.X);if("horizontal"===i)return p.__assign({},b.pointPosition("x",e,"zeroOrMin"),b.pointPosition2(e,"zeroOrMin"));if(m.isFieldDef(o)){if(o.bin&&!a)return b.binnedPosition(o,"x",e.scaleName("x"),n.bar.binSpacing);var l=u.get("type");if(l===y.ScaleType.BAND)return b.bandPosition(o,"x",e)}return b.centeredBandPosition("x",e,p.__assign({},_.midX(r,n)),d(s,u,n))}function f(e,t){var n=e.config,r=e.encoding,i=e.height,a=e.markDef.orient,o=r.size,s=r.y,u=e.scaleName(h.Y),l=e.getScaleComponent(h.Y);if("vertical"===a)return p.__assign({},b.pointPosition("y",e,"zeroOrMin"),b.pointPosition2(e,"zeroOrMin"));if(m.isFieldDef(s)){var c=l.get("type");if(s.bin&&!o)return b.binnedPosition(s,"y",e.scaleName("y"),n.bar.binSpacing);if(c===y.ScaleType.BAND)return b.bandPosition(s,"y",e)}return b.centeredBandPosition("y",e,_.midY(i,n),d(u,l,n))}function d(e,t,n){if(n.bar.discreteBandSize)return{value:n.bar.discreteBandSize};if(t){var r=t.get("type");if(r!==y.ScaleType.POINT)return r===y.ScaleType.BAND?_.band(e):{value:n.bar.continuousBandSize};var i=t.get("range");if(v.isVgRangeStep(i))return{value:i.step-1};g.warn(g.message.BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL)}return n.scale.rangeStep&&null!==n.scale.rangeStep?{value:n.scale.rangeStep-1}:{value:20}}Object.defineProperty(t,"__esModule",{value:!0});var p=n(1),h=n(r),m=n(i),g=n(a),y=n(o),v=n(s),b=n(u),_=n(l);t.bar={vgMark:"rect",defaultRole:"bar",encodeEntry:function(e){var t=e.stack;return p.__assign({},c(e,t),f(e,t),b.color(e),b.text(e,"tooltip"),b.nonPosition("opacity",e))}}},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(r);t.line={vgMark:"line",defaultRole:void 0,encodeEntry:function(e){return i.__assign({},a.pointPosition("x",e,"zeroOrMin"),a.pointPosition("y",e,"zeroOrMin"),a.color(e),a.text(e,"tooltip"),a.nonPosition("opacity",e),a.nonPosition("size",e,{vgChannel:"strokeWidth"}),a.markDefProperties(e.markDef,["interpolate","tension"]))}}},function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,b){"use strict";function _(e){if(e instanceof I.UnitModel)j.normalizeMarkDef(e.markDef,e.encoding,e.component.scales,e.config);else for(var t=0,n=e.children;t<n.length;t++){var r=n[t];_(r)}}function x(e){return N.contains([D.LINE,D.AREA],e.mark())?S(e):w(e)}function S(e){var t=e.mark(),n=O(e),r=e.markDef.role||V[t].defaultRole,i=[E.__assign({name:e.getName("marks"),type:V[t].vgMark},k(e),r?{role:r}:{},{from:{data:(n.length>0?H:"")+e.requestDataName(C.MAIN)},encode:{update:V[t].encodeEntry(e)}})];return n.length>0?[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:H+e.requestDataName(C.MAIN),data:e.requestDataName(C.MAIN),groupby:n}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:i}]:i}function w(e){var t=e.mark(),n=e.markDef.role||V[t].defaultRole,r=[];return r.push(E.__assign({name:e.getName("marks"),type:V[t].vgMark},k(e),n?{role:n}:{},{from:{data:e.requestDataName(C.MAIN)},encode:{update:V[t].encodeEntry(e)}})),r}function O(e){return P.LEVEL_OF_DETAIL_CHANNELS.reduce(function(t,n){var r=e.encoding;if("detail"===n||"order"===n){var i=r[n];i&&(M.isArray(i)?i:[i]).forEach(function(e){e.aggregate||t.push(A.field(e,{binSuffix:"start"}))})}else{var a=A.getFieldDef(r[n]);a&&!a.aggregate&&t.push(A.field(a,{binSuffix:"start"}))}return t},[])}function k(e){var t=e.scaleDomain(T.X),n=e.scaleDomain(T.Y);return t&&R.isSelectionDomain(t)||n&&R.isSelectionDomain(n)?{clip:!0}:{}}Object.defineProperty(t,"__esModule",{value:!0});var E=n(1),M=n(7),T=n(r),P=n(i),C=n(a),A=n(o),D=n(s),R=n(u),N=n(l),I=n(c),F=n(f),L=n(d),j=n(p),z=n(h),$=n(m),U=n(g),B=n(y),q=n(v),W=n(b),V={area:F.area,bar:L.bar,line:z.line,point:$.point,text:q.text,tick:W.tick,rect:U.rect,rule:B.rule,circle:$.circle,square:$.square};t.parseMarkDef=_,t.parseMarkGroup=x;var H="faceted_path_"},function(e,t,n,r,i,a,o,s,u){"use strict";function l(e){var t=e.encoding.x,n=e.encoding.x2,r=e.getScaleComponent(d.X),i=r?r.get("type"):void 0;if(p.isFieldDef(t)&&t.bin&&!n)return y.binnedPosition(t,"x",e.scaleName("x"),0);if(p.isFieldDef(t)&&r&&g.hasDiscreteDomain(i)){if(i===g.ScaleType.BAND)return y.bandPosition(t,"x",e);throw new Error(h.message.scaleTypeNotWorkWithMark(m.RECT,i))}return f.__assign({},y.pointPosition("x",e,"zeroOrMax"),y.pointPosition2(e,"zeroOrMin","x2"))}function c(e){var t=e.encoding.y,n=e.encoding.y2,r=e.getScaleComponent(d.Y),i=r?r.get("type"):void 0;if(p.isFieldDef(t)&&t.bin&&!n)return y.binnedPosition(t,"y",e.scaleName("y"),0);if(p.isFieldDef(t)&&r&&g.hasDiscreteDomain(i)){if(i===g.ScaleType.BAND)return y.bandPosition(t,"y",e);throw new Error(h.message.scaleTypeNotWorkWithMark(m.RECT,i))}return f.__assign({},y.pointPosition("y",e,"zeroOrMax"),y.pointPosition2(e,"zeroOrMin","y2"))}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n(r),p=n(i),h=n(a),m=n(o),g=n(s),y=n(u);t.rect={vgMark:"rect",defaultRole:void 0,encodeEntry:function(e){return f.__assign({},l(e),c(e),y.color(e),y.text(e,"tooltip"),y.nonPosition("opacity",e))}}},function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(r),s=n(i);t.rule={vgMark:"rule",defaultRole:void 0,encodeEntry:function(e){var t=e.config,n=e.markDef,r=e.width,i=e.height,u=n.orient;return a.__assign({},o.pointPosition("x",e,"horizontal"===u?"zeroOrMin":s.midX(r,t)),o.pointPosition("y",e,"vertical"===u?"zeroOrMin":s.midY(i,t)),o.pointPosition2(e,"zeroOrMax"),o.color(e),o.text(e,"tooltip"),o.nonPosition("opacity",e),o.nonPosition("size",e,{vgChannel:"strokeWidth"}))}}},function(e,t,n,r,i,a){"use strict";function o(e){var t=e.config,n=e.markDef.orient,r=e.getScaleComponent("horizontal"===n?"x":"y");if(void 0!==t.tick.bandSize)return t.tick.bandSize;var i=r?r.get("range"):void 0,a=i&&u.isVgRangeStep(i)?i.step:t.scale.rangeStep;if("number"!=typeof a)throw new Error("Function does not handle non-numeric rangeStep");return a/1.5}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(r),l=n(i),c=n(a);t.tick={vgMark:"rect",defaultRole:"tick",encodeEntry:function(e){
var t=e.config,n=e.markDef,r=e.width,i=e.height,a=n.orient,u="horizontal"===a?"width":"height",f="horizontal"===a?"height":"width";return s.__assign({},l.pointPosition("x",e,c.midX(r,t),"xc"),l.pointPosition("y",e,c.midY(i,t),"yc"),l.nonPosition("size",e,{defaultValue:o(e),vgChannel:u}),(d={},d[f]={value:t.tick.thickness},d),l.color(e),l.nonPosition("opacity",e));var d}}},function(e,t,n,r,i,a,o,s){"use strict";function u(e,t,n,r,i,a){return O.isFieldDef(t)&&i&&e===i.fieldChannel?f(t,n,{suffix:"end"}):h(e,t,n,r,a)}function l(e,t,n,r,i,a,o){return O.isFieldDef(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?f(t,r,{suffix:"start"}):h(e,n,r,i,o)}function c(e,t,n,r){return f(e,t,{binSuffix:n},r?{offset:r}:{})}function f(e,t,n,r){var i={scale:t,field:O.field(e,n)};return r?S.__assign({},i,r):i}function d(e,t){return void 0===t&&(t=!0),{scale:e,band:t}}function p(e,t){return{signal:"("+('scale("'+t+'", '+O.field(e,{binSuffix:"start",expr:"datum"})+")")+" + "+('scale("'+t+'", '+O.field(e,{binSuffix:"end",expr:"datum"})+")")+")/2"}}function h(e,t,n,r,i){if(t){if(O.isFieldDef(t)){if(t.bin)return E.contains(["x","y"],e)?p(t,n):f(t,n,{binSuffix:"start"});var a=r.get("type");return k.hasDiscreteDomain(a)?"band"===a?f(t,n,{binSuffix:"range"},{band:.5}):f(t,n,{binSuffix:"range"}):f(t,n,{})}if(O.isValueDef(t))return{value:t.value};throw new Error("FieldDef without field or value.")}if("zeroOrMin"===i){if(e===w.X||e===w.X2)return v(n,r);if(e===w.Y||e===w.Y2)return _(n,r);throw new Error("Unsupported channel "+e+" for base function")}if("zeroOrMax"===i){if(e===w.X||e===w.X2)return b(n,r);if(e===w.Y||e===w.Y2)return x(n,r);throw new Error("Unsupported channel "+e+" for base function")}return i}function m(e,t){if(e){if(O.isFieldDef(e))return M.formatSignalRef(e,e.format,"datum",t);if(O.isValueDef(e))return{value:e.value}}}function g(e,t){if(e)return{value:e/2};if("string"==typeof t.scale.rangeStep)throw new Error("midX can not handle string rangeSteps");return{value:t.scale.rangeStep/2}}function y(e,t){if(e)return{value:e/2};if("string"==typeof t.scale.rangeStep)throw new Error("midX can not handle string rangeSteps");return{value:t.scale.rangeStep/2}}function v(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}function b(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"width"}}}function _(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{field:{group:"height"}}}function x(e,t){return e&&!E.contains([k.ScaleType.LOG,k.ScaleType.TIME,k.ScaleType.UTC],t.get("type"))&&t.get("zero")!==!1?{scale:e,value:0}:{value:0}}Object.defineProperty(t,"__esModule",{value:!0});var S=n(1),w=n(r),O=n(i),k=n(a),E=n(o),M=n(s);t.stackable=u,t.stackable2=l,t.bin=c,t.fieldRef=f,t.band=d,t.midPoint=h,t.text=m,t.midX=g,t.midY=y},function(e,t,n,r,i,a){"use strict";function o(e){return l.vals(e.component.scales).reduce(function(t,n){if(n.merged)return t;var r=n.combine(["name","type","domain","domainRaw","range"]),i=n.get("domainRaw");i&&f.isRawSelectionDomain(i)&&(r.domainRaw=f.selectionScaleDomain(e,i));var a=n.get("domain");if(c.isDataRefDomain(a)||c.isFieldRefUnionDomain(a))a.data=e.lookupDataSource(a.data),t.push(r);else if(c.isDataRefUnionedDomain(a))a.fields=a.fields.map(function(t){return s.__assign({},t,{data:e.lookupDataSource(t.data)})}),t.push(r);else{if(!c.isSignalRefDomain(a)&&!u.isArray(a))throw new Error("invalid scale domain");t.push(r)}return t},[])}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(7),l=n(r),c=n(i),f=n(a);t.assembleScale=o},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(r),o=function(e){function t(t,n){var r=e.call(this,{},{name:t})||this;return r.merged=!1,r.setWithExplicit("type",n),r}return i.__extends(t,e),t}(a.Split);t.ScaleComponent=o},function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(e){e instanceof E.UnitModel?d(e):M.parseNonUnitScaleProperty(e,"range")}function d(e){var t=e.component.scales;_.SCALE_CHANNELS.forEach(function(n){var r=t[n];if(r){var i=e.specifiedScales[n],a=e.fieldDef(n),o="x"===n?e.component.layoutSize.get("width"):"y"===n?e.component.layoutSize.get("height"):void 0,s=p(e),u=h(n,r.get("type"),a.type,i,e.config,r.get("zero"),e.mark(),o,s);r.setWithExplicit("range",u)}})}function p(e){var t=[],n=e.getScaleComponent("x"),r=n&&n.get("range");r&&O.isVgRangeStep(r)&&t.push(r.step);var i=e.getScaleComponent("y"),a=i&&i.get("range");return a&&O.isVgRangeStep(a)&&t.push(a.step),t}function h(e,n,r,i,a,o,s,u,l){for(var c=!1,f=0,d=t.RANGE_PROPERTIES;f<d.length;f++){var p=d[f];if(void 0!==i[p]){var h=S.scaleTypeSupportProperty(n,p),y=S.channelScalePropertyIncompatability(e,p);if(h)if(y)x.warn(y);else switch(p){case"range":return k.makeImplicit(i[p]);case"scheme":return k.makeImplicit(m(i[p]));case"rangeStep":if(void 0===u){var v=i[p];if(null!==v)return k.makeImplicit({step:v});c=!0}else x.warn(x.message.rangeStepDropped(e))}else x.warn(x.message.scalePropertyNotWorkWithScaleType(n,p,e))}}return{explicit:!1,value:g(e,n,r,a,o,s,u,l,c)}}function m(e){if(S.isExtendedScheme(e)){var t={scheme:e.name};return e.count&&(t.count=e.count),e.extent&&(t.extent=e.extent),t}return{scheme:e}}function g(e,t,n,r,i,a,o,s,u){switch(e){case _.ROW:return"height";case _.COLUMN:return"width";case _.X:case _.Y:if(void 0===o){if(w.contains(["point","band"],t)&&!u)if(e===_.X&&"text"===a){if(r.scale.textXRangeStep)return{step:r.scale.textXRangeStep}}else if(r.scale.rangeStep)return{step:r.scale.rangeStep};o=e===_.X?r.cell.width:r.cell.height}return e===_.X?[0,o]:[o,0];case _.SIZE:var l=y(a,i,r),c=v(a,s,r);return[l,c];case _.SHAPE:return"symbol";case _.COLOR:return"ordinal"===t?"nominal"===n?"category":"ordinal":"rect"===a?"heatmap":"ramp";case _.OPACITY:return[r.scale.minOpacity,r.scale.maxOpacity]}throw new Error("Scale range undefined for channel "+e)}function y(e,t,n){if(t)return 0;switch(e){case"bar":return void 0!==n.scale.minBandSize?n.scale.minBandSize:n.bar.continuousBandSize;case"tick":return n.scale.minBandSize;case"line":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":if(n.scale.minSize)return n.scale.minSize}throw new Error(x.message.incompatibleChannel("size",e))}function v(e,t,n){var r=n.scale;switch(e){case"bar":case"tick":return void 0!==n.scale.maxBandSize?n.scale.maxBandSize:b(t,n.scale)-1;case"line":case"rule":return n.scale.maxStrokeWidth;case"text":return n.scale.maxFontSize;case"point":case"square":case"circle":if(n.scale.maxSize)return n.scale.maxSize;var i=b(t,r);return(i-2)*(i-2)}throw new Error(x.message.incompatibleChannel("size",e))}function b(e,t){return e.length>0?Math.min.apply(null,e):t.rangeStep?t.rangeStep:21}Object.defineProperty(t,"__esModule",{value:!0});var _=n(r),x=n(i),S=n(a),w=n(o),O=n(s),k=n(u),E=n(l),M=n(c);t.RANGE_PROPERTIES=["range","rangeStep","scheme"],t.parseScaleRange=f,t.parseRangeForChannel=h,t.defaultRange=g},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),u=n(a),l={predicate:"vlPoint",scaleDomain:"vlPointDomain",signals:function(e,t){var n=t.project,r=u.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum",i={},a=n.map(function(e){return o.stringValue(e.encoding)}).filter(function(e){return e}).join(", "),l=n.map(function(e){return o.stringValue(e.field)}).join(", "),c=n.map(function(t){var n=t.encoding,a=e.fieldDef(n);return a&&a.bin?(i[t.field]=1,"["+r+"["+o.stringValue(e.field(n,{binSuffix:"start"}))+"], "+(r+"["+o.stringValue(e.field(n,{binSuffix:"end"}))+"]]")):r+"["+o.stringValue(t.field)+"]"}).join(", ");return[{name:t.name+s.TUPLE,value:{},on:[{events:t.events,update:"datum && {unit: "+o.stringValue(e.getName(""))+", "+("encodings: ["+a+"], fields: ["+l+"], values: ["+c+"]")+(o.keys(i).length?", bins: "+JSON.stringify(i)+"}":"}")}]}]},modifyExpr:function(e,t){var n=t.name+s.TUPLE;return n+", "+("global"===t.resolve?"null":"{unit: "+o.stringValue(e.getName(""))+"}")}};t.default=l},function(e,t,n,r,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r),s=n(i),u=n(a),l={predicate:s.default.predicate,scaleDomain:s.default.scaleDomain,signals:s.default.signals,topLevelSignals:function(e,t,n){var r=n.filter(function(e){return e.name===t.name}),i="data("+o.stringValue(t.name+u.STORE)+")",a=i+"[0].values";return r.length?n:n.concat({name:t.name,update:i+".length && {"+t.project.map(function(e,t){return e.field+": "+a+"["+t+"]"}).join(", ")+"}"})},modifyExpr:function(e,t){var n=t.name+u.TUPLE;return n+", "+("global"===t.resolve?"true":"{unit: "+o.stringValue(e.getName(""))+"}")}};t.default=l},function(e,t,n,r,i,a){"use strict";function o(e){return"_"+e.replace(/\W/g,"_")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),u=n(i),l=n(a),c={has:function(e){return"single"===e.type&&"global"===e.resolve&&e.bind&&"scales"!==e.bind},topLevelSignals:function(e,t,n){var r=t.name,i=t.project,a=t.bind,u=l.default.has(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.forEach(function(e){n.unshift({name:r+o(e.field),value:"",on:[{events:t.events,update:"datum && "+u+"["+s.stringValue(e.field)+"]"}],bind:a[e.field]||a[e.encoding]||a})}),n},signals:function(e,t,n){var r=t.name,i=t.project,a=n.filter(function(e){return e.name===r+u.TUPLE})[0],l=i.map(function(e){return s.stringValue(e.field)}).join(", "),c=i.map(function(e){return r+o(e.field)}).join(", ");return a.update="{fields: ["+l+"], values: ["+c+"]}",delete a.value,delete a.on,n}};t.default=c},function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(r),a={has:function(e){return void 0!==e.fields||void 0!==e.encodings},parse:function(e,t,n){var r={};(t.fields||[]).forEach(function(e){return r[e]=null}),(t.encodings||[]).forEach(function(t){var n=e.fieldDef(t);n?n.timeUnit?r[e.field(t)]=t:r[n.field]=t:i.warn(i.message.cannotProjectOnChannelWithoutField(t))});var a=n.project||(n.project=[]);for(var o in r)r.hasOwnProperty(o)&&a.push({field:o,encoding:r[o]});r=n.fields||(n.fields={}),a.filter(function(e){return e.encoding}).forEach(function(e){return r[e.encoding]=e.field})}};t.default=a},function(e,t,n,r,i,a,o){"use strict";function s(e,t){var n=c.stringValue(e.scaleName(t));return"domain("+n+")"}Object.defineProperty(t,"__esModule",{value:!0});var u=n(r),l=n(i),c=n(a),f=n(o),d={clipGroup:!0,has:function(e){return"interval"===e.type&&"global"===e.resolve&&e.bind&&"scales"===e.bind},parse:function(e,t,n){var r=n.scales=[];n.project.forEach(function(t){var i=t.encoding,a=e.getScaleComponent(i),o=a?a.get("type"):void 0;return a&&l.hasContinuousDomain(o)&&!l.isBinScale(o)?(a.set("domainRaw",{signal:f.channelSignalName(n,i,"data")},!0),void r.push(i)):void u.warn("Scale bindings are currently only supported for scales with unbinned, continuous domains.")})},topLevelSignals:function(e,t,n){if(!e.parent)return n;var r=t.scales.filter(function(e){return!n.filter(function(n){return n.name===f.channelSignalName(t,e,"data")}).length});return n.concat(r.map(function(e){return{name:f.channelSignalName(t,e,"data")}}))},signals:function(e,t,n){return e.parent&&t.scales.forEach(function(e){var r=n.filter(function(n){return n.name===f.channelSignalName(t,e,"data")})[0];r.push="outer",delete r.value,delete r.update}),n}};t.default=d,t.domain=s},function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r),o=n(i),s="_toggle",u={has:function(e){return void 0!==e.toggle&&e.toggle!==!1},signals:function(e,t,n){return n.concat({name:t.name+s,value:!1,on:[{events:t.events,update:t.toggle}]})},modifyExpr:function(e,t,n){var r=t.name+o.TUPLE,i=t.name+s;return i+" ? null : "+r+", "+("global"===t.resolve?i+" ? null : true, ":i+" ? null : {unit: "+a.stringValue(e.getName(""))+"}, ")+(i+" ? "+r+" : null")}};t.default=u},function(e,t,n,r,i,a,o,s,u,l){"use strict";function c(e,t){for(var n in v)v[n].has(e)&&t(v[n])}Object.defineProperty(t,"__esModule",{value:!0});var f=n(r),d=n(i),p=n(a),h=n(o),m=n(s),g=n(u),y=n(l),v={project:p.default,toggle:m.default,scales:h.default,translate:g.default,zoom:y.default,inputs:f.default,nearest:d.default};t.forEachTransform=c},function(e,t,n,r,i,a,o){"use strict";function s(e,t){return p.default.has(e)?t===c.Y?"+":"-":"+"}function u(e,t,n,r,i){var a=t.name,o=p.default.has(t),u=i.filter(function(e){return e.name===d.channelSignalName(t,n,o?"data":"visual")})[0],l=e.getSizeSignalRef(r).signal,c=a+h,f=a+m,g=s(t,n),y=g+(o?" span("+c+".extent_"+n+") * "+f+"."+n+" / "+l:" "+f+"."+n),v=c+".extent_"+n,b="["+v+"[0] "+y+", "+v+"[1] "+y+"]";u.on.push({events:{signal:f},update:o?b:"clampRange("+b+", 0, "+l+")"})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(54),c=n(r),f=n(i),d=n(a),p=n(o),h="_translate_anchor",m="_translate_delta",g={has:function(e){return"interval"===e.type&&void 0!==e.translate&&e.translate!==!1},signals:function(e,t,n){var r=t.name,i=p.default.has(t),a=r+h,o=f.projections(t),s=o.x,g=o.y,y=l.selector(t.translate,"scope");return i||(y=y.map(function(e){return e.between[0].markname=r+f.BRUSH,e})),n.push({name:a,value:{},on:[{events:y.map(function(e){return e.between[0]}),update:"{x: x(unit), y: y(unit)"+(null!==s?", extent_x: "+(i?p.domain(e,c.X):"slice("+d.channelSignalName(t,"x","visual")+")"):"")+(null!==g?", extent_y: "+(i?p.domain(e,c.Y):"slice("+d.channelSignalName(t,"y","visual")+")"):"")+"}"}]},{name:r+m,value:{},on:[{events:y,update:"{x: x(unit) - "+a+".x, y: y(unit) - "+a+".y}"}]}),null!==s&&u(e,t,c.X,"width",n),null!==g&&u(e,t,c.Y,"height",n),n}};t.default=g},function(e,t,n,r,i,a,o,s){"use strict";function u(e,t,n,r,i){var a=t.name,o=h.default.has(t),s=i.filter(function(e){return e.name===p.channelSignalName(t,n,o?"data":"visual")})[0],u=e.getSizeSignalRef(r).signal,l=o?h.domain(e,n):s.name,c=""+a+m+"."+n,d=a+g,y=(f.stringValue(e.scaleName(n)),"["+c+" + ("+l+"[0] - "+c+") * "+d+", "+(c+" + ("+l+"[1] - "+c+") * "+d+"]"));s.on.push({events:{signal:d},update:o?y:"clampRange("+y+", 0, "+u+")"})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(54),c=n(r),f=n(i),d=n(a),p=n(o),h=n(s),m="_zoom_anchor",g="_zoom_delta",y={has:function(e){return"interval"===e.type&&void 0!==e.zoom&&e.zoom!==!1},signals:function(e,t,n){var r=t.name,i=h.default.has(t),a=r+g,o=d.projections(t),s=o.x,p=o.y,y=f.stringValue(e.scaleName(c.X)),v=f.stringValue(e.scaleName(c.Y)),b=l.selector(t.zoom,"scope");return i||(b=b.map(function(e){return e.markname=r+d.BRUSH,e})),n.push({name:r+m,on:[{events:b,update:i?"{x: invert("+y+", x(unit)), y: invert("+v+", y(unit))}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:b,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),null!==s&&u(e,t,"x","width",n),null!==p&&u(e,t,"y","height",n),n}};t.default=y},function(e,t,n,r,i,a){"use strict";function o(e,t){p[e]=t}function s(e){delete p[e]}function u(e,t){var n=c.isMarkDef(e.mark)?e.mark.type:e.mark,r=p[n];if(r)return r(e,t);throw new Error("Unregistered composite mark "+n)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(r),f=n(i),d=n(a),p={};t.add=o,t.remove=s,t.COMPOSITE_MARK_ROLES=f.BOXPLOT_ROLES,t.VL_ONLY_COMPOSITE_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX=l.__assign({},f.VL_ONLY_BOXPLOT_CONFIG_PROPERTY_INDEX),o(f.BOXPLOT,f.normalizeBoxPlot),o(d.ERRORBAR,d.normalizeErrorBar),t.normalize=u},function(e,t,n,r,i){"use strict";function a(e){return!!(e&&(e.year||e.quarter||e.month||e.date||e.day||e.hours||e.minutes||e.seconds||e.milliseconds))}function o(e){if(f.isNumber(e))return e>4&&c.warn(c.message.invalidTimeUnit("quarter",e)),e-1+"";throw new Error(c.message.invalidTimeUnit("quarter",e))}function s(e){if(f.isNumber(e))return e-1+"";var n=e.toLowerCase(),r=t.MONTHS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_MONTHS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("month",e))}function u(e){if(f.isNumber(e))return e%7+"";var n=e.toLowerCase(),r=t.DAYS.indexOf(n);if(r!==-1)return r+"";var i=n.substr(0,3),a=t.SHORT_DAYS.indexOf(i);if(a!==-1)return a+"";throw new Error(c.message.invalidTimeUnit("day",e))}function l(e,t){void 0===t&&(t=!1);var n=[];if(t&&void 0!==e.day&&f.keys(e).length>1&&(c.warn(c.message.droppedDay(e)),e=f.duplicate(e),delete e.day),void 0!==e.year?n.push(e.year):void 0!==e.day?n.push(d):n.push(0),void 0!==e.month){var r=t?s(e.month):e.month;n.push(r)}else if(void 0!==e.quarter){var i=t?o(e.quarter):e.quarter;n.push(i+"*3")}else n.push(0);if(void 0!==e.date)n.push(e.date);else if(void 0!==e.day){var a=t?u(e.day):e.day;n.push(a+"+1")}else n.push(1);for(var l=0,p=["hours","minutes","seconds","milliseconds"];l<p.length;l++){var h=p[l];void 0!==e[h]?n.push(e[h]):n.push(0)}return e.utc?"utc("+n.join(", ")+")":"datetime("+n.join(", ")+")"}Object.defineProperty(t,"__esModule",{value:!0});var c=n(r),f=n(i),d=2006;t.isDateTime=a,t.MONTHS=["january","february","march","april","may","june","july","august","september","october","november","december"],t.SHORT_MONTHS=t.MONTHS.map(function(e){return e.substr(0,3)}),t.DAYS=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t.SHORT_DAYS=t.DAYS.map(function(e){return e.substr(0,3)}),t.dateTimeExpr=l},function(e,t,n,r,i,a,o){"use strict";function s(e,t){var n=e&&e[t];return!!n&&(y.isArray(n)?y.some(n,function(e){return!!e.field}):m.isFieldDef(n)||m.hasConditionFieldDef(n))}function u(e){return y.some(h.CHANNELS,function(t){if(s(e,t)){var n=e[t];if(y.isArray(n))return y.some(n,function(e){return!!e.aggregate});var r=m.getFieldDef(n);return r&&!!r.aggregate}return!1})}function l(e,t){return y.keys(e).reduce(function(n,r){if(!h.supportMark(r,t))return g.warn(g.message.incompatibleChannel(r,t)),n;if("size"===r&&"line"===t){var i=m.getFieldDef(e[r]);if(i&&i.aggregate)return g.warn(g.message.incompatibleChannel(r,t,"when the field is aggregated.")),n}if("detail"===r||"order"===r){var a=e[r];a&&(n[r]=(y.isArray(a)?a:[a]).reduce(function(e,t){return m.isFieldDef(t)?e.push(m.normalizeFieldDef(t,r)):g.warn(g.message.emptyFieldDef(t,r)),e},[]))}else{var a=e[r];if(!m.isFieldDef(a)&&!m.isValueDef(a)&&!m.isConditionalDef(a))return g.warn(g.message.emptyFieldDef(a,r)),n;n[r]=m.normalize(a,r)}return n},{})}function c(e){return e&&(!!e.x&&!!e.x2||!!e.y&&!!e.y2)}function f(e){var t=[];return h.CHANNELS.forEach(function(n){if(s(e,n)){var r=e[n];(y.isArray(r)?r:[r]).forEach(function(e){m.isFieldDef(e)?t.push(e):m.hasConditionFieldDef(e)&&t.push(e.condition)})}}),t}function d(e,t,n){e&&y.keys(e).forEach(function(r){var i=r;y.isArray(e[i])?e[i].forEach(function(e){t.call(n,e,i)}):t.call(n,e[i],i)})}function p(e,t,n,r){return e?y.keys(e).reduce(function(n,i){var a=i;return y.isArray(e[a])?e[a].reduce(function(e,n){return t.call(r,e,n,a)},n):t.call(r,n,e[a],a)},n):n}Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o);t.channelHasField=s,t.isAggregate=u,t.normalizeEncoding=l,t.isRanged=c,t.fieldDefs=f,t.forEach=d,t.reduce=p},function(e,t,n,r,i,a,o,s){"use strict";function u(e){return e&&e.selection}function l(e){return e&&!!e.field&&void 0!==e.equal}function c(e){return!!(e&&e.field&&v.isArray(e.range)&&2===e.range.length)}function f(e){return e&&!!e.field&&(v.isArray(e.oneOf)||v.isArray(e.in))}function d(e,t){return v.logicalExpr(t,function(t){if(v.isString(t))return t;if(u(t))return h.predicate(e,t.selection);var n=t.timeUnit?"time("+y.fieldExpr(t.timeUnit,t.field)+")":g.field(t,{expr:"datum"});if(l(t))return n+"==="+p(t.equal,t.timeUnit);if(f(t)){var r=t.oneOf||t.in;return"indexof(["+r.map(function(e){return p(e,t.timeUnit)}).join(",")+"], "+n+") !== -1"}if(c(t)){var i=t.range[0],a=t.range[1];if(null!==i&&null!==a)return"inrange("+n+", "+p(i,t.timeUnit)+", "+p(a,t.timeUnit)+")";if(null!==i)return n+" >= "+i;if(null!==a)return n+" <= "+a}})}function p(e,t){if(m.isDateTime(e)){var n=m.dateTimeExpr(e,!0);return"time("+n+")"}if(y.isSingleTimeUnit(t)){var r={};r[t]=e;var n=m.dateTimeExpr(r,!0);return"time("+n+")"}return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0});var h=n(r),m=n(i),g=n(a),y=n(o),v=n(s);t.isSelectionFilter=u,t.isEqualFilter=l,t.isRangeFilter=c,t.isOneOfFilter=f,t.expression=d},function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(e,n,r){var i=y.isMarkDef(e)?e.type:e;if(!b.contains(t.STACKABLE_MARKS,i))return null;if(!h.isAggregate(n))return null;var a=p.STACK_BY_CHANNELS.reduce(function(e,t){if(h.channelHasField(n,t)){var r=n[t];(b.isArray(r)?r:[r]).forEach(function(n){var r=m.getFieldDef(n);r.aggregate||e.push({channel:t,fieldDef:r})})}return e},[]);if(0===a.length)return null;var o=m.isFieldDef(n.x),s=m.isFieldDef(n.y),u=m.isFieldDef(n.x)&&!!n.x.aggregate,l=m.isFieldDef(n.y)&&!!n.y.aggregate;if(u!==l){var c=u?p.X:p.Y,f=n[c],_=f.aggregate,x=f.scale,S=null;return S=void 0!==f.stack?f.stack:b.contains(t.STACK_BY_DEFAULT_MARKS,i)&&void 0===r?"zero":r,S&&"none"!==S?x&&x.type&&x.type!==v.ScaleType.LINEAR?(g.warn(g.message.cannotStackNonLinearScale(x.type)),null):h.channelHasField(n,c===p.X?p.X2:p.Y2)?(g.warn(g.message.cannotStackRangedMark(c)),null):b.contains(d.SUM_OPS,_)?{groupbyChannel:u?s?p.Y:null:o?p.X:null,fieldChannel:c,stackBy:a,offset:S}:(g.warn(g.message.cannotStackNonSummativeAggregate(_)),null):null}return null}Object.defineProperty(t,"__esModule",{value:!0});var d=n(r),p=n(i),h=n(a),m=n(o),g=n(s),y=n(u),v=n(l),b=n(c);t.STACKABLE_MARKS=[y.BAR,y.AREA,y.RULE,y.POINT,y.CIRCLE,y.SQUARE,y.LINE,y.TEXT,y.TICK],t.STACK_BY_DEFAULT_MARKS=[y.BAR,y.AREA],t.stack=f},function(e,t,n,r){"use strict";function i(e,t){var n={};return t.forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}function a(e,t){var n=_(e);return t.forEach(function(e){delete n[e]}),n}function o(e){return k.isString(e)||k.isNumber(e)||x(e)?String(e):O(e)}function s(e,t){return e.indexOf(t)>-1}function u(e,t){return e.filter(function(e){return!s(t,e)})}function l(e,t){return e.concat(u(t,e))}function c(e,t){for(var n=0,r=0;r<e.length;r++)if(t(e[r],r,n++))return!0;return!1}function f(e,t){for(var n=0,r=0;r<e.length;r++)if(!t(e[r],r,n++))return!1;return!0}function d(e){return[].concat.apply([],e)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var a=i[r];e=h(e,a)}return e}function h(e,t){if("object"!=typeof t||null===t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&("object"!=typeof t[n]||k.isArray(t[n])||null===t[n]?e[n]=t[n]:"object"!=typeof e[n]||null===e[n]?e[n]=p(t[n].constructor===Array?[]:{},t[n]):p(e[n],t[n]));return e}function m(e,t){for(var n,r=[],i={},a=0,o=e;a<o.length;a++){var s=o[a];n=t(s),n in i||(i[n]=1,r.push(s))}return r}function g(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t[n]&&e[n]&&t[n]!==e[n])return!0;return!1}function y(e,t){for(var n in e)if(n in t)return!0;return!1}function v(e,t){if(e.length!==t.length)return!0;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!0;return!1}function b(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function _(e){return JSON.parse(JSON.stringify(e))}function x(e){return e===!0||e===!1}function S(e){var t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function w(e,t){return E.isLogicalNot(e)?"!("+w(e.not,t)+")":E.isLogicalAnd(e)?"("+e.and.map(function(e){return w(e,t)}).join(") && (")+")":E.isLogicalOr(e)?"("+e.or.map(function(e){return w(e,t)}).join(") || (")+")":t(e)}Object.defineProperty(t,"__esModule",{value:!0});var O=n(81),k=n(7),E=n(r),M=n(7);t.extend=M.extend,t.isArray=M.isArray,t.isObject=M.isObject,t.isNumber=M.isNumber,t.isString=M.isString,t.truncate=M.truncate,t.toSet=M.toSet,t.stringValue=M.stringValue,t.pick=i,t.omit=a,t.hash=o,t.contains=s,t.without=u,t.union=l,t.some=c,t.every=f,t.flatten=d,t.mergeDeep=p,t.unique=m,t.differ=g,t.hasIntersection=y,t.differArray=v,t.keys=Object.keys,t.vals=b,t.duplicate=_,t.isBoolean=x,t.varName=S,t.logicalExpr=w},function(e,t,n,r,i,a){"use strict";function o(e,n,r){void 0===n&&(n=t.DEFAULT_REQUIRED_CHANNEL_MAP),void 0===r&&(r=t.DEFAULT_SUPPORTED_CHANNEL_TYPE);var i=s.isMarkDef(e.mark)?e.mark.type:e.mark,a=e.encoding,o=n[i],l=r[i];for(var c in o)if(!(o[c]in a))return'Missing encoding channel "'+o[c]+'" for mark "'+i+'"';for(var f in a)if(!l[f])return'Encoding channel "'+f+'" is not supported by mark type "'+i+'"';return i!==u.BAR||a.x||a.y?null:"Missing both x and y for bar"}Object.defineProperty(t,"__esModule",{value:!0});var s=n(r),u=n(i),l=n(a);t.DEFAULT_REQUIRED_CHANNEL_MAP={text:["text"],line:["x","y"],area:["x","y"]},t.DEFAULT_SUPPORTED_CHANNEL_TYPE={bar:l.toSet(["row","column","x","y","size","color","detail"]),line:l.toSet(["row","column","x","y","color","detail"]),area:l.toSet(["row","column","x","y","color","detail"]),tick:l.toSet(["row","column","x","y","color","detail"]),circle:l.toSet(["row","column","x","y","color","size","detail"]),square:l.toSet(["row","column","x","y","color","size","detail"]),point:l.toSet(["row","column","x","y","color","size","detail","shape"]),text:l.toSet(["row","column","size","color","text"])},t.getEncodingMappingError=o},function(e,t,n,r){"use strict";function i(e){return!!e.step}function a(e){return!l.isArray(e)&&("fields"in e&&!("data"in e))}function o(e){return!l.isArray(e)&&("fields"in e&&"data"in e)}function s(e){return!l.isArray(e)&&("field"in e&&"data"in e)}function u(e){return!l.isArray(e)&&"signal"in e}Object.defineProperty(t,"__esModule",{value:!0});var l=n(r);t.isVgRangeStep=i,t.isDataRefUnionedDomain=a,t.isFieldRefUnionDomain=o,t.isDataRefDomain=s,t.isSignalRefDomain=u},function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,g,y,v,b,_,x,S,w,O,k,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.axis=n(r),t.aggregate=n(i),t.bin=n(a),t.channel=n(o),t.compositeMark=n(s);var M=n(u);t.compile=M.compile,t.config=n(l),t.data=n(c),t.datetime=n(f),t.encoding=n(d),t.facet=n(p),t.fieldDef=n(h),t.legend=n(m),t.mark=n(g),t.scale=n(y),t.sort=n(v),t.spec=n(b),t.stack=n(_),t.timeUnit=n(x),t.transform=n(S),t.type=n(w),t.util=n(O),t.validate=n(k),t.version=n(E).version}]));
//# sourceMappingURL=main.a4a7aa2b.js.map